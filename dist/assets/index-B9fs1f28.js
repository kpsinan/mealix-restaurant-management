var wC=Object.defineProperty;var xC=(t,e,n)=>e in t?wC(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n;var sn=(t,e,n)=>xC(t,typeof e!="symbol"?e+"":e,n);function bC(t,e){for(var n=0;n<e.length;n++){const r=e[n];if(typeof r!="string"&&!Array.isArray(r)){for(const i in r)if(i!=="default"&&!(i in t)){const s=Object.getOwnPropertyDescriptor(r,i);s&&Object.defineProperty(t,i,s.get?s:{enumerable:!0,get:()=>r[i]})}}}return Object.freeze(Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}))}(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))r(i);new MutationObserver(i=>{for(const s of i)if(s.type==="childList")for(const o of s.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&r(o)}).observe(document,{childList:!0,subtree:!0});function n(i){const s={};return i.integrity&&(s.integrity=i.integrity),i.referrerPolicy&&(s.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?s.credentials="include":i.crossOrigin==="anonymous"?s.credentials="omit":s.credentials="same-origin",s}function r(i){if(i.ep)return;i.ep=!0;const s=n(i);fetch(i.href,s)}})();var SH=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function _C(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}var A_={exports:{}},j0={},N_={exports:{}},Dt={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Of=Symbol.for("react.element"),SC=Symbol.for("react.portal"),AC=Symbol.for("react.fragment"),NC=Symbol.for("react.strict_mode"),EC=Symbol.for("react.profiler"),TC=Symbol.for("react.provider"),CC=Symbol.for("react.context"),kC=Symbol.for("react.forward_ref"),PC=Symbol.for("react.suspense"),IC=Symbol.for("react.memo"),LC=Symbol.for("react.lazy"),fw=Symbol.iterator;function RC(t){return t===null||typeof t!="object"?null:(t=fw&&t[fw]||t["@@iterator"],typeof t=="function"?t:null)}var E_={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},T_=Object.assign,C_={};function Pc(t,e,n){this.props=t,this.context=e,this.refs=C_,this.updater=n||E_}Pc.prototype.isReactComponent={};Pc.prototype.setState=function(t,e){if(typeof t!="object"&&typeof t!="function"&&t!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,t,e,"setState")};Pc.prototype.forceUpdate=function(t){this.updater.enqueueForceUpdate(this,t,"forceUpdate")};function k_(){}k_.prototype=Pc.prototype;function oy(t,e,n){this.props=t,this.context=e,this.refs=C_,this.updater=n||E_}var ay=oy.prototype=new k_;ay.constructor=oy;T_(ay,Pc.prototype);ay.isPureReactComponent=!0;var dw=Array.isArray,P_=Object.prototype.hasOwnProperty,ly={current:null},I_={key:!0,ref:!0,__self:!0,__source:!0};function L_(t,e,n){var r,i={},s=null,o=null;if(e!=null)for(r in e.ref!==void 0&&(o=e.ref),e.key!==void 0&&(s=""+e.key),e)P_.call(e,r)&&!I_.hasOwnProperty(r)&&(i[r]=e[r]);var a=arguments.length-2;if(a===1)i.children=n;else if(1<a){for(var l=Array(a),u=0;u<a;u++)l[u]=arguments[u+2];i.children=l}if(t&&t.defaultProps)for(r in a=t.defaultProps,a)i[r]===void 0&&(i[r]=a[r]);return{$$typeof:Of,type:t,key:s,ref:o,props:i,_owner:ly.current}}function jC(t,e){return{$$typeof:Of,type:t.type,key:e,ref:t.ref,props:t.props,_owner:t._owner}}function uy(t){return typeof t=="object"&&t!==null&&t.$$typeof===Of}function DC(t){var e={"=":"=0",":":"=2"};return"$"+t.replace(/[=:]/g,function(n){return e[n]})}var pw=/\/+/g;function Mm(t,e){return typeof t=="object"&&t!==null&&t.key!=null?DC(""+t.key):e.toString(36)}function lp(t,e,n,r,i){var s=typeof t;(s==="undefined"||s==="boolean")&&(t=null);var o=!1;if(t===null)o=!0;else switch(s){case"string":case"number":o=!0;break;case"object":switch(t.$$typeof){case Of:case SC:o=!0}}if(o)return o=t,i=i(o),t=r===""?"."+Mm(o,0):r,dw(i)?(n="",t!=null&&(n=t.replace(pw,"$&/")+"/"),lp(i,e,n,"",function(u){return u})):i!=null&&(uy(i)&&(i=jC(i,n+(!i.key||o&&o.key===i.key?"":(""+i.key).replace(pw,"$&/")+"/")+t)),e.push(i)),1;if(o=0,r=r===""?".":r+":",dw(t))for(var a=0;a<t.length;a++){s=t[a];var l=r+Mm(s,a);o+=lp(s,e,n,l,i)}else if(l=RC(t),typeof l=="function")for(t=l.call(t),a=0;!(s=t.next()).done;)s=s.value,l=r+Mm(s,a++),o+=lp(s,e,n,l,i);else if(s==="object")throw e=String(t),Error("Objects are not valid as a React child (found: "+(e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e)+"). If you meant to render a collection of children, use an array instead.");return o}function Cd(t,e,n){if(t==null)return t;var r=[],i=0;return lp(t,r,"","",function(s){return e.call(n,s,i++)}),r}function MC(t){if(t._status===-1){var e=t._result;e=e(),e.then(function(n){(t._status===0||t._status===-1)&&(t._status=1,t._result=n)},function(n){(t._status===0||t._status===-1)&&(t._status=2,t._result=n)}),t._status===-1&&(t._status=0,t._result=e)}if(t._status===1)return t._result.default;throw t._result}var gi={current:null},up={transition:null},FC={ReactCurrentDispatcher:gi,ReactCurrentBatchConfig:up,ReactCurrentOwner:ly};function R_(){throw Error("act(...) is not supported in production builds of React.")}Dt.Children={map:Cd,forEach:function(t,e,n){Cd(t,function(){e.apply(this,arguments)},n)},count:function(t){var e=0;return Cd(t,function(){e++}),e},toArray:function(t){return Cd(t,function(e){return e})||[]},only:function(t){if(!uy(t))throw Error("React.Children.only expected to receive a single React element child.");return t}};Dt.Component=Pc;Dt.Fragment=AC;Dt.Profiler=EC;Dt.PureComponent=oy;Dt.StrictMode=NC;Dt.Suspense=PC;Dt.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=FC;Dt.act=R_;Dt.cloneElement=function(t,e,n){if(t==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+t+".");var r=T_({},t.props),i=t.key,s=t.ref,o=t._owner;if(e!=null){if(e.ref!==void 0&&(s=e.ref,o=ly.current),e.key!==void 0&&(i=""+e.key),t.type&&t.type.defaultProps)var a=t.type.defaultProps;for(l in e)P_.call(e,l)&&!I_.hasOwnProperty(l)&&(r[l]=e[l]===void 0&&a!==void 0?a[l]:e[l])}var l=arguments.length-2;if(l===1)r.children=n;else if(1<l){a=Array(l);for(var u=0;u<l;u++)a[u]=arguments[u+2];r.children=a}return{$$typeof:Of,type:t.type,key:i,ref:s,props:r,_owner:o}};Dt.createContext=function(t){return t={$$typeof:CC,_currentValue:t,_currentValue2:t,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},t.Provider={$$typeof:TC,_context:t},t.Consumer=t};Dt.createElement=L_;Dt.createFactory=function(t){var e=L_.bind(null,t);return e.type=t,e};Dt.createRef=function(){return{current:null}};Dt.forwardRef=function(t){return{$$typeof:kC,render:t}};Dt.isValidElement=uy;Dt.lazy=function(t){return{$$typeof:LC,_payload:{_status:-1,_result:t},_init:MC}};Dt.memo=function(t,e){return{$$typeof:IC,type:t,compare:e===void 0?null:e}};Dt.startTransition=function(t){var e=up.transition;up.transition={};try{t()}finally{up.transition=e}};Dt.unstable_act=R_;Dt.useCallback=function(t,e){return gi.current.useCallback(t,e)};Dt.useContext=function(t){return gi.current.useContext(t)};Dt.useDebugValue=function(){};Dt.useDeferredValue=function(t){return gi.current.useDeferredValue(t)};Dt.useEffect=function(t,e){return gi.current.useEffect(t,e)};Dt.useId=function(){return gi.current.useId()};Dt.useImperativeHandle=function(t,e,n){return gi.current.useImperativeHandle(t,e,n)};Dt.useInsertionEffect=function(t,e){return gi.current.useInsertionEffect(t,e)};Dt.useLayoutEffect=function(t,e){return gi.current.useLayoutEffect(t,e)};Dt.useMemo=function(t,e){return gi.current.useMemo(t,e)};Dt.useReducer=function(t,e,n){return gi.current.useReducer(t,e,n)};Dt.useRef=function(t){return gi.current.useRef(t)};Dt.useState=function(t){return gi.current.useState(t)};Dt.useSyncExternalStore=function(t,e,n){return gi.current.useSyncExternalStore(t,e,n)};Dt.useTransition=function(){return gi.current.useTransition()};Dt.version="18.3.1";N_.exports=Dt;var G=N_.exports;const on=_C(G),OC=bC({__proto__:null,default:on},[G]);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var VC=G,BC=Symbol.for("react.element"),UC=Symbol.for("react.fragment"),zC=Object.prototype.hasOwnProperty,qC=VC.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,$C={key:!0,ref:!0,__self:!0,__source:!0};function j_(t,e,n){var r,i={},s=null,o=null;n!==void 0&&(s=""+n),e.key!==void 0&&(s=""+e.key),e.ref!==void 0&&(o=e.ref);for(r in e)zC.call(e,r)&&!$C.hasOwnProperty(r)&&(i[r]=e[r]);if(t&&t.defaultProps)for(r in e=t.defaultProps,e)i[r]===void 0&&(i[r]=e[r]);return{$$typeof:BC,type:t,key:s,ref:o,props:i,_owner:qC.current}}j0.Fragment=UC;j0.jsx=j_;j0.jsxs=j_;A_.exports=j0;var m=A_.exports,sg={},D_={exports:{}},ns={},M_={exports:{}},F_={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(t){function e(ee,oe){var ge=ee.length;ee.push(oe);e:for(;0<ge;){var xe=ge-1>>>1,V=ee[xe];if(0<i(V,oe))ee[xe]=oe,ee[ge]=V,ge=xe;else break e}}function n(ee){return ee.length===0?null:ee[0]}function r(ee){if(ee.length===0)return null;var oe=ee[0],ge=ee.pop();if(ge!==oe){ee[0]=ge;e:for(var xe=0,V=ee.length,Q=V>>>1;xe<Q;){var te=2*(xe+1)-1,ie=ee[te],le=te+1,pe=ee[le];if(0>i(ie,ge))le<V&&0>i(pe,ie)?(ee[xe]=pe,ee[le]=ge,xe=le):(ee[xe]=ie,ee[te]=ge,xe=te);else if(le<V&&0>i(pe,ge))ee[xe]=pe,ee[le]=ge,xe=le;else break e}}return oe}function i(ee,oe){var ge=ee.sortIndex-oe.sortIndex;return ge!==0?ge:ee.id-oe.id}if(typeof performance=="object"&&typeof performance.now=="function"){var s=performance;t.unstable_now=function(){return s.now()}}else{var o=Date,a=o.now();t.unstable_now=function(){return o.now()-a}}var l=[],u=[],c=1,d=null,g=3,p=!1,b=!1,x=!1,A=typeof setTimeout=="function"?setTimeout:null,v=typeof clearTimeout=="function"?clearTimeout:null,_=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function T(ee){for(var oe=n(u);oe!==null;){if(oe.callback===null)r(u);else if(oe.startTime<=ee)r(u),oe.sortIndex=oe.expirationTime,e(l,oe);else break;oe=n(u)}}function R(ee){if(x=!1,T(ee),!b)if(n(l)!==null)b=!0,ce(z);else{var oe=n(u);oe!==null&&ae(R,oe.startTime-ee)}}function z(ee,oe){b=!1,x&&(x=!1,v(C),C=-1),p=!0;var ge=g;try{for(T(oe),d=n(l);d!==null&&(!(d.expirationTime>oe)||ee&&!E());){var xe=d.callback;if(typeof xe=="function"){d.callback=null,g=d.priorityLevel;var V=xe(d.expirationTime<=oe);oe=t.unstable_now(),typeof V=="function"?d.callback=V:d===n(l)&&r(l),T(oe)}else r(l);d=n(l)}if(d!==null)var Q=!0;else{var te=n(u);te!==null&&ae(R,te.startTime-oe),Q=!1}return Q}finally{d=null,g=ge,p=!1}}var K=!1,k=null,C=-1,P=5,M=-1;function E(){return!(t.unstable_now()-M<P)}function L(){if(k!==null){var ee=t.unstable_now();M=ee;var oe=!0;try{oe=k(!0,ee)}finally{oe?j():(K=!1,k=null)}}else K=!1}var j;if(typeof _=="function")j=function(){_(L)};else if(typeof MessageChannel<"u"){var H=new MessageChannel,ne=H.port2;H.port1.onmessage=L,j=function(){ne.postMessage(null)}}else j=function(){A(L,0)};function ce(ee){k=ee,K||(K=!0,j())}function ae(ee,oe){C=A(function(){ee(t.unstable_now())},oe)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(ee){ee.callback=null},t.unstable_continueExecution=function(){b||p||(b=!0,ce(z))},t.unstable_forceFrameRate=function(ee){0>ee||125<ee?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):P=0<ee?Math.floor(1e3/ee):5},t.unstable_getCurrentPriorityLevel=function(){return g},t.unstable_getFirstCallbackNode=function(){return n(l)},t.unstable_next=function(ee){switch(g){case 1:case 2:case 3:var oe=3;break;default:oe=g}var ge=g;g=oe;try{return ee()}finally{g=ge}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(ee,oe){switch(ee){case 1:case 2:case 3:case 4:case 5:break;default:ee=3}var ge=g;g=ee;try{return oe()}finally{g=ge}},t.unstable_scheduleCallback=function(ee,oe,ge){var xe=t.unstable_now();switch(typeof ge=="object"&&ge!==null?(ge=ge.delay,ge=typeof ge=="number"&&0<ge?xe+ge:xe):ge=xe,ee){case 1:var V=-1;break;case 2:V=250;break;case 5:V=1073741823;break;case 4:V=1e4;break;default:V=5e3}return V=ge+V,ee={id:c++,callback:oe,priorityLevel:ee,startTime:ge,expirationTime:V,sortIndex:-1},ge>xe?(ee.sortIndex=ge,e(u,ee),n(l)===null&&ee===n(u)&&(x?(v(C),C=-1):x=!0,ae(R,ge-xe))):(ee.sortIndex=V,e(l,ee),b||p||(b=!0,ce(z))),ee},t.unstable_shouldYield=E,t.unstable_wrapCallback=function(ee){var oe=g;return function(){var ge=g;g=oe;try{return ee.apply(this,arguments)}finally{g=ge}}}})(F_);M_.exports=F_;var HC=M_.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var WC=G,ts=HC;function Fe(t){for(var e="https://reactjs.org/docs/error-decoder.html?invariant="+t,n=1;n<arguments.length;n++)e+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+t+"; visit "+e+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var O_=new Set,Zh={};function hu(t,e){fc(t,e),fc(t+"Capture",e)}function fc(t,e){for(Zh[t]=e,t=0;t<e.length;t++)O_.add(e[t])}var Qo=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),og=Object.prototype.hasOwnProperty,GC=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,mw={},gw={};function KC(t){return og.call(gw,t)?!0:og.call(mw,t)?!1:GC.test(t)?gw[t]=!0:(mw[t]=!0,!1)}function QC(t,e,n,r){if(n!==null&&n.type===0)return!1;switch(typeof e){case"function":case"symbol":return!0;case"boolean":return r?!1:n!==null?!n.acceptsBooleans:(t=t.toLowerCase().slice(0,5),t!=="data-"&&t!=="aria-");default:return!1}}function YC(t,e,n,r){if(e===null||typeof e>"u"||QC(t,e,n,r))return!0;if(r)return!1;if(n!==null)switch(n.type){case 3:return!e;case 4:return e===!1;case 5:return isNaN(e);case 6:return isNaN(e)||1>e}return!1}function yi(t,e,n,r,i,s,o){this.acceptsBooleans=e===2||e===3||e===4,this.attributeName=r,this.attributeNamespace=i,this.mustUseProperty=n,this.propertyName=t,this.type=e,this.sanitizeURL=s,this.removeEmptyString=o}var Vr={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(t){Vr[t]=new yi(t,0,!1,t,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(t){var e=t[0];Vr[e]=new yi(e,1,!1,t[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(t){Vr[t]=new yi(t,2,!1,t.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(t){Vr[t]=new yi(t,2,!1,t,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(t){Vr[t]=new yi(t,3,!1,t.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(t){Vr[t]=new yi(t,3,!0,t,null,!1,!1)});["capture","download"].forEach(function(t){Vr[t]=new yi(t,4,!1,t,null,!1,!1)});["cols","rows","size","span"].forEach(function(t){Vr[t]=new yi(t,6,!1,t,null,!1,!1)});["rowSpan","start"].forEach(function(t){Vr[t]=new yi(t,5,!1,t.toLowerCase(),null,!1,!1)});var cy=/[\-:]([a-z])/g;function hy(t){return t[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(t){var e=t.replace(cy,hy);Vr[e]=new yi(e,1,!1,t,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(t){var e=t.replace(cy,hy);Vr[e]=new yi(e,1,!1,t,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(t){var e=t.replace(cy,hy);Vr[e]=new yi(e,1,!1,t,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(t){Vr[t]=new yi(t,1,!1,t.toLowerCase(),null,!1,!1)});Vr.xlinkHref=new yi("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(t){Vr[t]=new yi(t,1,!1,t.toLowerCase(),null,!0,!0)});function fy(t,e,n,r){var i=Vr.hasOwnProperty(e)?Vr[e]:null;(i!==null?i.type!==0:r||!(2<e.length)||e[0]!=="o"&&e[0]!=="O"||e[1]!=="n"&&e[1]!=="N")&&(YC(e,n,i,r)&&(n=null),r||i===null?KC(e)&&(n===null?t.removeAttribute(e):t.setAttribute(e,""+n)):i.mustUseProperty?t[i.propertyName]=n===null?i.type===3?!1:"":n:(e=i.attributeName,r=i.attributeNamespace,n===null?t.removeAttribute(e):(i=i.type,n=i===3||i===4&&n===!0?"":""+n,r?t.setAttributeNS(r,e,n):t.setAttribute(e,n))))}var sa=WC.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,kd=Symbol.for("react.element"),ju=Symbol.for("react.portal"),Du=Symbol.for("react.fragment"),dy=Symbol.for("react.strict_mode"),ag=Symbol.for("react.profiler"),V_=Symbol.for("react.provider"),B_=Symbol.for("react.context"),py=Symbol.for("react.forward_ref"),lg=Symbol.for("react.suspense"),ug=Symbol.for("react.suspense_list"),my=Symbol.for("react.memo"),Ra=Symbol.for("react.lazy"),U_=Symbol.for("react.offscreen"),yw=Symbol.iterator;function ch(t){return t===null||typeof t!="object"?null:(t=yw&&t[yw]||t["@@iterator"],typeof t=="function"?t:null)}var On=Object.assign,Fm;function Sh(t){if(Fm===void 0)try{throw Error()}catch(n){var e=n.stack.trim().match(/\n( *(at )?)/);Fm=e&&e[1]||""}return`
`+Fm+t}var Om=!1;function Vm(t,e){if(!t||Om)return"";Om=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(e)if(e=function(){throw Error()},Object.defineProperty(e.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(e,[])}catch(u){var r=u}Reflect.construct(t,[],e)}else{try{e.call()}catch(u){r=u}t.call(e.prototype)}else{try{throw Error()}catch(u){r=u}t()}}catch(u){if(u&&r&&typeof u.stack=="string"){for(var i=u.stack.split(`
`),s=r.stack.split(`
`),o=i.length-1,a=s.length-1;1<=o&&0<=a&&i[o]!==s[a];)a--;for(;1<=o&&0<=a;o--,a--)if(i[o]!==s[a]){if(o!==1||a!==1)do if(o--,a--,0>a||i[o]!==s[a]){var l=`
`+i[o].replace(" at new "," at ");return t.displayName&&l.includes("<anonymous>")&&(l=l.replace("<anonymous>",t.displayName)),l}while(1<=o&&0<=a);break}}}finally{Om=!1,Error.prepareStackTrace=n}return(t=t?t.displayName||t.name:"")?Sh(t):""}function XC(t){switch(t.tag){case 5:return Sh(t.type);case 16:return Sh("Lazy");case 13:return Sh("Suspense");case 19:return Sh("SuspenseList");case 0:case 2:case 15:return t=Vm(t.type,!1),t;case 11:return t=Vm(t.type.render,!1),t;case 1:return t=Vm(t.type,!0),t;default:return""}}function cg(t){if(t==null)return null;if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case Du:return"Fragment";case ju:return"Portal";case ag:return"Profiler";case dy:return"StrictMode";case lg:return"Suspense";case ug:return"SuspenseList"}if(typeof t=="object")switch(t.$$typeof){case B_:return(t.displayName||"Context")+".Consumer";case V_:return(t._context.displayName||"Context")+".Provider";case py:var e=t.render;return t=t.displayName,t||(t=e.displayName||e.name||"",t=t!==""?"ForwardRef("+t+")":"ForwardRef"),t;case my:return e=t.displayName||null,e!==null?e:cg(t.type)||"Memo";case Ra:e=t._payload,t=t._init;try{return cg(t(e))}catch{}}return null}function JC(t){var e=t.type;switch(t.tag){case 24:return"Cache";case 9:return(e.displayName||"Context")+".Consumer";case 10:return(e._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return t=e.render,t=t.displayName||t.name||"",e.displayName||(t!==""?"ForwardRef("+t+")":"ForwardRef");case 7:return"Fragment";case 5:return e;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return cg(e);case 8:return e===dy?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e}return null}function el(t){switch(typeof t){case"boolean":case"number":case"string":case"undefined":return t;case"object":return t;default:return""}}function z_(t){var e=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(e==="checkbox"||e==="radio")}function ZC(t){var e=z_(t)?"checked":"value",n=Object.getOwnPropertyDescriptor(t.constructor.prototype,e),r=""+t[e];if(!t.hasOwnProperty(e)&&typeof n<"u"&&typeof n.get=="function"&&typeof n.set=="function"){var i=n.get,s=n.set;return Object.defineProperty(t,e,{configurable:!0,get:function(){return i.call(this)},set:function(o){r=""+o,s.call(this,o)}}),Object.defineProperty(t,e,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(o){r=""+o},stopTracking:function(){t._valueTracker=null,delete t[e]}}}}function Pd(t){t._valueTracker||(t._valueTracker=ZC(t))}function q_(t){if(!t)return!1;var e=t._valueTracker;if(!e)return!0;var n=e.getValue(),r="";return t&&(r=z_(t)?t.checked?"true":"false":t.value),t=r,t!==n?(e.setValue(t),!0):!1}function Dp(t){if(t=t||(typeof document<"u"?document:void 0),typeof t>"u")return null;try{return t.activeElement||t.body}catch{return t.body}}function hg(t,e){var n=e.checked;return On({},e,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:n??t._wrapperState.initialChecked})}function vw(t,e){var n=e.defaultValue==null?"":e.defaultValue,r=e.checked!=null?e.checked:e.defaultChecked;n=el(e.value!=null?e.value:n),t._wrapperState={initialChecked:r,initialValue:n,controlled:e.type==="checkbox"||e.type==="radio"?e.checked!=null:e.value!=null}}function $_(t,e){e=e.checked,e!=null&&fy(t,"checked",e,!1)}function fg(t,e){$_(t,e);var n=el(e.value),r=e.type;if(n!=null)r==="number"?(n===0&&t.value===""||t.value!=n)&&(t.value=""+n):t.value!==""+n&&(t.value=""+n);else if(r==="submit"||r==="reset"){t.removeAttribute("value");return}e.hasOwnProperty("value")?dg(t,e.type,n):e.hasOwnProperty("defaultValue")&&dg(t,e.type,el(e.defaultValue)),e.checked==null&&e.defaultChecked!=null&&(t.defaultChecked=!!e.defaultChecked)}function ww(t,e,n){if(e.hasOwnProperty("value")||e.hasOwnProperty("defaultValue")){var r=e.type;if(!(r!=="submit"&&r!=="reset"||e.value!==void 0&&e.value!==null))return;e=""+t._wrapperState.initialValue,n||e===t.value||(t.value=e),t.defaultValue=e}n=t.name,n!==""&&(t.name=""),t.defaultChecked=!!t._wrapperState.initialChecked,n!==""&&(t.name=n)}function dg(t,e,n){(e!=="number"||Dp(t.ownerDocument)!==t)&&(n==null?t.defaultValue=""+t._wrapperState.initialValue:t.defaultValue!==""+n&&(t.defaultValue=""+n))}var Ah=Array.isArray;function Zu(t,e,n,r){if(t=t.options,e){e={};for(var i=0;i<n.length;i++)e["$"+n[i]]=!0;for(n=0;n<t.length;n++)i=e.hasOwnProperty("$"+t[n].value),t[n].selected!==i&&(t[n].selected=i),i&&r&&(t[n].defaultSelected=!0)}else{for(n=""+el(n),e=null,i=0;i<t.length;i++){if(t[i].value===n){t[i].selected=!0,r&&(t[i].defaultSelected=!0);return}e!==null||t[i].disabled||(e=t[i])}e!==null&&(e.selected=!0)}}function pg(t,e){if(e.dangerouslySetInnerHTML!=null)throw Error(Fe(91));return On({},e,{value:void 0,defaultValue:void 0,children:""+t._wrapperState.initialValue})}function xw(t,e){var n=e.value;if(n==null){if(n=e.children,e=e.defaultValue,n!=null){if(e!=null)throw Error(Fe(92));if(Ah(n)){if(1<n.length)throw Error(Fe(93));n=n[0]}e=n}e==null&&(e=""),n=e}t._wrapperState={initialValue:el(n)}}function H_(t,e){var n=el(e.value),r=el(e.defaultValue);n!=null&&(n=""+n,n!==t.value&&(t.value=n),e.defaultValue==null&&t.defaultValue!==n&&(t.defaultValue=n)),r!=null&&(t.defaultValue=""+r)}function bw(t){var e=t.textContent;e===t._wrapperState.initialValue&&e!==""&&e!==null&&(t.value=e)}function W_(t){switch(t){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function mg(t,e){return t==null||t==="http://www.w3.org/1999/xhtml"?W_(e):t==="http://www.w3.org/2000/svg"&&e==="foreignObject"?"http://www.w3.org/1999/xhtml":t}var Id,G_=function(t){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(e,n,r,i){MSApp.execUnsafeLocalFunction(function(){return t(e,n,r,i)})}:t}(function(t,e){if(t.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in t)t.innerHTML=e;else{for(Id=Id||document.createElement("div"),Id.innerHTML="<svg>"+e.valueOf().toString()+"</svg>",e=Id.firstChild;t.firstChild;)t.removeChild(t.firstChild);for(;e.firstChild;)t.appendChild(e.firstChild)}});function ef(t,e){if(e){var n=t.firstChild;if(n&&n===t.lastChild&&n.nodeType===3){n.nodeValue=e;return}}t.textContent=e}var Lh={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},ek=["Webkit","ms","Moz","O"];Object.keys(Lh).forEach(function(t){ek.forEach(function(e){e=e+t.charAt(0).toUpperCase()+t.substring(1),Lh[e]=Lh[t]})});function K_(t,e,n){return e==null||typeof e=="boolean"||e===""?"":n||typeof e!="number"||e===0||Lh.hasOwnProperty(t)&&Lh[t]?(""+e).trim():e+"px"}function Q_(t,e){t=t.style;for(var n in e)if(e.hasOwnProperty(n)){var r=n.indexOf("--")===0,i=K_(n,e[n],r);n==="float"&&(n="cssFloat"),r?t.setProperty(n,i):t[n]=i}}var tk=On({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function gg(t,e){if(e){if(tk[t]&&(e.children!=null||e.dangerouslySetInnerHTML!=null))throw Error(Fe(137,t));if(e.dangerouslySetInnerHTML!=null){if(e.children!=null)throw Error(Fe(60));if(typeof e.dangerouslySetInnerHTML!="object"||!("__html"in e.dangerouslySetInnerHTML))throw Error(Fe(61))}if(e.style!=null&&typeof e.style!="object")throw Error(Fe(62))}}function yg(t,e){if(t.indexOf("-")===-1)return typeof e.is=="string";switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var vg=null;function gy(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var wg=null,ec=null,tc=null;function _w(t){if(t=Uf(t)){if(typeof wg!="function")throw Error(Fe(280));var e=t.stateNode;e&&(e=V0(e),wg(t.stateNode,t.type,e))}}function Y_(t){ec?tc?tc.push(t):tc=[t]:ec=t}function X_(){if(ec){var t=ec,e=tc;if(tc=ec=null,_w(t),e)for(t=0;t<e.length;t++)_w(e[t])}}function J_(t,e){return t(e)}function Z_(){}var Bm=!1;function e6(t,e,n){if(Bm)return t(e,n);Bm=!0;try{return J_(t,e,n)}finally{Bm=!1,(ec!==null||tc!==null)&&(Z_(),X_())}}function tf(t,e){var n=t.stateNode;if(n===null)return null;var r=V0(n);if(r===null)return null;n=r[e];e:switch(e){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(t=t.type,r=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!r;break e;default:t=!1}if(t)return null;if(n&&typeof n!="function")throw Error(Fe(231,e,typeof n));return n}var xg=!1;if(Qo)try{var hh={};Object.defineProperty(hh,"passive",{get:function(){xg=!0}}),window.addEventListener("test",hh,hh),window.removeEventListener("test",hh,hh)}catch{xg=!1}function nk(t,e,n,r,i,s,o,a,l){var u=Array.prototype.slice.call(arguments,3);try{e.apply(n,u)}catch(c){this.onError(c)}}var Rh=!1,Mp=null,Fp=!1,bg=null,rk={onError:function(t){Rh=!0,Mp=t}};function ik(t,e,n,r,i,s,o,a,l){Rh=!1,Mp=null,nk.apply(rk,arguments)}function sk(t,e,n,r,i,s,o,a,l){if(ik.apply(this,arguments),Rh){if(Rh){var u=Mp;Rh=!1,Mp=null}else throw Error(Fe(198));Fp||(Fp=!0,bg=u)}}function fu(t){var e=t,n=t;if(t.alternate)for(;e.return;)e=e.return;else{t=e;do e=t,e.flags&4098&&(n=e.return),t=e.return;while(t)}return e.tag===3?n:null}function t6(t){if(t.tag===13){var e=t.memoizedState;if(e===null&&(t=t.alternate,t!==null&&(e=t.memoizedState)),e!==null)return e.dehydrated}return null}function Sw(t){if(fu(t)!==t)throw Error(Fe(188))}function ok(t){var e=t.alternate;if(!e){if(e=fu(t),e===null)throw Error(Fe(188));return e!==t?null:t}for(var n=t,r=e;;){var i=n.return;if(i===null)break;var s=i.alternate;if(s===null){if(r=i.return,r!==null){n=r;continue}break}if(i.child===s.child){for(s=i.child;s;){if(s===n)return Sw(i),t;if(s===r)return Sw(i),e;s=s.sibling}throw Error(Fe(188))}if(n.return!==r.return)n=i,r=s;else{for(var o=!1,a=i.child;a;){if(a===n){o=!0,n=i,r=s;break}if(a===r){o=!0,r=i,n=s;break}a=a.sibling}if(!o){for(a=s.child;a;){if(a===n){o=!0,n=s,r=i;break}if(a===r){o=!0,r=s,n=i;break}a=a.sibling}if(!o)throw Error(Fe(189))}}if(n.alternate!==r)throw Error(Fe(190))}if(n.tag!==3)throw Error(Fe(188));return n.stateNode.current===n?t:e}function n6(t){return t=ok(t),t!==null?r6(t):null}function r6(t){if(t.tag===5||t.tag===6)return t;for(t=t.child;t!==null;){var e=r6(t);if(e!==null)return e;t=t.sibling}return null}var i6=ts.unstable_scheduleCallback,Aw=ts.unstable_cancelCallback,ak=ts.unstable_shouldYield,lk=ts.unstable_requestPaint,ir=ts.unstable_now,uk=ts.unstable_getCurrentPriorityLevel,yy=ts.unstable_ImmediatePriority,s6=ts.unstable_UserBlockingPriority,Op=ts.unstable_NormalPriority,ck=ts.unstable_LowPriority,o6=ts.unstable_IdlePriority,D0=null,mo=null;function hk(t){if(mo&&typeof mo.onCommitFiberRoot=="function")try{mo.onCommitFiberRoot(D0,t,void 0,(t.current.flags&128)===128)}catch{}}var Os=Math.clz32?Math.clz32:pk,fk=Math.log,dk=Math.LN2;function pk(t){return t>>>=0,t===0?32:31-(fk(t)/dk|0)|0}var Ld=64,Rd=4194304;function Nh(t){switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return t&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return t}}function Vp(t,e){var n=t.pendingLanes;if(n===0)return 0;var r=0,i=t.suspendedLanes,s=t.pingedLanes,o=n&268435455;if(o!==0){var a=o&~i;a!==0?r=Nh(a):(s&=o,s!==0&&(r=Nh(s)))}else o=n&~i,o!==0?r=Nh(o):s!==0&&(r=Nh(s));if(r===0)return 0;if(e!==0&&e!==r&&!(e&i)&&(i=r&-r,s=e&-e,i>=s||i===16&&(s&4194240)!==0))return e;if(r&4&&(r|=n&16),e=t.entangledLanes,e!==0)for(t=t.entanglements,e&=r;0<e;)n=31-Os(e),i=1<<n,r|=t[n],e&=~i;return r}function mk(t,e){switch(t){case 1:case 2:case 4:return e+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function gk(t,e){for(var n=t.suspendedLanes,r=t.pingedLanes,i=t.expirationTimes,s=t.pendingLanes;0<s;){var o=31-Os(s),a=1<<o,l=i[o];l===-1?(!(a&n)||a&r)&&(i[o]=mk(a,e)):l<=e&&(t.expiredLanes|=a),s&=~a}}function _g(t){return t=t.pendingLanes&-1073741825,t!==0?t:t&1073741824?1073741824:0}function a6(){var t=Ld;return Ld<<=1,!(Ld&4194240)&&(Ld=64),t}function Um(t){for(var e=[],n=0;31>n;n++)e.push(t);return e}function Vf(t,e,n){t.pendingLanes|=e,e!==536870912&&(t.suspendedLanes=0,t.pingedLanes=0),t=t.eventTimes,e=31-Os(e),t[e]=n}function yk(t,e){var n=t.pendingLanes&~e;t.pendingLanes=e,t.suspendedLanes=0,t.pingedLanes=0,t.expiredLanes&=e,t.mutableReadLanes&=e,t.entangledLanes&=e,e=t.entanglements;var r=t.eventTimes;for(t=t.expirationTimes;0<n;){var i=31-Os(n),s=1<<i;e[i]=0,r[i]=-1,t[i]=-1,n&=~s}}function vy(t,e){var n=t.entangledLanes|=e;for(t=t.entanglements;n;){var r=31-Os(n),i=1<<r;i&e|t[r]&e&&(t[r]|=e),n&=~i}}var ln=0;function l6(t){return t&=-t,1<t?4<t?t&268435455?16:536870912:4:1}var u6,wy,c6,h6,f6,Sg=!1,jd=[],za=null,qa=null,$a=null,nf=new Map,rf=new Map,Da=[],vk="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function Nw(t,e){switch(t){case"focusin":case"focusout":za=null;break;case"dragenter":case"dragleave":qa=null;break;case"mouseover":case"mouseout":$a=null;break;case"pointerover":case"pointerout":nf.delete(e.pointerId);break;case"gotpointercapture":case"lostpointercapture":rf.delete(e.pointerId)}}function fh(t,e,n,r,i,s){return t===null||t.nativeEvent!==s?(t={blockedOn:e,domEventName:n,eventSystemFlags:r,nativeEvent:s,targetContainers:[i]},e!==null&&(e=Uf(e),e!==null&&wy(e)),t):(t.eventSystemFlags|=r,e=t.targetContainers,i!==null&&e.indexOf(i)===-1&&e.push(i),t)}function wk(t,e,n,r,i){switch(e){case"focusin":return za=fh(za,t,e,n,r,i),!0;case"dragenter":return qa=fh(qa,t,e,n,r,i),!0;case"mouseover":return $a=fh($a,t,e,n,r,i),!0;case"pointerover":var s=i.pointerId;return nf.set(s,fh(nf.get(s)||null,t,e,n,r,i)),!0;case"gotpointercapture":return s=i.pointerId,rf.set(s,fh(rf.get(s)||null,t,e,n,r,i)),!0}return!1}function d6(t){var e=Ul(t.target);if(e!==null){var n=fu(e);if(n!==null){if(e=n.tag,e===13){if(e=t6(n),e!==null){t.blockedOn=e,f6(t.priority,function(){c6(n)});return}}else if(e===3&&n.stateNode.current.memoizedState.isDehydrated){t.blockedOn=n.tag===3?n.stateNode.containerInfo:null;return}}}t.blockedOn=null}function cp(t){if(t.blockedOn!==null)return!1;for(var e=t.targetContainers;0<e.length;){var n=Ag(t.domEventName,t.eventSystemFlags,e[0],t.nativeEvent);if(n===null){n=t.nativeEvent;var r=new n.constructor(n.type,n);vg=r,n.target.dispatchEvent(r),vg=null}else return e=Uf(n),e!==null&&wy(e),t.blockedOn=n,!1;e.shift()}return!0}function Ew(t,e,n){cp(t)&&n.delete(e)}function xk(){Sg=!1,za!==null&&cp(za)&&(za=null),qa!==null&&cp(qa)&&(qa=null),$a!==null&&cp($a)&&($a=null),nf.forEach(Ew),rf.forEach(Ew)}function dh(t,e){t.blockedOn===e&&(t.blockedOn=null,Sg||(Sg=!0,ts.unstable_scheduleCallback(ts.unstable_NormalPriority,xk)))}function sf(t){function e(i){return dh(i,t)}if(0<jd.length){dh(jd[0],t);for(var n=1;n<jd.length;n++){var r=jd[n];r.blockedOn===t&&(r.blockedOn=null)}}for(za!==null&&dh(za,t),qa!==null&&dh(qa,t),$a!==null&&dh($a,t),nf.forEach(e),rf.forEach(e),n=0;n<Da.length;n++)r=Da[n],r.blockedOn===t&&(r.blockedOn=null);for(;0<Da.length&&(n=Da[0],n.blockedOn===null);)d6(n),n.blockedOn===null&&Da.shift()}var nc=sa.ReactCurrentBatchConfig,Bp=!0;function bk(t,e,n,r){var i=ln,s=nc.transition;nc.transition=null;try{ln=1,xy(t,e,n,r)}finally{ln=i,nc.transition=s}}function _k(t,e,n,r){var i=ln,s=nc.transition;nc.transition=null;try{ln=4,xy(t,e,n,r)}finally{ln=i,nc.transition=s}}function xy(t,e,n,r){if(Bp){var i=Ag(t,e,n,r);if(i===null)Xm(t,e,r,Up,n),Nw(t,r);else if(wk(i,t,e,n,r))r.stopPropagation();else if(Nw(t,r),e&4&&-1<vk.indexOf(t)){for(;i!==null;){var s=Uf(i);if(s!==null&&u6(s),s=Ag(t,e,n,r),s===null&&Xm(t,e,r,Up,n),s===i)break;i=s}i!==null&&r.stopPropagation()}else Xm(t,e,r,null,n)}}var Up=null;function Ag(t,e,n,r){if(Up=null,t=gy(r),t=Ul(t),t!==null)if(e=fu(t),e===null)t=null;else if(n=e.tag,n===13){if(t=t6(e),t!==null)return t;t=null}else if(n===3){if(e.stateNode.current.memoizedState.isDehydrated)return e.tag===3?e.stateNode.containerInfo:null;t=null}else e!==t&&(t=null);return Up=t,null}function p6(t){switch(t){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(uk()){case yy:return 1;case s6:return 4;case Op:case ck:return 16;case o6:return 536870912;default:return 16}default:return 16}}var Fa=null,by=null,hp=null;function m6(){if(hp)return hp;var t,e=by,n=e.length,r,i="value"in Fa?Fa.value:Fa.textContent,s=i.length;for(t=0;t<n&&e[t]===i[t];t++);var o=n-t;for(r=1;r<=o&&e[n-r]===i[s-r];r++);return hp=i.slice(t,1<r?1-r:void 0)}function fp(t){var e=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&e===13&&(t=13)):t=e,t===10&&(t=13),32<=t||t===13?t:0}function Dd(){return!0}function Tw(){return!1}function rs(t){function e(n,r,i,s,o){this._reactName=n,this._targetInst=i,this.type=r,this.nativeEvent=s,this.target=o,this.currentTarget=null;for(var a in t)t.hasOwnProperty(a)&&(n=t[a],this[a]=n?n(s):s[a]);return this.isDefaultPrevented=(s.defaultPrevented!=null?s.defaultPrevented:s.returnValue===!1)?Dd:Tw,this.isPropagationStopped=Tw,this}return On(e.prototype,{preventDefault:function(){this.defaultPrevented=!0;var n=this.nativeEvent;n&&(n.preventDefault?n.preventDefault():typeof n.returnValue!="unknown"&&(n.returnValue=!1),this.isDefaultPrevented=Dd)},stopPropagation:function(){var n=this.nativeEvent;n&&(n.stopPropagation?n.stopPropagation():typeof n.cancelBubble!="unknown"&&(n.cancelBubble=!0),this.isPropagationStopped=Dd)},persist:function(){},isPersistent:Dd}),e}var Ic={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},_y=rs(Ic),Bf=On({},Ic,{view:0,detail:0}),Sk=rs(Bf),zm,qm,ph,M0=On({},Bf,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Sy,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==ph&&(ph&&t.type==="mousemove"?(zm=t.screenX-ph.screenX,qm=t.screenY-ph.screenY):qm=zm=0,ph=t),zm)},movementY:function(t){return"movementY"in t?t.movementY:qm}}),Cw=rs(M0),Ak=On({},M0,{dataTransfer:0}),Nk=rs(Ak),Ek=On({},Bf,{relatedTarget:0}),$m=rs(Ek),Tk=On({},Ic,{animationName:0,elapsedTime:0,pseudoElement:0}),Ck=rs(Tk),kk=On({},Ic,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),Pk=rs(kk),Ik=On({},Ic,{data:0}),kw=rs(Ik),Lk={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Rk={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},jk={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Dk(t){var e=this.nativeEvent;return e.getModifierState?e.getModifierState(t):(t=jk[t])?!!e[t]:!1}function Sy(){return Dk}var Mk=On({},Bf,{key:function(t){if(t.key){var e=Lk[t.key]||t.key;if(e!=="Unidentified")return e}return t.type==="keypress"?(t=fp(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?Rk[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Sy,charCode:function(t){return t.type==="keypress"?fp(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?fp(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),Fk=rs(Mk),Ok=On({},M0,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Pw=rs(Ok),Vk=On({},Bf,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Sy}),Bk=rs(Vk),Uk=On({},Ic,{propertyName:0,elapsedTime:0,pseudoElement:0}),zk=rs(Uk),qk=On({},M0,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),$k=rs(qk),Hk=[9,13,27,32],Ay=Qo&&"CompositionEvent"in window,jh=null;Qo&&"documentMode"in document&&(jh=document.documentMode);var Wk=Qo&&"TextEvent"in window&&!jh,g6=Qo&&(!Ay||jh&&8<jh&&11>=jh),Iw=" ",Lw=!1;function y6(t,e){switch(t){case"keyup":return Hk.indexOf(e.keyCode)!==-1;case"keydown":return e.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function v6(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var Mu=!1;function Gk(t,e){switch(t){case"compositionend":return v6(e);case"keypress":return e.which!==32?null:(Lw=!0,Iw);case"textInput":return t=e.data,t===Iw&&Lw?null:t;default:return null}}function Kk(t,e){if(Mu)return t==="compositionend"||!Ay&&y6(t,e)?(t=m6(),hp=by=Fa=null,Mu=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(e.ctrlKey||e.altKey||e.metaKey)||e.ctrlKey&&e.altKey){if(e.char&&1<e.char.length)return e.char;if(e.which)return String.fromCharCode(e.which)}return null;case"compositionend":return g6&&e.locale!=="ko"?null:e.data;default:return null}}var Qk={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Rw(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e==="input"?!!Qk[t.type]:e==="textarea"}function w6(t,e,n,r){Y_(r),e=zp(e,"onChange"),0<e.length&&(n=new _y("onChange","change",null,n,r),t.push({event:n,listeners:e}))}var Dh=null,of=null;function Yk(t){P6(t,0)}function F0(t){var e=Vu(t);if(q_(e))return t}function Xk(t,e){if(t==="change")return e}var x6=!1;if(Qo){var Hm;if(Qo){var Wm="oninput"in document;if(!Wm){var jw=document.createElement("div");jw.setAttribute("oninput","return;"),Wm=typeof jw.oninput=="function"}Hm=Wm}else Hm=!1;x6=Hm&&(!document.documentMode||9<document.documentMode)}function Dw(){Dh&&(Dh.detachEvent("onpropertychange",b6),of=Dh=null)}function b6(t){if(t.propertyName==="value"&&F0(of)){var e=[];w6(e,of,t,gy(t)),e6(Yk,e)}}function Jk(t,e,n){t==="focusin"?(Dw(),Dh=e,of=n,Dh.attachEvent("onpropertychange",b6)):t==="focusout"&&Dw()}function Zk(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return F0(of)}function eP(t,e){if(t==="click")return F0(e)}function tP(t,e){if(t==="input"||t==="change")return F0(e)}function nP(t,e){return t===e&&(t!==0||1/t===1/e)||t!==t&&e!==e}var Bs=typeof Object.is=="function"?Object.is:nP;function af(t,e){if(Bs(t,e))return!0;if(typeof t!="object"||t===null||typeof e!="object"||e===null)return!1;var n=Object.keys(t),r=Object.keys(e);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++){var i=n[r];if(!og.call(e,i)||!Bs(t[i],e[i]))return!1}return!0}function Mw(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function Fw(t,e){var n=Mw(t);t=0;for(var r;n;){if(n.nodeType===3){if(r=t+n.textContent.length,t<=e&&r>=e)return{node:n,offset:e-t};t=r}e:{for(;n;){if(n.nextSibling){n=n.nextSibling;break e}n=n.parentNode}n=void 0}n=Mw(n)}}function _6(t,e){return t&&e?t===e?!0:t&&t.nodeType===3?!1:e&&e.nodeType===3?_6(t,e.parentNode):"contains"in t?t.contains(e):t.compareDocumentPosition?!!(t.compareDocumentPosition(e)&16):!1:!1}function S6(){for(var t=window,e=Dp();e instanceof t.HTMLIFrameElement;){try{var n=typeof e.contentWindow.location.href=="string"}catch{n=!1}if(n)t=e.contentWindow;else break;e=Dp(t.document)}return e}function Ny(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e&&(e==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||e==="textarea"||t.contentEditable==="true")}function rP(t){var e=S6(),n=t.focusedElem,r=t.selectionRange;if(e!==n&&n&&n.ownerDocument&&_6(n.ownerDocument.documentElement,n)){if(r!==null&&Ny(n)){if(e=r.start,t=r.end,t===void 0&&(t=e),"selectionStart"in n)n.selectionStart=e,n.selectionEnd=Math.min(t,n.value.length);else if(t=(e=n.ownerDocument||document)&&e.defaultView||window,t.getSelection){t=t.getSelection();var i=n.textContent.length,s=Math.min(r.start,i);r=r.end===void 0?s:Math.min(r.end,i),!t.extend&&s>r&&(i=r,r=s,s=i),i=Fw(n,s);var o=Fw(n,r);i&&o&&(t.rangeCount!==1||t.anchorNode!==i.node||t.anchorOffset!==i.offset||t.focusNode!==o.node||t.focusOffset!==o.offset)&&(e=e.createRange(),e.setStart(i.node,i.offset),t.removeAllRanges(),s>r?(t.addRange(e),t.extend(o.node,o.offset)):(e.setEnd(o.node,o.offset),t.addRange(e)))}}for(e=[],t=n;t=t.parentNode;)t.nodeType===1&&e.push({element:t,left:t.scrollLeft,top:t.scrollTop});for(typeof n.focus=="function"&&n.focus(),n=0;n<e.length;n++)t=e[n],t.element.scrollLeft=t.left,t.element.scrollTop=t.top}}var iP=Qo&&"documentMode"in document&&11>=document.documentMode,Fu=null,Ng=null,Mh=null,Eg=!1;function Ow(t,e,n){var r=n.window===n?n.document:n.nodeType===9?n:n.ownerDocument;Eg||Fu==null||Fu!==Dp(r)||(r=Fu,"selectionStart"in r&&Ny(r)?r={start:r.selectionStart,end:r.selectionEnd}:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection(),r={anchorNode:r.anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset}),Mh&&af(Mh,r)||(Mh=r,r=zp(Ng,"onSelect"),0<r.length&&(e=new _y("onSelect","select",null,e,n),t.push({event:e,listeners:r}),e.target=Fu)))}function Md(t,e){var n={};return n[t.toLowerCase()]=e.toLowerCase(),n["Webkit"+t]="webkit"+e,n["Moz"+t]="moz"+e,n}var Ou={animationend:Md("Animation","AnimationEnd"),animationiteration:Md("Animation","AnimationIteration"),animationstart:Md("Animation","AnimationStart"),transitionend:Md("Transition","TransitionEnd")},Gm={},A6={};Qo&&(A6=document.createElement("div").style,"AnimationEvent"in window||(delete Ou.animationend.animation,delete Ou.animationiteration.animation,delete Ou.animationstart.animation),"TransitionEvent"in window||delete Ou.transitionend.transition);function O0(t){if(Gm[t])return Gm[t];if(!Ou[t])return t;var e=Ou[t],n;for(n in e)if(e.hasOwnProperty(n)&&n in A6)return Gm[t]=e[n];return t}var N6=O0("animationend"),E6=O0("animationiteration"),T6=O0("animationstart"),C6=O0("transitionend"),k6=new Map,Vw="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function ll(t,e){k6.set(t,e),hu(e,[t])}for(var Km=0;Km<Vw.length;Km++){var Qm=Vw[Km],sP=Qm.toLowerCase(),oP=Qm[0].toUpperCase()+Qm.slice(1);ll(sP,"on"+oP)}ll(N6,"onAnimationEnd");ll(E6,"onAnimationIteration");ll(T6,"onAnimationStart");ll("dblclick","onDoubleClick");ll("focusin","onFocus");ll("focusout","onBlur");ll(C6,"onTransitionEnd");fc("onMouseEnter",["mouseout","mouseover"]);fc("onMouseLeave",["mouseout","mouseover"]);fc("onPointerEnter",["pointerout","pointerover"]);fc("onPointerLeave",["pointerout","pointerover"]);hu("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));hu("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));hu("onBeforeInput",["compositionend","keypress","textInput","paste"]);hu("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));hu("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));hu("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Eh="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),aP=new Set("cancel close invalid load scroll toggle".split(" ").concat(Eh));function Bw(t,e,n){var r=t.type||"unknown-event";t.currentTarget=n,sk(r,e,void 0,t),t.currentTarget=null}function P6(t,e){e=(e&4)!==0;for(var n=0;n<t.length;n++){var r=t[n],i=r.event;r=r.listeners;e:{var s=void 0;if(e)for(var o=r.length-1;0<=o;o--){var a=r[o],l=a.instance,u=a.currentTarget;if(a=a.listener,l!==s&&i.isPropagationStopped())break e;Bw(i,a,u),s=l}else for(o=0;o<r.length;o++){if(a=r[o],l=a.instance,u=a.currentTarget,a=a.listener,l!==s&&i.isPropagationStopped())break e;Bw(i,a,u),s=l}}}if(Fp)throw t=bg,Fp=!1,bg=null,t}function bn(t,e){var n=e[Ig];n===void 0&&(n=e[Ig]=new Set);var r=t+"__bubble";n.has(r)||(I6(e,t,2,!1),n.add(r))}function Ym(t,e,n){var r=0;e&&(r|=4),I6(n,t,r,e)}var Fd="_reactListening"+Math.random().toString(36).slice(2);function lf(t){if(!t[Fd]){t[Fd]=!0,O_.forEach(function(n){n!=="selectionchange"&&(aP.has(n)||Ym(n,!1,t),Ym(n,!0,t))});var e=t.nodeType===9?t:t.ownerDocument;e===null||e[Fd]||(e[Fd]=!0,Ym("selectionchange",!1,e))}}function I6(t,e,n,r){switch(p6(e)){case 1:var i=bk;break;case 4:i=_k;break;default:i=xy}n=i.bind(null,e,n,t),i=void 0,!xg||e!=="touchstart"&&e!=="touchmove"&&e!=="wheel"||(i=!0),r?i!==void 0?t.addEventListener(e,n,{capture:!0,passive:i}):t.addEventListener(e,n,!0):i!==void 0?t.addEventListener(e,n,{passive:i}):t.addEventListener(e,n,!1)}function Xm(t,e,n,r,i){var s=r;if(!(e&1)&&!(e&2)&&r!==null)e:for(;;){if(r===null)return;var o=r.tag;if(o===3||o===4){var a=r.stateNode.containerInfo;if(a===i||a.nodeType===8&&a.parentNode===i)break;if(o===4)for(o=r.return;o!==null;){var l=o.tag;if((l===3||l===4)&&(l=o.stateNode.containerInfo,l===i||l.nodeType===8&&l.parentNode===i))return;o=o.return}for(;a!==null;){if(o=Ul(a),o===null)return;if(l=o.tag,l===5||l===6){r=s=o;continue e}a=a.parentNode}}r=r.return}e6(function(){var u=s,c=gy(n),d=[];e:{var g=k6.get(t);if(g!==void 0){var p=_y,b=t;switch(t){case"keypress":if(fp(n)===0)break e;case"keydown":case"keyup":p=Fk;break;case"focusin":b="focus",p=$m;break;case"focusout":b="blur",p=$m;break;case"beforeblur":case"afterblur":p=$m;break;case"click":if(n.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":p=Cw;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":p=Nk;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":p=Bk;break;case N6:case E6:case T6:p=Ck;break;case C6:p=zk;break;case"scroll":p=Sk;break;case"wheel":p=$k;break;case"copy":case"cut":case"paste":p=Pk;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":p=Pw}var x=(e&4)!==0,A=!x&&t==="scroll",v=x?g!==null?g+"Capture":null:g;x=[];for(var _=u,T;_!==null;){T=_;var R=T.stateNode;if(T.tag===5&&R!==null&&(T=R,v!==null&&(R=tf(_,v),R!=null&&x.push(uf(_,R,T)))),A)break;_=_.return}0<x.length&&(g=new p(g,b,null,n,c),d.push({event:g,listeners:x}))}}if(!(e&7)){e:{if(g=t==="mouseover"||t==="pointerover",p=t==="mouseout"||t==="pointerout",g&&n!==vg&&(b=n.relatedTarget||n.fromElement)&&(Ul(b)||b[Yo]))break e;if((p||g)&&(g=c.window===c?c:(g=c.ownerDocument)?g.defaultView||g.parentWindow:window,p?(b=n.relatedTarget||n.toElement,p=u,b=b?Ul(b):null,b!==null&&(A=fu(b),b!==A||b.tag!==5&&b.tag!==6)&&(b=null)):(p=null,b=u),p!==b)){if(x=Cw,R="onMouseLeave",v="onMouseEnter",_="mouse",(t==="pointerout"||t==="pointerover")&&(x=Pw,R="onPointerLeave",v="onPointerEnter",_="pointer"),A=p==null?g:Vu(p),T=b==null?g:Vu(b),g=new x(R,_+"leave",p,n,c),g.target=A,g.relatedTarget=T,R=null,Ul(c)===u&&(x=new x(v,_+"enter",b,n,c),x.target=T,x.relatedTarget=A,R=x),A=R,p&&b)t:{for(x=p,v=b,_=0,T=x;T;T=Nu(T))_++;for(T=0,R=v;R;R=Nu(R))T++;for(;0<_-T;)x=Nu(x),_--;for(;0<T-_;)v=Nu(v),T--;for(;_--;){if(x===v||v!==null&&x===v.alternate)break t;x=Nu(x),v=Nu(v)}x=null}else x=null;p!==null&&Uw(d,g,p,x,!1),b!==null&&A!==null&&Uw(d,A,b,x,!0)}}e:{if(g=u?Vu(u):window,p=g.nodeName&&g.nodeName.toLowerCase(),p==="select"||p==="input"&&g.type==="file")var z=Xk;else if(Rw(g))if(x6)z=tP;else{z=Zk;var K=Jk}else(p=g.nodeName)&&p.toLowerCase()==="input"&&(g.type==="checkbox"||g.type==="radio")&&(z=eP);if(z&&(z=z(t,u))){w6(d,z,n,c);break e}K&&K(t,g,u),t==="focusout"&&(K=g._wrapperState)&&K.controlled&&g.type==="number"&&dg(g,"number",g.value)}switch(K=u?Vu(u):window,t){case"focusin":(Rw(K)||K.contentEditable==="true")&&(Fu=K,Ng=u,Mh=null);break;case"focusout":Mh=Ng=Fu=null;break;case"mousedown":Eg=!0;break;case"contextmenu":case"mouseup":case"dragend":Eg=!1,Ow(d,n,c);break;case"selectionchange":if(iP)break;case"keydown":case"keyup":Ow(d,n,c)}var k;if(Ay)e:{switch(t){case"compositionstart":var C="onCompositionStart";break e;case"compositionend":C="onCompositionEnd";break e;case"compositionupdate":C="onCompositionUpdate";break e}C=void 0}else Mu?y6(t,n)&&(C="onCompositionEnd"):t==="keydown"&&n.keyCode===229&&(C="onCompositionStart");C&&(g6&&n.locale!=="ko"&&(Mu||C!=="onCompositionStart"?C==="onCompositionEnd"&&Mu&&(k=m6()):(Fa=c,by="value"in Fa?Fa.value:Fa.textContent,Mu=!0)),K=zp(u,C),0<K.length&&(C=new kw(C,t,null,n,c),d.push({event:C,listeners:K}),k?C.data=k:(k=v6(n),k!==null&&(C.data=k)))),(k=Wk?Gk(t,n):Kk(t,n))&&(u=zp(u,"onBeforeInput"),0<u.length&&(c=new kw("onBeforeInput","beforeinput",null,n,c),d.push({event:c,listeners:u}),c.data=k))}P6(d,e)})}function uf(t,e,n){return{instance:t,listener:e,currentTarget:n}}function zp(t,e){for(var n=e+"Capture",r=[];t!==null;){var i=t,s=i.stateNode;i.tag===5&&s!==null&&(i=s,s=tf(t,n),s!=null&&r.unshift(uf(t,s,i)),s=tf(t,e),s!=null&&r.push(uf(t,s,i))),t=t.return}return r}function Nu(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5);return t||null}function Uw(t,e,n,r,i){for(var s=e._reactName,o=[];n!==null&&n!==r;){var a=n,l=a.alternate,u=a.stateNode;if(l!==null&&l===r)break;a.tag===5&&u!==null&&(a=u,i?(l=tf(n,s),l!=null&&o.unshift(uf(n,l,a))):i||(l=tf(n,s),l!=null&&o.push(uf(n,l,a)))),n=n.return}o.length!==0&&t.push({event:e,listeners:o})}var lP=/\r\n?/g,uP=/\u0000|\uFFFD/g;function zw(t){return(typeof t=="string"?t:""+t).replace(lP,`
`).replace(uP,"")}function Od(t,e,n){if(e=zw(e),zw(t)!==e&&n)throw Error(Fe(425))}function qp(){}var Tg=null,Cg=null;function kg(t,e){return t==="textarea"||t==="noscript"||typeof e.children=="string"||typeof e.children=="number"||typeof e.dangerouslySetInnerHTML=="object"&&e.dangerouslySetInnerHTML!==null&&e.dangerouslySetInnerHTML.__html!=null}var Pg=typeof setTimeout=="function"?setTimeout:void 0,cP=typeof clearTimeout=="function"?clearTimeout:void 0,qw=typeof Promise=="function"?Promise:void 0,hP=typeof queueMicrotask=="function"?queueMicrotask:typeof qw<"u"?function(t){return qw.resolve(null).then(t).catch(fP)}:Pg;function fP(t){setTimeout(function(){throw t})}function Jm(t,e){var n=e,r=0;do{var i=n.nextSibling;if(t.removeChild(n),i&&i.nodeType===8)if(n=i.data,n==="/$"){if(r===0){t.removeChild(i),sf(e);return}r--}else n!=="$"&&n!=="$?"&&n!=="$!"||r++;n=i}while(n);sf(e)}function Ha(t){for(;t!=null;t=t.nextSibling){var e=t.nodeType;if(e===1||e===3)break;if(e===8){if(e=t.data,e==="$"||e==="$!"||e==="$?")break;if(e==="/$")return null}}return t}function $w(t){t=t.previousSibling;for(var e=0;t;){if(t.nodeType===8){var n=t.data;if(n==="$"||n==="$!"||n==="$?"){if(e===0)return t;e--}else n==="/$"&&e++}t=t.previousSibling}return null}var Lc=Math.random().toString(36).slice(2),fo="__reactFiber$"+Lc,cf="__reactProps$"+Lc,Yo="__reactContainer$"+Lc,Ig="__reactEvents$"+Lc,dP="__reactListeners$"+Lc,pP="__reactHandles$"+Lc;function Ul(t){var e=t[fo];if(e)return e;for(var n=t.parentNode;n;){if(e=n[Yo]||n[fo]){if(n=e.alternate,e.child!==null||n!==null&&n.child!==null)for(t=$w(t);t!==null;){if(n=t[fo])return n;t=$w(t)}return e}t=n,n=t.parentNode}return null}function Uf(t){return t=t[fo]||t[Yo],!t||t.tag!==5&&t.tag!==6&&t.tag!==13&&t.tag!==3?null:t}function Vu(t){if(t.tag===5||t.tag===6)return t.stateNode;throw Error(Fe(33))}function V0(t){return t[cf]||null}var Lg=[],Bu=-1;function ul(t){return{current:t}}function An(t){0>Bu||(t.current=Lg[Bu],Lg[Bu]=null,Bu--)}function yn(t,e){Bu++,Lg[Bu]=t.current,t.current=e}var tl={},ii=ul(tl),Ii=ul(!1),eu=tl;function dc(t,e){var n=t.type.contextTypes;if(!n)return tl;var r=t.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===e)return r.__reactInternalMemoizedMaskedChildContext;var i={},s;for(s in n)i[s]=e[s];return r&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=e,t.__reactInternalMemoizedMaskedChildContext=i),i}function Li(t){return t=t.childContextTypes,t!=null}function $p(){An(Ii),An(ii)}function Hw(t,e,n){if(ii.current!==tl)throw Error(Fe(168));yn(ii,e),yn(Ii,n)}function L6(t,e,n){var r=t.stateNode;if(e=e.childContextTypes,typeof r.getChildContext!="function")return n;r=r.getChildContext();for(var i in r)if(!(i in e))throw Error(Fe(108,JC(t)||"Unknown",i));return On({},n,r)}function Hp(t){return t=(t=t.stateNode)&&t.__reactInternalMemoizedMergedChildContext||tl,eu=ii.current,yn(ii,t),yn(Ii,Ii.current),!0}function Ww(t,e,n){var r=t.stateNode;if(!r)throw Error(Fe(169));n?(t=L6(t,e,eu),r.__reactInternalMemoizedMergedChildContext=t,An(Ii),An(ii),yn(ii,t)):An(Ii),yn(Ii,n)}var zo=null,B0=!1,Zm=!1;function R6(t){zo===null?zo=[t]:zo.push(t)}function mP(t){B0=!0,R6(t)}function cl(){if(!Zm&&zo!==null){Zm=!0;var t=0,e=ln;try{var n=zo;for(ln=1;t<n.length;t++){var r=n[t];do r=r(!0);while(r!==null)}zo=null,B0=!1}catch(i){throw zo!==null&&(zo=zo.slice(t+1)),i6(yy,cl),i}finally{ln=e,Zm=!1}}return null}var Uu=[],zu=0,Wp=null,Gp=0,ps=[],ms=0,tu=null,$o=1,Ho="";function Dl(t,e){Uu[zu++]=Gp,Uu[zu++]=Wp,Wp=t,Gp=e}function j6(t,e,n){ps[ms++]=$o,ps[ms++]=Ho,ps[ms++]=tu,tu=t;var r=$o;t=Ho;var i=32-Os(r)-1;r&=~(1<<i),n+=1;var s=32-Os(e)+i;if(30<s){var o=i-i%5;s=(r&(1<<o)-1).toString(32),r>>=o,i-=o,$o=1<<32-Os(e)+i|n<<i|r,Ho=s+t}else $o=1<<s|n<<i|r,Ho=t}function Ey(t){t.return!==null&&(Dl(t,1),j6(t,1,0))}function Ty(t){for(;t===Wp;)Wp=Uu[--zu],Uu[zu]=null,Gp=Uu[--zu],Uu[zu]=null;for(;t===tu;)tu=ps[--ms],ps[ms]=null,Ho=ps[--ms],ps[ms]=null,$o=ps[--ms],ps[ms]=null}var es=null,Xi=null,kn=!1,Fs=null;function D6(t,e){var n=gs(5,null,null,0);n.elementType="DELETED",n.stateNode=e,n.return=t,e=t.deletions,e===null?(t.deletions=[n],t.flags|=16):e.push(n)}function Gw(t,e){switch(t.tag){case 5:var n=t.type;return e=e.nodeType!==1||n.toLowerCase()!==e.nodeName.toLowerCase()?null:e,e!==null?(t.stateNode=e,es=t,Xi=Ha(e.firstChild),!0):!1;case 6:return e=t.pendingProps===""||e.nodeType!==3?null:e,e!==null?(t.stateNode=e,es=t,Xi=null,!0):!1;case 13:return e=e.nodeType!==8?null:e,e!==null?(n=tu!==null?{id:$o,overflow:Ho}:null,t.memoizedState={dehydrated:e,treeContext:n,retryLane:1073741824},n=gs(18,null,null,0),n.stateNode=e,n.return=t,t.child=n,es=t,Xi=null,!0):!1;default:return!1}}function Rg(t){return(t.mode&1)!==0&&(t.flags&128)===0}function jg(t){if(kn){var e=Xi;if(e){var n=e;if(!Gw(t,e)){if(Rg(t))throw Error(Fe(418));e=Ha(n.nextSibling);var r=es;e&&Gw(t,e)?D6(r,n):(t.flags=t.flags&-4097|2,kn=!1,es=t)}}else{if(Rg(t))throw Error(Fe(418));t.flags=t.flags&-4097|2,kn=!1,es=t}}}function Kw(t){for(t=t.return;t!==null&&t.tag!==5&&t.tag!==3&&t.tag!==13;)t=t.return;es=t}function Vd(t){if(t!==es)return!1;if(!kn)return Kw(t),kn=!0,!1;var e;if((e=t.tag!==3)&&!(e=t.tag!==5)&&(e=t.type,e=e!=="head"&&e!=="body"&&!kg(t.type,t.memoizedProps)),e&&(e=Xi)){if(Rg(t))throw M6(),Error(Fe(418));for(;e;)D6(t,e),e=Ha(e.nextSibling)}if(Kw(t),t.tag===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(Fe(317));e:{for(t=t.nextSibling,e=0;t;){if(t.nodeType===8){var n=t.data;if(n==="/$"){if(e===0){Xi=Ha(t.nextSibling);break e}e--}else n!=="$"&&n!=="$!"&&n!=="$?"||e++}t=t.nextSibling}Xi=null}}else Xi=es?Ha(t.stateNode.nextSibling):null;return!0}function M6(){for(var t=Xi;t;)t=Ha(t.nextSibling)}function pc(){Xi=es=null,kn=!1}function Cy(t){Fs===null?Fs=[t]:Fs.push(t)}var gP=sa.ReactCurrentBatchConfig;function mh(t,e,n){if(t=n.ref,t!==null&&typeof t!="function"&&typeof t!="object"){if(n._owner){if(n=n._owner,n){if(n.tag!==1)throw Error(Fe(309));var r=n.stateNode}if(!r)throw Error(Fe(147,t));var i=r,s=""+t;return e!==null&&e.ref!==null&&typeof e.ref=="function"&&e.ref._stringRef===s?e.ref:(e=function(o){var a=i.refs;o===null?delete a[s]:a[s]=o},e._stringRef=s,e)}if(typeof t!="string")throw Error(Fe(284));if(!n._owner)throw Error(Fe(290,t))}return t}function Bd(t,e){throw t=Object.prototype.toString.call(e),Error(Fe(31,t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t))}function Qw(t){var e=t._init;return e(t._payload)}function F6(t){function e(v,_){if(t){var T=v.deletions;T===null?(v.deletions=[_],v.flags|=16):T.push(_)}}function n(v,_){if(!t)return null;for(;_!==null;)e(v,_),_=_.sibling;return null}function r(v,_){for(v=new Map;_!==null;)_.key!==null?v.set(_.key,_):v.set(_.index,_),_=_.sibling;return v}function i(v,_){return v=Qa(v,_),v.index=0,v.sibling=null,v}function s(v,_,T){return v.index=T,t?(T=v.alternate,T!==null?(T=T.index,T<_?(v.flags|=2,_):T):(v.flags|=2,_)):(v.flags|=1048576,_)}function o(v){return t&&v.alternate===null&&(v.flags|=2),v}function a(v,_,T,R){return _===null||_.tag!==6?(_=o1(T,v.mode,R),_.return=v,_):(_=i(_,T),_.return=v,_)}function l(v,_,T,R){var z=T.type;return z===Du?c(v,_,T.props.children,R,T.key):_!==null&&(_.elementType===z||typeof z=="object"&&z!==null&&z.$$typeof===Ra&&Qw(z)===_.type)?(R=i(_,T.props),R.ref=mh(v,_,T),R.return=v,R):(R=wp(T.type,T.key,T.props,null,v.mode,R),R.ref=mh(v,_,T),R.return=v,R)}function u(v,_,T,R){return _===null||_.tag!==4||_.stateNode.containerInfo!==T.containerInfo||_.stateNode.implementation!==T.implementation?(_=a1(T,v.mode,R),_.return=v,_):(_=i(_,T.children||[]),_.return=v,_)}function c(v,_,T,R,z){return _===null||_.tag!==7?(_=Kl(T,v.mode,R,z),_.return=v,_):(_=i(_,T),_.return=v,_)}function d(v,_,T){if(typeof _=="string"&&_!==""||typeof _=="number")return _=o1(""+_,v.mode,T),_.return=v,_;if(typeof _=="object"&&_!==null){switch(_.$$typeof){case kd:return T=wp(_.type,_.key,_.props,null,v.mode,T),T.ref=mh(v,null,_),T.return=v,T;case ju:return _=a1(_,v.mode,T),_.return=v,_;case Ra:var R=_._init;return d(v,R(_._payload),T)}if(Ah(_)||ch(_))return _=Kl(_,v.mode,T,null),_.return=v,_;Bd(v,_)}return null}function g(v,_,T,R){var z=_!==null?_.key:null;if(typeof T=="string"&&T!==""||typeof T=="number")return z!==null?null:a(v,_,""+T,R);if(typeof T=="object"&&T!==null){switch(T.$$typeof){case kd:return T.key===z?l(v,_,T,R):null;case ju:return T.key===z?u(v,_,T,R):null;case Ra:return z=T._init,g(v,_,z(T._payload),R)}if(Ah(T)||ch(T))return z!==null?null:c(v,_,T,R,null);Bd(v,T)}return null}function p(v,_,T,R,z){if(typeof R=="string"&&R!==""||typeof R=="number")return v=v.get(T)||null,a(_,v,""+R,z);if(typeof R=="object"&&R!==null){switch(R.$$typeof){case kd:return v=v.get(R.key===null?T:R.key)||null,l(_,v,R,z);case ju:return v=v.get(R.key===null?T:R.key)||null,u(_,v,R,z);case Ra:var K=R._init;return p(v,_,T,K(R._payload),z)}if(Ah(R)||ch(R))return v=v.get(T)||null,c(_,v,R,z,null);Bd(_,R)}return null}function b(v,_,T,R){for(var z=null,K=null,k=_,C=_=0,P=null;k!==null&&C<T.length;C++){k.index>C?(P=k,k=null):P=k.sibling;var M=g(v,k,T[C],R);if(M===null){k===null&&(k=P);break}t&&k&&M.alternate===null&&e(v,k),_=s(M,_,C),K===null?z=M:K.sibling=M,K=M,k=P}if(C===T.length)return n(v,k),kn&&Dl(v,C),z;if(k===null){for(;C<T.length;C++)k=d(v,T[C],R),k!==null&&(_=s(k,_,C),K===null?z=k:K.sibling=k,K=k);return kn&&Dl(v,C),z}for(k=r(v,k);C<T.length;C++)P=p(k,v,C,T[C],R),P!==null&&(t&&P.alternate!==null&&k.delete(P.key===null?C:P.key),_=s(P,_,C),K===null?z=P:K.sibling=P,K=P);return t&&k.forEach(function(E){return e(v,E)}),kn&&Dl(v,C),z}function x(v,_,T,R){var z=ch(T);if(typeof z!="function")throw Error(Fe(150));if(T=z.call(T),T==null)throw Error(Fe(151));for(var K=z=null,k=_,C=_=0,P=null,M=T.next();k!==null&&!M.done;C++,M=T.next()){k.index>C?(P=k,k=null):P=k.sibling;var E=g(v,k,M.value,R);if(E===null){k===null&&(k=P);break}t&&k&&E.alternate===null&&e(v,k),_=s(E,_,C),K===null?z=E:K.sibling=E,K=E,k=P}if(M.done)return n(v,k),kn&&Dl(v,C),z;if(k===null){for(;!M.done;C++,M=T.next())M=d(v,M.value,R),M!==null&&(_=s(M,_,C),K===null?z=M:K.sibling=M,K=M);return kn&&Dl(v,C),z}for(k=r(v,k);!M.done;C++,M=T.next())M=p(k,v,C,M.value,R),M!==null&&(t&&M.alternate!==null&&k.delete(M.key===null?C:M.key),_=s(M,_,C),K===null?z=M:K.sibling=M,K=M);return t&&k.forEach(function(L){return e(v,L)}),kn&&Dl(v,C),z}function A(v,_,T,R){if(typeof T=="object"&&T!==null&&T.type===Du&&T.key===null&&(T=T.props.children),typeof T=="object"&&T!==null){switch(T.$$typeof){case kd:e:{for(var z=T.key,K=_;K!==null;){if(K.key===z){if(z=T.type,z===Du){if(K.tag===7){n(v,K.sibling),_=i(K,T.props.children),_.return=v,v=_;break e}}else if(K.elementType===z||typeof z=="object"&&z!==null&&z.$$typeof===Ra&&Qw(z)===K.type){n(v,K.sibling),_=i(K,T.props),_.ref=mh(v,K,T),_.return=v,v=_;break e}n(v,K);break}else e(v,K);K=K.sibling}T.type===Du?(_=Kl(T.props.children,v.mode,R,T.key),_.return=v,v=_):(R=wp(T.type,T.key,T.props,null,v.mode,R),R.ref=mh(v,_,T),R.return=v,v=R)}return o(v);case ju:e:{for(K=T.key;_!==null;){if(_.key===K)if(_.tag===4&&_.stateNode.containerInfo===T.containerInfo&&_.stateNode.implementation===T.implementation){n(v,_.sibling),_=i(_,T.children||[]),_.return=v,v=_;break e}else{n(v,_);break}else e(v,_);_=_.sibling}_=a1(T,v.mode,R),_.return=v,v=_}return o(v);case Ra:return K=T._init,A(v,_,K(T._payload),R)}if(Ah(T))return b(v,_,T,R);if(ch(T))return x(v,_,T,R);Bd(v,T)}return typeof T=="string"&&T!==""||typeof T=="number"?(T=""+T,_!==null&&_.tag===6?(n(v,_.sibling),_=i(_,T),_.return=v,v=_):(n(v,_),_=o1(T,v.mode,R),_.return=v,v=_),o(v)):n(v,_)}return A}var mc=F6(!0),O6=F6(!1),Kp=ul(null),Qp=null,qu=null,ky=null;function Py(){ky=qu=Qp=null}function Iy(t){var e=Kp.current;An(Kp),t._currentValue=e}function Dg(t,e,n){for(;t!==null;){var r=t.alternate;if((t.childLanes&e)!==e?(t.childLanes|=e,r!==null&&(r.childLanes|=e)):r!==null&&(r.childLanes&e)!==e&&(r.childLanes|=e),t===n)break;t=t.return}}function rc(t,e){Qp=t,ky=qu=null,t=t.dependencies,t!==null&&t.firstContext!==null&&(t.lanes&e&&(ki=!0),t.firstContext=null)}function ws(t){var e=t._currentValue;if(ky!==t)if(t={context:t,memoizedValue:e,next:null},qu===null){if(Qp===null)throw Error(Fe(308));qu=t,Qp.dependencies={lanes:0,firstContext:t}}else qu=qu.next=t;return e}var zl=null;function Ly(t){zl===null?zl=[t]:zl.push(t)}function V6(t,e,n,r){var i=e.interleaved;return i===null?(n.next=n,Ly(e)):(n.next=i.next,i.next=n),e.interleaved=n,Xo(t,r)}function Xo(t,e){t.lanes|=e;var n=t.alternate;for(n!==null&&(n.lanes|=e),n=t,t=t.return;t!==null;)t.childLanes|=e,n=t.alternate,n!==null&&(n.childLanes|=e),n=t,t=t.return;return n.tag===3?n.stateNode:null}var ja=!1;function Ry(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function B6(t,e){t=t.updateQueue,e.updateQueue===t&&(e.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,effects:t.effects})}function Go(t,e){return{eventTime:t,lane:e,tag:0,payload:null,callback:null,next:null}}function Wa(t,e,n){var r=t.updateQueue;if(r===null)return null;if(r=r.shared,Gt&2){var i=r.pending;return i===null?e.next=e:(e.next=i.next,i.next=e),r.pending=e,Xo(t,n)}return i=r.interleaved,i===null?(e.next=e,Ly(r)):(e.next=i.next,i.next=e),r.interleaved=e,Xo(t,n)}function dp(t,e,n){if(e=e.updateQueue,e!==null&&(e=e.shared,(n&4194240)!==0)){var r=e.lanes;r&=t.pendingLanes,n|=r,e.lanes=n,vy(t,n)}}function Yw(t,e){var n=t.updateQueue,r=t.alternate;if(r!==null&&(r=r.updateQueue,n===r)){var i=null,s=null;if(n=n.firstBaseUpdate,n!==null){do{var o={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};s===null?i=s=o:s=s.next=o,n=n.next}while(n!==null);s===null?i=s=e:s=s.next=e}else i=s=e;n={baseState:r.baseState,firstBaseUpdate:i,lastBaseUpdate:s,shared:r.shared,effects:r.effects},t.updateQueue=n;return}t=n.lastBaseUpdate,t===null?n.firstBaseUpdate=e:t.next=e,n.lastBaseUpdate=e}function Yp(t,e,n,r){var i=t.updateQueue;ja=!1;var s=i.firstBaseUpdate,o=i.lastBaseUpdate,a=i.shared.pending;if(a!==null){i.shared.pending=null;var l=a,u=l.next;l.next=null,o===null?s=u:o.next=u,o=l;var c=t.alternate;c!==null&&(c=c.updateQueue,a=c.lastBaseUpdate,a!==o&&(a===null?c.firstBaseUpdate=u:a.next=u,c.lastBaseUpdate=l))}if(s!==null){var d=i.baseState;o=0,c=u=l=null,a=s;do{var g=a.lane,p=a.eventTime;if((r&g)===g){c!==null&&(c=c.next={eventTime:p,lane:0,tag:a.tag,payload:a.payload,callback:a.callback,next:null});e:{var b=t,x=a;switch(g=e,p=n,x.tag){case 1:if(b=x.payload,typeof b=="function"){d=b.call(p,d,g);break e}d=b;break e;case 3:b.flags=b.flags&-65537|128;case 0:if(b=x.payload,g=typeof b=="function"?b.call(p,d,g):b,g==null)break e;d=On({},d,g);break e;case 2:ja=!0}}a.callback!==null&&a.lane!==0&&(t.flags|=64,g=i.effects,g===null?i.effects=[a]:g.push(a))}else p={eventTime:p,lane:g,tag:a.tag,payload:a.payload,callback:a.callback,next:null},c===null?(u=c=p,l=d):c=c.next=p,o|=g;if(a=a.next,a===null){if(a=i.shared.pending,a===null)break;g=a,a=g.next,g.next=null,i.lastBaseUpdate=g,i.shared.pending=null}}while(!0);if(c===null&&(l=d),i.baseState=l,i.firstBaseUpdate=u,i.lastBaseUpdate=c,e=i.shared.interleaved,e!==null){i=e;do o|=i.lane,i=i.next;while(i!==e)}else s===null&&(i.shared.lanes=0);ru|=o,t.lanes=o,t.memoizedState=d}}function Xw(t,e,n){if(t=e.effects,e.effects=null,t!==null)for(e=0;e<t.length;e++){var r=t[e],i=r.callback;if(i!==null){if(r.callback=null,r=n,typeof i!="function")throw Error(Fe(191,i));i.call(r)}}}var zf={},go=ul(zf),hf=ul(zf),ff=ul(zf);function ql(t){if(t===zf)throw Error(Fe(174));return t}function jy(t,e){switch(yn(ff,e),yn(hf,t),yn(go,zf),t=e.nodeType,t){case 9:case 11:e=(e=e.documentElement)?e.namespaceURI:mg(null,"");break;default:t=t===8?e.parentNode:e,e=t.namespaceURI||null,t=t.tagName,e=mg(e,t)}An(go),yn(go,e)}function gc(){An(go),An(hf),An(ff)}function U6(t){ql(ff.current);var e=ql(go.current),n=mg(e,t.type);e!==n&&(yn(hf,t),yn(go,n))}function Dy(t){hf.current===t&&(An(go),An(hf))}var jn=ul(0);function Xp(t){for(var e=t;e!==null;){if(e.tag===13){var n=e.memoizedState;if(n!==null&&(n=n.dehydrated,n===null||n.data==="$?"||n.data==="$!"))return e}else if(e.tag===19&&e.memoizedProps.revealOrder!==void 0){if(e.flags&128)return e}else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return null;e=e.return}e.sibling.return=e.return,e=e.sibling}return null}var e1=[];function My(){for(var t=0;t<e1.length;t++)e1[t]._workInProgressVersionPrimary=null;e1.length=0}var pp=sa.ReactCurrentDispatcher,t1=sa.ReactCurrentBatchConfig,nu=0,Mn=null,vr=null,Nr=null,Jp=!1,Fh=!1,df=0,yP=0;function Wr(){throw Error(Fe(321))}function Fy(t,e){if(e===null)return!1;for(var n=0;n<e.length&&n<t.length;n++)if(!Bs(t[n],e[n]))return!1;return!0}function Oy(t,e,n,r,i,s){if(nu=s,Mn=e,e.memoizedState=null,e.updateQueue=null,e.lanes=0,pp.current=t===null||t.memoizedState===null?bP:_P,t=n(r,i),Fh){s=0;do{if(Fh=!1,df=0,25<=s)throw Error(Fe(301));s+=1,Nr=vr=null,e.updateQueue=null,pp.current=SP,t=n(r,i)}while(Fh)}if(pp.current=Zp,e=vr!==null&&vr.next!==null,nu=0,Nr=vr=Mn=null,Jp=!1,e)throw Error(Fe(300));return t}function Vy(){var t=df!==0;return df=0,t}function ho(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Nr===null?Mn.memoizedState=Nr=t:Nr=Nr.next=t,Nr}function xs(){if(vr===null){var t=Mn.alternate;t=t!==null?t.memoizedState:null}else t=vr.next;var e=Nr===null?Mn.memoizedState:Nr.next;if(e!==null)Nr=e,vr=t;else{if(t===null)throw Error(Fe(310));vr=t,t={memoizedState:vr.memoizedState,baseState:vr.baseState,baseQueue:vr.baseQueue,queue:vr.queue,next:null},Nr===null?Mn.memoizedState=Nr=t:Nr=Nr.next=t}return Nr}function pf(t,e){return typeof e=="function"?e(t):e}function n1(t){var e=xs(),n=e.queue;if(n===null)throw Error(Fe(311));n.lastRenderedReducer=t;var r=vr,i=r.baseQueue,s=n.pending;if(s!==null){if(i!==null){var o=i.next;i.next=s.next,s.next=o}r.baseQueue=i=s,n.pending=null}if(i!==null){s=i.next,r=r.baseState;var a=o=null,l=null,u=s;do{var c=u.lane;if((nu&c)===c)l!==null&&(l=l.next={lane:0,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null}),r=u.hasEagerState?u.eagerState:t(r,u.action);else{var d={lane:c,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null};l===null?(a=l=d,o=r):l=l.next=d,Mn.lanes|=c,ru|=c}u=u.next}while(u!==null&&u!==s);l===null?o=r:l.next=a,Bs(r,e.memoizedState)||(ki=!0),e.memoizedState=r,e.baseState=o,e.baseQueue=l,n.lastRenderedState=r}if(t=n.interleaved,t!==null){i=t;do s=i.lane,Mn.lanes|=s,ru|=s,i=i.next;while(i!==t)}else i===null&&(n.lanes=0);return[e.memoizedState,n.dispatch]}function r1(t){var e=xs(),n=e.queue;if(n===null)throw Error(Fe(311));n.lastRenderedReducer=t;var r=n.dispatch,i=n.pending,s=e.memoizedState;if(i!==null){n.pending=null;var o=i=i.next;do s=t(s,o.action),o=o.next;while(o!==i);Bs(s,e.memoizedState)||(ki=!0),e.memoizedState=s,e.baseQueue===null&&(e.baseState=s),n.lastRenderedState=s}return[s,r]}function z6(){}function q6(t,e){var n=Mn,r=xs(),i=e(),s=!Bs(r.memoizedState,i);if(s&&(r.memoizedState=i,ki=!0),r=r.queue,By(W6.bind(null,n,r,t),[t]),r.getSnapshot!==e||s||Nr!==null&&Nr.memoizedState.tag&1){if(n.flags|=2048,mf(9,H6.bind(null,n,r,i,e),void 0,null),Tr===null)throw Error(Fe(349));nu&30||$6(n,e,i)}return i}function $6(t,e,n){t.flags|=16384,t={getSnapshot:e,value:n},e=Mn.updateQueue,e===null?(e={lastEffect:null,stores:null},Mn.updateQueue=e,e.stores=[t]):(n=e.stores,n===null?e.stores=[t]:n.push(t))}function H6(t,e,n,r){e.value=n,e.getSnapshot=r,G6(e)&&K6(t)}function W6(t,e,n){return n(function(){G6(e)&&K6(t)})}function G6(t){var e=t.getSnapshot;t=t.value;try{var n=e();return!Bs(t,n)}catch{return!0}}function K6(t){var e=Xo(t,1);e!==null&&Vs(e,t,1,-1)}function Jw(t){var e=ho();return typeof t=="function"&&(t=t()),e.memoizedState=e.baseState=t,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:pf,lastRenderedState:t},e.queue=t,t=t.dispatch=xP.bind(null,Mn,t),[e.memoizedState,t]}function mf(t,e,n,r){return t={tag:t,create:e,destroy:n,deps:r,next:null},e=Mn.updateQueue,e===null?(e={lastEffect:null,stores:null},Mn.updateQueue=e,e.lastEffect=t.next=t):(n=e.lastEffect,n===null?e.lastEffect=t.next=t:(r=n.next,n.next=t,t.next=r,e.lastEffect=t)),t}function Q6(){return xs().memoizedState}function mp(t,e,n,r){var i=ho();Mn.flags|=t,i.memoizedState=mf(1|e,n,void 0,r===void 0?null:r)}function U0(t,e,n,r){var i=xs();r=r===void 0?null:r;var s=void 0;if(vr!==null){var o=vr.memoizedState;if(s=o.destroy,r!==null&&Fy(r,o.deps)){i.memoizedState=mf(e,n,s,r);return}}Mn.flags|=t,i.memoizedState=mf(1|e,n,s,r)}function Zw(t,e){return mp(8390656,8,t,e)}function By(t,e){return U0(2048,8,t,e)}function Y6(t,e){return U0(4,2,t,e)}function X6(t,e){return U0(4,4,t,e)}function J6(t,e){if(typeof e=="function")return t=t(),e(t),function(){e(null)};if(e!=null)return t=t(),e.current=t,function(){e.current=null}}function Z6(t,e,n){return n=n!=null?n.concat([t]):null,U0(4,4,J6.bind(null,e,t),n)}function Uy(){}function eS(t,e){var n=xs();e=e===void 0?null:e;var r=n.memoizedState;return r!==null&&e!==null&&Fy(e,r[1])?r[0]:(n.memoizedState=[t,e],t)}function tS(t,e){var n=xs();e=e===void 0?null:e;var r=n.memoizedState;return r!==null&&e!==null&&Fy(e,r[1])?r[0]:(t=t(),n.memoizedState=[t,e],t)}function nS(t,e,n){return nu&21?(Bs(n,e)||(n=a6(),Mn.lanes|=n,ru|=n,t.baseState=!0),e):(t.baseState&&(t.baseState=!1,ki=!0),t.memoizedState=n)}function vP(t,e){var n=ln;ln=n!==0&&4>n?n:4,t(!0);var r=t1.transition;t1.transition={};try{t(!1),e()}finally{ln=n,t1.transition=r}}function rS(){return xs().memoizedState}function wP(t,e,n){var r=Ka(t);if(n={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null},iS(t))sS(e,n);else if(n=V6(t,e,n,r),n!==null){var i=di();Vs(n,t,r,i),oS(n,e,r)}}function xP(t,e,n){var r=Ka(t),i={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null};if(iS(t))sS(e,i);else{var s=t.alternate;if(t.lanes===0&&(s===null||s.lanes===0)&&(s=e.lastRenderedReducer,s!==null))try{var o=e.lastRenderedState,a=s(o,n);if(i.hasEagerState=!0,i.eagerState=a,Bs(a,o)){var l=e.interleaved;l===null?(i.next=i,Ly(e)):(i.next=l.next,l.next=i),e.interleaved=i;return}}catch{}finally{}n=V6(t,e,i,r),n!==null&&(i=di(),Vs(n,t,r,i),oS(n,e,r))}}function iS(t){var e=t.alternate;return t===Mn||e!==null&&e===Mn}function sS(t,e){Fh=Jp=!0;var n=t.pending;n===null?e.next=e:(e.next=n.next,n.next=e),t.pending=e}function oS(t,e,n){if(n&4194240){var r=e.lanes;r&=t.pendingLanes,n|=r,e.lanes=n,vy(t,n)}}var Zp={readContext:ws,useCallback:Wr,useContext:Wr,useEffect:Wr,useImperativeHandle:Wr,useInsertionEffect:Wr,useLayoutEffect:Wr,useMemo:Wr,useReducer:Wr,useRef:Wr,useState:Wr,useDebugValue:Wr,useDeferredValue:Wr,useTransition:Wr,useMutableSource:Wr,useSyncExternalStore:Wr,useId:Wr,unstable_isNewReconciler:!1},bP={readContext:ws,useCallback:function(t,e){return ho().memoizedState=[t,e===void 0?null:e],t},useContext:ws,useEffect:Zw,useImperativeHandle:function(t,e,n){return n=n!=null?n.concat([t]):null,mp(4194308,4,J6.bind(null,e,t),n)},useLayoutEffect:function(t,e){return mp(4194308,4,t,e)},useInsertionEffect:function(t,e){return mp(4,2,t,e)},useMemo:function(t,e){var n=ho();return e=e===void 0?null:e,t=t(),n.memoizedState=[t,e],t},useReducer:function(t,e,n){var r=ho();return e=n!==void 0?n(e):e,r.memoizedState=r.baseState=e,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:e},r.queue=t,t=t.dispatch=wP.bind(null,Mn,t),[r.memoizedState,t]},useRef:function(t){var e=ho();return t={current:t},e.memoizedState=t},useState:Jw,useDebugValue:Uy,useDeferredValue:function(t){return ho().memoizedState=t},useTransition:function(){var t=Jw(!1),e=t[0];return t=vP.bind(null,t[1]),ho().memoizedState=t,[e,t]},useMutableSource:function(){},useSyncExternalStore:function(t,e,n){var r=Mn,i=ho();if(kn){if(n===void 0)throw Error(Fe(407));n=n()}else{if(n=e(),Tr===null)throw Error(Fe(349));nu&30||$6(r,e,n)}i.memoizedState=n;var s={value:n,getSnapshot:e};return i.queue=s,Zw(W6.bind(null,r,s,t),[t]),r.flags|=2048,mf(9,H6.bind(null,r,s,n,e),void 0,null),n},useId:function(){var t=ho(),e=Tr.identifierPrefix;if(kn){var n=Ho,r=$o;n=(r&~(1<<32-Os(r)-1)).toString(32)+n,e=":"+e+"R"+n,n=df++,0<n&&(e+="H"+n.toString(32)),e+=":"}else n=yP++,e=":"+e+"r"+n.toString(32)+":";return t.memoizedState=e},unstable_isNewReconciler:!1},_P={readContext:ws,useCallback:eS,useContext:ws,useEffect:By,useImperativeHandle:Z6,useInsertionEffect:Y6,useLayoutEffect:X6,useMemo:tS,useReducer:n1,useRef:Q6,useState:function(){return n1(pf)},useDebugValue:Uy,useDeferredValue:function(t){var e=xs();return nS(e,vr.memoizedState,t)},useTransition:function(){var t=n1(pf)[0],e=xs().memoizedState;return[t,e]},useMutableSource:z6,useSyncExternalStore:q6,useId:rS,unstable_isNewReconciler:!1},SP={readContext:ws,useCallback:eS,useContext:ws,useEffect:By,useImperativeHandle:Z6,useInsertionEffect:Y6,useLayoutEffect:X6,useMemo:tS,useReducer:r1,useRef:Q6,useState:function(){return r1(pf)},useDebugValue:Uy,useDeferredValue:function(t){var e=xs();return vr===null?e.memoizedState=t:nS(e,vr.memoizedState,t)},useTransition:function(){var t=r1(pf)[0],e=xs().memoizedState;return[t,e]},useMutableSource:z6,useSyncExternalStore:q6,useId:rS,unstable_isNewReconciler:!1};function Ds(t,e){if(t&&t.defaultProps){e=On({},e),t=t.defaultProps;for(var n in t)e[n]===void 0&&(e[n]=t[n]);return e}return e}function Mg(t,e,n,r){e=t.memoizedState,n=n(r,e),n=n==null?e:On({},e,n),t.memoizedState=n,t.lanes===0&&(t.updateQueue.baseState=n)}var z0={isMounted:function(t){return(t=t._reactInternals)?fu(t)===t:!1},enqueueSetState:function(t,e,n){t=t._reactInternals;var r=di(),i=Ka(t),s=Go(r,i);s.payload=e,n!=null&&(s.callback=n),e=Wa(t,s,i),e!==null&&(Vs(e,t,i,r),dp(e,t,i))},enqueueReplaceState:function(t,e,n){t=t._reactInternals;var r=di(),i=Ka(t),s=Go(r,i);s.tag=1,s.payload=e,n!=null&&(s.callback=n),e=Wa(t,s,i),e!==null&&(Vs(e,t,i,r),dp(e,t,i))},enqueueForceUpdate:function(t,e){t=t._reactInternals;var n=di(),r=Ka(t),i=Go(n,r);i.tag=2,e!=null&&(i.callback=e),e=Wa(t,i,r),e!==null&&(Vs(e,t,r,n),dp(e,t,r))}};function ex(t,e,n,r,i,s,o){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(r,s,o):e.prototype&&e.prototype.isPureReactComponent?!af(n,r)||!af(i,s):!0}function aS(t,e,n){var r=!1,i=tl,s=e.contextType;return typeof s=="object"&&s!==null?s=ws(s):(i=Li(e)?eu:ii.current,r=e.contextTypes,s=(r=r!=null)?dc(t,i):tl),e=new e(n,s),t.memoizedState=e.state!==null&&e.state!==void 0?e.state:null,e.updater=z0,t.stateNode=e,e._reactInternals=t,r&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=i,t.__reactInternalMemoizedMaskedChildContext=s),e}function tx(t,e,n,r){t=e.state,typeof e.componentWillReceiveProps=="function"&&e.componentWillReceiveProps(n,r),typeof e.UNSAFE_componentWillReceiveProps=="function"&&e.UNSAFE_componentWillReceiveProps(n,r),e.state!==t&&z0.enqueueReplaceState(e,e.state,null)}function Fg(t,e,n,r){var i=t.stateNode;i.props=n,i.state=t.memoizedState,i.refs={},Ry(t);var s=e.contextType;typeof s=="object"&&s!==null?i.context=ws(s):(s=Li(e)?eu:ii.current,i.context=dc(t,s)),i.state=t.memoizedState,s=e.getDerivedStateFromProps,typeof s=="function"&&(Mg(t,e,s,n),i.state=t.memoizedState),typeof e.getDerivedStateFromProps=="function"||typeof i.getSnapshotBeforeUpdate=="function"||typeof i.UNSAFE_componentWillMount!="function"&&typeof i.componentWillMount!="function"||(e=i.state,typeof i.componentWillMount=="function"&&i.componentWillMount(),typeof i.UNSAFE_componentWillMount=="function"&&i.UNSAFE_componentWillMount(),e!==i.state&&z0.enqueueReplaceState(i,i.state,null),Yp(t,n,i,r),i.state=t.memoizedState),typeof i.componentDidMount=="function"&&(t.flags|=4194308)}function yc(t,e){try{var n="",r=e;do n+=XC(r),r=r.return;while(r);var i=n}catch(s){i=`
Error generating stack: `+s.message+`
`+s.stack}return{value:t,source:e,stack:i,digest:null}}function i1(t,e,n){return{value:t,source:null,stack:n??null,digest:e??null}}function Og(t,e){try{console.error(e.value)}catch(n){setTimeout(function(){throw n})}}var AP=typeof WeakMap=="function"?WeakMap:Map;function lS(t,e,n){n=Go(-1,n),n.tag=3,n.payload={element:null};var r=e.value;return n.callback=function(){t0||(t0=!0,Kg=r),Og(t,e)},n}function uS(t,e,n){n=Go(-1,n),n.tag=3;var r=t.type.getDerivedStateFromError;if(typeof r=="function"){var i=e.value;n.payload=function(){return r(i)},n.callback=function(){Og(t,e)}}var s=t.stateNode;return s!==null&&typeof s.componentDidCatch=="function"&&(n.callback=function(){Og(t,e),typeof r!="function"&&(Ga===null?Ga=new Set([this]):Ga.add(this));var o=e.stack;this.componentDidCatch(e.value,{componentStack:o!==null?o:""})}),n}function nx(t,e,n){var r=t.pingCache;if(r===null){r=t.pingCache=new AP;var i=new Set;r.set(e,i)}else i=r.get(e),i===void 0&&(i=new Set,r.set(e,i));i.has(n)||(i.add(n),t=OP.bind(null,t,e,n),e.then(t,t))}function rx(t){do{var e;if((e=t.tag===13)&&(e=t.memoizedState,e=e!==null?e.dehydrated!==null:!0),e)return t;t=t.return}while(t!==null);return null}function ix(t,e,n,r,i){return t.mode&1?(t.flags|=65536,t.lanes=i,t):(t===e?t.flags|=65536:(t.flags|=128,n.flags|=131072,n.flags&=-52805,n.tag===1&&(n.alternate===null?n.tag=17:(e=Go(-1,1),e.tag=2,Wa(n,e,1))),n.lanes|=1),t)}var NP=sa.ReactCurrentOwner,ki=!1;function hi(t,e,n,r){e.child=t===null?O6(e,null,n,r):mc(e,t.child,n,r)}function sx(t,e,n,r,i){n=n.render;var s=e.ref;return rc(e,i),r=Oy(t,e,n,r,s,i),n=Vy(),t!==null&&!ki?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~i,Jo(t,e,i)):(kn&&n&&Ey(e),e.flags|=1,hi(t,e,r,i),e.child)}function ox(t,e,n,r,i){if(t===null){var s=n.type;return typeof s=="function"&&!Qy(s)&&s.defaultProps===void 0&&n.compare===null&&n.defaultProps===void 0?(e.tag=15,e.type=s,cS(t,e,s,r,i)):(t=wp(n.type,null,r,e,e.mode,i),t.ref=e.ref,t.return=e,e.child=t)}if(s=t.child,!(t.lanes&i)){var o=s.memoizedProps;if(n=n.compare,n=n!==null?n:af,n(o,r)&&t.ref===e.ref)return Jo(t,e,i)}return e.flags|=1,t=Qa(s,r),t.ref=e.ref,t.return=e,e.child=t}function cS(t,e,n,r,i){if(t!==null){var s=t.memoizedProps;if(af(s,r)&&t.ref===e.ref)if(ki=!1,e.pendingProps=r=s,(t.lanes&i)!==0)t.flags&131072&&(ki=!0);else return e.lanes=t.lanes,Jo(t,e,i)}return Vg(t,e,n,r,i)}function hS(t,e,n){var r=e.pendingProps,i=r.children,s=t!==null?t.memoizedState:null;if(r.mode==="hidden")if(!(e.mode&1))e.memoizedState={baseLanes:0,cachePool:null,transitions:null},yn(Hu,Yi),Yi|=n;else{if(!(n&1073741824))return t=s!==null?s.baseLanes|n:n,e.lanes=e.childLanes=1073741824,e.memoizedState={baseLanes:t,cachePool:null,transitions:null},e.updateQueue=null,yn(Hu,Yi),Yi|=t,null;e.memoizedState={baseLanes:0,cachePool:null,transitions:null},r=s!==null?s.baseLanes:n,yn(Hu,Yi),Yi|=r}else s!==null?(r=s.baseLanes|n,e.memoizedState=null):r=n,yn(Hu,Yi),Yi|=r;return hi(t,e,i,n),e.child}function fS(t,e){var n=e.ref;(t===null&&n!==null||t!==null&&t.ref!==n)&&(e.flags|=512,e.flags|=2097152)}function Vg(t,e,n,r,i){var s=Li(n)?eu:ii.current;return s=dc(e,s),rc(e,i),n=Oy(t,e,n,r,s,i),r=Vy(),t!==null&&!ki?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~i,Jo(t,e,i)):(kn&&r&&Ey(e),e.flags|=1,hi(t,e,n,i),e.child)}function ax(t,e,n,r,i){if(Li(n)){var s=!0;Hp(e)}else s=!1;if(rc(e,i),e.stateNode===null)gp(t,e),aS(e,n,r),Fg(e,n,r,i),r=!0;else if(t===null){var o=e.stateNode,a=e.memoizedProps;o.props=a;var l=o.context,u=n.contextType;typeof u=="object"&&u!==null?u=ws(u):(u=Li(n)?eu:ii.current,u=dc(e,u));var c=n.getDerivedStateFromProps,d=typeof c=="function"||typeof o.getSnapshotBeforeUpdate=="function";d||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(a!==r||l!==u)&&tx(e,o,r,u),ja=!1;var g=e.memoizedState;o.state=g,Yp(e,r,o,i),l=e.memoizedState,a!==r||g!==l||Ii.current||ja?(typeof c=="function"&&(Mg(e,n,c,r),l=e.memoizedState),(a=ja||ex(e,n,a,r,g,l,u))?(d||typeof o.UNSAFE_componentWillMount!="function"&&typeof o.componentWillMount!="function"||(typeof o.componentWillMount=="function"&&o.componentWillMount(),typeof o.UNSAFE_componentWillMount=="function"&&o.UNSAFE_componentWillMount()),typeof o.componentDidMount=="function"&&(e.flags|=4194308)):(typeof o.componentDidMount=="function"&&(e.flags|=4194308),e.memoizedProps=r,e.memoizedState=l),o.props=r,o.state=l,o.context=u,r=a):(typeof o.componentDidMount=="function"&&(e.flags|=4194308),r=!1)}else{o=e.stateNode,B6(t,e),a=e.memoizedProps,u=e.type===e.elementType?a:Ds(e.type,a),o.props=u,d=e.pendingProps,g=o.context,l=n.contextType,typeof l=="object"&&l!==null?l=ws(l):(l=Li(n)?eu:ii.current,l=dc(e,l));var p=n.getDerivedStateFromProps;(c=typeof p=="function"||typeof o.getSnapshotBeforeUpdate=="function")||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(a!==d||g!==l)&&tx(e,o,r,l),ja=!1,g=e.memoizedState,o.state=g,Yp(e,r,o,i);var b=e.memoizedState;a!==d||g!==b||Ii.current||ja?(typeof p=="function"&&(Mg(e,n,p,r),b=e.memoizedState),(u=ja||ex(e,n,u,r,g,b,l)||!1)?(c||typeof o.UNSAFE_componentWillUpdate!="function"&&typeof o.componentWillUpdate!="function"||(typeof o.componentWillUpdate=="function"&&o.componentWillUpdate(r,b,l),typeof o.UNSAFE_componentWillUpdate=="function"&&o.UNSAFE_componentWillUpdate(r,b,l)),typeof o.componentDidUpdate=="function"&&(e.flags|=4),typeof o.getSnapshotBeforeUpdate=="function"&&(e.flags|=1024)):(typeof o.componentDidUpdate!="function"||a===t.memoizedProps&&g===t.memoizedState||(e.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||a===t.memoizedProps&&g===t.memoizedState||(e.flags|=1024),e.memoizedProps=r,e.memoizedState=b),o.props=r,o.state=b,o.context=l,r=u):(typeof o.componentDidUpdate!="function"||a===t.memoizedProps&&g===t.memoizedState||(e.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||a===t.memoizedProps&&g===t.memoizedState||(e.flags|=1024),r=!1)}return Bg(t,e,n,r,s,i)}function Bg(t,e,n,r,i,s){fS(t,e);var o=(e.flags&128)!==0;if(!r&&!o)return i&&Ww(e,n,!1),Jo(t,e,s);r=e.stateNode,NP.current=e;var a=o&&typeof n.getDerivedStateFromError!="function"?null:r.render();return e.flags|=1,t!==null&&o?(e.child=mc(e,t.child,null,s),e.child=mc(e,null,a,s)):hi(t,e,a,s),e.memoizedState=r.state,i&&Ww(e,n,!0),e.child}function dS(t){var e=t.stateNode;e.pendingContext?Hw(t,e.pendingContext,e.pendingContext!==e.context):e.context&&Hw(t,e.context,!1),jy(t,e.containerInfo)}function lx(t,e,n,r,i){return pc(),Cy(i),e.flags|=256,hi(t,e,n,r),e.child}var Ug={dehydrated:null,treeContext:null,retryLane:0};function zg(t){return{baseLanes:t,cachePool:null,transitions:null}}function pS(t,e,n){var r=e.pendingProps,i=jn.current,s=!1,o=(e.flags&128)!==0,a;if((a=o)||(a=t!==null&&t.memoizedState===null?!1:(i&2)!==0),a?(s=!0,e.flags&=-129):(t===null||t.memoizedState!==null)&&(i|=1),yn(jn,i&1),t===null)return jg(e),t=e.memoizedState,t!==null&&(t=t.dehydrated,t!==null)?(e.mode&1?t.data==="$!"?e.lanes=8:e.lanes=1073741824:e.lanes=1,null):(o=r.children,t=r.fallback,s?(r=e.mode,s=e.child,o={mode:"hidden",children:o},!(r&1)&&s!==null?(s.childLanes=0,s.pendingProps=o):s=H0(o,r,0,null),t=Kl(t,r,n,null),s.return=e,t.return=e,s.sibling=t,e.child=s,e.child.memoizedState=zg(n),e.memoizedState=Ug,t):zy(e,o));if(i=t.memoizedState,i!==null&&(a=i.dehydrated,a!==null))return EP(t,e,o,r,a,i,n);if(s){s=r.fallback,o=e.mode,i=t.child,a=i.sibling;var l={mode:"hidden",children:r.children};return!(o&1)&&e.child!==i?(r=e.child,r.childLanes=0,r.pendingProps=l,e.deletions=null):(r=Qa(i,l),r.subtreeFlags=i.subtreeFlags&14680064),a!==null?s=Qa(a,s):(s=Kl(s,o,n,null),s.flags|=2),s.return=e,r.return=e,r.sibling=s,e.child=r,r=s,s=e.child,o=t.child.memoizedState,o=o===null?zg(n):{baseLanes:o.baseLanes|n,cachePool:null,transitions:o.transitions},s.memoizedState=o,s.childLanes=t.childLanes&~n,e.memoizedState=Ug,r}return s=t.child,t=s.sibling,r=Qa(s,{mode:"visible",children:r.children}),!(e.mode&1)&&(r.lanes=n),r.return=e,r.sibling=null,t!==null&&(n=e.deletions,n===null?(e.deletions=[t],e.flags|=16):n.push(t)),e.child=r,e.memoizedState=null,r}function zy(t,e){return e=H0({mode:"visible",children:e},t.mode,0,null),e.return=t,t.child=e}function Ud(t,e,n,r){return r!==null&&Cy(r),mc(e,t.child,null,n),t=zy(e,e.pendingProps.children),t.flags|=2,e.memoizedState=null,t}function EP(t,e,n,r,i,s,o){if(n)return e.flags&256?(e.flags&=-257,r=i1(Error(Fe(422))),Ud(t,e,o,r)):e.memoizedState!==null?(e.child=t.child,e.flags|=128,null):(s=r.fallback,i=e.mode,r=H0({mode:"visible",children:r.children},i,0,null),s=Kl(s,i,o,null),s.flags|=2,r.return=e,s.return=e,r.sibling=s,e.child=r,e.mode&1&&mc(e,t.child,null,o),e.child.memoizedState=zg(o),e.memoizedState=Ug,s);if(!(e.mode&1))return Ud(t,e,o,null);if(i.data==="$!"){if(r=i.nextSibling&&i.nextSibling.dataset,r)var a=r.dgst;return r=a,s=Error(Fe(419)),r=i1(s,r,void 0),Ud(t,e,o,r)}if(a=(o&t.childLanes)!==0,ki||a){if(r=Tr,r!==null){switch(o&-o){case 4:i=2;break;case 16:i=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:i=32;break;case 536870912:i=268435456;break;default:i=0}i=i&(r.suspendedLanes|o)?0:i,i!==0&&i!==s.retryLane&&(s.retryLane=i,Xo(t,i),Vs(r,t,i,-1))}return Ky(),r=i1(Error(Fe(421))),Ud(t,e,o,r)}return i.data==="$?"?(e.flags|=128,e.child=t.child,e=VP.bind(null,t),i._reactRetry=e,null):(t=s.treeContext,Xi=Ha(i.nextSibling),es=e,kn=!0,Fs=null,t!==null&&(ps[ms++]=$o,ps[ms++]=Ho,ps[ms++]=tu,$o=t.id,Ho=t.overflow,tu=e),e=zy(e,r.children),e.flags|=4096,e)}function ux(t,e,n){t.lanes|=e;var r=t.alternate;r!==null&&(r.lanes|=e),Dg(t.return,e,n)}function s1(t,e,n,r,i){var s=t.memoizedState;s===null?t.memoizedState={isBackwards:e,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:i}:(s.isBackwards=e,s.rendering=null,s.renderingStartTime=0,s.last=r,s.tail=n,s.tailMode=i)}function mS(t,e,n){var r=e.pendingProps,i=r.revealOrder,s=r.tail;if(hi(t,e,r.children,n),r=jn.current,r&2)r=r&1|2,e.flags|=128;else{if(t!==null&&t.flags&128)e:for(t=e.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&ux(t,n,e);else if(t.tag===19)ux(t,n,e);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break e;for(;t.sibling===null;){if(t.return===null||t.return===e)break e;t=t.return}t.sibling.return=t.return,t=t.sibling}r&=1}if(yn(jn,r),!(e.mode&1))e.memoizedState=null;else switch(i){case"forwards":for(n=e.child,i=null;n!==null;)t=n.alternate,t!==null&&Xp(t)===null&&(i=n),n=n.sibling;n=i,n===null?(i=e.child,e.child=null):(i=n.sibling,n.sibling=null),s1(e,!1,i,n,s);break;case"backwards":for(n=null,i=e.child,e.child=null;i!==null;){if(t=i.alternate,t!==null&&Xp(t)===null){e.child=i;break}t=i.sibling,i.sibling=n,n=i,i=t}s1(e,!0,n,null,s);break;case"together":s1(e,!1,null,null,void 0);break;default:e.memoizedState=null}return e.child}function gp(t,e){!(e.mode&1)&&t!==null&&(t.alternate=null,e.alternate=null,e.flags|=2)}function Jo(t,e,n){if(t!==null&&(e.dependencies=t.dependencies),ru|=e.lanes,!(n&e.childLanes))return null;if(t!==null&&e.child!==t.child)throw Error(Fe(153));if(e.child!==null){for(t=e.child,n=Qa(t,t.pendingProps),e.child=n,n.return=e;t.sibling!==null;)t=t.sibling,n=n.sibling=Qa(t,t.pendingProps),n.return=e;n.sibling=null}return e.child}function TP(t,e,n){switch(e.tag){case 3:dS(e),pc();break;case 5:U6(e);break;case 1:Li(e.type)&&Hp(e);break;case 4:jy(e,e.stateNode.containerInfo);break;case 10:var r=e.type._context,i=e.memoizedProps.value;yn(Kp,r._currentValue),r._currentValue=i;break;case 13:if(r=e.memoizedState,r!==null)return r.dehydrated!==null?(yn(jn,jn.current&1),e.flags|=128,null):n&e.child.childLanes?pS(t,e,n):(yn(jn,jn.current&1),t=Jo(t,e,n),t!==null?t.sibling:null);yn(jn,jn.current&1);break;case 19:if(r=(n&e.childLanes)!==0,t.flags&128){if(r)return mS(t,e,n);e.flags|=128}if(i=e.memoizedState,i!==null&&(i.rendering=null,i.tail=null,i.lastEffect=null),yn(jn,jn.current),r)break;return null;case 22:case 23:return e.lanes=0,hS(t,e,n)}return Jo(t,e,n)}var gS,qg,yS,vS;gS=function(t,e){for(var n=e.child;n!==null;){if(n.tag===5||n.tag===6)t.appendChild(n.stateNode);else if(n.tag!==4&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===e)break;for(;n.sibling===null;){if(n.return===null||n.return===e)return;n=n.return}n.sibling.return=n.return,n=n.sibling}};qg=function(){};yS=function(t,e,n,r){var i=t.memoizedProps;if(i!==r){t=e.stateNode,ql(go.current);var s=null;switch(n){case"input":i=hg(t,i),r=hg(t,r),s=[];break;case"select":i=On({},i,{value:void 0}),r=On({},r,{value:void 0}),s=[];break;case"textarea":i=pg(t,i),r=pg(t,r),s=[];break;default:typeof i.onClick!="function"&&typeof r.onClick=="function"&&(t.onclick=qp)}gg(n,r);var o;n=null;for(u in i)if(!r.hasOwnProperty(u)&&i.hasOwnProperty(u)&&i[u]!=null)if(u==="style"){var a=i[u];for(o in a)a.hasOwnProperty(o)&&(n||(n={}),n[o]="")}else u!=="dangerouslySetInnerHTML"&&u!=="children"&&u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&u!=="autoFocus"&&(Zh.hasOwnProperty(u)?s||(s=[]):(s=s||[]).push(u,null));for(u in r){var l=r[u];if(a=i!=null?i[u]:void 0,r.hasOwnProperty(u)&&l!==a&&(l!=null||a!=null))if(u==="style")if(a){for(o in a)!a.hasOwnProperty(o)||l&&l.hasOwnProperty(o)||(n||(n={}),n[o]="");for(o in l)l.hasOwnProperty(o)&&a[o]!==l[o]&&(n||(n={}),n[o]=l[o])}else n||(s||(s=[]),s.push(u,n)),n=l;else u==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,a=a?a.__html:void 0,l!=null&&a!==l&&(s=s||[]).push(u,l)):u==="children"?typeof l!="string"&&typeof l!="number"||(s=s||[]).push(u,""+l):u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&(Zh.hasOwnProperty(u)?(l!=null&&u==="onScroll"&&bn("scroll",t),s||a===l||(s=[])):(s=s||[]).push(u,l))}n&&(s=s||[]).push("style",n);var u=s;(e.updateQueue=u)&&(e.flags|=4)}};vS=function(t,e,n,r){n!==r&&(e.flags|=4)};function gh(t,e){if(!kn)switch(t.tailMode){case"hidden":e=t.tail;for(var n=null;e!==null;)e.alternate!==null&&(n=e),e=e.sibling;n===null?t.tail=null:n.sibling=null;break;case"collapsed":n=t.tail;for(var r=null;n!==null;)n.alternate!==null&&(r=n),n=n.sibling;r===null?e||t.tail===null?t.tail=null:t.tail.sibling=null:r.sibling=null}}function Gr(t){var e=t.alternate!==null&&t.alternate.child===t.child,n=0,r=0;if(e)for(var i=t.child;i!==null;)n|=i.lanes|i.childLanes,r|=i.subtreeFlags&14680064,r|=i.flags&14680064,i.return=t,i=i.sibling;else for(i=t.child;i!==null;)n|=i.lanes|i.childLanes,r|=i.subtreeFlags,r|=i.flags,i.return=t,i=i.sibling;return t.subtreeFlags|=r,t.childLanes=n,e}function CP(t,e,n){var r=e.pendingProps;switch(Ty(e),e.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Gr(e),null;case 1:return Li(e.type)&&$p(),Gr(e),null;case 3:return r=e.stateNode,gc(),An(Ii),An(ii),My(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),(t===null||t.child===null)&&(Vd(e)?e.flags|=4:t===null||t.memoizedState.isDehydrated&&!(e.flags&256)||(e.flags|=1024,Fs!==null&&(Xg(Fs),Fs=null))),qg(t,e),Gr(e),null;case 5:Dy(e);var i=ql(ff.current);if(n=e.type,t!==null&&e.stateNode!=null)yS(t,e,n,r,i),t.ref!==e.ref&&(e.flags|=512,e.flags|=2097152);else{if(!r){if(e.stateNode===null)throw Error(Fe(166));return Gr(e),null}if(t=ql(go.current),Vd(e)){r=e.stateNode,n=e.type;var s=e.memoizedProps;switch(r[fo]=e,r[cf]=s,t=(e.mode&1)!==0,n){case"dialog":bn("cancel",r),bn("close",r);break;case"iframe":case"object":case"embed":bn("load",r);break;case"video":case"audio":for(i=0;i<Eh.length;i++)bn(Eh[i],r);break;case"source":bn("error",r);break;case"img":case"image":case"link":bn("error",r),bn("load",r);break;case"details":bn("toggle",r);break;case"input":vw(r,s),bn("invalid",r);break;case"select":r._wrapperState={wasMultiple:!!s.multiple},bn("invalid",r);break;case"textarea":xw(r,s),bn("invalid",r)}gg(n,s),i=null;for(var o in s)if(s.hasOwnProperty(o)){var a=s[o];o==="children"?typeof a=="string"?r.textContent!==a&&(s.suppressHydrationWarning!==!0&&Od(r.textContent,a,t),i=["children",a]):typeof a=="number"&&r.textContent!==""+a&&(s.suppressHydrationWarning!==!0&&Od(r.textContent,a,t),i=["children",""+a]):Zh.hasOwnProperty(o)&&a!=null&&o==="onScroll"&&bn("scroll",r)}switch(n){case"input":Pd(r),ww(r,s,!0);break;case"textarea":Pd(r),bw(r);break;case"select":case"option":break;default:typeof s.onClick=="function"&&(r.onclick=qp)}r=i,e.updateQueue=r,r!==null&&(e.flags|=4)}else{o=i.nodeType===9?i:i.ownerDocument,t==="http://www.w3.org/1999/xhtml"&&(t=W_(n)),t==="http://www.w3.org/1999/xhtml"?n==="script"?(t=o.createElement("div"),t.innerHTML="<script><\/script>",t=t.removeChild(t.firstChild)):typeof r.is=="string"?t=o.createElement(n,{is:r.is}):(t=o.createElement(n),n==="select"&&(o=t,r.multiple?o.multiple=!0:r.size&&(o.size=r.size))):t=o.createElementNS(t,n),t[fo]=e,t[cf]=r,gS(t,e,!1,!1),e.stateNode=t;e:{switch(o=yg(n,r),n){case"dialog":bn("cancel",t),bn("close",t),i=r;break;case"iframe":case"object":case"embed":bn("load",t),i=r;break;case"video":case"audio":for(i=0;i<Eh.length;i++)bn(Eh[i],t);i=r;break;case"source":bn("error",t),i=r;break;case"img":case"image":case"link":bn("error",t),bn("load",t),i=r;break;case"details":bn("toggle",t),i=r;break;case"input":vw(t,r),i=hg(t,r),bn("invalid",t);break;case"option":i=r;break;case"select":t._wrapperState={wasMultiple:!!r.multiple},i=On({},r,{value:void 0}),bn("invalid",t);break;case"textarea":xw(t,r),i=pg(t,r),bn("invalid",t);break;default:i=r}gg(n,i),a=i;for(s in a)if(a.hasOwnProperty(s)){var l=a[s];s==="style"?Q_(t,l):s==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,l!=null&&G_(t,l)):s==="children"?typeof l=="string"?(n!=="textarea"||l!=="")&&ef(t,l):typeof l=="number"&&ef(t,""+l):s!=="suppressContentEditableWarning"&&s!=="suppressHydrationWarning"&&s!=="autoFocus"&&(Zh.hasOwnProperty(s)?l!=null&&s==="onScroll"&&bn("scroll",t):l!=null&&fy(t,s,l,o))}switch(n){case"input":Pd(t),ww(t,r,!1);break;case"textarea":Pd(t),bw(t);break;case"option":r.value!=null&&t.setAttribute("value",""+el(r.value));break;case"select":t.multiple=!!r.multiple,s=r.value,s!=null?Zu(t,!!r.multiple,s,!1):r.defaultValue!=null&&Zu(t,!!r.multiple,r.defaultValue,!0);break;default:typeof i.onClick=="function"&&(t.onclick=qp)}switch(n){case"button":case"input":case"select":case"textarea":r=!!r.autoFocus;break e;case"img":r=!0;break e;default:r=!1}}r&&(e.flags|=4)}e.ref!==null&&(e.flags|=512,e.flags|=2097152)}return Gr(e),null;case 6:if(t&&e.stateNode!=null)vS(t,e,t.memoizedProps,r);else{if(typeof r!="string"&&e.stateNode===null)throw Error(Fe(166));if(n=ql(ff.current),ql(go.current),Vd(e)){if(r=e.stateNode,n=e.memoizedProps,r[fo]=e,(s=r.nodeValue!==n)&&(t=es,t!==null))switch(t.tag){case 3:Od(r.nodeValue,n,(t.mode&1)!==0);break;case 5:t.memoizedProps.suppressHydrationWarning!==!0&&Od(r.nodeValue,n,(t.mode&1)!==0)}s&&(e.flags|=4)}else r=(n.nodeType===9?n:n.ownerDocument).createTextNode(r),r[fo]=e,e.stateNode=r}return Gr(e),null;case 13:if(An(jn),r=e.memoizedState,t===null||t.memoizedState!==null&&t.memoizedState.dehydrated!==null){if(kn&&Xi!==null&&e.mode&1&&!(e.flags&128))M6(),pc(),e.flags|=98560,s=!1;else if(s=Vd(e),r!==null&&r.dehydrated!==null){if(t===null){if(!s)throw Error(Fe(318));if(s=e.memoizedState,s=s!==null?s.dehydrated:null,!s)throw Error(Fe(317));s[fo]=e}else pc(),!(e.flags&128)&&(e.memoizedState=null),e.flags|=4;Gr(e),s=!1}else Fs!==null&&(Xg(Fs),Fs=null),s=!0;if(!s)return e.flags&65536?e:null}return e.flags&128?(e.lanes=n,e):(r=r!==null,r!==(t!==null&&t.memoizedState!==null)&&r&&(e.child.flags|=8192,e.mode&1&&(t===null||jn.current&1?wr===0&&(wr=3):Ky())),e.updateQueue!==null&&(e.flags|=4),Gr(e),null);case 4:return gc(),qg(t,e),t===null&&lf(e.stateNode.containerInfo),Gr(e),null;case 10:return Iy(e.type._context),Gr(e),null;case 17:return Li(e.type)&&$p(),Gr(e),null;case 19:if(An(jn),s=e.memoizedState,s===null)return Gr(e),null;if(r=(e.flags&128)!==0,o=s.rendering,o===null)if(r)gh(s,!1);else{if(wr!==0||t!==null&&t.flags&128)for(t=e.child;t!==null;){if(o=Xp(t),o!==null){for(e.flags|=128,gh(s,!1),r=o.updateQueue,r!==null&&(e.updateQueue=r,e.flags|=4),e.subtreeFlags=0,r=n,n=e.child;n!==null;)s=n,t=r,s.flags&=14680066,o=s.alternate,o===null?(s.childLanes=0,s.lanes=t,s.child=null,s.subtreeFlags=0,s.memoizedProps=null,s.memoizedState=null,s.updateQueue=null,s.dependencies=null,s.stateNode=null):(s.childLanes=o.childLanes,s.lanes=o.lanes,s.child=o.child,s.subtreeFlags=0,s.deletions=null,s.memoizedProps=o.memoizedProps,s.memoizedState=o.memoizedState,s.updateQueue=o.updateQueue,s.type=o.type,t=o.dependencies,s.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext}),n=n.sibling;return yn(jn,jn.current&1|2),e.child}t=t.sibling}s.tail!==null&&ir()>vc&&(e.flags|=128,r=!0,gh(s,!1),e.lanes=4194304)}else{if(!r)if(t=Xp(o),t!==null){if(e.flags|=128,r=!0,n=t.updateQueue,n!==null&&(e.updateQueue=n,e.flags|=4),gh(s,!0),s.tail===null&&s.tailMode==="hidden"&&!o.alternate&&!kn)return Gr(e),null}else 2*ir()-s.renderingStartTime>vc&&n!==1073741824&&(e.flags|=128,r=!0,gh(s,!1),e.lanes=4194304);s.isBackwards?(o.sibling=e.child,e.child=o):(n=s.last,n!==null?n.sibling=o:e.child=o,s.last=o)}return s.tail!==null?(e=s.tail,s.rendering=e,s.tail=e.sibling,s.renderingStartTime=ir(),e.sibling=null,n=jn.current,yn(jn,r?n&1|2:n&1),e):(Gr(e),null);case 22:case 23:return Gy(),r=e.memoizedState!==null,t!==null&&t.memoizedState!==null!==r&&(e.flags|=8192),r&&e.mode&1?Yi&1073741824&&(Gr(e),e.subtreeFlags&6&&(e.flags|=8192)):Gr(e),null;case 24:return null;case 25:return null}throw Error(Fe(156,e.tag))}function kP(t,e){switch(Ty(e),e.tag){case 1:return Li(e.type)&&$p(),t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 3:return gc(),An(Ii),An(ii),My(),t=e.flags,t&65536&&!(t&128)?(e.flags=t&-65537|128,e):null;case 5:return Dy(e),null;case 13:if(An(jn),t=e.memoizedState,t!==null&&t.dehydrated!==null){if(e.alternate===null)throw Error(Fe(340));pc()}return t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 19:return An(jn),null;case 4:return gc(),null;case 10:return Iy(e.type._context),null;case 22:case 23:return Gy(),null;case 24:return null;default:return null}}var zd=!1,ei=!1,PP=typeof WeakSet=="function"?WeakSet:Set,He=null;function $u(t,e){var n=t.ref;if(n!==null)if(typeof n=="function")try{n(null)}catch(r){Gn(t,e,r)}else n.current=null}function $g(t,e,n){try{n()}catch(r){Gn(t,e,r)}}var cx=!1;function IP(t,e){if(Tg=Bp,t=S6(),Ny(t)){if("selectionStart"in t)var n={start:t.selectionStart,end:t.selectionEnd};else e:{n=(n=t.ownerDocument)&&n.defaultView||window;var r=n.getSelection&&n.getSelection();if(r&&r.rangeCount!==0){n=r.anchorNode;var i=r.anchorOffset,s=r.focusNode;r=r.focusOffset;try{n.nodeType,s.nodeType}catch{n=null;break e}var o=0,a=-1,l=-1,u=0,c=0,d=t,g=null;t:for(;;){for(var p;d!==n||i!==0&&d.nodeType!==3||(a=o+i),d!==s||r!==0&&d.nodeType!==3||(l=o+r),d.nodeType===3&&(o+=d.nodeValue.length),(p=d.firstChild)!==null;)g=d,d=p;for(;;){if(d===t)break t;if(g===n&&++u===i&&(a=o),g===s&&++c===r&&(l=o),(p=d.nextSibling)!==null)break;d=g,g=d.parentNode}d=p}n=a===-1||l===-1?null:{start:a,end:l}}else n=null}n=n||{start:0,end:0}}else n=null;for(Cg={focusedElem:t,selectionRange:n},Bp=!1,He=e;He!==null;)if(e=He,t=e.child,(e.subtreeFlags&1028)!==0&&t!==null)t.return=e,He=t;else for(;He!==null;){e=He;try{var b=e.alternate;if(e.flags&1024)switch(e.tag){case 0:case 11:case 15:break;case 1:if(b!==null){var x=b.memoizedProps,A=b.memoizedState,v=e.stateNode,_=v.getSnapshotBeforeUpdate(e.elementType===e.type?x:Ds(e.type,x),A);v.__reactInternalSnapshotBeforeUpdate=_}break;case 3:var T=e.stateNode.containerInfo;T.nodeType===1?T.textContent="":T.nodeType===9&&T.documentElement&&T.removeChild(T.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(Fe(163))}}catch(R){Gn(e,e.return,R)}if(t=e.sibling,t!==null){t.return=e.return,He=t;break}He=e.return}return b=cx,cx=!1,b}function Oh(t,e,n){var r=e.updateQueue;if(r=r!==null?r.lastEffect:null,r!==null){var i=r=r.next;do{if((i.tag&t)===t){var s=i.destroy;i.destroy=void 0,s!==void 0&&$g(e,n,s)}i=i.next}while(i!==r)}}function q0(t,e){if(e=e.updateQueue,e=e!==null?e.lastEffect:null,e!==null){var n=e=e.next;do{if((n.tag&t)===t){var r=n.create;n.destroy=r()}n=n.next}while(n!==e)}}function Hg(t){var e=t.ref;if(e!==null){var n=t.stateNode;switch(t.tag){case 5:t=n;break;default:t=n}typeof e=="function"?e(t):e.current=t}}function wS(t){var e=t.alternate;e!==null&&(t.alternate=null,wS(e)),t.child=null,t.deletions=null,t.sibling=null,t.tag===5&&(e=t.stateNode,e!==null&&(delete e[fo],delete e[cf],delete e[Ig],delete e[dP],delete e[pP])),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}function xS(t){return t.tag===5||t.tag===3||t.tag===4}function hx(t){e:for(;;){for(;t.sibling===null;){if(t.return===null||xS(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==5&&t.tag!==6&&t.tag!==18;){if(t.flags&2||t.child===null||t.tag===4)continue e;t.child.return=t,t=t.child}if(!(t.flags&2))return t.stateNode}}function Wg(t,e,n){var r=t.tag;if(r===5||r===6)t=t.stateNode,e?n.nodeType===8?n.parentNode.insertBefore(t,e):n.insertBefore(t,e):(n.nodeType===8?(e=n.parentNode,e.insertBefore(t,n)):(e=n,e.appendChild(t)),n=n._reactRootContainer,n!=null||e.onclick!==null||(e.onclick=qp));else if(r!==4&&(t=t.child,t!==null))for(Wg(t,e,n),t=t.sibling;t!==null;)Wg(t,e,n),t=t.sibling}function Gg(t,e,n){var r=t.tag;if(r===5||r===6)t=t.stateNode,e?n.insertBefore(t,e):n.appendChild(t);else if(r!==4&&(t=t.child,t!==null))for(Gg(t,e,n),t=t.sibling;t!==null;)Gg(t,e,n),t=t.sibling}var Rr=null,Ms=!1;function ka(t,e,n){for(n=n.child;n!==null;)bS(t,e,n),n=n.sibling}function bS(t,e,n){if(mo&&typeof mo.onCommitFiberUnmount=="function")try{mo.onCommitFiberUnmount(D0,n)}catch{}switch(n.tag){case 5:ei||$u(n,e);case 6:var r=Rr,i=Ms;Rr=null,ka(t,e,n),Rr=r,Ms=i,Rr!==null&&(Ms?(t=Rr,n=n.stateNode,t.nodeType===8?t.parentNode.removeChild(n):t.removeChild(n)):Rr.removeChild(n.stateNode));break;case 18:Rr!==null&&(Ms?(t=Rr,n=n.stateNode,t.nodeType===8?Jm(t.parentNode,n):t.nodeType===1&&Jm(t,n),sf(t)):Jm(Rr,n.stateNode));break;case 4:r=Rr,i=Ms,Rr=n.stateNode.containerInfo,Ms=!0,ka(t,e,n),Rr=r,Ms=i;break;case 0:case 11:case 14:case 15:if(!ei&&(r=n.updateQueue,r!==null&&(r=r.lastEffect,r!==null))){i=r=r.next;do{var s=i,o=s.destroy;s=s.tag,o!==void 0&&(s&2||s&4)&&$g(n,e,o),i=i.next}while(i!==r)}ka(t,e,n);break;case 1:if(!ei&&($u(n,e),r=n.stateNode,typeof r.componentWillUnmount=="function"))try{r.props=n.memoizedProps,r.state=n.memoizedState,r.componentWillUnmount()}catch(a){Gn(n,e,a)}ka(t,e,n);break;case 21:ka(t,e,n);break;case 22:n.mode&1?(ei=(r=ei)||n.memoizedState!==null,ka(t,e,n),ei=r):ka(t,e,n);break;default:ka(t,e,n)}}function fx(t){var e=t.updateQueue;if(e!==null){t.updateQueue=null;var n=t.stateNode;n===null&&(n=t.stateNode=new PP),e.forEach(function(r){var i=BP.bind(null,t,r);n.has(r)||(n.add(r),r.then(i,i))})}}function Ls(t,e){var n=e.deletions;if(n!==null)for(var r=0;r<n.length;r++){var i=n[r];try{var s=t,o=e,a=o;e:for(;a!==null;){switch(a.tag){case 5:Rr=a.stateNode,Ms=!1;break e;case 3:Rr=a.stateNode.containerInfo,Ms=!0;break e;case 4:Rr=a.stateNode.containerInfo,Ms=!0;break e}a=a.return}if(Rr===null)throw Error(Fe(160));bS(s,o,i),Rr=null,Ms=!1;var l=i.alternate;l!==null&&(l.return=null),i.return=null}catch(u){Gn(i,e,u)}}if(e.subtreeFlags&12854)for(e=e.child;e!==null;)_S(e,t),e=e.sibling}function _S(t,e){var n=t.alternate,r=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:if(Ls(e,t),lo(t),r&4){try{Oh(3,t,t.return),q0(3,t)}catch(x){Gn(t,t.return,x)}try{Oh(5,t,t.return)}catch(x){Gn(t,t.return,x)}}break;case 1:Ls(e,t),lo(t),r&512&&n!==null&&$u(n,n.return);break;case 5:if(Ls(e,t),lo(t),r&512&&n!==null&&$u(n,n.return),t.flags&32){var i=t.stateNode;try{ef(i,"")}catch(x){Gn(t,t.return,x)}}if(r&4&&(i=t.stateNode,i!=null)){var s=t.memoizedProps,o=n!==null?n.memoizedProps:s,a=t.type,l=t.updateQueue;if(t.updateQueue=null,l!==null)try{a==="input"&&s.type==="radio"&&s.name!=null&&$_(i,s),yg(a,o);var u=yg(a,s);for(o=0;o<l.length;o+=2){var c=l[o],d=l[o+1];c==="style"?Q_(i,d):c==="dangerouslySetInnerHTML"?G_(i,d):c==="children"?ef(i,d):fy(i,c,d,u)}switch(a){case"input":fg(i,s);break;case"textarea":H_(i,s);break;case"select":var g=i._wrapperState.wasMultiple;i._wrapperState.wasMultiple=!!s.multiple;var p=s.value;p!=null?Zu(i,!!s.multiple,p,!1):g!==!!s.multiple&&(s.defaultValue!=null?Zu(i,!!s.multiple,s.defaultValue,!0):Zu(i,!!s.multiple,s.multiple?[]:"",!1))}i[cf]=s}catch(x){Gn(t,t.return,x)}}break;case 6:if(Ls(e,t),lo(t),r&4){if(t.stateNode===null)throw Error(Fe(162));i=t.stateNode,s=t.memoizedProps;try{i.nodeValue=s}catch(x){Gn(t,t.return,x)}}break;case 3:if(Ls(e,t),lo(t),r&4&&n!==null&&n.memoizedState.isDehydrated)try{sf(e.containerInfo)}catch(x){Gn(t,t.return,x)}break;case 4:Ls(e,t),lo(t);break;case 13:Ls(e,t),lo(t),i=t.child,i.flags&8192&&(s=i.memoizedState!==null,i.stateNode.isHidden=s,!s||i.alternate!==null&&i.alternate.memoizedState!==null||(Hy=ir())),r&4&&fx(t);break;case 22:if(c=n!==null&&n.memoizedState!==null,t.mode&1?(ei=(u=ei)||c,Ls(e,t),ei=u):Ls(e,t),lo(t),r&8192){if(u=t.memoizedState!==null,(t.stateNode.isHidden=u)&&!c&&t.mode&1)for(He=t,c=t.child;c!==null;){for(d=He=c;He!==null;){switch(g=He,p=g.child,g.tag){case 0:case 11:case 14:case 15:Oh(4,g,g.return);break;case 1:$u(g,g.return);var b=g.stateNode;if(typeof b.componentWillUnmount=="function"){r=g,n=g.return;try{e=r,b.props=e.memoizedProps,b.state=e.memoizedState,b.componentWillUnmount()}catch(x){Gn(r,n,x)}}break;case 5:$u(g,g.return);break;case 22:if(g.memoizedState!==null){px(d);continue}}p!==null?(p.return=g,He=p):px(d)}c=c.sibling}e:for(c=null,d=t;;){if(d.tag===5){if(c===null){c=d;try{i=d.stateNode,u?(s=i.style,typeof s.setProperty=="function"?s.setProperty("display","none","important"):s.display="none"):(a=d.stateNode,l=d.memoizedProps.style,o=l!=null&&l.hasOwnProperty("display")?l.display:null,a.style.display=K_("display",o))}catch(x){Gn(t,t.return,x)}}}else if(d.tag===6){if(c===null)try{d.stateNode.nodeValue=u?"":d.memoizedProps}catch(x){Gn(t,t.return,x)}}else if((d.tag!==22&&d.tag!==23||d.memoizedState===null||d===t)&&d.child!==null){d.child.return=d,d=d.child;continue}if(d===t)break e;for(;d.sibling===null;){if(d.return===null||d.return===t)break e;c===d&&(c=null),d=d.return}c===d&&(c=null),d.sibling.return=d.return,d=d.sibling}}break;case 19:Ls(e,t),lo(t),r&4&&fx(t);break;case 21:break;default:Ls(e,t),lo(t)}}function lo(t){var e=t.flags;if(e&2){try{e:{for(var n=t.return;n!==null;){if(xS(n)){var r=n;break e}n=n.return}throw Error(Fe(160))}switch(r.tag){case 5:var i=r.stateNode;r.flags&32&&(ef(i,""),r.flags&=-33);var s=hx(t);Gg(t,s,i);break;case 3:case 4:var o=r.stateNode.containerInfo,a=hx(t);Wg(t,a,o);break;default:throw Error(Fe(161))}}catch(l){Gn(t,t.return,l)}t.flags&=-3}e&4096&&(t.flags&=-4097)}function LP(t,e,n){He=t,SS(t)}function SS(t,e,n){for(var r=(t.mode&1)!==0;He!==null;){var i=He,s=i.child;if(i.tag===22&&r){var o=i.memoizedState!==null||zd;if(!o){var a=i.alternate,l=a!==null&&a.memoizedState!==null||ei;a=zd;var u=ei;if(zd=o,(ei=l)&&!u)for(He=i;He!==null;)o=He,l=o.child,o.tag===22&&o.memoizedState!==null?mx(i):l!==null?(l.return=o,He=l):mx(i);for(;s!==null;)He=s,SS(s),s=s.sibling;He=i,zd=a,ei=u}dx(t)}else i.subtreeFlags&8772&&s!==null?(s.return=i,He=s):dx(t)}}function dx(t){for(;He!==null;){var e=He;if(e.flags&8772){var n=e.alternate;try{if(e.flags&8772)switch(e.tag){case 0:case 11:case 15:ei||q0(5,e);break;case 1:var r=e.stateNode;if(e.flags&4&&!ei)if(n===null)r.componentDidMount();else{var i=e.elementType===e.type?n.memoizedProps:Ds(e.type,n.memoizedProps);r.componentDidUpdate(i,n.memoizedState,r.__reactInternalSnapshotBeforeUpdate)}var s=e.updateQueue;s!==null&&Xw(e,s,r);break;case 3:var o=e.updateQueue;if(o!==null){if(n=null,e.child!==null)switch(e.child.tag){case 5:n=e.child.stateNode;break;case 1:n=e.child.stateNode}Xw(e,o,n)}break;case 5:var a=e.stateNode;if(n===null&&e.flags&4){n=a;var l=e.memoizedProps;switch(e.type){case"button":case"input":case"select":case"textarea":l.autoFocus&&n.focus();break;case"img":l.src&&(n.src=l.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(e.memoizedState===null){var u=e.alternate;if(u!==null){var c=u.memoizedState;if(c!==null){var d=c.dehydrated;d!==null&&sf(d)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(Fe(163))}ei||e.flags&512&&Hg(e)}catch(g){Gn(e,e.return,g)}}if(e===t){He=null;break}if(n=e.sibling,n!==null){n.return=e.return,He=n;break}He=e.return}}function px(t){for(;He!==null;){var e=He;if(e===t){He=null;break}var n=e.sibling;if(n!==null){n.return=e.return,He=n;break}He=e.return}}function mx(t){for(;He!==null;){var e=He;try{switch(e.tag){case 0:case 11:case 15:var n=e.return;try{q0(4,e)}catch(l){Gn(e,n,l)}break;case 1:var r=e.stateNode;if(typeof r.componentDidMount=="function"){var i=e.return;try{r.componentDidMount()}catch(l){Gn(e,i,l)}}var s=e.return;try{Hg(e)}catch(l){Gn(e,s,l)}break;case 5:var o=e.return;try{Hg(e)}catch(l){Gn(e,o,l)}}}catch(l){Gn(e,e.return,l)}if(e===t){He=null;break}var a=e.sibling;if(a!==null){a.return=e.return,He=a;break}He=e.return}}var RP=Math.ceil,e0=sa.ReactCurrentDispatcher,qy=sa.ReactCurrentOwner,ys=sa.ReactCurrentBatchConfig,Gt=0,Tr=null,fr=null,Fr=0,Yi=0,Hu=ul(0),wr=0,gf=null,ru=0,$0=0,$y=0,Vh=null,Ti=null,Hy=0,vc=1/0,Uo=null,t0=!1,Kg=null,Ga=null,qd=!1,Oa=null,n0=0,Bh=0,Qg=null,yp=-1,vp=0;function di(){return Gt&6?ir():yp!==-1?yp:yp=ir()}function Ka(t){return t.mode&1?Gt&2&&Fr!==0?Fr&-Fr:gP.transition!==null?(vp===0&&(vp=a6()),vp):(t=ln,t!==0||(t=window.event,t=t===void 0?16:p6(t.type)),t):1}function Vs(t,e,n,r){if(50<Bh)throw Bh=0,Qg=null,Error(Fe(185));Vf(t,n,r),(!(Gt&2)||t!==Tr)&&(t===Tr&&(!(Gt&2)&&($0|=n),wr===4&&Ma(t,Fr)),Ri(t,r),n===1&&Gt===0&&!(e.mode&1)&&(vc=ir()+500,B0&&cl()))}function Ri(t,e){var n=t.callbackNode;gk(t,e);var r=Vp(t,t===Tr?Fr:0);if(r===0)n!==null&&Aw(n),t.callbackNode=null,t.callbackPriority=0;else if(e=r&-r,t.callbackPriority!==e){if(n!=null&&Aw(n),e===1)t.tag===0?mP(gx.bind(null,t)):R6(gx.bind(null,t)),hP(function(){!(Gt&6)&&cl()}),n=null;else{switch(l6(r)){case 1:n=yy;break;case 4:n=s6;break;case 16:n=Op;break;case 536870912:n=o6;break;default:n=Op}n=IS(n,AS.bind(null,t))}t.callbackPriority=e,t.callbackNode=n}}function AS(t,e){if(yp=-1,vp=0,Gt&6)throw Error(Fe(327));var n=t.callbackNode;if(ic()&&t.callbackNode!==n)return null;var r=Vp(t,t===Tr?Fr:0);if(r===0)return null;if(r&30||r&t.expiredLanes||e)e=r0(t,r);else{e=r;var i=Gt;Gt|=2;var s=ES();(Tr!==t||Fr!==e)&&(Uo=null,vc=ir()+500,Gl(t,e));do try{MP();break}catch(a){NS(t,a)}while(!0);Py(),e0.current=s,Gt=i,fr!==null?e=0:(Tr=null,Fr=0,e=wr)}if(e!==0){if(e===2&&(i=_g(t),i!==0&&(r=i,e=Yg(t,i))),e===1)throw n=gf,Gl(t,0),Ma(t,r),Ri(t,ir()),n;if(e===6)Ma(t,r);else{if(i=t.current.alternate,!(r&30)&&!jP(i)&&(e=r0(t,r),e===2&&(s=_g(t),s!==0&&(r=s,e=Yg(t,s))),e===1))throw n=gf,Gl(t,0),Ma(t,r),Ri(t,ir()),n;switch(t.finishedWork=i,t.finishedLanes=r,e){case 0:case 1:throw Error(Fe(345));case 2:Ml(t,Ti,Uo);break;case 3:if(Ma(t,r),(r&130023424)===r&&(e=Hy+500-ir(),10<e)){if(Vp(t,0)!==0)break;if(i=t.suspendedLanes,(i&r)!==r){di(),t.pingedLanes|=t.suspendedLanes&i;break}t.timeoutHandle=Pg(Ml.bind(null,t,Ti,Uo),e);break}Ml(t,Ti,Uo);break;case 4:if(Ma(t,r),(r&4194240)===r)break;for(e=t.eventTimes,i=-1;0<r;){var o=31-Os(r);s=1<<o,o=e[o],o>i&&(i=o),r&=~s}if(r=i,r=ir()-r,r=(120>r?120:480>r?480:1080>r?1080:1920>r?1920:3e3>r?3e3:4320>r?4320:1960*RP(r/1960))-r,10<r){t.timeoutHandle=Pg(Ml.bind(null,t,Ti,Uo),r);break}Ml(t,Ti,Uo);break;case 5:Ml(t,Ti,Uo);break;default:throw Error(Fe(329))}}}return Ri(t,ir()),t.callbackNode===n?AS.bind(null,t):null}function Yg(t,e){var n=Vh;return t.current.memoizedState.isDehydrated&&(Gl(t,e).flags|=256),t=r0(t,e),t!==2&&(e=Ti,Ti=n,e!==null&&Xg(e)),t}function Xg(t){Ti===null?Ti=t:Ti.push.apply(Ti,t)}function jP(t){for(var e=t;;){if(e.flags&16384){var n=e.updateQueue;if(n!==null&&(n=n.stores,n!==null))for(var r=0;r<n.length;r++){var i=n[r],s=i.getSnapshot;i=i.value;try{if(!Bs(s(),i))return!1}catch{return!1}}}if(n=e.child,e.subtreeFlags&16384&&n!==null)n.return=e,e=n;else{if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return!0;e=e.return}e.sibling.return=e.return,e=e.sibling}}return!0}function Ma(t,e){for(e&=~$y,e&=~$0,t.suspendedLanes|=e,t.pingedLanes&=~e,t=t.expirationTimes;0<e;){var n=31-Os(e),r=1<<n;t[n]=-1,e&=~r}}function gx(t){if(Gt&6)throw Error(Fe(327));ic();var e=Vp(t,0);if(!(e&1))return Ri(t,ir()),null;var n=r0(t,e);if(t.tag!==0&&n===2){var r=_g(t);r!==0&&(e=r,n=Yg(t,r))}if(n===1)throw n=gf,Gl(t,0),Ma(t,e),Ri(t,ir()),n;if(n===6)throw Error(Fe(345));return t.finishedWork=t.current.alternate,t.finishedLanes=e,Ml(t,Ti,Uo),Ri(t,ir()),null}function Wy(t,e){var n=Gt;Gt|=1;try{return t(e)}finally{Gt=n,Gt===0&&(vc=ir()+500,B0&&cl())}}function iu(t){Oa!==null&&Oa.tag===0&&!(Gt&6)&&ic();var e=Gt;Gt|=1;var n=ys.transition,r=ln;try{if(ys.transition=null,ln=1,t)return t()}finally{ln=r,ys.transition=n,Gt=e,!(Gt&6)&&cl()}}function Gy(){Yi=Hu.current,An(Hu)}function Gl(t,e){t.finishedWork=null,t.finishedLanes=0;var n=t.timeoutHandle;if(n!==-1&&(t.timeoutHandle=-1,cP(n)),fr!==null)for(n=fr.return;n!==null;){var r=n;switch(Ty(r),r.tag){case 1:r=r.type.childContextTypes,r!=null&&$p();break;case 3:gc(),An(Ii),An(ii),My();break;case 5:Dy(r);break;case 4:gc();break;case 13:An(jn);break;case 19:An(jn);break;case 10:Iy(r.type._context);break;case 22:case 23:Gy()}n=n.return}if(Tr=t,fr=t=Qa(t.current,null),Fr=Yi=e,wr=0,gf=null,$y=$0=ru=0,Ti=Vh=null,zl!==null){for(e=0;e<zl.length;e++)if(n=zl[e],r=n.interleaved,r!==null){n.interleaved=null;var i=r.next,s=n.pending;if(s!==null){var o=s.next;s.next=i,r.next=o}n.pending=r}zl=null}return t}function NS(t,e){do{var n=fr;try{if(Py(),pp.current=Zp,Jp){for(var r=Mn.memoizedState;r!==null;){var i=r.queue;i!==null&&(i.pending=null),r=r.next}Jp=!1}if(nu=0,Nr=vr=Mn=null,Fh=!1,df=0,qy.current=null,n===null||n.return===null){wr=1,gf=e,fr=null;break}e:{var s=t,o=n.return,a=n,l=e;if(e=Fr,a.flags|=32768,l!==null&&typeof l=="object"&&typeof l.then=="function"){var u=l,c=a,d=c.tag;if(!(c.mode&1)&&(d===0||d===11||d===15)){var g=c.alternate;g?(c.updateQueue=g.updateQueue,c.memoizedState=g.memoizedState,c.lanes=g.lanes):(c.updateQueue=null,c.memoizedState=null)}var p=rx(o);if(p!==null){p.flags&=-257,ix(p,o,a,s,e),p.mode&1&&nx(s,u,e),e=p,l=u;var b=e.updateQueue;if(b===null){var x=new Set;x.add(l),e.updateQueue=x}else b.add(l);break e}else{if(!(e&1)){nx(s,u,e),Ky();break e}l=Error(Fe(426))}}else if(kn&&a.mode&1){var A=rx(o);if(A!==null){!(A.flags&65536)&&(A.flags|=256),ix(A,o,a,s,e),Cy(yc(l,a));break e}}s=l=yc(l,a),wr!==4&&(wr=2),Vh===null?Vh=[s]:Vh.push(s),s=o;do{switch(s.tag){case 3:s.flags|=65536,e&=-e,s.lanes|=e;var v=lS(s,l,e);Yw(s,v);break e;case 1:a=l;var _=s.type,T=s.stateNode;if(!(s.flags&128)&&(typeof _.getDerivedStateFromError=="function"||T!==null&&typeof T.componentDidCatch=="function"&&(Ga===null||!Ga.has(T)))){s.flags|=65536,e&=-e,s.lanes|=e;var R=uS(s,a,e);Yw(s,R);break e}}s=s.return}while(s!==null)}CS(n)}catch(z){e=z,fr===n&&n!==null&&(fr=n=n.return);continue}break}while(!0)}function ES(){var t=e0.current;return e0.current=Zp,t===null?Zp:t}function Ky(){(wr===0||wr===3||wr===2)&&(wr=4),Tr===null||!(ru&268435455)&&!($0&268435455)||Ma(Tr,Fr)}function r0(t,e){var n=Gt;Gt|=2;var r=ES();(Tr!==t||Fr!==e)&&(Uo=null,Gl(t,e));do try{DP();break}catch(i){NS(t,i)}while(!0);if(Py(),Gt=n,e0.current=r,fr!==null)throw Error(Fe(261));return Tr=null,Fr=0,wr}function DP(){for(;fr!==null;)TS(fr)}function MP(){for(;fr!==null&&!ak();)TS(fr)}function TS(t){var e=PS(t.alternate,t,Yi);t.memoizedProps=t.pendingProps,e===null?CS(t):fr=e,qy.current=null}function CS(t){var e=t;do{var n=e.alternate;if(t=e.return,e.flags&32768){if(n=kP(n,e),n!==null){n.flags&=32767,fr=n;return}if(t!==null)t.flags|=32768,t.subtreeFlags=0,t.deletions=null;else{wr=6,fr=null;return}}else if(n=CP(n,e,Yi),n!==null){fr=n;return}if(e=e.sibling,e!==null){fr=e;return}fr=e=t}while(e!==null);wr===0&&(wr=5)}function Ml(t,e,n){var r=ln,i=ys.transition;try{ys.transition=null,ln=1,FP(t,e,n,r)}finally{ys.transition=i,ln=r}return null}function FP(t,e,n,r){do ic();while(Oa!==null);if(Gt&6)throw Error(Fe(327));n=t.finishedWork;var i=t.finishedLanes;if(n===null)return null;if(t.finishedWork=null,t.finishedLanes=0,n===t.current)throw Error(Fe(177));t.callbackNode=null,t.callbackPriority=0;var s=n.lanes|n.childLanes;if(yk(t,s),t===Tr&&(fr=Tr=null,Fr=0),!(n.subtreeFlags&2064)&&!(n.flags&2064)||qd||(qd=!0,IS(Op,function(){return ic(),null})),s=(n.flags&15990)!==0,n.subtreeFlags&15990||s){s=ys.transition,ys.transition=null;var o=ln;ln=1;var a=Gt;Gt|=4,qy.current=null,IP(t,n),_S(n,t),rP(Cg),Bp=!!Tg,Cg=Tg=null,t.current=n,LP(n),lk(),Gt=a,ln=o,ys.transition=s}else t.current=n;if(qd&&(qd=!1,Oa=t,n0=i),s=t.pendingLanes,s===0&&(Ga=null),hk(n.stateNode),Ri(t,ir()),e!==null)for(r=t.onRecoverableError,n=0;n<e.length;n++)i=e[n],r(i.value,{componentStack:i.stack,digest:i.digest});if(t0)throw t0=!1,t=Kg,Kg=null,t;return n0&1&&t.tag!==0&&ic(),s=t.pendingLanes,s&1?t===Qg?Bh++:(Bh=0,Qg=t):Bh=0,cl(),null}function ic(){if(Oa!==null){var t=l6(n0),e=ys.transition,n=ln;try{if(ys.transition=null,ln=16>t?16:t,Oa===null)var r=!1;else{if(t=Oa,Oa=null,n0=0,Gt&6)throw Error(Fe(331));var i=Gt;for(Gt|=4,He=t.current;He!==null;){var s=He,o=s.child;if(He.flags&16){var a=s.deletions;if(a!==null){for(var l=0;l<a.length;l++){var u=a[l];for(He=u;He!==null;){var c=He;switch(c.tag){case 0:case 11:case 15:Oh(8,c,s)}var d=c.child;if(d!==null)d.return=c,He=d;else for(;He!==null;){c=He;var g=c.sibling,p=c.return;if(wS(c),c===u){He=null;break}if(g!==null){g.return=p,He=g;break}He=p}}}var b=s.alternate;if(b!==null){var x=b.child;if(x!==null){b.child=null;do{var A=x.sibling;x.sibling=null,x=A}while(x!==null)}}He=s}}if(s.subtreeFlags&2064&&o!==null)o.return=s,He=o;else e:for(;He!==null;){if(s=He,s.flags&2048)switch(s.tag){case 0:case 11:case 15:Oh(9,s,s.return)}var v=s.sibling;if(v!==null){v.return=s.return,He=v;break e}He=s.return}}var _=t.current;for(He=_;He!==null;){o=He;var T=o.child;if(o.subtreeFlags&2064&&T!==null)T.return=o,He=T;else e:for(o=_;He!==null;){if(a=He,a.flags&2048)try{switch(a.tag){case 0:case 11:case 15:q0(9,a)}}catch(z){Gn(a,a.return,z)}if(a===o){He=null;break e}var R=a.sibling;if(R!==null){R.return=a.return,He=R;break e}He=a.return}}if(Gt=i,cl(),mo&&typeof mo.onPostCommitFiberRoot=="function")try{mo.onPostCommitFiberRoot(D0,t)}catch{}r=!0}return r}finally{ln=n,ys.transition=e}}return!1}function yx(t,e,n){e=yc(n,e),e=lS(t,e,1),t=Wa(t,e,1),e=di(),t!==null&&(Vf(t,1,e),Ri(t,e))}function Gn(t,e,n){if(t.tag===3)yx(t,t,n);else for(;e!==null;){if(e.tag===3){yx(e,t,n);break}else if(e.tag===1){var r=e.stateNode;if(typeof e.type.getDerivedStateFromError=="function"||typeof r.componentDidCatch=="function"&&(Ga===null||!Ga.has(r))){t=yc(n,t),t=uS(e,t,1),e=Wa(e,t,1),t=di(),e!==null&&(Vf(e,1,t),Ri(e,t));break}}e=e.return}}function OP(t,e,n){var r=t.pingCache;r!==null&&r.delete(e),e=di(),t.pingedLanes|=t.suspendedLanes&n,Tr===t&&(Fr&n)===n&&(wr===4||wr===3&&(Fr&130023424)===Fr&&500>ir()-Hy?Gl(t,0):$y|=n),Ri(t,e)}function kS(t,e){e===0&&(t.mode&1?(e=Rd,Rd<<=1,!(Rd&130023424)&&(Rd=4194304)):e=1);var n=di();t=Xo(t,e),t!==null&&(Vf(t,e,n),Ri(t,n))}function VP(t){var e=t.memoizedState,n=0;e!==null&&(n=e.retryLane),kS(t,n)}function BP(t,e){var n=0;switch(t.tag){case 13:var r=t.stateNode,i=t.memoizedState;i!==null&&(n=i.retryLane);break;case 19:r=t.stateNode;break;default:throw Error(Fe(314))}r!==null&&r.delete(e),kS(t,n)}var PS;PS=function(t,e,n){if(t!==null)if(t.memoizedProps!==e.pendingProps||Ii.current)ki=!0;else{if(!(t.lanes&n)&&!(e.flags&128))return ki=!1,TP(t,e,n);ki=!!(t.flags&131072)}else ki=!1,kn&&e.flags&1048576&&j6(e,Gp,e.index);switch(e.lanes=0,e.tag){case 2:var r=e.type;gp(t,e),t=e.pendingProps;var i=dc(e,ii.current);rc(e,n),i=Oy(null,e,r,t,i,n);var s=Vy();return e.flags|=1,typeof i=="object"&&i!==null&&typeof i.render=="function"&&i.$$typeof===void 0?(e.tag=1,e.memoizedState=null,e.updateQueue=null,Li(r)?(s=!0,Hp(e)):s=!1,e.memoizedState=i.state!==null&&i.state!==void 0?i.state:null,Ry(e),i.updater=z0,e.stateNode=i,i._reactInternals=e,Fg(e,r,t,n),e=Bg(null,e,r,!0,s,n)):(e.tag=0,kn&&s&&Ey(e),hi(null,e,i,n),e=e.child),e;case 16:r=e.elementType;e:{switch(gp(t,e),t=e.pendingProps,i=r._init,r=i(r._payload),e.type=r,i=e.tag=zP(r),t=Ds(r,t),i){case 0:e=Vg(null,e,r,t,n);break e;case 1:e=ax(null,e,r,t,n);break e;case 11:e=sx(null,e,r,t,n);break e;case 14:e=ox(null,e,r,Ds(r.type,t),n);break e}throw Error(Fe(306,r,""))}return e;case 0:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:Ds(r,i),Vg(t,e,r,i,n);case 1:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:Ds(r,i),ax(t,e,r,i,n);case 3:e:{if(dS(e),t===null)throw Error(Fe(387));r=e.pendingProps,s=e.memoizedState,i=s.element,B6(t,e),Yp(e,r,null,n);var o=e.memoizedState;if(r=o.element,s.isDehydrated)if(s={element:r,isDehydrated:!1,cache:o.cache,pendingSuspenseBoundaries:o.pendingSuspenseBoundaries,transitions:o.transitions},e.updateQueue.baseState=s,e.memoizedState=s,e.flags&256){i=yc(Error(Fe(423)),e),e=lx(t,e,r,n,i);break e}else if(r!==i){i=yc(Error(Fe(424)),e),e=lx(t,e,r,n,i);break e}else for(Xi=Ha(e.stateNode.containerInfo.firstChild),es=e,kn=!0,Fs=null,n=O6(e,null,r,n),e.child=n;n;)n.flags=n.flags&-3|4096,n=n.sibling;else{if(pc(),r===i){e=Jo(t,e,n);break e}hi(t,e,r,n)}e=e.child}return e;case 5:return U6(e),t===null&&jg(e),r=e.type,i=e.pendingProps,s=t!==null?t.memoizedProps:null,o=i.children,kg(r,i)?o=null:s!==null&&kg(r,s)&&(e.flags|=32),fS(t,e),hi(t,e,o,n),e.child;case 6:return t===null&&jg(e),null;case 13:return pS(t,e,n);case 4:return jy(e,e.stateNode.containerInfo),r=e.pendingProps,t===null?e.child=mc(e,null,r,n):hi(t,e,r,n),e.child;case 11:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:Ds(r,i),sx(t,e,r,i,n);case 7:return hi(t,e,e.pendingProps,n),e.child;case 8:return hi(t,e,e.pendingProps.children,n),e.child;case 12:return hi(t,e,e.pendingProps.children,n),e.child;case 10:e:{if(r=e.type._context,i=e.pendingProps,s=e.memoizedProps,o=i.value,yn(Kp,r._currentValue),r._currentValue=o,s!==null)if(Bs(s.value,o)){if(s.children===i.children&&!Ii.current){e=Jo(t,e,n);break e}}else for(s=e.child,s!==null&&(s.return=e);s!==null;){var a=s.dependencies;if(a!==null){o=s.child;for(var l=a.firstContext;l!==null;){if(l.context===r){if(s.tag===1){l=Go(-1,n&-n),l.tag=2;var u=s.updateQueue;if(u!==null){u=u.shared;var c=u.pending;c===null?l.next=l:(l.next=c.next,c.next=l),u.pending=l}}s.lanes|=n,l=s.alternate,l!==null&&(l.lanes|=n),Dg(s.return,n,e),a.lanes|=n;break}l=l.next}}else if(s.tag===10)o=s.type===e.type?null:s.child;else if(s.tag===18){if(o=s.return,o===null)throw Error(Fe(341));o.lanes|=n,a=o.alternate,a!==null&&(a.lanes|=n),Dg(o,n,e),o=s.sibling}else o=s.child;if(o!==null)o.return=s;else for(o=s;o!==null;){if(o===e){o=null;break}if(s=o.sibling,s!==null){s.return=o.return,o=s;break}o=o.return}s=o}hi(t,e,i.children,n),e=e.child}return e;case 9:return i=e.type,r=e.pendingProps.children,rc(e,n),i=ws(i),r=r(i),e.flags|=1,hi(t,e,r,n),e.child;case 14:return r=e.type,i=Ds(r,e.pendingProps),i=Ds(r.type,i),ox(t,e,r,i,n);case 15:return cS(t,e,e.type,e.pendingProps,n);case 17:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:Ds(r,i),gp(t,e),e.tag=1,Li(r)?(t=!0,Hp(e)):t=!1,rc(e,n),aS(e,r,i),Fg(e,r,i,n),Bg(null,e,r,!0,t,n);case 19:return mS(t,e,n);case 22:return hS(t,e,n)}throw Error(Fe(156,e.tag))};function IS(t,e){return i6(t,e)}function UP(t,e,n,r){this.tag=t,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=e,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function gs(t,e,n,r){return new UP(t,e,n,r)}function Qy(t){return t=t.prototype,!(!t||!t.isReactComponent)}function zP(t){if(typeof t=="function")return Qy(t)?1:0;if(t!=null){if(t=t.$$typeof,t===py)return 11;if(t===my)return 14}return 2}function Qa(t,e){var n=t.alternate;return n===null?(n=gs(t.tag,e,t.key,t.mode),n.elementType=t.elementType,n.type=t.type,n.stateNode=t.stateNode,n.alternate=t,t.alternate=n):(n.pendingProps=e,n.type=t.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=t.flags&14680064,n.childLanes=t.childLanes,n.lanes=t.lanes,n.child=t.child,n.memoizedProps=t.memoizedProps,n.memoizedState=t.memoizedState,n.updateQueue=t.updateQueue,e=t.dependencies,n.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext},n.sibling=t.sibling,n.index=t.index,n.ref=t.ref,n}function wp(t,e,n,r,i,s){var o=2;if(r=t,typeof t=="function")Qy(t)&&(o=1);else if(typeof t=="string")o=5;else e:switch(t){case Du:return Kl(n.children,i,s,e);case dy:o=8,i|=8;break;case ag:return t=gs(12,n,e,i|2),t.elementType=ag,t.lanes=s,t;case lg:return t=gs(13,n,e,i),t.elementType=lg,t.lanes=s,t;case ug:return t=gs(19,n,e,i),t.elementType=ug,t.lanes=s,t;case U_:return H0(n,i,s,e);default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case V_:o=10;break e;case B_:o=9;break e;case py:o=11;break e;case my:o=14;break e;case Ra:o=16,r=null;break e}throw Error(Fe(130,t==null?t:typeof t,""))}return e=gs(o,n,e,i),e.elementType=t,e.type=r,e.lanes=s,e}function Kl(t,e,n,r){return t=gs(7,t,r,e),t.lanes=n,t}function H0(t,e,n,r){return t=gs(22,t,r,e),t.elementType=U_,t.lanes=n,t.stateNode={isHidden:!1},t}function o1(t,e,n){return t=gs(6,t,null,e),t.lanes=n,t}function a1(t,e,n){return e=gs(4,t.children!==null?t.children:[],t.key,e),e.lanes=n,e.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},e}function qP(t,e,n,r,i){this.tag=e,this.containerInfo=t,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=Um(0),this.expirationTimes=Um(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Um(0),this.identifierPrefix=r,this.onRecoverableError=i,this.mutableSourceEagerHydrationData=null}function Yy(t,e,n,r,i,s,o,a,l){return t=new qP(t,e,n,a,l),e===1?(e=1,s===!0&&(e|=8)):e=0,s=gs(3,null,null,e),t.current=s,s.stateNode=t,s.memoizedState={element:r,isDehydrated:n,cache:null,transitions:null,pendingSuspenseBoundaries:null},Ry(s),t}function $P(t,e,n){var r=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:ju,key:r==null?null:""+r,children:t,containerInfo:e,implementation:n}}function LS(t){if(!t)return tl;t=t._reactInternals;e:{if(fu(t)!==t||t.tag!==1)throw Error(Fe(170));var e=t;do{switch(e.tag){case 3:e=e.stateNode.context;break e;case 1:if(Li(e.type)){e=e.stateNode.__reactInternalMemoizedMergedChildContext;break e}}e=e.return}while(e!==null);throw Error(Fe(171))}if(t.tag===1){var n=t.type;if(Li(n))return L6(t,n,e)}return e}function RS(t,e,n,r,i,s,o,a,l){return t=Yy(n,r,!0,t,i,s,o,a,l),t.context=LS(null),n=t.current,r=di(),i=Ka(n),s=Go(r,i),s.callback=e??null,Wa(n,s,i),t.current.lanes=i,Vf(t,i,r),Ri(t,r),t}function W0(t,e,n,r){var i=e.current,s=di(),o=Ka(i);return n=LS(n),e.context===null?e.context=n:e.pendingContext=n,e=Go(s,o),e.payload={element:t},r=r===void 0?null:r,r!==null&&(e.callback=r),t=Wa(i,e,o),t!==null&&(Vs(t,i,o,s),dp(t,i,o)),o}function i0(t){if(t=t.current,!t.child)return null;switch(t.child.tag){case 5:return t.child.stateNode;default:return t.child.stateNode}}function vx(t,e){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var n=t.retryLane;t.retryLane=n!==0&&n<e?n:e}}function Xy(t,e){vx(t,e),(t=t.alternate)&&vx(t,e)}function HP(){return null}var jS=typeof reportError=="function"?reportError:function(t){console.error(t)};function Jy(t){this._internalRoot=t}G0.prototype.render=Jy.prototype.render=function(t){var e=this._internalRoot;if(e===null)throw Error(Fe(409));W0(t,e,null,null)};G0.prototype.unmount=Jy.prototype.unmount=function(){var t=this._internalRoot;if(t!==null){this._internalRoot=null;var e=t.containerInfo;iu(function(){W0(null,t,null,null)}),e[Yo]=null}};function G0(t){this._internalRoot=t}G0.prototype.unstable_scheduleHydration=function(t){if(t){var e=h6();t={blockedOn:null,target:t,priority:e};for(var n=0;n<Da.length&&e!==0&&e<Da[n].priority;n++);Da.splice(n,0,t),n===0&&d6(t)}};function Zy(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)}function K0(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11&&(t.nodeType!==8||t.nodeValue!==" react-mount-point-unstable "))}function wx(){}function WP(t,e,n,r,i){if(i){if(typeof r=="function"){var s=r;r=function(){var u=i0(o);s.call(u)}}var o=RS(e,r,t,0,null,!1,!1,"",wx);return t._reactRootContainer=o,t[Yo]=o.current,lf(t.nodeType===8?t.parentNode:t),iu(),o}for(;i=t.lastChild;)t.removeChild(i);if(typeof r=="function"){var a=r;r=function(){var u=i0(l);a.call(u)}}var l=Yy(t,0,!1,null,null,!1,!1,"",wx);return t._reactRootContainer=l,t[Yo]=l.current,lf(t.nodeType===8?t.parentNode:t),iu(function(){W0(e,l,n,r)}),l}function Q0(t,e,n,r,i){var s=n._reactRootContainer;if(s){var o=s;if(typeof i=="function"){var a=i;i=function(){var l=i0(o);a.call(l)}}W0(e,o,t,i)}else o=WP(n,e,t,i,r);return i0(o)}u6=function(t){switch(t.tag){case 3:var e=t.stateNode;if(e.current.memoizedState.isDehydrated){var n=Nh(e.pendingLanes);n!==0&&(vy(e,n|1),Ri(e,ir()),!(Gt&6)&&(vc=ir()+500,cl()))}break;case 13:iu(function(){var r=Xo(t,1);if(r!==null){var i=di();Vs(r,t,1,i)}}),Xy(t,1)}};wy=function(t){if(t.tag===13){var e=Xo(t,134217728);if(e!==null){var n=di();Vs(e,t,134217728,n)}Xy(t,134217728)}};c6=function(t){if(t.tag===13){var e=Ka(t),n=Xo(t,e);if(n!==null){var r=di();Vs(n,t,e,r)}Xy(t,e)}};h6=function(){return ln};f6=function(t,e){var n=ln;try{return ln=t,e()}finally{ln=n}};wg=function(t,e,n){switch(e){case"input":if(fg(t,n),e=n.name,n.type==="radio"&&e!=null){for(n=t;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+e)+'][type="radio"]'),e=0;e<n.length;e++){var r=n[e];if(r!==t&&r.form===t.form){var i=V0(r);if(!i)throw Error(Fe(90));q_(r),fg(r,i)}}}break;case"textarea":H_(t,n);break;case"select":e=n.value,e!=null&&Zu(t,!!n.multiple,e,!1)}};J_=Wy;Z_=iu;var GP={usingClientEntryPoint:!1,Events:[Uf,Vu,V0,Y_,X_,Wy]},yh={findFiberByHostInstance:Ul,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},KP={bundleType:yh.bundleType,version:yh.version,rendererPackageName:yh.rendererPackageName,rendererConfig:yh.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:sa.ReactCurrentDispatcher,findHostInstanceByFiber:function(t){return t=n6(t),t===null?null:t.stateNode},findFiberByHostInstance:yh.findFiberByHostInstance||HP,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var $d=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!$d.isDisabled&&$d.supportsFiber)try{D0=$d.inject(KP),mo=$d}catch{}}ns.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=GP;ns.createPortal=function(t,e){var n=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!Zy(e))throw Error(Fe(200));return $P(t,e,null,n)};ns.createRoot=function(t,e){if(!Zy(t))throw Error(Fe(299));var n=!1,r="",i=jS;return e!=null&&(e.unstable_strictMode===!0&&(n=!0),e.identifierPrefix!==void 0&&(r=e.identifierPrefix),e.onRecoverableError!==void 0&&(i=e.onRecoverableError)),e=Yy(t,1,!1,null,null,n,!1,r,i),t[Yo]=e.current,lf(t.nodeType===8?t.parentNode:t),new Jy(e)};ns.findDOMNode=function(t){if(t==null)return null;if(t.nodeType===1)return t;var e=t._reactInternals;if(e===void 0)throw typeof t.render=="function"?Error(Fe(188)):(t=Object.keys(t).join(","),Error(Fe(268,t)));return t=n6(e),t=t===null?null:t.stateNode,t};ns.flushSync=function(t){return iu(t)};ns.hydrate=function(t,e,n){if(!K0(e))throw Error(Fe(200));return Q0(null,t,e,!0,n)};ns.hydrateRoot=function(t,e,n){if(!Zy(t))throw Error(Fe(405));var r=n!=null&&n.hydratedSources||null,i=!1,s="",o=jS;if(n!=null&&(n.unstable_strictMode===!0&&(i=!0),n.identifierPrefix!==void 0&&(s=n.identifierPrefix),n.onRecoverableError!==void 0&&(o=n.onRecoverableError)),e=RS(e,null,t,1,n??null,i,!1,s,o),t[Yo]=e.current,lf(t),r)for(t=0;t<r.length;t++)n=r[t],i=n._getVersion,i=i(n._source),e.mutableSourceEagerHydrationData==null?e.mutableSourceEagerHydrationData=[n,i]:e.mutableSourceEagerHydrationData.push(n,i);return new G0(e)};ns.render=function(t,e,n){if(!K0(e))throw Error(Fe(200));return Q0(null,t,e,!1,n)};ns.unmountComponentAtNode=function(t){if(!K0(t))throw Error(Fe(40));return t._reactRootContainer?(iu(function(){Q0(null,null,t,!1,function(){t._reactRootContainer=null,t[Yo]=null})}),!0):!1};ns.unstable_batchedUpdates=Wy;ns.unstable_renderSubtreeIntoContainer=function(t,e,n,r){if(!K0(n))throw Error(Fe(200));if(t==null||t._reactInternals===void 0)throw Error(Fe(38));return Q0(t,e,n,!1,r)};ns.version="18.3.1-next-f1338f8080-20240426";function DS(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(DS)}catch(t){console.error(t)}}DS(),D_.exports=ns;var QP=D_.exports,xx=QP;sg.createRoot=xx.createRoot,sg.hydrateRoot=xx.hydrateRoot;/**
 * @remix-run/router v1.23.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function yf(){return yf=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},yf.apply(this,arguments)}var Va;(function(t){t.Pop="POP",t.Push="PUSH",t.Replace="REPLACE"})(Va||(Va={}));const bx="popstate";function YP(t){t===void 0&&(t={});function e(r,i){let{pathname:s,search:o,hash:a}=r.location;return Jg("",{pathname:s,search:o,hash:a},i.state&&i.state.usr||null,i.state&&i.state.key||"default")}function n(r,i){return typeof i=="string"?i:s0(i)}return JP(e,n,null,t)}function Kn(t,e){if(t===!1||t===null||typeof t>"u")throw new Error(e)}function MS(t,e){if(!t){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function XP(){return Math.random().toString(36).substr(2,8)}function _x(t,e){return{usr:t.state,key:t.key,idx:e}}function Jg(t,e,n,r){return n===void 0&&(n=null),yf({pathname:typeof t=="string"?t:t.pathname,search:"",hash:""},typeof e=="string"?Rc(e):e,{state:n,key:e&&e.key||r||XP()})}function s0(t){let{pathname:e="/",search:n="",hash:r=""}=t;return n&&n!=="?"&&(e+=n.charAt(0)==="?"?n:"?"+n),r&&r!=="#"&&(e+=r.charAt(0)==="#"?r:"#"+r),e}function Rc(t){let e={};if(t){let n=t.indexOf("#");n>=0&&(e.hash=t.substr(n),t=t.substr(0,n));let r=t.indexOf("?");r>=0&&(e.search=t.substr(r),t=t.substr(0,r)),t&&(e.pathname=t)}return e}function JP(t,e,n,r){r===void 0&&(r={});let{window:i=document.defaultView,v5Compat:s=!1}=r,o=i.history,a=Va.Pop,l=null,u=c();u==null&&(u=0,o.replaceState(yf({},o.state,{idx:u}),""));function c(){return(o.state||{idx:null}).idx}function d(){a=Va.Pop;let A=c(),v=A==null?null:A-u;u=A,l&&l({action:a,location:x.location,delta:v})}function g(A,v){a=Va.Push;let _=Jg(x.location,A,v);u=c()+1;let T=_x(_,u),R=x.createHref(_);try{o.pushState(T,"",R)}catch(z){if(z instanceof DOMException&&z.name==="DataCloneError")throw z;i.location.assign(R)}s&&l&&l({action:a,location:x.location,delta:1})}function p(A,v){a=Va.Replace;let _=Jg(x.location,A,v);u=c();let T=_x(_,u),R=x.createHref(_);o.replaceState(T,"",R),s&&l&&l({action:a,location:x.location,delta:0})}function b(A){let v=i.location.origin!=="null"?i.location.origin:i.location.href,_=typeof A=="string"?A:s0(A);return _=_.replace(/ $/,"%20"),Kn(v,"No window.location.(origin|href) available to create URL for href: "+_),new URL(_,v)}let x={get action(){return a},get location(){return t(i,o)},listen(A){if(l)throw new Error("A history only accepts one active listener");return i.addEventListener(bx,d),l=A,()=>{i.removeEventListener(bx,d),l=null}},createHref(A){return e(i,A)},createURL:b,encodeLocation(A){let v=b(A);return{pathname:v.pathname,search:v.search,hash:v.hash}},push:g,replace:p,go(A){return o.go(A)}};return x}var Sx;(function(t){t.data="data",t.deferred="deferred",t.redirect="redirect",t.error="error"})(Sx||(Sx={}));function ZP(t,e,n){return n===void 0&&(n="/"),e7(t,e,n)}function e7(t,e,n,r){let i=typeof e=="string"?Rc(e):e,s=wc(i.pathname||"/",n);if(s==null)return null;let o=FS(t);t7(o);let a=null;for(let l=0;a==null&&l<o.length;++l){let u=f7(s);a=c7(o[l],u)}return a}function FS(t,e,n,r){e===void 0&&(e=[]),n===void 0&&(n=[]),r===void 0&&(r="");let i=(s,o,a)=>{let l={relativePath:a===void 0?s.path||"":a,caseSensitive:s.caseSensitive===!0,childrenIndex:o,route:s};l.relativePath.startsWith("/")&&(Kn(l.relativePath.startsWith(r),'Absolute route path "'+l.relativePath+'" nested under path '+('"'+r+'" is not valid. An absolute child route path ')+"must start with the combined path of all its parent routes."),l.relativePath=l.relativePath.slice(r.length));let u=Ya([r,l.relativePath]),c=n.concat(l);s.children&&s.children.length>0&&(Kn(s.index!==!0,"Index routes must not have child routes. Please remove "+('all child routes from route path "'+u+'".')),FS(s.children,e,c,u)),!(s.path==null&&!s.index)&&e.push({path:u,score:l7(u,s.index),routesMeta:c})};return t.forEach((s,o)=>{var a;if(s.path===""||!((a=s.path)!=null&&a.includes("?")))i(s,o);else for(let l of OS(s.path))i(s,o,l)}),e}function OS(t){let e=t.split("/");if(e.length===0)return[];let[n,...r]=e,i=n.endsWith("?"),s=n.replace(/\?$/,"");if(r.length===0)return i?[s,""]:[s];let o=OS(r.join("/")),a=[];return a.push(...o.map(l=>l===""?s:[s,l].join("/"))),i&&a.push(...o),a.map(l=>t.startsWith("/")&&l===""?"/":l)}function t7(t){t.sort((e,n)=>e.score!==n.score?n.score-e.score:u7(e.routesMeta.map(r=>r.childrenIndex),n.routesMeta.map(r=>r.childrenIndex)))}const n7=/^:[\w-]+$/,r7=3,i7=2,s7=1,o7=10,a7=-2,Ax=t=>t==="*";function l7(t,e){let n=t.split("/"),r=n.length;return n.some(Ax)&&(r+=a7),e&&(r+=i7),n.filter(i=>!Ax(i)).reduce((i,s)=>i+(n7.test(s)?r7:s===""?s7:o7),r)}function u7(t,e){return t.length===e.length&&t.slice(0,-1).every((r,i)=>r===e[i])?t[t.length-1]-e[e.length-1]:0}function c7(t,e,n){let{routesMeta:r}=t,i={},s="/",o=[];for(let a=0;a<r.length;++a){let l=r[a],u=a===r.length-1,c=s==="/"?e:e.slice(s.length)||"/",d=Zg({path:l.relativePath,caseSensitive:l.caseSensitive,end:u},c),g=l.route;if(!d)return null;Object.assign(i,d.params),o.push({params:i,pathname:Ya([s,d.pathname]),pathnameBase:g7(Ya([s,d.pathnameBase])),route:g}),d.pathnameBase!=="/"&&(s=Ya([s,d.pathnameBase]))}return o}function Zg(t,e){typeof t=="string"&&(t={path:t,caseSensitive:!1,end:!0});let[n,r]=h7(t.path,t.caseSensitive,t.end),i=e.match(n);if(!i)return null;let s=i[0],o=s.replace(/(.)\/+$/,"$1"),a=i.slice(1);return{params:r.reduce((u,c,d)=>{let{paramName:g,isOptional:p}=c;if(g==="*"){let x=a[d]||"";o=s.slice(0,s.length-x.length).replace(/(.)\/+$/,"$1")}const b=a[d];return p&&!b?u[g]=void 0:u[g]=(b||"").replace(/%2F/g,"/"),u},{}),pathname:s,pathnameBase:o,pattern:t}}function h7(t,e,n){e===void 0&&(e=!1),n===void 0&&(n=!0),MS(t==="*"||!t.endsWith("*")||t.endsWith("/*"),'Route path "'+t+'" will be treated as if it were '+('"'+t.replace(/\*$/,"/*")+'" because the `*` character must ')+"always follow a `/` in the pattern. To get rid of this warning, "+('please change the route path to "'+t.replace(/\*$/,"/*")+'".'));let r=[],i="^"+t.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(o,a,l)=>(r.push({paramName:a,isOptional:l!=null}),l?"/?([^\\/]+)?":"/([^\\/]+)"));return t.endsWith("*")?(r.push({paramName:"*"}),i+=t==="*"||t==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?i+="\\/*$":t!==""&&t!=="/"&&(i+="(?:(?=\\/|$))"),[new RegExp(i,e?void 0:"i"),r]}function f7(t){try{return t.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return MS(!1,'The URL path "'+t+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent '+("encoding ("+e+").")),t}}function wc(t,e){if(e==="/")return t;if(!t.toLowerCase().startsWith(e.toLowerCase()))return null;let n=e.endsWith("/")?e.length-1:e.length,r=t.charAt(n);return r&&r!=="/"?null:t.slice(n)||"/"}function d7(t,e){e===void 0&&(e="/");let{pathname:n,search:r="",hash:i=""}=typeof t=="string"?Rc(t):t;return{pathname:n?n.startsWith("/")?n:p7(n,e):e,search:y7(r),hash:v7(i)}}function p7(t,e){let n=e.replace(/\/+$/,"").split("/");return t.split("/").forEach(i=>{i===".."?n.length>1&&n.pop():i!=="."&&n.push(i)}),n.length>1?n.join("/"):"/"}function l1(t,e,n,r){return"Cannot include a '"+t+"' character in a manually specified "+("`to."+e+"` field ["+JSON.stringify(r)+"].  Please separate it out to the ")+("`to."+n+"` field. Alternatively you may provide the full path as ")+'a string in <Link to="..."> and the router will parse it for you.'}function m7(t){return t.filter((e,n)=>n===0||e.route.path&&e.route.path.length>0)}function VS(t,e){let n=m7(t);return e?n.map((r,i)=>i===n.length-1?r.pathname:r.pathnameBase):n.map(r=>r.pathnameBase)}function BS(t,e,n,r){r===void 0&&(r=!1);let i;typeof t=="string"?i=Rc(t):(i=yf({},t),Kn(!i.pathname||!i.pathname.includes("?"),l1("?","pathname","search",i)),Kn(!i.pathname||!i.pathname.includes("#"),l1("#","pathname","hash",i)),Kn(!i.search||!i.search.includes("#"),l1("#","search","hash",i)));let s=t===""||i.pathname==="",o=s?"/":i.pathname,a;if(o==null)a=n;else{let d=e.length-1;if(!r&&o.startsWith("..")){let g=o.split("/");for(;g[0]==="..";)g.shift(),d-=1;i.pathname=g.join("/")}a=d>=0?e[d]:"/"}let l=d7(i,a),u=o&&o!=="/"&&o.endsWith("/"),c=(s||o===".")&&n.endsWith("/");return!l.pathname.endsWith("/")&&(u||c)&&(l.pathname+="/"),l}const Ya=t=>t.join("/").replace(/\/\/+/g,"/"),g7=t=>t.replace(/\/+$/,"").replace(/^\/*/,"/"),y7=t=>!t||t==="?"?"":t.startsWith("?")?t:"?"+t,v7=t=>!t||t==="#"?"":t.startsWith("#")?t:"#"+t;function w7(t){return t!=null&&typeof t.status=="number"&&typeof t.statusText=="string"&&typeof t.internal=="boolean"&&"data"in t}const US=["post","put","patch","delete"];new Set(US);const x7=["get",...US];new Set(x7);/**
 * React Router v6.30.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function vf(){return vf=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},vf.apply(this,arguments)}const Y0=G.createContext(null),zS=G.createContext(null),hl=G.createContext(null),X0=G.createContext(null),du=G.createContext({outlet:null,matches:[],isDataRoute:!1}),qS=G.createContext(null);function b7(t,e){let{relative:n}=e===void 0?{}:e;qf()||Kn(!1);let{basename:r,navigator:i}=G.useContext(hl),{hash:s,pathname:o,search:a}=J0(t,{relative:n}),l=o;return r!=="/"&&(l=o==="/"?r:Ya([r,o])),i.createHref({pathname:l,search:a,hash:s})}function qf(){return G.useContext(X0)!=null}function jc(){return qf()||Kn(!1),G.useContext(X0).location}function $S(t){G.useContext(hl).static||G.useLayoutEffect(t)}function HS(){let{isDataRoute:t}=G.useContext(du);return t?j7():_7()}function _7(){qf()||Kn(!1);let t=G.useContext(Y0),{basename:e,future:n,navigator:r}=G.useContext(hl),{matches:i}=G.useContext(du),{pathname:s}=jc(),o=JSON.stringify(VS(i,n.v7_relativeSplatPath)),a=G.useRef(!1);return $S(()=>{a.current=!0}),G.useCallback(function(u,c){if(c===void 0&&(c={}),!a.current)return;if(typeof u=="number"){r.go(u);return}let d=BS(u,JSON.parse(o),s,c.relative==="path");t==null&&e!=="/"&&(d.pathname=d.pathname==="/"?e:Ya([e,d.pathname])),(c.replace?r.replace:r.push)(d,c.state,c)},[e,r,o,s,t])}function J0(t,e){let{relative:n}=e===void 0?{}:e,{future:r}=G.useContext(hl),{matches:i}=G.useContext(du),{pathname:s}=jc(),o=JSON.stringify(VS(i,r.v7_relativeSplatPath));return G.useMemo(()=>BS(t,JSON.parse(o),s,n==="path"),[t,o,s,n])}function S7(t,e){return A7(t,e)}function A7(t,e,n,r){qf()||Kn(!1);let{navigator:i}=G.useContext(hl),{matches:s}=G.useContext(du),o=s[s.length-1],a=o?o.params:{};o&&o.pathname;let l=o?o.pathnameBase:"/";o&&o.route;let u=jc(),c;if(e){var d;let A=typeof e=="string"?Rc(e):e;l==="/"||(d=A.pathname)!=null&&d.startsWith(l)||Kn(!1),c=A}else c=u;let g=c.pathname||"/",p=g;if(l!=="/"){let A=l.replace(/^\//,"").split("/");p="/"+g.replace(/^\//,"").split("/").slice(A.length).join("/")}let b=ZP(t,{pathname:p}),x=k7(b&&b.map(A=>Object.assign({},A,{params:Object.assign({},a,A.params),pathname:Ya([l,i.encodeLocation?i.encodeLocation(A.pathname).pathname:A.pathname]),pathnameBase:A.pathnameBase==="/"?l:Ya([l,i.encodeLocation?i.encodeLocation(A.pathnameBase).pathname:A.pathnameBase])})),s,n,r);return e&&x?G.createElement(X0.Provider,{value:{location:vf({pathname:"/",search:"",hash:"",state:null,key:"default"},c),navigationType:Va.Pop}},x):x}function N7(){let t=R7(),e=w7(t)?t.status+" "+t.statusText:t instanceof Error?t.message:JSON.stringify(t),n=t instanceof Error?t.stack:null,i={padding:"0.5rem",backgroundColor:"rgba(200,200,200, 0.5)"};return G.createElement(G.Fragment,null,G.createElement("h2",null,"Unexpected Application Error!"),G.createElement("h3",{style:{fontStyle:"italic"}},e),n?G.createElement("pre",{style:i},n):null,null)}const E7=G.createElement(N7,null);class T7 extends G.Component{constructor(e){super(e),this.state={location:e.location,revalidation:e.revalidation,error:e.error}}static getDerivedStateFromError(e){return{error:e}}static getDerivedStateFromProps(e,n){return n.location!==e.location||n.revalidation!=="idle"&&e.revalidation==="idle"?{error:e.error,location:e.location,revalidation:e.revalidation}:{error:e.error!==void 0?e.error:n.error,location:n.location,revalidation:e.revalidation||n.revalidation}}componentDidCatch(e,n){console.error("React Router caught the following error during render",e,n)}render(){return this.state.error!==void 0?G.createElement(du.Provider,{value:this.props.routeContext},G.createElement(qS.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function C7(t){let{routeContext:e,match:n,children:r}=t,i=G.useContext(Y0);return i&&i.static&&i.staticContext&&(n.route.errorElement||n.route.ErrorBoundary)&&(i.staticContext._deepestRenderedBoundaryId=n.route.id),G.createElement(du.Provider,{value:e},r)}function k7(t,e,n,r){var i;if(e===void 0&&(e=[]),n===void 0&&(n=null),r===void 0&&(r=null),t==null){var s;if(!n)return null;if(n.errors)t=n.matches;else if((s=r)!=null&&s.v7_partialHydration&&e.length===0&&!n.initialized&&n.matches.length>0)t=n.matches;else return null}let o=t,a=(i=n)==null?void 0:i.errors;if(a!=null){let c=o.findIndex(d=>d.route.id&&(a==null?void 0:a[d.route.id])!==void 0);c>=0||Kn(!1),o=o.slice(0,Math.min(o.length,c+1))}let l=!1,u=-1;if(n&&r&&r.v7_partialHydration)for(let c=0;c<o.length;c++){let d=o[c];if((d.route.HydrateFallback||d.route.hydrateFallbackElement)&&(u=c),d.route.id){let{loaderData:g,errors:p}=n,b=d.route.loader&&g[d.route.id]===void 0&&(!p||p[d.route.id]===void 0);if(d.route.lazy||b){l=!0,u>=0?o=o.slice(0,u+1):o=[o[0]];break}}}return o.reduceRight((c,d,g)=>{let p,b=!1,x=null,A=null;n&&(p=a&&d.route.id?a[d.route.id]:void 0,x=d.route.errorElement||E7,l&&(u<0&&g===0?(D7("route-fallback"),b=!0,A=null):u===g&&(b=!0,A=d.route.hydrateFallbackElement||null)));let v=e.concat(o.slice(0,g+1)),_=()=>{let T;return p?T=x:b?T=A:d.route.Component?T=G.createElement(d.route.Component,null):d.route.element?T=d.route.element:T=c,G.createElement(C7,{match:d,routeContext:{outlet:c,matches:v,isDataRoute:n!=null},children:T})};return n&&(d.route.ErrorBoundary||d.route.errorElement||g===0)?G.createElement(T7,{location:n.location,revalidation:n.revalidation,component:x,error:p,children:_(),routeContext:{outlet:null,matches:v,isDataRoute:!0}}):_()},null)}var WS=function(t){return t.UseBlocker="useBlocker",t.UseRevalidator="useRevalidator",t.UseNavigateStable="useNavigate",t}(WS||{}),GS=function(t){return t.UseBlocker="useBlocker",t.UseLoaderData="useLoaderData",t.UseActionData="useActionData",t.UseRouteError="useRouteError",t.UseNavigation="useNavigation",t.UseRouteLoaderData="useRouteLoaderData",t.UseMatches="useMatches",t.UseRevalidator="useRevalidator",t.UseNavigateStable="useNavigate",t.UseRouteId="useRouteId",t}(GS||{});function P7(t){let e=G.useContext(Y0);return e||Kn(!1),e}function I7(t){let e=G.useContext(zS);return e||Kn(!1),e}function L7(t){let e=G.useContext(du);return e||Kn(!1),e}function KS(t){let e=L7(),n=e.matches[e.matches.length-1];return n.route.id||Kn(!1),n.route.id}function R7(){var t;let e=G.useContext(qS),n=I7(),r=KS();return e!==void 0?e:(t=n.errors)==null?void 0:t[r]}function j7(){let{router:t}=P7(WS.UseNavigateStable),e=KS(GS.UseNavigateStable),n=G.useRef(!1);return $S(()=>{n.current=!0}),G.useCallback(function(i,s){s===void 0&&(s={}),n.current&&(typeof i=="number"?t.navigate(i):t.navigate(i,vf({fromRouteId:e},s)))},[t,e])}const Nx={};function D7(t,e,n){Nx[t]||(Nx[t]=!0)}function M7(t,e){t==null||t.v7_startTransition,t==null||t.v7_relativeSplatPath}function Ei(t){Kn(!1)}function F7(t){let{basename:e="/",children:n=null,location:r,navigationType:i=Va.Pop,navigator:s,static:o=!1,future:a}=t;qf()&&Kn(!1);let l=e.replace(/^\/*/,"/"),u=G.useMemo(()=>({basename:l,navigator:s,static:o,future:vf({v7_relativeSplatPath:!1},a)}),[l,a,s,o]);typeof r=="string"&&(r=Rc(r));let{pathname:c="/",search:d="",hash:g="",state:p=null,key:b="default"}=r,x=G.useMemo(()=>{let A=wc(c,l);return A==null?null:{location:{pathname:A,search:d,hash:g,state:p,key:b},navigationType:i}},[l,c,d,g,p,b,i]);return x==null?null:G.createElement(hl.Provider,{value:u},G.createElement(X0.Provider,{children:n,value:x}))}function O7(t){let{children:e,location:n}=t;return S7(e2(e),n)}new Promise(()=>{});function e2(t,e){e===void 0&&(e=[]);let n=[];return G.Children.forEach(t,(r,i)=>{if(!G.isValidElement(r))return;let s=[...e,i];if(r.type===G.Fragment){n.push.apply(n,e2(r.props.children,s));return}r.type!==Ei&&Kn(!1),!r.props.index||!r.props.children||Kn(!1);let o={id:r.props.id||s.join("-"),caseSensitive:r.props.caseSensitive,element:r.props.element,Component:r.props.Component,index:r.props.index,path:r.props.path,loader:r.props.loader,action:r.props.action,errorElement:r.props.errorElement,ErrorBoundary:r.props.ErrorBoundary,hasErrorBoundary:r.props.ErrorBoundary!=null||r.props.errorElement!=null,shouldRevalidate:r.props.shouldRevalidate,handle:r.props.handle,lazy:r.props.lazy};r.props.children&&(o.children=e2(r.props.children,s)),n.push(o)}),n}/**
 * React Router DOM v6.30.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function o0(){return o0=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},o0.apply(this,arguments)}function QS(t,e){if(t==null)return{};var n={},r=Object.keys(t),i,s;for(s=0;s<r.length;s++)i=r[s],!(e.indexOf(i)>=0)&&(n[i]=t[i]);return n}function V7(t){return!!(t.metaKey||t.altKey||t.ctrlKey||t.shiftKey)}function B7(t,e){return t.button===0&&(!e||e==="_self")&&!V7(t)}const U7=["onClick","relative","reloadDocument","replace","state","target","to","preventScrollReset","viewTransition"],z7=["aria-current","caseSensitive","className","end","style","to","viewTransition","children"],q7="6";try{window.__reactRouterVersion=q7}catch{}const $7=G.createContext({isTransitioning:!1}),H7="startTransition",Ex=OC[H7];function W7(t){let{basename:e,children:n,future:r,window:i}=t,s=G.useRef();s.current==null&&(s.current=YP({window:i,v5Compat:!0}));let o=s.current,[a,l]=G.useState({action:o.action,location:o.location}),{v7_startTransition:u}=r||{},c=G.useCallback(d=>{u&&Ex?Ex(()=>l(d)):l(d)},[l,u]);return G.useLayoutEffect(()=>o.listen(c),[o,c]),G.useEffect(()=>M7(r),[r]),G.createElement(F7,{basename:e,children:n,location:a.location,navigationType:a.action,navigator:o,future:r})}const G7=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",K7=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,ev=G.forwardRef(function(e,n){let{onClick:r,relative:i,reloadDocument:s,replace:o,state:a,target:l,to:u,preventScrollReset:c,viewTransition:d}=e,g=QS(e,U7),{basename:p}=G.useContext(hl),b,x=!1;if(typeof u=="string"&&K7.test(u)&&(b=u,G7))try{let T=new URL(window.location.href),R=u.startsWith("//")?new URL(T.protocol+u):new URL(u),z=wc(R.pathname,p);R.origin===T.origin&&z!=null?u=z+R.search+R.hash:x=!0}catch{}let A=b7(u,{relative:i}),v=Y7(u,{replace:o,state:a,target:l,preventScrollReset:c,relative:i,viewTransition:d});function _(T){r&&r(T),T.defaultPrevented||v(T)}return G.createElement("a",o0({},g,{href:b||A,onClick:x||s?r:_,ref:n,target:l}))}),Tx=G.forwardRef(function(e,n){let{"aria-current":r="page",caseSensitive:i=!1,className:s="",end:o=!1,style:a,to:l,viewTransition:u,children:c}=e,d=QS(e,z7),g=J0(l,{relative:d.relative}),p=jc(),b=G.useContext(zS),{navigator:x,basename:A}=G.useContext(hl),v=b!=null&&X7(g)&&u===!0,_=x.encodeLocation?x.encodeLocation(g).pathname:g.pathname,T=p.pathname,R=b&&b.navigation&&b.navigation.location?b.navigation.location.pathname:null;i||(T=T.toLowerCase(),R=R?R.toLowerCase():null,_=_.toLowerCase()),R&&A&&(R=wc(R,A)||R);const z=_!=="/"&&_.endsWith("/")?_.length-1:_.length;let K=T===_||!o&&T.startsWith(_)&&T.charAt(z)==="/",k=R!=null&&(R===_||!o&&R.startsWith(_)&&R.charAt(_.length)==="/"),C={isActive:K,isPending:k,isTransitioning:v},P=K?r:void 0,M;typeof s=="function"?M=s(C):M=[s,K?"active":null,k?"pending":null,v?"transitioning":null].filter(Boolean).join(" ");let E=typeof a=="function"?a(C):a;return G.createElement(ev,o0({},d,{"aria-current":P,className:M,ref:n,style:E,to:l,viewTransition:u}),typeof c=="function"?c(C):c)});var t2;(function(t){t.UseScrollRestoration="useScrollRestoration",t.UseSubmit="useSubmit",t.UseSubmitFetcher="useSubmitFetcher",t.UseFetcher="useFetcher",t.useViewTransitionState="useViewTransitionState"})(t2||(t2={}));var Cx;(function(t){t.UseFetcher="useFetcher",t.UseFetchers="useFetchers",t.UseScrollRestoration="useScrollRestoration"})(Cx||(Cx={}));function Q7(t){let e=G.useContext(Y0);return e||Kn(!1),e}function Y7(t,e){let{target:n,replace:r,state:i,preventScrollReset:s,relative:o,viewTransition:a}=e===void 0?{}:e,l=HS(),u=jc(),c=J0(t,{relative:o});return G.useCallback(d=>{if(B7(d,n)){d.preventDefault();let g=r!==void 0?r:s0(u)===s0(c);l(t,{replace:g,state:i,preventScrollReset:s,relative:o,viewTransition:a})}},[u,l,c,r,i,n,t,s,o,a])}function X7(t,e){e===void 0&&(e={});let n=G.useContext($7);n==null&&Kn(!1);let{basename:r}=Q7(t2.useViewTransitionState),i=J0(t,{relative:e.relative});if(!n.isTransitioning)return!1;let s=wc(n.currentLocation.pathname,r)||n.currentLocation.pathname,o=wc(n.nextLocation.pathname,r)||n.nextLocation.pathname;return Zg(i.pathname,o)!=null||Zg(i.pathname,s)!=null}var YS={color:void 0,size:void 0,className:void 0,style:void 0,attr:void 0},kx=on.createContext&&on.createContext(YS),J7=["attr","size","title"];function Z7(t,e){if(t==null)return{};var n=eI(t,e),r,i;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(i=0;i<s.length;i++)r=s[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function eI(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}function a0(){return a0=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},a0.apply(this,arguments)}function Px(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function l0(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?Px(Object(n),!0).forEach(function(r){tI(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):Px(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function tI(t,e,n){return e=nI(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function nI(t){var e=rI(t,"string");return typeof e=="symbol"?e:e+""}function rI(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function XS(t){return t&&t.map((e,n)=>on.createElement(e.tag,l0({key:n},e.attr),XS(e.child)))}function vi(t){return e=>on.createElement(iI,a0({attr:l0({},t.attr)},e),XS(t.child))}function iI(t){var e=n=>{var{attr:r,size:i,title:s}=t,o=Z7(t,J7),a=i||n.size||"1em",l;return n.className&&(l=n.className),t.className&&(l=(l?l+" ":"")+t.className),on.createElement("svg",a0({stroke:"currentColor",fill:"currentColor",strokeWidth:"0"},n.attr,r,o,{className:l,style:l0(l0({color:t.color||n.color},n.style),t.style),height:a,width:a,xmlns:"http://www.w3.org/2000/svg"}),s&&on.createElement("title",null,s),t.children)};return kx!==void 0?on.createElement(kx.Consumer,null,n=>e(n)):e(YS)}function sI(t){return vi({attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M16 132h416c8.837 0 16-7.163 16-16V76c0-8.837-7.163-16-16-16H16C7.163 60 0 67.163 0 76v40c0 8.837 7.163 16 16 16zm0 160h416c8.837 0 16-7.163 16-16v-40c0-8.837-7.163-16-16-16H16c-8.837 0-16 7.163-16 16v40c0 8.837 7.163 16 16 16zm0 160h416c8.837 0 16-7.163 16-16v-40c0-8.837-7.163-16-16-16H16c-8.837 0-16 7.163-16 16v40c0 8.837 7.163 16 16 16z"},child:[]}]})(t)}function oI(t){return vi({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M332.8 320h38.4c6.4 0 12.8-6.4 12.8-12.8V172.8c0-6.4-6.4-12.8-12.8-12.8h-38.4c-6.4 0-12.8 6.4-12.8 12.8v134.4c0 6.4 6.4 12.8 12.8 12.8zm96 0h38.4c6.4 0 12.8-6.4 12.8-12.8V76.8c0-6.4-6.4-12.8-12.8-12.8h-38.4c-6.4 0-12.8 6.4-12.8 12.8v230.4c0 6.4 6.4 12.8 12.8 12.8zm-288 0h38.4c6.4 0 12.8-6.4 12.8-12.8v-70.4c0-6.4-6.4-12.8-12.8-12.8h-38.4c-6.4 0-12.8 6.4-12.8 12.8v70.4c0 6.4 6.4 12.8 12.8 12.8zm96 0h38.4c6.4 0 12.8-6.4 12.8-12.8V108.8c0-6.4-6.4-12.8-12.8-12.8h-38.4c-6.4 0-12.8 6.4-12.8 12.8v198.4c0 6.4 6.4 12.8 12.8 12.8zM496 384H64V80c0-8.84-7.16-16-16-16H16C7.16 64 0 71.16 0 80v336c0 17.67 14.33 32 32 32h464c8.84 0 16-7.16 16-16v-32c0-8.84-7.16-16-16-16z"},child:[]}]})(t)}function aI(t){return vi({attr:{viewBox:"0 0 320 512"},child:[{tag:"path",attr:{d:"M34.52 239.03L228.87 44.69c9.37-9.37 24.57-9.37 33.94 0l22.67 22.67c9.36 9.36 9.37 24.52.04 33.9L131.49 256l154.02 154.75c9.34 9.38 9.32 24.54-.04 33.9l-22.67 22.67c-9.37 9.37-24.57 9.37-33.94 0L34.52 272.97c-9.37-9.37-9.37-24.57 0-33.94z"},child:[]}]})(t)}function lI(t){return vi({attr:{viewBox:"0 0 384 512"},child:[{tag:"path",attr:{d:"M336 64h-80c0-35.3-28.7-64-64-64s-64 28.7-64 64H48C21.5 64 0 85.5 0 112v352c0 26.5 21.5 48 48 48h288c26.5 0 48-21.5 48-48V112c0-26.5-21.5-48-48-48zM96 424c-13.3 0-24-10.7-24-24s10.7-24 24-24 24 10.7 24 24-10.7 24-24 24zm0-96c-13.3 0-24-10.7-24-24s10.7-24 24-24 24 10.7 24 24-10.7 24-24 24zm0-96c-13.3 0-24-10.7-24-24s10.7-24 24-24 24 10.7 24 24-10.7 24-24 24zm96-192c13.3 0 24 10.7 24 24s-10.7 24-24 24-24-10.7-24-24 10.7-24 24-24zm128 368c0 4.4-3.6 8-8 8H168c-4.4 0-8-3.6-8-8v-16c0-4.4 3.6-8 8-8h144c4.4 0 8 3.6 8 8v16zm0-96c0 4.4-3.6 8-8 8H168c-4.4 0-8-3.6-8-8v-16c0-4.4 3.6-8 8-8h144c4.4 0 8 3.6 8 8v16zm0-96c0 4.4-3.6 8-8 8H168c-4.4 0-8-3.6-8-8v-16c0-4.4 3.6-8 8-8h144c4.4 0 8 3.6 8 8v16z"},child:[]}]})(t)}function uI(t){return vi({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M487.4 315.7l-42.6-24.6c4.3-23.2 4.3-47 0-70.2l42.6-24.6c4.9-2.8 7.1-8.6 5.5-14-11.1-35.6-30-67.8-54.7-94.6-3.8-4.1-10-5.1-14.8-2.3L380.8 110c-17.9-15.4-38.5-27.3-60.8-35.1V25.8c0-5.6-3.9-10.5-9.4-11.7-36.7-8.2-74.3-7.8-109.2 0-5.5 1.2-9.4 6.1-9.4 11.7V75c-22.2 7.9-42.8 19.8-60.8 35.1L88.7 85.5c-4.9-2.8-11-1.9-14.8 2.3-24.7 26.7-43.6 58.9-54.7 94.6-1.7 5.4.6 11.2 5.5 14L67.3 221c-4.3 23.2-4.3 47 0 70.2l-42.6 24.6c-4.9 2.8-7.1 8.6-5.5 14 11.1 35.6 30 67.8 54.7 94.6 3.8 4.1 10 5.1 14.8 2.3l42.6-24.6c17.9 15.4 38.5 27.3 60.8 35.1v49.2c0 5.6 3.9 10.5 9.4 11.7 36.7 8.2 74.3 7.8 109.2 0 5.5-1.2 9.4-6.1 9.4-11.7v-49.2c22.2-7.9 42.8-19.8 60.8-35.1l42.6 24.6c4.9 2.8 11 1.9 14.8-2.3 24.7-26.7 43.6-58.9 54.7-94.6 1.5-5.5-.7-11.3-5.6-14.1zM256 336c-44.1 0-80-35.9-80-80s35.9-80 80-80 80 35.9 80 80-35.9 80-80 80z"},child:[]}]})(t)}function cI(t){return vi({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M288 130.54V112h16c8.84 0 16-7.16 16-16V80c0-8.84-7.16-16-16-16h-96c-8.84 0-16 7.16-16 16v16c0 8.84 7.16 16 16 16h16v18.54C115.49 146.11 32 239.18 32 352h448c0-112.82-83.49-205.89-192-221.46zM496 384H16c-8.84 0-16 7.16-16 16v32c0 8.84 7.16 16 16 16h480c8.84 0 16-7.16 16-16v-32c0-8.84-7.16-16-16-16z"},child:[]}]})(t)}function hI(t){return vi({attr:{viewBox:"0 0 384 512"},child:[{tag:"path",attr:{d:"M377 105L279.1 7c-4.5-4.5-10.6-7-17-7H256v128h128v-6.1c0-6.3-2.5-12.4-7-16.9zm-153 31V0H24C10.7 0 0 10.7 0 24v464c0 13.3 10.7 24 24 24h336c13.3 0 24-10.7 24-24V160H248c-13.2 0-24-10.8-24-24zM64 72c0-4.42 3.58-8 8-8h80c4.42 0 8 3.58 8 8v16c0 4.42-3.58 8-8 8H72c-4.42 0-8-3.58-8-8V72zm0 80v-16c0-4.42 3.58-8 8-8h80c4.42 0 8 3.58 8 8v16c0 4.42-3.58 8-8 8H72c-4.42 0-8-3.58-8-8zm144 263.88V440c0 4.42-3.58 8-8 8h-16c-4.42 0-8-3.58-8-8v-24.29c-11.29-.58-22.27-4.52-31.37-11.35-3.9-2.93-4.1-8.77-.57-12.14l11.75-11.21c2.77-2.64 6.89-2.76 10.13-.73 3.87 2.42 8.26 3.72 12.82 3.72h28.11c6.5 0 11.8-5.92 11.8-13.19 0-5.95-3.61-11.19-8.77-12.73l-45-13.5c-18.59-5.58-31.58-23.42-31.58-43.39 0-24.52 19.05-44.44 42.67-45.07V232c0-4.42 3.58-8 8-8h16c4.42 0 8 3.58 8 8v24.29c11.29.58 22.27 4.51 31.37 11.35 3.9 2.93 4.1 8.77.57 12.14l-11.75 11.21c-2.77 2.64-6.89 2.76-10.13.73-3.87-2.43-8.26-3.72-12.82-3.72h-28.11c-6.5 0-11.8 5.92-11.8 13.19 0 5.95 3.61 11.19 8.77 12.73l45 13.5c18.59 5.58 31.58 23.42 31.58 43.39 0 24.53-19.05 44.44-42.67 45.07z"},child:[]}]})(t)}function fI(t){return vi({attr:{viewBox:"0 0 384 512"},child:[{tag:"path",attr:{d:"M181.9 256.1c-5-16-4.9-46.9-2-46.9 8.4 0 7.6 36.9 2 46.9zm-1.7 47.2c-7.7 20.2-17.3 43.3-28.4 62.7 18.3-7 39-17.2 62.9-21.9-12.7-9.6-24.9-23.4-34.5-40.8zM86.1 428.1c0 .8 13.2-5.4 34.9-40.2-6.7 6.3-29.1 24.5-34.9 40.2zM248 160h136v328c0 13.3-10.7 24-24 24H24c-13.3 0-24-10.7-24-24V24C0 10.7 10.7 0 24 0h200v136c0 13.2 10.8 24 24 24zm-8 171.8c-20-12.2-33.3-29-42.7-53.8 4.5-18.5 11.6-46.6 6.2-64.2-4.7-29.4-42.4-26.5-47.8-6.8-5 18.3-.4 44.1 8.1 77-11.6 27.6-28.7 64.6-40.8 85.8-.1 0-.1.1-.2.1-27.1 13.9-73.6 44.5-54.5 68 5.6 6.9 16 10 21.5 10 17.9 0 35.7-18 61.1-61.8 25.8-8.5 54.1-19.1 79-23.2 21.7 11.8 47.1 19.5 64 19.5 29.2 0 31.2-32 19.7-43.4-13.9-13.6-54.3-9.7-73.6-7.2zM377 105L279 7c-4.5-4.5-10.6-7-17-7h-6v128h128v-6.1c0-6.3-2.5-12.4-7-16.9zm-74.1 255.3c4.1-2.7-2.5-11.9-42.8-9 37.1 15.8 42.8 9 42.8 9z"},child:[]}]})(t)}function dI(t){return vi({attr:{viewBox:"0 0 576 512"},child:[{tag:"path",attr:{d:"M280.37 148.26L96 300.11V464a16 16 0 0 0 16 16l112.06-.29a16 16 0 0 0 15.92-16V368a16 16 0 0 1 16-16h64a16 16 0 0 1 16 16v95.64a16 16 0 0 0 16 16.05L464 480a16 16 0 0 0 16-16V300L295.67 148.26a12.19 12.19 0 0 0-15.3 0zM571.6 251.47L488 182.56V44.05a12 12 0 0 0-12-12h-56a12 12 0 0 0-12 12v72.61L318.47 43a48 48 0 0 0-61 0L4.34 251.47a12 12 0 0 0-1.6 16.9l25.5 31A12 12 0 0 0 45.15 301l235.22-193.74a12.19 12.19 0 0 1 15.3 0L530.9 301a12 12 0 0 0 16.9-1.6l25.5-31a12 12 0 0 0-1.7-16.93z"},child:[]}]})(t)}function pI(t){return vi({attr:{viewBox:"0 0 576 512"},child:[{tag:"path",attr:{d:"M567.938 243.908L462.25 85.374A48.003 48.003 0 0 0 422.311 64H153.689a48 48 0 0 0-39.938 21.374L8.062 243.908A47.994 47.994 0 0 0 0 270.533V400c0 26.51 21.49 48 48 48h480c26.51 0 48-21.49 48-48V270.533a47.994 47.994 0 0 0-8.062-26.625zM162.252 128h251.497l85.333 128H376l-32 64H232l-32-64H76.918l85.334-128z"},child:[]}]})(t)}function mI(t){return vi({attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M424.4 214.7L72.4 6.6C43.8-10.3 0 6.1 0 47.9V464c0 37.5 40.7 60.1 72.4 41.3l352-208c31.4-18.5 31.5-64.1 0-82.6z"},child:[]}]})(t)}function gI(t){return vi({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M497 273L329 441c-15 15-41 4.5-41-17v-96H152c-13.3 0-24-10.7-24-24v-96c0-13.3 10.7-24 24-24h136V88c0-21.4 25.9-32 41-17l168 168c9.3 9.4 9.3 24.6 0 34zM192 436v-40c0-6.6-5.4-12-12-12H96c-17.7 0-32-14.3-32-32V160c0-17.7 14.3-32 32-32h84c6.6 0 12-5.4 12-12V76c0-6.6-5.4-12-12-12H96c-53 0-96 43-96 96v192c0 53 43 96 96 96h84c6.6 0 12-5.4 12-12z"},child:[]}]})(t)}function yI(t){return vi({attr:{viewBox:"0 0 496 512"},child:[{tag:"path",attr:{d:"M248 8C111 8 0 119 0 256s111 248 248 248 248-111 248-248S385 8 248 8zm0 96c48.6 0 88 39.4 88 88s-39.4 88-88 88-88-39.4-88-88 39.4-88 88-88zm0 344c-58.7 0-111.3-26.6-146.5-68.2 18.8-35.4 55.6-59.8 98.5-59.8 2.4 0 4.8.4 7.1 1.1 13 4.2 26.6 6.9 40.9 6.9 14.3 0 28-2.7 40.9-6.9 2.3-.7 4.7-1.1 7.1-1.1 42.9 0 79.7 24.4 98.5 59.8C359.3 421.4 306.7 448 248 448z"},child:[]}]})(t)}function vI(t){return vi({attr:{viewBox:"0 0 640 512"},child:[{tag:"path",attr:{d:"M96 224c35.3 0 64-28.7 64-64s-28.7-64-64-64-64 28.7-64 64 28.7 64 64 64zm448 0c35.3 0 64-28.7 64-64s-28.7-64-64-64-64 28.7-64 64 28.7 64 64 64zm32 32h-64c-17.6 0-33.5 7.1-45.1 18.6 40.3 22.1 68.9 62 75.1 109.4h66c17.7 0 32-14.3 32-32v-32c0-35.3-28.7-64-64-64zm-256 0c61.9 0 112-50.1 112-112S381.9 32 320 32 208 82.1 208 144s50.1 112 112 112zm76.8 32h-8.3c-20.8 10-43.9 16-68.5 16s-47.6-6-68.5-16h-8.3C179.6 288 128 339.6 128 403.2V432c0 26.5 21.5 48 48 48h288c26.5 0 48-21.5 48-48v-28.8c0-63.6-51.6-115.2-115.2-115.2zm-223.7-13.4C161.5 263.1 145.6 256 128 256H64c-35.3 0-64 28.7-64 64v32c0 17.7 14.3 32 32 32h65.9c6.3-47.4 34.9-87.3 75.2-109.4z"},child:[]}]})(t)}function wI(t){return vi({attr:{viewBox:"0 0 416 512"},child:[{tag:"path",attr:{d:"M207.9 15.2c.8 4.7 16.1 94.5 16.1 128.8 0 52.3-27.8 89.6-68.9 104.6L168 486.7c.7 13.7-10.2 25.3-24 25.3H80c-13.7 0-24.7-11.5-24-25.3l12.9-238.1C27.7 233.6 0 196.2 0 144 0 109.6 15.3 19.9 16.1 15.2 19.3-5.1 61.4-5.4 64 16.3v141.2c1.3 3.4 15.1 3.2 16 0 1.4-25.3 7.9-139.2 8-141.8 3.3-20.8 44.7-20.8 47.9 0 .2 2.7 6.6 116.5 8 141.8.9 3.2 14.8 3.4 16 0V16.3c2.6-21.6 44.8-21.4 48-1.1zm119.2 285.7l-15 185.1c-1.2 14 9.9 26 23.9 26h56c13.3 0 24-10.7 24-24V24c0-13.2-10.7-24-24-24-82.5 0-221.4 178.5-64.9 300.9z"},child:[]}]})(t)}const xI=(t,e)=>{G.useEffect(()=>{const n=r=>{t.current&&!t.current.contains(r.target)&&e()};return document.addEventListener("mousedown",n),()=>{document.removeEventListener("mousedown",n)}},[t,e])},bI=[{path:"/",label:"Home",icon:dI},{path:"/menu",label:"Menu",icon:wI},{path:"/billing",label:"Billing",icon:hI},{path:"/reports",label:"Reports",icon:oI},{path:"/staff",label:"Staff",icon:vI},{path:"/order",label:"Order",icon:lI},{path:"/kitchen",label:"Kitchen",icon:cI}],_I=()=>{const[t,e]=G.useState(!0),[n,r]=G.useState(!1),i=G.useRef(null);return xI(i,()=>r(!1)),G.useEffect(()=>{const s=localStorage.getItem("sidebarOpen");s!==null&&e(JSON.parse(s))},[]),G.useEffect(()=>{localStorage.setItem("sidebarOpen",JSON.stringify(t))},[t]),m.jsxs("aside",{className:`sticky top-0 h-screen bg-slate-900 text-slate-300 flex flex-col transition-all duration-300 ease-in-out ${t?"w-64":"w-20"}`,children:[m.jsx("button",{onClick:()=>e(!t),"aria-label":t?"Collapse sidebar":"Expand sidebar",className:"absolute -right-3 top-8 z-10 p-1.5 rounded-full bg-slate-800 text-slate-300 hover:bg-amber-500 hover:text-slate-900 transition-colors",children:t?m.jsx(aI,{size:14}):m.jsx(sI,{size:14})}),m.jsxs("div",{className:`flex-1 flex flex-col ${t?"overflow-y-auto overflow-x-hidden":"overflow-hidden"}`,children:[m.jsxs("div",{className:"flex items-center h-20 px-6 shrink-0",children:[m.jsx("span",{className:"text-amber-400 text-3xl",children:""}),t&&m.jsxs("div",{className:"ml-4 flex flex-col",children:[m.jsx("span",{className:"text-2xl font-bold tracking-wider text-amber-400 leading-tight",children:"MealiX"}),m.jsx("span",{className:"text-xs text-slate-500 tracking-wider mt-0.5",children:"Developed by Sinan KP"})]})]}),m.jsx("nav",{className:"px-4 space-y-2",children:bI.map(({path:s,label:o,icon:a})=>m.jsxs(Tx,{to:s,className:({isActive:l})=>`relative flex items-center rounded-lg font-medium py-3 px-4 transition-colors group
                ${l?"bg-amber-500 text-slate-900 shadow-lg":"hover:bg-slate-800 hover:text-amber-400"}`,children:[m.jsx(a,{className:"w-6 h-6 shrink-0","aria-hidden":"true"}),t&&m.jsx("span",{className:"ml-4 flex-1 whitespace-nowrap",children:o}),!t&&m.jsx("span",{className:"absolute left-full top-1/2 -translate-y-1/2 ml-4 px-3 py-1.5 bg-slate-800 text-amber-400 text-xs font-medium rounded-md opacity-0 group-hover:opacity-100 whitespace-nowrap shadow-lg transition-opacity pointer-events-none z-20",children:o})]},s))})]}),m.jsxs("div",{className:"px-4 py-4 border-t border-slate-700/50",children:[m.jsxs(Tx,{to:"/settings",className:({isActive:s})=>`relative flex items-center rounded-lg font-medium py-3 px-4 transition-colors group
            ${s?"bg-amber-500 text-slate-900 shadow-lg":"hover:bg-slate-800 hover:text-amber-400"}`,children:[m.jsx(uI,{className:"w-6 h-6 shrink-0","aria-hidden":"true"}),t&&m.jsx("span",{className:"ml-4",children:"Settings"}),!t&&m.jsx("span",{className:"absolute left-full top-1/2 -translate-y-1/2 ml-4 px-3 py-1.5 bg-slate-800 text-amber-400 text-xs font-medium rounded-md opacity-0 group-hover:opacity-100 whitespace-nowrap shadow-lg transition-opacity pointer-events-none z-20",children:"Settings"})]}),m.jsxs("div",{ref:i,className:"relative mt-2",children:[n&&m.jsxs("div",{className:`absolute bottom-full mb-2 w-56 ${t?"left-0":"left-4"} bg-slate-800 rounded-lg shadow-lg py-2 transition-all duration-300 ease-in-out transform origin-bottom ${n?"scale-100 opacity-100":"scale-95 opacity-0"}`,children:[m.jsxs("div",{className:"px-4 py-3 border-b border-slate-700",children:[m.jsx("p",{className:"font-semibold text-slate-200",children:"Manager"}),m.jsx("p",{className:"text-sm text-slate-400 truncate",children:"manager@restrogrid.com"})]}),m.jsxs("button",{className:"flex w-full items-center px-4 py-2 text-sm text-slate-300 hover:bg-slate-700 hover:text-amber-400",children:[m.jsx(yI,{className:"mr-3"})," Profile"]}),m.jsxs("button",{className:"flex w-full items-center px-4 py-2 text-sm text-red-400 hover:bg-slate-700",children:[m.jsx(gI,{className:"mr-3"})," Logout"]})]}),m.jsxs("div",{className:`mt-2 p-2 flex items-center cursor-pointer rounded-lg hover:bg-slate-800 transition-colors ${!t&&"justify-center"}`,onClick:()=>r(s=>!s),children:[m.jsx("img",{src:"https://i.pravatar.cc/48",alt:"profile",className:"w-10 h-10 rounded-full border-2 border-amber-400"}),t&&m.jsxs("div",{className:"ml-3",children:[m.jsx("p",{className:"font-semibold text-slate-200",children:"Manager"}),m.jsx("p",{className:"text-xs text-slate-400",children:"Admin"})]})]})]})]})]})},SI=()=>{const[t,e]=G.useState(navigator.onLine?"online":"offline"),[n,r]=G.useState(0),i=3,s=2500;G.useEffect(()=>{const l=()=>{setTimeout(()=>{e("online"),r(0)},1e3)},u=()=>{e("offline"),o()};return window.addEventListener("online",l),window.addEventListener("offline",u),navigator.onLine||o(),()=>{window.removeEventListener("online",l),window.removeEventListener("offline",u)}},[]);const o=()=>{let l=0;e("retrying");const u=setInterval(()=>{l++,r(l),navigator.onLine?(e("online"),r(0),clearInterval(u)):l>=i&&(e("offline"),clearInterval(u))},s)},a=()=>{e("manual_checking"),setTimeout(()=>{navigator.onLine?window.location.reload():(e("offline"),r(0))},1500)};return t==="online"?null:m.jsx("div",{className:"fixed inset-0 z-[9999] flex items-center justify-center px-4 bg-gray-900/60 backdrop-blur-sm transition-all duration-300",children:m.jsxs("div",{className:"bg-white w-full max-w-sm rounded-2xl shadow-2xl overflow-hidden transform transition-all animate-in fade-in zoom-in-95 duration-300",children:[m.jsx("div",{className:`h-2 w-full ${t==="retrying"?"bg-blue-500 animate-pulse":"bg-red-500"}`}),m.jsxs("div",{className:"p-8 flex flex-col items-center text-center",children:[m.jsxs("div",{className:"relative mb-6",children:[m.jsx("div",{className:`absolute inset-0 rounded-full opacity-20 ${t==="retrying"?"bg-blue-500 animate-ping":"bg-red-500"}`}),m.jsx("div",{className:`relative p-4 rounded-full ${t==="retrying"?"bg-blue-50 text-blue-600":"bg-red-50 text-red-600"}`,children:t==="retrying"||t==="manual_checking"?m.jsxs("svg",{className:"w-10 h-10 animate-spin",fill:"none",viewBox:"0 0 24 24",children:[m.jsx("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),m.jsx("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})]}):m.jsx("svg",{className:"w-10 h-10",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",strokeWidth:"2",children:m.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M3 3l18 18M12 18h.01M8.217 14.217a5.002 5.002 0 016.224 0M6.8 11.29a8.004 8.004 0 0110.386 0M5.39 8.373a10.004 10.004 0 0113.2 0"})})})]}),m.jsx("h2",{className:"text-2xl font-bold text-gray-800 mb-2",children:t==="retrying"?"Trying to Connect...":"No Internet Connection"}),m.jsx("p",{className:"text-gray-500 mb-8 leading-relaxed",children:t==="retrying"?`We are attempting to restore your connection automatically. (Attempt ${n}/${i})`:"Please check your Wi-Fi or mobile data settings and try again."}),m.jsxs("div",{className:"w-full space-y-3",children:[t!=="retrying"&&m.jsx("button",{onClick:a,disabled:t==="manual_checking",className:`
                  w-full py-3.5 px-6 rounded-xl font-semibold text-white shadow-lg 
                  flex items-center justify-center space-x-2 transition-all duration-200
                  ${t==="manual_checking"?"bg-gray-400 cursor-not-allowed":"bg-red-600 hover:bg-red-700 active:scale-[0.98] shadow-red-200"}
                `,children:t==="manual_checking"?m.jsxs(m.Fragment,{children:[m.jsx("span",{children:"Checking Connection"}),m.jsxs("span",{className:"flex space-x-1 ml-2",children:[m.jsx("span",{className:"w-1.5 h-1.5 bg-white rounded-full animate-bounce delay-0"}),m.jsx("span",{className:"w-1.5 h-1.5 bg-white rounded-full animate-bounce delay-100"}),m.jsx("span",{className:"w-1.5 h-1.5 bg-white rounded-full animate-bounce delay-200"})]})]}):m.jsx("span",{children:"Tap to Reconnect"})}),t==="retrying"&&m.jsx("div",{className:"w-full bg-gray-100 rounded-full h-2.5 overflow-hidden",children:m.jsx("div",{className:"bg-blue-500 h-2.5 rounded-full transition-all duration-500 ease-out",style:{width:`${n/i*100}%`}})})]})]})]})})};var Ix={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const JS=function(t){const e=[];let n=0;for(let r=0;r<t.length;r++){let i=t.charCodeAt(r);i<128?e[n++]=i:i<2048?(e[n++]=i>>6|192,e[n++]=i&63|128):(i&64512)===55296&&r+1<t.length&&(t.charCodeAt(r+1)&64512)===56320?(i=65536+((i&1023)<<10)+(t.charCodeAt(++r)&1023),e[n++]=i>>18|240,e[n++]=i>>12&63|128,e[n++]=i>>6&63|128,e[n++]=i&63|128):(e[n++]=i>>12|224,e[n++]=i>>6&63|128,e[n++]=i&63|128)}return e},AI=function(t){const e=[];let n=0,r=0;for(;n<t.length;){const i=t[n++];if(i<128)e[r++]=String.fromCharCode(i);else if(i>191&&i<224){const s=t[n++];e[r++]=String.fromCharCode((i&31)<<6|s&63)}else if(i>239&&i<365){const s=t[n++],o=t[n++],a=t[n++],l=((i&7)<<18|(s&63)<<12|(o&63)<<6|a&63)-65536;e[r++]=String.fromCharCode(55296+(l>>10)),e[r++]=String.fromCharCode(56320+(l&1023))}else{const s=t[n++],o=t[n++];e[r++]=String.fromCharCode((i&15)<<12|(s&63)<<6|o&63)}}return e.join("")},ZS={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(t,e){if(!Array.isArray(t))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let i=0;i<t.length;i+=3){const s=t[i],o=i+1<t.length,a=o?t[i+1]:0,l=i+2<t.length,u=l?t[i+2]:0,c=s>>2,d=(s&3)<<4|a>>4;let g=(a&15)<<2|u>>6,p=u&63;l||(p=64,o||(g=64)),r.push(n[c],n[d],n[g],n[p])}return r.join("")},encodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(t):this.encodeByteArray(JS(t),e)},decodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(t):AI(this.decodeStringToByteArray(t,e))},decodeStringToByteArray(t,e){this.init_();const n=e?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let i=0;i<t.length;){const s=n[t.charAt(i++)],a=i<t.length?n[t.charAt(i)]:0;++i;const u=i<t.length?n[t.charAt(i)]:64;++i;const d=i<t.length?n[t.charAt(i)]:64;if(++i,s==null||a==null||u==null||d==null)throw new NI;const g=s<<2|a>>4;if(r.push(g),u!==64){const p=a<<4&240|u>>2;if(r.push(p),d!==64){const b=u<<6&192|d;r.push(b)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let t=0;t<this.ENCODED_VALS.length;t++)this.byteToCharMap_[t]=this.ENCODED_VALS.charAt(t),this.charToByteMap_[this.byteToCharMap_[t]]=t,this.byteToCharMapWebSafe_[t]=this.ENCODED_VALS_WEBSAFE.charAt(t),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[t]]=t,t>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(t)]=t,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(t)]=t)}}};class NI extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const EI=function(t){const e=JS(t);return ZS.encodeByteArray(e,!0)},u0=function(t){return EI(t).replace(/\./g,"")},TI=function(t){try{return ZS.decodeString(t,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function CI(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const kI=()=>CI().__FIREBASE_DEFAULTS__,PI=()=>{if(typeof process>"u"||typeof Ix>"u")return;const t=Ix.__FIREBASE_DEFAULTS__;if(t)return JSON.parse(t)},II=()=>{if(typeof document>"u")return;let t;try{t=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=t&&TI(t[1]);return e&&JSON.parse(e)},tv=()=>{try{return kI()||PI()||II()}catch(t){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${t}`);return}},LI=t=>{var e,n;return(n=(e=tv())===null||e===void 0?void 0:e.emulatorHosts)===null||n===void 0?void 0:n[t]},RI=t=>{const e=LI(t);if(!e)return;const n=e.lastIndexOf(":");if(n<=0||n+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const r=parseInt(e.substring(n+1),10);return e[0]==="["?[e.substring(1,n-1),r]:[e.substring(0,n),r]},e8=()=>{var t;return(t=tv())===null||t===void 0?void 0:t.config};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jI{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}wrapCallback(e){return(n,r)=>{n?this.reject(n):this.resolve(r),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(n):e(n,r))}}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function DI(t,e){if(t.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const n={alg:"none",type:"JWT"},r=e||"demo-project",i=t.iat||0,s=t.sub||t.user_id;if(!s)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const o=Object.assign({iss:`https://securetoken.google.com/${r}`,aud:r,iat:i,exp:i+3600,auth_time:i,sub:s,user_id:s,firebase:{sign_in_provider:"custom",identities:{}}},t);return[u0(JSON.stringify(n)),u0(JSON.stringify(o)),""].join(".")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function MI(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function FI(){var t;const e=(t=tv())===null||t===void 0?void 0:t.forceEnvironment;if(e==="node")return!0;if(e==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function OI(){return!FI()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function VI(){try{return typeof indexedDB=="object"}catch{return!1}}function BI(){return new Promise((t,e)=>{try{let n=!0;const r="validate-browser-context-for-indexeddb-analytics-module",i=self.indexedDB.open(r);i.onsuccess=()=>{i.result.close(),n||self.indexedDB.deleteDatabase(r),t(!0)},i.onupgradeneeded=()=>{n=!1},i.onerror=()=>{var s;e(((s=i.error)===null||s===void 0?void 0:s.message)||"")}}catch(n){e(n)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const UI="FirebaseError";class Dc extends Error{constructor(e,n,r){super(n),this.code=e,this.customData=r,this.name=UI,Object.setPrototypeOf(this,Dc.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,t8.prototype.create)}}class t8{constructor(e,n,r){this.service=e,this.serviceName=n,this.errors=r}create(e,...n){const r=n[0]||{},i=`${this.service}/${e}`,s=this.errors[e],o=s?zI(s,r):"Error",a=`${this.serviceName}: ${o} (${i}).`;return new Dc(i,a,r)}}function zI(t,e){return t.replace(qI,(n,r)=>{const i=e[r];return i!=null?String(i):`<${r}?>`})}const qI=/\{\$([^}]+)}/g;function n2(t,e){if(t===e)return!0;const n=Object.keys(t),r=Object.keys(e);for(const i of n){if(!r.includes(i))return!1;const s=t[i],o=e[i];if(Lx(s)&&Lx(o)){if(!n2(s,o))return!1}else if(s!==o)return!1}for(const i of r)if(!n.includes(i))return!1;return!0}function Lx(t){return t!==null&&typeof t=="object"}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function bs(t){return t&&t._delegate?t._delegate:t}class wf{constructor(e,n,r){this.name=e,this.instanceFactory=n,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Fl="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $I{constructor(e,n){this.name=e,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const n=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(n)){const r=new jI;if(this.instancesDeferred.set(n,r),this.isInitialized(n)||this.shouldAutoInitialize())try{const i=this.getOrInitializeService({instanceIdentifier:n});i&&r.resolve(i)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(e){var n;const r=this.normalizeInstanceIdentifier(e==null?void 0:e.identifier),i=(n=e==null?void 0:e.optional)!==null&&n!==void 0?n:!1;if(this.isInitialized(r)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:r})}catch(s){if(i)return null;throw s}else{if(i)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(WI(e))try{this.getOrInitializeService({instanceIdentifier:Fl})}catch{}for(const[n,r]of this.instancesDeferred.entries()){const i=this.normalizeInstanceIdentifier(n);try{const s=this.getOrInitializeService({instanceIdentifier:i});r.resolve(s)}catch{}}}}clearInstance(e=Fl){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(n=>"INTERNAL"in n).map(n=>n.INTERNAL.delete()),...e.filter(n=>"_delete"in n).map(n=>n._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=Fl){return this.instances.has(e)}getOptions(e=Fl){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:n={}}=e,r=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(r))throw Error(`${this.name}(${r}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const i=this.getOrInitializeService({instanceIdentifier:r,options:n});for(const[s,o]of this.instancesDeferred.entries()){const a=this.normalizeInstanceIdentifier(s);r===a&&o.resolve(i)}return i}onInit(e,n){var r;const i=this.normalizeInstanceIdentifier(n),s=(r=this.onInitCallbacks.get(i))!==null&&r!==void 0?r:new Set;s.add(e),this.onInitCallbacks.set(i,s);const o=this.instances.get(i);return o&&e(o,i),()=>{s.delete(e)}}invokeOnInitCallbacks(e,n){const r=this.onInitCallbacks.get(n);if(r)for(const i of r)try{i(e,n)}catch{}}getOrInitializeService({instanceIdentifier:e,options:n={}}){let r=this.instances.get(e);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:HI(e),options:n}),this.instances.set(e,r),this.instancesOptions.set(e,n),this.invokeOnInitCallbacks(r,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,r)}catch{}return r||null}normalizeInstanceIdentifier(e=Fl){return this.component?this.component.multipleInstances?e:Fl:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function HI(t){return t===Fl?void 0:t}function WI(t){return t.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class GI{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const n=this.getProvider(e.name);if(n.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);n.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const n=new $I(e,this);return this.providers.set(e,n),n}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Wt;(function(t){t[t.DEBUG=0]="DEBUG",t[t.VERBOSE=1]="VERBOSE",t[t.INFO=2]="INFO",t[t.WARN=3]="WARN",t[t.ERROR=4]="ERROR",t[t.SILENT=5]="SILENT"})(Wt||(Wt={}));const KI={debug:Wt.DEBUG,verbose:Wt.VERBOSE,info:Wt.INFO,warn:Wt.WARN,error:Wt.ERROR,silent:Wt.SILENT},QI=Wt.INFO,YI={[Wt.DEBUG]:"log",[Wt.VERBOSE]:"log",[Wt.INFO]:"info",[Wt.WARN]:"warn",[Wt.ERROR]:"error"},XI=(t,e,...n)=>{if(e<t.logLevel)return;const r=new Date().toISOString(),i=YI[e];if(i)console[i](`[${r}]  ${t.name}:`,...n);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class n8{constructor(e){this.name=e,this._logLevel=QI,this._logHandler=XI,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in Wt))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?KI[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,Wt.DEBUG,...e),this._logHandler(this,Wt.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,Wt.VERBOSE,...e),this._logHandler(this,Wt.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,Wt.INFO,...e),this._logHandler(this,Wt.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,Wt.WARN,...e),this._logHandler(this,Wt.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,Wt.ERROR,...e),this._logHandler(this,Wt.ERROR,...e)}}const JI=(t,e)=>e.some(n=>t instanceof n);let Rx,jx;function ZI(){return Rx||(Rx=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function eL(){return jx||(jx=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const r8=new WeakMap,r2=new WeakMap,i8=new WeakMap,u1=new WeakMap,nv=new WeakMap;function tL(t){const e=new Promise((n,r)=>{const i=()=>{t.removeEventListener("success",s),t.removeEventListener("error",o)},s=()=>{n(Xa(t.result)),i()},o=()=>{r(t.error),i()};t.addEventListener("success",s),t.addEventListener("error",o)});return e.then(n=>{n instanceof IDBCursor&&r8.set(n,t)}).catch(()=>{}),nv.set(e,t),e}function nL(t){if(r2.has(t))return;const e=new Promise((n,r)=>{const i=()=>{t.removeEventListener("complete",s),t.removeEventListener("error",o),t.removeEventListener("abort",o)},s=()=>{n(),i()},o=()=>{r(t.error||new DOMException("AbortError","AbortError")),i()};t.addEventListener("complete",s),t.addEventListener("error",o),t.addEventListener("abort",o)});r2.set(t,e)}let i2={get(t,e,n){if(t instanceof IDBTransaction){if(e==="done")return r2.get(t);if(e==="objectStoreNames")return t.objectStoreNames||i8.get(t);if(e==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return Xa(t[e])},set(t,e,n){return t[e]=n,!0},has(t,e){return t instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in t}};function rL(t){i2=t(i2)}function iL(t){return t===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...n){const r=t.call(c1(this),e,...n);return i8.set(r,e.sort?e.sort():[e]),Xa(r)}:eL().includes(t)?function(...e){return t.apply(c1(this),e),Xa(r8.get(this))}:function(...e){return Xa(t.apply(c1(this),e))}}function sL(t){return typeof t=="function"?iL(t):(t instanceof IDBTransaction&&nL(t),JI(t,ZI())?new Proxy(t,i2):t)}function Xa(t){if(t instanceof IDBRequest)return tL(t);if(u1.has(t))return u1.get(t);const e=sL(t);return e!==t&&(u1.set(t,e),nv.set(e,t)),e}const c1=t=>nv.get(t);function oL(t,e,{blocked:n,upgrade:r,blocking:i,terminated:s}={}){const o=indexedDB.open(t,e),a=Xa(o);return r&&o.addEventListener("upgradeneeded",l=>{r(Xa(o.result),l.oldVersion,l.newVersion,Xa(o.transaction),l)}),n&&o.addEventListener("blocked",l=>n(l.oldVersion,l.newVersion,l)),a.then(l=>{s&&l.addEventListener("close",()=>s()),i&&l.addEventListener("versionchange",u=>i(u.oldVersion,u.newVersion,u))}).catch(()=>{}),a}const aL=["get","getKey","getAll","getAllKeys","count"],lL=["put","add","delete","clear"],h1=new Map;function Dx(t,e){if(!(t instanceof IDBDatabase&&!(e in t)&&typeof e=="string"))return;if(h1.get(e))return h1.get(e);const n=e.replace(/FromIndex$/,""),r=e!==n,i=lL.includes(n);if(!(n in(r?IDBIndex:IDBObjectStore).prototype)||!(i||aL.includes(n)))return;const s=async function(o,...a){const l=this.transaction(o,i?"readwrite":"readonly");let u=l.store;return r&&(u=u.index(a.shift())),(await Promise.all([u[n](...a),i&&l.done]))[0]};return h1.set(e,s),s}rL(t=>({...t,get:(e,n,r)=>Dx(e,n)||t.get(e,n,r),has:(e,n)=>!!Dx(e,n)||t.has(e,n)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uL{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(cL(n)){const r=n.getImmediate();return`${r.library}/${r.version}`}else return null}).filter(n=>n).join(" ")}}function cL(t){const e=t.getComponent();return(e==null?void 0:e.type)==="VERSION"}const s2="@firebase/app",Mx="0.10.13";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Zo=new n8("@firebase/app"),hL="@firebase/app-compat",fL="@firebase/analytics-compat",dL="@firebase/analytics",pL="@firebase/app-check-compat",mL="@firebase/app-check",gL="@firebase/auth",yL="@firebase/auth-compat",vL="@firebase/database",wL="@firebase/data-connect",xL="@firebase/database-compat",bL="@firebase/functions",_L="@firebase/functions-compat",SL="@firebase/installations",AL="@firebase/installations-compat",NL="@firebase/messaging",EL="@firebase/messaging-compat",TL="@firebase/performance",CL="@firebase/performance-compat",kL="@firebase/remote-config",PL="@firebase/remote-config-compat",IL="@firebase/storage",LL="@firebase/storage-compat",RL="@firebase/firestore",jL="@firebase/vertexai-preview",DL="@firebase/firestore-compat",ML="firebase",FL="10.14.1";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const o2="[DEFAULT]",OL={[s2]:"fire-core",[hL]:"fire-core-compat",[dL]:"fire-analytics",[fL]:"fire-analytics-compat",[mL]:"fire-app-check",[pL]:"fire-app-check-compat",[gL]:"fire-auth",[yL]:"fire-auth-compat",[vL]:"fire-rtdb",[wL]:"fire-data-connect",[xL]:"fire-rtdb-compat",[bL]:"fire-fn",[_L]:"fire-fn-compat",[SL]:"fire-iid",[AL]:"fire-iid-compat",[NL]:"fire-fcm",[EL]:"fire-fcm-compat",[TL]:"fire-perf",[CL]:"fire-perf-compat",[kL]:"fire-rc",[PL]:"fire-rc-compat",[IL]:"fire-gcs",[LL]:"fire-gcs-compat",[RL]:"fire-fst",[DL]:"fire-fst-compat",[jL]:"fire-vertex","fire-js":"fire-js",[ML]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const c0=new Map,VL=new Map,a2=new Map;function Fx(t,e){try{t.container.addComponent(e)}catch(n){Zo.debug(`Component ${e.name} failed to register with FirebaseApp ${t.name}`,n)}}function h0(t){const e=t.name;if(a2.has(e))return Zo.debug(`There were multiple attempts to register component ${e}.`),!1;a2.set(e,t);for(const n of c0.values())Fx(n,t);for(const n of VL.values())Fx(n,t);return!0}function BL(t,e){const n=t.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),t.container.getProvider(e)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const UL={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},Ja=new t8("app","Firebase",UL);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zL{constructor(e,n,r){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},n),this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new wf("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw Ja.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const qL=FL;function s8(t,e={}){let n=t;typeof e!="object"&&(e={name:e});const r=Object.assign({name:o2,automaticDataCollectionEnabled:!1},e),i=r.name;if(typeof i!="string"||!i)throw Ja.create("bad-app-name",{appName:String(i)});if(n||(n=e8()),!n)throw Ja.create("no-options");const s=c0.get(i);if(s){if(n2(n,s.options)&&n2(r,s.config))return s;throw Ja.create("duplicate-app",{appName:i})}const o=new GI(i);for(const l of a2.values())o.addComponent(l);const a=new zL(n,r,o);return c0.set(i,a),a}function $L(t=o2){const e=c0.get(t);if(!e&&t===o2&&e8())return s8();if(!e)throw Ja.create("no-app",{appName:t});return e}function sc(t,e,n){var r;let i=(r=OL[t])!==null&&r!==void 0?r:t;n&&(i+=`-${n}`);const s=i.match(/\s|\//),o=e.match(/\s|\//);if(s||o){const a=[`Unable to register library "${i}" with version "${e}":`];s&&a.push(`library name "${i}" contains illegal characters (whitespace or "/")`),s&&o&&a.push("and"),o&&a.push(`version name "${e}" contains illegal characters (whitespace or "/")`),Zo.warn(a.join(" "));return}h0(new wf(`${i}-version`,()=>({library:i,version:e}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const HL="firebase-heartbeat-database",WL=1,xf="firebase-heartbeat-store";let f1=null;function o8(){return f1||(f1=oL(HL,WL,{upgrade:(t,e)=>{switch(e){case 0:try{t.createObjectStore(xf)}catch(n){console.warn(n)}}}}).catch(t=>{throw Ja.create("idb-open",{originalErrorMessage:t.message})})),f1}async function GL(t){try{const n=(await o8()).transaction(xf),r=await n.objectStore(xf).get(a8(t));return await n.done,r}catch(e){if(e instanceof Dc)Zo.warn(e.message);else{const n=Ja.create("idb-get",{originalErrorMessage:e==null?void 0:e.message});Zo.warn(n.message)}}}async function Ox(t,e){try{const r=(await o8()).transaction(xf,"readwrite");await r.objectStore(xf).put(e,a8(t)),await r.done}catch(n){if(n instanceof Dc)Zo.warn(n.message);else{const r=Ja.create("idb-set",{originalErrorMessage:n==null?void 0:n.message});Zo.warn(r.message)}}}function a8(t){return`${t.name}!${t.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const KL=1024,QL=30*24*60*60*1e3;class YL{constructor(e){this.container=e,this._heartbeatsCache=null;const n=this.container.getProvider("app").getImmediate();this._storage=new JL(n),this._heartbeatsCachePromise=this._storage.read().then(r=>(this._heartbeatsCache=r,r))}async triggerHeartbeat(){var e,n;try{const i=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),s=Vx();return((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,((n=this._heartbeatsCache)===null||n===void 0?void 0:n.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===s||this._heartbeatsCache.heartbeats.some(o=>o.date===s)?void 0:(this._heartbeatsCache.heartbeats.push({date:s,agent:i}),this._heartbeatsCache.heartbeats=this._heartbeatsCache.heartbeats.filter(o=>{const a=new Date(o.date).valueOf();return Date.now()-a<=QL}),this._storage.overwrite(this._heartbeatsCache))}catch(r){Zo.warn(r)}}async getHeartbeatsHeader(){var e;try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";const n=Vx(),{heartbeatsToSend:r,unsentEntries:i}=XL(this._heartbeatsCache.heartbeats),s=u0(JSON.stringify({version:2,heartbeats:r}));return this._heartbeatsCache.lastSentHeartbeatDate=n,i.length>0?(this._heartbeatsCache.heartbeats=i,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),s}catch(n){return Zo.warn(n),""}}}function Vx(){return new Date().toISOString().substring(0,10)}function XL(t,e=KL){const n=[];let r=t.slice();for(const i of t){const s=n.find(o=>o.agent===i.agent);if(s){if(s.dates.push(i.date),Bx(n)>e){s.dates.pop();break}}else if(n.push({agent:i.agent,dates:[i.date]}),Bx(n)>e){n.pop();break}r=r.slice(1)}return{heartbeatsToSend:n,unsentEntries:r}}class JL{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return VI()?BI().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const n=await GL(this.app);return n!=null&&n.heartbeats?n:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){var n;if(await this._canUseIndexedDBPromise){const i=await this.read();return Ox(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:i.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){var n;if(await this._canUseIndexedDBPromise){const i=await this.read();return Ox(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:i.lastSentHeartbeatDate,heartbeats:[...i.heartbeats,...e.heartbeats]})}else return}}function Bx(t){return u0(JSON.stringify({version:2,heartbeats:t})).length}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ZL(t){h0(new wf("platform-logger",e=>new uL(e),"PRIVATE")),h0(new wf("heartbeat",e=>new YL(e),"PRIVATE")),sc(s2,Mx,t),sc(s2,Mx,"esm2017"),sc("fire-js","")}ZL("");var eR="firebase",tR="10.14.1";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */sc(eR,tR,"app");var Ux=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var Ql,l8;(function(){var t;/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/function e(k,C){function P(){}P.prototype=C.prototype,k.D=C.prototype,k.prototype=new P,k.prototype.constructor=k,k.C=function(M,E,L){for(var j=Array(arguments.length-2),H=2;H<arguments.length;H++)j[H-2]=arguments[H];return C.prototype[E].apply(M,j)}}function n(){this.blockSize=-1}function r(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.B=Array(this.blockSize),this.o=this.h=0,this.s()}e(r,n),r.prototype.s=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function i(k,C,P){P||(P=0);var M=Array(16);if(typeof C=="string")for(var E=0;16>E;++E)M[E]=C.charCodeAt(P++)|C.charCodeAt(P++)<<8|C.charCodeAt(P++)<<16|C.charCodeAt(P++)<<24;else for(E=0;16>E;++E)M[E]=C[P++]|C[P++]<<8|C[P++]<<16|C[P++]<<24;C=k.g[0],P=k.g[1],E=k.g[2];var L=k.g[3],j=C+(L^P&(E^L))+M[0]+3614090360&4294967295;C=P+(j<<7&4294967295|j>>>25),j=L+(E^C&(P^E))+M[1]+3905402710&4294967295,L=C+(j<<12&4294967295|j>>>20),j=E+(P^L&(C^P))+M[2]+606105819&4294967295,E=L+(j<<17&4294967295|j>>>15),j=P+(C^E&(L^C))+M[3]+3250441966&4294967295,P=E+(j<<22&4294967295|j>>>10),j=C+(L^P&(E^L))+M[4]+4118548399&4294967295,C=P+(j<<7&4294967295|j>>>25),j=L+(E^C&(P^E))+M[5]+1200080426&4294967295,L=C+(j<<12&4294967295|j>>>20),j=E+(P^L&(C^P))+M[6]+2821735955&4294967295,E=L+(j<<17&4294967295|j>>>15),j=P+(C^E&(L^C))+M[7]+4249261313&4294967295,P=E+(j<<22&4294967295|j>>>10),j=C+(L^P&(E^L))+M[8]+1770035416&4294967295,C=P+(j<<7&4294967295|j>>>25),j=L+(E^C&(P^E))+M[9]+2336552879&4294967295,L=C+(j<<12&4294967295|j>>>20),j=E+(P^L&(C^P))+M[10]+4294925233&4294967295,E=L+(j<<17&4294967295|j>>>15),j=P+(C^E&(L^C))+M[11]+2304563134&4294967295,P=E+(j<<22&4294967295|j>>>10),j=C+(L^P&(E^L))+M[12]+1804603682&4294967295,C=P+(j<<7&4294967295|j>>>25),j=L+(E^C&(P^E))+M[13]+4254626195&4294967295,L=C+(j<<12&4294967295|j>>>20),j=E+(P^L&(C^P))+M[14]+2792965006&4294967295,E=L+(j<<17&4294967295|j>>>15),j=P+(C^E&(L^C))+M[15]+1236535329&4294967295,P=E+(j<<22&4294967295|j>>>10),j=C+(E^L&(P^E))+M[1]+4129170786&4294967295,C=P+(j<<5&4294967295|j>>>27),j=L+(P^E&(C^P))+M[6]+3225465664&4294967295,L=C+(j<<9&4294967295|j>>>23),j=E+(C^P&(L^C))+M[11]+643717713&4294967295,E=L+(j<<14&4294967295|j>>>18),j=P+(L^C&(E^L))+M[0]+3921069994&4294967295,P=E+(j<<20&4294967295|j>>>12),j=C+(E^L&(P^E))+M[5]+3593408605&4294967295,C=P+(j<<5&4294967295|j>>>27),j=L+(P^E&(C^P))+M[10]+38016083&4294967295,L=C+(j<<9&4294967295|j>>>23),j=E+(C^P&(L^C))+M[15]+3634488961&4294967295,E=L+(j<<14&4294967295|j>>>18),j=P+(L^C&(E^L))+M[4]+3889429448&4294967295,P=E+(j<<20&4294967295|j>>>12),j=C+(E^L&(P^E))+M[9]+568446438&4294967295,C=P+(j<<5&4294967295|j>>>27),j=L+(P^E&(C^P))+M[14]+3275163606&4294967295,L=C+(j<<9&4294967295|j>>>23),j=E+(C^P&(L^C))+M[3]+4107603335&4294967295,E=L+(j<<14&4294967295|j>>>18),j=P+(L^C&(E^L))+M[8]+1163531501&4294967295,P=E+(j<<20&4294967295|j>>>12),j=C+(E^L&(P^E))+M[13]+2850285829&4294967295,C=P+(j<<5&4294967295|j>>>27),j=L+(P^E&(C^P))+M[2]+4243563512&4294967295,L=C+(j<<9&4294967295|j>>>23),j=E+(C^P&(L^C))+M[7]+1735328473&4294967295,E=L+(j<<14&4294967295|j>>>18),j=P+(L^C&(E^L))+M[12]+2368359562&4294967295,P=E+(j<<20&4294967295|j>>>12),j=C+(P^E^L)+M[5]+4294588738&4294967295,C=P+(j<<4&4294967295|j>>>28),j=L+(C^P^E)+M[8]+2272392833&4294967295,L=C+(j<<11&4294967295|j>>>21),j=E+(L^C^P)+M[11]+1839030562&4294967295,E=L+(j<<16&4294967295|j>>>16),j=P+(E^L^C)+M[14]+4259657740&4294967295,P=E+(j<<23&4294967295|j>>>9),j=C+(P^E^L)+M[1]+2763975236&4294967295,C=P+(j<<4&4294967295|j>>>28),j=L+(C^P^E)+M[4]+1272893353&4294967295,L=C+(j<<11&4294967295|j>>>21),j=E+(L^C^P)+M[7]+4139469664&4294967295,E=L+(j<<16&4294967295|j>>>16),j=P+(E^L^C)+M[10]+3200236656&4294967295,P=E+(j<<23&4294967295|j>>>9),j=C+(P^E^L)+M[13]+681279174&4294967295,C=P+(j<<4&4294967295|j>>>28),j=L+(C^P^E)+M[0]+3936430074&4294967295,L=C+(j<<11&4294967295|j>>>21),j=E+(L^C^P)+M[3]+3572445317&4294967295,E=L+(j<<16&4294967295|j>>>16),j=P+(E^L^C)+M[6]+76029189&4294967295,P=E+(j<<23&4294967295|j>>>9),j=C+(P^E^L)+M[9]+3654602809&4294967295,C=P+(j<<4&4294967295|j>>>28),j=L+(C^P^E)+M[12]+3873151461&4294967295,L=C+(j<<11&4294967295|j>>>21),j=E+(L^C^P)+M[15]+530742520&4294967295,E=L+(j<<16&4294967295|j>>>16),j=P+(E^L^C)+M[2]+3299628645&4294967295,P=E+(j<<23&4294967295|j>>>9),j=C+(E^(P|~L))+M[0]+4096336452&4294967295,C=P+(j<<6&4294967295|j>>>26),j=L+(P^(C|~E))+M[7]+1126891415&4294967295,L=C+(j<<10&4294967295|j>>>22),j=E+(C^(L|~P))+M[14]+2878612391&4294967295,E=L+(j<<15&4294967295|j>>>17),j=P+(L^(E|~C))+M[5]+4237533241&4294967295,P=E+(j<<21&4294967295|j>>>11),j=C+(E^(P|~L))+M[12]+1700485571&4294967295,C=P+(j<<6&4294967295|j>>>26),j=L+(P^(C|~E))+M[3]+2399980690&4294967295,L=C+(j<<10&4294967295|j>>>22),j=E+(C^(L|~P))+M[10]+4293915773&4294967295,E=L+(j<<15&4294967295|j>>>17),j=P+(L^(E|~C))+M[1]+2240044497&4294967295,P=E+(j<<21&4294967295|j>>>11),j=C+(E^(P|~L))+M[8]+1873313359&4294967295,C=P+(j<<6&4294967295|j>>>26),j=L+(P^(C|~E))+M[15]+4264355552&4294967295,L=C+(j<<10&4294967295|j>>>22),j=E+(C^(L|~P))+M[6]+2734768916&4294967295,E=L+(j<<15&4294967295|j>>>17),j=P+(L^(E|~C))+M[13]+1309151649&4294967295,P=E+(j<<21&4294967295|j>>>11),j=C+(E^(P|~L))+M[4]+4149444226&4294967295,C=P+(j<<6&4294967295|j>>>26),j=L+(P^(C|~E))+M[11]+3174756917&4294967295,L=C+(j<<10&4294967295|j>>>22),j=E+(C^(L|~P))+M[2]+718787259&4294967295,E=L+(j<<15&4294967295|j>>>17),j=P+(L^(E|~C))+M[9]+3951481745&4294967295,k.g[0]=k.g[0]+C&4294967295,k.g[1]=k.g[1]+(E+(j<<21&4294967295|j>>>11))&4294967295,k.g[2]=k.g[2]+E&4294967295,k.g[3]=k.g[3]+L&4294967295}r.prototype.u=function(k,C){C===void 0&&(C=k.length);for(var P=C-this.blockSize,M=this.B,E=this.h,L=0;L<C;){if(E==0)for(;L<=P;)i(this,k,L),L+=this.blockSize;if(typeof k=="string"){for(;L<C;)if(M[E++]=k.charCodeAt(L++),E==this.blockSize){i(this,M),E=0;break}}else for(;L<C;)if(M[E++]=k[L++],E==this.blockSize){i(this,M),E=0;break}}this.h=E,this.o+=C},r.prototype.v=function(){var k=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);k[0]=128;for(var C=1;C<k.length-8;++C)k[C]=0;var P=8*this.o;for(C=k.length-8;C<k.length;++C)k[C]=P&255,P/=256;for(this.u(k),k=Array(16),C=P=0;4>C;++C)for(var M=0;32>M;M+=8)k[P++]=this.g[C]>>>M&255;return k};function s(k,C){var P=a;return Object.prototype.hasOwnProperty.call(P,k)?P[k]:P[k]=C(k)}function o(k,C){this.h=C;for(var P=[],M=!0,E=k.length-1;0<=E;E--){var L=k[E]|0;M&&L==C||(P[E]=L,M=!1)}this.g=P}var a={};function l(k){return-128<=k&&128>k?s(k,function(C){return new o([C|0],0>C?-1:0)}):new o([k|0],0>k?-1:0)}function u(k){if(isNaN(k)||!isFinite(k))return d;if(0>k)return A(u(-k));for(var C=[],P=1,M=0;k>=P;M++)C[M]=k/P|0,P*=4294967296;return new o(C,0)}function c(k,C){if(k.length==0)throw Error("number format error: empty string");if(C=C||10,2>C||36<C)throw Error("radix out of range: "+C);if(k.charAt(0)=="-")return A(c(k.substring(1),C));if(0<=k.indexOf("-"))throw Error('number format error: interior "-" character');for(var P=u(Math.pow(C,8)),M=d,E=0;E<k.length;E+=8){var L=Math.min(8,k.length-E),j=parseInt(k.substring(E,E+L),C);8>L?(L=u(Math.pow(C,L)),M=M.j(L).add(u(j))):(M=M.j(P),M=M.add(u(j)))}return M}var d=l(0),g=l(1),p=l(16777216);t=o.prototype,t.m=function(){if(x(this))return-A(this).m();for(var k=0,C=1,P=0;P<this.g.length;P++){var M=this.i(P);k+=(0<=M?M:4294967296+M)*C,C*=4294967296}return k},t.toString=function(k){if(k=k||10,2>k||36<k)throw Error("radix out of range: "+k);if(b(this))return"0";if(x(this))return"-"+A(this).toString(k);for(var C=u(Math.pow(k,6)),P=this,M="";;){var E=R(P,C).g;P=v(P,E.j(C));var L=((0<P.g.length?P.g[0]:P.h)>>>0).toString(k);if(P=E,b(P))return L+M;for(;6>L.length;)L="0"+L;M=L+M}},t.i=function(k){return 0>k?0:k<this.g.length?this.g[k]:this.h};function b(k){if(k.h!=0)return!1;for(var C=0;C<k.g.length;C++)if(k.g[C]!=0)return!1;return!0}function x(k){return k.h==-1}t.l=function(k){return k=v(this,k),x(k)?-1:b(k)?0:1};function A(k){for(var C=k.g.length,P=[],M=0;M<C;M++)P[M]=~k.g[M];return new o(P,~k.h).add(g)}t.abs=function(){return x(this)?A(this):this},t.add=function(k){for(var C=Math.max(this.g.length,k.g.length),P=[],M=0,E=0;E<=C;E++){var L=M+(this.i(E)&65535)+(k.i(E)&65535),j=(L>>>16)+(this.i(E)>>>16)+(k.i(E)>>>16);M=j>>>16,L&=65535,j&=65535,P[E]=j<<16|L}return new o(P,P[P.length-1]&-2147483648?-1:0)};function v(k,C){return k.add(A(C))}t.j=function(k){if(b(this)||b(k))return d;if(x(this))return x(k)?A(this).j(A(k)):A(A(this).j(k));if(x(k))return A(this.j(A(k)));if(0>this.l(p)&&0>k.l(p))return u(this.m()*k.m());for(var C=this.g.length+k.g.length,P=[],M=0;M<2*C;M++)P[M]=0;for(M=0;M<this.g.length;M++)for(var E=0;E<k.g.length;E++){var L=this.i(M)>>>16,j=this.i(M)&65535,H=k.i(E)>>>16,ne=k.i(E)&65535;P[2*M+2*E]+=j*ne,_(P,2*M+2*E),P[2*M+2*E+1]+=L*ne,_(P,2*M+2*E+1),P[2*M+2*E+1]+=j*H,_(P,2*M+2*E+1),P[2*M+2*E+2]+=L*H,_(P,2*M+2*E+2)}for(M=0;M<C;M++)P[M]=P[2*M+1]<<16|P[2*M];for(M=C;M<2*C;M++)P[M]=0;return new o(P,0)};function _(k,C){for(;(k[C]&65535)!=k[C];)k[C+1]+=k[C]>>>16,k[C]&=65535,C++}function T(k,C){this.g=k,this.h=C}function R(k,C){if(b(C))throw Error("division by zero");if(b(k))return new T(d,d);if(x(k))return C=R(A(k),C),new T(A(C.g),A(C.h));if(x(C))return C=R(k,A(C)),new T(A(C.g),C.h);if(30<k.g.length){if(x(k)||x(C))throw Error("slowDivide_ only works with positive integers.");for(var P=g,M=C;0>=M.l(k);)P=z(P),M=z(M);var E=K(P,1),L=K(M,1);for(M=K(M,2),P=K(P,2);!b(M);){var j=L.add(M);0>=j.l(k)&&(E=E.add(P),L=j),M=K(M,1),P=K(P,1)}return C=v(k,E.j(C)),new T(E,C)}for(E=d;0<=k.l(C);){for(P=Math.max(1,Math.floor(k.m()/C.m())),M=Math.ceil(Math.log(P)/Math.LN2),M=48>=M?1:Math.pow(2,M-48),L=u(P),j=L.j(C);x(j)||0<j.l(k);)P-=M,L=u(P),j=L.j(C);b(L)&&(L=g),E=E.add(L),k=v(k,j)}return new T(E,k)}t.A=function(k){return R(this,k).h},t.and=function(k){for(var C=Math.max(this.g.length,k.g.length),P=[],M=0;M<C;M++)P[M]=this.i(M)&k.i(M);return new o(P,this.h&k.h)},t.or=function(k){for(var C=Math.max(this.g.length,k.g.length),P=[],M=0;M<C;M++)P[M]=this.i(M)|k.i(M);return new o(P,this.h|k.h)},t.xor=function(k){for(var C=Math.max(this.g.length,k.g.length),P=[],M=0;M<C;M++)P[M]=this.i(M)^k.i(M);return new o(P,this.h^k.h)};function z(k){for(var C=k.g.length+1,P=[],M=0;M<C;M++)P[M]=k.i(M)<<1|k.i(M-1)>>>31;return new o(P,k.h)}function K(k,C){var P=C>>5;C%=32;for(var M=k.g.length-P,E=[],L=0;L<M;L++)E[L]=0<C?k.i(L+P)>>>C|k.i(L+P+1)<<32-C:k.i(L+P);return new o(E,k.h)}r.prototype.digest=r.prototype.v,r.prototype.reset=r.prototype.s,r.prototype.update=r.prototype.u,l8=r,o.prototype.add=o.prototype.add,o.prototype.multiply=o.prototype.j,o.prototype.modulo=o.prototype.A,o.prototype.compare=o.prototype.l,o.prototype.toNumber=o.prototype.m,o.prototype.toString=o.prototype.toString,o.prototype.getBits=o.prototype.i,o.fromNumber=u,o.fromString=c,Ql=o}).apply(typeof Ux<"u"?Ux:typeof self<"u"?self:typeof window<"u"?window:{});var Hd=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var u8,Th,c8,xp,l2,h8,f8,d8;(function(){var t,e=typeof Object.defineProperties=="function"?Object.defineProperty:function(f,N,D){return f==Array.prototype||f==Object.prototype||(f[N]=D.value),f};function n(f){f=[typeof globalThis=="object"&&globalThis,f,typeof window=="object"&&window,typeof self=="object"&&self,typeof Hd=="object"&&Hd];for(var N=0;N<f.length;++N){var D=f[N];if(D&&D.Math==Math)return D}throw Error("Cannot find global object")}var r=n(this);function i(f,N){if(N)e:{var D=r;f=f.split(".");for(var $=0;$<f.length-1;$++){var fe=f[$];if(!(fe in D))break e;D=D[fe]}f=f[f.length-1],$=D[f],N=N($),N!=$&&N!=null&&e(D,f,{configurable:!0,writable:!0,value:N})}}function s(f,N){f instanceof String&&(f+="");var D=0,$=!1,fe={next:function(){if(!$&&D<f.length){var we=D++;return{value:N(we,f[we]),done:!1}}return $=!0,{done:!0,value:void 0}}};return fe[Symbol.iterator]=function(){return fe},fe}i("Array.prototype.values",function(f){return f||function(){return s(this,function(N,D){return D})}});/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/var o=o||{},a=this||self;function l(f){var N=typeof f;return N=N!="object"?N:f?Array.isArray(f)?"array":N:"null",N=="array"||N=="object"&&typeof f.length=="number"}function u(f){var N=typeof f;return N=="object"&&f!=null||N=="function"}function c(f,N,D){return f.call.apply(f.bind,arguments)}function d(f,N,D){if(!f)throw Error();if(2<arguments.length){var $=Array.prototype.slice.call(arguments,2);return function(){var fe=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(fe,$),f.apply(N,fe)}}return function(){return f.apply(N,arguments)}}function g(f,N,D){return g=Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?c:d,g.apply(null,arguments)}function p(f,N){var D=Array.prototype.slice.call(arguments,1);return function(){var $=D.slice();return $.push.apply($,arguments),f.apply(this,$)}}function b(f,N){function D(){}D.prototype=N.prototype,f.aa=N.prototype,f.prototype=new D,f.prototype.constructor=f,f.Qb=function($,fe,we){for(var Oe=Array(arguments.length-2),Vt=2;Vt<arguments.length;Vt++)Oe[Vt-2]=arguments[Vt];return N.prototype[fe].apply($,Oe)}}function x(f){const N=f.length;if(0<N){const D=Array(N);for(let $=0;$<N;$++)D[$]=f[$];return D}return[]}function A(f,N){for(let D=1;D<arguments.length;D++){const $=arguments[D];if(l($)){const fe=f.length||0,we=$.length||0;f.length=fe+we;for(let Oe=0;Oe<we;Oe++)f[fe+Oe]=$[Oe]}else f.push($)}}class v{constructor(N,D){this.i=N,this.j=D,this.h=0,this.g=null}get(){let N;return 0<this.h?(this.h--,N=this.g,this.g=N.next,N.next=null):N=this.i(),N}}function _(f){return/^[\s\xa0]*$/.test(f)}function T(){var f=a.navigator;return f&&(f=f.userAgent)?f:""}function R(f){return R[" "](f),f}R[" "]=function(){};var z=T().indexOf("Gecko")!=-1&&!(T().toLowerCase().indexOf("webkit")!=-1&&T().indexOf("Edge")==-1)&&!(T().indexOf("Trident")!=-1||T().indexOf("MSIE")!=-1)&&T().indexOf("Edge")==-1;function K(f,N,D){for(const $ in f)N.call(D,f[$],$,f)}function k(f,N){for(const D in f)N.call(void 0,f[D],D,f)}function C(f){const N={};for(const D in f)N[D]=f[D];return N}const P="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function M(f,N){let D,$;for(let fe=1;fe<arguments.length;fe++){$=arguments[fe];for(D in $)f[D]=$[D];for(let we=0;we<P.length;we++)D=P[we],Object.prototype.hasOwnProperty.call($,D)&&(f[D]=$[D])}}function E(f){var N=1;f=f.split(":");const D=[];for(;0<N&&f.length;)D.push(f.shift()),N--;return f.length&&D.push(f.join(":")),D}function L(f){a.setTimeout(()=>{throw f},0)}function j(){var f=oe;let N=null;return f.g&&(N=f.g,f.g=f.g.next,f.g||(f.h=null),N.next=null),N}class H{constructor(){this.h=this.g=null}add(N,D){const $=ne.get();$.set(N,D),this.h?this.h.next=$:this.g=$,this.h=$}}var ne=new v(()=>new ce,f=>f.reset());class ce{constructor(){this.next=this.g=this.h=null}set(N,D){this.h=N,this.g=D,this.next=null}reset(){this.next=this.g=this.h=null}}let ae,ee=!1,oe=new H,ge=()=>{const f=a.Promise.resolve(void 0);ae=()=>{f.then(xe)}};var xe=()=>{for(var f;f=j();){try{f.h.call(f.g)}catch(D){L(D)}var N=ne;N.j(f),100>N.h&&(N.h++,f.next=N.g,N.g=f)}ee=!1};function V(){this.s=this.s,this.C=this.C}V.prototype.s=!1,V.prototype.ma=function(){this.s||(this.s=!0,this.N())},V.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function Q(f,N){this.type=f,this.g=this.target=N,this.defaultPrevented=!1}Q.prototype.h=function(){this.defaultPrevented=!0};var te=function(){if(!a.addEventListener||!Object.defineProperty)return!1;var f=!1,N=Object.defineProperty({},"passive",{get:function(){f=!0}});try{const D=()=>{};a.addEventListener("test",D,N),a.removeEventListener("test",D,N)}catch{}return f}();function ie(f,N){if(Q.call(this,f?f.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,f){var D=this.type=f.type,$=f.changedTouches&&f.changedTouches.length?f.changedTouches[0]:null;if(this.target=f.target||f.srcElement,this.g=N,N=f.relatedTarget){if(z){e:{try{R(N.nodeName);var fe=!0;break e}catch{}fe=!1}fe||(N=null)}}else D=="mouseover"?N=f.fromElement:D=="mouseout"&&(N=f.toElement);this.relatedTarget=N,$?(this.clientX=$.clientX!==void 0?$.clientX:$.pageX,this.clientY=$.clientY!==void 0?$.clientY:$.pageY,this.screenX=$.screenX||0,this.screenY=$.screenY||0):(this.clientX=f.clientX!==void 0?f.clientX:f.pageX,this.clientY=f.clientY!==void 0?f.clientY:f.pageY,this.screenX=f.screenX||0,this.screenY=f.screenY||0),this.button=f.button,this.key=f.key||"",this.ctrlKey=f.ctrlKey,this.altKey=f.altKey,this.shiftKey=f.shiftKey,this.metaKey=f.metaKey,this.pointerId=f.pointerId||0,this.pointerType=typeof f.pointerType=="string"?f.pointerType:le[f.pointerType]||"",this.state=f.state,this.i=f,f.defaultPrevented&&ie.aa.h.call(this)}}b(ie,Q);var le={2:"touch",3:"pen",4:"mouse"};ie.prototype.h=function(){ie.aa.h.call(this);var f=this.i;f.preventDefault?f.preventDefault():f.returnValue=!1};var pe="closure_listenable_"+(1e6*Math.random()|0),be=0;function _e(f,N,D,$,fe){this.listener=f,this.proxy=null,this.src=N,this.type=D,this.capture=!!$,this.ha=fe,this.key=++be,this.da=this.fa=!1}function Te(f){f.da=!0,f.listener=null,f.proxy=null,f.src=null,f.ha=null}function je(f){this.src=f,this.g={},this.h=0}je.prototype.add=function(f,N,D,$,fe){var we=f.toString();f=this.g[we],f||(f=this.g[we]=[],this.h++);var Oe=ke(f,N,$,fe);return-1<Oe?(N=f[Oe],D||(N.fa=!1)):(N=new _e(N,this.src,we,!!$,fe),N.fa=D,f.push(N)),N};function Se(f,N){var D=N.type;if(D in f.g){var $=f.g[D],fe=Array.prototype.indexOf.call($,N,void 0),we;(we=0<=fe)&&Array.prototype.splice.call($,fe,1),we&&(Te(N),f.g[D].length==0&&(delete f.g[D],f.h--))}}function ke(f,N,D,$){for(var fe=0;fe<f.length;++fe){var we=f[fe];if(!we.da&&we.listener==N&&we.capture==!!D&&we.ha==$)return fe}return-1}var me="closure_lm_"+(1e6*Math.random()|0),Y={};function Ke(f,N,D,$,fe){if(Array.isArray(N)){for(var we=0;we<N.length;we++)Ke(f,N[we],D,$,fe);return null}return D=wt(D),f&&f[pe]?f.K(N,D,u($)?!!$.capture:!1,fe):ot(f,N,D,!1,$,fe)}function ot(f,N,D,$,fe,we){if(!N)throw Error("Invalid event type");var Oe=u(fe)?!!fe.capture:!!fe,Vt=tt(f);if(Vt||(f[me]=Vt=new je(f)),D=Vt.add(N,D,$,Oe,we),D.proxy)return D;if($=Ue(),D.proxy=$,$.src=f,$.listener=D,f.addEventListener)te||(fe=Oe),fe===void 0&&(fe=!1),f.addEventListener(N.toString(),$,fe);else if(f.attachEvent)f.attachEvent(Be(N.toString()),$);else if(f.addListener&&f.removeListener)f.addListener($);else throw Error("addEventListener and attachEvent are unavailable.");return D}function Ue(){function f(D){return N.call(f.src,f.listener,D)}const N=_t;return f}function Ie(f,N,D,$,fe){if(Array.isArray(N))for(var we=0;we<N.length;we++)Ie(f,N[we],D,$,fe);else $=u($)?!!$.capture:!!$,D=wt(D),f&&f[pe]?(f=f.i,N=String(N).toString(),N in f.g&&(we=f.g[N],D=ke(we,D,$,fe),-1<D&&(Te(we[D]),Array.prototype.splice.call(we,D,1),we.length==0&&(delete f.g[N],f.h--)))):f&&(f=tt(f))&&(N=f.g[N.toString()],f=-1,N&&(f=ke(N,D,$,fe)),(D=-1<f?N[f]:null)&&ze(D))}function ze(f){if(typeof f!="number"&&f&&!f.da){var N=f.src;if(N&&N[pe])Se(N.i,f);else{var D=f.type,$=f.proxy;N.removeEventListener?N.removeEventListener(D,$,f.capture):N.detachEvent?N.detachEvent(Be(D),$):N.addListener&&N.removeListener&&N.removeListener($),(D=tt(N))?(Se(D,f),D.h==0&&(D.src=null,N[me]=null)):Te(f)}}}function Be(f){return f in Y?Y[f]:Y[f]="on"+f}function _t(f,N){if(f.da)f=!0;else{N=new ie(N,this);var D=f.listener,$=f.ha||f.src;f.fa&&ze(f),f=D.call($,N)}return f}function tt(f){return f=f[me],f instanceof je?f:null}var Ot="__closure_events_fn_"+(1e9*Math.random()>>>0);function wt(f){return typeof f=="function"?f:(f[Ot]||(f[Ot]=function(N){return f.handleEvent(N)}),f[Ot])}function et(){V.call(this),this.i=new je(this),this.M=this,this.F=null}b(et,V),et.prototype[pe]=!0,et.prototype.removeEventListener=function(f,N,D,$){Ie(this,f,N,D,$)};function St(f,N){var D,$=f.F;if($)for(D=[];$;$=$.F)D.push($);if(f=f.M,$=N.type||N,typeof N=="string")N=new Q(N,f);else if(N instanceof Q)N.target=N.target||f;else{var fe=N;N=new Q($,f),M(N,fe)}if(fe=!0,D)for(var we=D.length-1;0<=we;we--){var Oe=N.g=D[we];fe=mt(Oe,$,!0,N)&&fe}if(Oe=N.g=f,fe=mt(Oe,$,!0,N)&&fe,fe=mt(Oe,$,!1,N)&&fe,D)for(we=0;we<D.length;we++)Oe=N.g=D[we],fe=mt(Oe,$,!1,N)&&fe}et.prototype.N=function(){if(et.aa.N.call(this),this.i){var f=this.i,N;for(N in f.g){for(var D=f.g[N],$=0;$<D.length;$++)Te(D[$]);delete f.g[N],f.h--}}this.F=null},et.prototype.K=function(f,N,D,$){return this.i.add(String(f),N,!1,D,$)},et.prototype.L=function(f,N,D,$){return this.i.add(String(f),N,!0,D,$)};function mt(f,N,D,$){if(N=f.i.g[String(N)],!N)return!0;N=N.concat();for(var fe=!0,we=0;we<N.length;++we){var Oe=N[we];if(Oe&&!Oe.da&&Oe.capture==D){var Vt=Oe.listener,Rn=Oe.ha||Oe.src;Oe.fa&&Se(f.i,Oe),fe=Vt.call(Rn,$)!==!1&&fe}}return fe&&!$.defaultPrevented}function nt(f,N,D){if(typeof f=="function")D&&(f=g(f,D));else if(f&&typeof f.handleEvent=="function")f=g(f.handleEvent,f);else throw Error("Invalid listener argument");return 2147483647<Number(N)?-1:a.setTimeout(f,N||0)}function ht(f){f.g=nt(()=>{f.g=null,f.i&&(f.i=!1,ht(f))},f.l);const N=f.h;f.h=null,f.m.apply(null,N)}class st extends V{constructor(N,D){super(),this.m=N,this.l=D,this.h=null,this.i=!1,this.g=null}j(N){this.h=arguments,this.g?this.i=!0:ht(this)}N(){super.N(),this.g&&(a.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function Kt(f){V.call(this),this.h=f,this.g={}}b(Kt,V);var Ut=[];function Xe(f){K(f.g,function(N,D){this.g.hasOwnProperty(D)&&ze(N)},f),f.g={}}Kt.prototype.N=function(){Kt.aa.N.call(this),Xe(this)},Kt.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var gt=a.JSON.stringify,Zt=a.JSON.parse,ut=class{stringify(f){return a.JSON.stringify(f,void 0)}parse(f){return a.JSON.parse(f,void 0)}};function Pt(){}Pt.prototype.h=null;function xt(f){return f.h||(f.h=f.i())}function Nn(){}var vn={OPEN:"a",kb:"b",Ja:"c",wb:"d"};function Yt(){Q.call(this,"d")}b(Yt,Q);function ft(){Q.call(this,"c")}b(ft,Q);var Lt={},Ws=null;function Yn(){return Ws=Ws||new et}Lt.La="serverreachability";function is(f){Q.call(this,Lt.La,f)}b(is,Q);function Ur(f){const N=Yn();St(N,new is(N))}Lt.STAT_EVENT="statevent";function lt(f,N){Q.call(this,Lt.STAT_EVENT,f),this.stat=N}b(lt,Q);function wn(f){const N=Yn();St(N,new lt(N,f))}Lt.Ma="timingevent";function ss(f,N){Q.call(this,Lt.Ma,f),this.size=N}b(ss,Q);function xr(f,N){if(typeof f!="function")throw Error("Fn must not be null and must be a function");return a.setTimeout(function(){f()},N)}function br(){this.g=!0}br.prototype.xa=function(){this.g=!1};function En(f,N,D,$,fe,we){f.info(function(){if(f.g)if(we)for(var Oe="",Vt=we.split("&"),Rn=0;Rn<Vt.length;Rn++){var Rt=Vt[Rn].split("=");if(1<Rt.length){var It=Rt[0];Rt=Rt[1];var mn=It.split("_");Oe=2<=mn.length&&mn[1]=="type"?Oe+(It+"="+Rt+"&"):Oe+(It+"=redacted&")}}else Oe=null;else Oe=we;return"XMLHTTP REQ ("+$+") [attempt "+fe+"]: "+N+`
`+D+`
`+Oe})}function ur(f,N,D,$,fe,we,Oe){f.info(function(){return"XMLHTTP RESP ("+$+") [ attempt "+fe+"]: "+N+`
`+D+`
`+we+" "+Oe})}function Tn(f,N,D,$){f.info(function(){return"XMLHTTP TEXT ("+N+"): "+Gs(f,D)+($?" "+$:"")})}function No(f,N){f.info(function(){return"TIMEOUT: "+N})}br.prototype.info=function(){};function Gs(f,N){if(!f.g)return N;if(!N)return null;try{var D=JSON.parse(N);if(D){for(f=0;f<D.length;f++)if(Array.isArray(D[f])){var $=D[f];if(!(2>$.length)){var fe=$[1];if(Array.isArray(fe)&&!(1>fe.length)){var we=fe[0];if(we!="noop"&&we!="stop"&&we!="close")for(var Oe=1;Oe<fe.length;Oe++)fe[Oe]=""}}}}return gt(D)}catch{return N}}var zr={NO_ERROR:0,gb:1,tb:2,sb:3,nb:4,rb:5,ub:6,Ia:7,TIMEOUT:8,xb:9},Di={lb:"complete",Hb:"success",Ja:"error",Ia:"abort",zb:"ready",Ab:"readystatechange",TIMEOUT:"timeout",vb:"incrementaldata",yb:"progress",ob:"downloadprogress",Pb:"uploadprogress"},si;function qr(){}b(qr,Pt),qr.prototype.g=function(){return new XMLHttpRequest},qr.prototype.i=function(){return{}},si=new qr;function Xn(f,N,D,$){this.j=f,this.i=N,this.l=D,this.R=$||1,this.U=new Kt(this),this.I=45e3,this.H=null,this.o=!1,this.m=this.A=this.v=this.L=this.F=this.S=this.B=null,this.D=[],this.g=null,this.C=0,this.s=this.u=null,this.X=-1,this.J=!1,this.O=0,this.M=null,this.W=this.K=this.T=this.P=!1,this.h=new Ks}function Ks(){this.i=null,this.g="",this.h=!1}var Mi={},Ss={};function Qs(f,N,D){f.L=1,f.v=ko(oi(N)),f.m=D,f.P=!0,Eo(f,null)}function Eo(f,N){f.F=Date.now(),Ys(f),f.A=oi(f.v);var D=f.A,$=f.R;Array.isArray($)||($=[String($)]),dt(D.i,"t",$),f.C=0,D=f.j.J,f.h=new Ks,f.g=Bn(f.j,D?N:null,!f.m),0<f.O&&(f.M=new st(g(f.Y,f,f.g),f.O)),N=f.U,D=f.g,$=f.ca;var fe="readystatechange";Array.isArray(fe)||(fe&&(Ut[0]=fe.toString()),fe=Ut);for(var we=0;we<fe.length;we++){var Oe=Ke(D,fe[we],$||N.handleEvent,!1,N.h||N);if(!Oe)break;N.g[Oe.key]=Oe}N=f.H?C(f.H):{},f.m?(f.u||(f.u="POST"),N["Content-Type"]="application/x-www-form-urlencoded",f.g.ea(f.A,f.u,f.m,N)):(f.u="GET",f.g.ea(f.A,f.u,null,N)),Ur(),En(f.i,f.u,f.A,f.l,f.R,f.m)}Xn.prototype.ca=function(f){f=f.target;const N=this.M;N&&Si(f)==3?N.j():this.Y(f)},Xn.prototype.Y=function(f){try{if(f==this.g)e:{const mn=Si(this.g);var N=this.g.Ba();const Bi=this.g.Z();if(!(3>mn)&&(mn!=3||this.g&&(this.h.h||this.g.oa()||El(this.g)))){this.J||mn!=4||N==7||(N==8||0>=Bi?Ur(3):Ur(2)),aa(this);var D=this.g.Z();this.X=D;t:if(To(this)){var $=El(this.g);f="";var fe=$.length,we=Si(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){Fi(this),_r(this);var Oe="";break t}this.h.i=new a.TextDecoder}for(N=0;N<fe;N++)this.h.h=!0,f+=this.h.i.decode($[N],{stream:!(we&&N==fe-1)});$.length=0,this.h.g+=f,this.C=0,Oe=this.h.g}else Oe=this.g.oa();if(this.o=D==200,ur(this.i,this.u,this.A,this.l,this.R,mn,D),this.o){if(this.T&&!this.K){t:{if(this.g){var Vt,Rn=this.g;if((Vt=Rn.g?Rn.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!_(Vt)){var Rt=Vt;break t}}Rt=null}if(D=Rt)Tn(this.i,this.l,D,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,la(this,D);else{this.o=!1,this.s=3,wn(12),Fi(this),_r(this);break e}}if(this.P){D=!0;let $r;for(;!this.J&&this.C<Oe.length;)if($r=qc(this,Oe),$r==Ss){mn==4&&(this.s=4,wn(14),D=!1),Tn(this.i,this.l,null,"[Incomplete Response]");break}else if($r==Mi){this.s=4,wn(15),Tn(this.i,this.l,Oe,"[Invalid Chunk]"),D=!1;break}else Tn(this.i,this.l,$r,null),la(this,$r);if(To(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),mn!=4||Oe.length!=0||this.h.h||(this.s=1,wn(16),D=!1),this.o=this.o&&D,!D)Tn(this.i,this.l,Oe,"[Invalid Chunked Response]"),Fi(this),_r(this);else if(0<Oe.length&&!this.W){this.W=!0;var It=this.j;It.g==this&&It.ba&&!It.M&&(It.j.info("Great, no buffering proxy detected. Bytes received: "+Oe.length),$e(It),It.M=!0,wn(11))}}else Tn(this.i,this.l,Oe,null),la(this,Oe);mn==4&&Fi(this),this.o&&!this.J&&(mn==4?yt(this.j,this):(this.o=!1,Ys(this)))}else Ts(this.g),D==400&&0<Oe.indexOf("Unknown SID")?(this.s=3,wn(12)):(this.s=0,wn(13)),Fi(this),_r(this)}}}catch{}finally{}};function To(f){return f.g?f.u=="GET"&&f.L!=2&&f.j.Ca:!1}function qc(f,N){var D=f.C,$=N.indexOf(`
`,D);return $==-1?Ss:(D=Number(N.substring(D,$)),isNaN(D)?Mi:($+=1,$+D>N.length?Ss:(N=N.slice($,$+D),f.C=$+D,N)))}Xn.prototype.cancel=function(){this.J=!0,Fi(this)};function Ys(f){f.S=Date.now()+f.I,ml(f,f.I)}function ml(f,N){if(f.B!=null)throw Error("WatchDog timer not null");f.B=xr(g(f.ba,f),N)}function aa(f){f.B&&(a.clearTimeout(f.B),f.B=null)}Xn.prototype.ba=function(){this.B=null;const f=Date.now();0<=f-this.S?(No(this.i,this.A),this.L!=2&&(Ur(),wn(17)),Fi(this),this.s=2,_r(this)):ml(this,this.S-f)};function _r(f){f.j.G==0||f.J||yt(f.j,f)}function Fi(f){aa(f);var N=f.M;N&&typeof N.ma=="function"&&N.ma(),f.M=null,Xe(f.U),f.g&&(N=f.g,f.g=null,N.abort(),N.ma())}function la(f,N){try{var D=f.j;if(D.G!=0&&(D.g==f||Xs(D.h,f))){if(!f.K&&Xs(D.h,f)&&D.G==3){try{var $=D.Da.g.parse(N)}catch{$=null}if(Array.isArray($)&&$.length==3){var fe=$;if(fe[0]==0){e:if(!D.u){if(D.g)if(D.g.F+3e3<f.F)ct(D),ls(D);else break e;Le(D),wn(18)}}else D.za=fe[1],0<D.za-D.T&&37500>fe[2]&&D.F&&D.v==0&&!D.C&&(D.C=xr(g(D.Za,D),6e3));if(1>=wl(D.h)&&D.ca){try{D.ca()}catch{}D.ca=void 0}}else Xt(D,11)}else if((f.K||D.g==f)&&ct(D),!_(N))for(fe=D.Da.g.parse(N),N=0;N<fe.length;N++){let Rt=fe[N];if(D.T=Rt[0],Rt=Rt[1],D.G==2)if(Rt[0]=="c"){D.K=Rt[1],D.ia=Rt[2];const It=Rt[3];It!=null&&(D.la=It,D.j.info("VER="+D.la));const mn=Rt[4];mn!=null&&(D.Aa=mn,D.j.info("SVER="+D.Aa));const Bi=Rt[5];Bi!=null&&typeof Bi=="number"&&0<Bi&&($=1.5*Bi,D.L=$,D.j.info("backChannelRequestTimeoutMs_="+$)),$=D;const $r=f.g;if($r){const kr=$r.g?$r.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(kr){var we=$.h;we.g||kr.indexOf("spdy")==-1&&kr.indexOf("quic")==-1&&kr.indexOf("h2")==-1||(we.j=we.l,we.g=new Set,we.h&&(xl(we,we.h),we.h=null))}if($.D){const Cs=$r.g?$r.g.getResponseHeader("X-HTTP-Session-Id"):null;Cs&&($.ya=Cs,Mt($.I,$.D,Cs))}}D.G=3,D.l&&D.l.ua(),D.ba&&(D.R=Date.now()-f.F,D.j.info("Handshake RTT: "+D.R+"ms")),$=D;var Oe=f;if($.qa=tn($,$.J?$.ia:null,$.W),Oe.K){Pn($.h,Oe);var Vt=Oe,Rn=$.L;Rn&&(Vt.I=Rn),Vt.B&&(aa(Vt),Ys(Vt)),$.g=Oe}else Ne($);0<D.i.length&&w(D)}else Rt[0]!="stop"&&Rt[0]!="close"||Xt(D,7);else D.G==3&&(Rt[0]=="stop"||Rt[0]=="close"?Rt[0]=="stop"?Xt(D,7):ma(D):Rt[0]!="noop"&&D.l&&D.l.ta(Rt),D.v=0)}}Ur(4)}catch{}}var gl=class{constructor(f,N){this.g=f,this.map=N}};function yl(f){this.l=f||10,a.PerformanceNavigationTiming?(f=a.performance.getEntriesByType("navigation"),f=0<f.length&&(f[0].nextHopProtocol=="hq"||f[0].nextHopProtocol=="h2")):f=!!(a.chrome&&a.chrome.loadTimes&&a.chrome.loadTimes()&&a.chrome.loadTimes().wasFetchedViaSpdy),this.j=f?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}function vl(f){return f.h?!0:f.g?f.g.size>=f.j:!1}function wl(f){return f.h?1:f.g?f.g.size:0}function Xs(f,N){return f.h?f.h==N:f.g?f.g.has(N):!1}function xl(f,N){f.g?f.g.add(N):f.h=N}function Pn(f,N){f.h&&f.h==N?f.h=null:f.g&&f.g.has(N)&&f.g.delete(N)}yl.prototype.cancel=function(){if(this.i=bl(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const f of this.g.values())f.cancel();this.g.clear()}};function bl(f){if(f.h!=null)return f.i.concat(f.h.D);if(f.g!=null&&f.g.size!==0){let N=f.i;for(const D of f.g.values())N=N.concat(D.D);return N}return x(f.i)}function wu(f){if(f.V&&typeof f.V=="function")return f.V();if(typeof Map<"u"&&f instanceof Map||typeof Set<"u"&&f instanceof Set)return Array.from(f.values());if(typeof f=="string")return f.split("");if(l(f)){for(var N=[],D=f.length,$=0;$<D;$++)N.push(f[$]);return N}N=[],D=0;for($ in f)N[D++]=f[$];return N}function As(f){if(f.na&&typeof f.na=="function")return f.na();if(!f.V||typeof f.V!="function"){if(typeof Map<"u"&&f instanceof Map)return Array.from(f.keys());if(!(typeof Set<"u"&&f instanceof Set)){if(l(f)||typeof f=="string"){var N=[];f=f.length;for(var D=0;D<f;D++)N.push(D);return N}N=[],D=0;for(const $ in f)N[D++]=$;return N}}}function Js(f,N){if(f.forEach&&typeof f.forEach=="function")f.forEach(N,void 0);else if(l(f)||typeof f=="string")Array.prototype.forEach.call(f,N,void 0);else for(var D=As(f),$=wu(f),fe=$.length,we=0;we<fe;we++)N.call(void 0,$[we],D&&D[we],f)}var xi=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function Co(f,N){if(f){f=f.split("&");for(var D=0;D<f.length;D++){var $=f[D].indexOf("="),fe=null;if(0<=$){var we=f[D].substring(0,$);fe=f[D].substring($+1)}else we=f[D];N(we,fe?decodeURIComponent(fe.replace(/\+/g," ")):"")}}}function en(f){if(this.g=this.o=this.j="",this.s=null,this.m=this.l="",this.h=!1,f instanceof en){this.h=f.h,ua(this,f.j),this.o=f.o,this.g=f.g,ca(this,f.s),this.l=f.l;var N=f.i,D=new _i;D.i=N.i,N.g&&(D.g=new Map(N.g),D.h=N.h),xu(this,D),this.m=f.m}else f&&(N=String(f).match(xi))?(this.h=!1,ua(this,N[1]||"",!0),this.o=Zs(N[2]||""),this.g=Zs(N[3]||"",!0),ca(this,N[4]),this.l=Zs(N[5]||"",!0),xu(this,N[6]||"",!0),this.m=Zs(N[7]||"")):(this.h=!1,this.i=new _i(null,this.h))}en.prototype.toString=function(){var f=[],N=this.j;N&&f.push(bi(N,bu,!0),":");var D=this.g;return(D||N=="file")&&(f.push("//"),(N=this.o)&&f.push(bi(N,bu,!0),"@"),f.push(encodeURIComponent(String(D)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),D=this.s,D!=null&&f.push(":",String(D))),(D=this.l)&&(this.g&&D.charAt(0)!="/"&&f.push("/"),f.push(bi(D,D.charAt(0)=="/"?Hc:$c,!0))),(D=this.i.toString())&&f.push("?",D),(D=this.m)&&f.push("#",bi(D,Po)),f.join("")};function oi(f){return new en(f)}function ua(f,N,D){f.j=D?Zs(N,!0):N,f.j&&(f.j=f.j.replace(/:$/,""))}function ca(f,N){if(N){if(N=Number(N),isNaN(N)||0>N)throw Error("Bad port number "+N);f.s=N}else f.s=null}function xu(f,N,D){N instanceof _i?(f.i=N,Wc(f.i,f.h)):(D||(N=bi(N,Sl)),f.i=new _i(N,f.h))}function Mt(f,N,D){f.i.set(N,D)}function ko(f){return Mt(f,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),f}function Zs(f,N){return f?N?decodeURI(f.replace(/%25/g,"%2525")):decodeURIComponent(f):""}function bi(f,N,D){return typeof f=="string"?(f=encodeURI(f).replace(N,_l),D&&(f=f.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),f):null}function _l(f){return f=f.charCodeAt(0),"%"+(f>>4&15).toString(16)+(f&15).toString(16)}var bu=/[#\/\?@]/g,$c=/[#\?:]/g,Hc=/[#\?]/g,Sl=/[#\?@]/g,Po=/#/g;function _i(f,N){this.h=this.g=null,this.i=f||null,this.j=!!N}function os(f){f.g||(f.g=new Map,f.h=0,f.i&&Co(f.i,function(N,D){f.add(decodeURIComponent(N.replace(/\+/g," ")),D)}))}t=_i.prototype,t.add=function(f,N){os(this),this.i=null,f=to(this,f);var D=this.g.get(f);return D||this.g.set(f,D=[]),D.push(N),this.h+=1,this};function eo(f,N){os(f),N=to(f,N),f.g.has(N)&&(f.i=null,f.h-=f.g.get(N).length,f.g.delete(N))}function ha(f,N){return os(f),N=to(f,N),f.g.has(N)}t.forEach=function(f,N){os(this),this.g.forEach(function(D,$){D.forEach(function(fe){f.call(N,fe,$,this)},this)},this)},t.na=function(){os(this);const f=Array.from(this.g.values()),N=Array.from(this.g.keys()),D=[];for(let $=0;$<N.length;$++){const fe=f[$];for(let we=0;we<fe.length;we++)D.push(N[$])}return D},t.V=function(f){os(this);let N=[];if(typeof f=="string")ha(this,f)&&(N=N.concat(this.g.get(to(this,f))));else{f=Array.from(this.g.values());for(let D=0;D<f.length;D++)N=N.concat(f[D])}return N},t.set=function(f,N){return os(this),this.i=null,f=to(this,f),ha(this,f)&&(this.h-=this.g.get(f).length),this.g.set(f,[N]),this.h+=1,this},t.get=function(f,N){return f?(f=this.V(f),0<f.length?String(f[0]):N):N};function dt(f,N,D){eo(f,N),0<D.length&&(f.i=null,f.g.set(to(f,N),x(D)),f.h+=D.length)}t.toString=function(){if(this.i)return this.i;if(!this.g)return"";const f=[],N=Array.from(this.g.keys());for(var D=0;D<N.length;D++){var $=N[D];const we=encodeURIComponent(String($)),Oe=this.V($);for($=0;$<Oe.length;$++){var fe=we;Oe[$]!==""&&(fe+="="+encodeURIComponent(String(Oe[$]))),f.push(fe)}}return this.i=f.join("&")};function to(f,N){return N=String(N),f.j&&(N=N.toLowerCase()),N}function Wc(f,N){N&&!f.j&&(os(f),f.i=null,f.g.forEach(function(D,$){var fe=$.toLowerCase();$!=fe&&(eo(this,$),dt(this,fe,D))},f)),f.j=N}function Gc(f,N){const D=new br;if(a.Image){const $=new Image;$.onload=p(Sr,D,"TestLoadImage: loaded",!0,N,$),$.onerror=p(Sr,D,"TestLoadImage: error",!1,N,$),$.onabort=p(Sr,D,"TestLoadImage: abort",!1,N,$),$.ontimeout=p(Sr,D,"TestLoadImage: timeout",!1,N,$),a.setTimeout(function(){$.ontimeout&&$.ontimeout()},1e4),$.src=f}else N(!1)}function Kc(f,N){const D=new br,$=new AbortController,fe=setTimeout(()=>{$.abort(),Sr(D,"TestPingServer: timeout",!1,N)},1e4);fetch(f,{signal:$.signal}).then(we=>{clearTimeout(fe),we.ok?Sr(D,"TestPingServer: ok",!0,N):Sr(D,"TestPingServer: server error",!1,N)}).catch(()=>{clearTimeout(fe),Sr(D,"TestPingServer: error",!1,N)})}function Sr(f,N,D,$,fe){try{fe&&(fe.onload=null,fe.onerror=null,fe.onabort=null,fe.ontimeout=null),$(D)}catch{}}function Ns(){this.g=new ut}function Qc(f,N,D){const $=D||"";try{Js(f,function(fe,we){let Oe=fe;u(fe)&&(Oe=gt(fe)),N.push($+we+"="+encodeURIComponent(Oe))})}catch(fe){throw N.push($+"type="+encodeURIComponent("_badmap")),fe}}function fa(f){this.l=f.Ub||null,this.j=f.eb||!1}b(fa,Pt),fa.prototype.g=function(){return new Es(this.l,this.j)},fa.prototype.i=function(f){return function(){return f}}({});function Es(f,N){et.call(this),this.D=f,this.o=N,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.u=new Headers,this.h=null,this.B="GET",this.A="",this.g=!1,this.v=this.j=this.l=null}b(Es,et),t=Es.prototype,t.open=function(f,N){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.B=f,this.A=N,this.readyState=1,as(this)},t.send=function(f){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;const N={headers:this.u,method:this.B,credentials:this.m,cache:void 0};f&&(N.body=f),(this.D||a).fetch(new Request(this.A,N)).then(this.Sa.bind(this),this.ga.bind(this))},t.abort=function(){this.response=this.responseText="",this.u=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,Oi(this)),this.readyState=0},t.Sa=function(f){if(this.g&&(this.l=f,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=f.headers,this.readyState=2,as(this)),this.g&&(this.readyState=3,as(this),this.g)))if(this.responseType==="arraybuffer")f.arrayBuffer().then(this.Qa.bind(this),this.ga.bind(this));else if(typeof a.ReadableStream<"u"&&"body"in f){if(this.j=f.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.v=new TextDecoder;da(this)}else f.text().then(this.Ra.bind(this),this.ga.bind(this))};function da(f){f.j.read().then(f.Pa.bind(f)).catch(f.ga.bind(f))}t.Pa=function(f){if(this.g){if(this.o&&f.value)this.response.push(f.value);else if(!this.o){var N=f.value?f.value:new Uint8Array(0);(N=this.v.decode(N,{stream:!f.done}))&&(this.response=this.responseText+=N)}f.done?Oi(this):as(this),this.readyState==3&&da(this)}},t.Ra=function(f){this.g&&(this.response=this.responseText=f,Oi(this))},t.Qa=function(f){this.g&&(this.response=f,Oi(this))},t.ga=function(){this.g&&Oi(this)};function Oi(f){f.readyState=4,f.l=null,f.j=null,f.v=null,as(f)}t.setRequestHeader=function(f,N){this.u.append(f,N)},t.getResponseHeader=function(f){return this.h&&this.h.get(f.toLowerCase())||""},t.getAllResponseHeaders=function(){if(!this.h)return"";const f=[],N=this.h.entries();for(var D=N.next();!D.done;)D=D.value,f.push(D[0]+": "+D[1]),D=N.next();return f.join(`\r
`)};function as(f){f.onreadystatechange&&f.onreadystatechange.call(f)}Object.defineProperty(Es.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(f){this.m=f?"include":"same-origin"}});function Io(f){let N="";return K(f,function(D,$){N+=$,N+=":",N+=D,N+=`\r
`}),N}function Al(f,N,D){e:{for($ in D){var $=!1;break e}$=!0}$||(D=Io(D),typeof f=="string"?D!=null&&encodeURIComponent(String(D)):Mt(f,N,D))}function cn(f){et.call(this),this.headers=new Map,this.o=f||null,this.h=!1,this.v=this.g=null,this.D="",this.m=0,this.l="",this.j=this.B=this.u=this.A=!1,this.I=null,this.H="",this.J=!1}b(cn,et);var Nl=/^https?$/i,Lo=["POST","PUT"];t=cn.prototype,t.Ha=function(f){this.J=f},t.ea=function(f,N,D,$){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+f);N=N?N.toUpperCase():"GET",this.D=f,this.l="",this.m=0,this.A=!1,this.h=!0,this.g=this.o?this.o.g():si.g(),this.v=this.o?xt(this.o):xt(si),this.g.onreadystatechange=g(this.Ea,this);try{this.B=!0,this.g.open(N,String(f),!0),this.B=!1}catch(we){no(this,we);return}if(f=D||"",D=new Map(this.headers),$)if(Object.getPrototypeOf($)===Object.prototype)for(var fe in $)D.set(fe,$[fe]);else if(typeof $.keys=="function"&&typeof $.get=="function")for(const we of $.keys())D.set(we,$.get(we));else throw Error("Unknown input type for opt_headers: "+String($));$=Array.from(D.keys()).find(we=>we.toLowerCase()=="content-type"),fe=a.FormData&&f instanceof a.FormData,!(0<=Array.prototype.indexOf.call(Lo,N,void 0))||$||fe||D.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[we,Oe]of D)this.g.setRequestHeader(we,Oe);this.H&&(this.g.responseType=this.H),"withCredentials"in this.g&&this.g.withCredentials!==this.J&&(this.g.withCredentials=this.J);try{io(this),this.u=!0,this.g.send(f),this.u=!1}catch(we){no(this,we)}};function no(f,N){f.h=!1,f.g&&(f.j=!0,f.g.abort(),f.j=!1),f.l=N,f.m=5,pa(f),ro(f)}function pa(f){f.A||(f.A=!0,St(f,"complete"),St(f,"error"))}t.abort=function(f){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.m=f||7,St(this,"complete"),St(this,"abort"),ro(this))},t.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),ro(this,!0)),cn.aa.N.call(this)},t.Ea=function(){this.s||(this.B||this.u||this.j?Ro(this):this.bb())},t.bb=function(){Ro(this)};function Ro(f){if(f.h&&typeof o<"u"&&(!f.v[1]||Si(f)!=4||f.Z()!=2)){if(f.u&&Si(f)==4)nt(f.Ea,0,f);else if(St(f,"readystatechange"),Si(f)==4){f.h=!1;try{const Oe=f.Z();e:switch(Oe){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var N=!0;break e;default:N=!1}var D;if(!(D=N)){var $;if($=Oe===0){var fe=String(f.D).match(xi)[1]||null;!fe&&a.self&&a.self.location&&(fe=a.self.location.protocol.slice(0,-1)),$=!Nl.test(fe?fe.toLowerCase():"")}D=$}if(D)St(f,"complete"),St(f,"success");else{f.m=6;try{var we=2<Si(f)?f.g.statusText:""}catch{we=""}f.l=we+" ["+f.Z()+"]",pa(f)}}finally{ro(f)}}}}function ro(f,N){if(f.g){io(f);const D=f.g,$=f.v[0]?()=>{}:null;f.g=null,f.v=null,N||St(f,"ready");try{D.onreadystatechange=$}catch{}}}function io(f){f.I&&(a.clearTimeout(f.I),f.I=null)}t.isActive=function(){return!!this.g};function Si(f){return f.g?f.g.readyState:0}t.Z=function(){try{return 2<Si(this)?this.g.status:-1}catch{return-1}},t.oa=function(){try{return this.g?this.g.responseText:""}catch{return""}},t.Oa=function(f){if(this.g){var N=this.g.responseText;return f&&N.indexOf(f)==0&&(N=N.substring(f.length)),Zt(N)}};function El(f){try{if(!f.g)return null;if("response"in f.g)return f.g.response;switch(f.H){case"":case"text":return f.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in f.g)return f.g.mozResponseArrayBuffer}return null}catch{return null}}function Ts(f){const N={};f=(f.g&&2<=Si(f)&&f.g.getAllResponseHeaders()||"").split(`\r
`);for(let $=0;$<f.length;$++){if(_(f[$]))continue;var D=E(f[$]);const fe=D[0];if(D=D[1],typeof D!="string")continue;D=D.trim();const we=N[fe]||[];N[fe]=we,we.push(D)}k(N,function($){return $.join(", ")})}t.Ba=function(){return this.m},t.Ka=function(){return typeof this.l=="string"?this.l:String(this.l)};function ai(f,N,D){return D&&D.internalChannelParams&&D.internalChannelParams[f]||N}function Tl(f){this.Aa=0,this.i=[],this.j=new br,this.ia=this.qa=this.I=this.W=this.g=this.ya=this.D=this.H=this.m=this.S=this.o=null,this.Ya=this.U=0,this.Va=ai("failFast",!1,f),this.F=this.C=this.u=this.s=this.l=null,this.X=!0,this.za=this.T=-1,this.Y=this.v=this.B=0,this.Ta=ai("baseRetryDelayMs",5e3,f),this.cb=ai("retryDelaySeedMs",1e4,f),this.Wa=ai("forwardChannelMaxRetries",2,f),this.wa=ai("forwardChannelRequestTimeoutMs",2e4,f),this.pa=f&&f.xmlHttpFactory||void 0,this.Xa=f&&f.Tb||void 0,this.Ca=f&&f.useFetchStreams||!1,this.L=void 0,this.J=f&&f.supportsCrossDomainXhr||!1,this.K="",this.h=new yl(f&&f.concurrentRequestLimit),this.Da=new Ns,this.P=f&&f.fastHandshake||!1,this.O=f&&f.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.Ua=f&&f.Rb||!1,f&&f.xa&&this.j.xa(),f&&f.forceLongPolling&&(this.X=!1),this.ba=!this.P&&this.X&&f&&f.detectBufferingProxy||!1,this.ja=void 0,f&&f.longPollingTimeout&&0<f.longPollingTimeout&&(this.ja=f.longPollingTimeout),this.ca=void 0,this.R=0,this.M=!1,this.ka=this.A=null}t=Tl.prototype,t.la=8,t.G=1,t.connect=function(f,N,D,$){wn(0),this.W=f,this.H=N||{},D&&$!==void 0&&(this.H.OSID=D,this.H.OAID=$),this.F=this.X,this.I=tn(this,null,this.W),w(this)};function ma(f){if(Cl(f),f.G==3){var N=f.U++,D=oi(f.I);if(Mt(D,"SID",f.K),Mt(D,"RID",N),Mt(D,"TYPE","terminate"),re(f,D),N=new Xn(f,f.j,N),N.L=2,N.v=ko(oi(D)),D=!1,a.navigator&&a.navigator.sendBeacon)try{D=a.navigator.sendBeacon(N.v.toString(),"")}catch{}!D&&a.Image&&(new Image().src=N.v,D=!0),D||(N.g=Bn(N.j,null),N.g.ea(N.v)),N.F=Date.now(),Ys(N)}In(f)}function ls(f){f.g&&($e(f),f.g.cancel(),f.g=null)}function Cl(f){ls(f),f.u&&(a.clearTimeout(f.u),f.u=null),ct(f),f.h.cancel(),f.s&&(typeof f.s=="number"&&a.clearTimeout(f.s),f.s=null)}function w(f){if(!vl(f.h)&&!f.s){f.s=!0;var N=f.Ga;ae||ge(),ee||(ae(),ee=!0),oe.add(N,f),f.B=0}}function F(f,N){return wl(f.h)>=f.h.j-(f.s?1:0)?!1:f.s?(f.i=N.D.concat(f.i),!0):f.G==1||f.G==2||f.B>=(f.Va?0:f.Wa)?!1:(f.s=xr(g(f.Ga,f,N),zt(f,f.B)),f.B++,!0)}t.Ga=function(f){if(this.s)if(this.s=null,this.G==1){if(!f){this.U=Math.floor(1e5*Math.random()),f=this.U++;const fe=new Xn(this,this.j,f);let we=this.o;if(this.S&&(we?(we=C(we),M(we,this.S)):we=this.S),this.m!==null||this.O||(fe.H=we,we=null),this.P)e:{for(var N=0,D=0;D<this.i.length;D++){t:{var $=this.i[D];if("__data__"in $.map&&($=$.map.__data__,typeof $=="string")){$=$.length;break t}$=void 0}if($===void 0)break;if(N+=$,4096<N){N=D;break e}if(N===4096||D===this.i.length-1){N=D+1;break e}}N=1e3}else N=1e3;N=he(this,fe,N),D=oi(this.I),Mt(D,"RID",f),Mt(D,"CVER",22),this.D&&Mt(D,"X-HTTP-Session-Id",this.D),re(this,D),we&&(this.O?N="headers="+encodeURIComponent(String(Io(we)))+"&"+N:this.m&&Al(D,this.m,we)),xl(this.h,fe),this.Ua&&Mt(D,"TYPE","init"),this.P?(Mt(D,"$req",N),Mt(D,"SID","null"),fe.T=!0,Qs(fe,D,null)):Qs(fe,D,N),this.G=2}}else this.G==3&&(f?X(this,f):this.i.length==0||vl(this.h)||X(this))};function X(f,N){var D;N?D=N.l:D=f.U++;const $=oi(f.I);Mt($,"SID",f.K),Mt($,"RID",D),Mt($,"AID",f.T),re(f,$),f.m&&f.o&&Al($,f.m,f.o),D=new Xn(f,f.j,D,f.B+1),f.m===null&&(D.H=f.o),N&&(f.i=N.D.concat(f.i)),N=he(f,D,1e3),D.I=Math.round(.5*f.wa)+Math.round(.5*f.wa*Math.random()),xl(f.h,D),Qs(D,$,N)}function re(f,N){f.H&&K(f.H,function(D,$){Mt(N,$,D)}),f.l&&Js({},function(D,$){Mt(N,$,D)})}function he(f,N,D){D=Math.min(f.i.length,D);var $=f.l?g(f.l.Na,f.l,f):null;e:{var fe=f.i;let we=-1;for(;;){const Oe=["count="+D];we==-1?0<D?(we=fe[0].g,Oe.push("ofs="+we)):we=0:Oe.push("ofs="+we);let Vt=!0;for(let Rn=0;Rn<D;Rn++){let Rt=fe[Rn].g;const It=fe[Rn].map;if(Rt-=we,0>Rt)we=Math.max(0,fe[Rn].g-100),Vt=!1;else try{Qc(It,Oe,"req"+Rt+"_")}catch{$&&$(It)}}if(Vt){$=Oe.join("&");break e}}}return f=f.i.splice(0,D),N.D=f,$}function Ne(f){if(!f.g&&!f.u){f.Y=1;var N=f.Fa;ae||ge(),ee||(ae(),ee=!0),oe.add(N,f),f.v=0}}function Le(f){return f.g||f.u||3<=f.v?!1:(f.Y++,f.u=xr(g(f.Fa,f),zt(f,f.v)),f.v++,!0)}t.Fa=function(){if(this.u=null,Qe(this),this.ba&&!(this.M||this.g==null||0>=this.R)){var f=2*this.R;this.j.info("BP detection timer enabled: "+f),this.A=xr(g(this.ab,this),f)}},t.ab=function(){this.A&&(this.A=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.M=!0,wn(10),ls(this),Qe(this))};function $e(f){f.A!=null&&(a.clearTimeout(f.A),f.A=null)}function Qe(f){f.g=new Xn(f,f.j,"rpc",f.Y),f.m===null&&(f.g.H=f.o),f.g.O=0;var N=oi(f.qa);Mt(N,"RID","rpc"),Mt(N,"SID",f.K),Mt(N,"AID",f.T),Mt(N,"CI",f.F?"0":"1"),!f.F&&f.ja&&Mt(N,"TO",f.ja),Mt(N,"TYPE","xmlhttp"),re(f,N),f.m&&f.o&&Al(N,f.m,f.o),f.L&&(f.g.I=f.L);var D=f.g;f=f.ia,D.L=1,D.v=ko(oi(N)),D.m=null,D.P=!0,Eo(D,f)}t.Za=function(){this.C!=null&&(this.C=null,ls(this),Le(this),wn(19))};function ct(f){f.C!=null&&(a.clearTimeout(f.C),f.C=null)}function yt(f,N){var D=null;if(f.g==N){ct(f),$e(f),f.g=null;var $=2}else if(Xs(f.h,N))D=N.D,Pn(f.h,N),$=1;else return;if(f.G!=0){if(N.o)if($==1){D=N.m?N.m.length:0,N=Date.now()-N.F;var fe=f.B;$=Yn(),St($,new ss($,D)),w(f)}else Ne(f);else if(fe=N.s,fe==3||fe==0&&0<N.X||!($==1&&F(f,N)||$==2&&Le(f)))switch(D&&0<D.length&&(N=f.h,N.i=N.i.concat(D)),fe){case 1:Xt(f,5);break;case 4:Xt(f,10);break;case 3:Xt(f,6);break;default:Xt(f,2)}}}function zt(f,N){let D=f.Ta+Math.floor(Math.random()*f.cb);return f.isActive()||(D*=2),D*N}function Xt(f,N){if(f.j.info("Error code "+N),N==2){var D=g(f.fb,f),$=f.Xa;const fe=!$;$=new en($||"//www.google.com/images/cleardot.gif"),a.location&&a.location.protocol=="http"||ua($,"https"),ko($),fe?Gc($.toString(),D):Kc($.toString(),D)}else wn(2);f.G=0,f.l&&f.l.sa(N),In(f),Cl(f)}t.fb=function(f){f?(this.j.info("Successfully pinged google.com"),wn(2)):(this.j.info("Failed to ping google.com"),wn(1))};function In(f){if(f.G=0,f.ka=[],f.l){const N=bl(f.h);(N.length!=0||f.i.length!=0)&&(A(f.ka,N),A(f.ka,f.i),f.h.i.length=0,x(f.i),f.i.length=0),f.l.ra()}}function tn(f,N,D){var $=D instanceof en?oi(D):new en(D);if($.g!="")N&&($.g=N+"."+$.g),ca($,$.s);else{var fe=a.location;$=fe.protocol,N=N?N+"."+fe.hostname:fe.hostname,fe=+fe.port;var we=new en(null);$&&ua(we,$),N&&(we.g=N),fe&&ca(we,fe),D&&(we.l=D),$=we}return D=f.D,N=f.ya,D&&N&&Mt($,D,N),Mt($,"VER",f.la),re(f,$),$}function Bn(f,N,D){if(N&&!f.J)throw Error("Can't create secondary domain capable XhrIo object.");return N=f.Ca&&!f.pa?new cn(new fa({eb:D})):new cn(f.pa),N.Ha(f.J),N}t.isActive=function(){return!!this.l&&this.l.isActive(this)};function Ln(){}t=Ln.prototype,t.ua=function(){},t.ta=function(){},t.sa=function(){},t.ra=function(){},t.isActive=function(){return!0},t.Na=function(){};function Un(){}Un.prototype.g=function(f,N){return new pn(f,N)};function pn(f,N){et.call(this),this.g=new Tl(N),this.l=f,this.h=N&&N.messageUrlParams||null,f=N&&N.messageHeaders||null,N&&N.clientProtocolHeaderRequired&&(f?f["X-Client-Protocol"]="webchannel":f={"X-Client-Protocol":"webchannel"}),this.g.o=f,f=N&&N.initMessageHeaders||null,N&&N.messageContentType&&(f?f["X-WebChannel-Content-Type"]=N.messageContentType:f={"X-WebChannel-Content-Type":N.messageContentType}),N&&N.va&&(f?f["X-WebChannel-Client-Profile"]=N.va:f={"X-WebChannel-Client-Profile":N.va}),this.g.S=f,(f=N&&N.Sb)&&!_(f)&&(this.g.m=f),this.v=N&&N.supportsCrossDomainXhr||!1,this.u=N&&N.sendRawJson||!1,(N=N&&N.httpSessionIdParam)&&!_(N)&&(this.g.D=N,f=this.h,f!==null&&N in f&&(f=this.h,N in f&&delete f[N])),this.j=new Vi(this)}b(pn,et),pn.prototype.m=function(){this.g.l=this.j,this.v&&(this.g.J=!0),this.g.connect(this.l,this.h||void 0)},pn.prototype.close=function(){ma(this.g)},pn.prototype.o=function(f){var N=this.g;if(typeof f=="string"){var D={};D.__data__=f,f=D}else this.u&&(D={},D.__data__=gt(f),f=D);N.i.push(new gl(N.Ya++,f)),N.G==3&&w(N)},pn.prototype.N=function(){this.g.l=null,delete this.j,ma(this.g),delete this.g,pn.aa.N.call(this)};function Cr(f){Yt.call(this),f.__headers__&&(this.headers=f.__headers__,this.statusCode=f.__status__,delete f.__headers__,delete f.__status__);var N=f.__sm__;if(N){e:{for(const D in N){f=D;break e}f=void 0}(this.i=f)&&(f=this.i,N=N!==null&&f in N?N[f]:void 0),this.data=N}else this.data=f}b(Cr,Yt);function kl(){ft.call(this),this.status=1}b(kl,ft);function Vi(f){this.g=f}b(Vi,Ln),Vi.prototype.ua=function(){St(this.g,"a")},Vi.prototype.ta=function(f){St(this.g,new Cr(f))},Vi.prototype.sa=function(f){St(this.g,new kl)},Vi.prototype.ra=function(){St(this.g,"b")},Un.prototype.createWebChannel=Un.prototype.g,pn.prototype.send=pn.prototype.o,pn.prototype.open=pn.prototype.m,pn.prototype.close=pn.prototype.close,d8=function(){return new Un},f8=function(){return Yn()},h8=Lt,l2={mb:0,pb:1,qb:2,Jb:3,Ob:4,Lb:5,Mb:6,Kb:7,Ib:8,Nb:9,PROXY:10,NOPROXY:11,Gb:12,Cb:13,Db:14,Bb:15,Eb:16,Fb:17,ib:18,hb:19,jb:20},zr.NO_ERROR=0,zr.TIMEOUT=8,zr.HTTP_ERROR=6,xp=zr,Di.COMPLETE="complete",c8=Di,Nn.EventType=vn,vn.OPEN="a",vn.CLOSE="b",vn.ERROR="c",vn.MESSAGE="d",et.prototype.listen=et.prototype.K,Th=Nn,cn.prototype.listenOnce=cn.prototype.L,cn.prototype.getLastError=cn.prototype.Ka,cn.prototype.getLastErrorCode=cn.prototype.Ba,cn.prototype.getStatus=cn.prototype.Z,cn.prototype.getResponseJson=cn.prototype.Oa,cn.prototype.getResponseText=cn.prototype.oa,cn.prototype.send=cn.prototype.ea,cn.prototype.setWithCredentials=cn.prototype.Ha,u8=cn}).apply(typeof Hd<"u"?Hd:typeof self<"u"?self:typeof window<"u"?window:{});const zx="@firebase/firestore";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zr{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}Zr.UNAUTHENTICATED=new Zr(null),Zr.GOOGLE_CREDENTIALS=new Zr("google-credentials-uid"),Zr.FIRST_PARTY=new Zr("first-party-uid"),Zr.MOCK_USER=new Zr("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Mc="10.14.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const su=new n8("@firebase/firestore");function vh(){return su.logLevel}function Ye(t,...e){if(su.logLevel<=Wt.DEBUG){const n=e.map(rv);su.debug(`Firestore (${Mc}): ${t}`,...n)}}function ea(t,...e){if(su.logLevel<=Wt.ERROR){const n=e.map(rv);su.error(`Firestore (${Mc}): ${t}`,...n)}}function xc(t,...e){if(su.logLevel<=Wt.WARN){const n=e.map(rv);su.warn(`Firestore (${Mc}): ${t}`,...n)}}function rv(t){if(typeof t=="string")return t;try{/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/return function(n){return JSON.stringify(n)}(t)}catch{return t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function bt(t="Unexpected state"){const e=`FIRESTORE (${Mc}) INTERNAL ASSERTION FAILED: `+t;throw ea(e),new Error(e)}function un(t,e){t||bt()}function Et(t,e){return t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Pe={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class qe extends Dc{constructor(e,n){super(e,n),this.code=e,this.message=n,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ko{constructor(){this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class p8{constructor(e,n){this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class nR{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,n){e.enqueueRetryable(()=>n(Zr.UNAUTHENTICATED))}shutdown(){}}class rR{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,n){this.changeListener=n,e.enqueueRetryable(()=>n(this.token.user))}shutdown(){this.changeListener=null}}class iR{constructor(e){this.t=e,this.currentUser=Zr.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,n){un(this.o===void 0);let r=this.i;const i=l=>this.i!==r?(r=this.i,n(l)):Promise.resolve();let s=new Ko;this.o=()=>{this.i++,this.currentUser=this.u(),s.resolve(),s=new Ko,e.enqueueRetryable(()=>i(this.currentUser))};const o=()=>{const l=s;e.enqueueRetryable(async()=>{await l.promise,await i(this.currentUser)})},a=l=>{Ye("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=l,this.o&&(this.auth.addAuthTokenListener(this.o),o())};this.t.onInit(l=>a(l)),setTimeout(()=>{if(!this.auth){const l=this.t.getImmediate({optional:!0});l?a(l):(Ye("FirebaseAuthCredentialsProvider","Auth not yet detected"),s.resolve(),s=new Ko)}},0),o()}getToken(){const e=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then(r=>this.i!==e?(Ye("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):r?(un(typeof r.accessToken=="string"),new p8(r.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return un(e===null||typeof e=="string"),new Zr(e)}}class sR{constructor(e,n,r){this.l=e,this.h=n,this.P=r,this.type="FirstParty",this.user=Zr.FIRST_PARTY,this.I=new Map}T(){return this.P?this.P():null}get headers(){this.I.set("X-Goog-AuthUser",this.l);const e=this.T();return e&&this.I.set("Authorization",e),this.h&&this.I.set("X-Goog-Iam-Authorization-Token",this.h),this.I}}class oR{constructor(e,n,r){this.l=e,this.h=n,this.P=r}getToken(){return Promise.resolve(new sR(this.l,this.h,this.P))}start(e,n){e.enqueueRetryable(()=>n(Zr.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class aR{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class lR{constructor(e){this.A=e,this.forceRefresh=!1,this.appCheck=null,this.R=null}start(e,n){un(this.o===void 0);const r=s=>{s.error!=null&&Ye("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${s.error.message}`);const o=s.token!==this.R;return this.R=s.token,Ye("FirebaseAppCheckTokenProvider",`Received ${o?"new":"existing"} token.`),o?n(s.token):Promise.resolve()};this.o=s=>{e.enqueueRetryable(()=>r(s))};const i=s=>{Ye("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=s,this.o&&this.appCheck.addTokenListener(this.o)};this.A.onInit(s=>i(s)),setTimeout(()=>{if(!this.appCheck){const s=this.A.getImmediate({optional:!0});s?i(s):Ye("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(n=>n?(un(typeof n.token=="string"),this.R=n.token,new aR(n.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function uR(t){const e=typeof self<"u"&&(self.crypto||self.msCrypto),n=new Uint8Array(t);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(n);else for(let r=0;r<t;r++)n[r]=Math.floor(256*Math.random());return n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class m8{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n=Math.floor(256/e.length)*e.length;let r="";for(;r.length<20;){const i=uR(40);for(let s=0;s<i.length;++s)r.length<20&&i[s]<n&&(r+=e.charAt(i[s]%e.length))}return r}}function Qt(t,e){return t<e?-1:t>e?1:0}function bc(t,e,n){return t.length===e.length&&t.every((r,i)=>n(r,e[i]))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qn{constructor(e,n){if(this.seconds=e,this.nanoseconds=n,n<0)throw new qe(Pe.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new qe(Pe.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(e<-62135596800)throw new qe(Pe.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new qe(Pe.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}static now(){return Qn.fromMillis(Date.now())}static fromDate(e){return Qn.fromMillis(e.getTime())}static fromMillis(e){const n=Math.floor(e/1e3),r=Math.floor(1e6*(e-1e3*n));return new Qn(n,r)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/1e6}_compareTo(e){return this.seconds===e.seconds?Qt(this.nanoseconds,e.nanoseconds):Qt(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){const e=this.seconds- -62135596800;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Nt{constructor(e){this.timestamp=e}static fromTimestamp(e){return new Nt(e)}static min(){return new Nt(new Qn(0,0))}static max(){return new Nt(new Qn(253402300799,999999999))}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bf{constructor(e,n,r){n===void 0?n=0:n>e.length&&bt(),r===void 0?r=e.length-n:r>e.length-n&&bt(),this.segments=e,this.offset=n,this.len=r}get length(){return this.len}isEqual(e){return bf.comparator(this,e)===0}child(e){const n=this.segments.slice(this.offset,this.limit());return e instanceof bf?e.forEach(r=>{n.push(r)}):n.push(e),this.construct(n)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}forEach(e){for(let n=this.offset,r=this.limit();n<r;n++)e(this.segments[n])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,n){const r=Math.min(e.length,n.length);for(let i=0;i<r;i++){const s=e.get(i),o=n.get(i);if(s<o)return-1;if(s>o)return 1}return e.length<n.length?-1:e.length>n.length?1:0}}class _n extends bf{construct(e,n,r){return new _n(e,n,r)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const n=[];for(const r of e){if(r.indexOf("//")>=0)throw new qe(Pe.INVALID_ARGUMENT,`Invalid segment (${r}). Paths must not contain // in them.`);n.push(...r.split("/").filter(i=>i.length>0))}return new _n(n)}static emptyPath(){return new _n([])}}const cR=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class Mr extends bf{construct(e,n,r){return new Mr(e,n,r)}static isValidIdentifier(e){return cR.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),Mr.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)==="__name__"}static keyField(){return new Mr(["__name__"])}static fromServerFormat(e){const n=[];let r="",i=0;const s=()=>{if(r.length===0)throw new qe(Pe.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);n.push(r),r=""};let o=!1;for(;i<e.length;){const a=e[i];if(a==="\\"){if(i+1===e.length)throw new qe(Pe.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const l=e[i+1];if(l!=="\\"&&l!=="."&&l!=="`")throw new qe(Pe.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);r+=l,i+=2}else a==="`"?(o=!o,i++):a!=="."||o?(r+=a,i++):(s(),i++)}if(s(),o)throw new qe(Pe.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new Mr(n)}static emptyPath(){return new Mr([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class at{constructor(e){this.path=e}static fromPath(e){return new at(_n.fromString(e))}static fromName(e){return new at(_n.fromString(e).popFirst(5))}static empty(){return new at(_n.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&_n.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,n){return _n.comparator(e.path,n.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new at(new _n(e.slice()))}}function hR(t,e){const n=t.toTimestamp().seconds,r=t.toTimestamp().nanoseconds+1,i=Nt.fromTimestamp(r===1e9?new Qn(n+1,0):new Qn(n,r));return new nl(i,at.empty(),e)}function fR(t){return new nl(t.readTime,t.key,-1)}class nl{constructor(e,n,r){this.readTime=e,this.documentKey=n,this.largestBatchId=r}static min(){return new nl(Nt.min(),at.empty(),-1)}static max(){return new nl(Nt.max(),at.empty(),-1)}}function dR(t,e){let n=t.readTime.compareTo(e.readTime);return n!==0?n:(n=at.comparator(t.documentKey,e.documentKey),n!==0?n:Qt(t.largestBatchId,e.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const pR="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class mR{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function $f(t){if(t.code!==Pe.FAILED_PRECONDITION||t.message!==pR)throw t;Ye("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class De{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(n=>{this.isDone=!0,this.result=n,this.nextCallback&&this.nextCallback(n)},n=>{this.isDone=!0,this.error=n,this.catchCallback&&this.catchCallback(n)})}catch(e){return this.next(void 0,e)}next(e,n){return this.callbackAttached&&bt(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(e,this.result):new De((r,i)=>{this.nextCallback=s=>{this.wrapSuccess(e,s).next(r,i)},this.catchCallback=s=>{this.wrapFailure(n,s).next(r,i)}})}toPromise(){return new Promise((e,n)=>{this.next(e,n)})}wrapUserFunction(e){try{const n=e();return n instanceof De?n:De.resolve(n)}catch(n){return De.reject(n)}}wrapSuccess(e,n){return e?this.wrapUserFunction(()=>e(n)):De.resolve(n)}wrapFailure(e,n){return e?this.wrapUserFunction(()=>e(n)):De.reject(n)}static resolve(e){return new De((n,r)=>{n(e)})}static reject(e){return new De((n,r)=>{r(e)})}static waitFor(e){return new De((n,r)=>{let i=0,s=0,o=!1;e.forEach(a=>{++i,a.next(()=>{++s,o&&s===i&&n()},l=>r(l))}),o=!0,s===i&&n()})}static or(e){let n=De.resolve(!1);for(const r of e)n=n.next(i=>i?De.resolve(i):r());return n}static forEach(e,n){const r=[];return e.forEach((i,s)=>{r.push(n.call(this,i,s))}),this.waitFor(r)}static mapArray(e,n){return new De((r,i)=>{const s=e.length,o=new Array(s);let a=0;for(let l=0;l<s;l++){const u=l;n(e[u]).next(c=>{o[u]=c,++a,a===s&&r(o)},c=>i(c))}})}static doWhile(e,n){return new De((r,i)=>{const s=()=>{e()===!0?n().next(()=>{s()},i):r()};s()})}}function gR(t){const e=t.match(/Android ([\d.]+)/i),n=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(n)}function Hf(t){return t.name==="IndexedDbTransactionError"}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class iv{constructor(e,n){this.previousValue=e,n&&(n.sequenceNumberHandler=r=>this.ie(r),this.se=r=>n.writeSequenceNumber(r))}ie(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.se&&this.se(e),e}}iv.oe=-1;function Z0(t){return t==null}function f0(t){return t===0&&1/t==-1/0}function yR(t){return typeof t=="number"&&Number.isInteger(t)&&!f0(t)&&t<=Number.MAX_SAFE_INTEGER&&t>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function qx(t){let e=0;for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e++;return e}function pu(t,e){for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e(n,t[n])}function g8(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vn{constructor(e,n){this.comparator=e,this.root=n||Dr.EMPTY}insert(e,n){return new Vn(this.comparator,this.root.insert(e,n,this.comparator).copy(null,null,Dr.BLACK,null,null))}remove(e){return new Vn(this.comparator,this.root.remove(e,this.comparator).copy(null,null,Dr.BLACK,null,null))}get(e){let n=this.root;for(;!n.isEmpty();){const r=this.comparator(e,n.key);if(r===0)return n.value;r<0?n=n.left:r>0&&(n=n.right)}return null}indexOf(e){let n=0,r=this.root;for(;!r.isEmpty();){const i=this.comparator(e,r.key);if(i===0)return n+r.left.size;i<0?r=r.left:(n+=r.left.size+1,r=r.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((n,r)=>(e(n,r),!1))}toString(){const e=[];return this.inorderTraversal((n,r)=>(e.push(`${n}:${r}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new Wd(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new Wd(this.root,e,this.comparator,!1)}getReverseIterator(){return new Wd(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new Wd(this.root,e,this.comparator,!0)}}class Wd{constructor(e,n,r,i){this.isReverse=i,this.nodeStack=[];let s=1;for(;!e.isEmpty();)if(s=n?r(e.key,n):1,n&&i&&(s*=-1),s<0)e=this.isReverse?e.left:e.right;else{if(s===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const n={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return n}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class Dr{constructor(e,n,r,i,s){this.key=e,this.value=n,this.color=r??Dr.RED,this.left=i??Dr.EMPTY,this.right=s??Dr.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,n,r,i,s){return new Dr(e??this.key,n??this.value,r??this.color,i??this.left,s??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,n,r){let i=this;const s=r(e,i.key);return i=s<0?i.copy(null,null,null,i.left.insert(e,n,r),null):s===0?i.copy(null,n,null,null,null):i.copy(null,null,null,null,i.right.insert(e,n,r)),i.fixUp()}removeMin(){if(this.left.isEmpty())return Dr.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,n){let r,i=this;if(n(e,i.key)<0)i.left.isEmpty()||i.left.isRed()||i.left.left.isRed()||(i=i.moveRedLeft()),i=i.copy(null,null,null,i.left.remove(e,n),null);else{if(i.left.isRed()&&(i=i.rotateRight()),i.right.isEmpty()||i.right.isRed()||i.right.left.isRed()||(i=i.moveRedRight()),n(e,i.key)===0){if(i.right.isEmpty())return Dr.EMPTY;r=i.right.min(),i=i.copy(r.key,r.value,null,null,i.right.removeMin())}i=i.copy(null,null,null,null,i.right.remove(e,n))}return i.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,Dr.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,Dr.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,n)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw bt();const e=this.left.check();if(e!==this.right.check())throw bt();return e+(this.isRed()?0:1)}}Dr.EMPTY=null,Dr.RED=!0,Dr.BLACK=!1;Dr.EMPTY=new class{constructor(){this.size=0}get key(){throw bt()}get value(){throw bt()}get color(){throw bt()}get left(){throw bt()}get right(){throw bt()}copy(e,n,r,i,s){return this}insert(e,n,r){return new Dr(e,n)}remove(e,n){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Or{constructor(e){this.comparator=e,this.data=new Vn(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((n,r)=>(e(n),!1))}forEachInRange(e,n){const r=this.data.getIteratorFrom(e[0]);for(;r.hasNext();){const i=r.getNext();if(this.comparator(i.key,e[1])>=0)return;n(i.key)}}forEachWhile(e,n){let r;for(r=n!==void 0?this.data.getIteratorFrom(n):this.data.getIterator();r.hasNext();)if(!e(r.getNext().key))return}firstAfterOrEqual(e){const n=this.data.getIteratorFrom(e);return n.hasNext()?n.getNext().key:null}getIterator(){return new $x(this.data.getIterator())}getIteratorFrom(e){return new $x(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let n=this;return n.size<e.size&&(n=e,e=this),e.forEach(r=>{n=n.add(r)}),n}isEqual(e){if(!(e instanceof Or)||this.size!==e.size)return!1;const n=this.data.getIterator(),r=e.data.getIterator();for(;n.hasNext();){const i=n.getNext().key,s=r.getNext().key;if(this.comparator(i,s)!==0)return!1}return!0}toArray(){const e=[];return this.forEach(n=>{e.push(n)}),e}toString(){const e=[];return this.forEach(n=>e.push(n)),"SortedSet("+e.toString()+")"}copy(e){const n=new Or(this.comparator);return n.data=e,n}}class $x{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ji{constructor(e){this.fields=e,e.sort(Mr.comparator)}static empty(){return new Ji([])}unionWith(e){let n=new Or(Mr.comparator);for(const r of this.fields)n=n.add(r);for(const r of e)n=n.add(r);return new Ji(n.toArray())}covers(e){for(const n of this.fields)if(n.isPrefixOf(e))return!0;return!1}isEqual(e){return bc(this.fields,e.fields,(n,r)=>n.isEqual(r))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class y8 extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Br{constructor(e){this.binaryString=e}static fromBase64String(e){const n=function(i){try{return atob(i)}catch(s){throw typeof DOMException<"u"&&s instanceof DOMException?new y8("Invalid base64 string: "+s):s}}(e);return new Br(n)}static fromUint8Array(e){const n=function(i){let s="";for(let o=0;o<i.length;++o)s+=String.fromCharCode(i[o]);return s}(e);return new Br(n)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return function(n){return btoa(n)}(this.binaryString)}toUint8Array(){return function(n){const r=new Uint8Array(n.length);for(let i=0;i<n.length;i++)r[i]=n.charCodeAt(i);return r}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return Qt(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}Br.EMPTY_BYTE_STRING=new Br("");const vR=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function rl(t){if(un(!!t),typeof t=="string"){let e=0;const n=vR.exec(t);if(un(!!n),n[1]){let i=n[1];i=(i+"000000000").substr(0,9),e=Number(i)}const r=new Date(t);return{seconds:Math.floor(r.getTime()/1e3),nanos:e}}return{seconds:rr(t.seconds),nanos:rr(t.nanos)}}function rr(t){return typeof t=="number"?t:typeof t=="string"?Number(t):0}function ou(t){return typeof t=="string"?Br.fromBase64String(t):Br.fromUint8Array(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function sv(t){var e,n;return((n=(((e=t==null?void 0:t.mapValue)===null||e===void 0?void 0:e.fields)||{}).__type__)===null||n===void 0?void 0:n.stringValue)==="server_timestamp"}function ov(t){const e=t.mapValue.fields.__previous_value__;return sv(e)?ov(e):e}function _f(t){const e=rl(t.mapValue.fields.__local_write_time__.timestampValue);return new Qn(e.seconds,e.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wR{constructor(e,n,r,i,s,o,a,l,u){this.databaseId=e,this.appId=n,this.persistenceKey=r,this.host=i,this.ssl=s,this.forceLongPolling=o,this.autoDetectLongPolling=a,this.longPollingOptions=l,this.useFetchStreams=u}}class Sf{constructor(e,n){this.projectId=e,this.database=n||"(default)"}static empty(){return new Sf("","")}get isDefaultDatabase(){return this.database==="(default)"}isEqual(e){return e instanceof Sf&&e.projectId===this.projectId&&e.database===this.database}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Gd={mapValue:{}};function au(t){return"nullValue"in t?0:"booleanValue"in t?1:"integerValue"in t||"doubleValue"in t?2:"timestampValue"in t?3:"stringValue"in t?5:"bytesValue"in t?6:"referenceValue"in t?7:"geoPointValue"in t?8:"arrayValue"in t?9:"mapValue"in t?sv(t)?4:bR(t)?9007199254740991:xR(t)?10:11:bt()}function _o(t,e){if(t===e)return!0;const n=au(t);if(n!==au(e))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return t.booleanValue===e.booleanValue;case 4:return _f(t).isEqual(_f(e));case 3:return function(i,s){if(typeof i.timestampValue=="string"&&typeof s.timestampValue=="string"&&i.timestampValue.length===s.timestampValue.length)return i.timestampValue===s.timestampValue;const o=rl(i.timestampValue),a=rl(s.timestampValue);return o.seconds===a.seconds&&o.nanos===a.nanos}(t,e);case 5:return t.stringValue===e.stringValue;case 6:return function(i,s){return ou(i.bytesValue).isEqual(ou(s.bytesValue))}(t,e);case 7:return t.referenceValue===e.referenceValue;case 8:return function(i,s){return rr(i.geoPointValue.latitude)===rr(s.geoPointValue.latitude)&&rr(i.geoPointValue.longitude)===rr(s.geoPointValue.longitude)}(t,e);case 2:return function(i,s){if("integerValue"in i&&"integerValue"in s)return rr(i.integerValue)===rr(s.integerValue);if("doubleValue"in i&&"doubleValue"in s){const o=rr(i.doubleValue),a=rr(s.doubleValue);return o===a?f0(o)===f0(a):isNaN(o)&&isNaN(a)}return!1}(t,e);case 9:return bc(t.arrayValue.values||[],e.arrayValue.values||[],_o);case 10:case 11:return function(i,s){const o=i.mapValue.fields||{},a=s.mapValue.fields||{};if(qx(o)!==qx(a))return!1;for(const l in o)if(o.hasOwnProperty(l)&&(a[l]===void 0||!_o(o[l],a[l])))return!1;return!0}(t,e);default:return bt()}}function Af(t,e){return(t.values||[]).find(n=>_o(n,e))!==void 0}function _c(t,e){if(t===e)return 0;const n=au(t),r=au(e);if(n!==r)return Qt(n,r);switch(n){case 0:case 9007199254740991:return 0;case 1:return Qt(t.booleanValue,e.booleanValue);case 2:return function(s,o){const a=rr(s.integerValue||s.doubleValue),l=rr(o.integerValue||o.doubleValue);return a<l?-1:a>l?1:a===l?0:isNaN(a)?isNaN(l)?0:-1:1}(t,e);case 3:return Hx(t.timestampValue,e.timestampValue);case 4:return Hx(_f(t),_f(e));case 5:return Qt(t.stringValue,e.stringValue);case 6:return function(s,o){const a=ou(s),l=ou(o);return a.compareTo(l)}(t.bytesValue,e.bytesValue);case 7:return function(s,o){const a=s.split("/"),l=o.split("/");for(let u=0;u<a.length&&u<l.length;u++){const c=Qt(a[u],l[u]);if(c!==0)return c}return Qt(a.length,l.length)}(t.referenceValue,e.referenceValue);case 8:return function(s,o){const a=Qt(rr(s.latitude),rr(o.latitude));return a!==0?a:Qt(rr(s.longitude),rr(o.longitude))}(t.geoPointValue,e.geoPointValue);case 9:return Wx(t.arrayValue,e.arrayValue);case 10:return function(s,o){var a,l,u,c;const d=s.fields||{},g=o.fields||{},p=(a=d.value)===null||a===void 0?void 0:a.arrayValue,b=(l=g.value)===null||l===void 0?void 0:l.arrayValue,x=Qt(((u=p==null?void 0:p.values)===null||u===void 0?void 0:u.length)||0,((c=b==null?void 0:b.values)===null||c===void 0?void 0:c.length)||0);return x!==0?x:Wx(p,b)}(t.mapValue,e.mapValue);case 11:return function(s,o){if(s===Gd.mapValue&&o===Gd.mapValue)return 0;if(s===Gd.mapValue)return 1;if(o===Gd.mapValue)return-1;const a=s.fields||{},l=Object.keys(a),u=o.fields||{},c=Object.keys(u);l.sort(),c.sort();for(let d=0;d<l.length&&d<c.length;++d){const g=Qt(l[d],c[d]);if(g!==0)return g;const p=_c(a[l[d]],u[c[d]]);if(p!==0)return p}return Qt(l.length,c.length)}(t.mapValue,e.mapValue);default:throw bt()}}function Hx(t,e){if(typeof t=="string"&&typeof e=="string"&&t.length===e.length)return Qt(t,e);const n=rl(t),r=rl(e),i=Qt(n.seconds,r.seconds);return i!==0?i:Qt(n.nanos,r.nanos)}function Wx(t,e){const n=t.values||[],r=e.values||[];for(let i=0;i<n.length&&i<r.length;++i){const s=_c(n[i],r[i]);if(s)return s}return Qt(n.length,r.length)}function Sc(t){return u2(t)}function u2(t){return"nullValue"in t?"null":"booleanValue"in t?""+t.booleanValue:"integerValue"in t?""+t.integerValue:"doubleValue"in t?""+t.doubleValue:"timestampValue"in t?function(n){const r=rl(n);return`time(${r.seconds},${r.nanos})`}(t.timestampValue):"stringValue"in t?t.stringValue:"bytesValue"in t?function(n){return ou(n).toBase64()}(t.bytesValue):"referenceValue"in t?function(n){return at.fromName(n).toString()}(t.referenceValue):"geoPointValue"in t?function(n){return`geo(${n.latitude},${n.longitude})`}(t.geoPointValue):"arrayValue"in t?function(n){let r="[",i=!0;for(const s of n.values||[])i?i=!1:r+=",",r+=u2(s);return r+"]"}(t.arrayValue):"mapValue"in t?function(n){const r=Object.keys(n.fields||{}).sort();let i="{",s=!0;for(const o of r)s?s=!1:i+=",",i+=`${o}:${u2(n.fields[o])}`;return i+"}"}(t.mapValue):bt()}function Gx(t,e){return{referenceValue:`projects/${t.projectId}/databases/${t.database}/documents/${e.path.canonicalString()}`}}function c2(t){return!!t&&"integerValue"in t}function av(t){return!!t&&"arrayValue"in t}function Kx(t){return!!t&&"nullValue"in t}function Qx(t){return!!t&&"doubleValue"in t&&isNaN(Number(t.doubleValue))}function bp(t){return!!t&&"mapValue"in t}function xR(t){var e,n;return((n=(((e=t==null?void 0:t.mapValue)===null||e===void 0?void 0:e.fields)||{}).__type__)===null||n===void 0?void 0:n.stringValue)==="__vector__"}function Uh(t){if(t.geoPointValue)return{geoPointValue:Object.assign({},t.geoPointValue)};if(t.timestampValue&&typeof t.timestampValue=="object")return{timestampValue:Object.assign({},t.timestampValue)};if(t.mapValue){const e={mapValue:{fields:{}}};return pu(t.mapValue.fields,(n,r)=>e.mapValue.fields[n]=Uh(r)),e}if(t.arrayValue){const e={arrayValue:{values:[]}};for(let n=0;n<(t.arrayValue.values||[]).length;++n)e.arrayValue.values[n]=Uh(t.arrayValue.values[n]);return e}return Object.assign({},t)}function bR(t){return(((t.mapValue||{}).fields||{}).__type__||{}).stringValue==="__max__"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ci{constructor(e){this.value=e}static empty(){return new Ci({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let n=this.value;for(let r=0;r<e.length-1;++r)if(n=(n.mapValue.fields||{})[e.get(r)],!bp(n))return null;return n=(n.mapValue.fields||{})[e.lastSegment()],n||null}}set(e,n){this.getFieldsMap(e.popLast())[e.lastSegment()]=Uh(n)}setAll(e){let n=Mr.emptyPath(),r={},i=[];e.forEach((o,a)=>{if(!n.isImmediateParentOf(a)){const l=this.getFieldsMap(n);this.applyChanges(l,r,i),r={},i=[],n=a.popLast()}o?r[a.lastSegment()]=Uh(o):i.push(a.lastSegment())});const s=this.getFieldsMap(n);this.applyChanges(s,r,i)}delete(e){const n=this.field(e.popLast());bp(n)&&n.mapValue.fields&&delete n.mapValue.fields[e.lastSegment()]}isEqual(e){return _o(this.value,e.value)}getFieldsMap(e){let n=this.value;n.mapValue.fields||(n.mapValue={fields:{}});for(let r=0;r<e.length;++r){let i=n.mapValue.fields[e.get(r)];bp(i)&&i.mapValue.fields||(i={mapValue:{fields:{}}},n.mapValue.fields[e.get(r)]=i),n=i}return n.mapValue.fields}applyChanges(e,n,r){pu(n,(i,s)=>e[i]=s);for(const i of r)delete e[i]}clone(){return new Ci(Uh(this.value))}}function v8(t){const e=[];return pu(t.fields,(n,r)=>{const i=new Mr([n]);if(bp(r)){const s=v8(r.mapValue).fields;if(s.length===0)e.push(i);else for(const o of s)e.push(i.child(o))}else e.push(i)}),new Ji(e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ti{constructor(e,n,r,i,s,o,a){this.key=e,this.documentType=n,this.version=r,this.readTime=i,this.createTime=s,this.data=o,this.documentState=a}static newInvalidDocument(e){return new ti(e,0,Nt.min(),Nt.min(),Nt.min(),Ci.empty(),0)}static newFoundDocument(e,n,r,i){return new ti(e,1,n,Nt.min(),r,i,0)}static newNoDocument(e,n){return new ti(e,2,n,Nt.min(),Nt.min(),Ci.empty(),0)}static newUnknownDocument(e,n){return new ti(e,3,n,Nt.min(),Nt.min(),Ci.empty(),2)}convertToFoundDocument(e,n){return!this.createTime.isEqual(Nt.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=n,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=Ci.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=Ci.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=Nt.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof ti&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new ti(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class d0{constructor(e,n){this.position=e,this.inclusive=n}}function Yx(t,e,n){let r=0;for(let i=0;i<t.position.length;i++){const s=e[i],o=t.position[i];if(s.field.isKeyField()?r=at.comparator(at.fromName(o.referenceValue),n.key):r=_c(o,n.data.field(s.field)),s.dir==="desc"&&(r*=-1),r!==0)break}return r}function Xx(t,e){if(t===null)return e===null;if(e===null||t.inclusive!==e.inclusive||t.position.length!==e.position.length)return!1;for(let n=0;n<t.position.length;n++)if(!_o(t.position[n],e.position[n]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class p0{constructor(e,n="asc"){this.field=e,this.dir=n}}function _R(t,e){return t.dir===e.dir&&t.field.isEqual(e.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class w8{}class dr extends w8{constructor(e,n,r){super(),this.field=e,this.op=n,this.value=r}static create(e,n,r){return e.isKeyField()?n==="in"||n==="not-in"?this.createKeyFieldInFilter(e,n,r):new AR(e,n,r):n==="array-contains"?new TR(e,r):n==="in"?new CR(e,r):n==="not-in"?new kR(e,r):n==="array-contains-any"?new PR(e,r):new dr(e,n,r)}static createKeyFieldInFilter(e,n,r){return n==="in"?new NR(e,r):new ER(e,r)}matches(e){const n=e.data.field(this.field);return this.op==="!="?n!==null&&this.matchesComparison(_c(n,this.value)):n!==null&&au(this.value)===au(n)&&this.matchesComparison(_c(n,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return bt()}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class Us extends w8{constructor(e,n){super(),this.filters=e,this.op=n,this.ae=null}static create(e,n){return new Us(e,n)}matches(e){return x8(this)?this.filters.find(n=>!n.matches(e))===void 0:this.filters.find(n=>n.matches(e))!==void 0}getFlattenedFilters(){return this.ae!==null||(this.ae=this.filters.reduce((e,n)=>e.concat(n.getFlattenedFilters()),[])),this.ae}getFilters(){return Object.assign([],this.filters)}}function x8(t){return t.op==="and"}function b8(t){return SR(t)&&x8(t)}function SR(t){for(const e of t.filters)if(e instanceof Us)return!1;return!0}function h2(t){if(t instanceof dr)return t.field.canonicalString()+t.op.toString()+Sc(t.value);if(b8(t))return t.filters.map(e=>h2(e)).join(",");{const e=t.filters.map(n=>h2(n)).join(",");return`${t.op}(${e})`}}function _8(t,e){return t instanceof dr?function(r,i){return i instanceof dr&&r.op===i.op&&r.field.isEqual(i.field)&&_o(r.value,i.value)}(t,e):t instanceof Us?function(r,i){return i instanceof Us&&r.op===i.op&&r.filters.length===i.filters.length?r.filters.reduce((s,o,a)=>s&&_8(o,i.filters[a]),!0):!1}(t,e):void bt()}function S8(t){return t instanceof dr?function(n){return`${n.field.canonicalString()} ${n.op} ${Sc(n.value)}`}(t):t instanceof Us?function(n){return n.op.toString()+" {"+n.getFilters().map(S8).join(" ,")+"}"}(t):"Filter"}class AR extends dr{constructor(e,n,r){super(e,n,r),this.key=at.fromName(r.referenceValue)}matches(e){const n=at.comparator(e.key,this.key);return this.matchesComparison(n)}}class NR extends dr{constructor(e,n){super(e,"in",n),this.keys=A8("in",n)}matches(e){return this.keys.some(n=>n.isEqual(e.key))}}class ER extends dr{constructor(e,n){super(e,"not-in",n),this.keys=A8("not-in",n)}matches(e){return!this.keys.some(n=>n.isEqual(e.key))}}function A8(t,e){var n;return(((n=e.arrayValue)===null||n===void 0?void 0:n.values)||[]).map(r=>at.fromName(r.referenceValue))}class TR extends dr{constructor(e,n){super(e,"array-contains",n)}matches(e){const n=e.data.field(this.field);return av(n)&&Af(n.arrayValue,this.value)}}class CR extends dr{constructor(e,n){super(e,"in",n)}matches(e){const n=e.data.field(this.field);return n!==null&&Af(this.value.arrayValue,n)}}class kR extends dr{constructor(e,n){super(e,"not-in",n)}matches(e){if(Af(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const n=e.data.field(this.field);return n!==null&&!Af(this.value.arrayValue,n)}}class PR extends dr{constructor(e,n){super(e,"array-contains-any",n)}matches(e){const n=e.data.field(this.field);return!(!av(n)||!n.arrayValue.values)&&n.arrayValue.values.some(r=>Af(this.value.arrayValue,r))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class IR{constructor(e,n=null,r=[],i=[],s=null,o=null,a=null){this.path=e,this.collectionGroup=n,this.orderBy=r,this.filters=i,this.limit=s,this.startAt=o,this.endAt=a,this.ue=null}}function Jx(t,e=null,n=[],r=[],i=null,s=null,o=null){return new IR(t,e,n,r,i,s,o)}function lv(t){const e=Et(t);if(e.ue===null){let n=e.path.canonicalString();e.collectionGroup!==null&&(n+="|cg:"+e.collectionGroup),n+="|f:",n+=e.filters.map(r=>h2(r)).join(","),n+="|ob:",n+=e.orderBy.map(r=>function(s){return s.field.canonicalString()+s.dir}(r)).join(","),Z0(e.limit)||(n+="|l:",n+=e.limit),e.startAt&&(n+="|lb:",n+=e.startAt.inclusive?"b:":"a:",n+=e.startAt.position.map(r=>Sc(r)).join(",")),e.endAt&&(n+="|ub:",n+=e.endAt.inclusive?"a:":"b:",n+=e.endAt.position.map(r=>Sc(r)).join(",")),e.ue=n}return e.ue}function uv(t,e){if(t.limit!==e.limit||t.orderBy.length!==e.orderBy.length)return!1;for(let n=0;n<t.orderBy.length;n++)if(!_R(t.orderBy[n],e.orderBy[n]))return!1;if(t.filters.length!==e.filters.length)return!1;for(let n=0;n<t.filters.length;n++)if(!_8(t.filters[n],e.filters[n]))return!1;return t.collectionGroup===e.collectionGroup&&!!t.path.isEqual(e.path)&&!!Xx(t.startAt,e.startAt)&&Xx(t.endAt,e.endAt)}function f2(t){return at.isDocumentKey(t.path)&&t.collectionGroup===null&&t.filters.length===0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wf{constructor(e,n=null,r=[],i=[],s=null,o="F",a=null,l=null){this.path=e,this.collectionGroup=n,this.explicitOrderBy=r,this.filters=i,this.limit=s,this.limitType=o,this.startAt=a,this.endAt=l,this.ce=null,this.le=null,this.he=null,this.startAt,this.endAt}}function LR(t,e,n,r,i,s,o,a){return new Wf(t,e,n,r,i,s,o,a)}function em(t){return new Wf(t)}function Zx(t){return t.filters.length===0&&t.limit===null&&t.startAt==null&&t.endAt==null&&(t.explicitOrderBy.length===0||t.explicitOrderBy.length===1&&t.explicitOrderBy[0].field.isKeyField())}function N8(t){return t.collectionGroup!==null}function zh(t){const e=Et(t);if(e.ce===null){e.ce=[];const n=new Set;for(const s of e.explicitOrderBy)e.ce.push(s),n.add(s.field.canonicalString());const r=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(o){let a=new Or(Mr.comparator);return o.filters.forEach(l=>{l.getFlattenedFilters().forEach(u=>{u.isInequality()&&(a=a.add(u.field))})}),a})(e).forEach(s=>{n.has(s.canonicalString())||s.isKeyField()||e.ce.push(new p0(s,r))}),n.has(Mr.keyField().canonicalString())||e.ce.push(new p0(Mr.keyField(),r))}return e.ce}function yo(t){const e=Et(t);return e.le||(e.le=RR(e,zh(t))),e.le}function RR(t,e){if(t.limitType==="F")return Jx(t.path,t.collectionGroup,e,t.filters,t.limit,t.startAt,t.endAt);{e=e.map(i=>{const s=i.dir==="desc"?"asc":"desc";return new p0(i.field,s)});const n=t.endAt?new d0(t.endAt.position,t.endAt.inclusive):null,r=t.startAt?new d0(t.startAt.position,t.startAt.inclusive):null;return Jx(t.path,t.collectionGroup,e,t.filters,t.limit,n,r)}}function d2(t,e){const n=t.filters.concat([e]);return new Wf(t.path,t.collectionGroup,t.explicitOrderBy.slice(),n,t.limit,t.limitType,t.startAt,t.endAt)}function p2(t,e,n){return new Wf(t.path,t.collectionGroup,t.explicitOrderBy.slice(),t.filters.slice(),e,n,t.startAt,t.endAt)}function tm(t,e){return uv(yo(t),yo(e))&&t.limitType===e.limitType}function E8(t){return`${lv(yo(t))}|lt:${t.limitType}`}function ku(t){return`Query(target=${function(n){let r=n.path.canonicalString();return n.collectionGroup!==null&&(r+=" collectionGroup="+n.collectionGroup),n.filters.length>0&&(r+=`, filters: [${n.filters.map(i=>S8(i)).join(", ")}]`),Z0(n.limit)||(r+=", limit: "+n.limit),n.orderBy.length>0&&(r+=`, orderBy: [${n.orderBy.map(i=>function(o){return`${o.field.canonicalString()} (${o.dir})`}(i)).join(", ")}]`),n.startAt&&(r+=", startAt: ",r+=n.startAt.inclusive?"b:":"a:",r+=n.startAt.position.map(i=>Sc(i)).join(",")),n.endAt&&(r+=", endAt: ",r+=n.endAt.inclusive?"a:":"b:",r+=n.endAt.position.map(i=>Sc(i)).join(",")),`Target(${r})`}(yo(t))}; limitType=${t.limitType})`}function nm(t,e){return e.isFoundDocument()&&function(r,i){const s=i.key.path;return r.collectionGroup!==null?i.key.hasCollectionId(r.collectionGroup)&&r.path.isPrefixOf(s):at.isDocumentKey(r.path)?r.path.isEqual(s):r.path.isImmediateParentOf(s)}(t,e)&&function(r,i){for(const s of zh(r))if(!s.field.isKeyField()&&i.data.field(s.field)===null)return!1;return!0}(t,e)&&function(r,i){for(const s of r.filters)if(!s.matches(i))return!1;return!0}(t,e)&&function(r,i){return!(r.startAt&&!function(o,a,l){const u=Yx(o,a,l);return o.inclusive?u<=0:u<0}(r.startAt,zh(r),i)||r.endAt&&!function(o,a,l){const u=Yx(o,a,l);return o.inclusive?u>=0:u>0}(r.endAt,zh(r),i))}(t,e)}function jR(t){return t.collectionGroup||(t.path.length%2==1?t.path.lastSegment():t.path.get(t.path.length-2))}function T8(t){return(e,n)=>{let r=!1;for(const i of zh(t)){const s=DR(i,e,n);if(s!==0)return s;r=r||i.field.isKeyField()}return 0}}function DR(t,e,n){const r=t.field.isKeyField()?at.comparator(e.key,n.key):function(s,o,a){const l=o.data.field(s),u=a.data.field(s);return l!==null&&u!==null?_c(l,u):bt()}(t.field,e,n);switch(t.dir){case"asc":return r;case"desc":return-1*r;default:return bt()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fc{constructor(e,n){this.mapKeyFn=e,this.equalsFn=n,this.inner={},this.innerSize=0}get(e){const n=this.mapKeyFn(e),r=this.inner[n];if(r!==void 0){for(const[i,s]of r)if(this.equalsFn(i,e))return s}}has(e){return this.get(e)!==void 0}set(e,n){const r=this.mapKeyFn(e),i=this.inner[r];if(i===void 0)return this.inner[r]=[[e,n]],void this.innerSize++;for(let s=0;s<i.length;s++)if(this.equalsFn(i[s][0],e))return void(i[s]=[e,n]);i.push([e,n]),this.innerSize++}delete(e){const n=this.mapKeyFn(e),r=this.inner[n];if(r===void 0)return!1;for(let i=0;i<r.length;i++)if(this.equalsFn(r[i][0],e))return r.length===1?delete this.inner[n]:r.splice(i,1),this.innerSize--,!0;return!1}forEach(e){pu(this.inner,(n,r)=>{for(const[i,s]of r)e(i,s)})}isEmpty(){return g8(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const MR=new Vn(at.comparator);function ta(){return MR}const C8=new Vn(at.comparator);function Ch(...t){let e=C8;for(const n of t)e=e.insert(n.key,n);return e}function k8(t){let e=C8;return t.forEach((n,r)=>e=e.insert(n,r.overlayedDocument)),e}function $l(){return qh()}function P8(){return qh()}function qh(){return new Fc(t=>t.toString(),(t,e)=>t.isEqual(e))}const FR=new Vn(at.comparator),OR=new Or(at.comparator);function Ft(...t){let e=OR;for(const n of t)e=e.add(n);return e}const VR=new Or(Qt);function BR(){return VR}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function cv(t,e){if(t.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:f0(e)?"-0":e}}function I8(t){return{integerValue:""+t}}function UR(t,e){return yR(e)?I8(e):cv(t,e)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rm{constructor(){this._=void 0}}function zR(t,e,n){return t instanceof m0?function(i,s){const o={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:i.seconds,nanos:i.nanoseconds}}}};return s&&sv(s)&&(s=ov(s)),s&&(o.fields.__previous_value__=s),{mapValue:o}}(n,e):t instanceof Nf?R8(t,e):t instanceof Ef?j8(t,e):function(i,s){const o=L8(i,s),a=e4(o)+e4(i.Pe);return c2(o)&&c2(i.Pe)?I8(a):cv(i.serializer,a)}(t,e)}function qR(t,e,n){return t instanceof Nf?R8(t,e):t instanceof Ef?j8(t,e):n}function L8(t,e){return t instanceof g0?function(r){return c2(r)||function(s){return!!s&&"doubleValue"in s}(r)}(e)?e:{integerValue:0}:null}class m0 extends rm{}class Nf extends rm{constructor(e){super(),this.elements=e}}function R8(t,e){const n=D8(e);for(const r of t.elements)n.some(i=>_o(i,r))||n.push(r);return{arrayValue:{values:n}}}class Ef extends rm{constructor(e){super(),this.elements=e}}function j8(t,e){let n=D8(e);for(const r of t.elements)n=n.filter(i=>!_o(i,r));return{arrayValue:{values:n}}}class g0 extends rm{constructor(e,n){super(),this.serializer=e,this.Pe=n}}function e4(t){return rr(t.integerValue||t.doubleValue)}function D8(t){return av(t)&&t.arrayValue.values?t.arrayValue.values.slice():[]}function $R(t,e){return t.field.isEqual(e.field)&&function(r,i){return r instanceof Nf&&i instanceof Nf||r instanceof Ef&&i instanceof Ef?bc(r.elements,i.elements,_o):r instanceof g0&&i instanceof g0?_o(r.Pe,i.Pe):r instanceof m0&&i instanceof m0}(t.transform,e.transform)}class HR{constructor(e,n){this.version=e,this.transformResults=n}}class pi{constructor(e,n){this.updateTime=e,this.exists=n}static none(){return new pi}static exists(e){return new pi(void 0,e)}static updateTime(e){return new pi(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function _p(t,e){return t.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(t.updateTime):t.exists===void 0||t.exists===e.isFoundDocument()}class im{}function M8(t,e){if(!t.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return t.isNoDocument()?new sm(t.key,pi.none()):new Gf(t.key,t.data,pi.none());{const n=t.data,r=Ci.empty();let i=new Or(Mr.comparator);for(let s of e.fields)if(!i.has(s)){let o=n.field(s);o===null&&s.length>1&&(s=s.popLast(),o=n.field(s)),o===null?r.delete(s):r.set(s,o),i=i.add(s)}return new fl(t.key,r,new Ji(i.toArray()),pi.none())}}function WR(t,e,n){t instanceof Gf?function(i,s,o){const a=i.value.clone(),l=n4(i.fieldTransforms,s,o.transformResults);a.setAll(l),s.convertToFoundDocument(o.version,a).setHasCommittedMutations()}(t,e,n):t instanceof fl?function(i,s,o){if(!_p(i.precondition,s))return void s.convertToUnknownDocument(o.version);const a=n4(i.fieldTransforms,s,o.transformResults),l=s.data;l.setAll(F8(i)),l.setAll(a),s.convertToFoundDocument(o.version,l).setHasCommittedMutations()}(t,e,n):function(i,s,o){s.convertToNoDocument(o.version).setHasCommittedMutations()}(0,e,n)}function $h(t,e,n,r){return t instanceof Gf?function(s,o,a,l){if(!_p(s.precondition,o))return a;const u=s.value.clone(),c=r4(s.fieldTransforms,l,o);return u.setAll(c),o.convertToFoundDocument(o.version,u).setHasLocalMutations(),null}(t,e,n,r):t instanceof fl?function(s,o,a,l){if(!_p(s.precondition,o))return a;const u=r4(s.fieldTransforms,l,o),c=o.data;return c.setAll(F8(s)),c.setAll(u),o.convertToFoundDocument(o.version,c).setHasLocalMutations(),a===null?null:a.unionWith(s.fieldMask.fields).unionWith(s.fieldTransforms.map(d=>d.field))}(t,e,n,r):function(s,o,a){return _p(s.precondition,o)?(o.convertToNoDocument(o.version).setHasLocalMutations(),null):a}(t,e,n)}function GR(t,e){let n=null;for(const r of t.fieldTransforms){const i=e.data.field(r.field),s=L8(r.transform,i||null);s!=null&&(n===null&&(n=Ci.empty()),n.set(r.field,s))}return n||null}function t4(t,e){return t.type===e.type&&!!t.key.isEqual(e.key)&&!!t.precondition.isEqual(e.precondition)&&!!function(r,i){return r===void 0&&i===void 0||!(!r||!i)&&bc(r,i,(s,o)=>$R(s,o))}(t.fieldTransforms,e.fieldTransforms)&&(t.type===0?t.value.isEqual(e.value):t.type!==1||t.data.isEqual(e.data)&&t.fieldMask.isEqual(e.fieldMask))}class Gf extends im{constructor(e,n,r,i=[]){super(),this.key=e,this.value=n,this.precondition=r,this.fieldTransforms=i,this.type=0}getFieldMask(){return null}}class fl extends im{constructor(e,n,r,i,s=[]){super(),this.key=e,this.data=n,this.fieldMask=r,this.precondition=i,this.fieldTransforms=s,this.type=1}getFieldMask(){return this.fieldMask}}function F8(t){const e=new Map;return t.fieldMask.fields.forEach(n=>{if(!n.isEmpty()){const r=t.data.field(n);e.set(n,r)}}),e}function n4(t,e,n){const r=new Map;un(t.length===n.length);for(let i=0;i<n.length;i++){const s=t[i],o=s.transform,a=e.data.field(s.field);r.set(s.field,qR(o,a,n[i]))}return r}function r4(t,e,n){const r=new Map;for(const i of t){const s=i.transform,o=n.data.field(i.field);r.set(i.field,zR(s,o,e))}return r}class sm extends im{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class KR extends im{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class QR{constructor(e,n,r,i){this.batchId=e,this.localWriteTime=n,this.baseMutations=r,this.mutations=i}applyToRemoteDocument(e,n){const r=n.mutationResults;for(let i=0;i<this.mutations.length;i++){const s=this.mutations[i];s.key.isEqual(e.key)&&WR(s,e,r[i])}}applyToLocalView(e,n){for(const r of this.baseMutations)r.key.isEqual(e.key)&&(n=$h(r,e,n,this.localWriteTime));for(const r of this.mutations)r.key.isEqual(e.key)&&(n=$h(r,e,n,this.localWriteTime));return n}applyToLocalDocumentSet(e,n){const r=P8();return this.mutations.forEach(i=>{const s=e.get(i.key),o=s.overlayedDocument;let a=this.applyToLocalView(o,s.mutatedFields);a=n.has(i.key)?null:a;const l=M8(o,a);l!==null&&r.set(i.key,l),o.isValidDocument()||o.convertToNoDocument(Nt.min())}),r}keys(){return this.mutations.reduce((e,n)=>e.add(n.key),Ft())}isEqual(e){return this.batchId===e.batchId&&bc(this.mutations,e.mutations,(n,r)=>t4(n,r))&&bc(this.baseMutations,e.baseMutations,(n,r)=>t4(n,r))}}class hv{constructor(e,n,r,i){this.batch=e,this.commitVersion=n,this.mutationResults=r,this.docVersions=i}static from(e,n,r){un(e.mutations.length===r.length);let i=function(){return FR}();const s=e.mutations;for(let o=0;o<s.length;o++)i=i.insert(s[o].key,r[o].version);return new hv(e,n,r,i)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class YR{constructor(e,n){this.largestBatchId=e,this.mutation=n}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class XR{constructor(e,n){this.count=e,this.unchangedNames=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var cr,$t;function JR(t){switch(t){default:return bt();case Pe.CANCELLED:case Pe.UNKNOWN:case Pe.DEADLINE_EXCEEDED:case Pe.RESOURCE_EXHAUSTED:case Pe.INTERNAL:case Pe.UNAVAILABLE:case Pe.UNAUTHENTICATED:return!1;case Pe.INVALID_ARGUMENT:case Pe.NOT_FOUND:case Pe.ALREADY_EXISTS:case Pe.PERMISSION_DENIED:case Pe.FAILED_PRECONDITION:case Pe.ABORTED:case Pe.OUT_OF_RANGE:case Pe.UNIMPLEMENTED:case Pe.DATA_LOSS:return!0}}function O8(t){if(t===void 0)return ea("GRPC error has no .code"),Pe.UNKNOWN;switch(t){case cr.OK:return Pe.OK;case cr.CANCELLED:return Pe.CANCELLED;case cr.UNKNOWN:return Pe.UNKNOWN;case cr.DEADLINE_EXCEEDED:return Pe.DEADLINE_EXCEEDED;case cr.RESOURCE_EXHAUSTED:return Pe.RESOURCE_EXHAUSTED;case cr.INTERNAL:return Pe.INTERNAL;case cr.UNAVAILABLE:return Pe.UNAVAILABLE;case cr.UNAUTHENTICATED:return Pe.UNAUTHENTICATED;case cr.INVALID_ARGUMENT:return Pe.INVALID_ARGUMENT;case cr.NOT_FOUND:return Pe.NOT_FOUND;case cr.ALREADY_EXISTS:return Pe.ALREADY_EXISTS;case cr.PERMISSION_DENIED:return Pe.PERMISSION_DENIED;case cr.FAILED_PRECONDITION:return Pe.FAILED_PRECONDITION;case cr.ABORTED:return Pe.ABORTED;case cr.OUT_OF_RANGE:return Pe.OUT_OF_RANGE;case cr.UNIMPLEMENTED:return Pe.UNIMPLEMENTED;case cr.DATA_LOSS:return Pe.DATA_LOSS;default:return bt()}}($t=cr||(cr={}))[$t.OK=0]="OK",$t[$t.CANCELLED=1]="CANCELLED",$t[$t.UNKNOWN=2]="UNKNOWN",$t[$t.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",$t[$t.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",$t[$t.NOT_FOUND=5]="NOT_FOUND",$t[$t.ALREADY_EXISTS=6]="ALREADY_EXISTS",$t[$t.PERMISSION_DENIED=7]="PERMISSION_DENIED",$t[$t.UNAUTHENTICATED=16]="UNAUTHENTICATED",$t[$t.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",$t[$t.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",$t[$t.ABORTED=10]="ABORTED",$t[$t.OUT_OF_RANGE=11]="OUT_OF_RANGE",$t[$t.UNIMPLEMENTED=12]="UNIMPLEMENTED",$t[$t.INTERNAL=13]="INTERNAL",$t[$t.UNAVAILABLE=14]="UNAVAILABLE",$t[$t.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ZR(){return new TextEncoder}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ej=new Ql([4294967295,4294967295],0);function i4(t){const e=ZR().encode(t),n=new l8;return n.update(e),new Uint8Array(n.digest())}function s4(t){const e=new DataView(t.buffer),n=e.getUint32(0,!0),r=e.getUint32(4,!0),i=e.getUint32(8,!0),s=e.getUint32(12,!0);return[new Ql([n,r],0),new Ql([i,s],0)]}class fv{constructor(e,n,r){if(this.bitmap=e,this.padding=n,this.hashCount=r,n<0||n>=8)throw new kh(`Invalid padding: ${n}`);if(r<0)throw new kh(`Invalid hash count: ${r}`);if(e.length>0&&this.hashCount===0)throw new kh(`Invalid hash count: ${r}`);if(e.length===0&&n!==0)throw new kh(`Invalid padding when bitmap length is 0: ${n}`);this.Ie=8*e.length-n,this.Te=Ql.fromNumber(this.Ie)}Ee(e,n,r){let i=e.add(n.multiply(Ql.fromNumber(r)));return i.compare(ej)===1&&(i=new Ql([i.getBits(0),i.getBits(1)],0)),i.modulo(this.Te).toNumber()}de(e){return(this.bitmap[Math.floor(e/8)]&1<<e%8)!=0}mightContain(e){if(this.Ie===0)return!1;const n=i4(e),[r,i]=s4(n);for(let s=0;s<this.hashCount;s++){const o=this.Ee(r,i,s);if(!this.de(o))return!1}return!0}static create(e,n,r){const i=e%8==0?0:8-e%8,s=new Uint8Array(Math.ceil(e/8)),o=new fv(s,i,n);return r.forEach(a=>o.insert(a)),o}insert(e){if(this.Ie===0)return;const n=i4(e),[r,i]=s4(n);for(let s=0;s<this.hashCount;s++){const o=this.Ee(r,i,s);this.Ae(o)}}Ae(e){const n=Math.floor(e/8),r=e%8;this.bitmap[n]|=1<<r}}class kh extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class om{constructor(e,n,r,i,s){this.snapshotVersion=e,this.targetChanges=n,this.targetMismatches=r,this.documentUpdates=i,this.resolvedLimboDocuments=s}static createSynthesizedRemoteEventForCurrentChange(e,n,r){const i=new Map;return i.set(e,Kf.createSynthesizedTargetChangeForCurrentChange(e,n,r)),new om(Nt.min(),i,new Vn(Qt),ta(),Ft())}}class Kf{constructor(e,n,r,i,s){this.resumeToken=e,this.current=n,this.addedDocuments=r,this.modifiedDocuments=i,this.removedDocuments=s}static createSynthesizedTargetChangeForCurrentChange(e,n,r){return new Kf(r,n,Ft(),Ft(),Ft())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Sp{constructor(e,n,r,i){this.Re=e,this.removedTargetIds=n,this.key=r,this.Ve=i}}class V8{constructor(e,n){this.targetId=e,this.me=n}}class B8{constructor(e,n,r=Br.EMPTY_BYTE_STRING,i=null){this.state=e,this.targetIds=n,this.resumeToken=r,this.cause=i}}class o4{constructor(){this.fe=0,this.ge=l4(),this.pe=Br.EMPTY_BYTE_STRING,this.ye=!1,this.we=!0}get current(){return this.ye}get resumeToken(){return this.pe}get Se(){return this.fe!==0}get be(){return this.we}De(e){e.approximateByteSize()>0&&(this.we=!0,this.pe=e)}ve(){let e=Ft(),n=Ft(),r=Ft();return this.ge.forEach((i,s)=>{switch(s){case 0:e=e.add(i);break;case 2:n=n.add(i);break;case 1:r=r.add(i);break;default:bt()}}),new Kf(this.pe,this.ye,e,n,r)}Ce(){this.we=!1,this.ge=l4()}Fe(e,n){this.we=!0,this.ge=this.ge.insert(e,n)}Me(e){this.we=!0,this.ge=this.ge.remove(e)}xe(){this.fe+=1}Oe(){this.fe-=1,un(this.fe>=0)}Ne(){this.we=!0,this.ye=!0}}class tj{constructor(e){this.Le=e,this.Be=new Map,this.ke=ta(),this.qe=a4(),this.Qe=new Vn(Qt)}Ke(e){for(const n of e.Re)e.Ve&&e.Ve.isFoundDocument()?this.$e(n,e.Ve):this.Ue(n,e.key,e.Ve);for(const n of e.removedTargetIds)this.Ue(n,e.key,e.Ve)}We(e){this.forEachTarget(e,n=>{const r=this.Ge(n);switch(e.state){case 0:this.ze(n)&&r.De(e.resumeToken);break;case 1:r.Oe(),r.Se||r.Ce(),r.De(e.resumeToken);break;case 2:r.Oe(),r.Se||this.removeTarget(n);break;case 3:this.ze(n)&&(r.Ne(),r.De(e.resumeToken));break;case 4:this.ze(n)&&(this.je(n),r.De(e.resumeToken));break;default:bt()}})}forEachTarget(e,n){e.targetIds.length>0?e.targetIds.forEach(n):this.Be.forEach((r,i)=>{this.ze(i)&&n(i)})}He(e){const n=e.targetId,r=e.me.count,i=this.Je(n);if(i){const s=i.target;if(f2(s))if(r===0){const o=new at(s.path);this.Ue(n,o,ti.newNoDocument(o,Nt.min()))}else un(r===1);else{const o=this.Ye(n);if(o!==r){const a=this.Ze(e),l=a?this.Xe(a,e,o):1;if(l!==0){this.je(n);const u=l===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Qe=this.Qe.insert(n,u)}}}}}Ze(e){const n=e.me.unchangedNames;if(!n||!n.bits)return null;const{bits:{bitmap:r="",padding:i=0},hashCount:s=0}=n;let o,a;try{o=ou(r).toUint8Array()}catch(l){if(l instanceof y8)return xc("Decoding the base64 bloom filter in existence filter failed ("+l.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw l}try{a=new fv(o,i,s)}catch(l){return xc(l instanceof kh?"BloomFilter error: ":"Applying bloom filter failed: ",l),null}return a.Ie===0?null:a}Xe(e,n,r){return n.me.count===r-this.nt(e,n.targetId)?0:2}nt(e,n){const r=this.Le.getRemoteKeysForTarget(n);let i=0;return r.forEach(s=>{const o=this.Le.tt(),a=`projects/${o.projectId}/databases/${o.database}/documents/${s.path.canonicalString()}`;e.mightContain(a)||(this.Ue(n,s,null),i++)}),i}rt(e){const n=new Map;this.Be.forEach((s,o)=>{const a=this.Je(o);if(a){if(s.current&&f2(a.target)){const l=new at(a.target.path);this.ke.get(l)!==null||this.it(o,l)||this.Ue(o,l,ti.newNoDocument(l,e))}s.be&&(n.set(o,s.ve()),s.Ce())}});let r=Ft();this.qe.forEach((s,o)=>{let a=!0;o.forEachWhile(l=>{const u=this.Je(l);return!u||u.purpose==="TargetPurposeLimboResolution"||(a=!1,!1)}),a&&(r=r.add(s))}),this.ke.forEach((s,o)=>o.setReadTime(e));const i=new om(e,n,this.Qe,this.ke,r);return this.ke=ta(),this.qe=a4(),this.Qe=new Vn(Qt),i}$e(e,n){if(!this.ze(e))return;const r=this.it(e,n.key)?2:0;this.Ge(e).Fe(n.key,r),this.ke=this.ke.insert(n.key,n),this.qe=this.qe.insert(n.key,this.st(n.key).add(e))}Ue(e,n,r){if(!this.ze(e))return;const i=this.Ge(e);this.it(e,n)?i.Fe(n,1):i.Me(n),this.qe=this.qe.insert(n,this.st(n).delete(e)),r&&(this.ke=this.ke.insert(n,r))}removeTarget(e){this.Be.delete(e)}Ye(e){const n=this.Ge(e).ve();return this.Le.getRemoteKeysForTarget(e).size+n.addedDocuments.size-n.removedDocuments.size}xe(e){this.Ge(e).xe()}Ge(e){let n=this.Be.get(e);return n||(n=new o4,this.Be.set(e,n)),n}st(e){let n=this.qe.get(e);return n||(n=new Or(Qt),this.qe=this.qe.insert(e,n)),n}ze(e){const n=this.Je(e)!==null;return n||Ye("WatchChangeAggregator","Detected inactive target",e),n}Je(e){const n=this.Be.get(e);return n&&n.Se?null:this.Le.ot(e)}je(e){this.Be.set(e,new o4),this.Le.getRemoteKeysForTarget(e).forEach(n=>{this.Ue(e,n,null)})}it(e,n){return this.Le.getRemoteKeysForTarget(e).has(n)}}function a4(){return new Vn(at.comparator)}function l4(){return new Vn(at.comparator)}const nj={asc:"ASCENDING",desc:"DESCENDING"},rj={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},ij={and:"AND",or:"OR"};class sj{constructor(e,n){this.databaseId=e,this.useProto3Json=n}}function m2(t,e){return t.useProto3Json||Z0(e)?e:{value:e}}function y0(t,e){return t.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function U8(t,e){return t.useProto3Json?e.toBase64():e.toUint8Array()}function oj(t,e){return y0(t,e.toTimestamp())}function vo(t){return un(!!t),Nt.fromTimestamp(function(n){const r=rl(n);return new Qn(r.seconds,r.nanos)}(t))}function dv(t,e){return g2(t,e).canonicalString()}function g2(t,e){const n=function(i){return new _n(["projects",i.projectId,"databases",i.database])}(t).child("documents");return e===void 0?n:n.child(e)}function z8(t){const e=_n.fromString(t);return un(G8(e)),e}function y2(t,e){return dv(t.databaseId,e.path)}function d1(t,e){const n=z8(e);if(n.get(1)!==t.databaseId.projectId)throw new qe(Pe.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+t.databaseId.projectId);if(n.get(3)!==t.databaseId.database)throw new qe(Pe.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+t.databaseId.database);return new at($8(n))}function q8(t,e){return dv(t.databaseId,e)}function aj(t){const e=z8(t);return e.length===4?_n.emptyPath():$8(e)}function v2(t){return new _n(["projects",t.databaseId.projectId,"databases",t.databaseId.database]).canonicalString()}function $8(t){return un(t.length>4&&t.get(4)==="documents"),t.popFirst(5)}function u4(t,e,n){return{name:y2(t,e),fields:n.value.mapValue.fields}}function lj(t,e){let n;if("targetChange"in e){e.targetChange;const r=function(u){return u==="NO_CHANGE"?0:u==="ADD"?1:u==="REMOVE"?2:u==="CURRENT"?3:u==="RESET"?4:bt()}(e.targetChange.targetChangeType||"NO_CHANGE"),i=e.targetChange.targetIds||[],s=function(u,c){return u.useProto3Json?(un(c===void 0||typeof c=="string"),Br.fromBase64String(c||"")):(un(c===void 0||c instanceof Buffer||c instanceof Uint8Array),Br.fromUint8Array(c||new Uint8Array))}(t,e.targetChange.resumeToken),o=e.targetChange.cause,a=o&&function(u){const c=u.code===void 0?Pe.UNKNOWN:O8(u.code);return new qe(c,u.message||"")}(o);n=new B8(r,i,s,a||null)}else if("documentChange"in e){e.documentChange;const r=e.documentChange;r.document,r.document.name,r.document.updateTime;const i=d1(t,r.document.name),s=vo(r.document.updateTime),o=r.document.createTime?vo(r.document.createTime):Nt.min(),a=new Ci({mapValue:{fields:r.document.fields}}),l=ti.newFoundDocument(i,s,o,a),u=r.targetIds||[],c=r.removedTargetIds||[];n=new Sp(u,c,l.key,l)}else if("documentDelete"in e){e.documentDelete;const r=e.documentDelete;r.document;const i=d1(t,r.document),s=r.readTime?vo(r.readTime):Nt.min(),o=ti.newNoDocument(i,s),a=r.removedTargetIds||[];n=new Sp([],a,o.key,o)}else if("documentRemove"in e){e.documentRemove;const r=e.documentRemove;r.document;const i=d1(t,r.document),s=r.removedTargetIds||[];n=new Sp([],s,i,null)}else{if(!("filter"in e))return bt();{e.filter;const r=e.filter;r.targetId;const{count:i=0,unchangedNames:s}=r,o=new XR(i,s),a=r.targetId;n=new V8(a,o)}}return n}function uj(t,e){let n;if(e instanceof Gf)n={update:u4(t,e.key,e.value)};else if(e instanceof sm)n={delete:y2(t,e.key)};else if(e instanceof fl)n={update:u4(t,e.key,e.data),updateMask:vj(e.fieldMask)};else{if(!(e instanceof KR))return bt();n={verify:y2(t,e.key)}}return e.fieldTransforms.length>0&&(n.updateTransforms=e.fieldTransforms.map(r=>function(s,o){const a=o.transform;if(a instanceof m0)return{fieldPath:o.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(a instanceof Nf)return{fieldPath:o.field.canonicalString(),appendMissingElements:{values:a.elements}};if(a instanceof Ef)return{fieldPath:o.field.canonicalString(),removeAllFromArray:{values:a.elements}};if(a instanceof g0)return{fieldPath:o.field.canonicalString(),increment:a.Pe};throw bt()}(0,r))),e.precondition.isNone||(n.currentDocument=function(i,s){return s.updateTime!==void 0?{updateTime:oj(i,s.updateTime)}:s.exists!==void 0?{exists:s.exists}:bt()}(t,e.precondition)),n}function cj(t,e){return t&&t.length>0?(un(e!==void 0),t.map(n=>function(i,s){let o=i.updateTime?vo(i.updateTime):vo(s);return o.isEqual(Nt.min())&&(o=vo(s)),new HR(o,i.transformResults||[])}(n,e))):[]}function hj(t,e){return{documents:[q8(t,e.path)]}}function fj(t,e){const n={structuredQuery:{}},r=e.path;let i;e.collectionGroup!==null?(i=r,n.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(i=r.popLast(),n.structuredQuery.from=[{collectionId:r.lastSegment()}]),n.parent=q8(t,i);const s=function(u){if(u.length!==0)return W8(Us.create(u,"and"))}(e.filters);s&&(n.structuredQuery.where=s);const o=function(u){if(u.length!==0)return u.map(c=>function(g){return{field:Pu(g.field),direction:mj(g.dir)}}(c))}(e.orderBy);o&&(n.structuredQuery.orderBy=o);const a=m2(t,e.limit);return a!==null&&(n.structuredQuery.limit=a),e.startAt&&(n.structuredQuery.startAt=function(u){return{before:u.inclusive,values:u.position}}(e.startAt)),e.endAt&&(n.structuredQuery.endAt=function(u){return{before:!u.inclusive,values:u.position}}(e.endAt)),{_t:n,parent:i}}function dj(t){let e=aj(t.parent);const n=t.structuredQuery,r=n.from?n.from.length:0;let i=null;if(r>0){un(r===1);const c=n.from[0];c.allDescendants?i=c.collectionId:e=e.child(c.collectionId)}let s=[];n.where&&(s=function(d){const g=H8(d);return g instanceof Us&&b8(g)?g.getFilters():[g]}(n.where));let o=[];n.orderBy&&(o=function(d){return d.map(g=>function(b){return new p0(Iu(b.field),function(A){switch(A){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(b.direction))}(g))}(n.orderBy));let a=null;n.limit&&(a=function(d){let g;return g=typeof d=="object"?d.value:d,Z0(g)?null:g}(n.limit));let l=null;n.startAt&&(l=function(d){const g=!!d.before,p=d.values||[];return new d0(p,g)}(n.startAt));let u=null;return n.endAt&&(u=function(d){const g=!d.before,p=d.values||[];return new d0(p,g)}(n.endAt)),LR(e,i,o,s,a,"F",l,u)}function pj(t,e){const n=function(i){switch(i){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return bt()}}(e.purpose);return n==null?null:{"goog-listen-tags":n}}function H8(t){return t.unaryFilter!==void 0?function(n){switch(n.unaryFilter.op){case"IS_NAN":const r=Iu(n.unaryFilter.field);return dr.create(r,"==",{doubleValue:NaN});case"IS_NULL":const i=Iu(n.unaryFilter.field);return dr.create(i,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const s=Iu(n.unaryFilter.field);return dr.create(s,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const o=Iu(n.unaryFilter.field);return dr.create(o,"!=",{nullValue:"NULL_VALUE"});default:return bt()}}(t):t.fieldFilter!==void 0?function(n){return dr.create(Iu(n.fieldFilter.field),function(i){switch(i){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return bt()}}(n.fieldFilter.op),n.fieldFilter.value)}(t):t.compositeFilter!==void 0?function(n){return Us.create(n.compositeFilter.filters.map(r=>H8(r)),function(i){switch(i){case"AND":return"and";case"OR":return"or";default:return bt()}}(n.compositeFilter.op))}(t):bt()}function mj(t){return nj[t]}function gj(t){return rj[t]}function yj(t){return ij[t]}function Pu(t){return{fieldPath:t.canonicalString()}}function Iu(t){return Mr.fromServerFormat(t.fieldPath)}function W8(t){return t instanceof dr?function(n){if(n.op==="=="){if(Qx(n.value))return{unaryFilter:{field:Pu(n.field),op:"IS_NAN"}};if(Kx(n.value))return{unaryFilter:{field:Pu(n.field),op:"IS_NULL"}}}else if(n.op==="!="){if(Qx(n.value))return{unaryFilter:{field:Pu(n.field),op:"IS_NOT_NAN"}};if(Kx(n.value))return{unaryFilter:{field:Pu(n.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:Pu(n.field),op:gj(n.op),value:n.value}}}(t):t instanceof Us?function(n){const r=n.getFilters().map(i=>W8(i));return r.length===1?r[0]:{compositeFilter:{op:yj(n.op),filters:r}}}(t):bt()}function vj(t){const e=[];return t.fields.forEach(n=>e.push(n.canonicalString())),{fieldPaths:e}}function G8(t){return t.length>=4&&t.get(0)==="projects"&&t.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ba{constructor(e,n,r,i,s=Nt.min(),o=Nt.min(),a=Br.EMPTY_BYTE_STRING,l=null){this.target=e,this.targetId=n,this.purpose=r,this.sequenceNumber=i,this.snapshotVersion=s,this.lastLimboFreeSnapshotVersion=o,this.resumeToken=a,this.expectedCount=l}withSequenceNumber(e){return new Ba(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,n){return new Ba(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new Ba(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new Ba(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wj{constructor(e){this.ct=e}}function xj(t){const e=dj({parent:t.parent,structuredQuery:t.structuredQuery});return t.limitType==="LAST"?p2(e,e.limit,"L"):e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bj{constructor(){this.un=new _j}addToCollectionParentIndex(e,n){return this.un.add(n),De.resolve()}getCollectionParents(e,n){return De.resolve(this.un.getEntries(n))}addFieldIndex(e,n){return De.resolve()}deleteFieldIndex(e,n){return De.resolve()}deleteAllFieldIndexes(e){return De.resolve()}createTargetIndexes(e,n){return De.resolve()}getDocumentsMatchingTarget(e,n){return De.resolve(null)}getIndexType(e,n){return De.resolve(0)}getFieldIndexes(e,n){return De.resolve([])}getNextCollectionGroupToUpdate(e){return De.resolve(null)}getMinOffset(e,n){return De.resolve(nl.min())}getMinOffsetFromCollectionGroup(e,n){return De.resolve(nl.min())}updateCollectionGroup(e,n,r){return De.resolve()}updateIndexEntries(e,n){return De.resolve()}}class _j{constructor(){this.index={}}add(e){const n=e.lastSegment(),r=e.popLast(),i=this.index[n]||new Or(_n.comparator),s=!i.has(r);return this.index[n]=i.add(r),s}has(e){const n=e.lastSegment(),r=e.popLast(),i=this.index[n];return i&&i.has(r)}getEntries(e){return(this.index[e]||new Or(_n.comparator)).toArray()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ac{constructor(e){this.Ln=e}next(){return this.Ln+=2,this.Ln}static Bn(){return new Ac(0)}static kn(){return new Ac(-1)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Sj{constructor(){this.changes=new Fc(e=>e.toString(),(e,n)=>e.isEqual(n)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,n){this.assertNotApplied(),this.changes.set(e,ti.newInvalidDocument(e).setReadTime(n))}getEntry(e,n){this.assertNotApplied();const r=this.changes.get(n);return r!==void 0?De.resolve(r):this.getFromCache(e,n)}getEntries(e,n){return this.getAllFromCache(e,n)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Aj{constructor(e,n){this.overlayedDocument=e,this.mutatedFields=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Nj{constructor(e,n,r,i){this.remoteDocumentCache=e,this.mutationQueue=n,this.documentOverlayCache=r,this.indexManager=i}getDocument(e,n){let r=null;return this.documentOverlayCache.getOverlay(e,n).next(i=>(r=i,this.remoteDocumentCache.getEntry(e,n))).next(i=>(r!==null&&$h(r.mutation,i,Ji.empty(),Qn.now()),i))}getDocuments(e,n){return this.remoteDocumentCache.getEntries(e,n).next(r=>this.getLocalViewOfDocuments(e,r,Ft()).next(()=>r))}getLocalViewOfDocuments(e,n,r=Ft()){const i=$l();return this.populateOverlays(e,i,n).next(()=>this.computeViews(e,n,i,r).next(s=>{let o=Ch();return s.forEach((a,l)=>{o=o.insert(a,l.overlayedDocument)}),o}))}getOverlayedDocuments(e,n){const r=$l();return this.populateOverlays(e,r,n).next(()=>this.computeViews(e,n,r,Ft()))}populateOverlays(e,n,r){const i=[];return r.forEach(s=>{n.has(s)||i.push(s)}),this.documentOverlayCache.getOverlays(e,i).next(s=>{s.forEach((o,a)=>{n.set(o,a)})})}computeViews(e,n,r,i){let s=ta();const o=qh(),a=function(){return qh()}();return n.forEach((l,u)=>{const c=r.get(u.key);i.has(u.key)&&(c===void 0||c.mutation instanceof fl)?s=s.insert(u.key,u):c!==void 0?(o.set(u.key,c.mutation.getFieldMask()),$h(c.mutation,u,c.mutation.getFieldMask(),Qn.now())):o.set(u.key,Ji.empty())}),this.recalculateAndSaveOverlays(e,s).next(l=>(l.forEach((u,c)=>o.set(u,c)),n.forEach((u,c)=>{var d;return a.set(u,new Aj(c,(d=o.get(u))!==null&&d!==void 0?d:null))}),a))}recalculateAndSaveOverlays(e,n){const r=qh();let i=new Vn((o,a)=>o-a),s=Ft();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,n).next(o=>{for(const a of o)a.keys().forEach(l=>{const u=n.get(l);if(u===null)return;let c=r.get(l)||Ji.empty();c=a.applyToLocalView(u,c),r.set(l,c);const d=(i.get(a.batchId)||Ft()).add(l);i=i.insert(a.batchId,d)})}).next(()=>{const o=[],a=i.getReverseIterator();for(;a.hasNext();){const l=a.getNext(),u=l.key,c=l.value,d=P8();c.forEach(g=>{if(!s.has(g)){const p=M8(n.get(g),r.get(g));p!==null&&d.set(g,p),s=s.add(g)}}),o.push(this.documentOverlayCache.saveOverlays(e,u,d))}return De.waitFor(o)}).next(()=>r)}recalculateAndSaveOverlaysForDocumentKeys(e,n){return this.remoteDocumentCache.getEntries(e,n).next(r=>this.recalculateAndSaveOverlays(e,r))}getDocumentsMatchingQuery(e,n,r,i){return function(o){return at.isDocumentKey(o.path)&&o.collectionGroup===null&&o.filters.length===0}(n)?this.getDocumentsMatchingDocumentQuery(e,n.path):N8(n)?this.getDocumentsMatchingCollectionGroupQuery(e,n,r,i):this.getDocumentsMatchingCollectionQuery(e,n,r,i)}getNextDocuments(e,n,r,i){return this.remoteDocumentCache.getAllFromCollectionGroup(e,n,r,i).next(s=>{const o=i-s.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,n,r.largestBatchId,i-s.size):De.resolve($l());let a=-1,l=s;return o.next(u=>De.forEach(u,(c,d)=>(a<d.largestBatchId&&(a=d.largestBatchId),s.get(c)?De.resolve():this.remoteDocumentCache.getEntry(e,c).next(g=>{l=l.insert(c,g)}))).next(()=>this.populateOverlays(e,u,s)).next(()=>this.computeViews(e,l,u,Ft())).next(c=>({batchId:a,changes:k8(c)})))})}getDocumentsMatchingDocumentQuery(e,n){return this.getDocument(e,new at(n)).next(r=>{let i=Ch();return r.isFoundDocument()&&(i=i.insert(r.key,r)),i})}getDocumentsMatchingCollectionGroupQuery(e,n,r,i){const s=n.collectionGroup;let o=Ch();return this.indexManager.getCollectionParents(e,s).next(a=>De.forEach(a,l=>{const u=function(d,g){return new Wf(g,null,d.explicitOrderBy.slice(),d.filters.slice(),d.limit,d.limitType,d.startAt,d.endAt)}(n,l.child(s));return this.getDocumentsMatchingCollectionQuery(e,u,r,i).next(c=>{c.forEach((d,g)=>{o=o.insert(d,g)})})}).next(()=>o))}getDocumentsMatchingCollectionQuery(e,n,r,i){let s;return this.documentOverlayCache.getOverlaysForCollection(e,n.path,r.largestBatchId).next(o=>(s=o,this.remoteDocumentCache.getDocumentsMatchingQuery(e,n,r,s,i))).next(o=>{s.forEach((l,u)=>{const c=u.getKey();o.get(c)===null&&(o=o.insert(c,ti.newInvalidDocument(c)))});let a=Ch();return o.forEach((l,u)=>{const c=s.get(l);c!==void 0&&$h(c.mutation,u,Ji.empty(),Qn.now()),nm(n,u)&&(a=a.insert(l,u))}),a})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ej{constructor(e){this.serializer=e,this.hr=new Map,this.Pr=new Map}getBundleMetadata(e,n){return De.resolve(this.hr.get(n))}saveBundleMetadata(e,n){return this.hr.set(n.id,function(i){return{id:i.id,version:i.version,createTime:vo(i.createTime)}}(n)),De.resolve()}getNamedQuery(e,n){return De.resolve(this.Pr.get(n))}saveNamedQuery(e,n){return this.Pr.set(n.name,function(i){return{name:i.name,query:xj(i.bundledQuery),readTime:vo(i.readTime)}}(n)),De.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Tj{constructor(){this.overlays=new Vn(at.comparator),this.Ir=new Map}getOverlay(e,n){return De.resolve(this.overlays.get(n))}getOverlays(e,n){const r=$l();return De.forEach(n,i=>this.getOverlay(e,i).next(s=>{s!==null&&r.set(i,s)})).next(()=>r)}saveOverlays(e,n,r){return r.forEach((i,s)=>{this.ht(e,n,s)}),De.resolve()}removeOverlaysForBatchId(e,n,r){const i=this.Ir.get(r);return i!==void 0&&(i.forEach(s=>this.overlays=this.overlays.remove(s)),this.Ir.delete(r)),De.resolve()}getOverlaysForCollection(e,n,r){const i=$l(),s=n.length+1,o=new at(n.child("")),a=this.overlays.getIteratorFrom(o);for(;a.hasNext();){const l=a.getNext().value,u=l.getKey();if(!n.isPrefixOf(u.path))break;u.path.length===s&&l.largestBatchId>r&&i.set(l.getKey(),l)}return De.resolve(i)}getOverlaysForCollectionGroup(e,n,r,i){let s=new Vn((u,c)=>u-c);const o=this.overlays.getIterator();for(;o.hasNext();){const u=o.getNext().value;if(u.getKey().getCollectionGroup()===n&&u.largestBatchId>r){let c=s.get(u.largestBatchId);c===null&&(c=$l(),s=s.insert(u.largestBatchId,c)),c.set(u.getKey(),u)}}const a=$l(),l=s.getIterator();for(;l.hasNext()&&(l.getNext().value.forEach((u,c)=>a.set(u,c)),!(a.size()>=i)););return De.resolve(a)}ht(e,n,r){const i=this.overlays.get(r.key);if(i!==null){const o=this.Ir.get(i.largestBatchId).delete(r.key);this.Ir.set(i.largestBatchId,o)}this.overlays=this.overlays.insert(r.key,new YR(n,r));let s=this.Ir.get(n);s===void 0&&(s=Ft(),this.Ir.set(n,s)),this.Ir.set(n,s.add(r.key))}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Cj{constructor(){this.sessionToken=Br.EMPTY_BYTE_STRING}getSessionToken(e){return De.resolve(this.sessionToken)}setSessionToken(e,n){return this.sessionToken=n,De.resolve()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pv{constructor(){this.Tr=new Or(Ar.Er),this.dr=new Or(Ar.Ar)}isEmpty(){return this.Tr.isEmpty()}addReference(e,n){const r=new Ar(e,n);this.Tr=this.Tr.add(r),this.dr=this.dr.add(r)}Rr(e,n){e.forEach(r=>this.addReference(r,n))}removeReference(e,n){this.Vr(new Ar(e,n))}mr(e,n){e.forEach(r=>this.removeReference(r,n))}gr(e){const n=new at(new _n([])),r=new Ar(n,e),i=new Ar(n,e+1),s=[];return this.dr.forEachInRange([r,i],o=>{this.Vr(o),s.push(o.key)}),s}pr(){this.Tr.forEach(e=>this.Vr(e))}Vr(e){this.Tr=this.Tr.delete(e),this.dr=this.dr.delete(e)}yr(e){const n=new at(new _n([])),r=new Ar(n,e),i=new Ar(n,e+1);let s=Ft();return this.dr.forEachInRange([r,i],o=>{s=s.add(o.key)}),s}containsKey(e){const n=new Ar(e,0),r=this.Tr.firstAfterOrEqual(n);return r!==null&&e.isEqual(r.key)}}class Ar{constructor(e,n){this.key=e,this.wr=n}static Er(e,n){return at.comparator(e.key,n.key)||Qt(e.wr,n.wr)}static Ar(e,n){return Qt(e.wr,n.wr)||at.comparator(e.key,n.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kj{constructor(e,n){this.indexManager=e,this.referenceDelegate=n,this.mutationQueue=[],this.Sr=1,this.br=new Or(Ar.Er)}checkEmpty(e){return De.resolve(this.mutationQueue.length===0)}addMutationBatch(e,n,r,i){const s=this.Sr;this.Sr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const o=new QR(s,n,r,i);this.mutationQueue.push(o);for(const a of i)this.br=this.br.add(new Ar(a.key,s)),this.indexManager.addToCollectionParentIndex(e,a.key.path.popLast());return De.resolve(o)}lookupMutationBatch(e,n){return De.resolve(this.Dr(n))}getNextMutationBatchAfterBatchId(e,n){const r=n+1,i=this.vr(r),s=i<0?0:i;return De.resolve(this.mutationQueue.length>s?this.mutationQueue[s]:null)}getHighestUnacknowledgedBatchId(){return De.resolve(this.mutationQueue.length===0?-1:this.Sr-1)}getAllMutationBatches(e){return De.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,n){const r=new Ar(n,0),i=new Ar(n,Number.POSITIVE_INFINITY),s=[];return this.br.forEachInRange([r,i],o=>{const a=this.Dr(o.wr);s.push(a)}),De.resolve(s)}getAllMutationBatchesAffectingDocumentKeys(e,n){let r=new Or(Qt);return n.forEach(i=>{const s=new Ar(i,0),o=new Ar(i,Number.POSITIVE_INFINITY);this.br.forEachInRange([s,o],a=>{r=r.add(a.wr)})}),De.resolve(this.Cr(r))}getAllMutationBatchesAffectingQuery(e,n){const r=n.path,i=r.length+1;let s=r;at.isDocumentKey(s)||(s=s.child(""));const o=new Ar(new at(s),0);let a=new Or(Qt);return this.br.forEachWhile(l=>{const u=l.key.path;return!!r.isPrefixOf(u)&&(u.length===i&&(a=a.add(l.wr)),!0)},o),De.resolve(this.Cr(a))}Cr(e){const n=[];return e.forEach(r=>{const i=this.Dr(r);i!==null&&n.push(i)}),n}removeMutationBatch(e,n){un(this.Fr(n.batchId,"removed")===0),this.mutationQueue.shift();let r=this.br;return De.forEach(n.mutations,i=>{const s=new Ar(i.key,n.batchId);return r=r.delete(s),this.referenceDelegate.markPotentiallyOrphaned(e,i.key)}).next(()=>{this.br=r})}On(e){}containsKey(e,n){const r=new Ar(n,0),i=this.br.firstAfterOrEqual(r);return De.resolve(n.isEqual(i&&i.key))}performConsistencyCheck(e){return this.mutationQueue.length,De.resolve()}Fr(e,n){return this.vr(e)}vr(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Dr(e){const n=this.vr(e);return n<0||n>=this.mutationQueue.length?null:this.mutationQueue[n]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Pj{constructor(e){this.Mr=e,this.docs=function(){return new Vn(at.comparator)}(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,n){const r=n.key,i=this.docs.get(r),s=i?i.size:0,o=this.Mr(n);return this.docs=this.docs.insert(r,{document:n.mutableCopy(),size:o}),this.size+=o-s,this.indexManager.addToCollectionParentIndex(e,r.path.popLast())}removeEntry(e){const n=this.docs.get(e);n&&(this.docs=this.docs.remove(e),this.size-=n.size)}getEntry(e,n){const r=this.docs.get(n);return De.resolve(r?r.document.mutableCopy():ti.newInvalidDocument(n))}getEntries(e,n){let r=ta();return n.forEach(i=>{const s=this.docs.get(i);r=r.insert(i,s?s.document.mutableCopy():ti.newInvalidDocument(i))}),De.resolve(r)}getDocumentsMatchingQuery(e,n,r,i){let s=ta();const o=n.path,a=new at(o.child("")),l=this.docs.getIteratorFrom(a);for(;l.hasNext();){const{key:u,value:{document:c}}=l.getNext();if(!o.isPrefixOf(u.path))break;u.path.length>o.length+1||dR(fR(c),r)<=0||(i.has(c.key)||nm(n,c))&&(s=s.insert(c.key,c.mutableCopy()))}return De.resolve(s)}getAllFromCollectionGroup(e,n,r,i){bt()}Or(e,n){return De.forEach(this.docs,r=>n(r))}newChangeBuffer(e){return new Ij(this)}getSize(e){return De.resolve(this.size)}}class Ij extends Sj{constructor(e){super(),this.cr=e}applyChanges(e){const n=[];return this.changes.forEach((r,i)=>{i.isValidDocument()?n.push(this.cr.addEntry(e,i)):this.cr.removeEntry(r)}),De.waitFor(n)}getFromCache(e,n){return this.cr.getEntry(e,n)}getAllFromCache(e,n){return this.cr.getEntries(e,n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Lj{constructor(e){this.persistence=e,this.Nr=new Fc(n=>lv(n),uv),this.lastRemoteSnapshotVersion=Nt.min(),this.highestTargetId=0,this.Lr=0,this.Br=new pv,this.targetCount=0,this.kr=Ac.Bn()}forEachTarget(e,n){return this.Nr.forEach((r,i)=>n(i)),De.resolve()}getLastRemoteSnapshotVersion(e){return De.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return De.resolve(this.Lr)}allocateTargetId(e){return this.highestTargetId=this.kr.next(),De.resolve(this.highestTargetId)}setTargetsMetadata(e,n,r){return r&&(this.lastRemoteSnapshotVersion=r),n>this.Lr&&(this.Lr=n),De.resolve()}Kn(e){this.Nr.set(e.target,e);const n=e.targetId;n>this.highestTargetId&&(this.kr=new Ac(n),this.highestTargetId=n),e.sequenceNumber>this.Lr&&(this.Lr=e.sequenceNumber)}addTargetData(e,n){return this.Kn(n),this.targetCount+=1,De.resolve()}updateTargetData(e,n){return this.Kn(n),De.resolve()}removeTargetData(e,n){return this.Nr.delete(n.target),this.Br.gr(n.targetId),this.targetCount-=1,De.resolve()}removeTargets(e,n,r){let i=0;const s=[];return this.Nr.forEach((o,a)=>{a.sequenceNumber<=n&&r.get(a.targetId)===null&&(this.Nr.delete(o),s.push(this.removeMatchingKeysForTargetId(e,a.targetId)),i++)}),De.waitFor(s).next(()=>i)}getTargetCount(e){return De.resolve(this.targetCount)}getTargetData(e,n){const r=this.Nr.get(n)||null;return De.resolve(r)}addMatchingKeys(e,n,r){return this.Br.Rr(n,r),De.resolve()}removeMatchingKeys(e,n,r){this.Br.mr(n,r);const i=this.persistence.referenceDelegate,s=[];return i&&n.forEach(o=>{s.push(i.markPotentiallyOrphaned(e,o))}),De.waitFor(s)}removeMatchingKeysForTargetId(e,n){return this.Br.gr(n),De.resolve()}getMatchingKeysForTargetId(e,n){const r=this.Br.yr(n);return De.resolve(r)}containsKey(e,n){return De.resolve(this.Br.containsKey(n))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Rj{constructor(e,n){this.qr={},this.overlays={},this.Qr=new iv(0),this.Kr=!1,this.Kr=!0,this.$r=new Cj,this.referenceDelegate=e(this),this.Ur=new Lj(this),this.indexManager=new bj,this.remoteDocumentCache=function(i){return new Pj(i)}(r=>this.referenceDelegate.Wr(r)),this.serializer=new wj(n),this.Gr=new Ej(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.Kr=!1,Promise.resolve()}get started(){return this.Kr}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let n=this.overlays[e.toKey()];return n||(n=new Tj,this.overlays[e.toKey()]=n),n}getMutationQueue(e,n){let r=this.qr[e.toKey()];return r||(r=new kj(n,this.referenceDelegate),this.qr[e.toKey()]=r),r}getGlobalsCache(){return this.$r}getTargetCache(){return this.Ur}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Gr}runTransaction(e,n,r){Ye("MemoryPersistence","Starting transaction:",e);const i=new jj(this.Qr.next());return this.referenceDelegate.zr(),r(i).next(s=>this.referenceDelegate.jr(i).next(()=>s)).toPromise().then(s=>(i.raiseOnCommittedEvent(),s))}Hr(e,n){return De.or(Object.values(this.qr).map(r=>()=>r.containsKey(e,n)))}}class jj extends mR{constructor(e){super(),this.currentSequenceNumber=e}}class mv{constructor(e){this.persistence=e,this.Jr=new pv,this.Yr=null}static Zr(e){return new mv(e)}get Xr(){if(this.Yr)return this.Yr;throw bt()}addReference(e,n,r){return this.Jr.addReference(r,n),this.Xr.delete(r.toString()),De.resolve()}removeReference(e,n,r){return this.Jr.removeReference(r,n),this.Xr.add(r.toString()),De.resolve()}markPotentiallyOrphaned(e,n){return this.Xr.add(n.toString()),De.resolve()}removeTarget(e,n){this.Jr.gr(n.targetId).forEach(i=>this.Xr.add(i.toString()));const r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(e,n.targetId).next(i=>{i.forEach(s=>this.Xr.add(s.toString()))}).next(()=>r.removeTargetData(e,n))}zr(){this.Yr=new Set}jr(e){const n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return De.forEach(this.Xr,r=>{const i=at.fromPath(r);return this.ei(e,i).next(s=>{s||n.removeEntry(i,Nt.min())})}).next(()=>(this.Yr=null,n.apply(e)))}updateLimboDocument(e,n){return this.ei(e,n).next(r=>{r?this.Xr.delete(n.toString()):this.Xr.add(n.toString())})}Wr(e){return 0}ei(e,n){return De.or([()=>De.resolve(this.Jr.containsKey(n)),()=>this.persistence.getTargetCache().containsKey(e,n),()=>this.persistence.Hr(e,n)])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gv{constructor(e,n,r,i){this.targetId=e,this.fromCache=n,this.$i=r,this.Ui=i}static Wi(e,n){let r=Ft(),i=Ft();for(const s of n.docChanges)switch(s.type){case 0:r=r.add(s.doc.key);break;case 1:i=i.add(s.doc.key)}return new gv(e,n.fromCache,r,i)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Dj{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Mj{constructor(){this.Gi=!1,this.zi=!1,this.ji=100,this.Hi=function(){return OI()?8:gR(MI())>0?6:4}()}initialize(e,n){this.Ji=e,this.indexManager=n,this.Gi=!0}getDocumentsMatchingQuery(e,n,r,i){const s={result:null};return this.Yi(e,n).next(o=>{s.result=o}).next(()=>{if(!s.result)return this.Zi(e,n,i,r).next(o=>{s.result=o})}).next(()=>{if(s.result)return;const o=new Dj;return this.Xi(e,n,o).next(a=>{if(s.result=a,this.zi)return this.es(e,n,o,a.size)})}).next(()=>s.result)}es(e,n,r,i){return r.documentReadCount<this.ji?(vh()<=Wt.DEBUG&&Ye("QueryEngine","SDK will not create cache indexes for query:",ku(n),"since it only creates cache indexes for collection contains","more than or equal to",this.ji,"documents"),De.resolve()):(vh()<=Wt.DEBUG&&Ye("QueryEngine","Query:",ku(n),"scans",r.documentReadCount,"local documents and returns",i,"documents as results."),r.documentReadCount>this.Hi*i?(vh()<=Wt.DEBUG&&Ye("QueryEngine","The SDK decides to create cache indexes for query:",ku(n),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,yo(n))):De.resolve())}Yi(e,n){if(Zx(n))return De.resolve(null);let r=yo(n);return this.indexManager.getIndexType(e,r).next(i=>i===0?null:(n.limit!==null&&i===1&&(n=p2(n,null,"F"),r=yo(n)),this.indexManager.getDocumentsMatchingTarget(e,r).next(s=>{const o=Ft(...s);return this.Ji.getDocuments(e,o).next(a=>this.indexManager.getMinOffset(e,r).next(l=>{const u=this.ts(n,a);return this.ns(n,u,o,l.readTime)?this.Yi(e,p2(n,null,"F")):this.rs(e,u,n,l)}))})))}Zi(e,n,r,i){return Zx(n)||i.isEqual(Nt.min())?De.resolve(null):this.Ji.getDocuments(e,r).next(s=>{const o=this.ts(n,s);return this.ns(n,o,r,i)?De.resolve(null):(vh()<=Wt.DEBUG&&Ye("QueryEngine","Re-using previous result from %s to execute query: %s",i.toString(),ku(n)),this.rs(e,o,n,hR(i,-1)).next(a=>a))})}ts(e,n){let r=new Or(T8(e));return n.forEach((i,s)=>{nm(e,s)&&(r=r.add(s))}),r}ns(e,n,r,i){if(e.limit===null)return!1;if(r.size!==n.size)return!0;const s=e.limitType==="F"?n.last():n.first();return!!s&&(s.hasPendingWrites||s.version.compareTo(i)>0)}Xi(e,n,r){return vh()<=Wt.DEBUG&&Ye("QueryEngine","Using full collection scan to execute query:",ku(n)),this.Ji.getDocumentsMatchingQuery(e,n,nl.min(),r)}rs(e,n,r,i){return this.Ji.getDocumentsMatchingQuery(e,r,i).next(s=>(n.forEach(o=>{s=s.insert(o.key,o)}),s))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fj{constructor(e,n,r,i){this.persistence=e,this.ss=n,this.serializer=i,this.os=new Vn(Qt),this._s=new Fc(s=>lv(s),uv),this.us=new Map,this.cs=e.getRemoteDocumentCache(),this.Ur=e.getTargetCache(),this.Gr=e.getBundleCache(),this.ls(r)}ls(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new Nj(this.cs,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.cs.setIndexManager(this.indexManager),this.ss.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",n=>e.collect(n,this.os))}}function Oj(t,e,n,r){return new Fj(t,e,n,r)}async function K8(t,e){const n=Et(t);return await n.persistence.runTransaction("Handle user change","readonly",r=>{let i;return n.mutationQueue.getAllMutationBatches(r).next(s=>(i=s,n.ls(e),n.mutationQueue.getAllMutationBatches(r))).next(s=>{const o=[],a=[];let l=Ft();for(const u of i){o.push(u.batchId);for(const c of u.mutations)l=l.add(c.key)}for(const u of s){a.push(u.batchId);for(const c of u.mutations)l=l.add(c.key)}return n.localDocuments.getDocuments(r,l).next(u=>({hs:u,removedBatchIds:o,addedBatchIds:a}))})})}function Vj(t,e){const n=Et(t);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",r=>{const i=e.batch.keys(),s=n.cs.newChangeBuffer({trackRemovals:!0});return function(a,l,u,c){const d=u.batch,g=d.keys();let p=De.resolve();return g.forEach(b=>{p=p.next(()=>c.getEntry(l,b)).next(x=>{const A=u.docVersions.get(b);un(A!==null),x.version.compareTo(A)<0&&(d.applyToRemoteDocument(x,u),x.isValidDocument()&&(x.setReadTime(u.commitVersion),c.addEntry(x)))})}),p.next(()=>a.mutationQueue.removeMutationBatch(l,d))}(n,r,e,s).next(()=>s.apply(r)).next(()=>n.mutationQueue.performConsistencyCheck(r)).next(()=>n.documentOverlayCache.removeOverlaysForBatchId(r,i,e.batch.batchId)).next(()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(r,function(a){let l=Ft();for(let u=0;u<a.mutationResults.length;++u)a.mutationResults[u].transformResults.length>0&&(l=l.add(a.batch.mutations[u].key));return l}(e))).next(()=>n.localDocuments.getDocuments(r,i))})}function Q8(t){const e=Et(t);return e.persistence.runTransaction("Get last remote snapshot version","readonly",n=>e.Ur.getLastRemoteSnapshotVersion(n))}function Bj(t,e){const n=Et(t),r=e.snapshotVersion;let i=n.os;return n.persistence.runTransaction("Apply remote event","readwrite-primary",s=>{const o=n.cs.newChangeBuffer({trackRemovals:!0});i=n.os;const a=[];e.targetChanges.forEach((c,d)=>{const g=i.get(d);if(!g)return;a.push(n.Ur.removeMatchingKeys(s,c.removedDocuments,d).next(()=>n.Ur.addMatchingKeys(s,c.addedDocuments,d)));let p=g.withSequenceNumber(s.currentSequenceNumber);e.targetMismatches.get(d)!==null?p=p.withResumeToken(Br.EMPTY_BYTE_STRING,Nt.min()).withLastLimboFreeSnapshotVersion(Nt.min()):c.resumeToken.approximateByteSize()>0&&(p=p.withResumeToken(c.resumeToken,r)),i=i.insert(d,p),function(x,A,v){return x.resumeToken.approximateByteSize()===0||A.snapshotVersion.toMicroseconds()-x.snapshotVersion.toMicroseconds()>=3e8?!0:v.addedDocuments.size+v.modifiedDocuments.size+v.removedDocuments.size>0}(g,p,c)&&a.push(n.Ur.updateTargetData(s,p))});let l=ta(),u=Ft();if(e.documentUpdates.forEach(c=>{e.resolvedLimboDocuments.has(c)&&a.push(n.persistence.referenceDelegate.updateLimboDocument(s,c))}),a.push(Uj(s,o,e.documentUpdates).next(c=>{l=c.Ps,u=c.Is})),!r.isEqual(Nt.min())){const c=n.Ur.getLastRemoteSnapshotVersion(s).next(d=>n.Ur.setTargetsMetadata(s,s.currentSequenceNumber,r));a.push(c)}return De.waitFor(a).next(()=>o.apply(s)).next(()=>n.localDocuments.getLocalViewOfDocuments(s,l,u)).next(()=>l)}).then(s=>(n.os=i,s))}function Uj(t,e,n){let r=Ft(),i=Ft();return n.forEach(s=>r=r.add(s)),e.getEntries(t,r).next(s=>{let o=ta();return n.forEach((a,l)=>{const u=s.get(a);l.isFoundDocument()!==u.isFoundDocument()&&(i=i.add(a)),l.isNoDocument()&&l.version.isEqual(Nt.min())?(e.removeEntry(a,l.readTime),o=o.insert(a,l)):!u.isValidDocument()||l.version.compareTo(u.version)>0||l.version.compareTo(u.version)===0&&u.hasPendingWrites?(e.addEntry(l),o=o.insert(a,l)):Ye("LocalStore","Ignoring outdated watch update for ",a,". Current version:",u.version," Watch version:",l.version)}),{Ps:o,Is:i}})}function zj(t,e){const n=Et(t);return n.persistence.runTransaction("Get next mutation batch","readonly",r=>(e===void 0&&(e=-1),n.mutationQueue.getNextMutationBatchAfterBatchId(r,e)))}function qj(t,e){const n=Et(t);return n.persistence.runTransaction("Allocate target","readwrite",r=>{let i;return n.Ur.getTargetData(r,e).next(s=>s?(i=s,De.resolve(i)):n.Ur.allocateTargetId(r).next(o=>(i=new Ba(e,o,"TargetPurposeListen",r.currentSequenceNumber),n.Ur.addTargetData(r,i).next(()=>i))))}).then(r=>{const i=n.os.get(r.targetId);return(i===null||r.snapshotVersion.compareTo(i.snapshotVersion)>0)&&(n.os=n.os.insert(r.targetId,r),n._s.set(e,r.targetId)),r})}async function w2(t,e,n){const r=Et(t),i=r.os.get(e),s=n?"readwrite":"readwrite-primary";try{n||await r.persistence.runTransaction("Release target",s,o=>r.persistence.referenceDelegate.removeTarget(o,i))}catch(o){if(!Hf(o))throw o;Ye("LocalStore",`Failed to update sequence numbers for target ${e}: ${o}`)}r.os=r.os.remove(e),r._s.delete(i.target)}function c4(t,e,n){const r=Et(t);let i=Nt.min(),s=Ft();return r.persistence.runTransaction("Execute query","readwrite",o=>function(l,u,c){const d=Et(l),g=d._s.get(c);return g!==void 0?De.resolve(d.os.get(g)):d.Ur.getTargetData(u,c)}(r,o,yo(e)).next(a=>{if(a)return i=a.lastLimboFreeSnapshotVersion,r.Ur.getMatchingKeysForTargetId(o,a.targetId).next(l=>{s=l})}).next(()=>r.ss.getDocumentsMatchingQuery(o,e,n?i:Nt.min(),n?s:Ft())).next(a=>($j(r,jR(e),a),{documents:a,Ts:s})))}function $j(t,e,n){let r=t.us.get(e)||Nt.min();n.forEach((i,s)=>{s.readTime.compareTo(r)>0&&(r=s.readTime)}),t.us.set(e,r)}class h4{constructor(){this.activeTargetIds=BR()}fs(e){this.activeTargetIds=this.activeTargetIds.add(e)}gs(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Vs(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class Hj{constructor(){this.so=new h4,this.oo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,n,r){}addLocalQueryTarget(e,n=!0){return n&&this.so.fs(e),this.oo[e]||"not-current"}updateQueryState(e,n,r){this.oo[e]=n}removeLocalQueryTarget(e){this.so.gs(e)}isLocalQueryTarget(e){return this.so.activeTargetIds.has(e)}clearQueryState(e){delete this.oo[e]}getAllActiveQueryTargets(){return this.so.activeTargetIds}isActiveQueryTarget(e){return this.so.activeTargetIds.has(e)}start(){return this.so=new h4,Promise.resolve()}handleUserChange(e,n,r){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wj{_o(e){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class f4{constructor(){this.ao=()=>this.uo(),this.co=()=>this.lo(),this.ho=[],this.Po()}_o(e){this.ho.push(e)}shutdown(){window.removeEventListener("online",this.ao),window.removeEventListener("offline",this.co)}Po(){window.addEventListener("online",this.ao),window.addEventListener("offline",this.co)}uo(){Ye("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(const e of this.ho)e(0)}lo(){Ye("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(const e of this.ho)e(1)}static D(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Kd=null;function p1(){return Kd===null?Kd=function(){return 268435456+Math.round(2147483648*Math.random())}():Kd++,"0x"+Kd.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Gj={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Kj{constructor(e){this.Io=e.Io,this.To=e.To}Eo(e){this.Ao=e}Ro(e){this.Vo=e}mo(e){this.fo=e}onMessage(e){this.po=e}close(){this.To()}send(e){this.Io(e)}yo(){this.Ao()}wo(){this.Vo()}So(e){this.fo(e)}bo(e){this.po(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Kr="WebChannelConnection";class Qj extends class{constructor(n){this.databaseInfo=n,this.databaseId=n.databaseId;const r=n.ssl?"https":"http",i=encodeURIComponent(this.databaseId.projectId),s=encodeURIComponent(this.databaseId.database);this.Do=r+"://"+n.host,this.vo=`projects/${i}/databases/${s}`,this.Co=this.databaseId.database==="(default)"?`project_id=${i}`:`project_id=${i}&database_id=${s}`}get Fo(){return!1}Mo(n,r,i,s,o){const a=p1(),l=this.xo(n,r.toUriEncodedString());Ye("RestConnection",`Sending RPC '${n}' ${a}:`,l,i);const u={"google-cloud-resource-prefix":this.vo,"x-goog-request-params":this.Co};return this.Oo(u,s,o),this.No(n,l,u,i).then(c=>(Ye("RestConnection",`Received RPC '${n}' ${a}: `,c),c),c=>{throw xc("RestConnection",`RPC '${n}' ${a} failed with error: `,c,"url: ",l,"request:",i),c})}Lo(n,r,i,s,o,a){return this.Mo(n,r,i,s,o)}Oo(n,r,i){n["X-Goog-Api-Client"]=function(){return"gl-js/ fire/"+Mc}(),n["Content-Type"]="text/plain",this.databaseInfo.appId&&(n["X-Firebase-GMPID"]=this.databaseInfo.appId),r&&r.headers.forEach((s,o)=>n[o]=s),i&&i.headers.forEach((s,o)=>n[o]=s)}xo(n,r){const i=Gj[n];return`${this.Do}/v1/${r}:${i}`}terminate(){}}{constructor(e){super(e),this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}No(e,n,r,i){const s=p1();return new Promise((o,a)=>{const l=new u8;l.setWithCredentials(!0),l.listenOnce(c8.COMPLETE,()=>{try{switch(l.getLastErrorCode()){case xp.NO_ERROR:const c=l.getResponseJson();Ye(Kr,`XHR for RPC '${e}' ${s} received:`,JSON.stringify(c)),o(c);break;case xp.TIMEOUT:Ye(Kr,`RPC '${e}' ${s} timed out`),a(new qe(Pe.DEADLINE_EXCEEDED,"Request time out"));break;case xp.HTTP_ERROR:const d=l.getStatus();if(Ye(Kr,`RPC '${e}' ${s} failed with status:`,d,"response text:",l.getResponseText()),d>0){let g=l.getResponseJson();Array.isArray(g)&&(g=g[0]);const p=g==null?void 0:g.error;if(p&&p.status&&p.message){const b=function(A){const v=A.toLowerCase().replace(/_/g,"-");return Object.values(Pe).indexOf(v)>=0?v:Pe.UNKNOWN}(p.status);a(new qe(b,p.message))}else a(new qe(Pe.UNKNOWN,"Server responded with status "+l.getStatus()))}else a(new qe(Pe.UNAVAILABLE,"Connection failed."));break;default:bt()}}finally{Ye(Kr,`RPC '${e}' ${s} completed.`)}});const u=JSON.stringify(i);Ye(Kr,`RPC '${e}' ${s} sending request:`,i),l.send(n,"POST",u,r,15)})}Bo(e,n,r){const i=p1(),s=[this.Do,"/","google.firestore.v1.Firestore","/",e,"/channel"],o=d8(),a=f8(),l={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},u=this.longPollingOptions.timeoutSeconds;u!==void 0&&(l.longPollingTimeout=Math.round(1e3*u)),this.useFetchStreams&&(l.useFetchStreams=!0),this.Oo(l.initMessageHeaders,n,r),l.encodeInitMessageHeaders=!0;const c=s.join("");Ye(Kr,`Creating RPC '${e}' stream ${i}: ${c}`,l);const d=o.createWebChannel(c,l);let g=!1,p=!1;const b=new Kj({Io:A=>{p?Ye(Kr,`Not sending because RPC '${e}' stream ${i} is closed:`,A):(g||(Ye(Kr,`Opening RPC '${e}' stream ${i} transport.`),d.open(),g=!0),Ye(Kr,`RPC '${e}' stream ${i} sending:`,A),d.send(A))},To:()=>d.close()}),x=(A,v,_)=>{A.listen(v,T=>{try{_(T)}catch(R){setTimeout(()=>{throw R},0)}})};return x(d,Th.EventType.OPEN,()=>{p||(Ye(Kr,`RPC '${e}' stream ${i} transport opened.`),b.yo())}),x(d,Th.EventType.CLOSE,()=>{p||(p=!0,Ye(Kr,`RPC '${e}' stream ${i} transport closed`),b.So())}),x(d,Th.EventType.ERROR,A=>{p||(p=!0,xc(Kr,`RPC '${e}' stream ${i} transport errored:`,A),b.So(new qe(Pe.UNAVAILABLE,"The operation could not be completed")))}),x(d,Th.EventType.MESSAGE,A=>{var v;if(!p){const _=A.data[0];un(!!_);const T=_,R=T.error||((v=T[0])===null||v===void 0?void 0:v.error);if(R){Ye(Kr,`RPC '${e}' stream ${i} received error:`,R);const z=R.status;let K=function(P){const M=cr[P];if(M!==void 0)return O8(M)}(z),k=R.message;K===void 0&&(K=Pe.INTERNAL,k="Unknown error status: "+z+" with message "+R.message),p=!0,b.So(new qe(K,k)),d.close()}else Ye(Kr,`RPC '${e}' stream ${i} received:`,_),b.bo(_)}}),x(a,h8.STAT_EVENT,A=>{A.stat===l2.PROXY?Ye(Kr,`RPC '${e}' stream ${i} detected buffering proxy`):A.stat===l2.NOPROXY&&Ye(Kr,`RPC '${e}' stream ${i} detected no buffering proxy`)}),setTimeout(()=>{b.wo()},0),b}}function m1(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function am(t){return new sj(t,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Y8{constructor(e,n,r=1e3,i=1.5,s=6e4){this.ui=e,this.timerId=n,this.ko=r,this.qo=i,this.Qo=s,this.Ko=0,this.$o=null,this.Uo=Date.now(),this.reset()}reset(){this.Ko=0}Wo(){this.Ko=this.Qo}Go(e){this.cancel();const n=Math.floor(this.Ko+this.zo()),r=Math.max(0,Date.now()-this.Uo),i=Math.max(0,n-r);i>0&&Ye("ExponentialBackoff",`Backing off for ${i} ms (base delay: ${this.Ko} ms, delay with jitter: ${n} ms, last attempt: ${r} ms ago)`),this.$o=this.ui.enqueueAfterDelay(this.timerId,i,()=>(this.Uo=Date.now(),e())),this.Ko*=this.qo,this.Ko<this.ko&&(this.Ko=this.ko),this.Ko>this.Qo&&(this.Ko=this.Qo)}jo(){this.$o!==null&&(this.$o.skipDelay(),this.$o=null)}cancel(){this.$o!==null&&(this.$o.cancel(),this.$o=null)}zo(){return(Math.random()-.5)*this.Ko}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class X8{constructor(e,n,r,i,s,o,a,l){this.ui=e,this.Ho=r,this.Jo=i,this.connection=s,this.authCredentialsProvider=o,this.appCheckCredentialsProvider=a,this.listener=l,this.state=0,this.Yo=0,this.Zo=null,this.Xo=null,this.stream=null,this.e_=0,this.t_=new Y8(e,n)}n_(){return this.state===1||this.state===5||this.r_()}r_(){return this.state===2||this.state===3}start(){this.e_=0,this.state!==4?this.auth():this.i_()}async stop(){this.n_()&&await this.close(0)}s_(){this.state=0,this.t_.reset()}o_(){this.r_()&&this.Zo===null&&(this.Zo=this.ui.enqueueAfterDelay(this.Ho,6e4,()=>this.__()))}a_(e){this.u_(),this.stream.send(e)}async __(){if(this.r_())return this.close(0)}u_(){this.Zo&&(this.Zo.cancel(),this.Zo=null)}c_(){this.Xo&&(this.Xo.cancel(),this.Xo=null)}async close(e,n){this.u_(),this.c_(),this.t_.cancel(),this.Yo++,e!==4?this.t_.reset():n&&n.code===Pe.RESOURCE_EXHAUSTED?(ea(n.toString()),ea("Using maximum backoff delay to prevent overloading the backend."),this.t_.Wo()):n&&n.code===Pe.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.l_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.mo(n)}l_(){}auth(){this.state=1;const e=this.h_(this.Yo),n=this.Yo;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([r,i])=>{this.Yo===n&&this.P_(r,i)},r=>{e(()=>{const i=new qe(Pe.UNKNOWN,"Fetching auth token failed: "+r.message);return this.I_(i)})})}P_(e,n){const r=this.h_(this.Yo);this.stream=this.T_(e,n),this.stream.Eo(()=>{r(()=>this.listener.Eo())}),this.stream.Ro(()=>{r(()=>(this.state=2,this.Xo=this.ui.enqueueAfterDelay(this.Jo,1e4,()=>(this.r_()&&(this.state=3),Promise.resolve())),this.listener.Ro()))}),this.stream.mo(i=>{r(()=>this.I_(i))}),this.stream.onMessage(i=>{r(()=>++this.e_==1?this.E_(i):this.onNext(i))})}i_(){this.state=5,this.t_.Go(async()=>{this.state=0,this.start()})}I_(e){return Ye("PersistentStream",`close with error: ${e}`),this.stream=null,this.close(4,e)}h_(e){return n=>{this.ui.enqueueAndForget(()=>this.Yo===e?n():(Ye("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class Yj extends X8{constructor(e,n,r,i,s,o){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",n,r,i,o),this.serializer=s}T_(e,n){return this.connection.Bo("Listen",e,n)}E_(e){return this.onNext(e)}onNext(e){this.t_.reset();const n=lj(this.serializer,e),r=function(s){if(!("targetChange"in s))return Nt.min();const o=s.targetChange;return o.targetIds&&o.targetIds.length?Nt.min():o.readTime?vo(o.readTime):Nt.min()}(e);return this.listener.d_(n,r)}A_(e){const n={};n.database=v2(this.serializer),n.addTarget=function(s,o){let a;const l=o.target;if(a=f2(l)?{documents:hj(s,l)}:{query:fj(s,l)._t},a.targetId=o.targetId,o.resumeToken.approximateByteSize()>0){a.resumeToken=U8(s,o.resumeToken);const u=m2(s,o.expectedCount);u!==null&&(a.expectedCount=u)}else if(o.snapshotVersion.compareTo(Nt.min())>0){a.readTime=y0(s,o.snapshotVersion.toTimestamp());const u=m2(s,o.expectedCount);u!==null&&(a.expectedCount=u)}return a}(this.serializer,e);const r=pj(this.serializer,e);r&&(n.labels=r),this.a_(n)}R_(e){const n={};n.database=v2(this.serializer),n.removeTarget=e,this.a_(n)}}class Xj extends X8{constructor(e,n,r,i,s,o){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",n,r,i,o),this.serializer=s}get V_(){return this.e_>0}start(){this.lastStreamToken=void 0,super.start()}l_(){this.V_&&this.m_([])}T_(e,n){return this.connection.Bo("Write",e,n)}E_(e){return un(!!e.streamToken),this.lastStreamToken=e.streamToken,un(!e.writeResults||e.writeResults.length===0),this.listener.f_()}onNext(e){un(!!e.streamToken),this.lastStreamToken=e.streamToken,this.t_.reset();const n=cj(e.writeResults,e.commitTime),r=vo(e.commitTime);return this.listener.g_(r,n)}p_(){const e={};e.database=v2(this.serializer),this.a_(e)}m_(e){const n={streamToken:this.lastStreamToken,writes:e.map(r=>uj(this.serializer,r))};this.a_(n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Jj extends class{}{constructor(e,n,r,i){super(),this.authCredentials=e,this.appCheckCredentials=n,this.connection=r,this.serializer=i,this.y_=!1}w_(){if(this.y_)throw new qe(Pe.FAILED_PRECONDITION,"The client has already been terminated.")}Mo(e,n,r,i){return this.w_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([s,o])=>this.connection.Mo(e,g2(n,r),i,s,o)).catch(s=>{throw s.name==="FirebaseError"?(s.code===Pe.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),s):new qe(Pe.UNKNOWN,s.toString())})}Lo(e,n,r,i,s){return this.w_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([o,a])=>this.connection.Lo(e,g2(n,r),i,o,a,s)).catch(o=>{throw o.name==="FirebaseError"?(o.code===Pe.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),o):new qe(Pe.UNKNOWN,o.toString())})}terminate(){this.y_=!0,this.connection.terminate()}}class Zj{constructor(e,n){this.asyncQueue=e,this.onlineStateHandler=n,this.state="Unknown",this.S_=0,this.b_=null,this.D_=!0}v_(){this.S_===0&&(this.C_("Unknown"),this.b_=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.b_=null,this.F_("Backend didn't respond within 10 seconds."),this.C_("Offline"),Promise.resolve())))}M_(e){this.state==="Online"?this.C_("Unknown"):(this.S_++,this.S_>=1&&(this.x_(),this.F_(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.C_("Offline")))}set(e){this.x_(),this.S_=0,e==="Online"&&(this.D_=!1),this.C_(e)}C_(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}F_(e){const n=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.D_?(ea(n),this.D_=!1):Ye("OnlineStateTracker",n)}x_(){this.b_!==null&&(this.b_.cancel(),this.b_=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class e9{constructor(e,n,r,i,s){this.localStore=e,this.datastore=n,this.asyncQueue=r,this.remoteSyncer={},this.O_=[],this.N_=new Map,this.L_=new Set,this.B_=[],this.k_=s,this.k_._o(o=>{r.enqueueAndForget(async()=>{mu(this)&&(Ye("RemoteStore","Restarting streams for network reachability change."),await async function(l){const u=Et(l);u.L_.add(4),await Qf(u),u.q_.set("Unknown"),u.L_.delete(4),await lm(u)}(this))})}),this.q_=new Zj(r,i)}}async function lm(t){if(mu(t))for(const e of t.B_)await e(!0)}async function Qf(t){for(const e of t.B_)await e(!1)}function J8(t,e){const n=Et(t);n.N_.has(e.targetId)||(n.N_.set(e.targetId,e),xv(n)?wv(n):Oc(n).r_()&&vv(n,e))}function yv(t,e){const n=Et(t),r=Oc(n);n.N_.delete(e),r.r_()&&Z8(n,e),n.N_.size===0&&(r.r_()?r.o_():mu(n)&&n.q_.set("Unknown"))}function vv(t,e){if(t.Q_.xe(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(Nt.min())>0){const n=t.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(n)}Oc(t).A_(e)}function Z8(t,e){t.Q_.xe(e),Oc(t).R_(e)}function wv(t){t.Q_=new tj({getRemoteKeysForTarget:e=>t.remoteSyncer.getRemoteKeysForTarget(e),ot:e=>t.N_.get(e)||null,tt:()=>t.datastore.serializer.databaseId}),Oc(t).start(),t.q_.v_()}function xv(t){return mu(t)&&!Oc(t).n_()&&t.N_.size>0}function mu(t){return Et(t).L_.size===0}function eA(t){t.Q_=void 0}async function t9(t){t.q_.set("Online")}async function n9(t){t.N_.forEach((e,n)=>{vv(t,e)})}async function r9(t,e){eA(t),xv(t)?(t.q_.M_(e),wv(t)):t.q_.set("Unknown")}async function i9(t,e,n){if(t.q_.set("Online"),e instanceof B8&&e.state===2&&e.cause)try{await async function(i,s){const o=s.cause;for(const a of s.targetIds)i.N_.has(a)&&(await i.remoteSyncer.rejectListen(a,o),i.N_.delete(a),i.Q_.removeTarget(a))}(t,e)}catch(r){Ye("RemoteStore","Failed to remove targets %s: %s ",e.targetIds.join(","),r),await v0(t,r)}else if(e instanceof Sp?t.Q_.Ke(e):e instanceof V8?t.Q_.He(e):t.Q_.We(e),!n.isEqual(Nt.min()))try{const r=await Q8(t.localStore);n.compareTo(r)>=0&&await function(s,o){const a=s.Q_.rt(o);return a.targetChanges.forEach((l,u)=>{if(l.resumeToken.approximateByteSize()>0){const c=s.N_.get(u);c&&s.N_.set(u,c.withResumeToken(l.resumeToken,o))}}),a.targetMismatches.forEach((l,u)=>{const c=s.N_.get(l);if(!c)return;s.N_.set(l,c.withResumeToken(Br.EMPTY_BYTE_STRING,c.snapshotVersion)),Z8(s,l);const d=new Ba(c.target,l,u,c.sequenceNumber);vv(s,d)}),s.remoteSyncer.applyRemoteEvent(a)}(t,n)}catch(r){Ye("RemoteStore","Failed to raise snapshot:",r),await v0(t,r)}}async function v0(t,e,n){if(!Hf(e))throw e;t.L_.add(1),await Qf(t),t.q_.set("Offline"),n||(n=()=>Q8(t.localStore)),t.asyncQueue.enqueueRetryable(async()=>{Ye("RemoteStore","Retrying IndexedDB access"),await n(),t.L_.delete(1),await lm(t)})}function tA(t,e){return e().catch(n=>v0(t,n,e))}async function um(t){const e=Et(t),n=il(e);let r=e.O_.length>0?e.O_[e.O_.length-1].batchId:-1;for(;s9(e);)try{const i=await zj(e.localStore,r);if(i===null){e.O_.length===0&&n.o_();break}r=i.batchId,o9(e,i)}catch(i){await v0(e,i)}nA(e)&&rA(e)}function s9(t){return mu(t)&&t.O_.length<10}function o9(t,e){t.O_.push(e);const n=il(t);n.r_()&&n.V_&&n.m_(e.mutations)}function nA(t){return mu(t)&&!il(t).n_()&&t.O_.length>0}function rA(t){il(t).start()}async function a9(t){il(t).p_()}async function l9(t){const e=il(t);for(const n of t.O_)e.m_(n.mutations)}async function u9(t,e,n){const r=t.O_.shift(),i=hv.from(r,e,n);await tA(t,()=>t.remoteSyncer.applySuccessfulWrite(i)),await um(t)}async function c9(t,e){e&&il(t).V_&&await async function(r,i){if(function(o){return JR(o)&&o!==Pe.ABORTED}(i.code)){const s=r.O_.shift();il(r).s_(),await tA(r,()=>r.remoteSyncer.rejectFailedWrite(s.batchId,i)),await um(r)}}(t,e),nA(t)&&rA(t)}async function d4(t,e){const n=Et(t);n.asyncQueue.verifyOperationInProgress(),Ye("RemoteStore","RemoteStore received new credentials");const r=mu(n);n.L_.add(3),await Qf(n),r&&n.q_.set("Unknown"),await n.remoteSyncer.handleCredentialChange(e),n.L_.delete(3),await lm(n)}async function h9(t,e){const n=Et(t);e?(n.L_.delete(2),await lm(n)):e||(n.L_.add(2),await Qf(n),n.q_.set("Unknown"))}function Oc(t){return t.K_||(t.K_=function(n,r,i){const s=Et(n);return s.w_(),new Yj(r,s.connection,s.authCredentials,s.appCheckCredentials,s.serializer,i)}(t.datastore,t.asyncQueue,{Eo:t9.bind(null,t),Ro:n9.bind(null,t),mo:r9.bind(null,t),d_:i9.bind(null,t)}),t.B_.push(async e=>{e?(t.K_.s_(),xv(t)?wv(t):t.q_.set("Unknown")):(await t.K_.stop(),eA(t))})),t.K_}function il(t){return t.U_||(t.U_=function(n,r,i){const s=Et(n);return s.w_(),new Xj(r,s.connection,s.authCredentials,s.appCheckCredentials,s.serializer,i)}(t.datastore,t.asyncQueue,{Eo:()=>Promise.resolve(),Ro:a9.bind(null,t),mo:c9.bind(null,t),f_:l9.bind(null,t),g_:u9.bind(null,t)}),t.B_.push(async e=>{e?(t.U_.s_(),await um(t)):(await t.U_.stop(),t.O_.length>0&&(Ye("RemoteStore",`Stopping write stream with ${t.O_.length} pending writes`),t.O_=[]))})),t.U_}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bv{constructor(e,n,r,i,s){this.asyncQueue=e,this.timerId=n,this.targetTimeMs=r,this.op=i,this.removalCallback=s,this.deferred=new Ko,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(o=>{})}get promise(){return this.deferred.promise}static createAndSchedule(e,n,r,i,s){const o=Date.now()+r,a=new bv(e,n,o,i,s);return a.start(r),a}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new qe(Pe.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function _v(t,e){if(ea("AsyncQueue",`${e}: ${t}`),Hf(t))return new qe(Pe.UNAVAILABLE,`${e}: ${t}`);throw t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oc{constructor(e){this.comparator=e?(n,r)=>e(n,r)||at.comparator(n.key,r.key):(n,r)=>at.comparator(n.key,r.key),this.keyedMap=Ch(),this.sortedSet=new Vn(this.comparator)}static emptySet(e){return new oc(e.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const n=this.keyedMap.get(e);return n?this.sortedSet.indexOf(n):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((n,r)=>(e(n),!1))}add(e){const n=this.delete(e.key);return n.copy(n.keyedMap.insert(e.key,e),n.sortedSet.insert(e,null))}delete(e){const n=this.get(e);return n?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(n)):this}isEqual(e){if(!(e instanceof oc)||this.size!==e.size)return!1;const n=this.sortedSet.getIterator(),r=e.sortedSet.getIterator();for(;n.hasNext();){const i=n.getNext().key,s=r.getNext().key;if(!i.isEqual(s))return!1}return!0}toString(){const e=[];return this.forEach(n=>{e.push(n.toString())}),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,n){const r=new oc;return r.comparator=this.comparator,r.keyedMap=e,r.sortedSet=n,r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class p4{constructor(){this.W_=new Vn(at.comparator)}track(e){const n=e.doc.key,r=this.W_.get(n);r?e.type!==0&&r.type===3?this.W_=this.W_.insert(n,e):e.type===3&&r.type!==1?this.W_=this.W_.insert(n,{type:r.type,doc:e.doc}):e.type===2&&r.type===2?this.W_=this.W_.insert(n,{type:2,doc:e.doc}):e.type===2&&r.type===0?this.W_=this.W_.insert(n,{type:0,doc:e.doc}):e.type===1&&r.type===0?this.W_=this.W_.remove(n):e.type===1&&r.type===2?this.W_=this.W_.insert(n,{type:1,doc:r.doc}):e.type===0&&r.type===1?this.W_=this.W_.insert(n,{type:2,doc:e.doc}):bt():this.W_=this.W_.insert(n,e)}G_(){const e=[];return this.W_.inorderTraversal((n,r)=>{e.push(r)}),e}}class Nc{constructor(e,n,r,i,s,o,a,l,u){this.query=e,this.docs=n,this.oldDocs=r,this.docChanges=i,this.mutatedKeys=s,this.fromCache=o,this.syncStateChanged=a,this.excludesMetadataChanges=l,this.hasCachedResults=u}static fromInitialDocuments(e,n,r,i,s){const o=[];return n.forEach(a=>{o.push({type:0,doc:a})}),new Nc(e,n,oc.emptySet(n),o,r,i,!0,!1,s)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&tm(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const n=this.docChanges,r=e.docChanges;if(n.length!==r.length)return!1;for(let i=0;i<n.length;i++)if(n[i].type!==r[i].type||!n[i].doc.isEqual(r[i].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class f9{constructor(){this.z_=void 0,this.j_=[]}H_(){return this.j_.some(e=>e.J_())}}class d9{constructor(){this.queries=m4(),this.onlineState="Unknown",this.Y_=new Set}terminate(){(function(n,r){const i=Et(n),s=i.queries;i.queries=m4(),s.forEach((o,a)=>{for(const l of a.j_)l.onError(r)})})(this,new qe(Pe.ABORTED,"Firestore shutting down"))}}function m4(){return new Fc(t=>E8(t),tm)}async function Sv(t,e){const n=Et(t);let r=3;const i=e.query;let s=n.queries.get(i);s?!s.H_()&&e.J_()&&(r=2):(s=new f9,r=e.J_()?0:1);try{switch(r){case 0:s.z_=await n.onListen(i,!0);break;case 1:s.z_=await n.onListen(i,!1);break;case 2:await n.onFirstRemoteStoreListen(i)}}catch(o){const a=_v(o,`Initialization of query '${ku(e.query)}' failed`);return void e.onError(a)}n.queries.set(i,s),s.j_.push(e),e.Z_(n.onlineState),s.z_&&e.X_(s.z_)&&Nv(n)}async function Av(t,e){const n=Et(t),r=e.query;let i=3;const s=n.queries.get(r);if(s){const o=s.j_.indexOf(e);o>=0&&(s.j_.splice(o,1),s.j_.length===0?i=e.J_()?0:1:!s.H_()&&e.J_()&&(i=2))}switch(i){case 0:return n.queries.delete(r),n.onUnlisten(r,!0);case 1:return n.queries.delete(r),n.onUnlisten(r,!1);case 2:return n.onLastRemoteStoreUnlisten(r);default:return}}function p9(t,e){const n=Et(t);let r=!1;for(const i of e){const s=i.query,o=n.queries.get(s);if(o){for(const a of o.j_)a.X_(i)&&(r=!0);o.z_=i}}r&&Nv(n)}function m9(t,e,n){const r=Et(t),i=r.queries.get(e);if(i)for(const s of i.j_)s.onError(n);r.queries.delete(e)}function Nv(t){t.Y_.forEach(e=>{e.next()})}var x2,g4;(g4=x2||(x2={})).ea="default",g4.Cache="cache";class Ev{constructor(e,n,r){this.query=e,this.ta=n,this.na=!1,this.ra=null,this.onlineState="Unknown",this.options=r||{}}X_(e){if(!this.options.includeMetadataChanges){const r=[];for(const i of e.docChanges)i.type!==3&&r.push(i);e=new Nc(e.query,e.docs,e.oldDocs,r,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let n=!1;return this.na?this.ia(e)&&(this.ta.next(e),n=!0):this.sa(e,this.onlineState)&&(this.oa(e),n=!0),this.ra=e,n}onError(e){this.ta.error(e)}Z_(e){this.onlineState=e;let n=!1;return this.ra&&!this.na&&this.sa(this.ra,e)&&(this.oa(this.ra),n=!0),n}sa(e,n){if(!e.fromCache||!this.J_())return!0;const r=n!=="Offline";return(!this.options._a||!r)&&(!e.docs.isEmpty()||e.hasCachedResults||n==="Offline")}ia(e){if(e.docChanges.length>0)return!0;const n=this.ra&&this.ra.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!n)&&this.options.includeMetadataChanges===!0}oa(e){e=Nc.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.na=!0,this.ta.next(e)}J_(){return this.options.source!==x2.Cache}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class iA{constructor(e){this.key=e}}class sA{constructor(e){this.key=e}}class g9{constructor(e,n){this.query=e,this.Ta=n,this.Ea=null,this.hasCachedResults=!1,this.current=!1,this.da=Ft(),this.mutatedKeys=Ft(),this.Aa=T8(e),this.Ra=new oc(this.Aa)}get Va(){return this.Ta}ma(e,n){const r=n?n.fa:new p4,i=n?n.Ra:this.Ra;let s=n?n.mutatedKeys:this.mutatedKeys,o=i,a=!1;const l=this.query.limitType==="F"&&i.size===this.query.limit?i.last():null,u=this.query.limitType==="L"&&i.size===this.query.limit?i.first():null;if(e.inorderTraversal((c,d)=>{const g=i.get(c),p=nm(this.query,d)?d:null,b=!!g&&this.mutatedKeys.has(g.key),x=!!p&&(p.hasLocalMutations||this.mutatedKeys.has(p.key)&&p.hasCommittedMutations);let A=!1;g&&p?g.data.isEqual(p.data)?b!==x&&(r.track({type:3,doc:p}),A=!0):this.ga(g,p)||(r.track({type:2,doc:p}),A=!0,(l&&this.Aa(p,l)>0||u&&this.Aa(p,u)<0)&&(a=!0)):!g&&p?(r.track({type:0,doc:p}),A=!0):g&&!p&&(r.track({type:1,doc:g}),A=!0,(l||u)&&(a=!0)),A&&(p?(o=o.add(p),s=x?s.add(c):s.delete(c)):(o=o.delete(c),s=s.delete(c)))}),this.query.limit!==null)for(;o.size>this.query.limit;){const c=this.query.limitType==="F"?o.last():o.first();o=o.delete(c.key),s=s.delete(c.key),r.track({type:1,doc:c})}return{Ra:o,fa:r,ns:a,mutatedKeys:s}}ga(e,n){return e.hasLocalMutations&&n.hasCommittedMutations&&!n.hasLocalMutations}applyChanges(e,n,r,i){const s=this.Ra;this.Ra=e.Ra,this.mutatedKeys=e.mutatedKeys;const o=e.fa.G_();o.sort((c,d)=>function(p,b){const x=A=>{switch(A){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return bt()}};return x(p)-x(b)}(c.type,d.type)||this.Aa(c.doc,d.doc)),this.pa(r),i=i!=null&&i;const a=n&&!i?this.ya():[],l=this.da.size===0&&this.current&&!i?1:0,u=l!==this.Ea;return this.Ea=l,o.length!==0||u?{snapshot:new Nc(this.query,e.Ra,s,o,e.mutatedKeys,l===0,u,!1,!!r&&r.resumeToken.approximateByteSize()>0),wa:a}:{wa:a}}Z_(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({Ra:this.Ra,fa:new p4,mutatedKeys:this.mutatedKeys,ns:!1},!1)):{wa:[]}}Sa(e){return!this.Ta.has(e)&&!!this.Ra.has(e)&&!this.Ra.get(e).hasLocalMutations}pa(e){e&&(e.addedDocuments.forEach(n=>this.Ta=this.Ta.add(n)),e.modifiedDocuments.forEach(n=>{}),e.removedDocuments.forEach(n=>this.Ta=this.Ta.delete(n)),this.current=e.current)}ya(){if(!this.current)return[];const e=this.da;this.da=Ft(),this.Ra.forEach(r=>{this.Sa(r.key)&&(this.da=this.da.add(r.key))});const n=[];return e.forEach(r=>{this.da.has(r)||n.push(new sA(r))}),this.da.forEach(r=>{e.has(r)||n.push(new iA(r))}),n}ba(e){this.Ta=e.Ts,this.da=Ft();const n=this.ma(e.documents);return this.applyChanges(n,!0)}Da(){return Nc.fromInitialDocuments(this.query,this.Ra,this.mutatedKeys,this.Ea===0,this.hasCachedResults)}}class y9{constructor(e,n,r){this.query=e,this.targetId=n,this.view=r}}class v9{constructor(e){this.key=e,this.va=!1}}class w9{constructor(e,n,r,i,s,o){this.localStore=e,this.remoteStore=n,this.eventManager=r,this.sharedClientState=i,this.currentUser=s,this.maxConcurrentLimboResolutions=o,this.Ca={},this.Fa=new Fc(a=>E8(a),tm),this.Ma=new Map,this.xa=new Set,this.Oa=new Vn(at.comparator),this.Na=new Map,this.La=new pv,this.Ba={},this.ka=new Map,this.qa=Ac.kn(),this.onlineState="Unknown",this.Qa=void 0}get isPrimaryClient(){return this.Qa===!0}}async function x9(t,e,n=!0){const r=hA(t);let i;const s=r.Fa.get(e);return s?(r.sharedClientState.addLocalQueryTarget(s.targetId),i=s.view.Da()):i=await oA(r,e,n,!0),i}async function b9(t,e){const n=hA(t);await oA(n,e,!0,!1)}async function oA(t,e,n,r){const i=await qj(t.localStore,yo(e)),s=i.targetId,o=t.sharedClientState.addLocalQueryTarget(s,n);let a;return r&&(a=await _9(t,e,s,o==="current",i.resumeToken)),t.isPrimaryClient&&n&&J8(t.remoteStore,i),a}async function _9(t,e,n,r,i){t.Ka=(d,g,p)=>async function(x,A,v,_){let T=A.view.ma(v);T.ns&&(T=await c4(x.localStore,A.query,!1).then(({documents:k})=>A.view.ma(k,T)));const R=_&&_.targetChanges.get(A.targetId),z=_&&_.targetMismatches.get(A.targetId)!=null,K=A.view.applyChanges(T,x.isPrimaryClient,R,z);return v4(x,A.targetId,K.wa),K.snapshot}(t,d,g,p);const s=await c4(t.localStore,e,!0),o=new g9(e,s.Ts),a=o.ma(s.documents),l=Kf.createSynthesizedTargetChangeForCurrentChange(n,r&&t.onlineState!=="Offline",i),u=o.applyChanges(a,t.isPrimaryClient,l);v4(t,n,u.wa);const c=new y9(e,n,o);return t.Fa.set(e,c),t.Ma.has(n)?t.Ma.get(n).push(e):t.Ma.set(n,[e]),u.snapshot}async function S9(t,e,n){const r=Et(t),i=r.Fa.get(e),s=r.Ma.get(i.targetId);if(s.length>1)return r.Ma.set(i.targetId,s.filter(o=>!tm(o,e))),void r.Fa.delete(e);r.isPrimaryClient?(r.sharedClientState.removeLocalQueryTarget(i.targetId),r.sharedClientState.isActiveQueryTarget(i.targetId)||await w2(r.localStore,i.targetId,!1).then(()=>{r.sharedClientState.clearQueryState(i.targetId),n&&yv(r.remoteStore,i.targetId),b2(r,i.targetId)}).catch($f)):(b2(r,i.targetId),await w2(r.localStore,i.targetId,!0))}async function A9(t,e){const n=Et(t),r=n.Fa.get(e),i=n.Ma.get(r.targetId);n.isPrimaryClient&&i.length===1&&(n.sharedClientState.removeLocalQueryTarget(r.targetId),yv(n.remoteStore,r.targetId))}async function N9(t,e,n){const r=L9(t);try{const i=await function(o,a){const l=Et(o),u=Qn.now(),c=a.reduce((p,b)=>p.add(b.key),Ft());let d,g;return l.persistence.runTransaction("Locally write mutations","readwrite",p=>{let b=ta(),x=Ft();return l.cs.getEntries(p,c).next(A=>{b=A,b.forEach((v,_)=>{_.isValidDocument()||(x=x.add(v))})}).next(()=>l.localDocuments.getOverlayedDocuments(p,b)).next(A=>{d=A;const v=[];for(const _ of a){const T=GR(_,d.get(_.key).overlayedDocument);T!=null&&v.push(new fl(_.key,T,v8(T.value.mapValue),pi.exists(!0)))}return l.mutationQueue.addMutationBatch(p,u,v,a)}).next(A=>{g=A;const v=A.applyToLocalDocumentSet(d,x);return l.documentOverlayCache.saveOverlays(p,A.batchId,v)})}).then(()=>({batchId:g.batchId,changes:k8(d)}))}(r.localStore,e);r.sharedClientState.addPendingMutation(i.batchId),function(o,a,l){let u=o.Ba[o.currentUser.toKey()];u||(u=new Vn(Qt)),u=u.insert(a,l),o.Ba[o.currentUser.toKey()]=u}(r,i.batchId,n),await Yf(r,i.changes),await um(r.remoteStore)}catch(i){const s=_v(i,"Failed to persist write");n.reject(s)}}async function aA(t,e){const n=Et(t);try{const r=await Bj(n.localStore,e);e.targetChanges.forEach((i,s)=>{const o=n.Na.get(s);o&&(un(i.addedDocuments.size+i.modifiedDocuments.size+i.removedDocuments.size<=1),i.addedDocuments.size>0?o.va=!0:i.modifiedDocuments.size>0?un(o.va):i.removedDocuments.size>0&&(un(o.va),o.va=!1))}),await Yf(n,r,e)}catch(r){await $f(r)}}function y4(t,e,n){const r=Et(t);if(r.isPrimaryClient&&n===0||!r.isPrimaryClient&&n===1){const i=[];r.Fa.forEach((s,o)=>{const a=o.view.Z_(e);a.snapshot&&i.push(a.snapshot)}),function(o,a){const l=Et(o);l.onlineState=a;let u=!1;l.queries.forEach((c,d)=>{for(const g of d.j_)g.Z_(a)&&(u=!0)}),u&&Nv(l)}(r.eventManager,e),i.length&&r.Ca.d_(i),r.onlineState=e,r.isPrimaryClient&&r.sharedClientState.setOnlineState(e)}}async function E9(t,e,n){const r=Et(t);r.sharedClientState.updateQueryState(e,"rejected",n);const i=r.Na.get(e),s=i&&i.key;if(s){let o=new Vn(at.comparator);o=o.insert(s,ti.newNoDocument(s,Nt.min()));const a=Ft().add(s),l=new om(Nt.min(),new Map,new Vn(Qt),o,a);await aA(r,l),r.Oa=r.Oa.remove(s),r.Na.delete(e),Tv(r)}else await w2(r.localStore,e,!1).then(()=>b2(r,e,n)).catch($f)}async function T9(t,e){const n=Et(t),r=e.batch.batchId;try{const i=await Vj(n.localStore,e);uA(n,r,null),lA(n,r),n.sharedClientState.updateMutationState(r,"acknowledged"),await Yf(n,i)}catch(i){await $f(i)}}async function C9(t,e,n){const r=Et(t);try{const i=await function(o,a){const l=Et(o);return l.persistence.runTransaction("Reject batch","readwrite-primary",u=>{let c;return l.mutationQueue.lookupMutationBatch(u,a).next(d=>(un(d!==null),c=d.keys(),l.mutationQueue.removeMutationBatch(u,d))).next(()=>l.mutationQueue.performConsistencyCheck(u)).next(()=>l.documentOverlayCache.removeOverlaysForBatchId(u,c,a)).next(()=>l.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(u,c)).next(()=>l.localDocuments.getDocuments(u,c))})}(r.localStore,e);uA(r,e,n),lA(r,e),r.sharedClientState.updateMutationState(e,"rejected",n),await Yf(r,i)}catch(i){await $f(i)}}function lA(t,e){(t.ka.get(e)||[]).forEach(n=>{n.resolve()}),t.ka.delete(e)}function uA(t,e,n){const r=Et(t);let i=r.Ba[r.currentUser.toKey()];if(i){const s=i.get(e);s&&(n?s.reject(n):s.resolve(),i=i.remove(e)),r.Ba[r.currentUser.toKey()]=i}}function b2(t,e,n=null){t.sharedClientState.removeLocalQueryTarget(e);for(const r of t.Ma.get(e))t.Fa.delete(r),n&&t.Ca.$a(r,n);t.Ma.delete(e),t.isPrimaryClient&&t.La.gr(e).forEach(r=>{t.La.containsKey(r)||cA(t,r)})}function cA(t,e){t.xa.delete(e.path.canonicalString());const n=t.Oa.get(e);n!==null&&(yv(t.remoteStore,n),t.Oa=t.Oa.remove(e),t.Na.delete(n),Tv(t))}function v4(t,e,n){for(const r of n)r instanceof iA?(t.La.addReference(r.key,e),k9(t,r)):r instanceof sA?(Ye("SyncEngine","Document no longer in limbo: "+r.key),t.La.removeReference(r.key,e),t.La.containsKey(r.key)||cA(t,r.key)):bt()}function k9(t,e){const n=e.key,r=n.path.canonicalString();t.Oa.get(n)||t.xa.has(r)||(Ye("SyncEngine","New document in limbo: "+n),t.xa.add(r),Tv(t))}function Tv(t){for(;t.xa.size>0&&t.Oa.size<t.maxConcurrentLimboResolutions;){const e=t.xa.values().next().value;t.xa.delete(e);const n=new at(_n.fromString(e)),r=t.qa.next();t.Na.set(r,new v9(n)),t.Oa=t.Oa.insert(n,r),J8(t.remoteStore,new Ba(yo(em(n.path)),r,"TargetPurposeLimboResolution",iv.oe))}}async function Yf(t,e,n){const r=Et(t),i=[],s=[],o=[];r.Fa.isEmpty()||(r.Fa.forEach((a,l)=>{o.push(r.Ka(l,e,n).then(u=>{var c;if((u||n)&&r.isPrimaryClient){const d=u?!u.fromCache:(c=n==null?void 0:n.targetChanges.get(l.targetId))===null||c===void 0?void 0:c.current;r.sharedClientState.updateQueryState(l.targetId,d?"current":"not-current")}if(u){i.push(u);const d=gv.Wi(l.targetId,u);s.push(d)}}))}),await Promise.all(o),r.Ca.d_(i),await async function(l,u){const c=Et(l);try{await c.persistence.runTransaction("notifyLocalViewChanges","readwrite",d=>De.forEach(u,g=>De.forEach(g.$i,p=>c.persistence.referenceDelegate.addReference(d,g.targetId,p)).next(()=>De.forEach(g.Ui,p=>c.persistence.referenceDelegate.removeReference(d,g.targetId,p)))))}catch(d){if(!Hf(d))throw d;Ye("LocalStore","Failed to update sequence numbers: "+d)}for(const d of u){const g=d.targetId;if(!d.fromCache){const p=c.os.get(g),b=p.snapshotVersion,x=p.withLastLimboFreeSnapshotVersion(b);c.os=c.os.insert(g,x)}}}(r.localStore,s))}async function P9(t,e){const n=Et(t);if(!n.currentUser.isEqual(e)){Ye("SyncEngine","User change. New user:",e.toKey());const r=await K8(n.localStore,e);n.currentUser=e,function(s,o){s.ka.forEach(a=>{a.forEach(l=>{l.reject(new qe(Pe.CANCELLED,o))})}),s.ka.clear()}(n,"'waitForPendingWrites' promise is rejected due to a user change."),n.sharedClientState.handleUserChange(e,r.removedBatchIds,r.addedBatchIds),await Yf(n,r.hs)}}function I9(t,e){const n=Et(t),r=n.Na.get(e);if(r&&r.va)return Ft().add(r.key);{let i=Ft();const s=n.Ma.get(e);if(!s)return i;for(const o of s){const a=n.Fa.get(o);i=i.unionWith(a.view.Va)}return i}}function hA(t){const e=Et(t);return e.remoteStore.remoteSyncer.applyRemoteEvent=aA.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=I9.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=E9.bind(null,e),e.Ca.d_=p9.bind(null,e.eventManager),e.Ca.$a=m9.bind(null,e.eventManager),e}function L9(t){const e=Et(t);return e.remoteStore.remoteSyncer.applySuccessfulWrite=T9.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=C9.bind(null,e),e}class w0{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=am(e.databaseInfo.databaseId),this.sharedClientState=this.Wa(e),this.persistence=this.Ga(e),await this.persistence.start(),this.localStore=this.za(e),this.gcScheduler=this.ja(e,this.localStore),this.indexBackfillerScheduler=this.Ha(e,this.localStore)}ja(e,n){return null}Ha(e,n){return null}za(e){return Oj(this.persistence,new Mj,e.initialUser,this.serializer)}Ga(e){return new Rj(mv.Zr,this.serializer)}Wa(e){return new Hj}async terminate(){var e,n;(e=this.gcScheduler)===null||e===void 0||e.stop(),(n=this.indexBackfillerScheduler)===null||n===void 0||n.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}w0.provider={build:()=>new w0};class _2{async initialize(e,n){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(n),this.remoteStore=this.createRemoteStore(n),this.eventManager=this.createEventManager(n),this.syncEngine=this.createSyncEngine(n,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=r=>y4(this.syncEngine,r,1),this.remoteStore.remoteSyncer.handleCredentialChange=P9.bind(null,this.syncEngine),await h9(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return function(){return new d9}()}createDatastore(e){const n=am(e.databaseInfo.databaseId),r=function(s){return new Qj(s)}(e.databaseInfo);return function(s,o,a,l){return new Jj(s,o,a,l)}(e.authCredentials,e.appCheckCredentials,r,n)}createRemoteStore(e){return function(r,i,s,o,a){return new e9(r,i,s,o,a)}(this.localStore,this.datastore,e.asyncQueue,n=>y4(this.syncEngine,n,0),function(){return f4.D()?new f4:new Wj}())}createSyncEngine(e,n){return function(i,s,o,a,l,u,c){const d=new w9(i,s,o,a,l,u);return c&&(d.Qa=!0),d}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,n)}async terminate(){var e,n;await async function(i){const s=Et(i);Ye("RemoteStore","RemoteStore shutting down."),s.L_.add(5),await Qf(s),s.k_.shutdown(),s.q_.set("Unknown")}(this.remoteStore),(e=this.datastore)===null||e===void 0||e.terminate(),(n=this.eventManager)===null||n===void 0||n.terminate()}}_2.provider={build:()=>new _2};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Cv{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.Ya(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.Ya(this.observer.error,e):ea("Uncaught Error in snapshot listener:",e.toString()))}Za(){this.muted=!0}Ya(e,n){setTimeout(()=>{this.muted||e(n)},0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class R9{constructor(e,n,r,i,s){this.authCredentials=e,this.appCheckCredentials=n,this.asyncQueue=r,this.databaseInfo=i,this.user=Zr.UNAUTHENTICATED,this.clientId=m8.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=s,this.authCredentials.start(r,async o=>{Ye("FirestoreClient","Received user=",o.uid),await this.authCredentialListener(o),this.user=o}),this.appCheckCredentials.start(r,o=>(Ye("FirestoreClient","Received new app check token=",o),this.appCheckCredentialListener(o,this.user)))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();const e=new Ko;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(n){const r=_v(n,"Failed to shutdown persistence");e.reject(r)}}),e.promise}}async function g1(t,e){t.asyncQueue.verifyOperationInProgress(),Ye("FirestoreClient","Initializing OfflineComponentProvider");const n=t.configuration;await e.initialize(n);let r=n.initialUser;t.setCredentialChangeListener(async i=>{r.isEqual(i)||(await K8(e.localStore,i),r=i)}),e.persistence.setDatabaseDeletedListener(()=>t.terminate()),t._offlineComponents=e}async function w4(t,e){t.asyncQueue.verifyOperationInProgress();const n=await j9(t);Ye("FirestoreClient","Initializing OnlineComponentProvider"),await e.initialize(n,t.configuration),t.setCredentialChangeListener(r=>d4(e.remoteStore,r)),t.setAppCheckTokenChangeListener((r,i)=>d4(e.remoteStore,i)),t._onlineComponents=e}async function j9(t){if(!t._offlineComponents)if(t._uninitializedComponentsProvider){Ye("FirestoreClient","Using user provided OfflineComponentProvider");try{await g1(t,t._uninitializedComponentsProvider._offline)}catch(e){const n=e;if(!function(i){return i.name==="FirebaseError"?i.code===Pe.FAILED_PRECONDITION||i.code===Pe.UNIMPLEMENTED:!(typeof DOMException<"u"&&i instanceof DOMException)||i.code===22||i.code===20||i.code===11}(n))throw n;xc("Error using user provided cache. Falling back to memory cache: "+n),await g1(t,new w0)}}else Ye("FirestoreClient","Using default OfflineComponentProvider"),await g1(t,new w0);return t._offlineComponents}async function fA(t){return t._onlineComponents||(t._uninitializedComponentsProvider?(Ye("FirestoreClient","Using user provided OnlineComponentProvider"),await w4(t,t._uninitializedComponentsProvider._online)):(Ye("FirestoreClient","Using default OnlineComponentProvider"),await w4(t,new _2))),t._onlineComponents}function D9(t){return fA(t).then(e=>e.syncEngine)}async function x0(t){const e=await fA(t),n=e.eventManager;return n.onListen=x9.bind(null,e.syncEngine),n.onUnlisten=S9.bind(null,e.syncEngine),n.onFirstRemoteStoreListen=b9.bind(null,e.syncEngine),n.onLastRemoteStoreUnlisten=A9.bind(null,e.syncEngine),n}function M9(t,e,n={}){const r=new Ko;return t.asyncQueue.enqueueAndForget(async()=>function(s,o,a,l,u){const c=new Cv({next:g=>{c.Za(),o.enqueueAndForget(()=>Av(s,d));const p=g.docs.has(a);!p&&g.fromCache?u.reject(new qe(Pe.UNAVAILABLE,"Failed to get document because the client is offline.")):p&&g.fromCache&&l&&l.source==="server"?u.reject(new qe(Pe.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):u.resolve(g)},error:g=>u.reject(g)}),d=new Ev(em(a.path),c,{includeMetadataChanges:!0,_a:!0});return Sv(s,d)}(await x0(t),t.asyncQueue,e,n,r)),r.promise}function F9(t,e,n={}){const r=new Ko;return t.asyncQueue.enqueueAndForget(async()=>function(s,o,a,l,u){const c=new Cv({next:g=>{c.Za(),o.enqueueAndForget(()=>Av(s,d)),g.fromCache&&l.source==="server"?u.reject(new qe(Pe.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):u.resolve(g)},error:g=>u.reject(g)}),d=new Ev(a,c,{includeMetadataChanges:!0,_a:!0});return Sv(s,d)}(await x0(t),t.asyncQueue,e,n,r)),r.promise}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function dA(t){const e={};return t.timeoutSeconds!==void 0&&(e.timeoutSeconds=t.timeoutSeconds),e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const x4=new Map;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function pA(t,e,n){if(!n)throw new qe(Pe.INVALID_ARGUMENT,`Function ${t}() cannot be called with an empty ${e}.`)}function O9(t,e,n,r){if(e===!0&&r===!0)throw new qe(Pe.INVALID_ARGUMENT,`${t} and ${n} cannot be used together.`)}function b4(t){if(!at.isDocumentKey(t))throw new qe(Pe.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${t} has ${t.length}.`)}function _4(t){if(at.isDocumentKey(t))throw new qe(Pe.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${t} has ${t.length}.`)}function cm(t){if(t===void 0)return"undefined";if(t===null)return"null";if(typeof t=="string")return t.length>20&&(t=`${t.substring(0,20)}...`),JSON.stringify(t);if(typeof t=="number"||typeof t=="boolean")return""+t;if(typeof t=="object"){if(t instanceof Array)return"an array";{const e=function(r){return r.constructor?r.constructor.name:null}(t);return e?`a custom ${e} object`:"an object"}}return typeof t=="function"?"a function":bt()}function mi(t,e){if("_delegate"in t&&(t=t._delegate),!(t instanceof e)){if(e.name===t.constructor.name)throw new qe(Pe.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const n=cm(t);throw new qe(Pe.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${n}`)}}return t}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class S4{constructor(e){var n,r;if(e.host===void 0){if(e.ssl!==void 0)throw new qe(Pe.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=e.host,this.ssl=(n=e.ssl)===null||n===void 0||n;if(this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=41943040;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<1048576)throw new qe(Pe.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}O9("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=dA((r=e.experimentalLongPollingOptions)!==null&&r!==void 0?r:{}),function(s){if(s.timeoutSeconds!==void 0){if(isNaN(s.timeoutSeconds))throw new qe(Pe.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (must not be NaN)`);if(s.timeoutSeconds<5)throw new qe(Pe.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (minimum allowed value is 5)`);if(s.timeoutSeconds>30)throw new qe(Pe.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&function(r,i){return r.timeoutSeconds===i.timeoutSeconds}(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class hm{constructor(e,n,r,i){this._authCredentials=e,this._appCheckCredentials=n,this._databaseId=r,this._app=i,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new S4({}),this._settingsFrozen=!1,this._terminateTask="notTerminated"}get app(){if(!this._app)throw new qe(Pe.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new qe(Pe.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new S4(e),e.credentials!==void 0&&(this._authCredentials=function(r){if(!r)return new nR;switch(r.type){case"firstParty":return new oR(r.sessionIndex||"0",r.iamToken||null,r.authTokenFactory||null);case"provider":return r.client;default:throw new qe(Pe.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(n){const r=x4.get(n);r&&(Ye("ComponentProvider","Removing Datastore"),x4.delete(n),r.terminate())}(this),Promise.resolve()}}function V9(t,e,n,r={}){var i;const s=(t=mi(t,hm))._getSettings(),o=`${e}:${n}`;if(s.host!=="firestore.googleapis.com"&&s.host!==o&&xc("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used."),t._setSettings(Object.assign(Object.assign({},s),{host:o,ssl:!1})),r.mockUserToken){let a,l;if(typeof r.mockUserToken=="string")a=r.mockUserToken,l=Zr.MOCK_USER;else{a=DI(r.mockUserToken,(i=t._app)===null||i===void 0?void 0:i.options.projectId);const u=r.mockUserToken.sub||r.mockUserToken.user_id;if(!u)throw new qe(Pe.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");l=new Zr(u)}t._authCredentials=new rR(new p8(a,l))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gu{constructor(e,n,r){this.converter=n,this._query=r,this.type="query",this.firestore=e}withConverter(e){return new gu(this.firestore,e,this._query)}}class ri{constructor(e,n,r){this.converter=n,this._key=r,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new Za(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new ri(this.firestore,e,this._key)}}class Za extends gu{constructor(e,n,r){super(e,n,em(r)),this._path=r,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new ri(this.firestore,null,new at(e))}withConverter(e){return new Za(this.firestore,e,this._path)}}function dl(t,e,...n){if(t=bs(t),pA("collection","path",e),t instanceof hm){const r=_n.fromString(e,...n);return _4(r),new Za(t,null,r)}{if(!(t instanceof ri||t instanceof Za))throw new qe(Pe.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=t._path.child(_n.fromString(e,...n));return _4(r),new Za(t.firestore,null,r)}}function qs(t,e,...n){if(t=bs(t),arguments.length===1&&(e=m8.newId()),pA("doc","path",e),t instanceof hm){const r=_n.fromString(e,...n);return b4(r),new ri(t,null,new at(r))}{if(!(t instanceof ri||t instanceof Za))throw new qe(Pe.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=t._path.child(_n.fromString(e,...n));return b4(r),new ri(t.firestore,t instanceof Za?t.converter:null,new at(r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class A4{constructor(e=Promise.resolve()){this.Pu=[],this.Iu=!1,this.Tu=[],this.Eu=null,this.du=!1,this.Au=!1,this.Ru=[],this.t_=new Y8(this,"async_queue_retry"),this.Vu=()=>{const r=m1();r&&Ye("AsyncQueue","Visibility state changed to "+r.visibilityState),this.t_.jo()},this.mu=e;const n=m1();n&&typeof n.addEventListener=="function"&&n.addEventListener("visibilitychange",this.Vu)}get isShuttingDown(){return this.Iu}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.fu(),this.gu(e)}enterRestrictedMode(e){if(!this.Iu){this.Iu=!0,this.Au=e||!1;const n=m1();n&&typeof n.removeEventListener=="function"&&n.removeEventListener("visibilitychange",this.Vu)}}enqueue(e){if(this.fu(),this.Iu)return new Promise(()=>{});const n=new Ko;return this.gu(()=>this.Iu&&this.Au?Promise.resolve():(e().then(n.resolve,n.reject),n.promise)).then(()=>n.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.Pu.push(e),this.pu()))}async pu(){if(this.Pu.length!==0){try{await this.Pu[0](),this.Pu.shift(),this.t_.reset()}catch(e){if(!Hf(e))throw e;Ye("AsyncQueue","Operation failed with retryable error: "+e)}this.Pu.length>0&&this.t_.Go(()=>this.pu())}}gu(e){const n=this.mu.then(()=>(this.du=!0,e().catch(r=>{this.Eu=r,this.du=!1;const i=function(o){let a=o.message||"";return o.stack&&(a=o.stack.includes(o.message)?o.stack:o.message+`
`+o.stack),a}(r);throw ea("INTERNAL UNHANDLED ERROR: ",i),r}).then(r=>(this.du=!1,r))));return this.mu=n,n}enqueueAfterDelay(e,n,r){this.fu(),this.Ru.indexOf(e)>-1&&(n=0);const i=bv.createAndSchedule(this,e,n,r,s=>this.yu(s));return this.Tu.push(i),i}fu(){this.Eu&&bt()}verifyOperationInProgress(){}async wu(){let e;do e=this.mu,await e;while(e!==this.mu)}Su(e){for(const n of this.Tu)if(n.timerId===e)return!0;return!1}bu(e){return this.wu().then(()=>{this.Tu.sort((n,r)=>n.targetTimeMs-r.targetTimeMs);for(const n of this.Tu)if(n.skipDelay(),e!=="all"&&n.timerId===e)break;return this.wu()})}Du(e){this.Ru.push(e)}yu(e){const n=this.Tu.indexOf(e);this.Tu.splice(n,1)}}function N4(t){return function(n,r){if(typeof n!="object"||n===null)return!1;const i=n;for(const s of r)if(s in i&&typeof i[s]=="function")return!0;return!1}(t,["next","error","complete"])}class So extends hm{constructor(e,n,r,i){super(e,n,r,i),this.type="firestore",this._queue=new A4,this._persistenceKey=(i==null?void 0:i.name)||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new A4(e),this._firestoreClient=void 0,await e}}}function B9(t,e){const n=typeof t=="object"?t:$L(),r=typeof t=="string"?t:"(default)",i=BL(n,"firestore").getImmediate({identifier:r});if(!i._initialized){const s=RI("firestore");s&&V9(i,...s)}return i}function Xf(t){if(t._terminated)throw new qe(Pe.FAILED_PRECONDITION,"The client has already been terminated.");return t._firestoreClient||U9(t),t._firestoreClient}function U9(t){var e,n,r;const i=t._freezeSettings(),s=function(a,l,u,c){return new wR(a,l,u,c.host,c.ssl,c.experimentalForceLongPolling,c.experimentalAutoDetectLongPolling,dA(c.experimentalLongPollingOptions),c.useFetchStreams)}(t._databaseId,((e=t._app)===null||e===void 0?void 0:e.options.appId)||"",t._persistenceKey,i);t._componentsProvider||!((n=i.localCache)===null||n===void 0)&&n._offlineComponentProvider&&(!((r=i.localCache)===null||r===void 0)&&r._onlineComponentProvider)&&(t._componentsProvider={_offline:i.localCache._offlineComponentProvider,_online:i.localCache._onlineComponentProvider}),t._firestoreClient=new R9(t._authCredentials,t._appCheckCredentials,t._queue,s,t._componentsProvider&&function(a){const l=a==null?void 0:a._online.build();return{_offline:a==null?void 0:a._offline.build(l),_online:l}}(t._componentsProvider))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ec{constructor(e){this._byteString=e}static fromBase64String(e){try{return new Ec(Br.fromBase64String(e))}catch(n){throw new qe(Pe.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+n)}}static fromUint8Array(e){return new Ec(Br.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Jf{constructor(...e){for(let n=0;n<e.length;++n)if(e[n].length===0)throw new qe(Pe.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new Mr(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kv{constructor(e){this._methodName=e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Pv{constructor(e,n){if(!isFinite(e)||e<-90||e>90)throw new qe(Pe.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(n)||n<-180||n>180)throw new qe(Pe.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=e,this._long=n}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return Qt(this._lat,e._lat)||Qt(this._long,e._long)}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Iv{constructor(e){this._values=(e||[]).map(n=>n)}toArray(){return this._values.map(e=>e)}isEqual(e){return function(r,i){if(r.length!==i.length)return!1;for(let s=0;s<r.length;++s)if(r[s]!==i[s])return!1;return!0}(this._values,e._values)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const z9=/^__.*__$/;class q9{constructor(e,n,r){this.data=e,this.fieldMask=n,this.fieldTransforms=r}toMutation(e,n){return this.fieldMask!==null?new fl(e,this.data,this.fieldMask,n,this.fieldTransforms):new Gf(e,this.data,n,this.fieldTransforms)}}class mA{constructor(e,n,r){this.data=e,this.fieldMask=n,this.fieldTransforms=r}toMutation(e,n){return new fl(e,this.data,this.fieldMask,n,this.fieldTransforms)}}function gA(t){switch(t){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw bt()}}class Lv{constructor(e,n,r,i,s,o){this.settings=e,this.databaseId=n,this.serializer=r,this.ignoreUndefinedProperties=i,s===void 0&&this.vu(),this.fieldTransforms=s||[],this.fieldMask=o||[]}get path(){return this.settings.path}get Cu(){return this.settings.Cu}Fu(e){return new Lv(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}Mu(e){var n;const r=(n=this.path)===null||n===void 0?void 0:n.child(e),i=this.Fu({path:r,xu:!1});return i.Ou(e),i}Nu(e){var n;const r=(n=this.path)===null||n===void 0?void 0:n.child(e),i=this.Fu({path:r,xu:!1});return i.vu(),i}Lu(e){return this.Fu({path:void 0,xu:!0})}Bu(e){return b0(e,this.settings.methodName,this.settings.ku||!1,this.path,this.settings.qu)}contains(e){return this.fieldMask.find(n=>e.isPrefixOf(n))!==void 0||this.fieldTransforms.find(n=>e.isPrefixOf(n.field))!==void 0}vu(){if(this.path)for(let e=0;e<this.path.length;e++)this.Ou(this.path.get(e))}Ou(e){if(e.length===0)throw this.Bu("Document fields must not be empty");if(gA(this.Cu)&&z9.test(e))throw this.Bu('Document fields cannot begin and end with "__"')}}class $9{constructor(e,n,r){this.databaseId=e,this.ignoreUndefinedProperties=n,this.serializer=r||am(e)}Qu(e,n,r,i=!1){return new Lv({Cu:e,methodName:n,qu:r,path:Mr.emptyPath(),xu:!1,ku:i},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function Zf(t){const e=t._freezeSettings(),n=am(t._databaseId);return new $9(t._databaseId,!!e.ignoreUndefinedProperties,n)}function Rv(t,e,n,r,i,s={}){const o=t.Qu(s.merge||s.mergeFields?2:0,e,n,i);jv("Data must be an object, but it was:",o,r);const a=wA(r,o);let l,u;if(s.merge)l=new Ji(o.fieldMask),u=o.fieldTransforms;else if(s.mergeFields){const c=[];for(const d of s.mergeFields){const g=S2(e,d,n);if(!o.contains(g))throw new qe(Pe.INVALID_ARGUMENT,`Field '${g}' is specified in your field mask but missing from your input data.`);bA(c,g)||c.push(g)}l=new Ji(c),u=o.fieldTransforms.filter(d=>l.covers(d.field))}else l=null,u=o.fieldTransforms;return new q9(new Ci(a),l,u)}class fm extends kv{_toFieldTransform(e){if(e.Cu!==2)throw e.Cu===1?e.Bu(`${this._methodName}() can only appear at the top level of your update data`):e.Bu(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof fm}}function yA(t,e,n,r){const i=t.Qu(1,e,n);jv("Data must be an object, but it was:",i,r);const s=[],o=Ci.empty();pu(r,(l,u)=>{const c=Dv(e,l,n);u=bs(u);const d=i.Nu(c);if(u instanceof fm)s.push(c);else{const g=ed(u,d);g!=null&&(s.push(c),o.set(c,g))}});const a=new Ji(s);return new mA(o,a,i.fieldTransforms)}function vA(t,e,n,r,i,s){const o=t.Qu(1,e,n),a=[S2(e,r,n)],l=[i];if(s.length%2!=0)throw new qe(Pe.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let g=0;g<s.length;g+=2)a.push(S2(e,s[g])),l.push(s[g+1]);const u=[],c=Ci.empty();for(let g=a.length-1;g>=0;--g)if(!bA(u,a[g])){const p=a[g];let b=l[g];b=bs(b);const x=o.Nu(p);if(b instanceof fm)u.push(p);else{const A=ed(b,x);A!=null&&(u.push(p),c.set(p,A))}}const d=new Ji(u);return new mA(c,d,o.fieldTransforms)}function H9(t,e,n,r=!1){return ed(n,t.Qu(r?4:3,e))}function ed(t,e){if(xA(t=bs(t)))return jv("Unsupported field value:",e,t),wA(t,e);if(t instanceof kv)return function(r,i){if(!gA(i.Cu))throw i.Bu(`${r._methodName}() can only be used with update() and set()`);if(!i.path)throw i.Bu(`${r._methodName}() is not currently supported inside arrays`);const s=r._toFieldTransform(i);s&&i.fieldTransforms.push(s)}(t,e),null;if(t===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),t instanceof Array){if(e.settings.xu&&e.Cu!==4)throw e.Bu("Nested arrays are not supported");return function(r,i){const s=[];let o=0;for(const a of r){let l=ed(a,i.Lu(o));l==null&&(l={nullValue:"NULL_VALUE"}),s.push(l),o++}return{arrayValue:{values:s}}}(t,e)}return function(r,i){if((r=bs(r))===null)return{nullValue:"NULL_VALUE"};if(typeof r=="number")return UR(i.serializer,r);if(typeof r=="boolean")return{booleanValue:r};if(typeof r=="string")return{stringValue:r};if(r instanceof Date){const s=Qn.fromDate(r);return{timestampValue:y0(i.serializer,s)}}if(r instanceof Qn){const s=new Qn(r.seconds,1e3*Math.floor(r.nanoseconds/1e3));return{timestampValue:y0(i.serializer,s)}}if(r instanceof Pv)return{geoPointValue:{latitude:r.latitude,longitude:r.longitude}};if(r instanceof Ec)return{bytesValue:U8(i.serializer,r._byteString)};if(r instanceof ri){const s=i.databaseId,o=r.firestore._databaseId;if(!o.isEqual(s))throw i.Bu(`Document reference is for database ${o.projectId}/${o.database} but should be for database ${s.projectId}/${s.database}`);return{referenceValue:dv(r.firestore._databaseId||i.databaseId,r._key.path)}}if(r instanceof Iv)return function(o,a){return{mapValue:{fields:{__type__:{stringValue:"__vector__"},value:{arrayValue:{values:o.toArray().map(l=>{if(typeof l!="number")throw a.Bu("VectorValues must only contain numeric values.");return cv(a.serializer,l)})}}}}}}(r,i);throw i.Bu(`Unsupported field value: ${cm(r)}`)}(t,e)}function wA(t,e){const n={};return g8(t)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):pu(t,(r,i)=>{const s=ed(i,e.Mu(r));s!=null&&(n[r]=s)}),{mapValue:{fields:n}}}function xA(t){return!(typeof t!="object"||t===null||t instanceof Array||t instanceof Date||t instanceof Qn||t instanceof Pv||t instanceof Ec||t instanceof ri||t instanceof kv||t instanceof Iv)}function jv(t,e,n){if(!xA(n)||!function(i){return typeof i=="object"&&i!==null&&(Object.getPrototypeOf(i)===Object.prototype||Object.getPrototypeOf(i)===null)}(n)){const r=cm(n);throw r==="an object"?e.Bu(t+" a custom object"):e.Bu(t+" "+r)}}function S2(t,e,n){if((e=bs(e))instanceof Jf)return e._internalPath;if(typeof e=="string")return Dv(t,e);throw b0("Field path arguments must be of type string or ",t,!1,void 0,n)}const W9=new RegExp("[~\\*/\\[\\]]");function Dv(t,e,n){if(e.search(W9)>=0)throw b0(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,t,!1,void 0,n);try{return new Jf(...e.split("."))._internalPath}catch{throw b0(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,t,!1,void 0,n)}}function b0(t,e,n,r,i){const s=r&&!r.isEmpty(),o=i!==void 0;let a=`Function ${e}() called with invalid data`;n&&(a+=" (via `toFirestore()`)"),a+=". ";let l="";return(s||o)&&(l+=" (found",s&&(l+=` in field ${r}`),o&&(l+=` in document ${i}`),l+=")"),new qe(Pe.INVALID_ARGUMENT,a+t+l)}function bA(t,e){return t.some(n=>n.isEqual(e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _A{constructor(e,n,r,i,s){this._firestore=e,this._userDataWriter=n,this._key=r,this._document=i,this._converter=s}get id(){return this._key.path.lastSegment()}get ref(){return new ri(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new G9(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const n=this._document.data.field(Mv("DocumentSnapshot.get",e));if(n!==null)return this._userDataWriter.convertValue(n)}}}class G9 extends _A{data(){return super.data()}}function Mv(t,e){return typeof e=="string"?Dv(t,e):e instanceof Jf?e._internalPath:e._delegate._internalPath}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function SA(t){if(t.limitType==="L"&&t.explicitOrderBy.length===0)throw new qe(Pe.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class Fv{}class K9 extends Fv{}function Q9(t,e,...n){let r=[];e instanceof Fv&&r.push(e),r=r.concat(n),function(s){const o=s.filter(l=>l instanceof Ov).length,a=s.filter(l=>l instanceof dm).length;if(o>1||o>0&&a>0)throw new qe(Pe.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")}(r);for(const i of r)t=i._apply(t);return t}class dm extends K9{constructor(e,n,r){super(),this._field=e,this._op=n,this._value=r,this.type="where"}static _create(e,n,r){return new dm(e,n,r)}_apply(e){const n=this._parse(e);return AA(e._query,n),new gu(e.firestore,e.converter,d2(e._query,n))}_parse(e){const n=Zf(e.firestore);return function(s,o,a,l,u,c,d){let g;if(u.isKeyField()){if(c==="array-contains"||c==="array-contains-any")throw new qe(Pe.INVALID_ARGUMENT,`Invalid Query. You can't perform '${c}' queries on documentId().`);if(c==="in"||c==="not-in"){C4(d,c);const p=[];for(const b of d)p.push(T4(l,s,b));g={arrayValue:{values:p}}}else g=T4(l,s,d)}else c!=="in"&&c!=="not-in"&&c!=="array-contains-any"||C4(d,c),g=H9(a,o,d,c==="in"||c==="not-in");return dr.create(u,c,g)}(e._query,"where",n,e.firestore._databaseId,this._field,this._op,this._value)}}function E4(t,e,n){const r=e,i=Mv("where",t);return dm._create(i,r,n)}class Ov extends Fv{constructor(e,n){super(),this.type=e,this._queryConstraints=n}static _create(e,n){return new Ov(e,n)}_parse(e){const n=this._queryConstraints.map(r=>r._parse(e)).filter(r=>r.getFilters().length>0);return n.length===1?n[0]:Us.create(n,this._getOperator())}_apply(e){const n=this._parse(e);return n.getFilters().length===0?e:(function(i,s){let o=i;const a=s.getFlattenedFilters();for(const l of a)AA(o,l),o=d2(o,l)}(e._query,n),new gu(e.firestore,e.converter,d2(e._query,n)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}}function T4(t,e,n){if(typeof(n=bs(n))=="string"){if(n==="")throw new qe(Pe.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!N8(e)&&n.indexOf("/")!==-1)throw new qe(Pe.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${n}' contains a '/' character.`);const r=e.path.child(_n.fromString(n));if(!at.isDocumentKey(r))throw new qe(Pe.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${r}' is not because it has an odd number of segments (${r.length}).`);return Gx(t,new at(r))}if(n instanceof ri)return Gx(t,n._key);throw new qe(Pe.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${cm(n)}.`)}function C4(t,e){if(!Array.isArray(t)||t.length===0)throw new qe(Pe.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`)}function AA(t,e){const n=function(i,s){for(const o of i)for(const a of o.getFlattenedFilters())if(s.indexOf(a.op)>=0)return a.op;return null}(t.filters,function(i){switch(i){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}}(e.op));if(n!==null)throw n===e.op?new qe(Pe.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${e.op.toString()}' filter.`):new qe(Pe.INVALID_ARGUMENT,`Invalid query. You cannot use '${e.op.toString()}' filters with '${n.toString()}' filters.`)}class Y9{convertValue(e,n="none"){switch(au(e)){case 0:return null;case 1:return e.booleanValue;case 2:return rr(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,n);case 5:return e.stringValue;case 6:return this.convertBytes(ou(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,n);case 11:return this.convertObject(e.mapValue,n);case 10:return this.convertVectorValue(e.mapValue);default:throw bt()}}convertObject(e,n){return this.convertObjectMap(e.fields,n)}convertObjectMap(e,n="none"){const r={};return pu(e,(i,s)=>{r[i]=this.convertValue(s,n)}),r}convertVectorValue(e){var n,r,i;const s=(i=(r=(n=e.fields)===null||n===void 0?void 0:n.value.arrayValue)===null||r===void 0?void 0:r.values)===null||i===void 0?void 0:i.map(o=>rr(o.doubleValue));return new Iv(s)}convertGeoPoint(e){return new Pv(rr(e.latitude),rr(e.longitude))}convertArray(e,n){return(e.values||[]).map(r=>this.convertValue(r,n))}convertServerTimestamp(e,n){switch(n){case"previous":const r=ov(e);return r==null?null:this.convertValue(r,n);case"estimate":return this.convertTimestamp(_f(e));default:return null}}convertTimestamp(e){const n=rl(e);return new Qn(n.seconds,n.nanos)}convertDocumentKey(e,n){const r=_n.fromString(e);un(G8(r));const i=new Sf(r.get(1),r.get(3)),s=new at(r.popFirst(5));return i.isEqual(n)||ea(`Document ${s} contains a document reference within a different database (${i.projectId}/${i.database}) which is not supported. It will be treated as a reference in the current database (${n.projectId}/${n.database}) instead.`),s}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Vv(t,e,n){let r;return r=t?n&&(n.merge||n.mergeFields)?t.toFirestore(e,n):t.toFirestore(e):e,r}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ph{constructor(e,n){this.hasPendingWrites=e,this.fromCache=n}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class NA extends _A{constructor(e,n,r,i,s,o){super(e,n,r,i,o),this._firestore=e,this._firestoreImpl=e,this.metadata=s}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const n=new Ap(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(n,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,n={}){if(this._document){const r=this._document.data.field(Mv("DocumentSnapshot.get",e));if(r!==null)return this._userDataWriter.convertValue(r,n.serverTimestamps)}}}class Ap extends NA{data(e={}){return super.data(e)}}class EA{constructor(e,n,r,i){this._firestore=e,this._userDataWriter=n,this._snapshot=i,this.metadata=new Ph(i.hasPendingWrites,i.fromCache),this.query=r}get docs(){const e=[];return this.forEach(n=>e.push(n)),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,n){this._snapshot.docs.forEach(r=>{e.call(n,new Ap(this._firestore,this._userDataWriter,r.key,r,new Ph(this._snapshot.mutatedKeys.has(r.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){const n=!!e.includeMetadataChanges;if(n&&this._snapshot.excludesMetadataChanges)throw new qe(Pe.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===n||(this._cachedChanges=function(i,s){if(i._snapshot.oldDocs.isEmpty()){let o=0;return i._snapshot.docChanges.map(a=>{const l=new Ap(i._firestore,i._userDataWriter,a.doc.key,a.doc,new Ph(i._snapshot.mutatedKeys.has(a.doc.key),i._snapshot.fromCache),i.query.converter);return a.doc,{type:"added",doc:l,oldIndex:-1,newIndex:o++}})}{let o=i._snapshot.oldDocs;return i._snapshot.docChanges.filter(a=>s||a.type!==3).map(a=>{const l=new Ap(i._firestore,i._userDataWriter,a.doc.key,a.doc,new Ph(i._snapshot.mutatedKeys.has(a.doc.key),i._snapshot.fromCache),i.query.converter);let u=-1,c=-1;return a.type!==0&&(u=o.indexOf(a.doc.key),o=o.delete(a.doc.key)),a.type!==1&&(o=o.add(a.doc),c=o.indexOf(a.doc.key)),{type:X9(a.type),doc:l,oldIndex:u,newIndex:c}})}}(this,n),this._cachedChangesIncludeMetadataChanges=n),this._cachedChanges}}function X9(t){switch(t){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return bt()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function J9(t){t=mi(t,ri);const e=mi(t.firestore,So);return M9(Xf(e),t._key).then(n=>kA(e,t,n))}class Bv extends Y9{constructor(e){super(),this.firestore=e}convertBytes(e){return new Ec(e)}convertReference(e){const n=this.convertDocumentKey(e,this.firestore._databaseId);return new ri(this.firestore,null,n)}}function td(t){t=mi(t,gu);const e=mi(t.firestore,So),n=Xf(e),r=new Bv(e);return SA(t._query),F9(n,t._query).then(i=>new EA(e,r,t,i))}function Z9(t,e,n){t=mi(t,ri);const r=mi(t.firestore,So),i=Vv(t.converter,e,n);return rd(r,[Rv(Zf(r),"setDoc",t._key,i,t.converter!==null,n).toMutation(t._key,pi.none())])}function TA(t,e,n,...r){t=mi(t,ri);const i=mi(t.firestore,So),s=Zf(i);let o;return o=typeof(e=bs(e))=="string"||e instanceof Jf?vA(s,"updateDoc",t._key,e,n,r):yA(s,"updateDoc",t._key,e),rd(i,[o.toMutation(t._key,pi.exists(!0))])}function CA(t){return rd(mi(t.firestore,So),[new sm(t._key,pi.none())])}function nd(t,e){const n=mi(t.firestore,So),r=qs(t),i=Vv(t.converter,e);return rd(n,[Rv(Zf(t.firestore),"addDoc",r._key,i,t.converter!==null,{}).toMutation(r._key,pi.exists(!1))]).then(()=>r)}function Uv(t,...e){var n,r,i;t=bs(t);let s={includeMetadataChanges:!1,source:"default"},o=0;typeof e[o]!="object"||N4(e[o])||(s=e[o],o++);const a={includeMetadataChanges:s.includeMetadataChanges,source:s.source};if(N4(e[o])){const d=e[o];e[o]=(n=d.next)===null||n===void 0?void 0:n.bind(d),e[o+1]=(r=d.error)===null||r===void 0?void 0:r.bind(d),e[o+2]=(i=d.complete)===null||i===void 0?void 0:i.bind(d)}let l,u,c;if(t instanceof ri)u=mi(t.firestore,So),c=em(t._key.path),l={next:d=>{e[o]&&e[o](kA(u,t,d))},error:e[o+1],complete:e[o+2]};else{const d=mi(t,gu);u=mi(d.firestore,So),c=d._query;const g=new Bv(u);l={next:p=>{e[o]&&e[o](new EA(u,g,d,p))},error:e[o+1],complete:e[o+2]},SA(t._query)}return function(g,p,b,x){const A=new Cv(x),v=new Ev(p,A,b);return g.asyncQueue.enqueueAndForget(async()=>Sv(await x0(g),v)),()=>{A.Za(),g.asyncQueue.enqueueAndForget(async()=>Av(await x0(g),v))}}(Xf(u),c,a,l)}function rd(t,e){return function(r,i){const s=new Ko;return r.asyncQueue.enqueueAndForget(async()=>N9(await D9(r),i,s)),s.promise}(Xf(t),e)}function kA(t,e,n){const r=n.docs.get(e._key),i=new Bv(t);return new NA(t,i,e._key,r,new Ph(n.hasPendingWrites,n.fromCache),e.converter)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class eD{constructor(e,n){this._firestore=e,this._commitHandler=n,this._mutations=[],this._committed=!1,this._dataReader=Zf(e)}set(e,n,r){this._verifyNotCommitted();const i=y1(e,this._firestore),s=Vv(i.converter,n,r),o=Rv(this._dataReader,"WriteBatch.set",i._key,s,i.converter!==null,r);return this._mutations.push(o.toMutation(i._key,pi.none())),this}update(e,n,r,...i){this._verifyNotCommitted();const s=y1(e,this._firestore);let o;return o=typeof(n=bs(n))=="string"||n instanceof Jf?vA(this._dataReader,"WriteBatch.update",s._key,n,r,i):yA(this._dataReader,"WriteBatch.update",s._key,n),this._mutations.push(o.toMutation(s._key,pi.exists(!0))),this}delete(e){this._verifyNotCommitted();const n=y1(e,this._firestore);return this._mutations=this._mutations.concat(new sm(n._key,pi.none())),this}commit(){return this._verifyNotCommitted(),this._committed=!0,this._mutations.length>0?this._commitHandler(this._mutations):Promise.resolve()}_verifyNotCommitted(){if(this._committed)throw new qe(Pe.FAILED_PRECONDITION,"A write batch can no longer be used after commit() has been called.")}}function y1(t,e){if((t=bs(t)).firestore!==e)throw new qe(Pe.INVALID_ARGUMENT,"Provided document reference is from a different Firestore instance.");return t}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function id(t){return Xf(t=mi(t,So)),new eD(t,e=>rd(t,e))}(function(e,n=!0){(function(i){Mc=i})(qL),h0(new wf("firestore",(r,{instanceIdentifier:i,options:s})=>{const o=r.getProvider("app").getImmediate(),a=new So(new iR(r.getProvider("auth-internal")),new lR(r.getProvider("app-check-internal")),function(u,c){if(!Object.prototype.hasOwnProperty.apply(u.options,["projectId"]))throw new qe(Pe.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Sf(u.options.projectId,c)}(o,i),o);return s=Object.assign({useFetchStreams:n},s),a._setSettings(s),a},"PUBLIC").setMultipleInstances(!0)),sc(zx,"4.7.3",e),sc(zx,"4.7.3","esm2017")})();const tD={apiKey:"AIzaSyDXKdnkxtgKARc0fWiA1BD5ok3qc8AqCVc",authDomain:"syncserve-dev.firebaseapp.com",databaseURL:"https://syncserve-dev-default-rtdb.firebaseio.com",projectId:"syncserve-dev",storageBucket:"syncserve-dev.firebasestorage.app",messagingSenderId:"1029186931798",appId:"1:1029186931798:web:ec31db4513af2edc057ff7",measurementId:"G-LX9Z2Y6SN9"},nD=s8(tD),lr=B9(nD),zv=dl(lr,"tables"),qv=dl(lr,"menuItems"),PA=dl(lr,"staff"),$v=dl(lr,"orders");dl(lr,"settings");const IA=dl(lr,"salesRecords"),oa=async()=>{try{const t=qs(lr,"settings","appSettings"),e=await J9(t);return e.exists()?e.data():(console.warn("Settings document 'appSettings' not found. Using defaults."),null)}catch(t){throw console.error("Error fetching settings:",t),t}},rD=async t=>{try{const e=qs(lr,"settings","appSettings");await Z9(e,t,{merge:!0})}catch(e){throw console.error("Error updating settings:",e),e}},iD=async t=>{try{return{id:(await nd(zv,{name:t,status:"available"})).id,name:t,status:"available"}}catch(e){throw console.error("Error adding table:",e),e}},sD=async t=>{if(!t||t.length===0)throw new Error("addTablesInBulk: tableNames array is required and cannot be empty.");try{const e=id(lr);t.forEach(n=>{const r=qs(dl(lr,"tables"));e.set(r,{name:n,status:"available"})}),await e.commit()}catch(e){throw console.error("Error adding tables in bulk:",e),e}},LA=async()=>{try{return(await td(zv)).docs.map(e=>({id:e.id,...e.data()}))}catch(t){throw console.error("Error fetching tables:",t),t}},RA=(t,e)=>Uv(zv,n=>{const r=n.docs.map(i=>({id:i.id,...i.data()}));t(r)},n=>{console.error("onTablesRealtime error:",n),e&&e(n)}),jA=async(t,e)=>{if(!t)throw new Error("updateTableStatus: tableId is required");try{const n=qs(lr,"tables",t);return await TA(n,{status:e}),!0}catch(n){throw console.error("Error updating table status:",n),n}},oD=async t=>{if(!t)throw new Error("deleteTable: tableId is required");try{return await CA(qs(lr,"tables",t)),!0}catch(e){throw console.error("Error deleting table:",e),e}},aD=async t=>{if(!t||t.length===0)throw new Error("deleteTablesInBulk: tableIds array is required and cannot be empty.");try{const e=id(lr);t.forEach(n=>{const r=qs(lr,"tables",n);e.delete(r)}),await e.commit()}catch(e){throw console.error("Error deleting tables in bulk:",e),e}},k4=async t=>{try{if(!t||!t.name||t.fullPrice==null)throw new Error("addMenuItem: item must have a name and a fullPrice.");return{id:(await nd(qv,t)).id,...t}}catch(e){throw console.error("Error adding menu item:",e),e}},Hv=async()=>{try{return(await td(qv)).docs.map(e=>({id:e.id,...e.data()}))}catch(t){throw console.error("Error fetching menu items:",t),t}},lD=async t=>{if(!t||t.length===0)throw new Error("deleteMenuItemsInBulk: itemIds array is required and cannot be empty.");try{const e=id(lr);t.forEach(n=>{const r=qs(lr,"menuItems",n);e.delete(r)}),await e.commit()}catch(e){throw console.error("Error deleting menu items in bulk:",e),e}},uD=(t,e)=>Uv(qv,n=>{const r=n.docs.map(i=>({id:i.id,...i.data()}));t(r)},n=>{console.error("onMenuItemsRealtime error:",n)}),cD=async t=>{try{if(!t||!t.name)throw new Error("addStaff: Staff data must include a name.");return{id:(await nd(PA,t)).id,...t}}catch(e){throw console.error("Error adding staff:",e),e}},hD=async t=>{if(!t||t.length===0)throw new Error("addStaffInBulk: staffArray is required and cannot be empty.");try{const e=id(lr);t.forEach(n=>{if(n.name&&n.name.trim()!==""){const r=qs(dl(lr,"staff"));e.set(r,{name:n.name||"",contact:n.contact||"",address:n.address||""})}}),await e.commit()}catch(e){throw console.error("Error adding staff in bulk:",e),e}},Tf=async()=>{try{return(await td(PA)).docs.map(e=>({id:e.id,...e.data()}))}catch(t){throw console.error("Error fetching staff:",t),t}},fD=async t=>{try{return{id:(await nd($v,t)).id,...t}}catch(e){throw console.error("Error adding order:",e),e}},dD=async t=>{if(!t)throw new Error("deleteOrder: orderId is required");try{return await CA(qs(lr,"orders",t)),!0}catch(e){throw console.error("Error deleting order:",e),e}},pD=async(t,e)=>{if(!t||!e)throw new Error("updateOrderStatus: orderId and newStatus are required.");try{const n=qs(lr,"orders",t);await TA(n,{status:e})}catch(n){throw console.error(`Error updating order status for order ${t}:`,n),n}},DA=(t,e)=>Uv($v,n=>{const r=n.docs.map(i=>({id:i.id,...i.data()}));t(r)},n=>{console.error("onOrdersRealtime error:",n),e&&e(n)}),mD=async()=>{try{const t=await td($v);if(t.empty){console.log("No orders to delete.");return}const e=id(lr);t.docs.forEach(n=>{e.delete(n.ref)}),await e.commit(),console.log("All orders successfully deleted.")}catch(t){throw console.error("Error clearing all orders:",t),t}},gD=async t=>{try{const e={...t,finalizedAt:Qn.now()};await nd(IA,e)}catch(e){throw console.error("Error adding sale record:",e),e}},Cf=async(t,e)=>{try{const n=new Date(e);n.setHours(23,59,59,999);const r=Q9(IA,E4("finalizedAt",">=",Qn.fromDate(t)),E4("finalizedAt","<=",Qn.fromDate(n)));return(await td(r)).docs.map(s=>{const o=s.data();return{id:s.id,...o,finalizedAt:o.finalizedAt.toDate()}})}catch(n){throw console.error("Error fetching sales by date range:",n),n}},Tc=({isOpen:t,onClose:e,children:n,size:r="md"})=>{const i=G.useRef(null);G.useEffect(()=>{const a=l=>{l.key==="Escape"&&e()};return t&&(document.body.style.overflow="hidden",window.addEventListener("keydown",a)),()=>{document.body.style.overflow="unset",window.removeEventListener("keydown",a)}},[t,e]);const s=a=>{i.current&&!i.current.contains(a.target)&&e()},o={sm:"max-w-sm",md:"max-w-md",lg:"max-w-lg",xl:"max-w-xl","2xl":"max-w-2xl","3xl":"max-w-3xl","4xl":"max-w-4xl","5xl":"max-w-5xl","6xl":"max-w-6xl"};return m.jsxs("div",{className:`fixed inset-0 z-50 overflow-y-auto transition-opacity duration-300 ease-in-out ${t?"opacity-100":"opacity-0 pointer-events-none"}`,onClick:s,"aria-modal":"true",role:"dialog",children:[m.jsx("div",{className:"fixed inset-0 bg-gray-900 bg-opacity-75"}),m.jsx("div",{className:"flex min-h-full items-center justify-center p-4 text-center",children:m.jsxs("div",{ref:i,className:`relative w-full transform rounded-xl bg-white text-left shadow-xl transition-all duration-300 ease-in-out ${o[r]||o.md} ${t?"translate-y-0 scale-100 opacity-100":"translate-y-4 scale-95 opacity-0"}`,children:[m.jsx("button",{onClick:e,className:"absolute top-4 right-4 z-10 rounded-full p-1 text-gray-400 transition-colors hover:bg-gray-100 hover:text-gray-700","aria-label":"Close modal",children:m.jsx("svg",{className:"h-6 w-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg",children:m.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M6 18L18 6M6 6l12 12"})})}),m.jsx("div",{className:"p-6",children:n})]})})]})},MA=G.createContext({});function yD(t){const e=G.useRef(null);return e.current===null&&(e.current=t()),e.current}const Wv=typeof window<"u",vD=Wv?G.useLayoutEffect:G.useEffect,Gv=G.createContext(null);function Kv(t,e){t.indexOf(e)===-1&&t.push(e)}function Qv(t,e){const n=t.indexOf(e);n>-1&&t.splice(n,1)}const na=(t,e,n)=>n>e?e:n<t?t:n;let Yv=()=>{};const ra={},FA=t=>/^-?(?:\d+(?:\.\d+)?|\.\d+)$/u.test(t);function OA(t){return typeof t=="object"&&t!==null}const VA=t=>/^0[^.\s]+$/u.test(t);function Xv(t){let e;return()=>(e===void 0&&(e=t()),e)}const vs=t=>t,wD=(t,e)=>n=>e(t(n)),sd=(...t)=>t.reduce(wD),kf=(t,e,n)=>{const r=e-t;return r===0?1:(n-t)/r};class Jv{constructor(){this.subscriptions=[]}add(e){return Kv(this.subscriptions,e),()=>Qv(this.subscriptions,e)}notify(e,n,r){const i=this.subscriptions.length;if(i)if(i===1)this.subscriptions[0](e,n,r);else for(let s=0;s<i;s++){const o=this.subscriptions[s];o&&o(e,n,r)}}getSize(){return this.subscriptions.length}clear(){this.subscriptions.length=0}}const wo=t=>t*1e3,xo=t=>t/1e3;function BA(t,e){return e?t*(1e3/e):0}const UA=(t,e,n)=>(((1-3*n+3*e)*t+(3*n-6*e))*t+3*e)*t,xD=1e-7,bD=12;function _D(t,e,n,r,i){let s,o,a=0;do o=e+(n-e)/2,s=UA(o,r,i)-t,s>0?n=o:e=o;while(Math.abs(s)>xD&&++a<bD);return o}function od(t,e,n,r){if(t===e&&n===r)return vs;const i=s=>_D(s,0,1,t,n);return s=>s===0||s===1?s:UA(i(s),e,r)}const zA=t=>e=>e<=.5?t(2*e)/2:(2-t(2*(1-e)))/2,qA=t=>e=>1-t(1-e),$A=od(.33,1.53,.69,.99),Zv=qA($A),HA=zA(Zv),WA=t=>(t*=2)<1?.5*Zv(t):.5*(2-Math.pow(2,-10*(t-1))),e5=t=>1-Math.sin(Math.acos(t)),GA=qA(e5),KA=zA(e5),SD=od(.42,0,1,1),AD=od(0,0,.58,1),QA=od(.42,0,.58,1),ND=t=>Array.isArray(t)&&typeof t[0]!="number",YA=t=>Array.isArray(t)&&typeof t[0]=="number",ED={linear:vs,easeIn:SD,easeInOut:QA,easeOut:AD,circIn:e5,circInOut:KA,circOut:GA,backIn:Zv,backInOut:HA,backOut:$A,anticipate:WA},TD=t=>typeof t=="string",P4=t=>{if(YA(t)){Yv(t.length===4);const[e,n,r,i]=t;return od(e,n,r,i)}else if(TD(t))return ED[t];return t},Qd=["setup","read","resolveKeyframes","preUpdate","update","preRender","render","postRender"],I4={value:null};function CD(t,e){let n=new Set,r=new Set,i=!1,s=!1;const o=new WeakSet;let a={delta:0,timestamp:0,isProcessing:!1},l=0;function u(d){o.has(d)&&(c.schedule(d),t()),l++,d(a)}const c={schedule:(d,g=!1,p=!1)=>{const x=p&&i?n:r;return g&&o.add(d),x.has(d)||x.add(d),d},cancel:d=>{r.delete(d),o.delete(d)},process:d=>{if(a=d,i){s=!0;return}i=!0,[n,r]=[r,n],n.forEach(u),e&&I4.value&&I4.value.frameloop[e].push(l),l=0,n.clear(),i=!1,s&&(s=!1,c.process(d))}};return c}const kD=40;function XA(t,e){let n=!1,r=!0;const i={delta:0,timestamp:0,isProcessing:!1},s=()=>n=!0,o=Qd.reduce((T,R)=>(T[R]=CD(s,e?R:void 0),T),{}),{setup:a,read:l,resolveKeyframes:u,preUpdate:c,update:d,preRender:g,render:p,postRender:b}=o,x=()=>{const T=ra.useManualTiming?i.timestamp:performance.now();n=!1,ra.useManualTiming||(i.delta=r?1e3/60:Math.max(Math.min(T-i.timestamp,kD),1)),i.timestamp=T,i.isProcessing=!0,a.process(i),l.process(i),u.process(i),c.process(i),d.process(i),g.process(i),p.process(i),b.process(i),i.isProcessing=!1,n&&e&&(r=!1,t(x))},A=()=>{n=!0,r=!0,i.isProcessing||t(x)};return{schedule:Qd.reduce((T,R)=>{const z=o[R];return T[R]=(K,k=!1,C=!1)=>(n||A(),z.schedule(K,k,C)),T},{}),cancel:T=>{for(let R=0;R<Qd.length;R++)o[Qd[R]].cancel(T)},state:i,steps:o}}const{schedule:Fn,cancel:sl,state:jr,steps:v1}=XA(typeof requestAnimationFrame<"u"?requestAnimationFrame:vs,!0);let Np;function PD(){Np=void 0}const Pi={now:()=>(Np===void 0&&Pi.set(jr.isProcessing||ra.useManualTiming?jr.timestamp:performance.now()),Np),set:t=>{Np=t,queueMicrotask(PD)}},JA=t=>e=>typeof e=="string"&&e.startsWith(t),t5=JA("--"),ID=JA("var(--"),n5=t=>ID(t)?LD.test(t.split("/*")[0].trim()):!1,LD=/var\(--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)$/iu,Vc={test:t=>typeof t=="number",parse:parseFloat,transform:t=>t},Pf={...Vc,transform:t=>na(0,1,t)},Yd={...Vc,default:1},Hh=t=>Math.round(t*1e5)/1e5,r5=/-?(?:\d+(?:\.\d+)?|\.\d+)/gu;function RD(t){return t==null}const jD=/^(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))$/iu,i5=(t,e)=>n=>!!(typeof n=="string"&&jD.test(n)&&n.startsWith(t)||e&&!RD(n)&&Object.prototype.hasOwnProperty.call(n,e)),ZA=(t,e,n)=>r=>{if(typeof r!="string")return r;const[i,s,o,a]=r.match(r5);return{[t]:parseFloat(i),[e]:parseFloat(s),[n]:parseFloat(o),alpha:a!==void 0?parseFloat(a):1}},DD=t=>na(0,255,t),w1={...Vc,transform:t=>Math.round(DD(t))},Hl={test:i5("rgb","red"),parse:ZA("red","green","blue"),transform:({red:t,green:e,blue:n,alpha:r=1})=>"rgba("+w1.transform(t)+", "+w1.transform(e)+", "+w1.transform(n)+", "+Hh(Pf.transform(r))+")"};function MD(t){let e="",n="",r="",i="";return t.length>5?(e=t.substring(1,3),n=t.substring(3,5),r=t.substring(5,7),i=t.substring(7,9)):(e=t.substring(1,2),n=t.substring(2,3),r=t.substring(3,4),i=t.substring(4,5),e+=e,n+=n,r+=r,i+=i),{red:parseInt(e,16),green:parseInt(n,16),blue:parseInt(r,16),alpha:i?parseInt(i,16)/255:1}}const A2={test:i5("#"),parse:MD,transform:Hl.transform},ad=t=>({test:e=>typeof e=="string"&&e.endsWith(t)&&e.split(" ").length===1,parse:parseFloat,transform:e=>`${e}${t}`}),La=ad("deg"),bo=ad("%"),pt=ad("px"),FD=ad("vh"),OD=ad("vw"),L4={...bo,parse:t=>bo.parse(t)/100,transform:t=>bo.transform(t*100)},Wu={test:i5("hsl","hue"),parse:ZA("hue","saturation","lightness"),transform:({hue:t,saturation:e,lightness:n,alpha:r=1})=>"hsla("+Math.round(t)+", "+bo.transform(Hh(e))+", "+bo.transform(Hh(n))+", "+Hh(Pf.transform(r))+")"},hr={test:t=>Hl.test(t)||A2.test(t)||Wu.test(t),parse:t=>Hl.test(t)?Hl.parse(t):Wu.test(t)?Wu.parse(t):A2.parse(t),transform:t=>typeof t=="string"?t:t.hasOwnProperty("red")?Hl.transform(t):Wu.transform(t),getAnimatableNone:t=>{const e=hr.parse(t);return e.alpha=0,hr.transform(e)}},VD=/(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))/giu;function BD(t){var e,n;return isNaN(t)&&typeof t=="string"&&(((e=t.match(r5))==null?void 0:e.length)||0)+(((n=t.match(VD))==null?void 0:n.length)||0)>0}const eN="number",tN="color",UD="var",zD="var(",R4="${}",qD=/var\s*\(\s*--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)|#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\)|-?(?:\d+(?:\.\d+)?|\.\d+)/giu;function If(t){const e=t.toString(),n=[],r={color:[],number:[],var:[]},i=[];let s=0;const a=e.replace(qD,l=>(hr.test(l)?(r.color.push(s),i.push(tN),n.push(hr.parse(l))):l.startsWith(zD)?(r.var.push(s),i.push(UD),n.push(l)):(r.number.push(s),i.push(eN),n.push(parseFloat(l))),++s,R4)).split(R4);return{values:n,split:a,indexes:r,types:i}}function nN(t){return If(t).values}function rN(t){const{split:e,types:n}=If(t),r=e.length;return i=>{let s="";for(let o=0;o<r;o++)if(s+=e[o],i[o]!==void 0){const a=n[o];a===eN?s+=Hh(i[o]):a===tN?s+=hr.transform(i[o]):s+=i[o]}return s}}const $D=t=>typeof t=="number"?0:hr.test(t)?hr.getAnimatableNone(t):t;function HD(t){const e=nN(t);return rN(t)(e.map($D))}const ol={test:BD,parse:nN,createTransformer:rN,getAnimatableNone:HD};function x1(t,e,n){return n<0&&(n+=1),n>1&&(n-=1),n<1/6?t+(e-t)*6*n:n<1/2?e:n<2/3?t+(e-t)*(2/3-n)*6:t}function WD({hue:t,saturation:e,lightness:n,alpha:r}){t/=360,e/=100,n/=100;let i=0,s=0,o=0;if(!e)i=s=o=n;else{const a=n<.5?n*(1+e):n+e-n*e,l=2*n-a;i=x1(l,a,t+1/3),s=x1(l,a,t),o=x1(l,a,t-1/3)}return{red:Math.round(i*255),green:Math.round(s*255),blue:Math.round(o*255),alpha:r}}function _0(t,e){return n=>n>0?e:t}const Dn=(t,e,n)=>t+(e-t)*n,b1=(t,e,n)=>{const r=t*t,i=n*(e*e-r)+r;return i<0?0:Math.sqrt(i)},GD=[A2,Hl,Wu],KD=t=>GD.find(e=>e.test(t));function j4(t){const e=KD(t);if(!e)return!1;let n=e.parse(t);return e===Wu&&(n=WD(n)),n}const D4=(t,e)=>{const n=j4(t),r=j4(e);if(!n||!r)return _0(t,e);const i={...n};return s=>(i.red=b1(n.red,r.red,s),i.green=b1(n.green,r.green,s),i.blue=b1(n.blue,r.blue,s),i.alpha=Dn(n.alpha,r.alpha,s),Hl.transform(i))},N2=new Set(["none","hidden"]);function QD(t,e){return N2.has(t)?n=>n<=0?t:e:n=>n>=1?e:t}function YD(t,e){return n=>Dn(t,e,n)}function s5(t){return typeof t=="number"?YD:typeof t=="string"?n5(t)?_0:hr.test(t)?D4:ZD:Array.isArray(t)?iN:typeof t=="object"?hr.test(t)?D4:XD:_0}function iN(t,e){const n=[...t],r=n.length,i=t.map((s,o)=>s5(s)(s,e[o]));return s=>{for(let o=0;o<r;o++)n[o]=i[o](s);return n}}function XD(t,e){const n={...t,...e},r={};for(const i in n)t[i]!==void 0&&e[i]!==void 0&&(r[i]=s5(t[i])(t[i],e[i]));return i=>{for(const s in r)n[s]=r[s](i);return n}}function JD(t,e){const n=[],r={color:0,var:0,number:0};for(let i=0;i<e.values.length;i++){const s=e.types[i],o=t.indexes[s][r[s]],a=t.values[o]??0;n[i]=a,r[s]++}return n}const ZD=(t,e)=>{const n=ol.createTransformer(e),r=If(t),i=If(e);return r.indexes.var.length===i.indexes.var.length&&r.indexes.color.length===i.indexes.color.length&&r.indexes.number.length>=i.indexes.number.length?N2.has(t)&&!i.values.length||N2.has(e)&&!r.values.length?QD(t,e):sd(iN(JD(r,i),i.values),n):_0(t,e)};function sN(t,e,n){return typeof t=="number"&&typeof e=="number"&&typeof n=="number"?Dn(t,e,n):s5(t)(t,e)}const eM=t=>{const e=({timestamp:n})=>t(n);return{start:(n=!0)=>Fn.update(e,n),stop:()=>sl(e),now:()=>jr.isProcessing?jr.timestamp:Pi.now()}},oN=(t,e,n=10)=>{let r="";const i=Math.max(Math.round(e/n),2);for(let s=0;s<i;s++)r+=Math.round(t(s/(i-1))*1e4)/1e4+", ";return`linear(${r.substring(0,r.length-2)})`},S0=2e4;function o5(t){let e=0;const n=50;let r=t.next(e);for(;!r.done&&e<S0;)e+=n,r=t.next(e);return e>=S0?1/0:e}function tM(t,e=100,n){const r=n({...t,keyframes:[0,e]}),i=Math.min(o5(r),S0);return{type:"keyframes",ease:s=>r.next(i*s).value/e,duration:xo(i)}}const nM=5;function aN(t,e,n){const r=Math.max(e-nM,0);return BA(n-t(r),e-r)}const Wn={stiffness:100,damping:10,mass:1,velocity:0,duration:800,bounce:.3,visualDuration:.3,restSpeed:{granular:.01,default:2},restDelta:{granular:.005,default:.5},minDuration:.01,maxDuration:10,minDamping:.05,maxDamping:1},_1=.001;function rM({duration:t=Wn.duration,bounce:e=Wn.bounce,velocity:n=Wn.velocity,mass:r=Wn.mass}){let i,s,o=1-e;o=na(Wn.minDamping,Wn.maxDamping,o),t=na(Wn.minDuration,Wn.maxDuration,xo(t)),o<1?(i=u=>{const c=u*o,d=c*t,g=c-n,p=E2(u,o),b=Math.exp(-d);return _1-g/p*b},s=u=>{const d=u*o*t,g=d*n+n,p=Math.pow(o,2)*Math.pow(u,2)*t,b=Math.exp(-d),x=E2(Math.pow(u,2),o);return(-i(u)+_1>0?-1:1)*((g-p)*b)/x}):(i=u=>{const c=Math.exp(-u*t),d=(u-n)*t+1;return-_1+c*d},s=u=>{const c=Math.exp(-u*t),d=(n-u)*(t*t);return c*d});const a=5/t,l=sM(i,s,a);if(t=wo(t),isNaN(l))return{stiffness:Wn.stiffness,damping:Wn.damping,duration:t};{const u=Math.pow(l,2)*r;return{stiffness:u,damping:o*2*Math.sqrt(r*u),duration:t}}}const iM=12;function sM(t,e,n){let r=n;for(let i=1;i<iM;i++)r=r-t(r)/e(r);return r}function E2(t,e){return t*Math.sqrt(1-e*e)}const oM=["duration","bounce"],aM=["stiffness","damping","mass"];function M4(t,e){return e.some(n=>t[n]!==void 0)}function lM(t){let e={velocity:Wn.velocity,stiffness:Wn.stiffness,damping:Wn.damping,mass:Wn.mass,isResolvedFromDuration:!1,...t};if(!M4(t,aM)&&M4(t,oM))if(t.visualDuration){const n=t.visualDuration,r=2*Math.PI/(n*1.2),i=r*r,s=2*na(.05,1,1-(t.bounce||0))*Math.sqrt(i);e={...e,mass:Wn.mass,stiffness:i,damping:s}}else{const n=rM(t);e={...e,...n,mass:Wn.mass},e.isResolvedFromDuration=!0}return e}function A0(t=Wn.visualDuration,e=Wn.bounce){const n=typeof t!="object"?{visualDuration:t,keyframes:[0,1],bounce:e}:t;let{restSpeed:r,restDelta:i}=n;const s=n.keyframes[0],o=n.keyframes[n.keyframes.length-1],a={done:!1,value:s},{stiffness:l,damping:u,mass:c,duration:d,velocity:g,isResolvedFromDuration:p}=lM({...n,velocity:-xo(n.velocity||0)}),b=g||0,x=u/(2*Math.sqrt(l*c)),A=o-s,v=xo(Math.sqrt(l/c)),_=Math.abs(A)<5;r||(r=_?Wn.restSpeed.granular:Wn.restSpeed.default),i||(i=_?Wn.restDelta.granular:Wn.restDelta.default);let T;if(x<1){const z=E2(v,x);T=K=>{const k=Math.exp(-x*v*K);return o-k*((b+x*v*A)/z*Math.sin(z*K)+A*Math.cos(z*K))}}else if(x===1)T=z=>o-Math.exp(-v*z)*(A+(b+v*A)*z);else{const z=v*Math.sqrt(x*x-1);T=K=>{const k=Math.exp(-x*v*K),C=Math.min(z*K,300);return o-k*((b+x*v*A)*Math.sinh(C)+z*A*Math.cosh(C))/z}}const R={calculatedDuration:p&&d||null,next:z=>{const K=T(z);if(p)a.done=z>=d;else{let k=z===0?b:0;x<1&&(k=z===0?wo(b):aN(T,z,K));const C=Math.abs(k)<=r,P=Math.abs(o-K)<=i;a.done=C&&P}return a.value=a.done?o:K,a},toString:()=>{const z=Math.min(o5(R),S0),K=oN(k=>R.next(z*k).value,z,30);return z+"ms "+K},toTransition:()=>{}};return R}A0.applyToOptions=t=>{const e=tM(t,100,A0);return t.ease=e.ease,t.duration=wo(e.duration),t.type="keyframes",t};function T2({keyframes:t,velocity:e=0,power:n=.8,timeConstant:r=325,bounceDamping:i=10,bounceStiffness:s=500,modifyTarget:o,min:a,max:l,restDelta:u=.5,restSpeed:c}){const d=t[0],g={done:!1,value:d},p=C=>a!==void 0&&C<a||l!==void 0&&C>l,b=C=>a===void 0?l:l===void 0||Math.abs(a-C)<Math.abs(l-C)?a:l;let x=n*e;const A=d+x,v=o===void 0?A:o(A);v!==A&&(x=v-d);const _=C=>-x*Math.exp(-C/r),T=C=>v+_(C),R=C=>{const P=_(C),M=T(C);g.done=Math.abs(P)<=u,g.value=g.done?v:M};let z,K;const k=C=>{p(g.value)&&(z=C,K=A0({keyframes:[g.value,b(g.value)],velocity:aN(T,C,g.value),damping:i,stiffness:s,restDelta:u,restSpeed:c}))};return k(0),{calculatedDuration:null,next:C=>{let P=!1;return!K&&z===void 0&&(P=!0,R(C),k(C)),z!==void 0&&C>=z?K.next(C-z):(!P&&R(C),g)}}}function uM(t,e,n){const r=[],i=n||ra.mix||sN,s=t.length-1;for(let o=0;o<s;o++){let a=i(t[o],t[o+1]);if(e){const l=Array.isArray(e)?e[o]||vs:e;a=sd(l,a)}r.push(a)}return r}function cM(t,e,{clamp:n=!0,ease:r,mixer:i}={}){const s=t.length;if(Yv(s===e.length),s===1)return()=>e[0];if(s===2&&e[0]===e[1])return()=>e[1];const o=t[0]===t[1];t[0]>t[s-1]&&(t=[...t].reverse(),e=[...e].reverse());const a=uM(e,r,i),l=a.length,u=c=>{if(o&&c<t[0])return e[0];let d=0;if(l>1)for(;d<t.length-2&&!(c<t[d+1]);d++);const g=kf(t[d],t[d+1],c);return a[d](g)};return n?c=>u(na(t[0],t[s-1],c)):u}function hM(t,e){const n=t[t.length-1];for(let r=1;r<=e;r++){const i=kf(0,e,r);t.push(Dn(n,1,i))}}function fM(t){const e=[0];return hM(e,t.length-1),e}function dM(t,e){return t.map(n=>n*e)}function pM(t,e){return t.map(()=>e||QA).splice(0,t.length-1)}function Wh({duration:t=300,keyframes:e,times:n,ease:r="easeInOut"}){const i=ND(r)?r.map(P4):P4(r),s={done:!1,value:e[0]},o=dM(n&&n.length===e.length?n:fM(e),t),a=cM(o,e,{ease:Array.isArray(i)?i:pM(e,i)});return{calculatedDuration:t,next:l=>(s.value=a(l),s.done=l>=t,s)}}const mM=t=>t!==null;function a5(t,{repeat:e,repeatType:n="loop"},r,i=1){const s=t.filter(mM),a=i<0||e&&n!=="loop"&&e%2===1?0:s.length-1;return!a||r===void 0?s[a]:r}const gM={decay:T2,inertia:T2,tween:Wh,keyframes:Wh,spring:A0};function lN(t){typeof t.type=="string"&&(t.type=gM[t.type])}class l5{constructor(){this.updateFinished()}get finished(){return this._finished}updateFinished(){this._finished=new Promise(e=>{this.resolve=e})}notifyFinished(){this.resolve()}then(e,n){return this.finished.then(e,n)}}const yM=t=>t/100;class u5 extends l5{constructor(e){super(),this.state="idle",this.startTime=null,this.isStopped=!1,this.currentTime=0,this.holdTime=null,this.playbackSpeed=1,this.stop=()=>{var r,i;const{motionValue:n}=this.options;n&&n.updatedAt!==Pi.now()&&this.tick(Pi.now()),this.isStopped=!0,this.state!=="idle"&&(this.teardown(),(i=(r=this.options).onStop)==null||i.call(r))},this.options=e,this.initAnimation(),this.play(),e.autoplay===!1&&this.pause()}initAnimation(){const{options:e}=this;lN(e);const{type:n=Wh,repeat:r=0,repeatDelay:i=0,repeatType:s,velocity:o=0}=e;let{keyframes:a}=e;const l=n||Wh;l!==Wh&&typeof a[0]!="number"&&(this.mixKeyframes=sd(yM,sN(a[0],a[1])),a=[0,100]);const u=l({...e,keyframes:a});s==="mirror"&&(this.mirroredGenerator=l({...e,keyframes:[...a].reverse(),velocity:-o})),u.calculatedDuration===null&&(u.calculatedDuration=o5(u));const{calculatedDuration:c}=u;this.calculatedDuration=c,this.resolvedDuration=c+i,this.totalDuration=this.resolvedDuration*(r+1)-i,this.generator=u}updateTime(e){const n=Math.round(e-this.startTime)*this.playbackSpeed;this.holdTime!==null?this.currentTime=this.holdTime:this.currentTime=n}tick(e,n=!1){const{generator:r,totalDuration:i,mixKeyframes:s,mirroredGenerator:o,resolvedDuration:a,calculatedDuration:l}=this;if(this.startTime===null)return r.next(0);const{delay:u=0,keyframes:c,repeat:d,repeatType:g,repeatDelay:p,type:b,onUpdate:x,finalKeyframe:A}=this.options;this.speed>0?this.startTime=Math.min(this.startTime,e):this.speed<0&&(this.startTime=Math.min(e-i/this.speed,this.startTime)),n?this.currentTime=e:this.updateTime(e);const v=this.currentTime-u*(this.playbackSpeed>=0?1:-1),_=this.playbackSpeed>=0?v<0:v>i;this.currentTime=Math.max(v,0),this.state==="finished"&&this.holdTime===null&&(this.currentTime=i);let T=this.currentTime,R=r;if(d){const C=Math.min(this.currentTime,i)/a;let P=Math.floor(C),M=C%1;!M&&C>=1&&(M=1),M===1&&P--,P=Math.min(P,d+1),!!(P%2)&&(g==="reverse"?(M=1-M,p&&(M-=p/a)):g==="mirror"&&(R=o)),T=na(0,1,M)*a}const z=_?{done:!1,value:c[0]}:R.next(T);s&&(z.value=s(z.value));let{done:K}=z;!_&&l!==null&&(K=this.playbackSpeed>=0?this.currentTime>=i:this.currentTime<=0);const k=this.holdTime===null&&(this.state==="finished"||this.state==="running"&&K);return k&&b!==T2&&(z.value=a5(c,this.options,A,this.speed)),x&&x(z.value),k&&this.finish(),z}then(e,n){return this.finished.then(e,n)}get duration(){return xo(this.calculatedDuration)}get time(){return xo(this.currentTime)}set time(e){var n;e=wo(e),this.currentTime=e,this.startTime===null||this.holdTime!==null||this.playbackSpeed===0?this.holdTime=e:this.driver&&(this.startTime=this.driver.now()-e/this.playbackSpeed),(n=this.driver)==null||n.start(!1)}get speed(){return this.playbackSpeed}set speed(e){this.updateTime(Pi.now());const n=this.playbackSpeed!==e;this.playbackSpeed=e,n&&(this.time=xo(this.currentTime))}play(){var i,s;if(this.isStopped)return;const{driver:e=eM,startTime:n}=this.options;this.driver||(this.driver=e(o=>this.tick(o))),(s=(i=this.options).onPlay)==null||s.call(i);const r=this.driver.now();this.state==="finished"?(this.updateFinished(),this.startTime=r):this.holdTime!==null?this.startTime=r-this.holdTime:this.startTime||(this.startTime=n??r),this.state==="finished"&&this.speed<0&&(this.startTime+=this.calculatedDuration),this.holdTime=null,this.state="running",this.driver.start()}pause(){this.state="paused",this.updateTime(Pi.now()),this.holdTime=this.currentTime}complete(){this.state!=="running"&&this.play(),this.state="finished",this.holdTime=null}finish(){var e,n;this.notifyFinished(),this.teardown(),this.state="finished",(n=(e=this.options).onComplete)==null||n.call(e)}cancel(){var e,n;this.holdTime=null,this.startTime=0,this.tick(0),this.teardown(),(n=(e=this.options).onCancel)==null||n.call(e)}teardown(){this.state="idle",this.stopDriver(),this.startTime=this.holdTime=null}stopDriver(){this.driver&&(this.driver.stop(),this.driver=void 0)}sample(e){return this.startTime=0,this.tick(e,!0)}attachTimeline(e){var n;return this.options.allowFlatten&&(this.options.type="keyframes",this.options.ease="linear",this.initAnimation()),(n=this.driver)==null||n.stop(),e.observe(this)}}function vM(t){for(let e=1;e<t.length;e++)t[e]??(t[e]=t[e-1])}const Wl=t=>t*180/Math.PI,C2=t=>{const e=Wl(Math.atan2(t[1],t[0]));return k2(e)},wM={x:4,y:5,translateX:4,translateY:5,scaleX:0,scaleY:3,scale:t=>(Math.abs(t[0])+Math.abs(t[3]))/2,rotate:C2,rotateZ:C2,skewX:t=>Wl(Math.atan(t[1])),skewY:t=>Wl(Math.atan(t[2])),skew:t=>(Math.abs(t[1])+Math.abs(t[2]))/2},k2=t=>(t=t%360,t<0&&(t+=360),t),F4=C2,O4=t=>Math.sqrt(t[0]*t[0]+t[1]*t[1]),V4=t=>Math.sqrt(t[4]*t[4]+t[5]*t[5]),xM={x:12,y:13,z:14,translateX:12,translateY:13,translateZ:14,scaleX:O4,scaleY:V4,scale:t=>(O4(t)+V4(t))/2,rotateX:t=>k2(Wl(Math.atan2(t[6],t[5]))),rotateY:t=>k2(Wl(Math.atan2(-t[2],t[0]))),rotateZ:F4,rotate:F4,skewX:t=>Wl(Math.atan(t[4])),skewY:t=>Wl(Math.atan(t[1])),skew:t=>(Math.abs(t[1])+Math.abs(t[4]))/2};function P2(t){return t.includes("scale")?1:0}function I2(t,e){if(!t||t==="none")return P2(e);const n=t.match(/^matrix3d\(([-\d.e\s,]+)\)$/u);let r,i;if(n)r=xM,i=n;else{const a=t.match(/^matrix\(([-\d.e\s,]+)\)$/u);r=wM,i=a}if(!i)return P2(e);const s=r[e],o=i[1].split(",").map(_M);return typeof s=="function"?s(o):o[s]}const bM=(t,e)=>{const{transform:n="none"}=getComputedStyle(t);return I2(n,e)};function _M(t){return parseFloat(t.trim())}const Bc=["transformPerspective","x","y","z","translateX","translateY","translateZ","scale","scaleX","scaleY","rotate","rotateX","rotateY","rotateZ","skew","skewX","skewY"],Uc=new Set(Bc),B4=t=>t===Vc||t===pt,SM=new Set(["x","y","z"]),AM=Bc.filter(t=>!SM.has(t));function NM(t){const e=[];return AM.forEach(n=>{const r=t.getValue(n);r!==void 0&&(e.push([n,r.get()]),r.set(n.startsWith("scale")?1:0))}),e}const Yl={width:({x:t},{paddingLeft:e="0",paddingRight:n="0"})=>t.max-t.min-parseFloat(e)-parseFloat(n),height:({y:t},{paddingTop:e="0",paddingBottom:n="0"})=>t.max-t.min-parseFloat(e)-parseFloat(n),top:(t,{top:e})=>parseFloat(e),left:(t,{left:e})=>parseFloat(e),bottom:({y:t},{top:e})=>parseFloat(e)+(t.max-t.min),right:({x:t},{left:e})=>parseFloat(e)+(t.max-t.min),x:(t,{transform:e})=>I2(e,"x"),y:(t,{transform:e})=>I2(e,"y")};Yl.translateX=Yl.x;Yl.translateY=Yl.y;const Xl=new Set;let L2=!1,R2=!1,j2=!1;function uN(){if(R2){const t=Array.from(Xl).filter(r=>r.needsMeasurement),e=new Set(t.map(r=>r.element)),n=new Map;e.forEach(r=>{const i=NM(r);i.length&&(n.set(r,i),r.render())}),t.forEach(r=>r.measureInitialState()),e.forEach(r=>{r.render();const i=n.get(r);i&&i.forEach(([s,o])=>{var a;(a=r.getValue(s))==null||a.set(o)})}),t.forEach(r=>r.measureEndState()),t.forEach(r=>{r.suspendedScrollY!==void 0&&window.scrollTo(0,r.suspendedScrollY)})}R2=!1,L2=!1,Xl.forEach(t=>t.complete(j2)),Xl.clear()}function cN(){Xl.forEach(t=>{t.readKeyframes(),t.needsMeasurement&&(R2=!0)})}function EM(){j2=!0,cN(),uN(),j2=!1}class c5{constructor(e,n,r,i,s,o=!1){this.state="pending",this.isAsync=!1,this.needsMeasurement=!1,this.unresolvedKeyframes=[...e],this.onComplete=n,this.name=r,this.motionValue=i,this.element=s,this.isAsync=o}scheduleResolve(){this.state="scheduled",this.isAsync?(Xl.add(this),L2||(L2=!0,Fn.read(cN),Fn.resolveKeyframes(uN))):(this.readKeyframes(),this.complete())}readKeyframes(){const{unresolvedKeyframes:e,name:n,element:r,motionValue:i}=this;if(e[0]===null){const s=i==null?void 0:i.get(),o=e[e.length-1];if(s!==void 0)e[0]=s;else if(r&&n){const a=r.readValue(n,o);a!=null&&(e[0]=a)}e[0]===void 0&&(e[0]=o),i&&s===void 0&&i.set(e[0])}vM(e)}setFinalKeyframe(){}measureInitialState(){}renderEndStyles(){}measureEndState(){}complete(e=!1){this.state="complete",this.onComplete(this.unresolvedKeyframes,this.finalKeyframe,e),Xl.delete(this)}cancel(){this.state==="scheduled"&&(Xl.delete(this),this.state="pending")}resume(){this.state==="pending"&&this.scheduleResolve()}}const TM=t=>t.startsWith("--");function CM(t,e,n){TM(e)?t.style.setProperty(e,n):t.style[e]=n}const kM=Xv(()=>window.ScrollTimeline!==void 0),PM={};function IM(t,e){const n=Xv(t);return()=>PM[e]??n()}const hN=IM(()=>{try{document.createElement("div").animate({opacity:0},{easing:"linear(0, 1)"})}catch{return!1}return!0},"linearEasing"),Ih=([t,e,n,r])=>`cubic-bezier(${t}, ${e}, ${n}, ${r})`,U4={linear:"linear",ease:"ease",easeIn:"ease-in",easeOut:"ease-out",easeInOut:"ease-in-out",circIn:Ih([0,.65,.55,1]),circOut:Ih([.55,0,1,.45]),backIn:Ih([.31,.01,.66,-.59]),backOut:Ih([.33,1.53,.69,.99])};function fN(t,e){if(t)return typeof t=="function"?hN()?oN(t,e):"ease-out":YA(t)?Ih(t):Array.isArray(t)?t.map(n=>fN(n,e)||U4.easeOut):U4[t]}function LM(t,e,n,{delay:r=0,duration:i=300,repeat:s=0,repeatType:o="loop",ease:a="easeOut",times:l}={},u=void 0){const c={[e]:n};l&&(c.offset=l);const d=fN(a,i);Array.isArray(d)&&(c.easing=d);const g={delay:r,duration:i,easing:Array.isArray(d)?"linear":d,fill:"both",iterations:s+1,direction:o==="reverse"?"alternate":"normal"};return u&&(g.pseudoElement=u),t.animate(c,g)}function dN(t){return typeof t=="function"&&"applyToOptions"in t}function RM({type:t,...e}){return dN(t)&&hN()?t.applyToOptions(e):(e.duration??(e.duration=300),e.ease??(e.ease="easeOut"),e)}class jM extends l5{constructor(e){if(super(),this.finishedTime=null,this.isStopped=!1,!e)return;const{element:n,name:r,keyframes:i,pseudoElement:s,allowFlatten:o=!1,finalKeyframe:a,onComplete:l}=e;this.isPseudoElement=!!s,this.allowFlatten=o,this.options=e,Yv(typeof e.type!="string");const u=RM(e);this.animation=LM(n,r,i,u,s),u.autoplay===!1&&this.animation.pause(),this.animation.onfinish=()=>{if(this.finishedTime=this.time,!s){const c=a5(i,this.options,a,this.speed);this.updateMotionValue?this.updateMotionValue(c):CM(n,r,c),this.animation.cancel()}l==null||l(),this.notifyFinished()}}play(){this.isStopped||(this.animation.play(),this.state==="finished"&&this.updateFinished())}pause(){this.animation.pause()}complete(){var e,n;(n=(e=this.animation).finish)==null||n.call(e)}cancel(){try{this.animation.cancel()}catch{}}stop(){if(this.isStopped)return;this.isStopped=!0;const{state:e}=this;e==="idle"||e==="finished"||(this.updateMotionValue?this.updateMotionValue():this.commitStyles(),this.isPseudoElement||this.cancel())}commitStyles(){var e,n;this.isPseudoElement||(n=(e=this.animation).commitStyles)==null||n.call(e)}get duration(){var n,r;const e=((r=(n=this.animation.effect)==null?void 0:n.getComputedTiming)==null?void 0:r.call(n).duration)||0;return xo(Number(e))}get time(){return xo(Number(this.animation.currentTime)||0)}set time(e){this.finishedTime=null,this.animation.currentTime=wo(e)}get speed(){return this.animation.playbackRate}set speed(e){e<0&&(this.finishedTime=null),this.animation.playbackRate=e}get state(){return this.finishedTime!==null?"finished":this.animation.playState}get startTime(){return Number(this.animation.startTime)}set startTime(e){this.animation.startTime=e}attachTimeline({timeline:e,observe:n}){var r;return this.allowFlatten&&((r=this.animation.effect)==null||r.updateTiming({easing:"linear"})),this.animation.onfinish=null,e&&kM()?(this.animation.timeline=e,vs):n(this)}}const pN={anticipate:WA,backInOut:HA,circInOut:KA};function DM(t){return t in pN}function MM(t){typeof t.ease=="string"&&DM(t.ease)&&(t.ease=pN[t.ease])}const z4=10;class FM extends jM{constructor(e){MM(e),lN(e),super(e),e.startTime&&(this.startTime=e.startTime),this.options=e}updateMotionValue(e){const{motionValue:n,onUpdate:r,onComplete:i,element:s,...o}=this.options;if(!n)return;if(e!==void 0){n.set(e);return}const a=new u5({...o,autoplay:!1}),l=wo(this.finishedTime??this.time);n.setWithVelocity(a.sample(l-z4).value,a.sample(l).value,z4),a.stop()}}const q4=(t,e)=>e==="zIndex"?!1:!!(typeof t=="number"||Array.isArray(t)||typeof t=="string"&&(ol.test(t)||t==="0")&&!t.startsWith("url("));function OM(t){const e=t[0];if(t.length===1)return!0;for(let n=0;n<t.length;n++)if(t[n]!==e)return!0}function VM(t,e,n,r){const i=t[0];if(i===null)return!1;if(e==="display"||e==="visibility")return!0;const s=t[t.length-1],o=q4(i,e),a=q4(s,e);return!o||!a?!1:OM(t)||(n==="spring"||dN(n))&&r}function mN(t){return OA(t)&&"offsetHeight"in t}const BM=new Set(["opacity","clipPath","filter","transform"]),UM=Xv(()=>Object.hasOwnProperty.call(Element.prototype,"animate"));function zM(t){var u;const{motionValue:e,name:n,repeatDelay:r,repeatType:i,damping:s,type:o}=t;if(!mN((u=e==null?void 0:e.owner)==null?void 0:u.current))return!1;const{onUpdate:a,transformTemplate:l}=e.owner.getProps();return UM()&&n&&BM.has(n)&&(n!=="transform"||!l)&&!a&&!r&&i!=="mirror"&&s!==0&&o!=="inertia"}const qM=40;class $M extends l5{constructor({autoplay:e=!0,delay:n=0,type:r="keyframes",repeat:i=0,repeatDelay:s=0,repeatType:o="loop",keyframes:a,name:l,motionValue:u,element:c,...d}){var b;super(),this.stop=()=>{var x,A;this._animation&&(this._animation.stop(),(x=this.stopTimeline)==null||x.call(this)),(A=this.keyframeResolver)==null||A.cancel()},this.createdAt=Pi.now();const g={autoplay:e,delay:n,type:r,repeat:i,repeatDelay:s,repeatType:o,name:l,motionValue:u,element:c,...d},p=(c==null?void 0:c.KeyframeResolver)||c5;this.keyframeResolver=new p(a,(x,A,v)=>this.onKeyframesResolved(x,A,g,!v),l,u,c),(b=this.keyframeResolver)==null||b.scheduleResolve()}onKeyframesResolved(e,n,r,i){this.keyframeResolver=void 0;const{name:s,type:o,velocity:a,delay:l,isHandoff:u,onUpdate:c}=r;this.resolvedAt=Pi.now(),VM(e,s,o,a)||((ra.instantAnimations||!l)&&(c==null||c(a5(e,r,n))),e[0]=e[e.length-1],r.duration=0,r.repeat=0);const g={startTime:i?this.resolvedAt?this.resolvedAt-this.createdAt>qM?this.resolvedAt:this.createdAt:this.createdAt:void 0,finalKeyframe:n,...r,keyframes:e},p=!u&&zM(g)?new FM({...g,element:g.motionValue.owner.current}):new u5(g);p.finished.then(()=>this.notifyFinished()).catch(vs),this.pendingTimeline&&(this.stopTimeline=p.attachTimeline(this.pendingTimeline),this.pendingTimeline=void 0),this._animation=p}get finished(){return this._animation?this.animation.finished:this._finished}then(e,n){return this.finished.finally(e).then(()=>{})}get animation(){var e;return this._animation||((e=this.keyframeResolver)==null||e.resume(),EM()),this._animation}get duration(){return this.animation.duration}get time(){return this.animation.time}set time(e){this.animation.time=e}get speed(){return this.animation.speed}get state(){return this.animation.state}set speed(e){this.animation.speed=e}get startTime(){return this.animation.startTime}attachTimeline(e){return this._animation?this.stopTimeline=this.animation.attachTimeline(e):this.pendingTimeline=e,()=>this.stop()}play(){this.animation.play()}pause(){this.animation.pause()}complete(){this.animation.complete()}cancel(){var e;this._animation&&this.animation.cancel(),(e=this.keyframeResolver)==null||e.cancel()}}const HM=/^var\(--(?:([\w-]+)|([\w-]+), ?([a-zA-Z\d ()%#.,-]+))\)/u;function WM(t){const e=HM.exec(t);if(!e)return[,];const[,n,r,i]=e;return[`--${n??r}`,i]}function gN(t,e,n=1){const[r,i]=WM(t);if(!r)return;const s=window.getComputedStyle(e).getPropertyValue(r);if(s){const o=s.trim();return FA(o)?parseFloat(o):o}return n5(i)?gN(i,e,n+1):i}function h5(t,e){return(t==null?void 0:t[e])??(t==null?void 0:t.default)??t}const yN=new Set(["width","height","top","left","right","bottom",...Bc]),GM={test:t=>t==="auto",parse:t=>t},vN=t=>e=>e.test(t),wN=[Vc,pt,bo,La,OD,FD,GM],$4=t=>wN.find(vN(t));function KM(t){return typeof t=="number"?t===0:t!==null?t==="none"||t==="0"||VA(t):!0}const QM=new Set(["brightness","contrast","saturate","opacity"]);function YM(t){const[e,n]=t.slice(0,-1).split("(");if(e==="drop-shadow")return t;const[r]=n.match(r5)||[];if(!r)return t;const i=n.replace(r,"");let s=QM.has(e)?1:0;return r!==n&&(s*=100),e+"("+s+i+")"}const XM=/\b([a-z-]*)\(.*?\)/gu,D2={...ol,getAnimatableNone:t=>{const e=t.match(XM);return e?e.map(YM).join(" "):t}},H4={...Vc,transform:Math.round},JM={rotate:La,rotateX:La,rotateY:La,rotateZ:La,scale:Yd,scaleX:Yd,scaleY:Yd,scaleZ:Yd,skew:La,skewX:La,skewY:La,distance:pt,translateX:pt,translateY:pt,translateZ:pt,x:pt,y:pt,z:pt,perspective:pt,transformPerspective:pt,opacity:Pf,originX:L4,originY:L4,originZ:pt},f5={borderWidth:pt,borderTopWidth:pt,borderRightWidth:pt,borderBottomWidth:pt,borderLeftWidth:pt,borderRadius:pt,radius:pt,borderTopLeftRadius:pt,borderTopRightRadius:pt,borderBottomRightRadius:pt,borderBottomLeftRadius:pt,width:pt,maxWidth:pt,height:pt,maxHeight:pt,top:pt,right:pt,bottom:pt,left:pt,padding:pt,paddingTop:pt,paddingRight:pt,paddingBottom:pt,paddingLeft:pt,margin:pt,marginTop:pt,marginRight:pt,marginBottom:pt,marginLeft:pt,backgroundPositionX:pt,backgroundPositionY:pt,...JM,zIndex:H4,fillOpacity:Pf,strokeOpacity:Pf,numOctaves:H4},ZM={...f5,color:hr,backgroundColor:hr,outlineColor:hr,fill:hr,stroke:hr,borderColor:hr,borderTopColor:hr,borderRightColor:hr,borderBottomColor:hr,borderLeftColor:hr,filter:D2,WebkitFilter:D2},xN=t=>ZM[t];function bN(t,e){let n=xN(t);return n!==D2&&(n=ol),n.getAnimatableNone?n.getAnimatableNone(e):void 0}const eF=new Set(["auto","none","0"]);function tF(t,e,n){let r=0,i;for(;r<t.length&&!i;){const s=t[r];typeof s=="string"&&!eF.has(s)&&If(s).values.length&&(i=t[r]),r++}if(i&&n)for(const s of e)t[s]=bN(n,i)}class nF extends c5{constructor(e,n,r,i,s){super(e,n,r,i,s,!0)}readKeyframes(){const{unresolvedKeyframes:e,element:n,name:r}=this;if(!n||!n.current)return;super.readKeyframes();for(let l=0;l<e.length;l++){let u=e[l];if(typeof u=="string"&&(u=u.trim(),n5(u))){const c=gN(u,n.current);c!==void 0&&(e[l]=c),l===e.length-1&&(this.finalKeyframe=u)}}if(this.resolveNoneKeyframes(),!yN.has(r)||e.length!==2)return;const[i,s]=e,o=$4(i),a=$4(s);if(o!==a)if(B4(o)&&B4(a))for(let l=0;l<e.length;l++){const u=e[l];typeof u=="string"&&(e[l]=parseFloat(u))}else Yl[r]&&(this.needsMeasurement=!0)}resolveNoneKeyframes(){const{unresolvedKeyframes:e,name:n}=this,r=[];for(let i=0;i<e.length;i++)(e[i]===null||KM(e[i]))&&r.push(i);r.length&&tF(e,r,n)}measureInitialState(){const{element:e,unresolvedKeyframes:n,name:r}=this;if(!e||!e.current)return;r==="height"&&(this.suspendedScrollY=window.pageYOffset),this.measuredOrigin=Yl[r](e.measureViewportBox(),window.getComputedStyle(e.current)),n[0]=this.measuredOrigin;const i=n[n.length-1];i!==void 0&&e.getValue(r,i).jump(i,!1)}measureEndState(){var a;const{element:e,name:n,unresolvedKeyframes:r}=this;if(!e||!e.current)return;const i=e.getValue(n);i&&i.jump(this.measuredOrigin,!1);const s=r.length-1,o=r[s];r[s]=Yl[n](e.measureViewportBox(),window.getComputedStyle(e.current)),o!==null&&this.finalKeyframe===void 0&&(this.finalKeyframe=o),(a=this.removedTransforms)!=null&&a.length&&this.removedTransforms.forEach(([l,u])=>{e.getValue(l).set(u)}),this.resolveNoneKeyframes()}}function rF(t,e,n){if(t instanceof EventTarget)return[t];if(typeof t=="string"){let r=document;const i=(n==null?void 0:n[t])??r.querySelectorAll(t);return i?Array.from(i):[]}return Array.from(t)}const _N=(t,e)=>e&&typeof t=="number"?e.transform(t):t,W4=30,iF=t=>!isNaN(parseFloat(t));class sF{constructor(e,n={}){this.canTrackVelocity=null,this.events={},this.updateAndNotify=(r,i=!0)=>{var o,a;const s=Pi.now();if(this.updatedAt!==s&&this.setPrevFrameValue(),this.prev=this.current,this.setCurrent(r),this.current!==this.prev&&((o=this.events.change)==null||o.notify(this.current),this.dependents))for(const l of this.dependents)l.dirty();i&&((a=this.events.renderRequest)==null||a.notify(this.current))},this.hasAnimated=!1,this.setCurrent(e),this.owner=n.owner}setCurrent(e){this.current=e,this.updatedAt=Pi.now(),this.canTrackVelocity===null&&e!==void 0&&(this.canTrackVelocity=iF(this.current))}setPrevFrameValue(e=this.current){this.prevFrameValue=e,this.prevUpdatedAt=this.updatedAt}onChange(e){return this.on("change",e)}on(e,n){this.events[e]||(this.events[e]=new Jv);const r=this.events[e].add(n);return e==="change"?()=>{r(),Fn.read(()=>{this.events.change.getSize()||this.stop()})}:r}clearListeners(){for(const e in this.events)this.events[e].clear()}attach(e,n){this.passiveEffect=e,this.stopPassiveEffect=n}set(e,n=!0){!n||!this.passiveEffect?this.updateAndNotify(e,n):this.passiveEffect(e,this.updateAndNotify)}setWithVelocity(e,n,r){this.set(n),this.prev=void 0,this.prevFrameValue=e,this.prevUpdatedAt=this.updatedAt-r}jump(e,n=!0){this.updateAndNotify(e),this.prev=e,this.prevUpdatedAt=this.prevFrameValue=void 0,n&&this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}dirty(){var e;(e=this.events.change)==null||e.notify(this.current)}addDependent(e){this.dependents||(this.dependents=new Set),this.dependents.add(e)}removeDependent(e){this.dependents&&this.dependents.delete(e)}get(){return this.current}getPrevious(){return this.prev}getVelocity(){const e=Pi.now();if(!this.canTrackVelocity||this.prevFrameValue===void 0||e-this.updatedAt>W4)return 0;const n=Math.min(this.updatedAt-this.prevUpdatedAt,W4);return BA(parseFloat(this.current)-parseFloat(this.prevFrameValue),n)}start(e){return this.stop(),new Promise(n=>{this.hasAnimated=!0,this.animation=e(n),this.events.animationStart&&this.events.animationStart.notify()}).then(()=>{this.events.animationComplete&&this.events.animationComplete.notify(),this.clearAnimation()})}stop(){this.animation&&(this.animation.stop(),this.events.animationCancel&&this.events.animationCancel.notify()),this.clearAnimation()}isAnimating(){return!!this.animation}clearAnimation(){delete this.animation}destroy(){var e,n;(e=this.dependents)==null||e.clear(),(n=this.events.destroy)==null||n.notify(),this.clearListeners(),this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}}function Cc(t,e){return new sF(t,e)}const{schedule:d5}=XA(queueMicrotask,!1),js={x:!1,y:!1};function SN(){return js.x||js.y}function oF(t){return t==="x"||t==="y"?js[t]?null:(js[t]=!0,()=>{js[t]=!1}):js.x||js.y?null:(js.x=js.y=!0,()=>{js.x=js.y=!1})}function AN(t,e){const n=rF(t),r=new AbortController,i={passive:!0,...e,signal:r.signal};return[n,i,()=>r.abort()]}function G4(t){return!(t.pointerType==="touch"||SN())}function aF(t,e,n={}){const[r,i,s]=AN(t,n),o=a=>{if(!G4(a))return;const{target:l}=a,u=e(l,a);if(typeof u!="function"||!l)return;const c=d=>{G4(d)&&(u(d),l.removeEventListener("pointerleave",c))};l.addEventListener("pointerleave",c,i)};return r.forEach(a=>{a.addEventListener("pointerenter",o,i)}),s}const NN=(t,e)=>e?t===e?!0:NN(t,e.parentElement):!1,p5=t=>t.pointerType==="mouse"?typeof t.button!="number"||t.button<=0:t.isPrimary!==!1,lF=new Set(["BUTTON","INPUT","SELECT","TEXTAREA","A"]);function uF(t){return lF.has(t.tagName)||t.tabIndex!==-1}const Ep=new WeakSet;function K4(t){return e=>{e.key==="Enter"&&t(e)}}function S1(t,e){t.dispatchEvent(new PointerEvent("pointer"+e,{isPrimary:!0,bubbles:!0}))}const cF=(t,e)=>{const n=t.currentTarget;if(!n)return;const r=K4(()=>{if(Ep.has(n))return;S1(n,"down");const i=K4(()=>{S1(n,"up")}),s=()=>S1(n,"cancel");n.addEventListener("keyup",i,e),n.addEventListener("blur",s,e)});n.addEventListener("keydown",r,e),n.addEventListener("blur",()=>n.removeEventListener("keydown",r),e)};function Q4(t){return p5(t)&&!SN()}function hF(t,e,n={}){const[r,i,s]=AN(t,n),o=a=>{const l=a.currentTarget;if(!Q4(a))return;Ep.add(l);const u=e(l,a),c=(p,b)=>{window.removeEventListener("pointerup",d),window.removeEventListener("pointercancel",g),Ep.has(l)&&Ep.delete(l),Q4(p)&&typeof u=="function"&&u(p,{success:b})},d=p=>{c(p,l===window||l===document||n.useGlobalTarget||NN(l,p.target))},g=p=>{c(p,!1)};window.addEventListener("pointerup",d,i),window.addEventListener("pointercancel",g,i)};return r.forEach(a=>{(n.useGlobalTarget?window:a).addEventListener("pointerdown",o,i),mN(a)&&(a.addEventListener("focus",u=>cF(u,i)),!uF(a)&&!a.hasAttribute("tabindex")&&(a.tabIndex=0))}),s}function EN(t){return OA(t)&&"ownerSVGElement"in t}function fF(t){return EN(t)&&t.tagName==="svg"}const ni=t=>!!(t&&t.getVelocity),dF=[...wN,hr,ol],pF=t=>dF.find(vN(t)),TN=G.createContext({transformPagePoint:t=>t,isStatic:!1,reducedMotion:"never"});function mF(t=!0){const e=G.useContext(Gv);if(e===null)return[!0,null];const{isPresent:n,onExitComplete:r,register:i}=e,s=G.useId();G.useEffect(()=>{if(t)return i(s)},[t]);const o=G.useCallback(()=>t&&r&&r(s),[s,r,t]);return!n&&r?[!1,o]:[!0]}const CN=G.createContext({strict:!1}),Y4={animation:["animate","variants","whileHover","whileTap","exit","whileInView","whileFocus","whileDrag"],exit:["exit"],drag:["drag","dragControls"],focus:["whileFocus"],hover:["whileHover","onHoverStart","onHoverEnd"],tap:["whileTap","onTap","onTapStart","onTapCancel"],pan:["onPan","onPanStart","onPanSessionStart","onPanEnd"],inView:["whileInView","onViewportEnter","onViewportLeave"],layout:["layout","layoutId"]},kc={};for(const t in Y4)kc[t]={isEnabled:e=>Y4[t].some(n=>!!e[n])};function gF(t){for(const e in t)kc[e]={...kc[e],...t[e]}}const yF=new Set(["animate","exit","variants","initial","style","values","variants","transition","transformTemplate","custom","inherit","onBeforeLayoutMeasure","onAnimationStart","onAnimationComplete","onUpdate","onDragStart","onDrag","onDragEnd","onMeasureDragConstraints","onDirectionLock","onDragTransitionEnd","_dragX","_dragY","onHoverStart","onHoverEnd","onViewportEnter","onViewportLeave","globalTapTarget","ignoreStrict","viewport"]);function N0(t){return t.startsWith("while")||t.startsWith("drag")&&t!=="draggable"||t.startsWith("layout")||t.startsWith("onTap")||t.startsWith("onPan")||t.startsWith("onLayout")||yF.has(t)}let kN=t=>!N0(t);function vF(t){typeof t=="function"&&(kN=e=>e.startsWith("on")?!N0(e):t(e))}try{vF(require("@emotion/is-prop-valid").default)}catch{}function wF(t,e,n){const r={};for(const i in t)i==="values"&&typeof t.values=="object"||(kN(i)||n===!0&&N0(i)||!e&&!N0(i)||t.draggable&&i.startsWith("onDrag"))&&(r[i]=t[i]);return r}function xF(t){if(typeof Proxy>"u")return t;const e=new Map,n=(...r)=>t(...r);return new Proxy(n,{get:(r,i)=>i==="create"?t:(e.has(i)||e.set(i,t(i)),e.get(i))})}const pm=G.createContext({});function mm(t){return t!==null&&typeof t=="object"&&typeof t.start=="function"}function Lf(t){return typeof t=="string"||Array.isArray(t)}const m5=["animate","whileInView","whileFocus","whileHover","whileTap","whileDrag","exit"],g5=["initial",...m5];function gm(t){return mm(t.animate)||g5.some(e=>Lf(t[e]))}function PN(t){return!!(gm(t)||t.variants)}function bF(t,e){if(gm(t)){const{initial:n,animate:r}=t;return{initial:n===!1||Lf(n)?n:void 0,animate:Lf(r)?r:void 0}}return t.inherit!==!1?e:{}}function _F(t){const{initial:e,animate:n}=bF(t,G.useContext(pm));return G.useMemo(()=>({initial:e,animate:n}),[X4(e),X4(n)])}function X4(t){return Array.isArray(t)?t.join(" "):t}const SF=Symbol.for("motionComponentSymbol");function Gu(t){return t&&typeof t=="object"&&Object.prototype.hasOwnProperty.call(t,"current")}function AF(t,e,n){return G.useCallback(r=>{r&&t.onMount&&t.onMount(r),e&&(r?e.mount(r):e.unmount()),n&&(typeof n=="function"?n(r):Gu(n)&&(n.current=r))},[e])}const y5=t=>t.replace(/([a-z])([A-Z])/gu,"$1-$2").toLowerCase(),NF="framerAppearId",IN="data-"+y5(NF),LN=G.createContext({});function EF(t,e,n,r,i){var x,A;const{visualElement:s}=G.useContext(pm),o=G.useContext(CN),a=G.useContext(Gv),l=G.useContext(TN).reducedMotion,u=G.useRef(null);r=r||o.renderer,!u.current&&r&&(u.current=r(t,{visualState:e,parent:s,props:n,presenceContext:a,blockInitialAnimation:a?a.initial===!1:!1,reducedMotionConfig:l}));const c=u.current,d=G.useContext(LN);c&&!c.projection&&i&&(c.type==="html"||c.type==="svg")&&TF(u.current,n,i,d);const g=G.useRef(!1);G.useInsertionEffect(()=>{c&&g.current&&c.update(n,a)});const p=n[IN],b=G.useRef(!!p&&!((x=window.MotionHandoffIsComplete)!=null&&x.call(window,p))&&((A=window.MotionHasOptimisedAnimation)==null?void 0:A.call(window,p)));return vD(()=>{c&&(g.current=!0,window.MotionIsMounted=!0,c.updateFeatures(),d5.render(c.render),b.current&&c.animationState&&c.animationState.animateChanges())}),G.useEffect(()=>{c&&(!b.current&&c.animationState&&c.animationState.animateChanges(),b.current&&(queueMicrotask(()=>{var v;(v=window.MotionHandoffMarkAsComplete)==null||v.call(window,p)}),b.current=!1))}),c}function TF(t,e,n,r){const{layoutId:i,layout:s,drag:o,dragConstraints:a,layoutScroll:l,layoutRoot:u,layoutCrossfade:c}=e;t.projection=new n(t.latestValues,e["data-framer-portal-id"]?void 0:RN(t.parent)),t.projection.setOptions({layoutId:i,layout:s,alwaysMeasureLayout:!!o||a&&Gu(a),visualElement:t,animationType:typeof s=="string"?s:"both",initialPromotionConfig:r,crossfade:c,layoutScroll:l,layoutRoot:u})}function RN(t){if(t)return t.options.allowProjection!==!1?t.projection:RN(t.parent)}function CF({preloadedFeatures:t,createVisualElement:e,useRender:n,useVisualState:r,Component:i}){t&&gF(t);function s(a,l){let u;const c={...G.useContext(TN),...a,layoutId:kF(a)},{isStatic:d}=c,g=_F(a),p=r(a,d);if(!d&&Wv){PF();const b=IF(c);u=b.MeasureLayout,g.visualElement=EF(i,p,c,e,b.ProjectionNode)}return m.jsxs(pm.Provider,{value:g,children:[u&&g.visualElement?m.jsx(u,{visualElement:g.visualElement,...c}):null,n(i,a,AF(p,g.visualElement,l),p,d,g.visualElement)]})}s.displayName=`motion.${typeof i=="string"?i:`create(${i.displayName??i.name??""})`}`;const o=G.forwardRef(s);return o[SF]=i,o}function kF({layoutId:t}){const e=G.useContext(MA).id;return e&&t!==void 0?e+"-"+t:t}function PF(t,e){G.useContext(CN).strict}function IF(t){const{drag:e,layout:n}=kc;if(!e&&!n)return{};const r={...e,...n};return{MeasureLayout:e!=null&&e.isEnabled(t)||n!=null&&n.isEnabled(t)?r.MeasureLayout:void 0,ProjectionNode:r.ProjectionNode}}const Rf={};function LF(t){for(const e in t)Rf[e]=t[e],t5(e)&&(Rf[e].isCSSVariable=!0)}function jN(t,{layout:e,layoutId:n}){return Uc.has(t)||t.startsWith("origin")||(e||n!==void 0)&&(!!Rf[t]||t==="opacity")}const RF={x:"translateX",y:"translateY",z:"translateZ",transformPerspective:"perspective"},jF=Bc.length;function DF(t,e,n){let r="",i=!0;for(let s=0;s<jF;s++){const o=Bc[s],a=t[o];if(a===void 0)continue;let l=!0;if(typeof a=="number"?l=a===(o.startsWith("scale")?1:0):l=parseFloat(a)===0,!l||n){const u=_N(a,f5[o]);if(!l){i=!1;const c=RF[o]||o;r+=`${c}(${u}) `}n&&(e[o]=u)}}return r=r.trim(),n?r=n(e,i?"":r):i&&(r="none"),r}function v5(t,e,n){const{style:r,vars:i,transformOrigin:s}=t;let o=!1,a=!1;for(const l in e){const u=e[l];if(Uc.has(l)){o=!0;continue}else if(t5(l)){i[l]=u;continue}else{const c=_N(u,f5[l]);l.startsWith("origin")?(a=!0,s[l]=c):r[l]=c}}if(e.transform||(o||n?r.transform=DF(e,t.transform,n):r.transform&&(r.transform="none")),a){const{originX:l="50%",originY:u="50%",originZ:c=0}=s;r.transformOrigin=`${l} ${u} ${c}`}}const w5=()=>({style:{},transform:{},transformOrigin:{},vars:{}});function DN(t,e,n){for(const r in e)!ni(e[r])&&!jN(r,n)&&(t[r]=e[r])}function MF({transformTemplate:t},e){return G.useMemo(()=>{const n=w5();return v5(n,e,t),Object.assign({},n.vars,n.style)},[e])}function FF(t,e){const n=t.style||{},r={};return DN(r,n,t),Object.assign(r,MF(t,e)),r}function OF(t,e){const n={},r=FF(t,e);return t.drag&&t.dragListener!==!1&&(n.draggable=!1,r.userSelect=r.WebkitUserSelect=r.WebkitTouchCallout="none",r.touchAction=t.drag===!0?"none":`pan-${t.drag==="x"?"y":"x"}`),t.tabIndex===void 0&&(t.onTap||t.onTapStart||t.whileTap)&&(n.tabIndex=0),n.style=r,n}const VF={offset:"stroke-dashoffset",array:"stroke-dasharray"},BF={offset:"strokeDashoffset",array:"strokeDasharray"};function UF(t,e,n=1,r=0,i=!0){t.pathLength=1;const s=i?VF:BF;t[s.offset]=pt.transform(-r);const o=pt.transform(e),a=pt.transform(n);t[s.array]=`${o} ${a}`}function MN(t,{attrX:e,attrY:n,attrScale:r,pathLength:i,pathSpacing:s=1,pathOffset:o=0,...a},l,u,c){if(v5(t,a,u),l){t.style.viewBox&&(t.attrs.viewBox=t.style.viewBox);return}t.attrs=t.style,t.style={};const{attrs:d,style:g}=t;d.transform&&(g.transform=d.transform,delete d.transform),(g.transform||d.transformOrigin)&&(g.transformOrigin=d.transformOrigin??"50% 50%",delete d.transformOrigin),g.transform&&(g.transformBox=(c==null?void 0:c.transformBox)??"fill-box",delete d.transformBox),e!==void 0&&(d.x=e),n!==void 0&&(d.y=n),r!==void 0&&(d.scale=r),i!==void 0&&UF(d,i,s,o,!1)}const FN=()=>({...w5(),attrs:{}}),ON=t=>typeof t=="string"&&t.toLowerCase()==="svg";function zF(t,e,n,r){const i=G.useMemo(()=>{const s=FN();return MN(s,e,ON(r),t.transformTemplate,t.style),{...s.attrs,style:{...s.style}}},[e]);if(t.style){const s={};DN(s,t.style,t),i.style={...s,...i.style}}return i}const qF=["animate","circle","defs","desc","ellipse","g","image","line","filter","marker","mask","metadata","path","pattern","polygon","polyline","rect","stop","switch","symbol","svg","text","tspan","use","view"];function x5(t){return typeof t!="string"||t.includes("-")?!1:!!(qF.indexOf(t)>-1||/[A-Z]/u.test(t))}function $F(t=!1){return(n,r,i,{latestValues:s},o)=>{const l=(x5(n)?zF:OF)(r,s,o,n),u=wF(r,typeof n=="string",t),c=n!==G.Fragment?{...u,...l,ref:i}:{},{children:d}=r,g=G.useMemo(()=>ni(d)?d.get():d,[d]);return G.createElement(n,{...c,children:g})}}function J4(t){const e=[{},{}];return t==null||t.values.forEach((n,r)=>{e[0][r]=n.get(),e[1][r]=n.getVelocity()}),e}function b5(t,e,n,r){if(typeof e=="function"){const[i,s]=J4(r);e=e(n!==void 0?n:t.custom,i,s)}if(typeof e=="string"&&(e=t.variants&&t.variants[e]),typeof e=="function"){const[i,s]=J4(r);e=e(n!==void 0?n:t.custom,i,s)}return e}function Tp(t){return ni(t)?t.get():t}function HF({scrapeMotionValuesFromProps:t,createRenderState:e},n,r,i){return{latestValues:WF(n,r,i,t),renderState:e()}}const VN=t=>(e,n)=>{const r=G.useContext(pm),i=G.useContext(Gv),s=()=>HF(t,e,r,i);return n?s():yD(s)};function WF(t,e,n,r){const i={},s=r(t,{});for(const g in s)i[g]=Tp(s[g]);let{initial:o,animate:a}=t;const l=gm(t),u=PN(t);e&&u&&!l&&t.inherit!==!1&&(o===void 0&&(o=e.initial),a===void 0&&(a=e.animate));let c=n?n.initial===!1:!1;c=c||o===!1;const d=c?a:o;if(d&&typeof d!="boolean"&&!mm(d)){const g=Array.isArray(d)?d:[d];for(let p=0;p<g.length;p++){const b=b5(t,g[p]);if(b){const{transitionEnd:x,transition:A,...v}=b;for(const _ in v){let T=v[_];if(Array.isArray(T)){const R=c?T.length-1:0;T=T[R]}T!==null&&(i[_]=T)}for(const _ in x)i[_]=x[_]}}}return i}function _5(t,e,n){var s;const{style:r}=t,i={};for(const o in r)(ni(r[o])||e.style&&ni(e.style[o])||jN(o,t)||((s=n==null?void 0:n.getValue(o))==null?void 0:s.liveStyle)!==void 0)&&(i[o]=r[o]);return i}const GF={useVisualState:VN({scrapeMotionValuesFromProps:_5,createRenderState:w5})};function BN(t,e,n){const r=_5(t,e,n);for(const i in t)if(ni(t[i])||ni(e[i])){const s=Bc.indexOf(i)!==-1?"attr"+i.charAt(0).toUpperCase()+i.substring(1):i;r[s]=t[i]}return r}const KF={useVisualState:VN({scrapeMotionValuesFromProps:BN,createRenderState:FN})};function QF(t,e){return function(r,{forwardMotionProps:i}={forwardMotionProps:!1}){const o={...x5(r)?KF:GF,preloadedFeatures:t,useRender:$F(i),createVisualElement:e,Component:r};return CF(o)}}function jf(t,e,n){const r=t.getProps();return b5(r,e,n!==void 0?n:r.custom,t)}const M2=t=>Array.isArray(t);function YF(t,e,n){t.hasValue(e)?t.getValue(e).set(n):t.addValue(e,Cc(n))}function XF(t){return M2(t)?t[t.length-1]||0:t}function JF(t,e){const n=jf(t,e);let{transitionEnd:r={},transition:i={},...s}=n||{};s={...s,...r};for(const o in s){const a=XF(s[o]);YF(t,o,a)}}function ZF(t){return!!(ni(t)&&t.add)}function F2(t,e){const n=t.getValue("willChange");if(ZF(n))return n.add(e);if(!n&&ra.WillChange){const r=new ra.WillChange("auto");t.addValue("willChange",r),r.add(e)}}function UN(t){return t.props[IN]}const eO=t=>t!==null;function tO(t,{repeat:e,repeatType:n="loop"},r){const i=t.filter(eO),s=e&&n!=="loop"&&e%2===1?0:i.length-1;return i[s]}const nO={type:"spring",stiffness:500,damping:25,restSpeed:10},rO=t=>({type:"spring",stiffness:550,damping:t===0?2*Math.sqrt(550):30,restSpeed:10}),iO={type:"keyframes",duration:.8},sO={type:"keyframes",ease:[.25,.1,.35,1],duration:.3},oO=(t,{keyframes:e})=>e.length>2?iO:Uc.has(t)?t.startsWith("scale")?rO(e[1]):nO:sO;function aO({when:t,delay:e,delayChildren:n,staggerChildren:r,staggerDirection:i,repeat:s,repeatType:o,repeatDelay:a,from:l,elapsed:u,...c}){return!!Object.keys(c).length}const S5=(t,e,n,r={},i,s)=>o=>{const a=h5(r,t)||{},l=a.delay||r.delay||0;let{elapsed:u=0}=r;u=u-wo(l);const c={keyframes:Array.isArray(n)?n:[null,n],ease:"easeOut",velocity:e.getVelocity(),...a,delay:-u,onUpdate:g=>{e.set(g),a.onUpdate&&a.onUpdate(g)},onComplete:()=>{o(),a.onComplete&&a.onComplete()},name:t,motionValue:e,element:s?void 0:i};aO(a)||Object.assign(c,oO(t,c)),c.duration&&(c.duration=wo(c.duration)),c.repeatDelay&&(c.repeatDelay=wo(c.repeatDelay)),c.from!==void 0&&(c.keyframes[0]=c.from);let d=!1;if((c.type===!1||c.duration===0&&!c.repeatDelay)&&(c.duration=0,c.delay===0&&(d=!0)),(ra.instantAnimations||ra.skipAnimations)&&(d=!0,c.duration=0,c.delay=0),c.allowFlatten=!a.type&&!a.ease,d&&!s&&e.get()!==void 0){const g=tO(c.keyframes,a);if(g!==void 0){Fn.update(()=>{c.onUpdate(g),c.onComplete()});return}}return a.isSync?new u5(c):new $M(c)};function lO({protectedKeys:t,needsAnimating:e},n){const r=t.hasOwnProperty(n)&&e[n]!==!0;return e[n]=!1,r}function zN(t,e,{delay:n=0,transitionOverride:r,type:i}={}){let{transition:s=t.getDefaultTransition(),transitionEnd:o,...a}=e;r&&(s=r);const l=[],u=i&&t.animationState&&t.animationState.getState()[i];for(const c in a){const d=t.getValue(c,t.latestValues[c]??null),g=a[c];if(g===void 0||u&&lO(u,c))continue;const p={delay:n,...h5(s||{},c)},b=d.get();if(b!==void 0&&!d.isAnimating&&!Array.isArray(g)&&g===b&&!p.velocity)continue;let x=!1;if(window.MotionHandoffAnimation){const v=UN(t);if(v){const _=window.MotionHandoffAnimation(v,c,Fn);_!==null&&(p.startTime=_,x=!0)}}F2(t,c),d.start(S5(c,d,g,t.shouldReduceMotion&&yN.has(c)?{type:!1}:p,t,x));const A=d.animation;A&&l.push(A)}return o&&Promise.all(l).then(()=>{Fn.update(()=>{o&&JF(t,o)})}),l}function O2(t,e,n={}){var l;const r=jf(t,e,n.type==="exit"?(l=t.presenceContext)==null?void 0:l.custom:void 0);let{transition:i=t.getDefaultTransition()||{}}=r||{};n.transitionOverride&&(i=n.transitionOverride);const s=r?()=>Promise.all(zN(t,r,n)):()=>Promise.resolve(),o=t.variantChildren&&t.variantChildren.size?(u=0)=>{const{delayChildren:c=0,staggerChildren:d,staggerDirection:g}=i;return uO(t,e,c+u,d,g,n)}:()=>Promise.resolve(),{when:a}=i;if(a){const[u,c]=a==="beforeChildren"?[s,o]:[o,s];return u().then(()=>c())}else return Promise.all([s(),o(n.delay)])}function uO(t,e,n=0,r=0,i=1,s){const o=[],a=(t.variantChildren.size-1)*r,l=i===1?(u=0)=>u*r:(u=0)=>a-u*r;return Array.from(t.variantChildren).sort(cO).forEach((u,c)=>{u.notify("AnimationStart",e),o.push(O2(u,e,{...s,delay:n+l(c)}).then(()=>u.notify("AnimationComplete",e)))}),Promise.all(o)}function cO(t,e){return t.sortNodePosition(e)}function hO(t,e,n={}){t.notify("AnimationStart",e);let r;if(Array.isArray(e)){const i=e.map(s=>O2(t,s,n));r=Promise.all(i)}else if(typeof e=="string")r=O2(t,e,n);else{const i=typeof e=="function"?jf(t,e,n.custom):e;r=Promise.all(zN(t,i,n))}return r.then(()=>{t.notify("AnimationComplete",e)})}function qN(t,e){if(!Array.isArray(e))return!1;const n=e.length;if(n!==t.length)return!1;for(let r=0;r<n;r++)if(e[r]!==t[r])return!1;return!0}const fO=g5.length;function $N(t){if(!t)return;if(!t.isControllingVariants){const n=t.parent?$N(t.parent)||{}:{};return t.props.initial!==void 0&&(n.initial=t.props.initial),n}const e={};for(let n=0;n<fO;n++){const r=g5[n],i=t.props[r];(Lf(i)||i===!1)&&(e[r]=i)}return e}const dO=[...m5].reverse(),pO=m5.length;function mO(t){return e=>Promise.all(e.map(({animation:n,options:r})=>hO(t,n,r)))}function gO(t){let e=mO(t),n=Z4(),r=!0;const i=l=>(u,c)=>{var g;const d=jf(t,c,l==="exit"?(g=t.presenceContext)==null?void 0:g.custom:void 0);if(d){const{transition:p,transitionEnd:b,...x}=d;u={...u,...x,...b}}return u};function s(l){e=l(t)}function o(l){const{props:u}=t,c=$N(t.parent)||{},d=[],g=new Set;let p={},b=1/0;for(let A=0;A<pO;A++){const v=dO[A],_=n[v],T=u[v]!==void 0?u[v]:c[v],R=Lf(T),z=v===l?_.isActive:null;z===!1&&(b=A);let K=T===c[v]&&T!==u[v]&&R;if(K&&r&&t.manuallyAnimateOnMount&&(K=!1),_.protectedKeys={...p},!_.isActive&&z===null||!T&&!_.prevProp||mm(T)||typeof T=="boolean")continue;const k=yO(_.prevProp,T);let C=k||v===l&&_.isActive&&!K&&R||A>b&&R,P=!1;const M=Array.isArray(T)?T:[T];let E=M.reduce(i(v),{});z===!1&&(E={});const{prevResolvedValues:L={}}=_,j={...L,...E},H=ae=>{C=!0,g.has(ae)&&(P=!0,g.delete(ae)),_.needsAnimating[ae]=!0;const ee=t.getValue(ae);ee&&(ee.liveStyle=!1)};for(const ae in j){const ee=E[ae],oe=L[ae];if(p.hasOwnProperty(ae))continue;let ge=!1;M2(ee)&&M2(oe)?ge=!qN(ee,oe):ge=ee!==oe,ge?ee!=null?H(ae):g.add(ae):ee!==void 0&&g.has(ae)?H(ae):_.protectedKeys[ae]=!0}_.prevProp=T,_.prevResolvedValues=E,_.isActive&&(p={...p,...E}),r&&t.blockInitialAnimation&&(C=!1),C&&(!(K&&k)||P)&&d.push(...M.map(ae=>({animation:ae,options:{type:v}})))}if(g.size){const A={};if(typeof u.initial!="boolean"){const v=jf(t,Array.isArray(u.initial)?u.initial[0]:u.initial);v&&v.transition&&(A.transition=v.transition)}g.forEach(v=>{const _=t.getBaseTarget(v),T=t.getValue(v);T&&(T.liveStyle=!0),A[v]=_??null}),d.push({animation:A})}let x=!!d.length;return r&&(u.initial===!1||u.initial===u.animate)&&!t.manuallyAnimateOnMount&&(x=!1),r=!1,x?e(d):Promise.resolve()}function a(l,u){var d;if(n[l].isActive===u)return Promise.resolve();(d=t.variantChildren)==null||d.forEach(g=>{var p;return(p=g.animationState)==null?void 0:p.setActive(l,u)}),n[l].isActive=u;const c=o(l);for(const g in n)n[g].protectedKeys={};return c}return{animateChanges:o,setActive:a,setAnimateFunction:s,getState:()=>n,reset:()=>{n=Z4(),r=!0}}}function yO(t,e){return typeof e=="string"?e!==t:Array.isArray(e)?!qN(e,t):!1}function jl(t=!1){return{isActive:t,protectedKeys:{},needsAnimating:{},prevResolvedValues:{}}}function Z4(){return{animate:jl(!0),whileInView:jl(),whileHover:jl(),whileTap:jl(),whileDrag:jl(),whileFocus:jl(),exit:jl()}}class pl{constructor(e){this.isMounted=!1,this.node=e}update(){}}class vO extends pl{constructor(e){super(e),e.animationState||(e.animationState=gO(e))}updateAnimationControlsSubscription(){const{animate:e}=this.node.getProps();mm(e)&&(this.unmountControls=e.subscribe(this.node))}mount(){this.updateAnimationControlsSubscription()}update(){const{animate:e}=this.node.getProps(),{animate:n}=this.node.prevProps||{};e!==n&&this.updateAnimationControlsSubscription()}unmount(){var e;this.node.animationState.reset(),(e=this.unmountControls)==null||e.call(this)}}let wO=0;class xO extends pl{constructor(){super(...arguments),this.id=wO++}update(){if(!this.node.presenceContext)return;const{isPresent:e,onExitComplete:n}=this.node.presenceContext,{isPresent:r}=this.node.prevPresenceContext||{};if(!this.node.animationState||e===r)return;const i=this.node.animationState.setActive("exit",!e);n&&!e&&i.then(()=>{n(this.id)})}mount(){const{register:e,onExitComplete:n}=this.node.presenceContext||{};n&&n(this.id),e&&(this.unmount=e(this.id))}unmount(){}}const bO={animation:{Feature:vO},exit:{Feature:xO}};function Df(t,e,n,r={passive:!0}){return t.addEventListener(e,n,r),()=>t.removeEventListener(e,n)}function ld(t){return{point:{x:t.pageX,y:t.pageY}}}const _O=t=>e=>p5(e)&&t(e,ld(e));function Gh(t,e,n,r){return Df(t,e,_O(n),r)}function HN({top:t,left:e,right:n,bottom:r}){return{x:{min:e,max:n},y:{min:t,max:r}}}function SO({x:t,y:e}){return{top:e.min,right:t.max,bottom:e.max,left:t.min}}function AO(t,e){if(!e)return t;const n=e({x:t.left,y:t.top}),r=e({x:t.right,y:t.bottom});return{top:n.y,left:n.x,bottom:r.y,right:r.x}}const WN=1e-4,NO=1-WN,EO=1+WN,GN=.01,TO=0-GN,CO=0+GN;function fi(t){return t.max-t.min}function kO(t,e,n){return Math.abs(t-e)<=n}function eb(t,e,n,r=.5){t.origin=r,t.originPoint=Dn(e.min,e.max,t.origin),t.scale=fi(n)/fi(e),t.translate=Dn(n.min,n.max,t.origin)-t.originPoint,(t.scale>=NO&&t.scale<=EO||isNaN(t.scale))&&(t.scale=1),(t.translate>=TO&&t.translate<=CO||isNaN(t.translate))&&(t.translate=0)}function Kh(t,e,n,r){eb(t.x,e.x,n.x,r?r.originX:void 0),eb(t.y,e.y,n.y,r?r.originY:void 0)}function tb(t,e,n){t.min=n.min+e.min,t.max=t.min+fi(e)}function PO(t,e,n){tb(t.x,e.x,n.x),tb(t.y,e.y,n.y)}function nb(t,e,n){t.min=e.min-n.min,t.max=t.min+fi(e)}function Qh(t,e,n){nb(t.x,e.x,n.x),nb(t.y,e.y,n.y)}const rb=()=>({translate:0,scale:1,origin:0,originPoint:0}),Ku=()=>({x:rb(),y:rb()}),ib=()=>({min:0,max:0}),nr=()=>({x:ib(),y:ib()});function ds(t){return[t("x"),t("y")]}function A1(t){return t===void 0||t===1}function V2({scale:t,scaleX:e,scaleY:n}){return!A1(t)||!A1(e)||!A1(n)}function Ol(t){return V2(t)||KN(t)||t.z||t.rotate||t.rotateX||t.rotateY||t.skewX||t.skewY}function KN(t){return sb(t.x)||sb(t.y)}function sb(t){return t&&t!=="0%"}function E0(t,e,n){const r=t-n,i=e*r;return n+i}function ob(t,e,n,r,i){return i!==void 0&&(t=E0(t,i,r)),E0(t,n,r)+e}function B2(t,e=0,n=1,r,i){t.min=ob(t.min,e,n,r,i),t.max=ob(t.max,e,n,r,i)}function QN(t,{x:e,y:n}){B2(t.x,e.translate,e.scale,e.originPoint),B2(t.y,n.translate,n.scale,n.originPoint)}const ab=.999999999999,lb=1.0000000000001;function IO(t,e,n,r=!1){const i=n.length;if(!i)return;e.x=e.y=1;let s,o;for(let a=0;a<i;a++){s=n[a],o=s.projectionDelta;const{visualElement:l}=s.options;l&&l.props.style&&l.props.style.display==="contents"||(r&&s.options.layoutScroll&&s.scroll&&s!==s.root&&Yu(t,{x:-s.scroll.offset.x,y:-s.scroll.offset.y}),o&&(e.x*=o.x.scale,e.y*=o.y.scale,QN(t,o)),r&&Ol(s.latestValues)&&Yu(t,s.latestValues))}e.x<lb&&e.x>ab&&(e.x=1),e.y<lb&&e.y>ab&&(e.y=1)}function Qu(t,e){t.min=t.min+e,t.max=t.max+e}function ub(t,e,n,r,i=.5){const s=Dn(t.min,t.max,i);B2(t,e,n,s,r)}function Yu(t,e){ub(t.x,e.x,e.scaleX,e.scale,e.originX),ub(t.y,e.y,e.scaleY,e.scale,e.originY)}function YN(t,e){return HN(AO(t.getBoundingClientRect(),e))}function LO(t,e,n){const r=YN(t,n),{scroll:i}=e;return i&&(Qu(r.x,i.offset.x),Qu(r.y,i.offset.y)),r}const XN=({current:t})=>t?t.ownerDocument.defaultView:null,cb=(t,e)=>Math.abs(t-e);function RO(t,e){const n=cb(t.x,e.x),r=cb(t.y,e.y);return Math.sqrt(n**2+r**2)}class JN{constructor(e,n,{transformPagePoint:r,contextWindow:i,dragSnapToOrigin:s=!1}={}){if(this.startEvent=null,this.lastMoveEvent=null,this.lastMoveEventInfo=null,this.handlers={},this.contextWindow=window,this.updatePoint=()=>{if(!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const d=E1(this.lastMoveEventInfo,this.history),g=this.startEvent!==null,p=RO(d.offset,{x:0,y:0})>=3;if(!g&&!p)return;const{point:b}=d,{timestamp:x}=jr;this.history.push({...b,timestamp:x});const{onStart:A,onMove:v}=this.handlers;g||(A&&A(this.lastMoveEvent,d),this.startEvent=this.lastMoveEvent),v&&v(this.lastMoveEvent,d)},this.handlePointerMove=(d,g)=>{this.lastMoveEvent=d,this.lastMoveEventInfo=N1(g,this.transformPagePoint),Fn.update(this.updatePoint,!0)},this.handlePointerUp=(d,g)=>{this.end();const{onEnd:p,onSessionEnd:b,resumeAnimation:x}=this.handlers;if(this.dragSnapToOrigin&&x&&x(),!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const A=E1(d.type==="pointercancel"?this.lastMoveEventInfo:N1(g,this.transformPagePoint),this.history);this.startEvent&&p&&p(d,A),b&&b(d,A)},!p5(e))return;this.dragSnapToOrigin=s,this.handlers=n,this.transformPagePoint=r,this.contextWindow=i||window;const o=ld(e),a=N1(o,this.transformPagePoint),{point:l}=a,{timestamp:u}=jr;this.history=[{...l,timestamp:u}];const{onSessionStart:c}=n;c&&c(e,E1(a,this.history)),this.removeListeners=sd(Gh(this.contextWindow,"pointermove",this.handlePointerMove),Gh(this.contextWindow,"pointerup",this.handlePointerUp),Gh(this.contextWindow,"pointercancel",this.handlePointerUp))}updateHandlers(e){this.handlers=e}end(){this.removeListeners&&this.removeListeners(),sl(this.updatePoint)}}function N1(t,e){return e?{point:e(t.point)}:t}function hb(t,e){return{x:t.x-e.x,y:t.y-e.y}}function E1({point:t},e){return{point:t,delta:hb(t,ZN(e)),offset:hb(t,jO(e)),velocity:DO(e,.1)}}function jO(t){return t[0]}function ZN(t){return t[t.length-1]}function DO(t,e){if(t.length<2)return{x:0,y:0};let n=t.length-1,r=null;const i=ZN(t);for(;n>=0&&(r=t[n],!(i.timestamp-r.timestamp>wo(e)));)n--;if(!r)return{x:0,y:0};const s=xo(i.timestamp-r.timestamp);if(s===0)return{x:0,y:0};const o={x:(i.x-r.x)/s,y:(i.y-r.y)/s};return o.x===1/0&&(o.x=0),o.y===1/0&&(o.y=0),o}function MO(t,{min:e,max:n},r){return e!==void 0&&t<e?t=r?Dn(e,t,r.min):Math.max(t,e):n!==void 0&&t>n&&(t=r?Dn(n,t,r.max):Math.min(t,n)),t}function fb(t,e,n){return{min:e!==void 0?t.min+e:void 0,max:n!==void 0?t.max+n-(t.max-t.min):void 0}}function FO(t,{top:e,left:n,bottom:r,right:i}){return{x:fb(t.x,n,i),y:fb(t.y,e,r)}}function db(t,e){let n=e.min-t.min,r=e.max-t.max;return e.max-e.min<t.max-t.min&&([n,r]=[r,n]),{min:n,max:r}}function OO(t,e){return{x:db(t.x,e.x),y:db(t.y,e.y)}}function VO(t,e){let n=.5;const r=fi(t),i=fi(e);return i>r?n=kf(e.min,e.max-r,t.min):r>i&&(n=kf(t.min,t.max-i,e.min)),na(0,1,n)}function BO(t,e){const n={};return e.min!==void 0&&(n.min=e.min-t.min),e.max!==void 0&&(n.max=e.max-t.min),n}const U2=.35;function UO(t=U2){return t===!1?t=0:t===!0&&(t=U2),{x:pb(t,"left","right"),y:pb(t,"top","bottom")}}function pb(t,e,n){return{min:mb(t,e),max:mb(t,n)}}function mb(t,e){return typeof t=="number"?t:t[e]||0}const zO=new WeakMap;class qO{constructor(e){this.openDragLock=null,this.isDragging=!1,this.currentDirection=null,this.originPoint={x:0,y:0},this.constraints=!1,this.hasMutatedConstraints=!1,this.elastic=nr(),this.visualElement=e}start(e,{snapToCursor:n=!1}={}){const{presenceContext:r}=this.visualElement;if(r&&r.isPresent===!1)return;const i=c=>{const{dragSnapToOrigin:d}=this.getProps();d?this.pauseAnimation():this.stopAnimation(),n&&this.snapToCursor(ld(c).point)},s=(c,d)=>{const{drag:g,dragPropagation:p,onDragStart:b}=this.getProps();if(g&&!p&&(this.openDragLock&&this.openDragLock(),this.openDragLock=oF(g),!this.openDragLock))return;this.isDragging=!0,this.currentDirection=null,this.resolveConstraints(),this.visualElement.projection&&(this.visualElement.projection.isAnimationBlocked=!0,this.visualElement.projection.target=void 0),ds(A=>{let v=this.getAxisMotionValue(A).get()||0;if(bo.test(v)){const{projection:_}=this.visualElement;if(_&&_.layout){const T=_.layout.layoutBox[A];T&&(v=fi(T)*(parseFloat(v)/100))}}this.originPoint[A]=v}),b&&Fn.postRender(()=>b(c,d)),F2(this.visualElement,"transform");const{animationState:x}=this.visualElement;x&&x.setActive("whileDrag",!0)},o=(c,d)=>{const{dragPropagation:g,dragDirectionLock:p,onDirectionLock:b,onDrag:x}=this.getProps();if(!g&&!this.openDragLock)return;const{offset:A}=d;if(p&&this.currentDirection===null){this.currentDirection=$O(A),this.currentDirection!==null&&b&&b(this.currentDirection);return}this.updateAxis("x",d.point,A),this.updateAxis("y",d.point,A),this.visualElement.render(),x&&x(c,d)},a=(c,d)=>this.stop(c,d),l=()=>ds(c=>{var d;return this.getAnimationState(c)==="paused"&&((d=this.getAxisMotionValue(c).animation)==null?void 0:d.play())}),{dragSnapToOrigin:u}=this.getProps();this.panSession=new JN(e,{onSessionStart:i,onStart:s,onMove:o,onSessionEnd:a,resumeAnimation:l},{transformPagePoint:this.visualElement.getTransformPagePoint(),dragSnapToOrigin:u,contextWindow:XN(this.visualElement)})}stop(e,n){const r=this.isDragging;if(this.cancel(),!r)return;const{velocity:i}=n;this.startAnimation(i);const{onDragEnd:s}=this.getProps();s&&Fn.postRender(()=>s(e,n))}cancel(){this.isDragging=!1;const{projection:e,animationState:n}=this.visualElement;e&&(e.isAnimationBlocked=!1),this.panSession&&this.panSession.end(),this.panSession=void 0;const{dragPropagation:r}=this.getProps();!r&&this.openDragLock&&(this.openDragLock(),this.openDragLock=null),n&&n.setActive("whileDrag",!1)}updateAxis(e,n,r){const{drag:i}=this.getProps();if(!r||!Xd(e,i,this.currentDirection))return;const s=this.getAxisMotionValue(e);let o=this.originPoint[e]+r[e];this.constraints&&this.constraints[e]&&(o=MO(o,this.constraints[e],this.elastic[e])),s.set(o)}resolveConstraints(){var s;const{dragConstraints:e,dragElastic:n}=this.getProps(),r=this.visualElement.projection&&!this.visualElement.projection.layout?this.visualElement.projection.measure(!1):(s=this.visualElement.projection)==null?void 0:s.layout,i=this.constraints;e&&Gu(e)?this.constraints||(this.constraints=this.resolveRefConstraints()):e&&r?this.constraints=FO(r.layoutBox,e):this.constraints=!1,this.elastic=UO(n),i!==this.constraints&&r&&this.constraints&&!this.hasMutatedConstraints&&ds(o=>{this.constraints!==!1&&this.getAxisMotionValue(o)&&(this.constraints[o]=BO(r.layoutBox[o],this.constraints[o]))})}resolveRefConstraints(){const{dragConstraints:e,onMeasureDragConstraints:n}=this.getProps();if(!e||!Gu(e))return!1;const r=e.current,{projection:i}=this.visualElement;if(!i||!i.layout)return!1;const s=LO(r,i.root,this.visualElement.getTransformPagePoint());let o=OO(i.layout.layoutBox,s);if(n){const a=n(SO(o));this.hasMutatedConstraints=!!a,a&&(o=HN(a))}return o}startAnimation(e){const{drag:n,dragMomentum:r,dragElastic:i,dragTransition:s,dragSnapToOrigin:o,onDragTransitionEnd:a}=this.getProps(),l=this.constraints||{},u=ds(c=>{if(!Xd(c,n,this.currentDirection))return;let d=l&&l[c]||{};o&&(d={min:0,max:0});const g=i?200:1e6,p=i?40:1e7,b={type:"inertia",velocity:r?e[c]:0,bounceStiffness:g,bounceDamping:p,timeConstant:750,restDelta:1,restSpeed:10,...s,...d};return this.startAxisValueAnimation(c,b)});return Promise.all(u).then(a)}startAxisValueAnimation(e,n){const r=this.getAxisMotionValue(e);return F2(this.visualElement,e),r.start(S5(e,r,0,n,this.visualElement,!1))}stopAnimation(){ds(e=>this.getAxisMotionValue(e).stop())}pauseAnimation(){ds(e=>{var n;return(n=this.getAxisMotionValue(e).animation)==null?void 0:n.pause()})}getAnimationState(e){var n;return(n=this.getAxisMotionValue(e).animation)==null?void 0:n.state}getAxisMotionValue(e){const n=`_drag${e.toUpperCase()}`,r=this.visualElement.getProps(),i=r[n];return i||this.visualElement.getValue(e,(r.initial?r.initial[e]:void 0)||0)}snapToCursor(e){ds(n=>{const{drag:r}=this.getProps();if(!Xd(n,r,this.currentDirection))return;const{projection:i}=this.visualElement,s=this.getAxisMotionValue(n);if(i&&i.layout){const{min:o,max:a}=i.layout.layoutBox[n];s.set(e[n]-Dn(o,a,.5))}})}scalePositionWithinConstraints(){if(!this.visualElement.current)return;const{drag:e,dragConstraints:n}=this.getProps(),{projection:r}=this.visualElement;if(!Gu(n)||!r||!this.constraints)return;this.stopAnimation();const i={x:0,y:0};ds(o=>{const a=this.getAxisMotionValue(o);if(a&&this.constraints!==!1){const l=a.get();i[o]=VO({min:l,max:l},this.constraints[o])}});const{transformTemplate:s}=this.visualElement.getProps();this.visualElement.current.style.transform=s?s({},""):"none",r.root&&r.root.updateScroll(),r.updateLayout(),this.resolveConstraints(),ds(o=>{if(!Xd(o,e,null))return;const a=this.getAxisMotionValue(o),{min:l,max:u}=this.constraints[o];a.set(Dn(l,u,i[o]))})}addListeners(){if(!this.visualElement.current)return;zO.set(this.visualElement,this);const e=this.visualElement.current,n=Gh(e,"pointerdown",l=>{const{drag:u,dragListener:c=!0}=this.getProps();u&&c&&this.start(l)}),r=()=>{const{dragConstraints:l}=this.getProps();Gu(l)&&l.current&&(this.constraints=this.resolveRefConstraints())},{projection:i}=this.visualElement,s=i.addEventListener("measure",r);i&&!i.layout&&(i.root&&i.root.updateScroll(),i.updateLayout()),Fn.read(r);const o=Df(window,"resize",()=>this.scalePositionWithinConstraints()),a=i.addEventListener("didUpdate",({delta:l,hasLayoutChanged:u})=>{this.isDragging&&u&&(ds(c=>{const d=this.getAxisMotionValue(c);d&&(this.originPoint[c]+=l[c].translate,d.set(d.get()+l[c].translate))}),this.visualElement.render())});return()=>{o(),n(),s(),a&&a()}}getProps(){const e=this.visualElement.getProps(),{drag:n=!1,dragDirectionLock:r=!1,dragPropagation:i=!1,dragConstraints:s=!1,dragElastic:o=U2,dragMomentum:a=!0}=e;return{...e,drag:n,dragDirectionLock:r,dragPropagation:i,dragConstraints:s,dragElastic:o,dragMomentum:a}}}function Xd(t,e,n){return(e===!0||e===t)&&(n===null||n===t)}function $O(t,e=10){let n=null;return Math.abs(t.y)>e?n="y":Math.abs(t.x)>e&&(n="x"),n}class HO extends pl{constructor(e){super(e),this.removeGroupControls=vs,this.removeListeners=vs,this.controls=new qO(e)}mount(){const{dragControls:e}=this.node.getProps();e&&(this.removeGroupControls=e.subscribe(this.controls)),this.removeListeners=this.controls.addListeners()||vs}unmount(){this.removeGroupControls(),this.removeListeners()}}const gb=t=>(e,n)=>{t&&Fn.postRender(()=>t(e,n))};class WO extends pl{constructor(){super(...arguments),this.removePointerDownListener=vs}onPointerDown(e){this.session=new JN(e,this.createPanHandlers(),{transformPagePoint:this.node.getTransformPagePoint(),contextWindow:XN(this.node)})}createPanHandlers(){const{onPanSessionStart:e,onPanStart:n,onPan:r,onPanEnd:i}=this.node.getProps();return{onSessionStart:gb(e),onStart:gb(n),onMove:r,onEnd:(s,o)=>{delete this.session,i&&Fn.postRender(()=>i(s,o))}}}mount(){this.removePointerDownListener=Gh(this.node.current,"pointerdown",e=>this.onPointerDown(e))}update(){this.session&&this.session.updateHandlers(this.createPanHandlers())}unmount(){this.removePointerDownListener(),this.session&&this.session.end()}}const Cp={hasAnimatedSinceResize:!0,hasEverUpdated:!1};function yb(t,e){return e.max===e.min?0:t/(e.max-e.min)*100}const wh={correct:(t,e)=>{if(!e.target)return t;if(typeof t=="string")if(pt.test(t))t=parseFloat(t);else return t;const n=yb(t,e.target.x),r=yb(t,e.target.y);return`${n}% ${r}%`}},GO={correct:(t,{treeScale:e,projectionDelta:n})=>{const r=t,i=ol.parse(t);if(i.length>5)return r;const s=ol.createTransformer(t),o=typeof i[0]!="number"?1:0,a=n.x.scale*e.x,l=n.y.scale*e.y;i[0+o]/=a,i[1+o]/=l;const u=Dn(a,l,.5);return typeof i[2+o]=="number"&&(i[2+o]/=u),typeof i[3+o]=="number"&&(i[3+o]/=u),s(i)}};class KO extends G.Component{componentDidMount(){const{visualElement:e,layoutGroup:n,switchLayoutGroup:r,layoutId:i}=this.props,{projection:s}=e;LF(QO),s&&(n.group&&n.group.add(s),r&&r.register&&i&&r.register(s),s.root.didUpdate(),s.addEventListener("animationComplete",()=>{this.safeToRemove()}),s.setOptions({...s.options,onExitComplete:()=>this.safeToRemove()})),Cp.hasEverUpdated=!0}getSnapshotBeforeUpdate(e){const{layoutDependency:n,visualElement:r,drag:i,isPresent:s}=this.props,{projection:o}=r;return o&&(o.isPresent=s,i||e.layoutDependency!==n||n===void 0||e.isPresent!==s?o.willUpdate():this.safeToRemove(),e.isPresent!==s&&(s?o.promote():o.relegate()||Fn.postRender(()=>{const a=o.getStack();(!a||!a.members.length)&&this.safeToRemove()}))),null}componentDidUpdate(){const{projection:e}=this.props.visualElement;e&&(e.root.didUpdate(),d5.postRender(()=>{!e.currentAnimation&&e.isLead()&&this.safeToRemove()}))}componentWillUnmount(){const{visualElement:e,layoutGroup:n,switchLayoutGroup:r}=this.props,{projection:i}=e;i&&(i.scheduleCheckAfterUnmount(),n&&n.group&&n.group.remove(i),r&&r.deregister&&r.deregister(i))}safeToRemove(){const{safeToRemove:e}=this.props;e&&e()}render(){return null}}function eE(t){const[e,n]=mF(),r=G.useContext(MA);return m.jsx(KO,{...t,layoutGroup:r,switchLayoutGroup:G.useContext(LN),isPresent:e,safeToRemove:n})}const QO={borderRadius:{...wh,applyTo:["borderTopLeftRadius","borderTopRightRadius","borderBottomLeftRadius","borderBottomRightRadius"]},borderTopLeftRadius:wh,borderTopRightRadius:wh,borderBottomLeftRadius:wh,borderBottomRightRadius:wh,boxShadow:GO};function YO(t,e,n){const r=ni(t)?t:Cc(t);return r.start(S5("",r,e,n)),r.animation}const XO=(t,e)=>t.depth-e.depth;class JO{constructor(){this.children=[],this.isDirty=!1}add(e){Kv(this.children,e),this.isDirty=!0}remove(e){Qv(this.children,e),this.isDirty=!0}forEach(e){this.isDirty&&this.children.sort(XO),this.isDirty=!1,this.children.forEach(e)}}function ZO(t,e){const n=Pi.now(),r=({timestamp:i})=>{const s=i-n;s>=e&&(sl(r),t(s-e))};return Fn.setup(r,!0),()=>sl(r)}const tE=["TopLeft","TopRight","BottomLeft","BottomRight"],eV=tE.length,vb=t=>typeof t=="string"?parseFloat(t):t,wb=t=>typeof t=="number"||pt.test(t);function tV(t,e,n,r,i,s){i?(t.opacity=Dn(0,n.opacity??1,nV(r)),t.opacityExit=Dn(e.opacity??1,0,rV(r))):s&&(t.opacity=Dn(e.opacity??1,n.opacity??1,r));for(let o=0;o<eV;o++){const a=`border${tE[o]}Radius`;let l=xb(e,a),u=xb(n,a);if(l===void 0&&u===void 0)continue;l||(l=0),u||(u=0),l===0||u===0||wb(l)===wb(u)?(t[a]=Math.max(Dn(vb(l),vb(u),r),0),(bo.test(u)||bo.test(l))&&(t[a]+="%")):t[a]=u}(e.rotate||n.rotate)&&(t.rotate=Dn(e.rotate||0,n.rotate||0,r))}function xb(t,e){return t[e]!==void 0?t[e]:t.borderRadius}const nV=nE(0,.5,GA),rV=nE(.5,.95,vs);function nE(t,e,n){return r=>r<t?0:r>e?1:n(kf(t,e,r))}function bb(t,e){t.min=e.min,t.max=e.max}function fs(t,e){bb(t.x,e.x),bb(t.y,e.y)}function _b(t,e){t.translate=e.translate,t.scale=e.scale,t.originPoint=e.originPoint,t.origin=e.origin}function Sb(t,e,n,r,i){return t-=e,t=E0(t,1/n,r),i!==void 0&&(t=E0(t,1/i,r)),t}function iV(t,e=0,n=1,r=.5,i,s=t,o=t){if(bo.test(e)&&(e=parseFloat(e),e=Dn(o.min,o.max,e/100)-o.min),typeof e!="number")return;let a=Dn(s.min,s.max,r);t===s&&(a-=e),t.min=Sb(t.min,e,n,a,i),t.max=Sb(t.max,e,n,a,i)}function Ab(t,e,[n,r,i],s,o){iV(t,e[n],e[r],e[i],e.scale,s,o)}const sV=["x","scaleX","originX"],oV=["y","scaleY","originY"];function Nb(t,e,n,r){Ab(t.x,e,sV,n?n.x:void 0,r?r.x:void 0),Ab(t.y,e,oV,n?n.y:void 0,r?r.y:void 0)}function Eb(t){return t.translate===0&&t.scale===1}function rE(t){return Eb(t.x)&&Eb(t.y)}function Tb(t,e){return t.min===e.min&&t.max===e.max}function aV(t,e){return Tb(t.x,e.x)&&Tb(t.y,e.y)}function Cb(t,e){return Math.round(t.min)===Math.round(e.min)&&Math.round(t.max)===Math.round(e.max)}function iE(t,e){return Cb(t.x,e.x)&&Cb(t.y,e.y)}function kb(t){return fi(t.x)/fi(t.y)}function Pb(t,e){return t.translate===e.translate&&t.scale===e.scale&&t.originPoint===e.originPoint}class lV{constructor(){this.members=[]}add(e){Kv(this.members,e),e.scheduleRender()}remove(e){if(Qv(this.members,e),e===this.prevLead&&(this.prevLead=void 0),e===this.lead){const n=this.members[this.members.length-1];n&&this.promote(n)}}relegate(e){const n=this.members.findIndex(i=>e===i);if(n===0)return!1;let r;for(let i=n;i>=0;i--){const s=this.members[i];if(s.isPresent!==!1){r=s;break}}return r?(this.promote(r),!0):!1}promote(e,n){const r=this.lead;if(e!==r&&(this.prevLead=r,this.lead=e,e.show(),r)){r.instance&&r.scheduleRender(),e.scheduleRender(),e.resumeFrom=r,n&&(e.resumeFrom.preserveOpacity=!0),r.snapshot&&(e.snapshot=r.snapshot,e.snapshot.latestValues=r.animationValues||r.latestValues),e.root&&e.root.isUpdating&&(e.isLayoutDirty=!0);const{crossfade:i}=e.options;i===!1&&r.hide()}}exitAnimationComplete(){this.members.forEach(e=>{const{options:n,resumingFrom:r}=e;n.onExitComplete&&n.onExitComplete(),r&&r.options.onExitComplete&&r.options.onExitComplete()})}scheduleRender(){this.members.forEach(e=>{e.instance&&e.scheduleRender(!1)})}removeLeadSnapshot(){this.lead&&this.lead.snapshot&&(this.lead.snapshot=void 0)}}function uV(t,e,n){let r="";const i=t.x.translate/e.x,s=t.y.translate/e.y,o=(n==null?void 0:n.z)||0;if((i||s||o)&&(r=`translate3d(${i}px, ${s}px, ${o}px) `),(e.x!==1||e.y!==1)&&(r+=`scale(${1/e.x}, ${1/e.y}) `),n){const{transformPerspective:u,rotate:c,rotateX:d,rotateY:g,skewX:p,skewY:b}=n;u&&(r=`perspective(${u}px) ${r}`),c&&(r+=`rotate(${c}deg) `),d&&(r+=`rotateX(${d}deg) `),g&&(r+=`rotateY(${g}deg) `),p&&(r+=`skewX(${p}deg) `),b&&(r+=`skewY(${b}deg) `)}const a=t.x.scale*e.x,l=t.y.scale*e.y;return(a!==1||l!==1)&&(r+=`scale(${a}, ${l})`),r||"none"}const T1=["","X","Y","Z"],cV={visibility:"hidden"},hV=1e3;let fV=0;function C1(t,e,n,r){const{latestValues:i}=e;i[t]&&(n[t]=i[t],e.setStaticValue(t,0),r&&(r[t]=0))}function sE(t){if(t.hasCheckedOptimisedAppear=!0,t.root===t)return;const{visualElement:e}=t.options;if(!e)return;const n=UN(e);if(window.MotionHasOptimisedAnimation(n,"transform")){const{layout:i,layoutId:s}=t.options;window.MotionCancelOptimisedAnimation(n,"transform",Fn,!(i||s))}const{parent:r}=t;r&&!r.hasCheckedOptimisedAppear&&sE(r)}function oE({attachResizeListener:t,defaultParent:e,measureScroll:n,checkIsScrollRoot:r,resetTransform:i}){return class{constructor(o={},a=e==null?void 0:e()){this.id=fV++,this.animationId=0,this.children=new Set,this.options={},this.isTreeAnimating=!1,this.isAnimationBlocked=!1,this.isLayoutDirty=!1,this.isProjectionDirty=!1,this.isSharedProjectionDirty=!1,this.isTransformDirty=!1,this.updateManuallyBlocked=!1,this.updateBlockedByResize=!1,this.isUpdating=!1,this.isSVG=!1,this.needsReset=!1,this.shouldResetTransform=!1,this.hasCheckedOptimisedAppear=!1,this.treeScale={x:1,y:1},this.eventHandlers=new Map,this.hasTreeAnimated=!1,this.updateScheduled=!1,this.scheduleUpdate=()=>this.update(),this.projectionUpdateScheduled=!1,this.checkUpdateFailed=()=>{this.isUpdating&&(this.isUpdating=!1,this.clearAllSnapshots())},this.updateProjection=()=>{this.projectionUpdateScheduled=!1,this.nodes.forEach(mV),this.nodes.forEach(xV),this.nodes.forEach(bV),this.nodes.forEach(gV)},this.resolvedRelativeTargetAt=0,this.hasProjected=!1,this.isVisible=!0,this.animationProgress=0,this.sharedNodes=new Map,this.latestValues=o,this.root=a?a.root||a:this,this.path=a?[...a.path,a]:[],this.parent=a,this.depth=a?a.depth+1:0;for(let l=0;l<this.path.length;l++)this.path[l].shouldResetTransform=!0;this.root===this&&(this.nodes=new JO)}addEventListener(o,a){return this.eventHandlers.has(o)||this.eventHandlers.set(o,new Jv),this.eventHandlers.get(o).add(a)}notifyListeners(o,...a){const l=this.eventHandlers.get(o);l&&l.notify(...a)}hasListeners(o){return this.eventHandlers.has(o)}mount(o){if(this.instance)return;this.isSVG=EN(o)&&!fF(o),this.instance=o;const{layoutId:a,layout:l,visualElement:u}=this.options;if(u&&!u.current&&u.mount(o),this.root.nodes.add(this),this.parent&&this.parent.children.add(this),this.root.hasTreeAnimated&&(l||a)&&(this.isLayoutDirty=!0),t){let c;const d=()=>this.root.updateBlockedByResize=!1;t(o,()=>{this.root.updateBlockedByResize=!0,c&&c(),c=ZO(d,250),Cp.hasAnimatedSinceResize&&(Cp.hasAnimatedSinceResize=!1,this.nodes.forEach(Lb))})}a&&this.root.registerSharedNode(a,this),this.options.animate!==!1&&u&&(a||l)&&this.addEventListener("didUpdate",({delta:c,hasLayoutChanged:d,hasRelativeLayoutChanged:g,layout:p})=>{if(this.isTreeAnimationBlocked()){this.target=void 0,this.relativeTarget=void 0;return}const b=this.options.transition||u.getDefaultTransition()||EV,{onLayoutAnimationStart:x,onLayoutAnimationComplete:A}=u.getProps(),v=!this.targetLayout||!iE(this.targetLayout,p),_=!d&&g;if(this.options.layoutRoot||this.resumeFrom||_||d&&(v||!this.currentAnimation)){this.resumeFrom&&(this.resumingFrom=this.resumeFrom,this.resumingFrom.resumingFrom=void 0);const T={...h5(b,"layout"),onPlay:x,onComplete:A};(u.shouldReduceMotion||this.options.layoutRoot)&&(T.delay=0,T.type=!1),this.startAnimation(T),this.setAnimationOrigin(c,_)}else d||Lb(this),this.isLead()&&this.options.onExitComplete&&this.options.onExitComplete();this.targetLayout=p})}unmount(){this.options.layoutId&&this.willUpdate(),this.root.nodes.remove(this);const o=this.getStack();o&&o.remove(this),this.parent&&this.parent.children.delete(this),this.instance=void 0,this.eventHandlers.clear(),sl(this.updateProjection)}blockUpdate(){this.updateManuallyBlocked=!0}unblockUpdate(){this.updateManuallyBlocked=!1}isUpdateBlocked(){return this.updateManuallyBlocked||this.updateBlockedByResize}isTreeAnimationBlocked(){return this.isAnimationBlocked||this.parent&&this.parent.isTreeAnimationBlocked()||!1}startUpdate(){this.isUpdateBlocked()||(this.isUpdating=!0,this.nodes&&this.nodes.forEach(_V),this.animationId++)}getTransformTemplate(){const{visualElement:o}=this.options;return o&&o.getProps().transformTemplate}willUpdate(o=!0){if(this.root.hasTreeAnimated=!0,this.root.isUpdateBlocked()){this.options.onExitComplete&&this.options.onExitComplete();return}if(window.MotionCancelOptimisedAnimation&&!this.hasCheckedOptimisedAppear&&sE(this),!this.root.isUpdating&&this.root.startUpdate(),this.isLayoutDirty)return;this.isLayoutDirty=!0;for(let c=0;c<this.path.length;c++){const d=this.path[c];d.shouldResetTransform=!0,d.updateScroll("snapshot"),d.options.layoutRoot&&d.willUpdate(!1)}const{layoutId:a,layout:l}=this.options;if(a===void 0&&!l)return;const u=this.getTransformTemplate();this.prevTransformTemplateValue=u?u(this.latestValues,""):void 0,this.updateSnapshot(),o&&this.notifyListeners("willUpdate")}update(){if(this.updateScheduled=!1,this.isUpdateBlocked()){this.unblockUpdate(),this.clearAllSnapshots(),this.nodes.forEach(Ib);return}this.isUpdating||this.nodes.forEach(vV),this.isUpdating=!1,this.nodes.forEach(wV),this.nodes.forEach(dV),this.nodes.forEach(pV),this.clearAllSnapshots();const a=Pi.now();jr.delta=na(0,1e3/60,a-jr.timestamp),jr.timestamp=a,jr.isProcessing=!0,v1.update.process(jr),v1.preRender.process(jr),v1.render.process(jr),jr.isProcessing=!1}didUpdate(){this.updateScheduled||(this.updateScheduled=!0,d5.read(this.scheduleUpdate))}clearAllSnapshots(){this.nodes.forEach(yV),this.sharedNodes.forEach(SV)}scheduleUpdateProjection(){this.projectionUpdateScheduled||(this.projectionUpdateScheduled=!0,Fn.preRender(this.updateProjection,!1,!0))}scheduleCheckAfterUnmount(){Fn.postRender(()=>{this.isLayoutDirty?this.root.didUpdate():this.root.checkUpdateFailed()})}updateSnapshot(){this.snapshot||!this.instance||(this.snapshot=this.measure(),this.snapshot&&!fi(this.snapshot.measuredBox.x)&&!fi(this.snapshot.measuredBox.y)&&(this.snapshot=void 0))}updateLayout(){if(!this.instance||(this.updateScroll(),!(this.options.alwaysMeasureLayout&&this.isLead())&&!this.isLayoutDirty))return;if(this.resumeFrom&&!this.resumeFrom.instance)for(let l=0;l<this.path.length;l++)this.path[l].updateScroll();const o=this.layout;this.layout=this.measure(!1),this.layoutCorrected=nr(),this.isLayoutDirty=!1,this.projectionDelta=void 0,this.notifyListeners("measure",this.layout.layoutBox);const{visualElement:a}=this.options;a&&a.notify("LayoutMeasure",this.layout.layoutBox,o?o.layoutBox:void 0)}updateScroll(o="measure"){let a=!!(this.options.layoutScroll&&this.instance);if(this.scroll&&this.scroll.animationId===this.root.animationId&&this.scroll.phase===o&&(a=!1),a&&this.instance){const l=r(this.instance);this.scroll={animationId:this.root.animationId,phase:o,isRoot:l,offset:n(this.instance),wasRoot:this.scroll?this.scroll.isRoot:l}}}resetTransform(){if(!i)return;const o=this.isLayoutDirty||this.shouldResetTransform||this.options.alwaysMeasureLayout,a=this.projectionDelta&&!rE(this.projectionDelta),l=this.getTransformTemplate(),u=l?l(this.latestValues,""):void 0,c=u!==this.prevTransformTemplateValue;o&&this.instance&&(a||Ol(this.latestValues)||c)&&(i(this.instance,u),this.shouldResetTransform=!1,this.scheduleRender())}measure(o=!0){const a=this.measurePageBox();let l=this.removeElementScroll(a);return o&&(l=this.removeTransform(l)),TV(l),{animationId:this.root.animationId,measuredBox:a,layoutBox:l,latestValues:{},source:this.id}}measurePageBox(){var u;const{visualElement:o}=this.options;if(!o)return nr();const a=o.measureViewportBox();if(!(((u=this.scroll)==null?void 0:u.wasRoot)||this.path.some(CV))){const{scroll:c}=this.root;c&&(Qu(a.x,c.offset.x),Qu(a.y,c.offset.y))}return a}removeElementScroll(o){var l;const a=nr();if(fs(a,o),(l=this.scroll)!=null&&l.wasRoot)return a;for(let u=0;u<this.path.length;u++){const c=this.path[u],{scroll:d,options:g}=c;c!==this.root&&d&&g.layoutScroll&&(d.wasRoot&&fs(a,o),Qu(a.x,d.offset.x),Qu(a.y,d.offset.y))}return a}applyTransform(o,a=!1){const l=nr();fs(l,o);for(let u=0;u<this.path.length;u++){const c=this.path[u];!a&&c.options.layoutScroll&&c.scroll&&c!==c.root&&Yu(l,{x:-c.scroll.offset.x,y:-c.scroll.offset.y}),Ol(c.latestValues)&&Yu(l,c.latestValues)}return Ol(this.latestValues)&&Yu(l,this.latestValues),l}removeTransform(o){const a=nr();fs(a,o);for(let l=0;l<this.path.length;l++){const u=this.path[l];if(!u.instance||!Ol(u.latestValues))continue;V2(u.latestValues)&&u.updateSnapshot();const c=nr(),d=u.measurePageBox();fs(c,d),Nb(a,u.latestValues,u.snapshot?u.snapshot.layoutBox:void 0,c)}return Ol(this.latestValues)&&Nb(a,this.latestValues),a}setTargetDelta(o){this.targetDelta=o,this.root.scheduleUpdateProjection(),this.isProjectionDirty=!0}setOptions(o){this.options={...this.options,...o,crossfade:o.crossfade!==void 0?o.crossfade:!0}}clearMeasurements(){this.scroll=void 0,this.layout=void 0,this.snapshot=void 0,this.prevTransformTemplateValue=void 0,this.targetDelta=void 0,this.target=void 0,this.isLayoutDirty=!1}forceRelativeParentToResolveTarget(){this.relativeParent&&this.relativeParent.resolvedRelativeTargetAt!==jr.timestamp&&this.relativeParent.resolveTargetDelta(!0)}resolveTargetDelta(o=!1){var g;const a=this.getLead();this.isProjectionDirty||(this.isProjectionDirty=a.isProjectionDirty),this.isTransformDirty||(this.isTransformDirty=a.isTransformDirty),this.isSharedProjectionDirty||(this.isSharedProjectionDirty=a.isSharedProjectionDirty);const l=!!this.resumingFrom||this!==a;if(!(o||l&&this.isSharedProjectionDirty||this.isProjectionDirty||(g=this.parent)!=null&&g.isProjectionDirty||this.attemptToResolveRelativeTarget||this.root.updateBlockedByResize))return;const{layout:c,layoutId:d}=this.options;if(!(!this.layout||!(c||d))){if(this.resolvedRelativeTargetAt=jr.timestamp,!this.targetDelta&&!this.relativeTarget){const p=this.getClosestProjectingParent();p&&p.layout&&this.animationProgress!==1?(this.relativeParent=p,this.forceRelativeParentToResolveTarget(),this.relativeTarget=nr(),this.relativeTargetOrigin=nr(),Qh(this.relativeTargetOrigin,this.layout.layoutBox,p.layout.layoutBox),fs(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}if(!(!this.relativeTarget&&!this.targetDelta)&&(this.target||(this.target=nr(),this.targetWithTransforms=nr()),this.relativeTarget&&this.relativeTargetOrigin&&this.relativeParent&&this.relativeParent.target?(this.forceRelativeParentToResolveTarget(),PO(this.target,this.relativeTarget,this.relativeParent.target)):this.targetDelta?(this.resumingFrom?this.target=this.applyTransform(this.layout.layoutBox):fs(this.target,this.layout.layoutBox),QN(this.target,this.targetDelta)):fs(this.target,this.layout.layoutBox),this.attemptToResolveRelativeTarget)){this.attemptToResolveRelativeTarget=!1;const p=this.getClosestProjectingParent();p&&!!p.resumingFrom==!!this.resumingFrom&&!p.options.layoutScroll&&p.target&&this.animationProgress!==1?(this.relativeParent=p,this.forceRelativeParentToResolveTarget(),this.relativeTarget=nr(),this.relativeTargetOrigin=nr(),Qh(this.relativeTargetOrigin,this.target,p.target),fs(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}}}getClosestProjectingParent(){if(!(!this.parent||V2(this.parent.latestValues)||KN(this.parent.latestValues)))return this.parent.isProjecting()?this.parent:this.parent.getClosestProjectingParent()}isProjecting(){return!!((this.relativeTarget||this.targetDelta||this.options.layoutRoot)&&this.layout)}calcProjection(){var b;const o=this.getLead(),a=!!this.resumingFrom||this!==o;let l=!0;if((this.isProjectionDirty||(b=this.parent)!=null&&b.isProjectionDirty)&&(l=!1),a&&(this.isSharedProjectionDirty||this.isTransformDirty)&&(l=!1),this.resolvedRelativeTargetAt===jr.timestamp&&(l=!1),l)return;const{layout:u,layoutId:c}=this.options;if(this.isTreeAnimating=!!(this.parent&&this.parent.isTreeAnimating||this.currentAnimation||this.pendingAnimation),this.isTreeAnimating||(this.targetDelta=this.relativeTarget=void 0),!this.layout||!(u||c))return;fs(this.layoutCorrected,this.layout.layoutBox);const d=this.treeScale.x,g=this.treeScale.y;IO(this.layoutCorrected,this.treeScale,this.path,a),o.layout&&!o.target&&(this.treeScale.x!==1||this.treeScale.y!==1)&&(o.target=o.layout.layoutBox,o.targetWithTransforms=nr());const{target:p}=o;if(!p){this.prevProjectionDelta&&(this.createProjectionDeltas(),this.scheduleRender());return}!this.projectionDelta||!this.prevProjectionDelta?this.createProjectionDeltas():(_b(this.prevProjectionDelta.x,this.projectionDelta.x),_b(this.prevProjectionDelta.y,this.projectionDelta.y)),Kh(this.projectionDelta,this.layoutCorrected,p,this.latestValues),(this.treeScale.x!==d||this.treeScale.y!==g||!Pb(this.projectionDelta.x,this.prevProjectionDelta.x)||!Pb(this.projectionDelta.y,this.prevProjectionDelta.y))&&(this.hasProjected=!0,this.scheduleRender(),this.notifyListeners("projectionUpdate",p))}hide(){this.isVisible=!1}show(){this.isVisible=!0}scheduleRender(o=!0){var a;if((a=this.options.visualElement)==null||a.scheduleRender(),o){const l=this.getStack();l&&l.scheduleRender()}this.resumingFrom&&!this.resumingFrom.instance&&(this.resumingFrom=void 0)}createProjectionDeltas(){this.prevProjectionDelta=Ku(),this.projectionDelta=Ku(),this.projectionDeltaWithTransform=Ku()}setAnimationOrigin(o,a=!1){const l=this.snapshot,u=l?l.latestValues:{},c={...this.latestValues},d=Ku();(!this.relativeParent||!this.relativeParent.options.layoutRoot)&&(this.relativeTarget=this.relativeTargetOrigin=void 0),this.attemptToResolveRelativeTarget=!a;const g=nr(),p=l?l.source:void 0,b=this.layout?this.layout.source:void 0,x=p!==b,A=this.getStack(),v=!A||A.members.length<=1,_=!!(x&&!v&&this.options.crossfade===!0&&!this.path.some(NV));this.animationProgress=0;let T;this.mixTargetDelta=R=>{const z=R/1e3;Rb(d.x,o.x,z),Rb(d.y,o.y,z),this.setTargetDelta(d),this.relativeTarget&&this.relativeTargetOrigin&&this.layout&&this.relativeParent&&this.relativeParent.layout&&(Qh(g,this.layout.layoutBox,this.relativeParent.layout.layoutBox),AV(this.relativeTarget,this.relativeTargetOrigin,g,z),T&&aV(this.relativeTarget,T)&&(this.isProjectionDirty=!1),T||(T=nr()),fs(T,this.relativeTarget)),x&&(this.animationValues=c,tV(c,u,this.latestValues,z,_,v)),this.root.scheduleUpdateProjection(),this.scheduleRender(),this.animationProgress=z},this.mixTargetDelta(this.options.layoutRoot?1e3:0)}startAnimation(o){var a,l,u;this.notifyListeners("animationStart"),(a=this.currentAnimation)==null||a.stop(),(u=(l=this.resumingFrom)==null?void 0:l.currentAnimation)==null||u.stop(),this.pendingAnimation&&(sl(this.pendingAnimation),this.pendingAnimation=void 0),this.pendingAnimation=Fn.update(()=>{Cp.hasAnimatedSinceResize=!0,this.motionValue||(this.motionValue=Cc(0)),this.currentAnimation=YO(this.motionValue,[0,1e3],{...o,velocity:0,isSync:!0,onUpdate:c=>{this.mixTargetDelta(c),o.onUpdate&&o.onUpdate(c)},onStop:()=>{},onComplete:()=>{o.onComplete&&o.onComplete(),this.completeAnimation()}}),this.resumingFrom&&(this.resumingFrom.currentAnimation=this.currentAnimation),this.pendingAnimation=void 0})}completeAnimation(){this.resumingFrom&&(this.resumingFrom.currentAnimation=void 0,this.resumingFrom.preserveOpacity=void 0);const o=this.getStack();o&&o.exitAnimationComplete(),this.resumingFrom=this.currentAnimation=this.animationValues=void 0,this.notifyListeners("animationComplete")}finishAnimation(){this.currentAnimation&&(this.mixTargetDelta&&this.mixTargetDelta(hV),this.currentAnimation.stop()),this.completeAnimation()}applyTransformsToTarget(){const o=this.getLead();let{targetWithTransforms:a,target:l,layout:u,latestValues:c}=o;if(!(!a||!l||!u)){if(this!==o&&this.layout&&u&&aE(this.options.animationType,this.layout.layoutBox,u.layoutBox)){l=this.target||nr();const d=fi(this.layout.layoutBox.x);l.x.min=o.target.x.min,l.x.max=l.x.min+d;const g=fi(this.layout.layoutBox.y);l.y.min=o.target.y.min,l.y.max=l.y.min+g}fs(a,l),Yu(a,c),Kh(this.projectionDeltaWithTransform,this.layoutCorrected,a,c)}}registerSharedNode(o,a){this.sharedNodes.has(o)||this.sharedNodes.set(o,new lV),this.sharedNodes.get(o).add(a);const u=a.options.initialPromotionConfig;a.promote({transition:u?u.transition:void 0,preserveFollowOpacity:u&&u.shouldPreserveFollowOpacity?u.shouldPreserveFollowOpacity(a):void 0})}isLead(){const o=this.getStack();return o?o.lead===this:!0}getLead(){var a;const{layoutId:o}=this.options;return o?((a=this.getStack())==null?void 0:a.lead)||this:this}getPrevLead(){var a;const{layoutId:o}=this.options;return o?(a=this.getStack())==null?void 0:a.prevLead:void 0}getStack(){const{layoutId:o}=this.options;if(o)return this.root.sharedNodes.get(o)}promote({needsReset:o,transition:a,preserveFollowOpacity:l}={}){const u=this.getStack();u&&u.promote(this,l),o&&(this.projectionDelta=void 0,this.needsReset=!0),a&&this.setOptions({transition:a})}relegate(){const o=this.getStack();return o?o.relegate(this):!1}resetSkewAndRotation(){const{visualElement:o}=this.options;if(!o)return;let a=!1;const{latestValues:l}=o;if((l.z||l.rotate||l.rotateX||l.rotateY||l.rotateZ||l.skewX||l.skewY)&&(a=!0),!a)return;const u={};l.z&&C1("z",o,u,this.animationValues);for(let c=0;c<T1.length;c++)C1(`rotate${T1[c]}`,o,u,this.animationValues),C1(`skew${T1[c]}`,o,u,this.animationValues);o.render();for(const c in u)o.setStaticValue(c,u[c]),this.animationValues&&(this.animationValues[c]=u[c]);o.scheduleRender()}getProjectionStyles(o){if(!this.instance||this.isSVG)return;if(!this.isVisible)return cV;const a={visibility:""},l=this.getTransformTemplate();if(this.needsReset)return this.needsReset=!1,a.opacity="",a.pointerEvents=Tp(o==null?void 0:o.pointerEvents)||"",a.transform=l?l(this.latestValues,""):"none",a;const u=this.getLead();if(!this.projectionDelta||!this.layout||!u.target){const p={};return this.options.layoutId&&(p.opacity=this.latestValues.opacity!==void 0?this.latestValues.opacity:1,p.pointerEvents=Tp(o==null?void 0:o.pointerEvents)||""),this.hasProjected&&!Ol(this.latestValues)&&(p.transform=l?l({},""):"none",this.hasProjected=!1),p}const c=u.animationValues||u.latestValues;this.applyTransformsToTarget(),a.transform=uV(this.projectionDeltaWithTransform,this.treeScale,c),l&&(a.transform=l(c,a.transform));const{x:d,y:g}=this.projectionDelta;a.transformOrigin=`${d.origin*100}% ${g.origin*100}% 0`,u.animationValues?a.opacity=u===this?c.opacity??this.latestValues.opacity??1:this.preserveOpacity?this.latestValues.opacity:c.opacityExit:a.opacity=u===this?c.opacity!==void 0?c.opacity:"":c.opacityExit!==void 0?c.opacityExit:0;for(const p in Rf){if(c[p]===void 0)continue;const{correct:b,applyTo:x,isCSSVariable:A}=Rf[p],v=a.transform==="none"?c[p]:b(c[p],u);if(x){const _=x.length;for(let T=0;T<_;T++)a[x[T]]=v}else A?this.options.visualElement.renderState.vars[p]=v:a[p]=v}return this.options.layoutId&&(a.pointerEvents=u===this?Tp(o==null?void 0:o.pointerEvents)||"":"none"),a}clearSnapshot(){this.resumeFrom=this.snapshot=void 0}resetTree(){this.root.nodes.forEach(o=>{var a;return(a=o.currentAnimation)==null?void 0:a.stop()}),this.root.nodes.forEach(Ib),this.root.sharedNodes.clear()}}}function dV(t){t.updateLayout()}function pV(t){var n;const e=((n=t.resumeFrom)==null?void 0:n.snapshot)||t.snapshot;if(t.isLead()&&t.layout&&e&&t.hasListeners("didUpdate")){const{layoutBox:r,measuredBox:i}=t.layout,{animationType:s}=t.options,o=e.source!==t.layout.source;s==="size"?ds(d=>{const g=o?e.measuredBox[d]:e.layoutBox[d],p=fi(g);g.min=r[d].min,g.max=g.min+p}):aE(s,e.layoutBox,r)&&ds(d=>{const g=o?e.measuredBox[d]:e.layoutBox[d],p=fi(r[d]);g.max=g.min+p,t.relativeTarget&&!t.currentAnimation&&(t.isProjectionDirty=!0,t.relativeTarget[d].max=t.relativeTarget[d].min+p)});const a=Ku();Kh(a,r,e.layoutBox);const l=Ku();o?Kh(l,t.applyTransform(i,!0),e.measuredBox):Kh(l,r,e.layoutBox);const u=!rE(a);let c=!1;if(!t.resumeFrom){const d=t.getClosestProjectingParent();if(d&&!d.resumeFrom){const{snapshot:g,layout:p}=d;if(g&&p){const b=nr();Qh(b,e.layoutBox,g.layoutBox);const x=nr();Qh(x,r,p.layoutBox),iE(b,x)||(c=!0),d.options.layoutRoot&&(t.relativeTarget=x,t.relativeTargetOrigin=b,t.relativeParent=d)}}}t.notifyListeners("didUpdate",{layout:r,snapshot:e,delta:l,layoutDelta:a,hasLayoutChanged:u,hasRelativeLayoutChanged:c})}else if(t.isLead()){const{onExitComplete:r}=t.options;r&&r()}t.options.transition=void 0}function mV(t){t.parent&&(t.isProjecting()||(t.isProjectionDirty=t.parent.isProjectionDirty),t.isSharedProjectionDirty||(t.isSharedProjectionDirty=!!(t.isProjectionDirty||t.parent.isProjectionDirty||t.parent.isSharedProjectionDirty)),t.isTransformDirty||(t.isTransformDirty=t.parent.isTransformDirty))}function gV(t){t.isProjectionDirty=t.isSharedProjectionDirty=t.isTransformDirty=!1}function yV(t){t.clearSnapshot()}function Ib(t){t.clearMeasurements()}function vV(t){t.isLayoutDirty=!1}function wV(t){const{visualElement:e}=t.options;e&&e.getProps().onBeforeLayoutMeasure&&e.notify("BeforeLayoutMeasure"),t.resetTransform()}function Lb(t){t.finishAnimation(),t.targetDelta=t.relativeTarget=t.target=void 0,t.isProjectionDirty=!0}function xV(t){t.resolveTargetDelta()}function bV(t){t.calcProjection()}function _V(t){t.resetSkewAndRotation()}function SV(t){t.removeLeadSnapshot()}function Rb(t,e,n){t.translate=Dn(e.translate,0,n),t.scale=Dn(e.scale,1,n),t.origin=e.origin,t.originPoint=e.originPoint}function jb(t,e,n,r){t.min=Dn(e.min,n.min,r),t.max=Dn(e.max,n.max,r)}function AV(t,e,n,r){jb(t.x,e.x,n.x,r),jb(t.y,e.y,n.y,r)}function NV(t){return t.animationValues&&t.animationValues.opacityExit!==void 0}const EV={duration:.45,ease:[.4,0,.1,1]},Db=t=>typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().includes(t),Mb=Db("applewebkit/")&&!Db("chrome/")?Math.round:vs;function Fb(t){t.min=Mb(t.min),t.max=Mb(t.max)}function TV(t){Fb(t.x),Fb(t.y)}function aE(t,e,n){return t==="position"||t==="preserve-aspect"&&!kO(kb(e),kb(n),.2)}function CV(t){var e;return t!==t.root&&((e=t.scroll)==null?void 0:e.wasRoot)}const kV=oE({attachResizeListener:(t,e)=>Df(t,"resize",e),measureScroll:()=>({x:document.documentElement.scrollLeft||document.body.scrollLeft,y:document.documentElement.scrollTop||document.body.scrollTop}),checkIsScrollRoot:()=>!0}),k1={current:void 0},lE=oE({measureScroll:t=>({x:t.scrollLeft,y:t.scrollTop}),defaultParent:()=>{if(!k1.current){const t=new kV({});t.mount(window),t.setOptions({layoutScroll:!0}),k1.current=t}return k1.current},resetTransform:(t,e)=>{t.style.transform=e!==void 0?e:"none"},checkIsScrollRoot:t=>window.getComputedStyle(t).position==="fixed"}),PV={pan:{Feature:WO},drag:{Feature:HO,ProjectionNode:lE,MeasureLayout:eE}};function Ob(t,e,n){const{props:r}=t;t.animationState&&r.whileHover&&t.animationState.setActive("whileHover",n==="Start");const i="onHover"+n,s=r[i];s&&Fn.postRender(()=>s(e,ld(e)))}class IV extends pl{mount(){const{current:e}=this.node;e&&(this.unmount=aF(e,(n,r)=>(Ob(this.node,r,"Start"),i=>Ob(this.node,i,"End"))))}unmount(){}}class LV extends pl{constructor(){super(...arguments),this.isActive=!1}onFocus(){let e=!1;try{e=this.node.current.matches(":focus-visible")}catch{e=!0}!e||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!0),this.isActive=!0)}onBlur(){!this.isActive||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!1),this.isActive=!1)}mount(){this.unmount=sd(Df(this.node.current,"focus",()=>this.onFocus()),Df(this.node.current,"blur",()=>this.onBlur()))}unmount(){}}function Vb(t,e,n){const{props:r}=t;if(t.current instanceof HTMLButtonElement&&t.current.disabled)return;t.animationState&&r.whileTap&&t.animationState.setActive("whileTap",n==="Start");const i="onTap"+(n==="End"?"":n),s=r[i];s&&Fn.postRender(()=>s(e,ld(e)))}class RV extends pl{mount(){const{current:e}=this.node;e&&(this.unmount=hF(e,(n,r)=>(Vb(this.node,r,"Start"),(i,{success:s})=>Vb(this.node,i,s?"End":"Cancel")),{useGlobalTarget:this.node.props.globalTapTarget}))}unmount(){}}const z2=new WeakMap,P1=new WeakMap,jV=t=>{const e=z2.get(t.target);e&&e(t)},DV=t=>{t.forEach(jV)};function MV({root:t,...e}){const n=t||document;P1.has(n)||P1.set(n,{});const r=P1.get(n),i=JSON.stringify(e);return r[i]||(r[i]=new IntersectionObserver(DV,{root:t,...e})),r[i]}function FV(t,e,n){const r=MV(e);return z2.set(t,n),r.observe(t),()=>{z2.delete(t),r.unobserve(t)}}const OV={some:0,all:1};class VV extends pl{constructor(){super(...arguments),this.hasEnteredView=!1,this.isInView=!1}startObserver(){this.unmount();const{viewport:e={}}=this.node.getProps(),{root:n,margin:r,amount:i="some",once:s}=e,o={root:n?n.current:void 0,rootMargin:r,threshold:typeof i=="number"?i:OV[i]},a=l=>{const{isIntersecting:u}=l;if(this.isInView===u||(this.isInView=u,s&&!u&&this.hasEnteredView))return;u&&(this.hasEnteredView=!0),this.node.animationState&&this.node.animationState.setActive("whileInView",u);const{onViewportEnter:c,onViewportLeave:d}=this.node.getProps(),g=u?c:d;g&&g(l)};return FV(this.node.current,o,a)}mount(){this.startObserver()}update(){if(typeof IntersectionObserver>"u")return;const{props:e,prevProps:n}=this.node;["amount","margin","root"].some(BV(e,n))&&this.startObserver()}unmount(){}}function BV({viewport:t={}},{viewport:e={}}={}){return n=>t[n]!==e[n]}const UV={inView:{Feature:VV},tap:{Feature:RV},focus:{Feature:LV},hover:{Feature:IV}},zV={layout:{ProjectionNode:lE,MeasureLayout:eE}},q2={current:null},uE={current:!1};function qV(){if(uE.current=!0,!!Wv)if(window.matchMedia){const t=window.matchMedia("(prefers-reduced-motion)"),e=()=>q2.current=t.matches;t.addListener(e),e()}else q2.current=!1}const $V=new WeakMap;function HV(t,e,n){for(const r in e){const i=e[r],s=n[r];if(ni(i))t.addValue(r,i);else if(ni(s))t.addValue(r,Cc(i,{owner:t}));else if(s!==i)if(t.hasValue(r)){const o=t.getValue(r);o.liveStyle===!0?o.jump(i):o.hasAnimated||o.set(i)}else{const o=t.getStaticValue(r);t.addValue(r,Cc(o!==void 0?o:i,{owner:t}))}}for(const r in n)e[r]===void 0&&t.removeValue(r);return e}const Bb=["AnimationStart","AnimationComplete","Update","BeforeLayoutMeasure","LayoutMeasure","LayoutAnimationStart","LayoutAnimationComplete"];class WV{scrapeMotionValuesFromProps(e,n,r){return{}}constructor({parent:e,props:n,presenceContext:r,reducedMotionConfig:i,blockInitialAnimation:s,visualState:o},a={}){this.current=null,this.children=new Set,this.isVariantNode=!1,this.isControllingVariants=!1,this.shouldReduceMotion=null,this.values=new Map,this.KeyframeResolver=c5,this.features={},this.valueSubscriptions=new Map,this.prevMotionValues={},this.events={},this.propEventSubscriptions={},this.notifyUpdate=()=>this.notify("Update",this.latestValues),this.render=()=>{this.current&&(this.triggerBuild(),this.renderInstance(this.current,this.renderState,this.props.style,this.projection))},this.renderScheduledAt=0,this.scheduleRender=()=>{const g=Pi.now();this.renderScheduledAt<g&&(this.renderScheduledAt=g,Fn.render(this.render,!1,!0))};const{latestValues:l,renderState:u}=o;this.latestValues=l,this.baseTarget={...l},this.initialValues=n.initial?{...l}:{},this.renderState=u,this.parent=e,this.props=n,this.presenceContext=r,this.depth=e?e.depth+1:0,this.reducedMotionConfig=i,this.options=a,this.blockInitialAnimation=!!s,this.isControllingVariants=gm(n),this.isVariantNode=PN(n),this.isVariantNode&&(this.variantChildren=new Set),this.manuallyAnimateOnMount=!!(e&&e.current);const{willChange:c,...d}=this.scrapeMotionValuesFromProps(n,{},this);for(const g in d){const p=d[g];l[g]!==void 0&&ni(p)&&p.set(l[g],!1)}}mount(e){this.current=e,$V.set(e,this),this.projection&&!this.projection.instance&&this.projection.mount(e),this.parent&&this.isVariantNode&&!this.isControllingVariants&&(this.removeFromVariantTree=this.parent.addVariantChild(this)),this.values.forEach((n,r)=>this.bindToMotionValue(r,n)),uE.current||qV(),this.shouldReduceMotion=this.reducedMotionConfig==="never"?!1:this.reducedMotionConfig==="always"?!0:q2.current,this.parent&&this.parent.children.add(this),this.update(this.props,this.presenceContext)}unmount(){this.projection&&this.projection.unmount(),sl(this.notifyUpdate),sl(this.render),this.valueSubscriptions.forEach(e=>e()),this.valueSubscriptions.clear(),this.removeFromVariantTree&&this.removeFromVariantTree(),this.parent&&this.parent.children.delete(this);for(const e in this.events)this.events[e].clear();for(const e in this.features){const n=this.features[e];n&&(n.unmount(),n.isMounted=!1)}this.current=null}bindToMotionValue(e,n){this.valueSubscriptions.has(e)&&this.valueSubscriptions.get(e)();const r=Uc.has(e);r&&this.onBindTransform&&this.onBindTransform();const i=n.on("change",a=>{this.latestValues[e]=a,this.props.onUpdate&&Fn.preRender(this.notifyUpdate),r&&this.projection&&(this.projection.isTransformDirty=!0)}),s=n.on("renderRequest",this.scheduleRender);let o;window.MotionCheckAppearSync&&(o=window.MotionCheckAppearSync(this,e,n)),this.valueSubscriptions.set(e,()=>{i(),s(),o&&o(),n.owner&&n.stop()})}sortNodePosition(e){return!this.current||!this.sortInstanceNodePosition||this.type!==e.type?0:this.sortInstanceNodePosition(this.current,e.current)}updateFeatures(){let e="animation";for(e in kc){const n=kc[e];if(!n)continue;const{isEnabled:r,Feature:i}=n;if(!this.features[e]&&i&&r(this.props)&&(this.features[e]=new i(this)),this.features[e]){const s=this.features[e];s.isMounted?s.update():(s.mount(),s.isMounted=!0)}}}triggerBuild(){this.build(this.renderState,this.latestValues,this.props)}measureViewportBox(){return this.current?this.measureInstanceViewportBox(this.current,this.props):nr()}getStaticValue(e){return this.latestValues[e]}setStaticValue(e,n){this.latestValues[e]=n}update(e,n){(e.transformTemplate||this.props.transformTemplate)&&this.scheduleRender(),this.prevProps=this.props,this.props=e,this.prevPresenceContext=this.presenceContext,this.presenceContext=n;for(let r=0;r<Bb.length;r++){const i=Bb[r];this.propEventSubscriptions[i]&&(this.propEventSubscriptions[i](),delete this.propEventSubscriptions[i]);const s="on"+i,o=e[s];o&&(this.propEventSubscriptions[i]=this.on(i,o))}this.prevMotionValues=HV(this,this.scrapeMotionValuesFromProps(e,this.prevProps,this),this.prevMotionValues),this.handleChildMotionValue&&this.handleChildMotionValue()}getProps(){return this.props}getVariant(e){return this.props.variants?this.props.variants[e]:void 0}getDefaultTransition(){return this.props.transition}getTransformPagePoint(){return this.props.transformPagePoint}getClosestVariantNode(){return this.isVariantNode?this:this.parent?this.parent.getClosestVariantNode():void 0}addVariantChild(e){const n=this.getClosestVariantNode();if(n)return n.variantChildren&&n.variantChildren.add(e),()=>n.variantChildren.delete(e)}addValue(e,n){const r=this.values.get(e);n!==r&&(r&&this.removeValue(e),this.bindToMotionValue(e,n),this.values.set(e,n),this.latestValues[e]=n.get())}removeValue(e){this.values.delete(e);const n=this.valueSubscriptions.get(e);n&&(n(),this.valueSubscriptions.delete(e)),delete this.latestValues[e],this.removeValueFromRenderState(e,this.renderState)}hasValue(e){return this.values.has(e)}getValue(e,n){if(this.props.values&&this.props.values[e])return this.props.values[e];let r=this.values.get(e);return r===void 0&&n!==void 0&&(r=Cc(n===null?void 0:n,{owner:this}),this.addValue(e,r)),r}readValue(e,n){let r=this.latestValues[e]!==void 0||!this.current?this.latestValues[e]:this.getBaseTargetFromProps(this.props,e)??this.readValueFromInstance(this.current,e,this.options);return r!=null&&(typeof r=="string"&&(FA(r)||VA(r))?r=parseFloat(r):!pF(r)&&ol.test(n)&&(r=bN(e,n)),this.setBaseTarget(e,ni(r)?r.get():r)),ni(r)?r.get():r}setBaseTarget(e,n){this.baseTarget[e]=n}getBaseTarget(e){var s;const{initial:n}=this.props;let r;if(typeof n=="string"||typeof n=="object"){const o=b5(this.props,n,(s=this.presenceContext)==null?void 0:s.custom);o&&(r=o[e])}if(n&&r!==void 0)return r;const i=this.getBaseTargetFromProps(this.props,e);return i!==void 0&&!ni(i)?i:this.initialValues[e]!==void 0&&r===void 0?void 0:this.baseTarget[e]}on(e,n){return this.events[e]||(this.events[e]=new Jv),this.events[e].add(n)}notify(e,...n){this.events[e]&&this.events[e].notify(...n)}}class cE extends WV{constructor(){super(...arguments),this.KeyframeResolver=nF}sortInstanceNodePosition(e,n){return e.compareDocumentPosition(n)&2?1:-1}getBaseTargetFromProps(e,n){return e.style?e.style[n]:void 0}removeValueFromRenderState(e,{vars:n,style:r}){delete n[e],delete r[e]}handleChildMotionValue(){this.childSubscription&&(this.childSubscription(),delete this.childSubscription);const{children:e}=this.props;ni(e)&&(this.childSubscription=e.on("change",n=>{this.current&&(this.current.textContent=`${n}`)}))}}function hE(t,{style:e,vars:n},r,i){Object.assign(t.style,e,i&&i.getProjectionStyles(r));for(const s in n)t.style.setProperty(s,n[s])}function GV(t){return window.getComputedStyle(t)}class KV extends cE{constructor(){super(...arguments),this.type="html",this.renderInstance=hE}readValueFromInstance(e,n){var r;if(Uc.has(n))return(r=this.projection)!=null&&r.isProjecting?P2(n):bM(e,n);{const i=GV(e),s=(t5(n)?i.getPropertyValue(n):i[n])||0;return typeof s=="string"?s.trim():s}}measureInstanceViewportBox(e,{transformPagePoint:n}){return YN(e,n)}build(e,n,r){v5(e,n,r.transformTemplate)}scrapeMotionValuesFromProps(e,n,r){return _5(e,n,r)}}const fE=new Set(["baseFrequency","diffuseConstant","kernelMatrix","kernelUnitLength","keySplines","keyTimes","limitingConeAngle","markerHeight","markerWidth","numOctaves","targetX","targetY","surfaceScale","specularConstant","specularExponent","stdDeviation","tableValues","viewBox","gradientTransform","pathLength","startOffset","textLength","lengthAdjust"]);function QV(t,e,n,r){hE(t,e,void 0,r);for(const i in e.attrs)t.setAttribute(fE.has(i)?i:y5(i),e.attrs[i])}class YV extends cE{constructor(){super(...arguments),this.type="svg",this.isSVGTag=!1,this.measureInstanceViewportBox=nr}getBaseTargetFromProps(e,n){return e[n]}readValueFromInstance(e,n){if(Uc.has(n)){const r=xN(n);return r&&r.default||0}return n=fE.has(n)?n:y5(n),e.getAttribute(n)}scrapeMotionValuesFromProps(e,n,r){return BN(e,n,r)}build(e,n,r){MN(e,n,this.isSVGTag,r.transformTemplate,r.style)}renderInstance(e,n,r,i){QV(e,n,r,i)}mount(e){this.isSVGTag=ON(e.tagName),super.mount(e)}}const XV=(t,e)=>x5(t)?new YV(e):new KV(e,{allowProjection:t!==G.Fragment}),JV=QF({...bO,...UV,...PV,...zV},XV),Ub=xF(JV),ZV=300,zb=({table:t,isSelected:e,isAddButton:n,onClick:r,onDoubleClick:i,onEnterSelectionMode:s,onDelete:o,isSelectionMode:a})=>{const l=G.useRef(null),u=G.useRef(0),[c,d]=G.useState(!1),g=G.useRef(null);G.useEffect(()=>{const v=_=>{g.current&&!g.current.contains(_.target)&&d(!1)};return document.addEventListener("mousedown",v),()=>{document.removeEventListener("mousedown",v)}},[]),G.useEffect(()=>{const v=l.current;if(!v)return;const _=T=>{var K;const R=Date.now(),z=R-(u.current||0);if(z>0&&z<=ZV){T.preventDefault(),(K=T.stopPropagation)==null||K.call(T),i==null||i(),u.current=0;return}u.current=R};return v.addEventListener("touchend",_,{passive:!1}),()=>{v.removeEventListener("touchend",_)}},[i]);const p=v=>{v.stopPropagation(),d(_=>!_)},b=v=>{v.stopPropagation(),s==null||s(),d(!1)},x=v=>{v.stopPropagation(),o==null||o(),d(!1)};if(n)return m.jsx(Ub.button,{onClick:r,whileHover:{scale:1.03},whileTap:{scale:.97},className:"h-40 rounded-2xl border-2 border-dashed border-gray-300 flex items-center justify-center transition hover:border-blue-500 hover:text-blue-600 bg-white shadow-sm focus:outline-none focus:ring-2 focus:ring-blue-500","aria-label":"Add Table",children:m.jsx("span",{className:"text-gray-500 font-medium text-lg",children:"+ Add Table"})});const A=(t==null?void 0:t.status)==="occupied";return m.jsxs(Ub.div,{ref:l,role:"button",tabIndex:0,whileHover:{scale:1.02},whileTap:{scale:.98},onClick:r,onDoubleClick:()=>i==null?void 0:i(),onKeyDown:v=>{v.key==="Enter"&&(i==null||i())},className:`relative h-40 rounded-2xl shadow-md hover:shadow-lg transition cursor-pointer flex flex-col items-center justify-center border p-4
        ${e?"border-blue-600 border-2 ring-2 ring-blue-300 bg-blue-50":A?"bg-green-100 border-green-400 text-green-900":"bg-white border-gray-200 text-gray-800"}`,"aria-pressed":e||A,children:[e&&m.jsx("div",{className:"absolute top-2 right-2 bg-blue-600 text-white rounded-full h-6 w-6 flex items-center justify-center z-20",children:m.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-4 w-4",viewBox:"0 0 20 20",fill:"currentColor",children:m.jsx("path",{fillRule:"evenodd",d:"M16.707 5.293a1 1 0 010 1.414l-8 8a1 1 0 01-1.414 0l-4-4a1 1 0 011.414-1.414L8 12.586l7.293-7.293a1 1 0 011.414 0z",clipRule:"evenodd"})})}),(o||s)&&!e&&m.jsxs("div",{ref:g,className:"absolute top-1 right-1 z-10",children:[m.jsx("button",{onClick:p,className:"p-2 rounded-full hover:bg-black/10 transition-colors","aria-label":"Table options",children:m.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-5 w-5",viewBox:"0 0 20 20",fill:"currentColor",children:m.jsx("path",{d:"M10 6a2 2 0 110-4 2 2 0 010 4zM10 12a2 2 0 110-4 2 2 0 010 4zM10 18a2 2 0 110-4 2 2 0 010 4z"})})}),c&&m.jsx("div",{className:"absolute right-0 mt-2 w-40 bg-white rounded-md shadow-lg ring-1 ring-black ring-opacity-5",children:m.jsxs("div",{className:"py-1",children:[!a&&s&&m.jsxs("button",{onClick:b,className:"w-full text-left px-4 py-2 text-sm text-gray-700 hover:bg-gray-100 flex items-center gap-2",children:[m.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-4 w-4",viewBox:"0 0 20 20",fill:"currentColor",children:m.jsx("path",{fillRule:"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zm3.707-10.707a1 1 0 00-1.414-1.414L9 9.586 7.707 8.293a1 1 0 00-1.414 1.414l2 2a1 1 0 001.414 0l4-4z",clipRule:"evenodd"})}),"Select"]}),o&&m.jsxs("button",{onClick:x,className:"w-full text-left px-4 py-2 text-sm text-red-700 hover:bg-red-50 hover:text-red-800 flex items-center gap-2",children:[m.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-4 w-4",viewBox:"0 0 20 20",fill:"currentColor",children:m.jsx("path",{fillRule:"evenodd",d:"M9 2a1 1 0 00-.894.553L7.382 4H4a1 1 0 000 2v10a2 2 0 002 2h8a2 2 0 002-2V6a1 1 0 100-2h-3.382l-.724-1.447A1 1 0 0011 2H9zM7 8a1 1 0 012 0v6a1 1 0 11-2 0V8zm4 0a1 1 0 012 0v6a1 1 0 11-2 0V8z",clipRule:"evenodd"})}),"Delete Table"]})]})})]}),(t==null?void 0:t.status)&&m.jsx("div",{className:`absolute top-2 left-2 h-3 w-3 rounded-full ${t.status==="available"?"bg-green-500":t.status==="occupied"?"bg-red-500":"bg-yellow-400"}`,title:t.status}),m.jsx("span",{className:"text-xl font-semibold",children:(t==null?void 0:t.name)??"Table"}),(t==null?void 0:t.status)&&m.jsx("span",{className:"text-sm mt-1 capitalize",children:t.status})]})},eB=()=>{const[t,e]=G.useState([]),[n,r]=G.useState(!1),[i,s]=G.useState(!0),[o,a]=G.useState(!1),l=HS(),[u,c]=G.useState(!1),[d,g]=G.useState(new Set),[p,b]=G.useState("single"),[x,A]=G.useState(""),[v,_]=G.useState(""),[T,R]=G.useState("T");G.useEffect(()=>{s(!0);const H=RA(ne=>{e(ne||[]),s(!1)},ne=>{console.error("Error fetching tables in real-time:",ne),s(!1)});return()=>H()},[]);const z=H=>{u||!H||l(`/order?tableId=${encodeURIComponent(H)}`)},K=()=>{r(!1),b("single"),A(""),_(""),R("T")},k=H=>{c(!0),g(ne=>new Set(ne).add(H))},C=H=>{u&&g(ne=>{const ce=new Set(ne);return ce.has(H)?ce.delete(H):ce.add(H),ce.size===0&&c(!1),ce})},P=()=>{g(new Set),c(!1)},M=async()=>{if(d.size===0)return;if(window.confirm(`Are you sure you want to delete ${d.size} selected table(s)? This action cannot be undone.`))try{await aD(Array.from(d)),P()}catch(ne){console.error("Error deleting selected tables:",ne),alert("Failed to delete the selected tables. Please try again.")}},E=async()=>{const H=x.trim();if(H){if(t.some(ne=>ne.name.toLowerCase()===H.toLowerCase())){alert(`A table with the name "${H}" already exists.`);return}a(!0);try{await iD(H),K()}catch(ne){console.error("Error adding table:",ne),alert("Failed to add table.")}finally{a(!1)}}},L=async()=>{const H=v.trim();if(!H)return;let ne=[];const ce=H.match(/^(\d+)-(\d+)$/);if(ce){const ge=parseInt(ce[1],10),xe=parseInt(ce[2],10);if(isNaN(ge)||isNaN(xe)||ge>xe){alert("Invalid range. The start number must be less than or equal to the end number.");return}for(let V=ge;V<=xe;V++)ne.push(`${T.trim()}${V}`)}else{const ge=H.split(",").map(xe=>xe.trim()).filter(Boolean);ne.push(...ge)}if(ne.length===0){alert("No valid table names found. Please check your input.");return}const ae=new Set(t.map(ge=>ge.name.toLowerCase())),ee=[],oe=[];if(ne.forEach(ge=>{ae.has(ge.toLowerCase())||ee.some(xe=>xe.toLowerCase()===ge.toLowerCase())?oe.push(ge):ee.push(ge)}),ee.length===0){alert(`All proposed tables already exist or were duplicates in your input: ${oe.join(", ")}.`);return}a(!0);try{await sD(ee);let ge=`Successfully added ${ee.length} new table(s).`;oe.length>0&&(ge+=`
${oe.length} duplicate(s) were ignored: ${oe.join(", ")}.`),alert(ge),K()}catch(ge){console.error("Error adding tables in bulk:",ge),alert("Failed to add tables in bulk. Please try again.")}finally{a(!1)}},j=async H=>{if(!H)return;if(window.confirm("Are you sure you want to delete this table? This action cannot be undone.")){d.has(H)&&g(ce=>{const ae=new Set(ce);return ae.delete(H),ae.size===0&&c(!1),ae});try{await oD(H)}catch(ce){console.error("Error deleting table:",ce),alert("Failed to delete table. Please try again.")}}};return m.jsxs("div",{className:"min-h-screen bg-gray-100 px-4 py-8 md:px-8",children:[m.jsxs("div",{className:"max-w-6xl mx-auto",children:[m.jsxs("header",{className:"mb-8",children:[m.jsx("h1",{className:"text-4xl font-semibold text-gray-900",children:"Tables"}),m.jsx("p",{className:"text-gray-600 mt-2",children:u?`${d.size} table(s) selected`:"Manage all your restaurant tables from here."})]}),i?m.jsx("div",{className:"text-gray-500 mb-6",children:"Loading tables..."}):null,m.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 md:grid-cols-3 xl:grid-cols-4 gap-6",children:[[...t].sort((H,ne)=>{const ce=parseInt(H.name.replace(/\D/g,""),10)||1/0,ae=parseInt(ne.name.replace(/\D/g,""),10)||1/0;return ce!==ae?ce-ae:H.name.localeCompare(ne.name)}).map(H=>{const ne=H.id??H.name;return m.jsx(zb,{table:H,isSelected:d.has(ne),isSelectionMode:u,onClick:()=>C(ne),onDoubleClick:()=>z(ne),onEnterSelectionMode:()=>k(ne),onDelete:()=>j(ne)},ne)}),m.jsx(zb,{isAddButton:!0,onClick:()=>r(!0)})]})]}),u&&m.jsxs("div",{className:"fixed bottom-6 right-6 z-50 flex items-center gap-3 bg-white p-3 rounded-2xl shadow-lg border animate-fade-in-up",children:[m.jsxs("button",{onClick:M,className:"px-4 py-2 rounded-lg bg-red-600 text-white hover:bg-red-700 transition flex items-center gap-2 disabled:bg-red-300",disabled:d.size===0,children:[m.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-5 w-5",viewBox:"0 0 20 20",fill:"currentColor",children:m.jsx("path",{fillRule:"evenodd",d:"M9 2a1 1 0 00-.894.553L7.382 4H4a1 1 0 000 2v10a2 2 0 002 2h8a2 2 0 002-2V6a1 1 0 100-2h-3.382l-.724-1.447A1 1 0 0011 2H9zM7 8a1 1 0 012 0v6a1 1 0 11-2 0V8zm4 0a1 1 0 012 0v6a1 1 0 11-2 0V8z",clipRule:"evenodd"})}),"Delete"]}),m.jsx("button",{onClick:P,className:"p-2 rounded-full text-gray-600 hover:bg-gray-200 transition","aria-label":"Cancel selection",children:m.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-6 w-6",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",strokeWidth:2,children:m.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M6 18L18 6M6 6l12 12"})})})]}),m.jsx(Tc,{isOpen:n,onClose:K,children:m.jsxs("div",{className:"p-4",children:[m.jsx("h2",{className:"text-xl font-semibold text-gray-800 mb-4",children:"Add Table(s)"}),m.jsxs("div",{className:"flex border-b mb-4",children:[m.jsx("button",{onClick:()=>b("single"),className:`px-4 py-2 text-sm font-medium ${p==="single"?"border-b-2 border-blue-600 text-blue-600":"text-gray-500 hover:text-gray-700"}`,children:"Single"}),m.jsx("button",{onClick:()=>b("bulk"),className:`px-4 py-2 text-sm font-medium ${p==="bulk"?"border-b-2 border-blue-600 text-blue-600":"text-gray-500 hover:text-gray-700"}`,children:"Bulk"})]}),p==="single"?m.jsx("div",{children:m.jsx("input",{type:"text",value:x,onChange:H=>A(H.target.value),placeholder:"Enter table name (e.g. T1)",className:"w-full px-4 py-2 border rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 mb-4",onKeyDown:H=>H.key==="Enter"&&E()})}):m.jsxs("div",{children:[m.jsxs("p",{className:"text-sm text-gray-600 mb-2",children:["Use a range (e.g., ",m.jsx("code",{className:"bg-gray-200 px-1 rounded",children:"1-10"}),") or comma-separated names (e.g., ",m.jsx("code",{className:"bg-gray-200 px-1 rounded",children:"A1, B2, C3"}),")."]}),m.jsxs("div",{className:"flex gap-2 mb-4",children:[m.jsx("input",{type:"text",value:T,onChange:H=>R(H.target.value),placeholder:"Prefix",className:"w-1/4 px-4 py-2 border rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500",title:"Prefix for range-based creation"}),m.jsx("input",{type:"text",value:v,onChange:H=>_(H.target.value),placeholder:"e.g. 1-10 or T1, B2, C3",className:"w-3/4 px-4 py-2 border rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500",onKeyDown:H=>H.key==="Enter"&&L()})]})]}),m.jsxs("div",{className:"flex justify-end gap-2",children:[m.jsx("button",{onClick:K,className:"px-4 py-2 rounded-lg border disabled:opacity-50",disabled:o,children:"Cancel"}),m.jsx("button",{onClick:p==="single"?E:L,className:"bg-blue-600 text-white px-5 py-2 rounded-lg hover:bg-blue-700 transition disabled:bg-blue-300 disabled:cursor-not-allowed",disabled:o,children:o?"Adding...":"Done"})]})]})})]})},Jl={Chevron:({className:t})=>m.jsx("svg",{className:t,fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:m.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M19 9l-7 7-7-7"})}),Minus:()=>m.jsx("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:m.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2.5",d:"M20 12H4"})}),Plus:()=>m.jsx("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:m.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2.5",d:"M12 4v16m8-8H4"})}),Table:()=>m.jsx("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:m.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M19 21V5a2 2 0 00-2-2H7a2 2 0 00-2 2v16m14 0h2m-2 0h-5m-9 0H3m2 0h5M9 7h1m-1 4h1m4-4h1m-1 4h1m-5 10v-5a1 1 0 011-1h2a1 1 0 011 1v5m-4 0h4"})}),User:()=>m.jsx("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:m.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M16 7a4 4 0 11-8 0 4 4 0 018 0zM12 14a7 7 0 00-7 7h14a7 7 0 00-7-7z"})}),Check:()=>m.jsx("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:m.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M5 13l4 4L19 7"})}),Alert:()=>m.jsx("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:m.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M12 9v2m0 4h.01m-6.938 4h13.856c1.54 0 2.502-1.667 1.732-3L13.732 4c-.77-1.333-2.694-1.333-3.464 0L3.34 16c-.77 1.333.192 3 1.732 3z"})})},tB=({notification:t})=>{if(!t)return null;const e={success:"bg-green-50 text-green-800 border-green-200",error:"bg-red-50 text-red-800 border-red-200",warning:"bg-yellow-50 text-yellow-800 border-yellow-200"},n=t.type==="success"?Jl.Check:Jl.Alert;return m.jsxs("div",{className:`fixed top-6 left-1/2 transform -translate-x-1/2 z-50 flex items-center gap-3 px-4 py-3 rounded-xl border shadow-lg animate-fade-in-down ${e[t.type]}`,children:[m.jsx(n,{}),m.jsx("span",{className:"font-medium text-sm",children:t.message})]})},nB=()=>m.jsx("div",{className:"space-y-3 animate-pulse",children:[1,2,3,4].map(t=>m.jsx("div",{className:"h-20 bg-gray-100 rounded-xl w-full border border-gray-200"},t))}),rB=on.memo(({quantity:t,onDecrease:e,onIncrease:n})=>m.jsxs("div",{className:"flex items-center bg-gray-100 rounded-full p-1 shadow-inner shrink-0",children:[m.jsx("button",{onClick:r=>{r.stopPropagation(),e()},disabled:t<=0,className:"w-8 h-8 flex items-center justify-center rounded-full bg-white text-gray-700 shadow-sm hover:bg-red-50 hover:text-red-600 disabled:opacity-50 transition-all touch-manipulation",children:m.jsx(Jl.Minus,{})}),m.jsx("span",{className:"w-8 text-center font-bold text-gray-800 text-sm leading-none",children:t}),m.jsx("button",{onClick:r=>{r.stopPropagation(),n()},className:"w-8 h-8 flex items-center justify-center rounded-full bg-blue-600 text-white shadow-md hover:bg-blue-700 active:scale-95 transition-all touch-manipulation",children:m.jsx(Jl.Plus,{})})]})),iB=()=>{var p,b;const t=jc(),[e,n]=G.useState({tables:[],staff:[],menu:[],settings:{currencySymbol:""}}),[r,i]=G.useState({tableId:"",staffId:""}),[s,o]=G.useState({items:{},expandedId:null,loading:!1,submitting:!1}),[a,l]=G.useState({isModalOpen:!0,notification:null}),u=G.useCallback((x,A="success")=>{l(v=>({...v,notification:{message:x,type:A}})),setTimeout(()=>l(v=>({...v,notification:null})),3e3)},[]);G.useEffect(()=>{let x=!0;return(async()=>{o(v=>({...v,loading:!0}));try{const[v,_,T,R]=await Promise.all([LA(),Tf(),Hv(),oa()]);if(x){const z=(v||[]).filter(k=>k.status==="available").sort((k,C)=>k.name.localeCompare(C.name,void 0,{numeric:!0}));n({tables:z,staff:_||[],menu:T||[],settings:R||{currencySymbol:""}});const K=new URLSearchParams(t.search);K.get("tableId")&&(i(k=>({...k,tableId:K.get("tableId")})),l(k=>({...k,isModalOpen:!0}))),(_==null?void 0:_.length)>0&&i(k=>({...k,staffId:_[0].id??_[0]._id}))}}catch{u("Failed to load menu data","error")}finally{x&&o(v=>({...v,loading:!1}))}})(),()=>{x=!1}},[t.search,u]);const c=G.useCallback((x,A,v)=>{o(_=>{const T={..._.items};return T[x]||(T[x]={full:0,half:0,quarter:0}),T[x][A]=Math.max(0,(T[x][A]||0)+v),!T[x].full&&!T[x].half&&!T[x].quarter&&delete T[x],{..._,items:T}})},[]),d=G.useMemo(()=>Object.entries(s.items).reduce((x,[A,v])=>{const _=e.menu.find(T=>(T.id??T._id)===A);return _?x+v.full*(_.fullPrice??_.price??0)+v.half*(_.halfPrice??0)+v.quarter*(_.quarterPrice??0):x},0),[s.items,e.menu]),g=async()=>{if(!r.tableId)return l(A=>({...A,isModalOpen:!0}));const x=[];if(Object.entries(s.items).forEach(([A,v])=>{const _=e.menu.find(T=>(T.id??T._id)===A);_&&(v.full>0&&x.push({itemId:A,quantity:v.full,portion:"full",price:_.fullPrice??_.price}),v.half>0&&x.push({itemId:A,quantity:v.half,portion:"half",price:_.halfPrice}),v.quarter>0&&x.push({itemId:A,quantity:v.quarter,portion:"quarter",price:_.quarterPrice}))}),x.length===0)return u("Please add items first","warning");o(A=>({...A,submitting:!0}));try{await fD({tableId:r.tableId,staffId:r.staffId||null,items:x,total:d,createdAt:new Date().toISOString()}),await jA(r.tableId,"occupied"),window.dispatchEvent(new CustomEvent("tablesUpdated")),u("Order submitted successfully!","success"),o(A=>({...A,items:{},expandedId:null}))}catch{u("Failed to submit order","error")}finally{o(A=>({...A,submitting:!1}))}};return m.jsxs("div",{className:"min-h-screen bg-gray-50 font-sans text-gray-900",children:[m.jsx(tB,{notification:a.notification}),m.jsxs("div",{className:"container mx-auto px-4 md:px-6 pt-24 pb-40 max-w-3xl",children:[m.jsxs("div",{className:"flex justify-between items-end mb-6",children:[m.jsxs("div",{children:[m.jsx("h1",{className:"text-2xl font-bold tracking-tight text-gray-900",children:"New Order"}),m.jsx("p",{className:"text-gray-500 text-xs mt-0.5",children:"Select items from menu"})]}),r.tableId&&m.jsxs("div",{onClick:()=>l(x=>({...x,isModalOpen:!0})),className:"flex flex-col items-end cursor-pointer bg-white px-3 py-2 rounded-xl border border-gray-200 shadow-sm active:bg-gray-50 transition-colors touch-manipulation",children:[m.jsxs("div",{className:"flex items-center gap-1.5 text-blue-600 font-bold text-sm",children:[m.jsx(Jl.Table,{}),m.jsx("span",{className:"truncate max-w-[100px]",children:((p=e.tables.find(x=>(x.id??x._id)===r.tableId))==null?void 0:p.name)||"Table ?"})]}),m.jsxs("div",{className:"flex items-center gap-1 text-gray-400 text-[10px] font-medium uppercase tracking-wide",children:[m.jsx(Jl.User,{}),m.jsx("span",{className:"truncate max-w-[80px]",children:((b=e.staff.find(x=>(x.id??x._id)===r.staffId))==null?void 0:b.name)||"No Staff"})]})]})]}),m.jsx(Tc,{isOpen:a.isModalOpen,onClose:()=>l(x=>({...x,isModalOpen:!1})),children:m.jsxs("div",{className:"max-h-[70vh] overflow-y-auto px-1 py-1 scrollbar-hide",children:[m.jsx("h2",{className:"text-xl font-bold mb-6 text-gray-800 sticky top-0 bg-white pb-2",children:"Start Session"}),m.jsxs("div",{className:"space-y-5",children:[m.jsxs("div",{className:"space-y-1.5",children:[m.jsx("label",{className:"text-xs font-semibold text-gray-500 uppercase ml-1",children:"Table"}),m.jsxs("select",{value:r.tableId,onChange:x=>i({...r,tableId:x.target.value}),className:"w-full p-3.5 bg-gray-50 border border-gray-200 rounded-xl focus:ring-2 focus:ring-blue-500 outline-none text-sm font-medium appearance-none",children:[m.jsx("option",{value:"",children:"Select Table"}),e.tables.map(x=>m.jsx("option",{value:x.id??x._id,children:x.name},x.id??x._id))]})]}),m.jsxs("div",{className:"space-y-1.5",children:[m.jsx("label",{className:"text-xs font-semibold text-gray-500 uppercase ml-1",children:"Staff"}),m.jsxs("select",{value:r.staffId,onChange:x=>i({...r,staffId:x.target.value}),className:"w-full p-3.5 bg-gray-50 border border-gray-200 rounded-xl focus:ring-2 focus:ring-blue-500 outline-none text-sm font-medium appearance-none",children:[m.jsx("option",{value:"",children:"Select Staff"}),e.staff.map(x=>m.jsx("option",{value:x.id??x._id,children:x.name},x.id??x._id))]})]})]}),m.jsx("button",{onClick:()=>l(x=>({...x,isModalOpen:!1})),disabled:!r.tableId,className:`mt-8 w-full py-3.5 rounded-xl font-bold text-sm shadow-md transition-all touch-manipulation ${r.tableId?"bg-blue-600 text-white hover:bg-blue-700 active:scale-95":"bg-gray-200 text-gray-400"}`,children:"Start Order"})]})}),s.loading?m.jsx(nB,{}):m.jsx("div",{className:"space-y-3",children:e.menu.map(x=>{const A=x.id??x._id,v=s.expandedId===A,_=s.items[A],T=((_==null?void 0:_.full)||0)+((_==null?void 0:_.half)||0)+((_==null?void 0:_.quarter)||0);return m.jsxs("div",{className:`bg-white rounded-xl border transition-all duration-200 overflow-hidden ${v?"ring-1 ring-blue-500 border-blue-500 shadow-md":"border-gray-100 shadow-sm"}`,children:[m.jsxs("div",{onClick:()=>o(R=>({...R,expandedId:R.expandedId===A?null:A})),className:"p-4 flex justify-between items-center cursor-pointer active:bg-gray-50 touch-manipulation select-none",children:[m.jsxs("div",{className:"min-w-0 flex-1 mr-4",children:[m.jsx("h3",{className:"font-bold text-gray-800 text-base truncate",children:x.name}),m.jsxs("span",{className:"text-xs text-gray-500 font-medium",children:[e.settings.currencySymbol,(x.fullPrice??x.price).toFixed(2)]})]}),m.jsxs("div",{className:"flex items-center gap-3 shrink-0",children:[T>0&&m.jsx("span",{className:"bg-blue-600 text-white text-xs font-bold px-2 py-0.5 rounded-md",children:T}),m.jsx(Jl.Chevron,{className:`w-5 h-5 text-gray-400 transition-transform duration-300 ${v?"rotate-180 text-blue-600":""}`})]})]}),m.jsx("div",{className:`transition-[max-height] duration-300 ease-in-out overflow-hidden ${v?"max-h-[600px]":"max-h-0"}`,children:m.jsx("div",{className:"px-4 pb-4 pt-1 bg-gray-50 space-y-2 border-t border-gray-100",children:[{label:"Full",price:x.fullPrice??x.price,key:"full"},x.halfPrice&&{label:"Half",price:x.halfPrice,key:"half"},x.quarterPrice&&{label:"Quarter",price:x.quarterPrice,key:"quarter"}].filter(Boolean).map(R=>m.jsxs("div",{className:"flex justify-between items-center bg-white p-2 rounded-lg border border-gray-100 shadow-sm",children:[m.jsxs("div",{children:[m.jsx("div",{className:"text-xs font-semibold text-gray-600",children:R.label}),m.jsxs("div",{className:"text-xs font-bold text-blue-600",children:[e.settings.currencySymbol,R.price.toFixed(2)]})]}),m.jsx(rB,{quantity:(_==null?void 0:_[R.key])||0,onDecrease:()=>c(A,R.key,-1),onIncrease:()=>c(A,R.key,1)})]},R.key))})})]},A)})})]}),m.jsx("div",{className:"fixed bottom-20 right-0 w-full z-40 transition-all duration-300 md:pl-64",style:{paddingBottom:"env(safe-area-inset-bottom)"},children:m.jsx("div",{className:"mx-4 max-w-3xl md:mx-auto",children:m.jsxs("div",{className:"bg-gray-900/95 backdrop-blur-md shadow-2xl rounded-xl p-3 flex items-center justify-between border border-gray-800",children:[m.jsxs("div",{className:"pl-2",children:[m.jsx("div",{className:"text-gray-400 text-[10px] font-bold uppercase tracking-wider",children:"Total"}),m.jsxs("div",{className:"text-xl font-bold text-white font-mono leading-none",children:[e.settings.currencySymbol,d.toFixed(2)]})]}),m.jsx("button",{onClick:g,disabled:s.submitting,className:`px-6 py-2.5 rounded-lg font-bold text-sm shadow transition-transform active:scale-95 flex items-center gap-2 touch-manipulation ${r.tableId?"bg-white text-gray-900 hover:bg-gray-100":"bg-gray-700 text-gray-500"}`,children:s.submitting?m.jsx("span",{className:"animate-pulse",children:"Sending..."}):m.jsx("span",{children:"Place Order"})})]})})})]})},sB=({item:t,currencySymbol:e="",quantity:n=0,onCardClick:r,selectionMode:i=!1,isSelected:s=!1,onSelect:o})=>{if(!t)return null;const a=()=>{i?o==null||o():r==null||r(t)},l=["bg-white rounded-xl shadow-md p-4 flex flex-col justify-between transition-all duration-200 relative border",r||i?"cursor-pointer":"",s?"ring-2 ring-blue-600 border-blue-500 shadow-lg":"border-gray-200 hover:shadow-lg"].join(" ");return m.jsxs("div",{className:l,onClick:a,children:[n>0&&!i&&m.jsx("div",{className:"absolute top-[-10px] right-[-10px] bg-blue-600 text-white text-xs font-bold w-6 h-6 rounded-full flex items-center justify-center shadow-lg z-10",children:n}),i&&s&&m.jsx("div",{className:"absolute inset-0 bg-blue-500 bg-opacity-10 rounded-xl pointer-events-none flex items-center justify-center",children:m.jsx("div",{className:"bg-white rounded-full p-1 shadow",children:m.jsx("svg",{className:"w-6 h-6 text-blue-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg",children:m.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M5 13l4 4L19 7"})})})}),m.jsxs("div",{className:"flex-grow",children:[m.jsx("h3",{className:"text-lg font-bold text-gray-800 mb-2 truncate",children:t.name}),m.jsx("div",{className:"text-sm font-semibold mb-3",children:t.fullPrice||t.halfPrice||t.quarterPrice?m.jsxs("div",{className:"grid grid-cols-[auto_1fr] gap-x-3 gap-y-1 text-gray-700",children:[t.fullPrice!=null&&m.jsxs(m.Fragment,{children:[m.jsx("span",{className:"font-medium text-gray-500",children:"Full:"}),m.jsxs("span",{children:[e,t.fullPrice.toFixed(2)]})]}),t.halfPrice!=null&&m.jsxs(m.Fragment,{children:[m.jsx("span",{className:"font-medium text-gray-500",children:"Half:"}),m.jsxs("span",{children:[e,t.halfPrice.toFixed(2)]})]}),t.quarterPrice!=null&&m.jsxs(m.Fragment,{children:[m.jsx("span",{className:"font-medium text-gray-500",children:"Qtr:"}),m.jsxs("span",{children:[e,t.quarterPrice.toFixed(2)]})]})]}):t.price&&m.jsxs("div",{className:"text-gray-700",children:[e,t.price.toFixed(2)]})}),t.ingredients&&m.jsx("p",{className:"text-xs text-gray-600 mb-2",children:t.ingredients})]}),t.specialNote&&m.jsxs("p",{className:"text-xs italic text-blue-600 mt-auto pt-2 border-t border-gray-100",children:["Note: ",t.specialNote]})]})};/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const oB=t=>t.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),aB=t=>t.replace(/^([A-Z])|[\s-_]+(\w)/g,(e,n,r)=>r?r.toUpperCase():n.toLowerCase()),qb=t=>{const e=aB(t);return e.charAt(0).toUpperCase()+e.slice(1)},dE=(...t)=>t.filter((e,n,r)=>!!e&&e.trim()!==""&&r.indexOf(e)===n).join(" ").trim(),lB=t=>{for(const e in t)if(e.startsWith("aria-")||e==="role"||e==="title")return!0};/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var uB={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const cB=G.forwardRef(({color:t="currentColor",size:e=24,strokeWidth:n=2,absoluteStrokeWidth:r,className:i="",children:s,iconNode:o,...a},l)=>G.createElement("svg",{ref:l,...uB,width:e,height:e,stroke:t,strokeWidth:r?Number(n)*24/Number(e):n,className:dE("lucide",i),...!s&&!lB(a)&&{"aria-hidden":"true"},...a},[...o.map(([u,c])=>G.createElement(u,c)),...Array.isArray(s)?s:[s]]));/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const wi=(t,e)=>{const n=G.forwardRef(({className:r,...i},s)=>G.createElement(cB,{ref:s,iconNode:e,className:dE(`lucide-${oB(qb(t))}`,`lucide-${t}`,r),...i}));return n.displayName=qb(t),n};/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const hB=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]],pE=wi("circle-alert",hB);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const fB=[["path",{d:"M21.801 10A10 10 0 1 1 17 3.335",key:"yps3ct"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]],mE=wi("circle-check-big",fB);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const dB=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 2a14.5 14.5 0 0 0 0 20 14.5 14.5 0 0 0 0-20",key:"13o1zl"}],["path",{d:"M2 12h20",key:"9i4pu4"}]],$b=wi("globe",dB);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const pB=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 16v-4",key:"1dtifu"}],["path",{d:"M12 8h.01",key:"e9boi3"}]],mB=wi("info",pB);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const gB=[["path",{d:"M10 8h.01",key:"1r9ogq"}],["path",{d:"M12 12h.01",key:"1mp3jc"}],["path",{d:"M14 8h.01",key:"1primd"}],["path",{d:"M16 12h.01",key:"1l6xoz"}],["path",{d:"M18 8h.01",key:"emo2bl"}],["path",{d:"M6 8h.01",key:"x9i8wu"}],["path",{d:"M7 16h10",key:"wp8him"}],["path",{d:"M8 12h.01",key:"czm47f"}],["rect",{width:"20",height:"16",x:"2",y:"4",rx:"2",key:"18n3k1"}]],Hb=wi("keyboard",gB);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const yB=[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]],Wb=wi("loader-circle",yB);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const vB=[["rect",{width:"20",height:"14",x:"2",y:"3",rx:"2",key:"48i651"}],["line",{x1:"8",x2:"16",y1:"21",y2:"21",key:"1svkeh"}],["line",{x1:"12",x2:"12",y1:"17",y2:"21",key:"vw1qmm"}]],wB=wi("monitor",vB);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const xB=[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]],Gb=wi("plus",xB);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const bB=[["path",{d:"M6 18H4a2 2 0 0 1-2-2v-5a2 2 0 0 1 2-2h16a2 2 0 0 1 2 2v5a2 2 0 0 1-2 2h-2",key:"143wyd"}],["path",{d:"M6 9V3a1 1 0 0 1 1-1h10a1 1 0 0 1 1 1v6",key:"1itne7"}],["rect",{x:"6",y:"14",width:"12",height:"8",rx:"1",key:"1ue0tg"}]],I1=wi("printer",bB);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _B=[["path",{d:"M15.2 3a2 2 0 0 1 1.4.6l3.8 3.8a2 2 0 0 1 .6 1.4V19a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2z",key:"1c8476"}],["path",{d:"M17 21v-7a1 1 0 0 0-1-1H8a1 1 0 0 0-1 1v7",key:"1ydtos"}],["path",{d:"M7 3v4a1 1 0 0 0 1 1h7",key:"t51u73"}]],gE=wi("save",_B);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const SB=[["path",{d:"M21 10.656V19a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h12.344",key:"2acyp4"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]],AB=wi("square-check-big",SB);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const NB=[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",key:"afitv7"}]],EB=wi("square",NB);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const TB=[["path",{d:"M15 21v-5a1 1 0 0 0-1-1h-4a1 1 0 0 0-1 1v5",key:"slp6dd"}],["path",{d:"M17.774 10.31a1.12 1.12 0 0 0-1.549 0 2.5 2.5 0 0 1-3.451 0 1.12 1.12 0 0 0-1.548 0 2.5 2.5 0 0 1-3.452 0 1.12 1.12 0 0 0-1.549 0 2.5 2.5 0 0 1-3.77-3.248l2.889-4.184A2 2 0 0 1 7 2h10a2 2 0 0 1 1.653.873l2.895 4.192a2.5 2.5 0 0 1-3.774 3.244",key:"o0xfot"}],["path",{d:"M4 10.95V19a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2v-8.05",key:"wn3emo"}]],Kb=wi("store",TB);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const CB=[["path",{d:"M10 11v6",key:"nco0om"}],["path",{d:"M14 11v6",key:"outv1u"}],["path",{d:"M19 6v14a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2V6",key:"miytrc"}],["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M8 6V4a2 2 0 0 1 2-2h4a2 2 0 0 1 2 2v2",key:"e791ji"}]],kB=wi("trash-2",CB);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const PB=[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]],IB=wi("x",PB),Qb={en:{title:"Menu Management",sub:"Organize your cuisine catalog.",sel:"Selected",del:"Delete",cancel:"Cancel",bulk:"Bulk Editor",select:"Select",add:"Add Item",confirm:"Confirm Delete?",warn:"irreversible action.",name:"Item Name",full:"Full Price",half:"Half Price",qtr:"Qtr Price",ing:"Ingredients",note:"Note",done:"Save",status:"Status",row:"+ Row",clear:"Reset",saving:"Saving..."},hi:{title:" ",sub:"    ",sel:"",del:"",cancel:"",bulk:" ",select:"",add:" ",confirm:"  ?",warn:"   ",name:"",full:" ",half:" ",qtr:" ",ing:"",note:"",done:"",status:"",row:"+ ",clear:"",saving:"   ..."},es:{title:"Gestin de Men",sub:"Organiza tu catlogo.",sel:"Selec.",del:"Eliminar",cancel:"Cancelar",bulk:"Editor Masivo",select:"Selec.",add:"Agregar",confirm:"Eliminar?",warn:"Accin irreversible.",name:"Nombre",full:"Precio Completo",half:"Precio Medio",qtr:"Precio Cuarto",ing:"Ingredientes",note:"Nota",done:"Guardar",status:"Estado",row:"+ Fila",clear:"Reiniciar",saving:"Guardando..."},ar:{title:" ",sub:"  .",sel:"",del:"",cancel:"",bulk:" ",select:"",add:"",confirm:" ",warn:"   .",name:"",full:" ",half:" ",qtr:" ",ing:"",note:"",done:"",status:"",row:"+ ",clear:" ",saving:" ..."},fr:{title:"Gestion Menu",sub:"Organisez votre catalogue.",sel:"Slec.",del:"Supprimer",cancel:"Annuler",bulk:"diteur de masse",select:"Slec.",add:"Ajouter",confirm:"Supprimer ?",warn:"Action irrversible.",name:"Nom",full:"Prix Plein",half:"Prix Demi",qtr:"Prix Quart",ing:"Ingrdients",note:"Note",done:"Sauver",status:"Statut",row:"+ Ligne",clear:"Rinitialiser",saving:"Sauvegarde..."}},LB=()=>{const[t,e]=G.useState({cur:"",lang:"en"}),[n,r]=G.useState([]),[i,s]=G.useState({modal:!1,bulkModal:!1,selMode:!1,selIds:[],deleting:!1,processing:!1}),[o,a]=G.useState({show:!1,msg:"",type:"info"}),[l,u]=G.useState({name:"",fullPrice:"",halfPrice:"",quarterPrice:"",ingredients:"",specialNote:""}),[c,d]=G.useState([{name:"",fullPrice:"",halfPrice:"",quarterPrice:"",ingredients:"",specialNote:""}]),g=G.useRef([]),p=G.useMemo(()=>Qb[t.lang]||Qb.en,[t.lang]),b=t.lang==="ar";G.useEffect(()=>(oa().then(k=>k&&e({cur:k.currencySymbol||"",lang:k.language||"en"})).catch(console.error),uD(k=>r(k||[]))),[]);const x=G.useCallback((k,C="success")=>{a({show:!0,msg:k,type:C}),setTimeout(()=>a(P=>({...P,show:!1})),3e3)},[]),A=k=>s(C=>({...C,selIds:C.selIds.includes(k)?C.selIds.filter(P=>P!==k):[...C.selIds,k]})),v=()=>s(k=>({...k,selIds:k.selIds.length===n.length?[]:n.map(C=>C.id)})),_=()=>s(k=>({...k,modal:!1,bulkModal:!1,selMode:!1,selIds:[]})),T=async()=>{if(!l.name||!l.fullPrice)return x("Name & Full Price required","error");try{await k4({...l,fullPrice:parseFloat(l.fullPrice),halfPrice:parseFloat(l.halfPrice)||null,quarterPrice:parseFloat(l.quarterPrice)||null}),u({name:"",fullPrice:"",halfPrice:"",quarterPrice:"",ingredients:"",specialNote:""}),s(k=>({...k,modal:!1})),x("Item added successfully")}catch{x("Failed to add item","error")}},R=async()=>{if(i.selIds.length){s(k=>({...k,deleting:!0}));try{await lD(i.selIds),x(`Deleted ${i.selIds.length} items`),_()}catch{x("Deletion failed","error")}finally{s(k=>({...k,deleting:!1}))}}},z=async()=>{const k=c.filter(C=>C.name&&!isNaN(parseFloat(C.fullPrice))).map(C=>({...C,fullPrice:parseFloat(C.fullPrice),halfPrice:parseFloat(C.halfPrice)||null,quarterPrice:parseFloat(C.quarterPrice)||null}));if(!k.length)return x("No valid rows to add","warn");s(C=>({...C,processing:!0}));try{await Promise.all(k.map(C=>k4(C))),d([{name:"",fullPrice:"",halfPrice:"",quarterPrice:"",ingredients:"",specialNote:""}]),s(C=>({...C,bulkModal:!1,processing:!1})),x(`Added ${k.length} items`)}catch{s(P=>({...P,processing:!1})),x("Bulk add partial failure","error")}},K=(k,C,P)=>{var L,j,H;if(!["ArrowUp","ArrowDown","ArrowLeft","ArrowRight"].includes(k.key))return;k.preventDefault();const M=Math.min(Math.max(0,C+(k.key==="ArrowUp"?-1:k.key==="ArrowDown"?1:0)),c.length-1),E=Math.min(Math.max(0,P+(k.key==="ArrowLeft"?-1:k.key==="ArrowRight"?1:0)),5);(H=(j=(L=g.current[M])==null?void 0:L[E])==null?void 0:j.current)==null||H.focus()};return m.jsxs("div",{className:`min-h-screen bg-slate-50 text-slate-800 ${b?"rtl":"ltr"}`,dir:b?"rtl":"ltr",children:[o.show&&m.jsxs("div",{className:`fixed top-5 right-5 z-[60] flex items-center p-4 rounded-lg shadow-xl border animate-in fade-in slide-in-from-top-5 ${o.type==="error"?"bg-red-50 border-red-200 text-red-800":"bg-emerald-50 border-emerald-200 text-emerald-800"}`,children:[o.type==="error"?m.jsx(pE,{className:"w-5 h-5 mr-2"}):m.jsx(mE,{className:"w-5 h-5 mr-2"}),m.jsx("span",{className:"font-medium text-sm",children:o.msg})]}),m.jsxs("header",{className:"sticky top-0 z-30 bg-white/80 backdrop-blur-md border-b border-slate-200 px-6 py-4 flex flex-col sm:flex-row justify-between items-center gap-4",children:[m.jsxs("div",{children:[m.jsx("h1",{className:"text-2xl font-bold text-slate-900 flex items-center gap-2",children:i.selMode?m.jsxs("span",{className:"text-blue-600",children:[i.selIds.length," ",p.sel]}):p.title}),m.jsx("p",{className:"text-xs font-medium text-slate-500 uppercase tracking-wider",children:i.selMode?p.selectSubtitle:p.sub})]}),m.jsx("div",{className:"flex items-center gap-3",children:i.selMode?m.jsxs(m.Fragment,{children:[m.jsxs("button",{onClick:v,className:"btn-secondary flex items-center gap-2",children:[i.selIds.length===n.length?m.jsx(AB,{size:16}):m.jsx(EB,{size:16})," ",p.sel]}),m.jsxs("button",{onClick:R,disabled:!i.selIds.length||i.deleting,className:"btn-danger",children:[i.deleting?m.jsx(Wb,{className:"animate-spin",size:16}):m.jsx(kB,{size:16})," ",p.del]}),m.jsx("button",{onClick:_,className:"btn-ghost",children:p.cancel})]}):m.jsxs(m.Fragment,{children:[m.jsx("button",{onClick:()=>s(k=>({...k,bulkModal:!0})),className:"btn-secondary hidden sm:flex",children:p.bulk}),m.jsx("button",{onClick:()=>s(k=>({...k,selMode:!0})),className:"btn-secondary",children:p.select}),m.jsxs("button",{onClick:()=>s(k=>({...k,modal:!0})),className:"btn-primary",children:[m.jsx(Gb,{size:18,className:b?"ml-1":"mr-1"})," ",p.add]})]})})]}),m.jsxs("main",{className:"p-6 grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4 gap-6",children:[!i.selMode&&m.jsxs("div",{onClick:()=>s(k=>({...k,modal:!0})),className:"group border-2 border-dashed border-slate-300 rounded-xl flex flex-col items-center justify-center h-48 cursor-pointer hover:border-blue-500 hover:bg-blue-50/50 transition-all",children:[m.jsx("div",{className:"w-12 h-12 bg-white rounded-full shadow-sm flex items-center justify-center group-hover:scale-110 transition-transform",children:m.jsx(Gb,{className:"text-slate-400 group-hover:text-blue-600",size:24})}),m.jsx("span",{className:"mt-3 font-semibold text-slate-500 group-hover:text-blue-700",children:p.add})]}),n.map(k=>m.jsx(sB,{item:k,selectionMode:i.selMode,isSelected:i.selIds.includes(k.id),onSelect:()=>A(k.id),currency:t.cur},k.id))]}),m.jsx(Tc,{isOpen:i.modal,onClose:()=>s(k=>({...k,modal:!1})),size:"md",children:m.jsxs("div",{className:"p-1",children:[m.jsx("h2",{className:"text-xl font-bold text-slate-800 mb-6",children:p.add}),m.jsxs("div",{className:"space-y-4",children:[m.jsx("input",{name:"name",value:l.name,onChange:k=>u({...l,name:k.target.value}),placeholder:p.name,className:"input-field font-medium",autoFocus:!0}),m.jsxs("div",{className:"grid grid-cols-3 gap-3",children:[m.jsxs("div",{className:"relative",children:[m.jsx("span",{className:"absolute top-2.5 left-3 text-slate-400 text-sm",children:t.cur}),m.jsx("input",{name:"fullPrice",type:"number",value:l.fullPrice,onChange:k=>u({...l,fullPrice:k.target.value}),placeholder:p.full,className:"input-field pl-7"})]}),m.jsxs("div",{className:"relative",children:[m.jsx("span",{className:"absolute top-2.5 left-3 text-slate-400 text-sm",children:t.cur}),m.jsx("input",{name:"halfPrice",type:"number",value:l.halfPrice,onChange:k=>u({...l,halfPrice:k.target.value}),placeholder:p.half,className:"input-field pl-7"})]}),m.jsxs("div",{className:"relative",children:[m.jsx("span",{className:"absolute top-2.5 left-3 text-slate-400 text-sm",children:t.cur}),m.jsx("input",{name:"quarterPrice",type:"number",value:l.quarterPrice,onChange:k=>u({...l,quarterPrice:k.target.value}),placeholder:p.qtr,className:"input-field pl-7"})]})]}),m.jsx("input",{name:"ingredients",value:l.ingredients,onChange:k=>u({...l,ingredients:k.target.value}),placeholder:p.ing,className:"input-field"}),m.jsx("textarea",{name:"specialNote",value:l.specialNote,onChange:k=>u({...l,specialNote:k.target.value}),placeholder:p.note,rows:3,className:"input-field resize-none"})]}),m.jsxs("div",{className:"mt-8 flex justify-end gap-3",children:[m.jsx("button",{onClick:()=>s(k=>({...k,modal:!1})),className:"btn-ghost",children:p.cancel}),m.jsx("button",{onClick:T,className:"btn-primary w-32",children:p.done})]})]})}),m.jsx(Tc,{isOpen:i.bulkModal,onClose:()=>s(k=>({...k,bulkModal:!1})),size:"5xl",children:m.jsxs("div",{className:"flex flex-col h-[80vh]",children:[m.jsxs("div",{className:"flex justify-between items-center mb-4 pb-4 border-b",children:[m.jsxs("div",{children:[m.jsx("h2",{className:"text-xl font-bold text-slate-800",children:p.bulk}),m.jsx("p",{className:"text-xs text-slate-500",children:p.sub})]}),m.jsxs("div",{className:"flex gap-2",children:[m.jsx("button",{onClick:()=>d([{name:"",fullPrice:"",halfPrice:"",quarterPrice:"",ingredients:"",specialNote:""}]),className:"btn-ghost text-xs",children:p.clear}),m.jsx("button",{onClick:()=>d([...c,{name:"",fullPrice:"",halfPrice:"",quarterPrice:"",ingredients:"",specialNote:""}]),className:"btn-secondary text-xs",children:p.row}),m.jsxs("button",{onClick:z,disabled:i.processing,className:"btn-primary text-xs px-6",children:[i.processing?m.jsx(Wb,{className:"animate-spin mr-2",size:14}):m.jsx(gE,{size:14,className:"mr-2"})," ",i.processing?p.saving:p.done]})]})]}),m.jsx("div",{className:"flex-1 overflow-auto bg-slate-50 border rounded-lg",children:m.jsxs("table",{className:"w-full text-sm text-left",children:[m.jsx("thead",{className:"text-xs text-slate-500 uppercase bg-slate-100 sticky top-0 z-10 shadow-sm",children:m.jsxs("tr",{children:[m.jsx("th",{className:"px-3 py-2 w-8 text-center",children:"#"}),m.jsxs("th",{className:"px-3 py-2",children:[p.name,"*"]}),m.jsxs("th",{className:"px-3 py-2 w-24",children:[p.full,"*"]}),m.jsx("th",{className:"px-3 py-2 w-24",children:p.half}),m.jsx("th",{className:"px-3 py-2 w-24",children:p.qtr}),m.jsx("th",{className:"px-3 py-2 w-1/4",children:p.ing}),m.jsx("th",{className:"px-3 py-2 w-1/5",children:p.note}),m.jsx("th",{className:"w-8"})]})}),m.jsx("tbody",{className:"divide-y divide-slate-200 bg-white",children:c.map((k,C)=>{g.current[C]||(g.current[C]=[]);const P=!k.name&&!k.fullPrice?"neutral":k.name&&!isNaN(parseFloat(k.fullPrice))?"valid":"invalid";return m.jsxs("tr",{className:"hover:bg-blue-50/30 group transition-colors",children:[m.jsx("td",{className:"px-2 text-center",children:m.jsx("div",{className:`w-2 h-2 rounded-full mx-auto ${P==="valid"?"bg-emerald-500":P==="invalid"?"bg-rose-500":"bg-slate-300"}`})}),["name","fullPrice","halfPrice","quarterPrice","ingredients","specialNote"].map((M,E)=>m.jsx("td",{className:"p-1",children:m.jsx("input",{ref:L=>g.current[C][E]={current:L},value:k[M],onChange:L=>{const j=[...c];j[C][M]=L.target.value,d(j)},onKeyDown:L=>K(L,C,E),className:"w-full bg-transparent p-1.5 rounded border border-transparent focus:bg-white focus:border-blue-400 focus:ring-2 focus:ring-blue-100 outline-none text-slate-700 placeholder-slate-300",placeholder:E===1?t.cur:"-"})},M)),m.jsx("td",{className:"text-center",children:m.jsx("button",{onClick:()=>d(c.filter((M,E)=>E!==C)),className:"text-slate-300 hover:text-rose-500 opacity-0 group-hover:opacity-100",children:m.jsx(IB,{size:14})})})]},C)})})]})})]})}),m.jsx("style",{jsx:!0,children:`
        .btn-primary { @apply px-4 py-2 bg-blue-600 hover:bg-blue-700 text-white rounded-lg font-semibold shadow-sm shadow-blue-200 transition-all active:scale-95 disabled:opacity-70 disabled:cursor-not-allowed text-sm flex items-center justify-center; }
        .btn-secondary { @apply px-4 py-2 bg-white border border-slate-200 text-slate-700 hover:bg-slate-50 hover:border-slate-300 rounded-lg font-medium transition-all text-sm shadow-sm; }
        .btn-danger { @apply px-4 py-2 bg-rose-50 text-rose-600 hover:bg-rose-100 border border-rose-100 rounded-lg font-medium transition-all text-sm flex items-center gap-2; }
        .btn-ghost { @apply px-4 py-2 text-slate-500 hover:text-slate-700 hover:bg-slate-100 rounded-lg font-medium transition-all text-sm; }
        .input-field { @apply w-full p-2.5 bg-slate-50 border border-slate-200 rounded-lg text-sm text-slate-800 focus:bg-white focus:border-blue-500 focus:ring-2 focus:ring-blue-100 outline-none transition-all placeholder-slate-400; }
      `})]})},RB=()=>m.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-5 w-5 mr-3 text-slate-400",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",strokeWidth:2,children:m.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M16 7a4 4 0 11-8 0 4 4 0 018 0zM12 14a7 7 0 00-7 7h14a7 7 0 00-7-7z"})}),jB=()=>m.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-5 w-5 mr-3 text-slate-400 flex-shrink-0",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",strokeWidth:2,children:m.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M3 5a2 2 0 012-2h3.28a1 1 0 01.948.684l1.498 4.493a1 1 0 01-.502 1.21l-2.257 1.13a11.042 11.042 0 005.516 5.516l1.13-2.257a1 1 0 011.21-.502l4.493 1.498a1 1 0 01.684.949V19a2 2 0 01-2 2h-1C9.716 21 3 14.284 3 6V5z"})}),DB=()=>m.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-5 w-5 mr-3 text-slate-400 flex-shrink-0",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",strokeWidth:2,children:[m.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M17.657 16.657l-4.243 4.243a2 2 0 01-2.828 0l-4.242-4.242a8 8 0 1111.313 0z"}),m.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M15 11a3 3 0 11-6 0 3 3 0 016 0z"})]}),Yb=()=>m.jsxs("svg",{className:"animate-spin -ml-1 mr-3 h-5 w-5 text-white",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",children:[m.jsx("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),m.jsx("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})]}),MB=()=>m.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-6 w-6",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",strokeWidth:2,children:m.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M5 7a4 4 0 1 0 8 0a4 4 0 0 0 -8 0 M3 21v-2a4 4 0 0 1 4 -4h4c.96 0 1.84 .338 2.53 .901 M16 3.13a4 4 0 0 1 0 7.75 M16 19h6 M19 16v6"})}),Xb={name:"",contact:"",address:""},L1={name:"",contact:"",address:""},FB=()=>{const[t,e]=G.useState([]),[n,r]=G.useState(!1),[i,s]=G.useState(Xb),[o,a]=G.useState(!1),[l,u]=G.useState([L1]),[c,d]=G.useState(!1);G.useEffect(()=>{(async()=>{try{const T=await Tf();e(T)}catch(T){console.error("Error loading staff:",T)}})()},[]);const g=_=>{const{name:T,value:R}=_.target;s(z=>({...z,[T]:R}))},p=async()=>{if(!i.name.trim()){alert("Staff name is required.");return}d(!0);try{const _=await cD(i);e([...t,_]),s(Xb),r(!1)}catch(_){console.error("Error adding staff:",_),alert("Failed to add staff member.")}finally{d(!1)}},b=(_,T)=>{const{name:R,value:z}=T.target,K=[...l];K[_][R]=z,u(K)},x=()=>{u([...l,{...L1}])},A=async()=>{const _=l.filter(T=>T.name.trim()!=="");if(_.length===0){alert("Please enter a name for at least one staff member.");return}d(!0);try{await hD(_);const T=await Tf();e(T),u([L1]),a(!1)}catch(T){console.error("Error adding staff in bulk:",T),alert("Failed to add staff members in bulk.")}finally{d(!1)}},v=(_,T,R)=>{const{key:z,shiftKey:K}=_,k={ArrowDown:{r:1,c:0},Enter:{r:1,c:0,cond:!K},ArrowUp:{r:-1,c:0},ArrowRight:{r:0,c:1},Tab:{r:0,c:1,cond:!K},ArrowLeft:{r:0,c:-1}};let C=null;if(z==="Tab"&&K?C={r:0,c:-1}:k[z]&&k[z].cond!==!1&&(C=k[z]),!C)return;_.preventDefault();let P=T+C.r,M=R+C.c;if(M>2&&(M=0,P++),M<0&&(M=2,P--),(z==="ArrowDown"||z==="Enter"&&!K)&&T===l.length-1){x(),setTimeout(()=>{var L;(L=document.querySelector(`[data-row='${P}'][data-col='${R}']`))==null||L.focus()},0);return}const E=document.querySelector(`[data-row='${P}'][data-col='${M}']`);E&&(E.focus(),E.select())};return m.jsx("div",{className:"bg-slate-50 min-h-full p-4 sm:p-6 lg:p-8",children:m.jsxs("div",{className:"container mx-auto",children:[m.jsxs("div",{className:"mb-8",children:[m.jsx("h1",{className:"text-4xl font-bold text-slate-800",children:"Staff Management"}),m.jsx("p",{className:"text-slate-500 mt-1",children:"Add, view, and manage your team members."})]}),m.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 md:grid-cols-3 lg:grid-cols-4 gap-6",children:[m.jsxs("button",{onClick:()=>r(!0),className:"group bg-white border-2 border-dashed border-slate-300 rounded-xl flex flex-col items-center justify-center min-h-[16rem] text-center p-6 hover:border-indigo-500 hover:text-indigo-600 transition-all duration-300",children:[m.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-12 w-12 text-slate-400 group-hover:text-indigo-500 transition-colors",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",strokeWidth:1.5,children:m.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M12 4v16m8-8H4"})}),m.jsx("span",{className:"font-semibold mt-2",children:"Add New Staff"})]}),t.map(_=>m.jsxs("div",{className:"bg-white rounded-xl shadow-md min-h-[16rem] p-6 flex flex-col justify-between transition-all duration-300 hover:shadow-xl hover:-translate-y-1",children:[m.jsxs("div",{className:"flex items-center",children:[m.jsx("div",{className:"flex-shrink-0 h-12 w-12 rounded-full bg-slate-100 flex items-center justify-center",children:m.jsx(RB,{})}),m.jsx("div",{className:"ml-4",children:m.jsx("h3",{className:"text-xl font-bold text-slate-800 break-words",children:_.name})})]}),m.jsxs("div",{className:"space-y-3 text-sm text-slate-600 mt-4",children:[_.contact&&m.jsxs("p",{className:"flex items-center break-all",children:[m.jsx(jB,{}),_.contact]}),_.address&&m.jsxs("p",{className:"flex items-start break-all",children:[m.jsx(DB,{}),_.address]})]})]},_.id))]}),m.jsxs(Tc,{isOpen:n,onClose:()=>!c&&r(!1),children:[m.jsxs("div",{className:"flex justify-between items-center pb-3 border-b border-slate-200",children:[m.jsx("h2",{className:"text-2xl font-bold text-slate-800",children:"Add New Staff"}),m.jsx("button",{onClick:()=>r(!1),className:"text-slate-400 hover:text-slate-600 disabled:opacity-50",disabled:c,children:""})]}),m.jsxs("div",{className:"mt-6 space-y-4",children:[m.jsx("input",{type:"text",name:"name",value:i.name,onChange:g,placeholder:"Enter staff name *",className:"w-full p-3 border border-slate-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-indigo-500 disabled:bg-slate-100",disabled:c}),m.jsx("input",{type:"text",name:"contact",value:i.contact,onChange:g,placeholder:"Contact Details (e.g., phone)",className:"w-full p-3 border border-slate-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-indigo-500 disabled:bg-slate-100",disabled:c}),m.jsx("input",{type:"text",name:"address",value:i.address,onChange:g,placeholder:"Address",className:"w-full p-3 border border-slate-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-indigo-500 disabled:bg-slate-100",disabled:c})]}),m.jsxs("div",{className:"flex justify-end mt-6 space-x-4",children:[m.jsx("button",{onClick:()=>r(!1),className:"px-4 py-2 rounded-lg text-slate-600 bg-slate-100 hover:bg-slate-200 transition-colors disabled:opacity-50",disabled:c,children:"Cancel"}),m.jsx("button",{onClick:p,className:"bg-indigo-600 text-white font-semibold px-4 py-2 rounded-lg hover:bg-indigo-700 transition-colors shadow-sm flex items-center disabled:bg-indigo-400",disabled:c,children:c?m.jsxs(m.Fragment,{children:[m.jsx(Yb,{})," Saving..."]}):"Save Staff"})]})]}),m.jsxs(Tc,{isOpen:o,onClose:()=>!c&&a(!1),size:"xl",children:[m.jsxs("div",{className:"flex justify-between items-center pb-3 border-b border-slate-200",children:[m.jsx("h2",{className:"text-2xl font-bold text-slate-800",children:"Bulk Add Staff"}),m.jsx("button",{onClick:()=>a(!1),className:"text-slate-400 hover:text-slate-600 disabled:opacity-50",disabled:c,children:""})]}),m.jsx("p",{className:"text-sm text-slate-500 my-4",children:"Use Arrow Keys, Tab, or Enter to navigate. A new row is added automatically."}),m.jsx("div",{className:"w-full max-h-[60vh] overflow-auto border border-slate-200 rounded-lg",children:m.jsxs("table",{className:"w-full text-sm",children:[m.jsx("thead",{className:"sticky top-0 bg-slate-100 z-10",children:m.jsxs("tr",{children:[m.jsx("th",{className:"p-3 font-semibold text-left text-slate-600",children:"Name *"}),m.jsx("th",{className:"p-3 font-semibold text-left text-slate-600",children:"Contact Details"}),m.jsx("th",{className:"p-3 font-semibold text-left text-slate-600",children:"Address"})]})}),m.jsx("tbody",{children:l.map((_,T)=>m.jsxs("tr",{className:"even:bg-slate-50",children:[m.jsx("td",{children:m.jsx("input",{type:"text",name:"name",value:_.name,onChange:R=>b(T,R),onKeyDown:R=>v(R,T,0),"data-row":T,"data-col":0,placeholder:`Staff ${T+1}`,className:"w-full p-3 bg-transparent focus:outline-none focus:bg-white focus:ring-1 focus:ring-indigo-500 disabled:bg-slate-100",disabled:c})}),m.jsx("td",{children:m.jsx("input",{type:"text",name:"contact",value:_.contact,onChange:R=>b(T,R),onKeyDown:R=>v(R,T,1),"data-row":T,"data-col":1,placeholder:"Contact",className:"w-full p-3 bg-transparent focus:outline-none focus:bg-white focus:ring-1 focus:ring-indigo-500 disabled:bg-slate-100",disabled:c})}),m.jsx("td",{children:m.jsx("input",{type:"text",name:"address",value:_.address,onChange:R=>b(T,R),onKeyDown:R=>v(R,T,2),"data-row":T,"data-col":2,placeholder:"Address",className:"w-full p-3 bg-transparent focus:outline-none focus:bg-white focus:ring-1 focus:ring-indigo-500 disabled:bg-slate-100",disabled:c})})]},T))})]})}),m.jsxs("div",{className:"flex justify-between items-center mt-6",children:[m.jsx("button",{onClick:x,className:"text-indigo-600 font-semibold hover:text-indigo-800 transition-colors disabled:opacity-50",disabled:c,children:"+ Add Row"}),m.jsxs("div",{className:"flex space-x-4",children:[m.jsx("button",{onClick:()=>a(!1),className:"px-6 py-2 rounded-lg text-slate-600 bg-slate-100 hover:bg-slate-200 transition-colors disabled:opacity-50",disabled:c,children:"Cancel"}),m.jsx("button",{onClick:A,className:"bg-indigo-600 text-white font-semibold px-6 py-2 rounded-lg hover:bg-indigo-700 transition-colors shadow-sm flex items-center disabled:bg-indigo-400",disabled:c,children:c?m.jsxs(m.Fragment,{children:[m.jsx(Yb,{})," Saving..."]}):"Save All"})]})]})]}),m.jsx("button",{onClick:()=>a(!0),className:"fixed bottom-8 right-8 bg-indigo-600 text-white p-4 rounded-full shadow-lg hover:bg-indigo-700 transition-transform transform hover:scale-110",children:m.jsx(MB,{})})]})})},OB=()=>m.jsx("svg",{className:"w-5 h-5",fill:"currentColor",viewBox:"0 0 20 20",xmlns:"http://www.w3.org/2000/svg",children:m.jsx("path",{fillRule:"evenodd",d:"M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-7-4a1 1 0 11-2 0 1 1 0 012 0zM9 9a1 1 0 000 2v3a1 1 0 001 1h1a1 1 0 100-2v-3a1 1 0 00-1-1H9z",clipRule:"evenodd"})}),Jd=()=>m.jsxs("svg",{className:"animate-spin -ml-1 mr-3 h-5 w-5 text-white",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",children:[m.jsx("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),m.jsx("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})]}),Jb=()=>m.jsx("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg",children:m.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M5 13l4 4L19 7"})}),VB=()=>m.jsx("svg",{className:"w-5 h-5 mr-1",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor",children:m.jsx("path",{d:"M15.362 5.214A8.252 8.252 0 0012 3a8.25 8.25 0 00-3.362 2.214c-1.121 2.3-.11 4.701 2.362 7.048-2.472 2.347-3.483 4.749-2.362 7.048A8.252 8.252 0 0012 21a8.25 8.25 0 003.362-2.214c1.121-2.3.11-4.701-2.362-7.048 2.472-2.347 3.483-4.749 2.362-7.048z"})}),BB=({onComplete:t,holdTime:e=2e3,children:n})=>{const[r,i]=G.useState(0),s=G.useRef(null),o=G.useRef(null),a=()=>{o.current=Date.now();const c=()=>{const d=Date.now()-o.current,g=Math.min(d/e*100,100);i(g),g<100?s.current=requestAnimationFrame(c):(t(),setTimeout(()=>i(0),500))};s.current=requestAnimationFrame(c)},l=()=>{s.current&&cancelAnimationFrame(s.current),i(0)},u={background:`linear-gradient(to right, #b91c1c ${r}%, #ef4444 ${r}%)`,transition:"background 0.1s linear"};return m.jsx("button",{onMouseDown:a,onMouseUp:l,onMouseLeave:l,onTouchStart:a,onTouchEnd:l,className:"bg-red-600 text-white font-bold py-2 px-4 rounded shadow-md select-none focus:outline-none",style:u,children:n})},UB=()=>{const[t,e]=G.useState([]),[n,r]=G.useState([]),[i,s]=G.useState([]),[o,a]=G.useState([]),[l,u]=G.useState({currencySymbol:""}),[c,d]=G.useState(null),[g,p]=G.useState(!1),[b,x]=G.useState(!1),[A,v]=G.useState(null),_=G.useCallback(async()=>{if(!(!g||b)){x(!0);try{await mD(),d({type:"success",message:"All orders have been cleared successfully."})}catch(M){console.error("Failed to clear orders:",M),d({type:"error",message:"An error occurred while clearing orders."})}finally{x(!1),p(!1)}}},[g,b]),T=async(M,E)=>{if(!A){v(M);try{await pD(M,E)}catch(L){console.error(`Failed to update order ${M} to ${E}:`,L),d({type:"error",message:"Failed to update order status."})}finally{v(null)}}};G.useEffect(()=>{if(c){const M=setTimeout(()=>d(null),5e3);return()=>clearTimeout(M)}},[c]),G.useEffect(()=>{(async()=>{try{const[L,j,H,ne]=await Promise.all([LA(),Hv(),Tf(),oa()]);r(L||[]),s(j||[]),a(H||[]),ne&&u(ne)}catch(L){console.error("Error fetching static data:",L),d({type:"error",message:"Could not load initial app data."})}})();const E=DA(L=>{const H=L.filter(ne=>ne.status!=="Served").map(ne=>({...ne,createdAt:new Date(ne.createdAt),status:ne.status||"Pending"})).sort((ne,ce)=>new Date(ne.createdAt)-new Date(ce.createdAt));e(H)},L=>{console.error("Realtime orders error:",L),d({type:"error",message:"Error connecting to real-time orders."})});return()=>E()},[]);const R=M=>{var E;return((E=n.find(L=>(L.id??L._id)===M))==null?void 0:E.name)||"Unknown"},z=M=>{var E;return((E=i.find(L=>(L.id??L._id)===M))==null?void 0:E.name)||"Unknown"},K=M=>{var E;return((E=o.find(L=>(L.id??L._id)===M))==null?void 0:E.name)||"N/A"},k=M=>{switch(M){case"Preparing":return{borderColor:"border-yellow-400",badgeBg:"bg-yellow-100",badgeText:"text-yellow-800"};case"Ready":return{borderColor:"border-green-400",badgeBg:"bg-green-100",badgeText:"text-green-800"};case"Pending":default:return{borderColor:"border-blue-400",badgeBg:"bg-blue-100",badgeText:"text-blue-800"}}},C=()=>{if(!c)return null;const M=c.type==="error";return m.jsxs("div",{className:`fixed top-5 right-5 flex items-center p-4 mb-4 text-sm rounded-lg shadow-lg z-50 ${M?"text-red-800 bg-red-50":"text-green-800 bg-green-50"}`,role:"alert",children:[m.jsx(OB,{}),m.jsx("span",{className:"sr-only",children:M?"Error":"Success"}),m.jsx("div",{className:"ml-3 font-medium",children:c.message})]})},P=()=>g?m.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex justify-center items-center z-50",children:m.jsxs("div",{className:"bg-white p-6 rounded-lg shadow-xl",children:[m.jsx("h2",{className:"text-xl font-bold mb-4",children:"Confirm Action"}),m.jsx("p",{className:"mb-6",children:"Are you sure you want to clear all orders? This action cannot be undone."}),m.jsxs("div",{className:"flex justify-end gap-4",children:[m.jsx("button",{onClick:()=>p(!1),className:"px-4 py-2 bg-gray-200 rounded-lg hover:bg-gray-300",children:"Cancel"}),m.jsxs("button",{onClick:_,disabled:b,className:"px-4 py-2 bg-red-600 text-white rounded-lg hover:bg-red-700 disabled:bg-red-400 flex items-center",children:[b&&m.jsx(Jd,{}),b?"Clearing...":"Clear All"]})]})]})}):null;return m.jsxs(m.Fragment,{children:[m.jsx(P,{}),m.jsxs("div",{className:"container mx-auto py-6 px-4",children:[m.jsx(C,{}),m.jsxs("div",{className:"flex justify-between items-center mb-6",children:[m.jsx("h1",{className:"text-3xl font-bold text-gray-800",children:"Kitchen Orders"}),t.length>0&&m.jsxs("div",{className:"text-right",children:[m.jsx(BB,{onComplete:()=>p(!0),children:"Press & Hold to Clear Orders"}),m.jsxs("div",{className:"flex items-center justify-end mt-2 text-red-600",children:[m.jsx("div",{className:"w-4 h-4 mr-1",children:m.jsx("svg",{fill:"currentColor",viewBox:"0 0 20 20",xmlns:"http://www.w3.org/2000/svg",children:m.jsx("path",{fillRule:"evenodd",d:"M8.257 3.099c.636-1.21 2.273-1.21 2.91 0l5.396 10.297c.63 1.202-.288 2.653-1.64 2.653H4.5c-1.352 0-2.27-1.451-1.64-2.653l5.396-10.297zM9 8a1 1 0 011 1v3a1 1 0 11-2 0V9a1 1 0 011-1zm1 8a1 1 0 100-2 1 1 0 000 2z",clipRule:"evenodd"})})}),m.jsx("p",{className:"text-xs font-semibold",children:"Warning: This will permanently delete all active orders."})]})]})]}),t.length===0?m.jsx("p",{className:"text-gray-600 text-center text-lg mt-8",children:"No active orders."}):m.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 md:grid-cols-3 lg:grid-cols-4 gap-6",children:t.map(M=>{const E=k(M.status),L=A===M.id;return m.jsxs("div",{className:`bg-white p-4 rounded-lg shadow-md border-l-4 ${E.borderColor} flex flex-col`,children:[m.jsxs("div",{className:"flex justify-between items-center mb-2 pb-2 border-b",children:[m.jsxs("h3",{className:"text-lg font-semibold text-gray-900",children:["Table: ",R(M.tableId)]}),m.jsx("span",{className:`px-2 py-1 text-xs font-semibold rounded-full ${E.badgeBg} ${E.badgeText}`,children:M.status})]}),m.jsx("ul",{className:"text-gray-700 mb-3 space-y-1 flex-grow",children:M.items.map((j,H)=>m.jsxs("li",{className:"flex justify-between items-start",children:[m.jsxs("span",{className:"flex-1 pr-2",children:[z(j.itemId),j.portion&&m.jsxs("span",{className:"text-sm text-gray-500 capitalize ml-1",children:["(",j.portion,")"]})]}),m.jsxs("span",{className:"font-semibold",children:["x ",j.quantity]})]},H))}),m.jsxs("div",{className:"mt-auto pt-2 border-t",children:[m.jsxs("p",{className:"text-gray-800 font-semibold",children:["Total: ",l.currencySymbol,M.total.toFixed(2)]}),M.staffId&&m.jsxs("p",{className:"text-sm text-gray-500 mt-1",children:["Staff: ",K(M.staffId)]}),m.jsxs("div",{className:"mt-4 flex flex-col gap-2",children:[M.status==="Pending"&&m.jsxs("button",{onClick:()=>T(M.id,"Preparing"),disabled:L,className:"w-full flex justify-center items-center px-4 py-2 bg-yellow-500 text-white rounded-lg hover:bg-yellow-600 disabled:bg-yellow-300 font-semibold",children:[L?m.jsx(Jd,{}):m.jsx(VB,{}),L?"Starting...":"Start Cooking"]}),M.status==="Preparing"&&m.jsxs("button",{onClick:()=>T(M.id,"Ready"),disabled:L,className:"w-full flex justify-center items-center px-4 py-2 bg-green-500 text-white rounded-lg hover:bg-green-600 disabled:bg-green-300 font-semibold",children:[L?m.jsx(Jd,{}):m.jsx(Jb,{}),L?"Finishing...":"Mark as Ready"]}),M.status==="Ready"&&m.jsxs("button",{onClick:()=>T(M.id,"Served"),disabled:L,className:"w-full flex justify-center items-center px-4 py-2 bg-gray-600 text-white rounded-lg hover:bg-gray-700 disabled:bg-gray-400 font-semibold",children:[L?m.jsx(Jd,{}):m.jsx(Jb,{}),L?"Serving...":"Mark as Served"]})]})]})]},M.id)})})]})]})};var zB=Object.defineProperty,T0=Object.getOwnPropertySymbols,yE=Object.prototype.hasOwnProperty,vE=Object.prototype.propertyIsEnumerable,Zb=(t,e,n)=>e in t?zB(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,$2=(t,e)=>{for(var n in e||(e={}))yE.call(e,n)&&Zb(t,n,e[n]);if(T0)for(var n of T0(e))vE.call(e,n)&&Zb(t,n,e[n]);return t},H2=(t,e)=>{var n={};for(var r in t)yE.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&T0)for(var r of T0(t))e.indexOf(r)<0&&vE.call(t,r)&&(n[r]=t[r]);return n};/**
 * @license QR Code generator library (TypeScript)
 * Copyright (c) Project Nayuki.
 * SPDX-License-Identifier: MIT
 */var lu;(t=>{const e=class jt{constructor(l,u,c,d){if(this.version=l,this.errorCorrectionLevel=u,this.modules=[],this.isFunction=[],l<jt.MIN_VERSION||l>jt.MAX_VERSION)throw new RangeError("Version value out of range");if(d<-1||d>7)throw new RangeError("Mask value out of range");this.size=l*4+17;let g=[];for(let b=0;b<this.size;b++)g.push(!1);for(let b=0;b<this.size;b++)this.modules.push(g.slice()),this.isFunction.push(g.slice());this.drawFunctionPatterns();const p=this.addEccAndInterleave(c);if(this.drawCodewords(p),d==-1){let b=1e9;for(let x=0;x<8;x++){this.applyMask(x),this.drawFormatBits(x);const A=this.getPenaltyScore();A<b&&(d=x,b=A),this.applyMask(x)}}i(0<=d&&d<=7),this.mask=d,this.applyMask(d),this.drawFormatBits(d),this.isFunction=[]}static encodeText(l,u){const c=t.QrSegment.makeSegments(l);return jt.encodeSegments(c,u)}static encodeBinary(l,u){const c=t.QrSegment.makeBytes(l);return jt.encodeSegments([c],u)}static encodeSegments(l,u,c=1,d=40,g=-1,p=!0){if(!(jt.MIN_VERSION<=c&&c<=d&&d<=jt.MAX_VERSION)||g<-1||g>7)throw new RangeError("Invalid value");let b,x;for(b=c;;b++){const T=jt.getNumDataCodewords(b,u)*8,R=o.getTotalBits(l,b);if(R<=T){x=R;break}if(b>=d)throw new RangeError("Data too long")}for(const T of[jt.Ecc.MEDIUM,jt.Ecc.QUARTILE,jt.Ecc.HIGH])p&&x<=jt.getNumDataCodewords(b,T)*8&&(u=T);let A=[];for(const T of l){n(T.mode.modeBits,4,A),n(T.numChars,T.mode.numCharCountBits(b),A);for(const R of T.getData())A.push(R)}i(A.length==x);const v=jt.getNumDataCodewords(b,u)*8;i(A.length<=v),n(0,Math.min(4,v-A.length),A),n(0,(8-A.length%8)%8,A),i(A.length%8==0);for(let T=236;A.length<v;T^=253)n(T,8,A);let _=[];for(;_.length*8<A.length;)_.push(0);return A.forEach((T,R)=>_[R>>>3]|=T<<7-(R&7)),new jt(b,u,_,g)}getModule(l,u){return 0<=l&&l<this.size&&0<=u&&u<this.size&&this.modules[u][l]}getModules(){return this.modules}drawFunctionPatterns(){for(let c=0;c<this.size;c++)this.setFunctionModule(6,c,c%2==0),this.setFunctionModule(c,6,c%2==0);this.drawFinderPattern(3,3),this.drawFinderPattern(this.size-4,3),this.drawFinderPattern(3,this.size-4);const l=this.getAlignmentPatternPositions(),u=l.length;for(let c=0;c<u;c++)for(let d=0;d<u;d++)c==0&&d==0||c==0&&d==u-1||c==u-1&&d==0||this.drawAlignmentPattern(l[c],l[d]);this.drawFormatBits(0),this.drawVersion()}drawFormatBits(l){const u=this.errorCorrectionLevel.formatBits<<3|l;let c=u;for(let g=0;g<10;g++)c=c<<1^(c>>>9)*1335;const d=(u<<10|c)^21522;i(d>>>15==0);for(let g=0;g<=5;g++)this.setFunctionModule(8,g,r(d,g));this.setFunctionModule(8,7,r(d,6)),this.setFunctionModule(8,8,r(d,7)),this.setFunctionModule(7,8,r(d,8));for(let g=9;g<15;g++)this.setFunctionModule(14-g,8,r(d,g));for(let g=0;g<8;g++)this.setFunctionModule(this.size-1-g,8,r(d,g));for(let g=8;g<15;g++)this.setFunctionModule(8,this.size-15+g,r(d,g));this.setFunctionModule(8,this.size-8,!0)}drawVersion(){if(this.version<7)return;let l=this.version;for(let c=0;c<12;c++)l=l<<1^(l>>>11)*7973;const u=this.version<<12|l;i(u>>>18==0);for(let c=0;c<18;c++){const d=r(u,c),g=this.size-11+c%3,p=Math.floor(c/3);this.setFunctionModule(g,p,d),this.setFunctionModule(p,g,d)}}drawFinderPattern(l,u){for(let c=-4;c<=4;c++)for(let d=-4;d<=4;d++){const g=Math.max(Math.abs(d),Math.abs(c)),p=l+d,b=u+c;0<=p&&p<this.size&&0<=b&&b<this.size&&this.setFunctionModule(p,b,g!=2&&g!=4)}}drawAlignmentPattern(l,u){for(let c=-2;c<=2;c++)for(let d=-2;d<=2;d++)this.setFunctionModule(l+d,u+c,Math.max(Math.abs(d),Math.abs(c))!=1)}setFunctionModule(l,u,c){this.modules[u][l]=c,this.isFunction[u][l]=!0}addEccAndInterleave(l){const u=this.version,c=this.errorCorrectionLevel;if(l.length!=jt.getNumDataCodewords(u,c))throw new RangeError("Invalid argument");const d=jt.NUM_ERROR_CORRECTION_BLOCKS[c.ordinal][u],g=jt.ECC_CODEWORDS_PER_BLOCK[c.ordinal][u],p=Math.floor(jt.getNumRawDataModules(u)/8),b=d-p%d,x=Math.floor(p/d);let A=[];const v=jt.reedSolomonComputeDivisor(g);for(let T=0,R=0;T<d;T++){let z=l.slice(R,R+x-g+(T<b?0:1));R+=z.length;const K=jt.reedSolomonComputeRemainder(z,v);T<b&&z.push(0),A.push(z.concat(K))}let _=[];for(let T=0;T<A[0].length;T++)A.forEach((R,z)=>{(T!=x-g||z>=b)&&_.push(R[T])});return i(_.length==p),_}drawCodewords(l){if(l.length!=Math.floor(jt.getNumRawDataModules(this.version)/8))throw new RangeError("Invalid argument");let u=0;for(let c=this.size-1;c>=1;c-=2){c==6&&(c=5);for(let d=0;d<this.size;d++)for(let g=0;g<2;g++){const p=c-g,x=(c+1&2)==0?this.size-1-d:d;!this.isFunction[x][p]&&u<l.length*8&&(this.modules[x][p]=r(l[u>>>3],7-(u&7)),u++)}}i(u==l.length*8)}applyMask(l){if(l<0||l>7)throw new RangeError("Mask value out of range");for(let u=0;u<this.size;u++)for(let c=0;c<this.size;c++){let d;switch(l){case 0:d=(c+u)%2==0;break;case 1:d=u%2==0;break;case 2:d=c%3==0;break;case 3:d=(c+u)%3==0;break;case 4:d=(Math.floor(c/3)+Math.floor(u/2))%2==0;break;case 5:d=c*u%2+c*u%3==0;break;case 6:d=(c*u%2+c*u%3)%2==0;break;case 7:d=((c+u)%2+c*u%3)%2==0;break;default:throw new Error("Unreachable")}!this.isFunction[u][c]&&d&&(this.modules[u][c]=!this.modules[u][c])}}getPenaltyScore(){let l=0;for(let g=0;g<this.size;g++){let p=!1,b=0,x=[0,0,0,0,0,0,0];for(let A=0;A<this.size;A++)this.modules[g][A]==p?(b++,b==5?l+=jt.PENALTY_N1:b>5&&l++):(this.finderPenaltyAddHistory(b,x),p||(l+=this.finderPenaltyCountPatterns(x)*jt.PENALTY_N3),p=this.modules[g][A],b=1);l+=this.finderPenaltyTerminateAndCount(p,b,x)*jt.PENALTY_N3}for(let g=0;g<this.size;g++){let p=!1,b=0,x=[0,0,0,0,0,0,0];for(let A=0;A<this.size;A++)this.modules[A][g]==p?(b++,b==5?l+=jt.PENALTY_N1:b>5&&l++):(this.finderPenaltyAddHistory(b,x),p||(l+=this.finderPenaltyCountPatterns(x)*jt.PENALTY_N3),p=this.modules[A][g],b=1);l+=this.finderPenaltyTerminateAndCount(p,b,x)*jt.PENALTY_N3}for(let g=0;g<this.size-1;g++)for(let p=0;p<this.size-1;p++){const b=this.modules[g][p];b==this.modules[g][p+1]&&b==this.modules[g+1][p]&&b==this.modules[g+1][p+1]&&(l+=jt.PENALTY_N2)}let u=0;for(const g of this.modules)u=g.reduce((p,b)=>p+(b?1:0),u);const c=this.size*this.size,d=Math.ceil(Math.abs(u*20-c*10)/c)-1;return i(0<=d&&d<=9),l+=d*jt.PENALTY_N4,i(0<=l&&l<=2568888),l}getAlignmentPatternPositions(){if(this.version==1)return[];{const l=Math.floor(this.version/7)+2,u=this.version==32?26:Math.ceil((this.version*4+4)/(l*2-2))*2;let c=[6];for(let d=this.size-7;c.length<l;d-=u)c.splice(1,0,d);return c}}static getNumRawDataModules(l){if(l<jt.MIN_VERSION||l>jt.MAX_VERSION)throw new RangeError("Version number out of range");let u=(16*l+128)*l+64;if(l>=2){const c=Math.floor(l/7)+2;u-=(25*c-10)*c-55,l>=7&&(u-=36)}return i(208<=u&&u<=29648),u}static getNumDataCodewords(l,u){return Math.floor(jt.getNumRawDataModules(l)/8)-jt.ECC_CODEWORDS_PER_BLOCK[u.ordinal][l]*jt.NUM_ERROR_CORRECTION_BLOCKS[u.ordinal][l]}static reedSolomonComputeDivisor(l){if(l<1||l>255)throw new RangeError("Degree out of range");let u=[];for(let d=0;d<l-1;d++)u.push(0);u.push(1);let c=1;for(let d=0;d<l;d++){for(let g=0;g<u.length;g++)u[g]=jt.reedSolomonMultiply(u[g],c),g+1<u.length&&(u[g]^=u[g+1]);c=jt.reedSolomonMultiply(c,2)}return u}static reedSolomonComputeRemainder(l,u){let c=u.map(d=>0);for(const d of l){const g=d^c.shift();c.push(0),u.forEach((p,b)=>c[b]^=jt.reedSolomonMultiply(p,g))}return c}static reedSolomonMultiply(l,u){if(l>>>8||u>>>8)throw new RangeError("Byte out of range");let c=0;for(let d=7;d>=0;d--)c=c<<1^(c>>>7)*285,c^=(u>>>d&1)*l;return i(c>>>8==0),c}finderPenaltyCountPatterns(l){const u=l[1];i(u<=this.size*3);const c=u>0&&l[2]==u&&l[3]==u*3&&l[4]==u&&l[5]==u;return(c&&l[0]>=u*4&&l[6]>=u?1:0)+(c&&l[6]>=u*4&&l[0]>=u?1:0)}finderPenaltyTerminateAndCount(l,u,c){return l&&(this.finderPenaltyAddHistory(u,c),u=0),u+=this.size,this.finderPenaltyAddHistory(u,c),this.finderPenaltyCountPatterns(c)}finderPenaltyAddHistory(l,u){u[0]==0&&(l+=this.size),u.pop(),u.unshift(l)}};e.MIN_VERSION=1,e.MAX_VERSION=40,e.PENALTY_N1=3,e.PENALTY_N2=3,e.PENALTY_N3=40,e.PENALTY_N4=10,e.ECC_CODEWORDS_PER_BLOCK=[[-1,7,10,15,20,26,18,20,24,30,18,20,24,26,30,22,24,28,30,28,28,28,28,30,30,26,28,30,30,30,30,30,30,30,30,30,30,30,30,30,30],[-1,10,16,26,18,24,16,18,22,22,26,30,22,22,24,24,28,28,26,26,26,26,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28],[-1,13,22,18,26,18,24,18,22,20,24,28,26,24,20,30,24,28,28,26,30,28,30,30,30,30,28,30,30,30,30,30,30,30,30,30,30,30,30,30,30],[-1,17,28,22,16,22,28,26,26,24,28,24,28,22,24,24,30,28,28,26,28,30,24,30,30,30,30,30,30,30,30,30,30,30,30,30,30,30,30,30,30]],e.NUM_ERROR_CORRECTION_BLOCKS=[[-1,1,1,1,1,1,2,2,2,2,4,4,4,4,4,6,6,6,6,7,8,8,9,9,10,12,12,12,13,14,15,16,17,18,19,19,20,21,22,24,25],[-1,1,1,1,2,2,4,4,4,5,5,5,8,9,9,10,10,11,13,14,16,17,17,18,20,21,23,25,26,28,29,31,33,35,37,38,40,43,45,47,49],[-1,1,1,2,2,4,4,6,6,8,8,8,10,12,16,12,17,16,18,21,20,23,23,25,27,29,34,34,35,38,40,43,45,48,51,53,56,59,62,65,68],[-1,1,1,2,4,4,4,5,6,8,8,11,11,16,16,18,16,19,21,25,25,25,34,30,32,35,37,40,42,45,48,51,54,57,60,63,66,70,74,77,81]],t.QrCode=e;function n(a,l,u){if(l<0||l>31||a>>>l)throw new RangeError("Value out of range");for(let c=l-1;c>=0;c--)u.push(a>>>c&1)}function r(a,l){return(a>>>l&1)!=0}function i(a){if(!a)throw new Error("Assertion error")}const s=class $n{constructor(l,u,c){if(this.mode=l,this.numChars=u,this.bitData=c,u<0)throw new RangeError("Invalid argument");this.bitData=c.slice()}static makeBytes(l){let u=[];for(const c of l)n(c,8,u);return new $n($n.Mode.BYTE,l.length,u)}static makeNumeric(l){if(!$n.isNumeric(l))throw new RangeError("String contains non-numeric characters");let u=[];for(let c=0;c<l.length;){const d=Math.min(l.length-c,3);n(parseInt(l.substring(c,c+d),10),d*3+1,u),c+=d}return new $n($n.Mode.NUMERIC,l.length,u)}static makeAlphanumeric(l){if(!$n.isAlphanumeric(l))throw new RangeError("String contains unencodable characters in alphanumeric mode");let u=[],c;for(c=0;c+2<=l.length;c+=2){let d=$n.ALPHANUMERIC_CHARSET.indexOf(l.charAt(c))*45;d+=$n.ALPHANUMERIC_CHARSET.indexOf(l.charAt(c+1)),n(d,11,u)}return c<l.length&&n($n.ALPHANUMERIC_CHARSET.indexOf(l.charAt(c)),6,u),new $n($n.Mode.ALPHANUMERIC,l.length,u)}static makeSegments(l){return l==""?[]:$n.isNumeric(l)?[$n.makeNumeric(l)]:$n.isAlphanumeric(l)?[$n.makeAlphanumeric(l)]:[$n.makeBytes($n.toUtf8ByteArray(l))]}static makeEci(l){let u=[];if(l<0)throw new RangeError("ECI assignment value out of range");if(l<128)n(l,8,u);else if(l<16384)n(2,2,u),n(l,14,u);else if(l<1e6)n(6,3,u),n(l,21,u);else throw new RangeError("ECI assignment value out of range");return new $n($n.Mode.ECI,0,u)}static isNumeric(l){return $n.NUMERIC_REGEX.test(l)}static isAlphanumeric(l){return $n.ALPHANUMERIC_REGEX.test(l)}getData(){return this.bitData.slice()}static getTotalBits(l,u){let c=0;for(const d of l){const g=d.mode.numCharCountBits(u);if(d.numChars>=1<<g)return 1/0;c+=4+g+d.bitData.length}return c}static toUtf8ByteArray(l){l=encodeURI(l);let u=[];for(let c=0;c<l.length;c++)l.charAt(c)!="%"?u.push(l.charCodeAt(c)):(u.push(parseInt(l.substring(c+1,c+3),16)),c+=2);return u}};s.NUMERIC_REGEX=/^[0-9]*$/,s.ALPHANUMERIC_REGEX=/^[A-Z0-9 $%*+.\/:-]*$/,s.ALPHANUMERIC_CHARSET="0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ $%*+-./:";let o=s;t.QrSegment=s})(lu||(lu={}));(t=>{(e=>{const n=class{constructor(i,s){this.ordinal=i,this.formatBits=s}};n.LOW=new n(0,1),n.MEDIUM=new n(1,0),n.QUARTILE=new n(2,3),n.HIGH=new n(3,2),e.Ecc=n})(t.QrCode||(t.QrCode={}))})(lu||(lu={}));(t=>{(e=>{const n=class{constructor(i,s){this.modeBits=i,this.numBitsCharCount=s}numCharCountBits(i){return this.numBitsCharCount[Math.floor((i+7)/17)]}};n.NUMERIC=new n(1,[10,12,14]),n.ALPHANUMERIC=new n(2,[9,11,13]),n.BYTE=new n(4,[8,16,16]),n.KANJI=new n(8,[8,10,12]),n.ECI=new n(7,[0,0,0]),e.Mode=n})(t.QrSegment||(t.QrSegment={}))})(lu||(lu={}));var Xu=lu;/**
 * @license qrcode.react
 * Copyright (c) Paul O'Shannessy
 * SPDX-License-Identifier: ISC
 */var qB={L:Xu.QrCode.Ecc.LOW,M:Xu.QrCode.Ecc.MEDIUM,Q:Xu.QrCode.Ecc.QUARTILE,H:Xu.QrCode.Ecc.HIGH},wE=128,xE="L",bE="#FFFFFF",_E="#000000",SE=!1,AE=1,$B=4,HB=0,WB=.1;function NE(t,e=0){const n=[];return t.forEach(function(r,i){let s=null;r.forEach(function(o,a){if(!o&&s!==null){n.push(`M${s+e} ${i+e}h${a-s}v1H${s+e}z`),s=null;return}if(a===r.length-1){if(!o)return;s===null?n.push(`M${a+e},${i+e} h1v1H${a+e}z`):n.push(`M${s+e},${i+e} h${a+1-s}v1H${s+e}z`);return}o&&s===null&&(s=a)})}),n.join("")}function EE(t,e){return t.slice().map((n,r)=>r<e.y||r>=e.y+e.h?n:n.map((i,s)=>s<e.x||s>=e.x+e.w?i:!1))}function GB(t,e,n,r){if(r==null)return null;const i=t.length+n*2,s=Math.floor(e*WB),o=i/e,a=(r.width||s)*o,l=(r.height||s)*o,u=r.x==null?t.length/2-a/2:r.x*o,c=r.y==null?t.length/2-l/2:r.y*o,d=r.opacity==null?1:r.opacity;let g=null;if(r.excavate){let b=Math.floor(u),x=Math.floor(c),A=Math.ceil(a+u-b),v=Math.ceil(l+c-x);g={x:b,y:x,w:A,h:v}}const p=r.crossOrigin;return{x:u,y:c,h:l,w:a,excavation:g,opacity:d,crossOrigin:p}}function KB(t,e){return e!=null?Math.max(Math.floor(e),0):t?$B:HB}function TE({value:t,level:e,minVersion:n,includeMargin:r,marginSize:i,imageSettings:s,size:o,boostLevel:a}){let l=on.useMemo(()=>{const b=(Array.isArray(t)?t:[t]).reduce((x,A)=>(x.push(...Xu.QrSegment.makeSegments(A)),x),[]);return Xu.QrCode.encodeSegments(b,qB[e],n,void 0,void 0,a)},[t,e,n,a]);const{cells:u,margin:c,numCells:d,calculatedImageSettings:g}=on.useMemo(()=>{let p=l.getModules();const b=KB(r,i),x=p.length+b*2,A=GB(p,o,b,s);return{cells:p,margin:b,numCells:x,calculatedImageSettings:A}},[l,o,s,r,i]);return{qrcode:l,margin:c,cells:u,numCells:d,calculatedImageSettings:g}}var QB=function(){try{new Path2D().addPath(new Path2D)}catch{return!1}return!0}(),YB=on.forwardRef(function(e,n){const r=e,{value:i,size:s=wE,level:o=xE,bgColor:a=bE,fgColor:l=_E,includeMargin:u=SE,minVersion:c=AE,boostLevel:d,marginSize:g,imageSettings:p}=r,x=H2(r,["value","size","level","bgColor","fgColor","includeMargin","minVersion","boostLevel","marginSize","imageSettings"]),{style:A}=x,v=H2(x,["style"]),_=p==null?void 0:p.src,T=on.useRef(null),R=on.useRef(null),z=on.useCallback(H=>{T.current=H,typeof n=="function"?n(H):n&&(n.current=H)},[n]),[K,k]=on.useState(!1),{margin:C,cells:P,numCells:M,calculatedImageSettings:E}=TE({value:i,level:o,minVersion:c,boostLevel:d,includeMargin:u,marginSize:g,imageSettings:p,size:s});on.useEffect(()=>{if(T.current!=null){const H=T.current,ne=H.getContext("2d");if(!ne)return;let ce=P;const ae=R.current,ee=E!=null&&ae!==null&&ae.complete&&ae.naturalHeight!==0&&ae.naturalWidth!==0;ee&&E.excavation!=null&&(ce=EE(P,E.excavation));const oe=window.devicePixelRatio||1;H.height=H.width=s*oe;const ge=s/M*oe;ne.scale(ge,ge),ne.fillStyle=a,ne.fillRect(0,0,M,M),ne.fillStyle=l,QB?ne.fill(new Path2D(NE(ce,C))):P.forEach(function(xe,V){xe.forEach(function(Q,te){Q&&ne.fillRect(te+C,V+C,1,1)})}),E&&(ne.globalAlpha=E.opacity),ee&&ne.drawImage(ae,E.x+C,E.y+C,E.w,E.h)}}),on.useEffect(()=>{k(!1)},[_]);const L=$2({height:s,width:s},A);let j=null;return _!=null&&(j=on.createElement("img",{src:_,key:_,style:{display:"none"},onLoad:()=>{k(!0)},ref:R,crossOrigin:E==null?void 0:E.crossOrigin})),on.createElement(on.Fragment,null,on.createElement("canvas",$2({style:L,height:s,width:s,ref:z,role:"img"},v)),j)});YB.displayName="QRCodeCanvas";var CE=on.forwardRef(function(e,n){const r=e,{value:i,size:s=wE,level:o=xE,bgColor:a=bE,fgColor:l=_E,includeMargin:u=SE,minVersion:c=AE,boostLevel:d,title:g,marginSize:p,imageSettings:b}=r,x=H2(r,["value","size","level","bgColor","fgColor","includeMargin","minVersion","boostLevel","title","marginSize","imageSettings"]),{margin:A,cells:v,numCells:_,calculatedImageSettings:T}=TE({value:i,level:o,minVersion:c,boostLevel:d,includeMargin:u,marginSize:p,imageSettings:b,size:s});let R=v,z=null;b!=null&&T!=null&&(T.excavation!=null&&(R=EE(v,T.excavation)),z=on.createElement("image",{href:b.src,height:T.h,width:T.w,x:T.x+A,y:T.y+A,preserveAspectRatio:"none",opacity:T.opacity,crossOrigin:T.crossOrigin}));const K=NE(R,A);return on.createElement("svg",$2({height:s,width:s,viewBox:`0 0 ${_} ${_}`,ref:n,role:"img"},x),!!g&&on.createElement("title",null,g),on.createElement("path",{fill:a,d:`M0,0 h${_}v${_}H0z`,shapeRendering:"crispEdges"}),on.createElement("path",{fill:l,d:K,shapeRendering:"crispEdges"}),z)});CE.displayName="QRCodeSVG";const XB=G.forwardRef(({details:t,settings:e,discount:n=0,onDiscountChange:r,onPrint:i},s)=>{if(!t)return null;const{order:o={},items:a=[],tableName:l="N/A",staffName:u="N/A"}=t,c=(e==null?void 0:e.restaurantName)||"SyncServe Restaurant",d=(e==null?void 0:e.address)||"123 Culinary Lane, Edakkara, Kerala",g=(e==null?void 0:e.upiId)||"your-upi@id",p=(e==null?void 0:e.currencySymbol)||"",b=(e==null?void 0:e.currencyCode)||"INR",x=G.useMemo(()=>(Array.isArray(a)?a:[]).map(K=>{const k=Number(K.quantity??K.qty??1),C=Number(K.price??K.rate??0);return{itemId:K.itemId??Math.random(),name:String(K.name??K.itemName??"Item"),notes:String(K.notes??K.modifiers??K.description??""),quantity:Number.isFinite(k)?k:1,price:Number.isFinite(C)?C:0,amount:Number.isFinite(k)&&Number.isFinite(C)?k*C:0}}),[a]),{subTotal:A,grandTotal:v}=G.useMemo(()=>{const z=x.reduce((P,M)=>P+M.amount,0),K=Number(o.total??z),k=Number(n||0),C=Math.max(0,K-k);return{subTotal:K,grandTotal:C}},[x,o.total,n]),{dateStr:_,timeStr:T}=G.useMemo(()=>{const z=new Date;try{const K=new Date(o.createdAt??o.date);return isNaN(K.getTime())?{dateStr:z.toLocaleDateString("en-IN"),timeStr:z.toLocaleTimeString("en-IN",{hour:"2-digit",minute:"2-digit"})}:{dateStr:K.toLocaleDateString("en-IN"),timeStr:K.toLocaleTimeString("en-IN",{hour:"2-digit",minute:"2-digit"})}}catch{return{dateStr:z.toLocaleDateString("en-IN"),timeStr:z.toLocaleTimeString("en-IN",{hour:"2-digit",minute:"2-digit"})}}},[o.createdAt,o.date]),R=G.useMemo(()=>{const z=c.replace(/\s/g,"%20"),K=`Bill%20for%20${l}`.replace(/\s/g,"%20");return`upi://pay?pa=${g}&pn=${z}&am=${v.toFixed(2)}&cu=${b}&tn=${K}`},[v,l,c,g,b]);return m.jsxs("div",{ref:s,className:"thermal-print","aria-label":`Bill for ${l}`,children:[m.jsxs("header",{className:"header",children:[m.jsx("div",{className:"logo-placeholder",children:"[Your Logo Here]"}),m.jsx("h1",{className:"business-name",children:c}),m.jsx("p",{className:"business-details",children:d}),m.jsx("p",{className:"invoice-title",children:"--- INVOICE ---"})]}),m.jsxs("section",{className:"meta-info",children:[m.jsxs("div",{className:"meta-row",children:[m.jsxs("span",{children:["Table: ",m.jsx("strong",{children:l})]}),m.jsxs("span",{children:["Date: ",_]})]}),m.jsxs("div",{className:"meta-row",children:[m.jsxs("span",{children:["Staff: ",m.jsx("strong",{children:u})]}),m.jsxs("span",{children:["Time: ",T]})]})]}),m.jsxs("table",{className:"items-table",children:[m.jsx("thead",{children:m.jsxs("tr",{children:[m.jsx("th",{className:"col-sno",children:"#"}),m.jsx("th",{className:"col-item",children:"ITEM"}),m.jsx("th",{className:"col-qty",children:"QTY"}),m.jsx("th",{className:"col-price",children:"RATE"}),m.jsx("th",{className:"col-total",children:"TOTAL"})]})}),m.jsx("tbody",{children:x.length===0?m.jsx("tr",{children:m.jsx("td",{colSpan:"5",className:"no-items",children:"No items in this order."})}):x.map((z,K)=>m.jsxs("tr",{children:[m.jsx("td",{className:"col-sno",children:K+1}),m.jsxs("td",{className:"col-item",children:[m.jsx("span",{className:"item-name",children:z.name}),z.notes&&m.jsx("span",{className:"item-notes",children:z.notes})]}),m.jsx("td",{className:"col-qty",children:z.quantity}),m.jsx("td",{className:"col-price",children:z.price.toFixed(2)}),m.jsx("td",{className:"col-total",children:z.amount.toFixed(2)})]},z.itemId))})]}),m.jsxs("section",{className:"totals",children:[m.jsxs("div",{className:"total-row",children:[m.jsx("span",{children:"Sub Total"}),m.jsxs("span",{children:[p,A.toFixed(2)]})]}),m.jsxs("div",{className:"total-row no-print",children:[m.jsx("span",{children:"Discount"}),m.jsxs("div",{className:"discount-control",children:[m.jsxs("span",{children:[p,Number(n).toFixed(2)]}),m.jsx("input",{type:"number",value:n,onChange:r,className:"discount-input","aria-label":"Discount amount"})]})]}),m.jsxs("div",{className:"total-row print-only",children:[m.jsx("span",{children:"Discount"}),m.jsxs("span",{children:[p,Number(n).toFixed(2)]})]}),m.jsxs("div",{className:"total-row grand-total",children:[m.jsx("span",{children:"Grand Total"}),m.jsxs("span",{children:[p,v.toFixed(2)]})]})]}),m.jsx("div",{className:"actions no-print",children:m.jsx("button",{onClick:i,className:"print-button",children:"Print / Finalize Bill"})}),m.jsxs("footer",{className:"footer",children:[m.jsx("div",{className:"qr-code-container",children:v>0&&g?m.jsx(CE,{value:R,size:110,bgColor:"#ffffff",fgColor:"#000000",level:"L",includeMargin:!1}):m.jsx("div",{className:"qr-placeholder",children:"[QR Code Here]"})}),m.jsx("p",{className:"footer-message",children:"Thank you for your visit!"}),o.id&&m.jsxs("p",{className:"order-id",children:["Order ID: ",String(o.id)]})]})]})}),JB=".thermal-print{width:100%;max-width:76mm;margin:0 auto;padding:12px;background-color:#fff;color:#000;font-family:Courier New,Courier,monospace;font-size:12px;line-height:1.4;box-sizing:border-box}.thermal-print *{box-sizing:border-box}.header{text-align:center;margin-bottom:10px}.logo-placeholder{font-size:10px;color:#888;margin-bottom:8px}.business-name{font-size:16px;font-weight:700;margin:0}.business-details{font-size:10px;margin:2px 0}.invoice-title{font-size:10px;margin:8px 0 0;font-weight:700}.meta-info{font-size:10px;margin-bottom:10px;border-top:1px dashed #000;border-bottom:1px dashed #000;padding:5px 0}.meta-row{display:flex;justify-content:space-between}.items-table{width:100%;border-collapse:collapse;margin-bottom:10px}.items-table thead{border-bottom:1px solid #000}.items-table th{font-size:10px;font-weight:700;padding:5px 2px}.items-table td{padding:5px 2px;vertical-align:top;border-bottom:1px dotted #888}.no-items{text-align:center;padding:15px 0;color:#888}.item-name{display:block}.item-notes{display:block;font-size:9px;color:#555;padding-left:5px}.col-sno{width:8%;text-align:left;padding-right:4px}.col-item{width:37%;text-align:left}.col-qty,.col-price,.col-total{text-align:right;white-space:nowrap;font-variant-numeric:tabular-nums}.col-qty{width:15%}.col-price,.col-total{width:20%}.totals{font-size:12px;border-top:1px solid #000;padding-top:5px}.total-row{display:flex;justify-content:space-between;margin-bottom:3px}.grand-total{font-weight:700;font-size:15px;margin-top:5px;padding-top:5px;border-top:1px dashed #000}.discount-control{display:flex;align-items:center;gap:8px}.discount-input{width:70px;border:1px solid #ccc;text-align:right;padding:2px}.actions{margin:15px 0}.print-button{width:100%;padding:10px;background-color:#333;color:#fff;border:none;cursor:pointer;font-family:inherit;font-size:14px}.footer{text-align:center;margin-top:15px;border-top:1px dashed #000;padding-top:10px}.qr-placeholder{width:90px;height:90px;border:1px solid #888;margin:0 auto 10px;display:flex;align-items:center;justify-content:center;font-size:9px;color:#888}.footer-message{font-weight:700}.order-id{font-size:9px;color:#555;margin-top:5px}.qr-code-container{margin:0 auto 10px;width:110px;height:110px}.print-only{display:none}@media print{.no-print{display:none!important}.print-only{display:flex}.thermal-print{max-width:100%;padding:0;box-shadow:none}.qr-code-container{display:block}}",e3={success:m.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M9 12l2 2 4-4m6 2a9 9 0 11-18 0 9 9 0 0118 0z"}),error:m.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M12 8v4m0 4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"}),warning:m.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M12 9v2m0 4h.01m-6.938 4h13.856c1.54 0 2.502-1.667 1.732-3L13.732 4c-.77-1.333-2.694-1.333-3.464 0L3.34 16c-.77 1.333.192 3 1.732 3z"}),info:m.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M13 16h-1v-4h-1m1-4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"})},ZB=G.memo(({show:t,message:e,type:n,onClose:r})=>{if(!t)return null;const i={success:"bg-green-50 text-green-800 border-green-200",error:"bg-red-50 text-red-800 border-red-200",warning:"bg-orange-50 text-orange-800 border-orange-200",info:"bg-gray-50 text-gray-600 border-gray-200"};return m.jsxs("div",{className:`fixed top-5 left-4 right-4 md:left-auto md:right-5 md:w-96 z-50 flex items-center p-4 rounded-lg border shadow-lg transition-all duration-300 ${i[n]||i.info}`,children:[m.jsx("svg",{className:"w-5 h-5 mr-3 flex-shrink-0",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e3[n]||e3.info}),m.jsx("div",{className:"text-sm font-medium",children:e}),m.jsx("button",{onClick:r,className:"ml-auto -mx-1.5 -my-1.5 rounded-lg p-1.5 inline-flex h-8 w-8 opacity-70 hover:opacity-100 focus:ring-2",children:m.jsx("svg",{className:"w-4 h-4",fill:"currentColor",viewBox:"0 0 20 20",children:m.jsx("path",{fillRule:"evenodd",d:"M4.293 4.293a1 1 0 011.414 0L10 8.586l4.293-4.293a1 1 0 111.414 1.414L11.414 10l4.293 4.293a1 1 0 01-1.414 1.414L10 11.414l-4.293 4.293a1 1 0 01-1.414-1.414L8.586 10 4.293 5.707a1 1 0 010-1.414z",clipRule:"evenodd"})})})]})}),xh=({active:t,label:e,onClick:n,color:r})=>m.jsx("button",{onClick:n,className:`w-full transition-colors duration-200 px-4 py-2 rounded-lg text-sm font-semibold ${t?`bg-${r}-600 text-white shadow`:"bg-gray-200 hover:bg-gray-300 text-gray-700"}`,children:e}),eU=()=>{var p;const[t,e]=G.useState({tables:[],orders:[],menuItems:[],staff:[],settings:{}}),[n,r]=G.useState({loading:!1,selectedTableId:"",highlightedIndex:-1,discount:0,orderType:"Dine-In",paymentMode:"Cash"}),[i,s]=G.useState(null),[o,a]=G.useState({show:!1,message:"",type:"info"}),l=G.useRef(null),u=G.useRef(null),c=t.tables.filter(b=>b.status==="occupied"),d=G.useCallback((b,x="success")=>{a({show:!0,message:b,type:x}),setTimeout(()=>a(A=>({...A,show:!1})),2500)},[]);G.useEffect(()=>{var v;(async()=>{r(_=>({..._,loading:!0}));try{const[_,T,R]=await Promise.all([Hv(),Tf(),oa()]);e(z=>({...z,menuItems:_||[],staff:T||[],settings:R||{}}))}catch{d("Failed to load data. Please refresh.","error")}finally{r(_=>({..._,loading:!1}))}})(),(v=l.current)==null||v.focus();const x=RA(_=>e(T=>({...T,tables:_||[]})),()=>d("Table sync error","error")),A=DA(_=>e(T=>({...T,orders:_||[]})),()=>d("Order sync error","error"));return()=>{x&&x(),A&&A()}},[d]);const g=G.useCallback(async()=>{var A,v;if(!i){if(c.length===0)return d("No active bills to process.","info");const _=(A=c[n.highlightedIndex])==null?void 0:A.id;return _&&_!==n.selectedTableId?d("Press ENTER to confirm table selection first.","warning"):d("Please select a table first.","warning")}if(!u.current)return;const b=document.createElement("iframe");Object.assign(b.style,{position:"fixed",right:"0",bottom:"0",width:"0",height:"0",border:"0",visibility:"hidden"}),document.body.appendChild(b);const x=b.contentWindow.document;x.open(),x.write(`<!doctype html><html><head><style>${JB}</style></head><body><div class="receipt-print-container"><div class="receipt">${u.current.innerHTML}</div></div></body></html>`),x.close(),b.onload=()=>{const _=b.contentWindow;_.focus(),setTimeout(()=>{try{_.print()}catch(T){console.error(T)}setTimeout(()=>document.body.removeChild(b),500)},250)};try{const _=i.items.reduce((T,R)=>T+R.price*R.quantity,0);await gD({tableName:i.tableName,staffName:i.staffName,subTotal:_,discount:Number(n.discount)||0,grandTotal:_-(Number(n.discount)||0),items:i.items,originalOrderId:i.order.id,orderType:n.orderType,paymentMode:n.paymentMode}),await jA(n.selectedTableId,"available"),await dD(i.order.id),d(`Saved: ${i.tableName} (${n.orderType} / ${n.paymentMode})`,"success"),s(null),r(T=>({...T,selectedTableId:"",highlightedIndex:-1,discount:0,orderType:"Dine-In",paymentMode:"Cash"})),(v=l.current)==null||v.focus()}catch{d("Finalize failed. Check console.","error")}},[i,n,c,d]);return G.useEffect(()=>{const b=x=>{if(x.ctrlKey&&x.key.toLowerCase()==="p"){x.preventDefault(),g();return}const A={F3:["orderType","Dine-In"],F4:["orderType","Takeaway"],F7:["paymentMode","Cash"],F8:["paymentMode","Card"],F9:["paymentMode","UPI"]};if(A[x.key]){x.preventDefault(),r(v=>({...v,[A[x.key][0]]:A[x.key][1]})),d(`${A[x.key][1]} Mode`,"info");return}if(x.key==="ArrowDown"||x.key==="ArrowUp"){if(x.preventDefault(),c.length===0){o.show||d("No active bills to select.","info");return}r(v=>{const _=x.key==="ArrowDown"?(v.highlightedIndex+1)%c.length:(v.highlightedIndex-1+c.length)%c.length;return{...v,highlightedIndex:_}})}if(x.key==="Enter"&&(x.preventDefault(),n.highlightedIndex>=0&&n.highlightedIndex<c.length)){const v=c[n.highlightedIndex].id;r(_=>({..._,selectedTableId:v}))}};return document.addEventListener("keydown",b),()=>document.removeEventListener("keydown",b)},[c,n.highlightedIndex,g,d,o.show]),G.useEffect(()=>{var x,A;if(!n.selectedTableId){s(null);return}const b=t.orders.filter(v=>v.tableId===n.selectedTableId).sort((v,_)=>new Date(_.createdAt)-new Date(v.createdAt))[0];if(!b){s(null);return}s({order:b,tableName:((x=t.tables.find(v=>v.id===b.tableId))==null?void 0:x.name)||"N/A",staffName:((A=t.staff.find(v=>v.id===b.staffId))==null?void 0:A.name)||"N/A",items:(b.items||[]).map(v=>{const _=t.menuItems.find(T=>T.id===v.itemId);return{...v,name:(_==null?void 0:_.name)||v.name,price:Number((_==null?void 0:_.price)??v.price??0)}})}),r(v=>({...v,discount:0}))},[n.selectedTableId,t.orders,t.menuItems,t.staff,t.tables]),m.jsxs("div",{className:"container mx-auto py-6 px-4 relative",children:[m.jsx(ZB,{...o,onClose:()=>a(b=>({...b,show:!1}))}),m.jsx("h1",{className:"text-3xl font-bold mb-6 text-gray-800",children:"Billing"}),m.jsxs("div",{className:"bg-white p-4 rounded-lg shadow-md mb-6 no-print",children:[m.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[m.jsxs("div",{children:[m.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Order Type"}),m.jsxs("div",{className:"flex space-x-2",children:[m.jsx(xh,{label:"Dine-In (F3)",active:n.orderType==="Dine-In",onClick:()=>{r(b=>({...b,orderType:"Dine-In"})),d("Dine-In Mode","info")},color:"blue"}),m.jsx(xh,{label:"Takeaway (F4)",active:n.orderType==="Takeaway",onClick:()=>{r(b=>({...b,orderType:"Takeaway"})),d("Takeaway Mode","info")},color:"blue"})]})]}),m.jsxs("div",{children:[m.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Payment Mode"}),m.jsxs("div",{className:"flex space-x-2",children:[m.jsx(xh,{label:"Cash (F7)",active:n.paymentMode==="Cash",onClick:()=>{r(b=>({...b,paymentMode:"Cash"})),d("Cash Payment","info")},color:"green"}),m.jsx(xh,{label:"Card (F8)",active:n.paymentMode==="Card",onClick:()=>{r(b=>({...b,paymentMode:"Card"})),d("Card Payment","info")},color:"green"}),m.jsx(xh,{label:"UPI (F9)",active:n.paymentMode==="UPI",onClick:()=>{r(b=>({...b,paymentMode:"UPI"})),d("UPI Payment","info")},color:"green"})]})]})]}),m.jsxs("div",{className:"mt-6 pt-6 border-t",children:[m.jsx("label",{htmlFor:"table-select",className:"block text-sm font-medium text-gray-700 mb-1",children:"Select Occupied Table (Use  & Enter)"}),m.jsxs("select",{id:"table-select",ref:l,value:((p=c[n.highlightedIndex])==null?void 0:p.id)||"",onChange:b=>{const x=b.target.value,A=c.findIndex(v=>v.id===x);r(v=>({...v,highlightedIndex:A,selectedTableId:x}))},className:"w-full md:w-1/2 p-2 border rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500",disabled:n.loading,children:[m.jsx("option",{value:"",children:n.loading?"Loading tables...":"Select a Table"}),c.map(b=>m.jsx("option",{value:b.id,children:b.name},b.id))]})]})]}),i&&m.jsx(XB,{ref:u,details:{...i,orderType:n.orderType,paymentMode:n.paymentMode},settings:t.settings,discount:n.discount,onDiscountChange:b=>r(x=>({...x,discount:b.target.value})),onPrint:g})]})},tU=[{code:"en",name:"English"},{code:"hi",name:"Hindi ()"},{code:"es",name:"Spanish (Espaol)"},{code:"ar",name:"Arabic ()"},{code:"fr",name:"French (Franais)"}],nU=[{symbol:"",code:"INR",name:"Indian Rupee"},{symbol:"$",code:"USD",name:"US Dollar"},{symbol:"",code:"EUR",name:"Euro"},{symbol:"",code:"GBP",name:"British Pound"},{symbol:"",code:"JPY",name:"Japanese Yen"},{symbol:"AED",code:"AED",name:"UAE Dirham"}],rU=[{category:"Orders",keys:"F3",action:"New Dine-In Order"},{category:"Orders",keys:"F4",action:"New Takeaway Order"},{category:"Payment",keys:"F7",action:"Set Payment: Cash"},{category:"Payment",keys:"F8",action:"Set Payment: Card"},{category:"Payment",keys:"F9",action:"Set Payment: UPI"},{category:"System",keys:"Ctrl + P",action:"Finalize & Print Bill"},{category:"Navigation",keys:" / ",action:"Navigate Tables"},{category:"Navigation",keys:"Enter",action:"Select Table"}],iU=()=>{const[t,e]=G.useState("general"),[n,r]=G.useState(!0),[i,s]=G.useState(!1),[o,a]=G.useState(null),[l,u]=G.useState({restaurantName:"",address:"",upiId:"",currencySymbol:"",currencyCode:"INR",language:"en",printWidth:"80mm",printFontSize:"normal",receiptFooter:"Thank you for visiting!",showLogo:!0}),c=(x,A="success")=>{a({message:x,type:A}),setTimeout(()=>a(null),3e3)};G.useEffect(()=>{(async()=>{try{const A=await oa();A&&u(v=>({...v,...A}))}catch(A){console.error("Error loading settings:",A),c("Failed to load settings from database.","error")}finally{r(!1)}})()},[]);const d=x=>{const{name:A,value:v,type:_,checked:T}=x.target;if(A==="currency"){try{const{symbol:R,code:z}=JSON.parse(v);u(K=>({...K,currencySymbol:R,currencyCode:z}))}catch(R){console.error("Currency parse error",R)}return}u(R=>({...R,[A]:_==="checkbox"?T:v}))},g=async()=>{s(!0);try{await rD(l),c("Settings saved permanently!","success")}catch(x){console.error("Error saving settings:",x),c("Failed to save settings. Check internet connection.","error")}finally{s(!1)}},p=[{id:"general",label:"General",icon:Kb},{id:"localization",label:"Language & Currency",icon:$b},{id:"printing",label:"Print & Receipt",icon:I1},{id:"shortcuts",label:"Keyboard Shortcuts",icon:Hb},{id:"about",label:"About App",icon:mB}],b=({label:x,subLabel:A,children:v})=>m.jsxs("div",{className:"mb-6",children:[m.jsx("label",{className:"block text-sm font-bold text-gray-700 mb-1",children:x}),A&&m.jsx("p",{className:"text-xs text-gray-500 mb-2",children:A}),v]});return n?m.jsx("div",{className:"flex h-screen w-full items-center justify-center bg-gray-50",children:m.jsxs("div",{className:"flex flex-col items-center",children:[m.jsx("div",{className:"w-8 h-8 border-4 border-blue-600 border-t-transparent rounded-full animate-spin mb-4"}),m.jsx("p",{className:"text-gray-500 font-medium",children:"Loading Preferences..."})]})}):m.jsxs("div",{className:"container mx-auto max-w-6xl py-8 px-4",children:[m.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center justify-between mb-8 gap-4",children:[m.jsxs("div",{children:[m.jsx("h1",{className:"text-3xl font-bold text-gray-800",children:"Settings"}),m.jsx("p",{className:"text-gray-500 text-sm mt-1",children:"Configure your POS system parameters"})]}),m.jsx("button",{onClick:g,disabled:i,className:`flex items-center justify-center px-6 py-3 rounded-lg font-bold text-white shadow-lg transition-all ${i?"bg-gray-400 cursor-not-allowed":"bg-blue-600 hover:bg-blue-700 hover:shadow-xl active:scale-95"}`,children:i?m.jsxs("span",{className:"flex items-center",children:[m.jsx("div",{className:"w-4 h-4 border-2 border-white border-t-transparent rounded-full animate-spin mr-2"})," Saving..."]}):m.jsxs(m.Fragment,{children:[m.jsx(gE,{className:"w-5 h-5 mr-2"})," Save Changes"]})})]}),o&&m.jsxs("div",{className:`fixed top-5 right-5 z-50 flex items-center p-4 rounded-lg shadow-xl border ${o.type==="success"?"bg-green-50 border-green-200 text-green-800":"bg-red-50 border-red-200 text-red-800"} animate-in fade-in slide-in-from-top-5 duration-300`,children:[o.type==="success"?m.jsx(mE,{className:"w-5 h-5 mr-3"}):m.jsx(pE,{className:"w-5 h-5 mr-3"}),m.jsx("span",{className:"font-medium",children:o.message})]}),m.jsxs("div",{className:"flex flex-col lg:flex-row gap-8",children:[m.jsx("div",{className:"lg:w-64 flex-shrink-0",children:m.jsx("div",{className:"bg-white rounded-xl shadow-sm border border-gray-200 overflow-hidden sticky top-8",children:p.map(x=>{const A=x.icon,v=t===x.id;return m.jsxs("button",{onClick:()=>e(x.id),className:`w-full flex items-center px-5 py-4 text-left transition-all duration-200 border-l-4 ${v?"bg-blue-50 text-blue-700 border-blue-600 font-bold":"text-gray-600 hover:bg-gray-50 border-transparent hover:text-gray-900"}`,children:[m.jsx(A,{className:`w-5 h-5 mr-3 ${v?"text-blue-600":"text-gray-400"}`}),x.label]},x.id)})})}),m.jsxs("div",{className:"flex-1 bg-white rounded-xl shadow-sm border border-gray-200 p-6 lg:p-8 min-h-[600px]",children:[t==="general"&&m.jsxs("div",{className:"animate-in fade-in zoom-in-95 duration-300",children:[m.jsxs("div",{className:"flex items-center mb-6 pb-4 border-b border-gray-100",children:[m.jsx(Kb,{className:"w-6 h-6 text-blue-600 mr-3"}),m.jsx("h2",{className:"text-xl font-bold text-gray-800",children:"General Information"})]}),m.jsxs("div",{className:"grid grid-cols-1 gap-6",children:[m.jsx(b,{label:"Restaurant Name",children:m.jsx("input",{type:"text",name:"restaurantName",value:l.restaurantName,onChange:d,className:"w-full p-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 outline-none transition-all",placeholder:"e.g. The Grand Kitchen"})}),m.jsx(b,{label:"Address",subLabel:"This address will appear on printed receipts.",children:m.jsx("textarea",{name:"address",value:l.address,onChange:d,rows:"3",className:"w-full p-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 outline-none transition-all",placeholder:"Full street address..."})}),m.jsx(b,{label:"UPI ID",subLabel:"Used to generate QR codes for customer payments.",children:m.jsxs("div",{className:"relative",children:[m.jsx("input",{type:"text",name:"upiId",value:l.upiId,onChange:d,className:"w-full p-3 pl-10 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 outline-none transition-all",placeholder:"username@bank"}),m.jsx("div",{className:"absolute left-3 top-3.5 text-gray-400 font-bold",children:"@"})]})})]})]}),t==="localization"&&m.jsxs("div",{className:"animate-in fade-in zoom-in-95 duration-300",children:[m.jsxs("div",{className:"flex items-center mb-6 pb-4 border-b border-gray-100",children:[m.jsx($b,{className:"w-6 h-6 text-blue-600 mr-3"}),m.jsx("h2",{className:"text-xl font-bold text-gray-800",children:"Language & Currency"})]}),m.jsxs("div",{className:"max-w-lg",children:[m.jsx(b,{label:"Application Language",subLabel:"Select your preferred interface language.",children:m.jsx("select",{name:"language",value:l.language,onChange:d,className:"w-full p-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 bg-white outline-none",children:tU.map(x=>m.jsx("option",{value:x.code,children:x.name},x.code))})}),m.jsx(b,{label:"Default Currency",subLabel:"This symbol will be used for all pricing.",children:m.jsx("select",{name:"currency",value:JSON.stringify({symbol:l.currencySymbol,code:l.currencyCode}),onChange:d,className:"w-full p-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 bg-white outline-none",children:nU.map(({symbol:x,code:A,name:v})=>m.jsxs("option",{value:JSON.stringify({symbol:x,code:A}),children:[v," (",x,")"]},A))})})]})]}),t==="printing"&&m.jsxs("div",{className:"animate-in fade-in zoom-in-95 duration-300",children:[m.jsxs("div",{className:"flex items-center mb-6 pb-4 border-b border-gray-100",children:[m.jsx(I1,{className:"w-6 h-6 text-blue-600 mr-3"}),m.jsx("h2",{className:"text-xl font-bold text-gray-800",children:"Receipt Printing Config"})]}),m.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-8",children:[m.jsx("div",{children:m.jsx(b,{label:"Paper Size",subLabel:"Width of your thermal paper roll.",children:m.jsx("div",{className:"flex gap-4 mt-2",children:["58mm","80mm"].map(x=>m.jsxs("label",{className:`flex-1 flex flex-col items-center p-4 border-2 rounded-xl cursor-pointer transition-all ${l.printWidth===x?"border-blue-600 bg-blue-50":"border-gray-200 hover:border-gray-300"}`,children:[m.jsx("input",{type:"radio",name:"printWidth",value:x,checked:l.printWidth===x,onChange:d,className:"hidden"}),m.jsx(I1,{className:`w-8 h-8 mb-2 ${l.printWidth===x?"text-blue-600":"text-gray-400"}`}),m.jsx("span",{className:`font-bold ${l.printWidth===x?"text-blue-800":"text-gray-600"}`,children:x})]},x))})})}),m.jsx("div",{children:m.jsxs(b,{label:"Font Density",subLabel:"Adjust text size on the receipt.",children:[m.jsx("div",{className:"flex gap-2 mt-2 bg-gray-100 p-1 rounded-lg",children:["small","normal","large"].map(x=>m.jsx("button",{onClick:()=>u(A=>({...A,printFontSize:x})),className:`flex-1 py-2 rounded-md text-sm font-medium capitalize transition-all ${l.printFontSize===x?"bg-white text-blue-600 shadow-sm":"text-gray-500 hover:text-gray-700"}`,children:x},x))}),m.jsxs("div",{className:"mt-3 p-3 border border-dashed rounded text-center text-gray-400 text-xs",children:["Preview: ",m.jsx("span",{className:l.printFontSize==="large"?"text-lg":l.printFontSize==="small"?"text-xs":"text-sm",children:"Total: 150.00"})]})]})}),m.jsx("div",{className:"md:col-span-2",children:m.jsx(b,{label:"Footer Message",subLabel:"Appears at the very bottom of the receipt.",children:m.jsx("input",{type:"text",name:"receiptFooter",value:l.receiptFooter,onChange:d,className:"w-full p-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 outline-none"})})}),m.jsx("div",{className:"md:col-span-2",children:m.jsxs("label",{className:"flex items-center p-4 border border-gray-200 rounded-xl cursor-pointer hover:bg-gray-50 transition-colors",children:[m.jsx("input",{type:"checkbox",name:"showLogo",checked:l.showLogo,onChange:d,className:"w-5 h-5 text-blue-600 rounded focus:ring-blue-500"}),m.jsxs("div",{className:"ml-4",children:[m.jsx("span",{className:"block font-bold text-gray-800",children:"Show Header Logo/Name"}),m.jsx("span",{className:"block text-sm text-gray-500",children:"Include the restaurant name at the top of the receipt."})]})]})})]})]}),t==="shortcuts"&&m.jsxs("div",{className:"animate-in fade-in zoom-in-95 duration-300",children:[m.jsxs("div",{className:"flex items-center mb-6 pb-4 border-b border-gray-100",children:[m.jsx(Hb,{className:"w-6 h-6 text-blue-600 mr-3"}),m.jsx("h2",{className:"text-xl font-bold text-gray-800",children:"Keyboard Cheat Sheet"})]}),m.jsx("div",{className:"overflow-hidden rounded-xl border border-gray-200",children:m.jsxs("table",{className:"w-full text-left border-collapse",children:[m.jsx("thead",{className:"bg-gray-50",children:m.jsxs("tr",{children:[m.jsx("th",{className:"p-4 text-xs font-bold text-gray-500 uppercase tracking-wider border-b",children:"Key"}),m.jsx("th",{className:"p-4 text-xs font-bold text-gray-500 uppercase tracking-wider border-b",children:"Action"}),m.jsx("th",{className:"p-4 text-xs font-bold text-gray-500 uppercase tracking-wider border-b",children:"Category"})]})}),m.jsx("tbody",{className:"divide-y divide-gray-100",children:rU.map((x,A)=>m.jsxs("tr",{className:"hover:bg-blue-50 transition-colors",children:[m.jsx("td",{className:"p-4",children:m.jsx("span",{className:"inline-block px-2 py-1 bg-gray-100 border border-gray-300 rounded text-xs font-mono font-bold text-gray-700 shadow-sm",children:x.keys})}),m.jsx("td",{className:"p-4 text-sm font-medium text-gray-800",children:x.action}),m.jsx("td",{className:"p-4 text-sm text-gray-500",children:x.category})]},A))})]})})]}),t==="about"&&m.jsxs("div",{className:"animate-in fade-in zoom-in-95 duration-300 flex flex-col items-center justify-center py-10",children:[m.jsx("div",{className:"w-24 h-24 bg-gradient-to-br from-blue-500 to-indigo-600 text-white rounded-2xl shadow-xl flex items-center justify-center mb-6 transform rotate-3",children:m.jsx(wB,{className:"w-12 h-12"})}),m.jsx("h2",{className:"text-3xl font-extrabold text-gray-900",children:"Restaurant POS"}),m.jsx("span",{className:"inline-block px-3 py-1 mt-3 text-xs font-bold text-blue-800 bg-blue-100 rounded-full",children:"Version 2.5.0 (Pro)"}),m.jsx("p",{className:"text-gray-500 mt-6 max-w-md text-center leading-relaxed",children:"Designed to simplify restaurant management. From billing to settings, everything you need is right here."}),m.jsxs("div",{className:"mt-10 p-6 bg-blue-50 rounded-xl border border-blue-100 max-w-lg text-center",children:[m.jsx("p",{className:"text-lg font-serif italic text-blue-900",children:'"Palestine is the anvil of our consciousness."'}),m.jsx("p",{className:"text-sm text-blue-600 mt-3 font-semibold",children:" Edward Said"})]}),m.jsx("div",{className:"mt-12 pt-8 border-t border-gray-100 w-full text-center",children:m.jsxs("p",{className:"text-xs text-gray-400",children:["System ID: ",Math.random().toString(36).substr(2,9).toUpperCase()," ",m.jsx("br",{})," ",new Date().getFullYear()," All Rights Reserved."]})})]})]})]})]})};function sU({title:t,titleId:e,...n},r){return G.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:r,"aria-labelledby":e},n),t?G.createElement("title",{id:e},t):null,G.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M2.25 18 9 11.25l4.306 4.306a11.95 11.95 0 0 1 5.814-5.518l2.74-1.22m0 0-5.94-2.281m5.94 2.28-2.28 5.941"}))}const kE=G.forwardRef(sU);function oU({title:t,titleId:e,...n},r){return G.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:r,"aria-labelledby":e},n),t?G.createElement("title",{id:e},t):null,G.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M2.25 18.75a60.07 60.07 0 0 1 15.797 2.101c.727.198 1.453-.342 1.453-1.096V18.75M3.75 4.5v.75A.75.75 0 0 1 3 6h-.75m0 0v-.375c0-.621.504-1.125 1.125-1.125H20.25M2.25 6v9m18-10.5v.75c0 .414.336.75.75.75h.75m-1.5-1.5h.375c.621 0 1.125.504 1.125 1.125v9.75c0 .621-.504 1.125-1.125 1.125h-.375m1.5-1.5H21a.75.75 0 0 0-.75.75v.75m0 0H3.75m0 0h-.375a1.125 1.125 0 0 1-1.125-1.125V15m1.5 1.5v-.75A.75.75 0 0 0 3 15h-.75M15 10.5a3 3 0 1 1-6 0 3 3 0 0 1 6 0Zm3 0h.008v.008H18V10.5Zm-12 0h.008v.008H6V10.5Z"}))}const aU=G.forwardRef(oU);function lU({title:t,titleId:e,...n},r){return G.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:r,"aria-labelledby":e},n),t?G.createElement("title",{id:e},t):null,G.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M2.25 8.25h19.5M2.25 9h19.5m-16.5 5.25h6m-6 2.25h3m-3.75 3h15a2.25 2.25 0 0 0 2.25-2.25V6.75A2.25 2.25 0 0 0 19.5 4.5h-15a2.25 2.25 0 0 0-2.25 2.25v10.5A2.25 2.25 0 0 0 4.5 19.5Z"}))}const uU=G.forwardRef(lU);function cU({title:t,titleId:e,...n},r){return G.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:r,"aria-labelledby":e},n),t?G.createElement("title",{id:e},t):null,G.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M19.5 14.25v-2.625a3.375 3.375 0 0 0-3.375-3.375h-1.5A1.125 1.125 0 0 1 13.5 7.125v-1.5a3.375 3.375 0 0 0-3.375-3.375H8.25M9 16.5v.75m3-3v3M15 12v5.25m-4.5-15H5.625c-.621 0-1.125.504-1.125 1.125v17.25c0 .621.504 1.125 1.125 1.125h12.75c.621 0 1.125-.504 1.125-1.125V11.25a9 9 0 0 0-9-9Z"}))}const hU=G.forwardRef(cU);function fU({title:t,titleId:e,...n},r){return G.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:r,"aria-labelledby":e},n),t?G.createElement("title",{id:e},t):null,G.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M3.75 6A2.25 2.25 0 0 1 6 3.75h2.25A2.25 2.25 0 0 1 10.5 6v2.25a2.25 2.25 0 0 1-2.25 2.25H6a2.25 2.25 0 0 1-2.25-2.25V6ZM3.75 15.75A2.25 2.25 0 0 1 6 13.5h2.25a2.25 2.25 0 0 1 2.25 2.25V18a2.25 2.25 0 0 1-2.25 2.25H6A2.25 2.25 0 0 1 3.75 18v-2.25ZM13.5 6a2.25 2.25 0 0 1 2.25-2.25H18A2.25 2.25 0 0 1 20.25 6v2.25A2.25 2.25 0 0 1 18 10.5h-2.25a2.25 2.25 0 0 1-2.25-2.25V6ZM13.5 15.75a2.25 2.25 0 0 1 2.25-2.25H18a2.25 2.25 0 0 1 2.25 2.25V18A2.25 2.25 0 0 1 18 20.25h-2.25A2.25 2.25 0 0 1 13.5 18v-2.25Z"}))}const dU=G.forwardRef(fU);function pU({title:t,titleId:e,...n},r){return G.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:r,"aria-labelledby":e},n),t?G.createElement("title",{id:e},t):null,G.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M13.5 16.875h3.375m0 0h3.375m-3.375 0V13.5m0 3.375v3.375M6 10.5h2.25a2.25 2.25 0 0 0 2.25-2.25V6a2.25 2.25 0 0 0-2.25-2.25H6A2.25 2.25 0 0 0 3.75 6v2.25A2.25 2.25 0 0 0 6 10.5Zm0 9.75h2.25A2.25 2.25 0 0 0 10.5 18v-2.25a2.25 2.25 0 0 0-2.25-2.25H6a2.25 2.25 0 0 0-2.25 2.25V18A2.25 2.25 0 0 0 6 20.25Zm9.75-9.75H18a2.25 2.25 0 0 0 2.25-2.25V6A2.25 2.25 0 0 0 18 3.75h-2.25A2.25 2.25 0 0 0 13.5 6v2.25a2.25 2.25 0 0 0 2.25 2.25Z"}))}const mU=G.forwardRef(pU);function gU({title:t,titleId:e,...n},r){return G.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:r,"aria-labelledby":e},n),t?G.createElement("title",{id:e},t):null,G.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M18 18.72a9.094 9.094 0 0 0 3.741-.479 3 3 0 0 0-4.682-2.72m.94 3.198.001.031c0 .225-.012.447-.037.666A11.944 11.944 0 0 1 12 21c-2.17 0-4.207-.576-5.963-1.584A6.062 6.062 0 0 1 6 18.719m12 0a5.971 5.971 0 0 0-.941-3.197m0 0A5.995 5.995 0 0 0 12 12.75a5.995 5.995 0 0 0-5.058 2.772m0 0a3 3 0 0 0-4.681 2.72 8.986 8.986 0 0 0 3.74.477m.94-3.197a5.971 5.971 0 0 0-.94 3.197M15 6.75a3 3 0 1 1-6 0 3 3 0 0 1 6 0Zm6 3a2.25 2.25 0 1 1-4.5 0 2.25 2.25 0 0 1 4.5 0Zm-13.5 0a2.25 2.25 0 1 1-4.5 0 2.25 2.25 0 0 1 4.5 0Z"}))}const yU=G.forwardRef(gU);function vU({title:t,titleId:e,...n},r){return G.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:r,"aria-labelledby":e},n),t?G.createElement("title",{id:e},t):null,G.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M15 19.128a9.38 9.38 0 0 0 2.625.372 9.337 9.337 0 0 0 4.121-.952 4.125 4.125 0 0 0-7.533-2.493M15 19.128v-.003c0-1.113-.285-2.16-.786-3.07M15 19.128v.106A12.318 12.318 0 0 1 8.624 21c-2.331 0-4.512-.645-6.374-1.766l-.001-.109a6.375 6.375 0 0 1 11.964-3.07M12 6.375a3.375 3.375 0 1 1-6.75 0 3.375 3.375 0 0 1 6.75 0Zm8.25 2.25a2.625 2.625 0 1 1-5.25 0 2.625 2.625 0 0 1 5.25 0Z"}))}const wU=G.forwardRef(vU),xU=[{isLink:!0,to:"/reports/sales-and-revenue",title:"Sales & Revenue Reports",description:"Track daily, weekly, and monthly sales performance and revenue streams.",icon:m.jsx(kE,{className:"h-8 w-8 text-blue-500"}),color:"blue"},{title:"Profit & Financial Reports",description:"Analyze profit margins, costs of goods sold, and overall financial health.",icon:m.jsx(aU,{className:"h-8 w-8 text-green-500"}),color:"green"},{title:"Customer Reports",description:"Gain insights into customer behavior, order frequency, and popular items.",icon:m.jsx(wU,{className:"h-8 w-8 text-purple-500"}),color:"purple"},{title:"Staff & HR Reports",description:"Monitor staff performance, work hours, tips, and payroll data.",icon:m.jsx(yU,{className:"h-8 w-8 text-red-500"}),color:"red"},{title:"Analytical & Comparative Reports",description:"Compare performance across different time periods or menu items.",icon:m.jsx(hU,{className:"h-8 w-8 text-indigo-500"}),color:"indigo"}],bU=()=>m.jsxs("div",{className:"p-6 bg-gray-50 min-h-full",children:[m.jsxs("div",{className:"mb-8",children:[m.jsx("h1",{className:"text-3xl font-bold text-gray-800",children:"Reports Dashboard"}),m.jsx("p",{className:"text-gray-500 mt-1",children:"Select a category to view detailed reports."})]}),m.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4 gap-6",children:xU.map(t=>t.isLink?m.jsxs(ev,{to:t.to,className:"group bg-white rounded-xl shadow-md p-6 flex flex-col justify-between hover:shadow-xl hover:-translate-y-1 transition-all duration-300 cursor-pointer border border-gray-200",children:[m.jsxs("div",{children:[m.jsx("div",{className:"mb-4",children:t.icon}),m.jsx("h3",{className:"text-xl font-semibold text-gray-800 mb-2",children:t.title}),m.jsx("p",{className:"text-gray-600 text-sm",children:t.description})]}),m.jsx("div",{className:"mt-6",children:m.jsx("span",{className:`font-semibold text-${t.color}-600 group-hover:text-${t.color}-800 transition-colors`,children:"View Reports "})})]},t.title):m.jsxs("div",{className:"group bg-white rounded-xl shadow-md p-6 flex flex-col justify-between border border-gray-200",children:[m.jsxs("div",{children:[m.jsx("div",{className:"mb-4",children:t.icon}),m.jsx("h3",{className:"text-xl font-semibold text-gray-800 mb-2",children:t.title}),m.jsx("p",{className:"text-gray-600 text-sm",children:t.description})]}),m.jsx("div",{className:"mt-6",children:m.jsx("span",{className:"font-semibold text-gray-400",children:"Coming Soon"})})]},t.title))})]}),_U="modulepreload",SU=function(t){return"/"+t},t3={},R1=function(e,n,r){let i=Promise.resolve();if(n&&n.length>0){document.getElementsByTagName("link");const o=document.querySelector("meta[property=csp-nonce]"),a=(o==null?void 0:o.nonce)||(o==null?void 0:o.getAttribute("nonce"));i=Promise.allSettled(n.map(l=>{if(l=SU(l),l in t3)return;t3[l]=!0;const u=l.endsWith(".css"),c=u?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${l}"]${c}`))return;const d=document.createElement("link");if(d.rel=u?"stylesheet":_U,u||(d.as="script"),d.crossOrigin="",d.href=l,a&&d.setAttribute("nonce",a),document.head.appendChild(d),u)return new Promise((g,p)=>{d.addEventListener("load",g),d.addEventListener("error",()=>p(new Error(`Unable to preload CSS for ${l}`)))})}))}function s(o){const a=new Event("vite:preloadError",{cancelable:!0});if(a.payload=o,window.dispatchEvent(a),!a.defaultPrevented)throw o}return i.then(o=>{for(const a of o||[])a.status==="rejected"&&s(a.reason);return e().catch(s)})};function an(t){"@babel/helpers - typeof";return an=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},an(t)}var zs=Uint8Array,Zi=Uint16Array,A5=Int32Array,N5=new zs([0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0,0,0,0]),E5=new zs([0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13,0,0]),n3=new zs([16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15]),PE=function(t,e){for(var n=new Zi(31),r=0;r<31;++r)n[r]=e+=1<<t[r-1];for(var i=new A5(n[30]),r=1;r<30;++r)for(var s=n[r];s<n[r+1];++s)i[s]=s-n[r]<<5|r;return{b:n,r:i}},IE=PE(N5,2),AU=IE.b,W2=IE.r;AU[28]=258,W2[258]=28;var NU=PE(E5,0),r3=NU.r,G2=new Zi(32768);for(var Sn=0;Sn<32768;++Sn){var Pa=(Sn&43690)>>1|(Sn&21845)<<1;Pa=(Pa&52428)>>2|(Pa&13107)<<2,Pa=(Pa&61680)>>4|(Pa&3855)<<4,G2[Sn]=((Pa&65280)>>8|(Pa&255)<<8)>>1}var Yh=function(t,e,n){for(var r=t.length,i=0,s=new Zi(e);i<r;++i)t[i]&&++s[t[i]-1];var o=new Zi(e);for(i=1;i<e;++i)o[i]=o[i-1]+s[i-1]<<1;var a;if(n){a=new Zi(1<<e);var l=15-e;for(i=0;i<r;++i)if(t[i])for(var u=i<<4|t[i],c=e-t[i],d=o[t[i]-1]++<<c,g=d|(1<<c)-1;d<=g;++d)a[G2[d]>>l]=u}else for(a=new Zi(r),i=0;i<r;++i)t[i]&&(a[i]=G2[o[t[i]-1]++]>>15-t[i]);return a},uu=new zs(288);for(var Sn=0;Sn<144;++Sn)uu[Sn]=8;for(var Sn=144;Sn<256;++Sn)uu[Sn]=9;for(var Sn=256;Sn<280;++Sn)uu[Sn]=7;for(var Sn=280;Sn<288;++Sn)uu[Sn]=8;var C0=new zs(32);for(var Sn=0;Sn<32;++Sn)C0[Sn]=5;var EU=Yh(uu,9,0),TU=Yh(C0,5,0),LE=function(t){return(t+7)/8|0},CU=function(t,e,n){return(n==null||n>t.length)&&(n=t.length),new zs(t.subarray(e,n))},Vo=function(t,e,n){n<<=e&7;var r=e/8|0;t[r]|=n,t[r+1]|=n>>8},bh=function(t,e,n){n<<=e&7;var r=e/8|0;t[r]|=n,t[r+1]|=n>>8,t[r+2]|=n>>16},j1=function(t,e){for(var n=[],r=0;r<t.length;++r)t[r]&&n.push({s:r,f:t[r]});var i=n.length,s=n.slice();if(!i)return{t:jE,l:0};if(i==1){var o=new zs(n[0].s+1);return o[n[0].s]=1,{t:o,l:1}}n.sort(function(z,K){return z.f-K.f}),n.push({s:-1,f:25001});var a=n[0],l=n[1],u=0,c=1,d=2;for(n[0]={s:-1,f:a.f+l.f,l:a,r:l};c!=i-1;)a=n[n[u].f<n[d].f?u++:d++],l=n[u!=c&&n[u].f<n[d].f?u++:d++],n[c++]={s:-1,f:a.f+l.f,l:a,r:l};for(var g=s[0].s,r=1;r<i;++r)s[r].s>g&&(g=s[r].s);var p=new Zi(g+1),b=K2(n[c-1],p,0);if(b>e){var r=0,x=0,A=b-e,v=1<<A;for(s.sort(function(K,k){return p[k.s]-p[K.s]||K.f-k.f});r<i;++r){var _=s[r].s;if(p[_]>e)x+=v-(1<<b-p[_]),p[_]=e;else break}for(x>>=A;x>0;){var T=s[r].s;p[T]<e?x-=1<<e-p[T]++-1:++r}for(;r>=0&&x;--r){var R=s[r].s;p[R]==e&&(--p[R],++x)}b=e}return{t:new zs(p),l:b}},K2=function(t,e,n){return t.s==-1?Math.max(K2(t.l,e,n+1),K2(t.r,e,n+1)):e[t.s]=n},i3=function(t){for(var e=t.length;e&&!t[--e];);for(var n=new Zi(++e),r=0,i=t[0],s=1,o=function(l){n[r++]=l},a=1;a<=e;++a)if(t[a]==i&&a!=e)++s;else{if(!i&&s>2){for(;s>138;s-=138)o(32754);s>2&&(o(s>10?s-11<<5|28690:s-3<<5|12305),s=0)}else if(s>3){for(o(i),--s;s>6;s-=6)o(8304);s>2&&(o(s-3<<5|8208),s=0)}for(;s--;)o(i);s=1,i=t[a]}return{c:n.subarray(0,r),n:e}},_h=function(t,e){for(var n=0,r=0;r<e.length;++r)n+=t[r]*e[r];return n},RE=function(t,e,n){var r=n.length,i=LE(e+2);t[i]=r&255,t[i+1]=r>>8,t[i+2]=t[i]^255,t[i+3]=t[i+1]^255;for(var s=0;s<r;++s)t[i+s+4]=n[s];return(i+4+r)*8},s3=function(t,e,n,r,i,s,o,a,l,u,c){Vo(e,c++,n),++i[256];for(var d=j1(i,15),g=d.t,p=d.l,b=j1(s,15),x=b.t,A=b.l,v=i3(g),_=v.c,T=v.n,R=i3(x),z=R.c,K=R.n,k=new Zi(19),C=0;C<_.length;++C)++k[_[C]&31];for(var C=0;C<z.length;++C)++k[z[C]&31];for(var P=j1(k,7),M=P.t,E=P.l,L=19;L>4&&!M[n3[L-1]];--L);var j=u+5<<3,H=_h(i,uu)+_h(s,C0)+o,ne=_h(i,g)+_h(s,x)+o+14+3*L+_h(k,M)+2*k[16]+3*k[17]+7*k[18];if(l>=0&&j<=H&&j<=ne)return RE(e,c,t.subarray(l,l+u));var ce,ae,ee,oe;if(Vo(e,c,1+(ne<H)),c+=2,ne<H){ce=Yh(g,p,0),ae=g,ee=Yh(x,A,0),oe=x;var ge=Yh(M,E,0);Vo(e,c,T-257),Vo(e,c+5,K-1),Vo(e,c+10,L-4),c+=14;for(var C=0;C<L;++C)Vo(e,c+3*C,M[n3[C]]);c+=3*L;for(var xe=[_,z],V=0;V<2;++V)for(var Q=xe[V],C=0;C<Q.length;++C){var te=Q[C]&31;Vo(e,c,ge[te]),c+=M[te],te>15&&(Vo(e,c,Q[C]>>5&127),c+=Q[C]>>12)}}else ce=EU,ae=uu,ee=TU,oe=C0;for(var C=0;C<a;++C){var ie=r[C];if(ie>255){var te=ie>>18&31;bh(e,c,ce[te+257]),c+=ae[te+257],te>7&&(Vo(e,c,ie>>23&31),c+=N5[te]);var le=ie&31;bh(e,c,ee[le]),c+=oe[le],le>3&&(bh(e,c,ie>>5&8191),c+=E5[le])}else bh(e,c,ce[ie]),c+=ae[ie]}return bh(e,c,ce[256]),c+ae[256]},kU=new A5([65540,131080,131088,131104,262176,1048704,1048832,2114560,2117632]),jE=new zs(0),PU=function(t,e,n,r,i,s){var o=s.z||t.length,a=new zs(r+o+5*(1+Math.ceil(o/7e3))+i),l=a.subarray(r,a.length-i),u=s.l,c=(s.r||0)&7;if(e){c&&(l[0]=s.r>>3);for(var d=kU[e-1],g=d>>13,p=d&8191,b=(1<<n)-1,x=s.p||new Zi(32768),A=s.h||new Zi(b+1),v=Math.ceil(n/3),_=2*v,T=function(me){return(t[me]^t[me+1]<<v^t[me+2]<<_)&b},R=new A5(25e3),z=new Zi(288),K=new Zi(32),k=0,C=0,P=s.i||0,M=0,E=s.w||0,L=0;P+2<o;++P){var j=T(P),H=P&32767,ne=A[j];if(x[H]=ne,A[j]=H,E<=P){var ce=o-P;if((k>7e3||M>24576)&&(ce>423||!u)){c=s3(t,l,0,R,z,K,C,M,L,P-L,c),M=k=C=0,L=P;for(var ae=0;ae<286;++ae)z[ae]=0;for(var ae=0;ae<30;++ae)K[ae]=0}var ee=2,oe=0,ge=p,xe=H-ne&32767;if(ce>2&&j==T(P-xe))for(var V=Math.min(g,ce)-1,Q=Math.min(32767,P),te=Math.min(258,ce);xe<=Q&&--ge&&H!=ne;){if(t[P+ee]==t[P+ee-xe]){for(var ie=0;ie<te&&t[P+ie]==t[P+ie-xe];++ie);if(ie>ee){if(ee=ie,oe=xe,ie>V)break;for(var le=Math.min(xe,ie-2),pe=0,ae=0;ae<le;++ae){var be=P-xe+ae&32767,_e=x[be],Te=be-_e&32767;Te>pe&&(pe=Te,ne=be)}}}H=ne,ne=x[H],xe+=H-ne&32767}if(oe){R[M++]=268435456|W2[ee]<<18|r3[oe];var je=W2[ee]&31,Se=r3[oe]&31;C+=N5[je]+E5[Se],++z[257+je],++K[Se],E=P+ee,++k}else R[M++]=t[P],++z[t[P]]}}for(P=Math.max(P,E);P<o;++P)R[M++]=t[P],++z[t[P]];c=s3(t,l,u,R,z,K,C,M,L,P-L,c),u||(s.r=c&7|l[c/8|0]<<3,c-=7,s.h=A,s.p=x,s.i=P,s.w=E)}else{for(var P=s.w||0;P<o+u;P+=65535){var ke=P+65535;ke>=o&&(l[c/8|0]=u,ke=o),c=RE(l,c+1,t.subarray(P,ke))}s.i=o}return CU(a,0,r+LE(c)+i)},DE=function(){var t=1,e=0;return{p:function(n){for(var r=t,i=e,s=n.length|0,o=0;o!=s;){for(var a=Math.min(o+2655,s);o<a;++o)i+=r+=n[o];r=(r&65535)+15*(r>>16),i=(i&65535)+15*(i>>16)}t=r,e=i},d:function(){return t%=65521,e%=65521,(t&255)<<24|(t&65280)<<8|(e&255)<<8|e>>8}}},IU=function(t,e,n,r,i){if(!i&&(i={l:1},e.dictionary)){var s=e.dictionary.subarray(-32768),o=new zs(s.length+t.length);o.set(s),o.set(t,s.length),t=o,i.w=s.length}return PU(t,e.level==null?6:e.level,e.mem==null?i.l?Math.ceil(Math.max(8,Math.min(13,Math.log(t.length)))*1.5):20:12+e.mem,n,r,i)},ME=function(t,e,n){for(;n;++e)t[e]=n,n>>>=8},LU=function(t,e){var n=e.level,r=n==0?0:n<6?1:n==9?3:2;if(t[0]=120,t[1]=r<<6|(e.dictionary&&32),t[1]|=31-(t[0]<<8|t[1])%31,e.dictionary){var i=DE();i.p(e.dictionary),ME(t,2,i.d())}};function Q2(t,e){e||(e={});var n=DE();n.p(t);var r=IU(t,e,e.dictionary?6:2,4);return LU(r,e),ME(r,r.length-4,n.d()),r}var RU=typeof TextDecoder<"u"&&new TextDecoder,jU=0;try{RU.decode(jE,{stream:!0}),jU=1}catch{}function DU(t){if(Array.isArray(t))return t}function MU(t,e){var n=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(n!=null){var r,i,s,o,a=[],l=!0,u=!1;try{if(s=(n=n.call(t)).next,e!==0)for(;!(l=(r=s.call(n)).done)&&(a.push(r.value),a.length!==e);l=!0);}catch(c){u=!0,i=c}finally{try{if(!l&&n.return!=null&&(o=n.return(),Object(o)!==o))return}finally{if(u)throw i}}return a}}function o3(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=Array(e);n<e;n++)r[n]=t[n];return r}function FU(t,e){if(t){if(typeof t=="string")return o3(t,e);var n={}.toString.call(t).slice(8,-1);return n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set"?Array.from(t):n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?o3(t,e):void 0}}function OU(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function a3(t,e){return DU(t)||MU(t,e)||FU(t,e)||OU()}function l3(t,e="utf8"){return new TextDecoder(e).decode(t)}const VU=new TextEncoder;function BU(t){return VU.encode(t)}const UU=1024*8,zU=(()=>{const t=new Uint8Array(4),e=new Uint32Array(t.buffer);return!((e[0]=1)&t[0])})(),D1={int8:globalThis.Int8Array,uint8:globalThis.Uint8Array,int16:globalThis.Int16Array,uint16:globalThis.Uint16Array,int32:globalThis.Int32Array,uint32:globalThis.Uint32Array,uint64:globalThis.BigUint64Array,int64:globalThis.BigInt64Array,float32:globalThis.Float32Array,float64:globalThis.Float64Array};class T5{constructor(e=UU,n={}){sn(this,"buffer");sn(this,"byteLength");sn(this,"byteOffset");sn(this,"length");sn(this,"offset");sn(this,"lastWrittenByte");sn(this,"littleEndian");sn(this,"_data");sn(this,"_mark");sn(this,"_marks");let r=!1;typeof e=="number"?e=new ArrayBuffer(e):(r=!0,this.lastWrittenByte=e.byteLength);const i=n.offset?n.offset>>>0:0,s=e.byteLength-i;let o=i;(ArrayBuffer.isView(e)||e instanceof T5)&&(e.byteLength!==e.buffer.byteLength&&(o=e.byteOffset+i),e=e.buffer),r?this.lastWrittenByte=s:this.lastWrittenByte=0,this.buffer=e,this.length=s,this.byteLength=s,this.byteOffset=o,this.offset=0,this.littleEndian=!0,this._data=new DataView(this.buffer,o,s),this._mark=0,this._marks=[]}available(e=1){return this.offset+e<=this.length}isLittleEndian(){return this.littleEndian}setLittleEndian(){return this.littleEndian=!0,this}isBigEndian(){return!this.littleEndian}setBigEndian(){return this.littleEndian=!1,this}skip(e=1){return this.offset+=e,this}back(e=1){return this.offset-=e,this}seek(e){return this.offset=e,this}mark(){return this._mark=this.offset,this}reset(){return this.offset=this._mark,this}pushMark(){return this._marks.push(this.offset),this}popMark(){const e=this._marks.pop();if(e===void 0)throw new Error("Mark stack empty");return this.seek(e),this}rewind(){return this.offset=0,this}ensureAvailable(e=1){if(!this.available(e)){const r=(this.offset+e)*2,i=new Uint8Array(r);i.set(new Uint8Array(this.buffer)),this.buffer=i.buffer,this.length=r,this.byteLength=r,this._data=new DataView(this.buffer)}return this}readBoolean(){return this.readUint8()!==0}readInt8(){return this._data.getInt8(this.offset++)}readUint8(){return this._data.getUint8(this.offset++)}readByte(){return this.readUint8()}readBytes(e=1){return this.readArray(e,"uint8")}readArray(e,n){const r=D1[n].BYTES_PER_ELEMENT*e,i=this.byteOffset+this.offset,s=this.buffer.slice(i,i+r);if(this.littleEndian===zU&&n!=="uint8"&&n!=="int8"){const a=new Uint8Array(this.buffer.slice(i,i+r));a.reverse();const l=new D1[n](a.buffer);return this.offset+=r,l.reverse(),l}const o=new D1[n](s);return this.offset+=r,o}readInt16(){const e=this._data.getInt16(this.offset,this.littleEndian);return this.offset+=2,e}readUint16(){const e=this._data.getUint16(this.offset,this.littleEndian);return this.offset+=2,e}readInt32(){const e=this._data.getInt32(this.offset,this.littleEndian);return this.offset+=4,e}readUint32(){const e=this._data.getUint32(this.offset,this.littleEndian);return this.offset+=4,e}readFloat32(){const e=this._data.getFloat32(this.offset,this.littleEndian);return this.offset+=4,e}readFloat64(){const e=this._data.getFloat64(this.offset,this.littleEndian);return this.offset+=8,e}readBigInt64(){const e=this._data.getBigInt64(this.offset,this.littleEndian);return this.offset+=8,e}readBigUint64(){const e=this._data.getBigUint64(this.offset,this.littleEndian);return this.offset+=8,e}readChar(){return String.fromCharCode(this.readInt8())}readChars(e=1){let n="";for(let r=0;r<e;r++)n+=this.readChar();return n}readUtf8(e=1){return l3(this.readBytes(e))}decodeText(e=1,n="utf8"){return l3(this.readBytes(e),n)}writeBoolean(e){return this.writeUint8(e?255:0),this}writeInt8(e){return this.ensureAvailable(1),this._data.setInt8(this.offset++,e),this._updateLastWrittenByte(),this}writeUint8(e){return this.ensureAvailable(1),this._data.setUint8(this.offset++,e),this._updateLastWrittenByte(),this}writeByte(e){return this.writeUint8(e)}writeBytes(e){this.ensureAvailable(e.length);for(let n=0;n<e.length;n++)this._data.setUint8(this.offset++,e[n]);return this._updateLastWrittenByte(),this}writeInt16(e){return this.ensureAvailable(2),this._data.setInt16(this.offset,e,this.littleEndian),this.offset+=2,this._updateLastWrittenByte(),this}writeUint16(e){return this.ensureAvailable(2),this._data.setUint16(this.offset,e,this.littleEndian),this.offset+=2,this._updateLastWrittenByte(),this}writeInt32(e){return this.ensureAvailable(4),this._data.setInt32(this.offset,e,this.littleEndian),this.offset+=4,this._updateLastWrittenByte(),this}writeUint32(e){return this.ensureAvailable(4),this._data.setUint32(this.offset,e,this.littleEndian),this.offset+=4,this._updateLastWrittenByte(),this}writeFloat32(e){return this.ensureAvailable(4),this._data.setFloat32(this.offset,e,this.littleEndian),this.offset+=4,this._updateLastWrittenByte(),this}writeFloat64(e){return this.ensureAvailable(8),this._data.setFloat64(this.offset,e,this.littleEndian),this.offset+=8,this._updateLastWrittenByte(),this}writeBigInt64(e){return this.ensureAvailable(8),this._data.setBigInt64(this.offset,e,this.littleEndian),this.offset+=8,this._updateLastWrittenByte(),this}writeBigUint64(e){return this.ensureAvailable(8),this._data.setBigUint64(this.offset,e,this.littleEndian),this.offset+=8,this._updateLastWrittenByte(),this}writeChar(e){return this.writeUint8(e.charCodeAt(0))}writeChars(e){for(let n=0;n<e.length;n++)this.writeUint8(e.charCodeAt(n));return this}writeUtf8(e){return this.writeBytes(BU(e))}toArray(){return new Uint8Array(this.buffer,this.byteOffset,this.lastWrittenByte)}getWrittenByteLength(){return this.lastWrittenByte-this.byteOffset}_updateLastWrittenByte(){this.offset>this.lastWrittenByte&&(this.lastWrittenByte=this.offset)}}function zc(t){let e=t.length;for(;--e>=0;)t[e]=0}const qU=3,$U=258,FE=29,HU=256,WU=HU+1+FE,OE=30,GU=512,KU=new Array((WU+2)*2);zc(KU);const QU=new Array(OE*2);zc(QU);const YU=new Array(GU);zc(YU);const XU=new Array($U-qU+1);zc(XU);const JU=new Array(FE);zc(JU);const ZU=new Array(OE);zc(ZU);const ez=(t,e,n,r)=>{let i=t&65535|0,s=t>>>16&65535|0,o=0;for(;n!==0;){o=n>2e3?2e3:n,n-=o;do i=i+e[r++]|0,s=s+i|0;while(--o);i%=65521,s%=65521}return i|s<<16|0};var Y2=ez;const tz=()=>{let t,e=[];for(var n=0;n<256;n++){t=n;for(var r=0;r<8;r++)t=t&1?3988292384^t>>>1:t>>>1;e[n]=t}return e},nz=new Uint32Array(tz()),rz=(t,e,n,r)=>{const i=nz,s=r+n;t^=-1;for(let o=r;o<s;o++)t=t>>>8^i[(t^e[o])&255];return t^-1};var uo=rz,X2={2:"need dictionary",1:"stream end",0:"","-1":"file error","-2":"stream error","-3":"data error","-4":"insufficient memory","-5":"buffer error","-6":"incompatible version"},VE={Z_NO_FLUSH:0,Z_FINISH:4,Z_BLOCK:5,Z_TREES:6,Z_OK:0,Z_STREAM_END:1,Z_NEED_DICT:2,Z_STREAM_ERROR:-2,Z_DATA_ERROR:-3,Z_MEM_ERROR:-4,Z_BUF_ERROR:-5,Z_DEFLATED:8};const iz=(t,e)=>Object.prototype.hasOwnProperty.call(t,e);var sz=function(t){const e=Array.prototype.slice.call(arguments,1);for(;e.length;){const n=e.shift();if(n){if(typeof n!="object")throw new TypeError(n+"must be non-object");for(const r in n)iz(n,r)&&(t[r]=n[r])}}return t},oz=t=>{let e=0;for(let r=0,i=t.length;r<i;r++)e+=t[r].length;const n=new Uint8Array(e);for(let r=0,i=0,s=t.length;r<s;r++){let o=t[r];n.set(o,i),i+=o.length}return n},BE={assign:sz,flattenChunks:oz};let UE=!0;try{String.fromCharCode.apply(null,new Uint8Array(1))}catch{UE=!1}const Mf=new Uint8Array(256);for(let t=0;t<256;t++)Mf[t]=t>=252?6:t>=248?5:t>=240?4:t>=224?3:t>=192?2:1;Mf[254]=Mf[254]=1;var az=t=>{if(typeof TextEncoder=="function"&&TextEncoder.prototype.encode)return new TextEncoder().encode(t);let e,n,r,i,s,o=t.length,a=0;for(i=0;i<o;i++)n=t.charCodeAt(i),(n&64512)===55296&&i+1<o&&(r=t.charCodeAt(i+1),(r&64512)===56320&&(n=65536+(n-55296<<10)+(r-56320),i++)),a+=n<128?1:n<2048?2:n<65536?3:4;for(e=new Uint8Array(a),s=0,i=0;s<a;i++)n=t.charCodeAt(i),(n&64512)===55296&&i+1<o&&(r=t.charCodeAt(i+1),(r&64512)===56320&&(n=65536+(n-55296<<10)+(r-56320),i++)),n<128?e[s++]=n:n<2048?(e[s++]=192|n>>>6,e[s++]=128|n&63):n<65536?(e[s++]=224|n>>>12,e[s++]=128|n>>>6&63,e[s++]=128|n&63):(e[s++]=240|n>>>18,e[s++]=128|n>>>12&63,e[s++]=128|n>>>6&63,e[s++]=128|n&63);return e};const lz=(t,e)=>{if(e<65534&&t.subarray&&UE)return String.fromCharCode.apply(null,t.length===e?t:t.subarray(0,e));let n="";for(let r=0;r<e;r++)n+=String.fromCharCode(t[r]);return n};var uz=(t,e)=>{const n=e||t.length;if(typeof TextDecoder=="function"&&TextDecoder.prototype.decode)return new TextDecoder().decode(t.subarray(0,e));let r,i;const s=new Array(n*2);for(i=0,r=0;r<n;){let o=t[r++];if(o<128){s[i++]=o;continue}let a=Mf[o];if(a>4){s[i++]=65533,r+=a-1;continue}for(o&=a===2?31:a===3?15:7;a>1&&r<n;)o=o<<6|t[r++]&63,a--;if(a>1){s[i++]=65533;continue}o<65536?s[i++]=o:(o-=65536,s[i++]=55296|o>>10&1023,s[i++]=56320|o&1023)}return lz(s,i)},cz=(t,e)=>{e=e||t.length,e>t.length&&(e=t.length);let n=e-1;for(;n>=0&&(t[n]&192)===128;)n--;return n<0||n===0?e:n+Mf[t[n]]>e?n:e},J2={string2buf:az,buf2string:uz,utf8border:cz};function hz(){this.input=null,this.next_in=0,this.avail_in=0,this.total_in=0,this.output=null,this.next_out=0,this.avail_out=0,this.total_out=0,this.msg="",this.state=null,this.data_type=2,this.adler=0}var fz=hz;const Zd=16209,dz=16191;var pz=function(e,n){let r,i,s,o,a,l,u,c,d,g,p,b,x,A,v,_,T,R,z,K,k,C,P,M;const E=e.state;r=e.next_in,P=e.input,i=r+(e.avail_in-5),s=e.next_out,M=e.output,o=s-(n-e.avail_out),a=s+(e.avail_out-257),l=E.dmax,u=E.wsize,c=E.whave,d=E.wnext,g=E.window,p=E.hold,b=E.bits,x=E.lencode,A=E.distcode,v=(1<<E.lenbits)-1,_=(1<<E.distbits)-1;e:do{b<15&&(p+=P[r++]<<b,b+=8,p+=P[r++]<<b,b+=8),T=x[p&v];t:for(;;){if(R=T>>>24,p>>>=R,b-=R,R=T>>>16&255,R===0)M[s++]=T&65535;else if(R&16){z=T&65535,R&=15,R&&(b<R&&(p+=P[r++]<<b,b+=8),z+=p&(1<<R)-1,p>>>=R,b-=R),b<15&&(p+=P[r++]<<b,b+=8,p+=P[r++]<<b,b+=8),T=A[p&_];n:for(;;){if(R=T>>>24,p>>>=R,b-=R,R=T>>>16&255,R&16){if(K=T&65535,R&=15,b<R&&(p+=P[r++]<<b,b+=8,b<R&&(p+=P[r++]<<b,b+=8)),K+=p&(1<<R)-1,K>l){e.msg="invalid distance too far back",E.mode=Zd;break e}if(p>>>=R,b-=R,R=s-o,K>R){if(R=K-R,R>c&&E.sane){e.msg="invalid distance too far back",E.mode=Zd;break e}if(k=0,C=g,d===0){if(k+=u-R,R<z){z-=R;do M[s++]=g[k++];while(--R);k=s-K,C=M}}else if(d<R){if(k+=u+d-R,R-=d,R<z){z-=R;do M[s++]=g[k++];while(--R);if(k=0,d<z){R=d,z-=R;do M[s++]=g[k++];while(--R);k=s-K,C=M}}}else if(k+=d-R,R<z){z-=R;do M[s++]=g[k++];while(--R);k=s-K,C=M}for(;z>2;)M[s++]=C[k++],M[s++]=C[k++],M[s++]=C[k++],z-=3;z&&(M[s++]=C[k++],z>1&&(M[s++]=C[k++]))}else{k=s-K;do M[s++]=M[k++],M[s++]=M[k++],M[s++]=M[k++],z-=3;while(z>2);z&&(M[s++]=M[k++],z>1&&(M[s++]=M[k++]))}}else if(R&64){e.msg="invalid distance code",E.mode=Zd;break e}else{T=A[(T&65535)+(p&(1<<R)-1)];continue n}break}}else if(R&64)if(R&32){E.mode=dz;break e}else{e.msg="invalid literal/length code",E.mode=Zd;break e}else{T=x[(T&65535)+(p&(1<<R)-1)];continue t}break}}while(r<i&&s<a);z=b>>3,r-=z,b-=z<<3,p&=(1<<b)-1,e.next_in=r,e.next_out=s,e.avail_in=r<i?5+(i-r):5-(r-i),e.avail_out=s<a?257+(a-s):257-(s-a),E.hold=p,E.bits=b};const Eu=15,u3=852,c3=592,h3=0,M1=1,f3=2,mz=new Uint16Array([3,4,5,6,7,8,9,10,11,13,15,17,19,23,27,31,35,43,51,59,67,83,99,115,131,163,195,227,258,0,0]),gz=new Uint8Array([16,16,16,16,16,16,16,16,17,17,17,17,18,18,18,18,19,19,19,19,20,20,20,20,21,21,21,21,16,72,78]),yz=new Uint16Array([1,2,3,4,5,7,9,13,17,25,33,49,65,97,129,193,257,385,513,769,1025,1537,2049,3073,4097,6145,8193,12289,16385,24577,0,0]),vz=new Uint8Array([16,16,16,16,17,17,18,18,19,19,20,20,21,21,22,22,23,23,24,24,25,25,26,26,27,27,28,28,29,29,64,64]),wz=(t,e,n,r,i,s,o,a)=>{const l=a.bits;let u=0,c=0,d=0,g=0,p=0,b=0,x=0,A=0,v=0,_=0,T,R,z,K,k,C=null,P;const M=new Uint16Array(Eu+1),E=new Uint16Array(Eu+1);let L=null,j,H,ne;for(u=0;u<=Eu;u++)M[u]=0;for(c=0;c<r;c++)M[e[n+c]]++;for(p=l,g=Eu;g>=1&&M[g]===0;g--);if(p>g&&(p=g),g===0)return i[s++]=1<<24|64<<16|0,i[s++]=1<<24|64<<16|0,a.bits=1,0;for(d=1;d<g&&M[d]===0;d++);for(p<d&&(p=d),A=1,u=1;u<=Eu;u++)if(A<<=1,A-=M[u],A<0)return-1;if(A>0&&(t===h3||g!==1))return-1;for(E[1]=0,u=1;u<Eu;u++)E[u+1]=E[u]+M[u];for(c=0;c<r;c++)e[n+c]!==0&&(o[E[e[n+c]]++]=c);if(t===h3?(C=L=o,P=20):t===M1?(C=mz,L=gz,P=257):(C=yz,L=vz,P=0),_=0,c=0,u=d,k=s,b=p,x=0,z=-1,v=1<<p,K=v-1,t===M1&&v>u3||t===f3&&v>c3)return 1;for(;;){j=u-x,o[c]+1<P?(H=0,ne=o[c]):o[c]>=P?(H=L[o[c]-P],ne=C[o[c]-P]):(H=96,ne=0),T=1<<u-x,R=1<<b,d=R;do R-=T,i[k+(_>>x)+R]=j<<24|H<<16|ne|0;while(R!==0);for(T=1<<u-1;_&T;)T>>=1;if(T!==0?(_&=T-1,_+=T):_=0,c++,--M[u]===0){if(u===g)break;u=e[n+o[c]]}if(u>p&&(_&K)!==z){for(x===0&&(x=p),k+=d,b=u-x,A=1<<b;b+x<g&&(A-=M[b+x],!(A<=0));)b++,A<<=1;if(v+=1<<b,t===M1&&v>u3||t===f3&&v>c3)return 1;z=_&K,i[z]=p<<24|b<<16|k-s|0}}return _!==0&&(i[k+_]=u-x<<24|64<<16|0),a.bits=p,0};var Xh=wz;const xz=0,zE=1,qE=2,{Z_FINISH:d3,Z_BLOCK:bz,Z_TREES:ep,Z_OK:cu,Z_STREAM_END:_z,Z_NEED_DICT:Sz,Z_STREAM_ERROR:_s,Z_DATA_ERROR:$E,Z_MEM_ERROR:HE,Z_BUF_ERROR:Az,Z_DEFLATED:p3}=VE,ym=16180,m3=16181,g3=16182,y3=16183,v3=16184,w3=16185,x3=16186,b3=16187,_3=16188,S3=16189,k0=16190,Bo=16191,F1=16192,A3=16193,O1=16194,N3=16195,E3=16196,T3=16197,C3=16198,tp=16199,np=16200,k3=16201,P3=16202,I3=16203,L3=16204,R3=16205,V1=16206,j3=16207,D3=16208,Cn=16209,WE=16210,GE=16211,Nz=852,Ez=592,Tz=15,Cz=Tz,M3=t=>(t>>>24&255)+(t>>>8&65280)+((t&65280)<<8)+((t&255)<<24);function kz(){this.strm=null,this.mode=0,this.last=!1,this.wrap=0,this.havedict=!1,this.flags=0,this.dmax=0,this.check=0,this.total=0,this.head=null,this.wbits=0,this.wsize=0,this.whave=0,this.wnext=0,this.window=null,this.hold=0,this.bits=0,this.length=0,this.offset=0,this.extra=0,this.lencode=null,this.distcode=null,this.lenbits=0,this.distbits=0,this.ncode=0,this.nlen=0,this.ndist=0,this.have=0,this.next=null,this.lens=new Uint16Array(320),this.work=new Uint16Array(288),this.lendyn=null,this.distdyn=null,this.sane=0,this.back=0,this.was=0}const yu=t=>{if(!t)return 1;const e=t.state;return!e||e.strm!==t||e.mode<ym||e.mode>GE?1:0},KE=t=>{if(yu(t))return _s;const e=t.state;return t.total_in=t.total_out=e.total=0,t.msg="",e.wrap&&(t.adler=e.wrap&1),e.mode=ym,e.last=0,e.havedict=0,e.flags=-1,e.dmax=32768,e.head=null,e.hold=0,e.bits=0,e.lencode=e.lendyn=new Int32Array(Nz),e.distcode=e.distdyn=new Int32Array(Ez),e.sane=1,e.back=-1,cu},QE=t=>{if(yu(t))return _s;const e=t.state;return e.wsize=0,e.whave=0,e.wnext=0,KE(t)},YE=(t,e)=>{let n;if(yu(t))return _s;const r=t.state;return e<0?(n=0,e=-e):(n=(e>>4)+5,e<48&&(e&=15)),e&&(e<8||e>15)?_s:(r.window!==null&&r.wbits!==e&&(r.window=null),r.wrap=n,r.wbits=e,QE(t))},XE=(t,e)=>{if(!t)return _s;const n=new kz;t.state=n,n.strm=t,n.window=null,n.mode=ym;const r=YE(t,e);return r!==cu&&(t.state=null),r},Pz=t=>XE(t,Cz);let F3=!0,B1,U1;const Iz=t=>{if(F3){B1=new Int32Array(512),U1=new Int32Array(32);let e=0;for(;e<144;)t.lens[e++]=8;for(;e<256;)t.lens[e++]=9;for(;e<280;)t.lens[e++]=7;for(;e<288;)t.lens[e++]=8;for(Xh(zE,t.lens,0,288,B1,0,t.work,{bits:9}),e=0;e<32;)t.lens[e++]=5;Xh(qE,t.lens,0,32,U1,0,t.work,{bits:5}),F3=!1}t.lencode=B1,t.lenbits=9,t.distcode=U1,t.distbits=5},JE=(t,e,n,r)=>{let i;const s=t.state;return s.window===null&&(s.wsize=1<<s.wbits,s.wnext=0,s.whave=0,s.window=new Uint8Array(s.wsize)),r>=s.wsize?(s.window.set(e.subarray(n-s.wsize,n),0),s.wnext=0,s.whave=s.wsize):(i=s.wsize-s.wnext,i>r&&(i=r),s.window.set(e.subarray(n-r,n-r+i),s.wnext),r-=i,r?(s.window.set(e.subarray(n-r,n),0),s.wnext=r,s.whave=s.wsize):(s.wnext+=i,s.wnext===s.wsize&&(s.wnext=0),s.whave<s.wsize&&(s.whave+=i))),0},Lz=(t,e)=>{let n,r,i,s,o,a,l,u,c,d,g,p,b,x,A=0,v,_,T,R,z,K,k,C;const P=new Uint8Array(4);let M,E;const L=new Uint8Array([16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15]);if(yu(t)||!t.output||!t.input&&t.avail_in!==0)return _s;n=t.state,n.mode===Bo&&(n.mode=F1),o=t.next_out,i=t.output,l=t.avail_out,s=t.next_in,r=t.input,a=t.avail_in,u=n.hold,c=n.bits,d=a,g=l,C=cu;e:for(;;)switch(n.mode){case ym:if(n.wrap===0){n.mode=F1;break}for(;c<16;){if(a===0)break e;a--,u+=r[s++]<<c,c+=8}if(n.wrap&2&&u===35615){n.wbits===0&&(n.wbits=15),n.check=0,P[0]=u&255,P[1]=u>>>8&255,n.check=uo(n.check,P,2,0),u=0,c=0,n.mode=m3;break}if(n.head&&(n.head.done=!1),!(n.wrap&1)||(((u&255)<<8)+(u>>8))%31){t.msg="incorrect header check",n.mode=Cn;break}if((u&15)!==p3){t.msg="unknown compression method",n.mode=Cn;break}if(u>>>=4,c-=4,k=(u&15)+8,n.wbits===0&&(n.wbits=k),k>15||k>n.wbits){t.msg="invalid window size",n.mode=Cn;break}n.dmax=1<<n.wbits,n.flags=0,t.adler=n.check=1,n.mode=u&512?S3:Bo,u=0,c=0;break;case m3:for(;c<16;){if(a===0)break e;a--,u+=r[s++]<<c,c+=8}if(n.flags=u,(n.flags&255)!==p3){t.msg="unknown compression method",n.mode=Cn;break}if(n.flags&57344){t.msg="unknown header flags set",n.mode=Cn;break}n.head&&(n.head.text=u>>8&1),n.flags&512&&n.wrap&4&&(P[0]=u&255,P[1]=u>>>8&255,n.check=uo(n.check,P,2,0)),u=0,c=0,n.mode=g3;case g3:for(;c<32;){if(a===0)break e;a--,u+=r[s++]<<c,c+=8}n.head&&(n.head.time=u),n.flags&512&&n.wrap&4&&(P[0]=u&255,P[1]=u>>>8&255,P[2]=u>>>16&255,P[3]=u>>>24&255,n.check=uo(n.check,P,4,0)),u=0,c=0,n.mode=y3;case y3:for(;c<16;){if(a===0)break e;a--,u+=r[s++]<<c,c+=8}n.head&&(n.head.xflags=u&255,n.head.os=u>>8),n.flags&512&&n.wrap&4&&(P[0]=u&255,P[1]=u>>>8&255,n.check=uo(n.check,P,2,0)),u=0,c=0,n.mode=v3;case v3:if(n.flags&1024){for(;c<16;){if(a===0)break e;a--,u+=r[s++]<<c,c+=8}n.length=u,n.head&&(n.head.extra_len=u),n.flags&512&&n.wrap&4&&(P[0]=u&255,P[1]=u>>>8&255,n.check=uo(n.check,P,2,0)),u=0,c=0}else n.head&&(n.head.extra=null);n.mode=w3;case w3:if(n.flags&1024&&(p=n.length,p>a&&(p=a),p&&(n.head&&(k=n.head.extra_len-n.length,n.head.extra||(n.head.extra=new Uint8Array(n.head.extra_len)),n.head.extra.set(r.subarray(s,s+p),k)),n.flags&512&&n.wrap&4&&(n.check=uo(n.check,r,p,s)),a-=p,s+=p,n.length-=p),n.length))break e;n.length=0,n.mode=x3;case x3:if(n.flags&2048){if(a===0)break e;p=0;do k=r[s+p++],n.head&&k&&n.length<65536&&(n.head.name+=String.fromCharCode(k));while(k&&p<a);if(n.flags&512&&n.wrap&4&&(n.check=uo(n.check,r,p,s)),a-=p,s+=p,k)break e}else n.head&&(n.head.name=null);n.length=0,n.mode=b3;case b3:if(n.flags&4096){if(a===0)break e;p=0;do k=r[s+p++],n.head&&k&&n.length<65536&&(n.head.comment+=String.fromCharCode(k));while(k&&p<a);if(n.flags&512&&n.wrap&4&&(n.check=uo(n.check,r,p,s)),a-=p,s+=p,k)break e}else n.head&&(n.head.comment=null);n.mode=_3;case _3:if(n.flags&512){for(;c<16;){if(a===0)break e;a--,u+=r[s++]<<c,c+=8}if(n.wrap&4&&u!==(n.check&65535)){t.msg="header crc mismatch",n.mode=Cn;break}u=0,c=0}n.head&&(n.head.hcrc=n.flags>>9&1,n.head.done=!0),t.adler=n.check=0,n.mode=Bo;break;case S3:for(;c<32;){if(a===0)break e;a--,u+=r[s++]<<c,c+=8}t.adler=n.check=M3(u),u=0,c=0,n.mode=k0;case k0:if(n.havedict===0)return t.next_out=o,t.avail_out=l,t.next_in=s,t.avail_in=a,n.hold=u,n.bits=c,Sz;t.adler=n.check=1,n.mode=Bo;case Bo:if(e===bz||e===ep)break e;case F1:if(n.last){u>>>=c&7,c-=c&7,n.mode=V1;break}for(;c<3;){if(a===0)break e;a--,u+=r[s++]<<c,c+=8}switch(n.last=u&1,u>>>=1,c-=1,u&3){case 0:n.mode=A3;break;case 1:if(Iz(n),n.mode=tp,e===ep){u>>>=2,c-=2;break e}break;case 2:n.mode=E3;break;case 3:t.msg="invalid block type",n.mode=Cn}u>>>=2,c-=2;break;case A3:for(u>>>=c&7,c-=c&7;c<32;){if(a===0)break e;a--,u+=r[s++]<<c,c+=8}if((u&65535)!==(u>>>16^65535)){t.msg="invalid stored block lengths",n.mode=Cn;break}if(n.length=u&65535,u=0,c=0,n.mode=O1,e===ep)break e;case O1:n.mode=N3;case N3:if(p=n.length,p){if(p>a&&(p=a),p>l&&(p=l),p===0)break e;i.set(r.subarray(s,s+p),o),a-=p,s+=p,l-=p,o+=p,n.length-=p;break}n.mode=Bo;break;case E3:for(;c<14;){if(a===0)break e;a--,u+=r[s++]<<c,c+=8}if(n.nlen=(u&31)+257,u>>>=5,c-=5,n.ndist=(u&31)+1,u>>>=5,c-=5,n.ncode=(u&15)+4,u>>>=4,c-=4,n.nlen>286||n.ndist>30){t.msg="too many length or distance symbols",n.mode=Cn;break}n.have=0,n.mode=T3;case T3:for(;n.have<n.ncode;){for(;c<3;){if(a===0)break e;a--,u+=r[s++]<<c,c+=8}n.lens[L[n.have++]]=u&7,u>>>=3,c-=3}for(;n.have<19;)n.lens[L[n.have++]]=0;if(n.lencode=n.lendyn,n.lenbits=7,M={bits:n.lenbits},C=Xh(xz,n.lens,0,19,n.lencode,0,n.work,M),n.lenbits=M.bits,C){t.msg="invalid code lengths set",n.mode=Cn;break}n.have=0,n.mode=C3;case C3:for(;n.have<n.nlen+n.ndist;){for(;A=n.lencode[u&(1<<n.lenbits)-1],v=A>>>24,_=A>>>16&255,T=A&65535,!(v<=c);){if(a===0)break e;a--,u+=r[s++]<<c,c+=8}if(T<16)u>>>=v,c-=v,n.lens[n.have++]=T;else{if(T===16){for(E=v+2;c<E;){if(a===0)break e;a--,u+=r[s++]<<c,c+=8}if(u>>>=v,c-=v,n.have===0){t.msg="invalid bit length repeat",n.mode=Cn;break}k=n.lens[n.have-1],p=3+(u&3),u>>>=2,c-=2}else if(T===17){for(E=v+3;c<E;){if(a===0)break e;a--,u+=r[s++]<<c,c+=8}u>>>=v,c-=v,k=0,p=3+(u&7),u>>>=3,c-=3}else{for(E=v+7;c<E;){if(a===0)break e;a--,u+=r[s++]<<c,c+=8}u>>>=v,c-=v,k=0,p=11+(u&127),u>>>=7,c-=7}if(n.have+p>n.nlen+n.ndist){t.msg="invalid bit length repeat",n.mode=Cn;break}for(;p--;)n.lens[n.have++]=k}}if(n.mode===Cn)break;if(n.lens[256]===0){t.msg="invalid code -- missing end-of-block",n.mode=Cn;break}if(n.lenbits=9,M={bits:n.lenbits},C=Xh(zE,n.lens,0,n.nlen,n.lencode,0,n.work,M),n.lenbits=M.bits,C){t.msg="invalid literal/lengths set",n.mode=Cn;break}if(n.distbits=6,n.distcode=n.distdyn,M={bits:n.distbits},C=Xh(qE,n.lens,n.nlen,n.ndist,n.distcode,0,n.work,M),n.distbits=M.bits,C){t.msg="invalid distances set",n.mode=Cn;break}if(n.mode=tp,e===ep)break e;case tp:n.mode=np;case np:if(a>=6&&l>=258){t.next_out=o,t.avail_out=l,t.next_in=s,t.avail_in=a,n.hold=u,n.bits=c,pz(t,g),o=t.next_out,i=t.output,l=t.avail_out,s=t.next_in,r=t.input,a=t.avail_in,u=n.hold,c=n.bits,n.mode===Bo&&(n.back=-1);break}for(n.back=0;A=n.lencode[u&(1<<n.lenbits)-1],v=A>>>24,_=A>>>16&255,T=A&65535,!(v<=c);){if(a===0)break e;a--,u+=r[s++]<<c,c+=8}if(_&&!(_&240)){for(R=v,z=_,K=T;A=n.lencode[K+((u&(1<<R+z)-1)>>R)],v=A>>>24,_=A>>>16&255,T=A&65535,!(R+v<=c);){if(a===0)break e;a--,u+=r[s++]<<c,c+=8}u>>>=R,c-=R,n.back+=R}if(u>>>=v,c-=v,n.back+=v,n.length=T,_===0){n.mode=R3;break}if(_&32){n.back=-1,n.mode=Bo;break}if(_&64){t.msg="invalid literal/length code",n.mode=Cn;break}n.extra=_&15,n.mode=k3;case k3:if(n.extra){for(E=n.extra;c<E;){if(a===0)break e;a--,u+=r[s++]<<c,c+=8}n.length+=u&(1<<n.extra)-1,u>>>=n.extra,c-=n.extra,n.back+=n.extra}n.was=n.length,n.mode=P3;case P3:for(;A=n.distcode[u&(1<<n.distbits)-1],v=A>>>24,_=A>>>16&255,T=A&65535,!(v<=c);){if(a===0)break e;a--,u+=r[s++]<<c,c+=8}if(!(_&240)){for(R=v,z=_,K=T;A=n.distcode[K+((u&(1<<R+z)-1)>>R)],v=A>>>24,_=A>>>16&255,T=A&65535,!(R+v<=c);){if(a===0)break e;a--,u+=r[s++]<<c,c+=8}u>>>=R,c-=R,n.back+=R}if(u>>>=v,c-=v,n.back+=v,_&64){t.msg="invalid distance code",n.mode=Cn;break}n.offset=T,n.extra=_&15,n.mode=I3;case I3:if(n.extra){for(E=n.extra;c<E;){if(a===0)break e;a--,u+=r[s++]<<c,c+=8}n.offset+=u&(1<<n.extra)-1,u>>>=n.extra,c-=n.extra,n.back+=n.extra}if(n.offset>n.dmax){t.msg="invalid distance too far back",n.mode=Cn;break}n.mode=L3;case L3:if(l===0)break e;if(p=g-l,n.offset>p){if(p=n.offset-p,p>n.whave&&n.sane){t.msg="invalid distance too far back",n.mode=Cn;break}p>n.wnext?(p-=n.wnext,b=n.wsize-p):b=n.wnext-p,p>n.length&&(p=n.length),x=n.window}else x=i,b=o-n.offset,p=n.length;p>l&&(p=l),l-=p,n.length-=p;do i[o++]=x[b++];while(--p);n.length===0&&(n.mode=np);break;case R3:if(l===0)break e;i[o++]=n.length,l--,n.mode=np;break;case V1:if(n.wrap){for(;c<32;){if(a===0)break e;a--,u|=r[s++]<<c,c+=8}if(g-=l,t.total_out+=g,n.total+=g,n.wrap&4&&g&&(t.adler=n.check=n.flags?uo(n.check,i,g,o-g):Y2(n.check,i,g,o-g)),g=l,n.wrap&4&&(n.flags?u:M3(u))!==n.check){t.msg="incorrect data check",n.mode=Cn;break}u=0,c=0}n.mode=j3;case j3:if(n.wrap&&n.flags){for(;c<32;){if(a===0)break e;a--,u+=r[s++]<<c,c+=8}if(n.wrap&4&&u!==(n.total&4294967295)){t.msg="incorrect length check",n.mode=Cn;break}u=0,c=0}n.mode=D3;case D3:C=_z;break e;case Cn:C=$E;break e;case WE:return HE;case GE:default:return _s}return t.next_out=o,t.avail_out=l,t.next_in=s,t.avail_in=a,n.hold=u,n.bits=c,(n.wsize||g!==t.avail_out&&n.mode<Cn&&(n.mode<V1||e!==d3))&&JE(t,t.output,t.next_out,g-t.avail_out),d-=t.avail_in,g-=t.avail_out,t.total_in+=d,t.total_out+=g,n.total+=g,n.wrap&4&&g&&(t.adler=n.check=n.flags?uo(n.check,i,g,t.next_out-g):Y2(n.check,i,g,t.next_out-g)),t.data_type=n.bits+(n.last?64:0)+(n.mode===Bo?128:0)+(n.mode===tp||n.mode===O1?256:0),(d===0&&g===0||e===d3)&&C===cu&&(C=Az),C},Rz=t=>{if(yu(t))return _s;let e=t.state;return e.window&&(e.window=null),t.state=null,cu},jz=(t,e)=>{if(yu(t))return _s;const n=t.state;return n.wrap&2?(n.head=e,e.done=!1,cu):_s},Dz=(t,e)=>{const n=e.length;let r,i,s;return yu(t)||(r=t.state,r.wrap!==0&&r.mode!==k0)?_s:r.mode===k0&&(i=1,i=Y2(i,e,n,0),i!==r.check)?$E:(s=JE(t,e,n,n),s?(r.mode=WE,HE):(r.havedict=1,cu))};var Mz=QE,Fz=YE,Oz=KE,Vz=Pz,Bz=XE,Uz=Lz,zz=Rz,qz=jz,$z=Dz,Hz="pako inflate (from Nodeca project)",qo={inflateReset:Mz,inflateReset2:Fz,inflateResetKeep:Oz,inflateInit:Vz,inflateInit2:Bz,inflate:Uz,inflateEnd:zz,inflateGetHeader:qz,inflateSetDictionary:$z,inflateInfo:Hz};function Wz(){this.text=0,this.time=0,this.xflags=0,this.os=0,this.extra=null,this.extra_len=0,this.name="",this.comment="",this.hcrc=0,this.done=!1}var Gz=Wz;const ZE=Object.prototype.toString,{Z_NO_FLUSH:Kz,Z_FINISH:Qz,Z_OK:Ff,Z_STREAM_END:z1,Z_NEED_DICT:q1,Z_STREAM_ERROR:Yz,Z_DATA_ERROR:O3,Z_MEM_ERROR:Xz}=VE;function ud(t){this.options=BE.assign({chunkSize:1024*64,windowBits:15,to:""},t||{});const e=this.options;e.raw&&e.windowBits>=0&&e.windowBits<16&&(e.windowBits=-e.windowBits,e.windowBits===0&&(e.windowBits=-15)),e.windowBits>=0&&e.windowBits<16&&!(t&&t.windowBits)&&(e.windowBits+=32),e.windowBits>15&&e.windowBits<48&&(e.windowBits&15||(e.windowBits|=15)),this.err=0,this.msg="",this.ended=!1,this.chunks=[],this.strm=new fz,this.strm.avail_out=0;let n=qo.inflateInit2(this.strm,e.windowBits);if(n!==Ff)throw new Error(X2[n]);if(this.header=new Gz,qo.inflateGetHeader(this.strm,this.header),e.dictionary&&(typeof e.dictionary=="string"?e.dictionary=J2.string2buf(e.dictionary):ZE.call(e.dictionary)==="[object ArrayBuffer]"&&(e.dictionary=new Uint8Array(e.dictionary)),e.raw&&(n=qo.inflateSetDictionary(this.strm,e.dictionary),n!==Ff)))throw new Error(X2[n])}ud.prototype.push=function(t,e){const n=this.strm,r=this.options.chunkSize,i=this.options.dictionary;let s,o,a;if(this.ended)return!1;for(e===~~e?o=e:o=e===!0?Qz:Kz,ZE.call(t)==="[object ArrayBuffer]"?n.input=new Uint8Array(t):n.input=t,n.next_in=0,n.avail_in=n.input.length;;){for(n.avail_out===0&&(n.output=new Uint8Array(r),n.next_out=0,n.avail_out=r),s=qo.inflate(n,o),s===q1&&i&&(s=qo.inflateSetDictionary(n,i),s===Ff?s=qo.inflate(n,o):s===O3&&(s=q1));n.avail_in>0&&s===z1&&n.state.wrap>0&&t[n.next_in]!==0;)qo.inflateReset(n),s=qo.inflate(n,o);switch(s){case Yz:case O3:case q1:case Xz:return this.onEnd(s),this.ended=!0,!1}if(a=n.avail_out,n.next_out&&(n.avail_out===0||s===z1))if(this.options.to==="string"){let l=J2.utf8border(n.output,n.next_out),u=n.next_out-l,c=J2.buf2string(n.output,l);n.next_out=u,n.avail_out=r-u,u&&n.output.set(n.output.subarray(l,l+u),0),this.onData(c)}else this.onData(n.output.length===n.next_out?n.output:n.output.subarray(0,n.next_out));if(!(s===Ff&&a===0)){if(s===z1)return s=qo.inflateEnd(this.strm),this.onEnd(s),this.ended=!0,!0;if(n.avail_in===0)break}}return!0};ud.prototype.onData=function(t){this.chunks.push(t)};ud.prototype.onEnd=function(t){t===Ff&&(this.options.to==="string"?this.result=this.chunks.join(""):this.result=BE.flattenChunks(this.chunks)),this.chunks=[],this.err=t,this.msg=this.strm.msg};function Jz(t,e){const n=new ud(e);if(n.push(t),n.err)throw n.msg||X2[n.err];return n.result}var Zz=ud,eq=Jz,tq={Inflate:Zz,inflate:eq};const{Inflate:nq,inflate:rq}=tq;var V3=nq,iq=rq;const eT=[];for(let t=0;t<256;t++){let e=t;for(let n=0;n<8;n++)e&1?e=3988292384^e>>>1:e=e>>>1;eT[t]=e}const B3=4294967295;function sq(t,e,n){let r=t;for(let i=0;i<n;i++)r=eT[(r^e[i])&255]^r>>>8;return r}function oq(t,e){return(sq(B3,t,e)^B3)>>>0}function U3(t,e,n){const r=t.readUint32(),i=oq(new Uint8Array(t.buffer,t.byteOffset+t.offset-e-4,e),e);if(i!==r)throw new Error(`CRC mismatch for chunk ${n}. Expected ${r}, found ${i}`)}function tT(t,e,n){for(let r=0;r<n;r++)e[r]=t[r]}function nT(t,e,n,r){let i=0;for(;i<r;i++)e[i]=t[i];for(;i<n;i++)e[i]=t[i]+e[i-r]&255}function rT(t,e,n,r){let i=0;if(n.length===0)for(;i<r;i++)e[i]=t[i];else for(;i<r;i++)e[i]=t[i]+n[i]&255}function iT(t,e,n,r,i){let s=0;if(n.length===0){for(;s<i;s++)e[s]=t[s];for(;s<r;s++)e[s]=t[s]+(e[s-i]>>1)&255}else{for(;s<i;s++)e[s]=t[s]+(n[s]>>1)&255;for(;s<r;s++)e[s]=t[s]+(e[s-i]+n[s]>>1)&255}}function sT(t,e,n,r,i){let s=0;if(n.length===0){for(;s<i;s++)e[s]=t[s];for(;s<r;s++)e[s]=t[s]+e[s-i]&255}else{for(;s<i;s++)e[s]=t[s]+n[s]&255;for(;s<r;s++)e[s]=t[s]+aq(e[s-i],n[s],n[s-i])&255}}function aq(t,e,n){const r=t+e-n,i=Math.abs(r-t),s=Math.abs(r-e),o=Math.abs(r-n);return i<=s&&i<=o?t:s<=o?e:n}function lq(t,e,n,r,i,s){switch(t){case 0:tT(e,n,i);break;case 1:nT(e,n,i,s);break;case 2:rT(e,n,r,i);break;case 3:iT(e,n,r,i,s);break;case 4:sT(e,n,r,i,s);break;default:throw new Error(`Unsupported filter: ${t}`)}}const uq=new Uint16Array([255]),cq=new Uint8Array(uq.buffer),hq=cq[0]===255;function fq(t){const{data:e,width:n,height:r,channels:i,depth:s}=t,o=[{x:0,y:0,xStep:8,yStep:8},{x:4,y:0,xStep:8,yStep:8},{x:0,y:4,xStep:4,yStep:8},{x:2,y:0,xStep:4,yStep:4},{x:0,y:2,xStep:2,yStep:4},{x:1,y:0,xStep:2,yStep:2},{x:0,y:1,xStep:1,yStep:2}],a=Math.ceil(s/8)*i,l=new Uint8Array(r*n*a);let u=0;for(let c=0;c<7;c++){const d=o[c],g=Math.ceil((n-d.x)/d.xStep),p=Math.ceil((r-d.y)/d.yStep);if(g<=0||p<=0)continue;const b=g*a,x=new Uint8Array(b);for(let A=0;A<p;A++){const v=e[u++],_=e.subarray(u,u+b);u+=b;const T=new Uint8Array(b);lq(v,_,T,x,b,a),x.set(T);for(let R=0;R<g;R++){const z=d.x+R*d.xStep,K=d.y+A*d.yStep;if(!(z>=n||K>=r))for(let k=0;k<a;k++)l[(K*n+z)*a+k]=T[R*a+k]}}}if(s===16){const c=new Uint16Array(l.buffer);if(hq)for(let d=0;d<c.length;d++)c[d]=dq(c[d]);return c}else return l}function dq(t){return(t&255)<<8|t>>8&255}const pq=new Uint16Array([255]),mq=new Uint8Array(pq.buffer),gq=mq[0]===255,yq=new Uint8Array(0);function z3(t){const{data:e,width:n,height:r,channels:i,depth:s}=t,o=Math.ceil(s/8)*i,a=Math.ceil(s/8*i*n),l=new Uint8Array(r*a);let u=yq,c=0,d,g;for(let p=0;p<r;p++){switch(d=e.subarray(c+1,c+1+a),g=l.subarray(p*a,(p+1)*a),e[c]){case 0:tT(d,g,a);break;case 1:nT(d,g,a,o);break;case 2:rT(d,g,u,a);break;case 3:iT(d,g,u,a,o);break;case 4:sT(d,g,u,a,o);break;default:throw new Error(`Unsupported filter: ${e[c]}`)}u=g,c+=a+1}if(s===16){const p=new Uint16Array(l.buffer);if(gq)for(let b=0;b<p.length;b++)p[b]=vq(p[b]);return p}else return l}function vq(t){return(t&255)<<8|t>>8&255}const kp=Uint8Array.of(137,80,78,71,13,10,26,10);function q3(t){if(!wq(t.readBytes(kp.length)))throw new Error("wrong PNG signature")}function wq(t){if(t.length<kp.length)return!1;for(let e=0;e<kp.length;e++)if(t[e]!==kp[e])return!1;return!0}const xq="tEXt",bq=0,oT=new TextDecoder("latin1");function _q(t){if(Aq(t),t.length===0||t.length>79)throw new Error("keyword length must be between 1 and 79")}const Sq=/^[\u0000-\u00FF]*$/;function Aq(t){if(!Sq.test(t))throw new Error("invalid latin1 text")}function Nq(t,e,n){const r=aT(e);t[r]=Eq(e,n-r.length-1)}function aT(t){for(t.mark();t.readByte()!==bq;);const e=t.offset;t.reset();const n=oT.decode(t.readBytes(e-t.offset-1));return t.skip(1),_q(n),n}function Eq(t,e){return oT.decode(t.readBytes(e))}const Qi={UNKNOWN:-1,GREYSCALE:0,TRUECOLOUR:2,INDEXED_COLOUR:3,GREYSCALE_ALPHA:4,TRUECOLOUR_ALPHA:6},$1={UNKNOWN:-1,DEFLATE:0},$3={UNKNOWN:-1,ADAPTIVE:0},H1={UNKNOWN:-1,NO_INTERLACE:0,ADAM7:1},rp={NONE:0,BACKGROUND:1,PREVIOUS:2},W1={SOURCE:0,OVER:1};class Tq extends T5{constructor(n,r={}){super(n);sn(this,"_checkCrc");sn(this,"_inflator");sn(this,"_png");sn(this,"_apng");sn(this,"_end");sn(this,"_hasPalette");sn(this,"_palette");sn(this,"_hasTransparency");sn(this,"_transparency");sn(this,"_compressionMethod");sn(this,"_filterMethod");sn(this,"_interlaceMethod");sn(this,"_colorType");sn(this,"_isAnimated");sn(this,"_numberOfFrames");sn(this,"_numberOfPlays");sn(this,"_frames");sn(this,"_writingDataChunks");const{checkCrc:i=!1}=r;this._checkCrc=i,this._inflator=new V3,this._png={width:-1,height:-1,channels:-1,data:new Uint8Array(0),depth:1,text:{}},this._apng={width:-1,height:-1,channels:-1,depth:1,numberOfFrames:1,numberOfPlays:0,text:{},frames:[]},this._end=!1,this._hasPalette=!1,this._palette=[],this._hasTransparency=!1,this._transparency=new Uint16Array(0),this._compressionMethod=$1.UNKNOWN,this._filterMethod=$3.UNKNOWN,this._interlaceMethod=H1.UNKNOWN,this._colorType=Qi.UNKNOWN,this._isAnimated=!1,this._numberOfFrames=1,this._numberOfPlays=0,this._frames=[],this._writingDataChunks=!1,this.setBigEndian()}decode(){for(q3(this);!this._end;){const n=this.readUint32(),r=this.readChars(4);this.decodeChunk(n,r)}return this.decodeImage(),this._png}decodeApng(){for(q3(this);!this._end;){const n=this.readUint32(),r=this.readChars(4);this.decodeApngChunk(n,r)}return this.decodeApngImage(),this._apng}decodeChunk(n,r){const i=this.offset;switch(r){case"IHDR":this.decodeIHDR();break;case"PLTE":this.decodePLTE(n);break;case"IDAT":this.decodeIDAT(n);break;case"IEND":this._end=!0;break;case"tRNS":this.decodetRNS(n);break;case"iCCP":this.decodeiCCP(n);break;case xq:Nq(this._png.text,this,n);break;case"pHYs":this.decodepHYs();break;default:this.skip(n);break}if(this.offset-i!==n)throw new Error(`Length mismatch while decoding chunk ${r}`);this._checkCrc?U3(this,n+4,r):this.skip(4)}decodeApngChunk(n,r){const i=this.offset;switch(r!=="fdAT"&&r!=="IDAT"&&this._writingDataChunks&&this.pushDataToFrame(),r){case"acTL":this.decodeACTL();break;case"fcTL":this.decodeFCTL();break;case"fdAT":this.decodeFDAT(n);break;default:this.decodeChunk(n,r),this.offset=i+n;break}if(this.offset-i!==n)throw new Error(`Length mismatch while decoding chunk ${r}`);this._checkCrc?U3(this,n+4,r):this.skip(4)}decodeIHDR(){const n=this._png;n.width=this.readUint32(),n.height=this.readUint32(),n.depth=Cq(this.readUint8());const r=this.readUint8();this._colorType=r;let i;switch(r){case Qi.GREYSCALE:i=1;break;case Qi.TRUECOLOUR:i=3;break;case Qi.INDEXED_COLOUR:i=1;break;case Qi.GREYSCALE_ALPHA:i=2;break;case Qi.TRUECOLOUR_ALPHA:i=4;break;case Qi.UNKNOWN:default:throw new Error(`Unknown color type: ${r}`)}if(this._png.channels=i,this._compressionMethod=this.readUint8(),this._compressionMethod!==$1.DEFLATE)throw new Error(`Unsupported compression method: ${this._compressionMethod}`);this._filterMethod=this.readUint8(),this._interlaceMethod=this.readUint8()}decodeACTL(){this._numberOfFrames=this.readUint32(),this._numberOfPlays=this.readUint32(),this._isAnimated=!0}decodeFCTL(){const n={sequenceNumber:this.readUint32(),width:this.readUint32(),height:this.readUint32(),xOffset:this.readUint32(),yOffset:this.readUint32(),delayNumber:this.readUint16(),delayDenominator:this.readUint16(),disposeOp:this.readUint8(),blendOp:this.readUint8(),data:new Uint8Array(0)};this._frames.push(n)}decodePLTE(n){if(n%3!==0)throw new RangeError(`PLTE field length must be a multiple of 3. Got ${n}`);const r=n/3;this._hasPalette=!0;const i=[];this._palette=i;for(let s=0;s<r;s++)i.push([this.readUint8(),this.readUint8(),this.readUint8()])}decodeIDAT(n){this._writingDataChunks=!0;const r=n,i=this.offset+this.byteOffset;if(this._inflator.push(new Uint8Array(this.buffer,i,r)),this._inflator.err)throw new Error(`Error while decompressing the data: ${this._inflator.err}`);this.skip(n)}decodeFDAT(n){this._writingDataChunks=!0;let r=n,i=this.offset+this.byteOffset;if(i+=4,r-=4,this._inflator.push(new Uint8Array(this.buffer,i,r)),this._inflator.err)throw new Error(`Error while decompressing the data: ${this._inflator.err}`);this.skip(n)}decodetRNS(n){switch(this._colorType){case Qi.GREYSCALE:case Qi.TRUECOLOUR:{if(n%2!==0)throw new RangeError(`tRNS chunk length must be a multiple of 2. Got ${n}`);if(n/2>this._png.width*this._png.height)throw new Error(`tRNS chunk contains more alpha values than there are pixels (${n/2} vs ${this._png.width*this._png.height})`);this._hasTransparency=!0,this._transparency=new Uint16Array(n/2);for(let r=0;r<n/2;r++)this._transparency[r]=this.readUint16();break}case Qi.INDEXED_COLOUR:{if(n>this._palette.length)throw new Error(`tRNS chunk contains more alpha values than there are palette colors (${n} vs ${this._palette.length})`);let r=0;for(;r<n;r++){const i=this.readByte();this._palette[r].push(i)}for(;r<this._palette.length;r++)this._palette[r].push(255);break}case Qi.UNKNOWN:case Qi.GREYSCALE_ALPHA:case Qi.TRUECOLOUR_ALPHA:default:throw new Error(`tRNS chunk is not supported for color type ${this._colorType}`)}}decodeiCCP(n){const r=aT(this),i=this.readUint8();if(i!==$1.DEFLATE)throw new Error(`Unsupported iCCP compression method: ${i}`);const s=this.readBytes(n-r.length-2);this._png.iccEmbeddedProfile={name:r,profile:iq(s)}}decodepHYs(){const n=this.readUint32(),r=this.readUint32(),i=this.readByte();this._png.resolution={x:n,y:r,unit:i}}decodeApngImage(){this._apng.width=this._png.width,this._apng.height=this._png.height,this._apng.channels=this._png.channels,this._apng.depth=this._png.depth,this._apng.numberOfFrames=this._numberOfFrames,this._apng.numberOfPlays=this._numberOfPlays,this._apng.text=this._png.text,this._apng.resolution=this._png.resolution;for(let n=0;n<this._numberOfFrames;n++){const r={sequenceNumber:this._frames[n].sequenceNumber,delayNumber:this._frames[n].delayNumber,delayDenominator:this._frames[n].delayDenominator,data:this._apng.depth===8?new Uint8Array(this._apng.width*this._apng.height*this._apng.channels):new Uint16Array(this._apng.width*this._apng.height*this._apng.channels)},i=this._frames.at(n);if(i){if(i.data=z3({data:i.data,width:i.width,height:i.height,channels:this._apng.channels,depth:this._apng.depth}),this._hasPalette&&(this._apng.palette=this._palette),this._hasTransparency&&(this._apng.transparency=this._transparency),n===0||i.xOffset===0&&i.yOffset===0&&i.width===this._png.width&&i.height===this._png.height)r.data=i.data;else{const s=this._apng.frames.at(n-1);this.disposeFrame(i,s,r),this.addFrameDataToCanvas(r,i)}this._apng.frames.push(r)}}return this._apng}disposeFrame(n,r,i){switch(n.disposeOp){case rp.NONE:break;case rp.BACKGROUND:for(let s=0;s<this._png.height;s++)for(let o=0;o<this._png.width;o++){const a=(s*n.width+o)*this._png.channels;for(let l=0;l<this._png.channels;l++)i.data[a+l]=0}break;case rp.PREVIOUS:i.data.set(r.data);break;default:throw new Error("Unknown disposeOp")}}addFrameDataToCanvas(n,r){const i=1<<this._png.depth,s=(o,a)=>{const l=((o+r.yOffset)*this._png.width+r.xOffset+a)*this._png.channels,u=(o*r.width+a)*this._png.channels;return{index:l,frameIndex:u}};switch(r.blendOp){case W1.SOURCE:for(let o=0;o<r.height;o++)for(let a=0;a<r.width;a++){const{index:l,frameIndex:u}=s(o,a);for(let c=0;c<this._png.channels;c++)n.data[l+c]=r.data[u+c]}break;case W1.OVER:for(let o=0;o<r.height;o++)for(let a=0;a<r.width;a++){const{index:l,frameIndex:u}=s(o,a);for(let c=0;c<this._png.channels;c++){const d=r.data[u+this._png.channels-1]/i,g=c%(this._png.channels-1)===0?1:r.data[u+c],p=Math.floor(d*g+(1-d)*n.data[l+c]);n.data[l+c]+=p}}break;default:throw new Error("Unknown blendOp")}}decodeImage(){var r;if(this._inflator.err)throw new Error(`Error while decompressing the data: ${this._inflator.err}`);const n=this._isAnimated?((r=this._frames)==null?void 0:r.at(0)).data:this._inflator.result;if(this._filterMethod!==$3.ADAPTIVE)throw new Error(`Filter method ${this._filterMethod} not supported`);if(this._interlaceMethod===H1.NO_INTERLACE)this._png.data=z3({data:n,width:this._png.width,height:this._png.height,channels:this._png.channels,depth:this._png.depth});else if(this._interlaceMethod===H1.ADAM7)this._png.data=fq({data:n,width:this._png.width,height:this._png.height,channels:this._png.channels,depth:this._png.depth});else throw new Error(`Interlace method ${this._interlaceMethod} not supported`);this._hasPalette&&(this._png.palette=this._palette),this._hasTransparency&&(this._png.transparency=this._transparency)}pushDataToFrame(){const n=this._inflator.result,r=this._frames.at(-1);r?r.data=n:this._frames.push({sequenceNumber:0,width:this._png.width,height:this._png.height,xOffset:0,yOffset:0,delayNumber:0,delayDenominator:0,disposeOp:rp.NONE,blendOp:W1.SOURCE,data:n}),this._inflator=new V3,this._writingDataChunks=!1}}function Cq(t){if(t!==1&&t!==2&&t!==4&&t!==8&&t!==16)throw new Error(`invalid bit depth: ${t}`);return t}var H3;(function(t){t[t.UNKNOWN=0]="UNKNOWN",t[t.METRE=1]="METRE"})(H3||(H3={}));function kq(t,e){return new Tq(t,e).decode()}var vt=function(){return typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:this}();function G1(){vt.console&&typeof vt.console.log=="function"&&vt.console.log.apply(vt.console,arguments)}var dn={log:G1,warn:function(t){vt.console&&(typeof vt.console.warn=="function"?vt.console.warn.apply(vt.console,arguments):G1.call(null,arguments))},error:function(t){vt.console&&(typeof vt.console.error=="function"?vt.console.error.apply(vt.console,arguments):G1(t))}};function K1(t,e,n){var r=new XMLHttpRequest;r.open("GET",t),r.responseType="blob",r.onload=function(){Vl(r.response,e,n)},r.onerror=function(){dn.error("could not download file")},r.send()}function W3(t){var e=new XMLHttpRequest;e.open("HEAD",t,!1);try{e.send()}catch{}return e.status>=200&&e.status<=299}function ip(t){try{t.dispatchEvent(new MouseEvent("click"))}catch{var e=document.createEvent("MouseEvents");e.initMouseEvent("click",!0,!0,window,0,0,0,80,20,!1,!1,!1,!1,0,null),t.dispatchEvent(e)}}var Vl=vt.saveAs||((typeof window>"u"?"undefined":an(window))!=="object"||window!==vt?function(){}:typeof HTMLAnchorElement<"u"&&"download"in HTMLAnchorElement.prototype?function(t,e,n){var r=vt.URL||vt.webkitURL,i=document.createElement("a");e=e||t.name||"download",i.download=e,i.rel="noopener",typeof t=="string"?(i.href=t,i.origin!==location.origin?W3(i.href)?K1(t,e,n):ip(i,i.target="_blank"):ip(i)):(i.href=r.createObjectURL(t),setTimeout(function(){r.revokeObjectURL(i.href)},4e4),setTimeout(function(){ip(i)},0))}:"msSaveOrOpenBlob"in navigator?function(t,e,n){if(e=e||t.name||"download",typeof t=="string")if(W3(t))K1(t,e,n);else{var r=document.createElement("a");r.href=t,r.target="_blank",setTimeout(function(){ip(r)})}else navigator.msSaveOrOpenBlob(function(i,s){return s===void 0?s={autoBom:!1}:an(s)!=="object"&&(dn.warn("Deprecated: Expected third argument to be a object"),s={autoBom:!s}),s.autoBom&&/^\s*(?:text\/\S*|application\/xml|\S*\/\S*\+xml)\s*;.*charset\s*=\s*utf-8/i.test(i.type)?new Blob(["\uFEFF",i],{type:i.type}):i}(t,n),e)}:function(t,e,n,r){if((r=r||open("","_blank"))&&(r.document.title=r.document.body.innerText="downloading..."),typeof t=="string")return K1(t,e,n);var i=t.type==="application/octet-stream",s=/constructor/i.test(vt.HTMLElement)||vt.safari,o=/CriOS\/[\d]+/.test(navigator.userAgent);if((o||i&&s)&&(typeof FileReader>"u"?"undefined":an(FileReader))==="object"){var a=new FileReader;a.onloadend=function(){var c=a.result;c=o?c:c.replace(/^data:[^;]*;/,"data:attachment/file;"),r?r.location.href=c:location=c,r=null},a.readAsDataURL(t)}else{var l=vt.URL||vt.webkitURL,u=l.createObjectURL(t);r?r.location=u:location.href=u,r=null,setTimeout(function(){l.revokeObjectURL(u)},4e4)}});/**
 * A class to parse color values
 * @author Stoyan Stefanov <sstoo@gmail.com>
 * {@link   http://www.phpied.com/rgb-color-parser-in-javascript/}
 * @license Use it if you like it
 */function lT(t){var e;t=t||"",this.ok=!1,t.charAt(0)=="#"&&(t=t.substr(1,6)),t={aliceblue:"f0f8ff",antiquewhite:"faebd7",aqua:"00ffff",aquamarine:"7fffd4",azure:"f0ffff",beige:"f5f5dc",bisque:"ffe4c4",black:"000000",blanchedalmond:"ffebcd",blue:"0000ff",blueviolet:"8a2be2",brown:"a52a2a",burlywood:"deb887",cadetblue:"5f9ea0",chartreuse:"7fff00",chocolate:"d2691e",coral:"ff7f50",cornflowerblue:"6495ed",cornsilk:"fff8dc",crimson:"dc143c",cyan:"00ffff",darkblue:"00008b",darkcyan:"008b8b",darkgoldenrod:"b8860b",darkgray:"a9a9a9",darkgreen:"006400",darkkhaki:"bdb76b",darkmagenta:"8b008b",darkolivegreen:"556b2f",darkorange:"ff8c00",darkorchid:"9932cc",darkred:"8b0000",darksalmon:"e9967a",darkseagreen:"8fbc8f",darkslateblue:"483d8b",darkslategray:"2f4f4f",darkturquoise:"00ced1",darkviolet:"9400d3",deeppink:"ff1493",deepskyblue:"00bfff",dimgray:"696969",dodgerblue:"1e90ff",feldspar:"d19275",firebrick:"b22222",floralwhite:"fffaf0",forestgreen:"228b22",fuchsia:"ff00ff",gainsboro:"dcdcdc",ghostwhite:"f8f8ff",gold:"ffd700",goldenrod:"daa520",gray:"808080",green:"008000",greenyellow:"adff2f",honeydew:"f0fff0",hotpink:"ff69b4",indianred:"cd5c5c",indigo:"4b0082",ivory:"fffff0",khaki:"f0e68c",lavender:"e6e6fa",lavenderblush:"fff0f5",lawngreen:"7cfc00",lemonchiffon:"fffacd",lightblue:"add8e6",lightcoral:"f08080",lightcyan:"e0ffff",lightgoldenrodyellow:"fafad2",lightgrey:"d3d3d3",lightgreen:"90ee90",lightpink:"ffb6c1",lightsalmon:"ffa07a",lightseagreen:"20b2aa",lightskyblue:"87cefa",lightslateblue:"8470ff",lightslategray:"778899",lightsteelblue:"b0c4de",lightyellow:"ffffe0",lime:"00ff00",limegreen:"32cd32",linen:"faf0e6",magenta:"ff00ff",maroon:"800000",mediumaquamarine:"66cdaa",mediumblue:"0000cd",mediumorchid:"ba55d3",mediumpurple:"9370d8",mediumseagreen:"3cb371",mediumslateblue:"7b68ee",mediumspringgreen:"00fa9a",mediumturquoise:"48d1cc",mediumvioletred:"c71585",midnightblue:"191970",mintcream:"f5fffa",mistyrose:"ffe4e1",moccasin:"ffe4b5",navajowhite:"ffdead",navy:"000080",oldlace:"fdf5e6",olive:"808000",olivedrab:"6b8e23",orange:"ffa500",orangered:"ff4500",orchid:"da70d6",palegoldenrod:"eee8aa",palegreen:"98fb98",paleturquoise:"afeeee",palevioletred:"d87093",papayawhip:"ffefd5",peachpuff:"ffdab9",peru:"cd853f",pink:"ffc0cb",plum:"dda0dd",powderblue:"b0e0e6",purple:"800080",red:"ff0000",rosybrown:"bc8f8f",royalblue:"4169e1",saddlebrown:"8b4513",salmon:"fa8072",sandybrown:"f4a460",seagreen:"2e8b57",seashell:"fff5ee",sienna:"a0522d",silver:"c0c0c0",skyblue:"87ceeb",slateblue:"6a5acd",slategray:"708090",snow:"fffafa",springgreen:"00ff7f",steelblue:"4682b4",tan:"d2b48c",teal:"008080",thistle:"d8bfd8",tomato:"ff6347",turquoise:"40e0d0",violet:"ee82ee",violetred:"d02090",wheat:"f5deb3",white:"ffffff",whitesmoke:"f5f5f5",yellow:"ffff00",yellowgreen:"9acd32"}[t=(t=t.replace(/ /g,"")).toLowerCase()]||t;for(var n=[{re:/^rgb\((\d{1,3}),\s*(\d{1,3}),\s*(\d{1,3})\)$/,example:["rgb(123, 234, 45)","rgb(255,234,245)"],process:function(a){return[parseInt(a[1]),parseInt(a[2]),parseInt(a[3])]}},{re:/^(\w{2})(\w{2})(\w{2})$/,example:["#00ff00","336699"],process:function(a){return[parseInt(a[1],16),parseInt(a[2],16),parseInt(a[3],16)]}},{re:/^(\w{1})(\w{1})(\w{1})$/,example:["#fb0","f0f"],process:function(a){return[parseInt(a[1]+a[1],16),parseInt(a[2]+a[2],16),parseInt(a[3]+a[3],16)]}}],r=0;r<n.length;r++){var i=n[r].re,s=n[r].process,o=i.exec(t);o&&(e=s(o),this.r=e[0],this.g=e[1],this.b=e[2],this.ok=!0)}this.r=this.r<0||isNaN(this.r)?0:this.r>255?255:this.r,this.g=this.g<0||isNaN(this.g)?0:this.g>255?255:this.g,this.b=this.b<0||isNaN(this.b)?0:this.b>255?255:this.b,this.toRGB=function(){return"rgb("+this.r+", "+this.g+", "+this.b+")"},this.toHex=function(){var a=this.r.toString(16),l=this.g.toString(16),u=this.b.toString(16);return a.length==1&&(a="0"+a),l.length==1&&(l="0"+l),u.length==1&&(u="0"+u),"#"+a+l+u}}var Pp=vt.atob.bind(vt),G3=vt.btoa.bind(vt);/**
 * @license
 * Joseph Myers does not specify a particular license for his work.
 *
 * Author: Joseph Myers
 * Accessed from: http://www.myersdaily.org/joseph/javascript/md5.js
 *
 * Modified by: Owen Leong
 */function Q1(t,e){var n=t[0],r=t[1],i=t[2],s=t[3];n=Qr(n,r,i,s,e[0],7,-680876936),s=Qr(s,n,r,i,e[1],12,-389564586),i=Qr(i,s,n,r,e[2],17,606105819),r=Qr(r,i,s,n,e[3],22,-1044525330),n=Qr(n,r,i,s,e[4],7,-176418897),s=Qr(s,n,r,i,e[5],12,1200080426),i=Qr(i,s,n,r,e[6],17,-1473231341),r=Qr(r,i,s,n,e[7],22,-45705983),n=Qr(n,r,i,s,e[8],7,1770035416),s=Qr(s,n,r,i,e[9],12,-1958414417),i=Qr(i,s,n,r,e[10],17,-42063),r=Qr(r,i,s,n,e[11],22,-1990404162),n=Qr(n,r,i,s,e[12],7,1804603682),s=Qr(s,n,r,i,e[13],12,-40341101),i=Qr(i,s,n,r,e[14],17,-1502002290),n=Yr(n,r=Qr(r,i,s,n,e[15],22,1236535329),i,s,e[1],5,-165796510),s=Yr(s,n,r,i,e[6],9,-1069501632),i=Yr(i,s,n,r,e[11],14,643717713),r=Yr(r,i,s,n,e[0],20,-373897302),n=Yr(n,r,i,s,e[5],5,-701558691),s=Yr(s,n,r,i,e[10],9,38016083),i=Yr(i,s,n,r,e[15],14,-660478335),r=Yr(r,i,s,n,e[4],20,-405537848),n=Yr(n,r,i,s,e[9],5,568446438),s=Yr(s,n,r,i,e[14],9,-1019803690),i=Yr(i,s,n,r,e[3],14,-187363961),r=Yr(r,i,s,n,e[8],20,1163531501),n=Yr(n,r,i,s,e[13],5,-1444681467),s=Yr(s,n,r,i,e[2],9,-51403784),i=Yr(i,s,n,r,e[7],14,1735328473),n=Xr(n,r=Yr(r,i,s,n,e[12],20,-1926607734),i,s,e[5],4,-378558),s=Xr(s,n,r,i,e[8],11,-2022574463),i=Xr(i,s,n,r,e[11],16,1839030562),r=Xr(r,i,s,n,e[14],23,-35309556),n=Xr(n,r,i,s,e[1],4,-1530992060),s=Xr(s,n,r,i,e[4],11,1272893353),i=Xr(i,s,n,r,e[7],16,-155497632),r=Xr(r,i,s,n,e[10],23,-1094730640),n=Xr(n,r,i,s,e[13],4,681279174),s=Xr(s,n,r,i,e[0],11,-358537222),i=Xr(i,s,n,r,e[3],16,-722521979),r=Xr(r,i,s,n,e[6],23,76029189),n=Xr(n,r,i,s,e[9],4,-640364487),s=Xr(s,n,r,i,e[12],11,-421815835),i=Xr(i,s,n,r,e[15],16,530742520),n=Jr(n,r=Xr(r,i,s,n,e[2],23,-995338651),i,s,e[0],6,-198630844),s=Jr(s,n,r,i,e[7],10,1126891415),i=Jr(i,s,n,r,e[14],15,-1416354905),r=Jr(r,i,s,n,e[5],21,-57434055),n=Jr(n,r,i,s,e[12],6,1700485571),s=Jr(s,n,r,i,e[3],10,-1894986606),i=Jr(i,s,n,r,e[10],15,-1051523),r=Jr(r,i,s,n,e[1],21,-2054922799),n=Jr(n,r,i,s,e[8],6,1873313359),s=Jr(s,n,r,i,e[15],10,-30611744),i=Jr(i,s,n,r,e[6],15,-1560198380),r=Jr(r,i,s,n,e[13],21,1309151649),n=Jr(n,r,i,s,e[4],6,-145523070),s=Jr(s,n,r,i,e[11],10,-1120210379),i=Jr(i,s,n,r,e[2],15,718787259),r=Jr(r,i,s,n,e[9],21,-343485551),t[0]=Ua(n,t[0]),t[1]=Ua(r,t[1]),t[2]=Ua(i,t[2]),t[3]=Ua(s,t[3])}function vm(t,e,n,r,i,s){return e=Ua(Ua(e,t),Ua(r,s)),Ua(e<<i|e>>>32-i,n)}function Qr(t,e,n,r,i,s,o){return vm(e&n|~e&r,t,e,i,s,o)}function Yr(t,e,n,r,i,s,o){return vm(e&r|n&~r,t,e,i,s,o)}function Xr(t,e,n,r,i,s,o){return vm(e^n^r,t,e,i,s,o)}function Jr(t,e,n,r,i,s,o){return vm(n^(e|~r),t,e,i,s,o)}function uT(t){var e,n=t.length,r=[1732584193,-271733879,-1732584194,271733878];for(e=64;e<=t.length;e+=64)Q1(r,Pq(t.substring(e-64,e)));t=t.substring(e-64);var i=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0];for(e=0;e<t.length;e++)i[e>>2]|=t.charCodeAt(e)<<(e%4<<3);if(i[e>>2]|=128<<(e%4<<3),e>55)for(Q1(r,i),e=0;e<16;e++)i[e]=0;return i[14]=8*n,Q1(r,i),r}function Pq(t){var e,n=[];for(e=0;e<64;e+=4)n[e>>2]=t.charCodeAt(e)+(t.charCodeAt(e+1)<<8)+(t.charCodeAt(e+2)<<16)+(t.charCodeAt(e+3)<<24);return n}var K3="0123456789abcdef".split("");function Iq(t){for(var e="",n=0;n<4;n++)e+=K3[t>>8*n+4&15]+K3[t>>8*n&15];return e}function Lq(t){return String.fromCharCode(255&t,(65280&t)>>8,(16711680&t)>>16,(4278190080&t)>>24)}function Z2(t){return uT(t).map(Lq).join("")}var Rq=function(t){for(var e=0;e<t.length;e++)t[e]=Iq(t[e]);return t.join("")}(uT("hello"))!="5d41402abc4b2a76b9719d911017c592";function Ua(t,e){if(Rq){var n=(65535&t)+(65535&e);return(t>>16)+(e>>16)+(n>>16)<<16|65535&n}return t+e&4294967295}/**
 * @license
 * FPDF is released under a permissive license: there is no usage restriction.
 * You may embed it freely in your application (commercial or not), with or
 * without modifications.
 *
 * Reference: http://www.fpdf.org/en/script/script37.php
 */function ey(t,e){var n,r,i,s;if(t!==n){for(var o=(i=t,s=1+(256/t.length|0),new Array(s+1).join(i)),a=[],l=0;l<256;l++)a[l]=l;var u=0;for(l=0;l<256;l++){var c=a[l];u=(u+c+o.charCodeAt(l))%256,a[l]=a[u],a[u]=c}n=t,r=a}else a=r;var d=e.length,g=0,p=0,b="";for(l=0;l<d;l++)p=(p+(c=a[g=(g+1)%256]))%256,a[g]=a[p],a[p]=c,o=a[(a[g]+a[p])%256],b+=String.fromCharCode(e.charCodeAt(l)^o);return b}/**
 * @license
 * Licensed under the MIT License.
 * http://opensource.org/licenses/mit-license
 * Author: Owen Leong (@owenl131)
 * Date: 15 Oct 2020
 * References:
 * https://www.cs.cmu.edu/~dst/Adobe/Gallery/anon21jul01-pdf-encryption.txt
 * https://github.com/foliojs/pdfkit/blob/master/lib/security.js
 * http://www.fpdf.org/en/script/script37.php
 */var Q3={print:4,modify:8,copy:16,"annot-forms":32};function Lu(t,e,n,r){this.v=1,this.r=2;var i=192;t.forEach(function(a){if(Q3.perm!==void 0)throw new Error("Invalid permission: "+a);i+=Q3[a]}),this.padding="(N^NuAd\0NV\b..\0h>/\fdSiz";var s=(e+this.padding).substr(0,32),o=(n+this.padding).substr(0,32);this.O=this.processOwnerPassword(s,o),this.P=-(1+(255^i)),this.encryptionKey=Z2(s+this.O+this.lsbFirstWord(this.P)+this.hexToBytes(r)).substr(0,5),this.U=ey(this.encryptionKey,this.padding)}function Ru(t){if(/[^\u0000-\u00ff]/.test(t))throw new Error("Invalid PDF Name Object: "+t+", Only accept ASCII characters.");for(var e="",n=t.length,r=0;r<n;r++){var i=t.charCodeAt(r);e+=i<33||i===35||i===37||i===40||i===41||i===47||i===60||i===62||i===91||i===93||i===123||i===125||i>126?"#"+("0"+i.toString(16)).slice(-2):t[r]}return e}function Y3(t){if(an(t)!=="object")throw new Error("Invalid Context passed to initialize PubSub (jsPDF-module)");var e={};this.subscribe=function(n,r,i){if(i=i||!1,typeof n!="string"||typeof r!="function"||typeof i!="boolean")throw new Error("Invalid arguments passed to PubSub.subscribe (jsPDF-module)");e.hasOwnProperty(n)||(e[n]={});var s=Math.random().toString(35);return e[n][s]=[r,!!i],s},this.unsubscribe=function(n){for(var r in e)if(e[r][n])return delete e[r][n],Object.keys(e[r]).length===0&&delete e[r],!0;return!1},this.publish=function(n){if(e.hasOwnProperty(n)){var r=Array.prototype.slice.call(arguments,1),i=[];for(var s in e[n]){var o=e[n][s];try{o[0].apply(t,r)}catch(a){vt.console&&dn.error("jsPDF PubSub Error",a.message,a)}o[1]&&i.push(s)}i.length&&i.forEach(this.unsubscribe)}},this.getTopics=function(){return e}}function P0(t){if(!(this instanceof P0))return new P0(t);var e="opacity,stroke-opacity".split(",");for(var n in t)t.hasOwnProperty(n)&&e.indexOf(n)>=0&&(this[n]=t[n]);this.id="",this.objectNumber=-1}function cT(t,e){this.gState=t,this.matrix=e,this.id="",this.objectNumber=-1}function Bl(t,e,n,r,i){if(!(this instanceof Bl))return new Bl(t,e,n,r,i);this.type=t==="axial"?2:3,this.coords=e,this.colors=n,cT.call(this,r,i)}function Ju(t,e,n,r,i){if(!(this instanceof Ju))return new Ju(t,e,n,r,i);this.boundingBox=t,this.xStep=e,this.yStep=n,this.stream="",this.cloneIndex=0,cT.call(this,r,i)}function it(t){var e,n=typeof arguments[0]=="string"?arguments[0]:"p",r=arguments[1],i=arguments[2],s=arguments[3],o=[],a=1,l=16,u="S",c=null;an(t=t||{})==="object"&&(n=t.orientation,r=t.unit||r,i=t.format||i,s=t.compress||t.compressPdf||s,(c=t.encryption||null)!==null&&(c.userPassword=c.userPassword||"",c.ownerPassword=c.ownerPassword||"",c.userPermissions=c.userPermissions||[]),a=typeof t.userUnit=="number"?Math.abs(t.userUnit):1,t.precision!==void 0&&(e=t.precision),t.floatPrecision!==void 0&&(l=t.floatPrecision),u=t.defaultPathOperation||"S"),o=t.filters||(s===!0?["FlateEncode"]:o),r=r||"mm",n=(""+(n||"P")).toLowerCase();var d=t.putOnlyUsedFonts||!1,g={},p={internal:{},__private__:{}};p.__private__.PubSub=Y3;var b="1.3",x=p.__private__.getPdfVersion=function(){return b};p.__private__.setPdfVersion=function(w){b=w};var A={a0:[2383.94,3370.39],a1:[1683.78,2383.94],a2:[1190.55,1683.78],a3:[841.89,1190.55],a4:[595.28,841.89],a5:[419.53,595.28],a6:[297.64,419.53],a7:[209.76,297.64],a8:[147.4,209.76],a9:[104.88,147.4],a10:[73.7,104.88],b0:[2834.65,4008.19],b1:[2004.09,2834.65],b2:[1417.32,2004.09],b3:[1000.63,1417.32],b4:[708.66,1000.63],b5:[498.9,708.66],b6:[354.33,498.9],b7:[249.45,354.33],b8:[175.75,249.45],b9:[124.72,175.75],b10:[87.87,124.72],c0:[2599.37,3676.54],c1:[1836.85,2599.37],c2:[1298.27,1836.85],c3:[918.43,1298.27],c4:[649.13,918.43],c5:[459.21,649.13],c6:[323.15,459.21],c7:[229.61,323.15],c8:[161.57,229.61],c9:[113.39,161.57],c10:[79.37,113.39],dl:[311.81,623.62],letter:[612,792],"government-letter":[576,756],legal:[612,1008],"junior-legal":[576,360],ledger:[1224,792],tabloid:[792,1224],"credit-card":[153,243]};p.__private__.getPageFormats=function(){return A};var v=p.__private__.getPageFormat=function(w){return A[w]};i=i||"a4";var _="compat",T="advanced",R=_;function z(){this.saveGraphicsState(),Y(new lt(ht,0,0,-ht,0,ls()*ht).toString()+" cm"),this.setFontSize(this.getFontSize()/ht),u="n",R=T}function K(){this.restoreGraphicsState(),u="S",R=_}var k=p.__private__.combineFontStyleAndFontWeight=function(w,F){if(w=="bold"&&F=="normal"||w=="bold"&&F==400||w=="normal"&&F=="italic"||w=="bold"&&F=="italic")throw new Error("Invalid Combination of fontweight and fontstyle");return F&&(w=F==400||F==="normal"?w==="italic"?"italic":"normal":F!=700&&F!=="bold"||w!=="normal"?(F==700?"bold":F)+""+w:"bold"),w};p.advancedAPI=function(w){var F=R===_;return F&&z.call(this),typeof w!="function"||(w(this),F&&K.call(this)),this},p.compatAPI=function(w){var F=R===T;return F&&K.call(this),typeof w!="function"||(w(this),F&&z.call(this)),this},p.isAdvancedAPI=function(){return R===T};var C,P=function(w){if(R!==T)throw new Error(w+" is only available in 'advanced' API mode. You need to call advancedAPI() first.")},M=p.roundToPrecision=p.__private__.roundToPrecision=function(w,F){var X=e||F;if(isNaN(w)||isNaN(X))throw new Error("Invalid argument passed to jsPDF.roundToPrecision");return w.toFixed(X).replace(/0+$/,"")};C=p.hpf=p.__private__.hpf=typeof l=="number"?function(w){if(isNaN(w))throw new Error("Invalid argument passed to jsPDF.hpf");return M(w,l)}:l==="smart"?function(w){if(isNaN(w))throw new Error("Invalid argument passed to jsPDF.hpf");return M(w,w>-1&&w<1?16:5)}:function(w){if(isNaN(w))throw new Error("Invalid argument passed to jsPDF.hpf");return M(w,16)};var E=p.f2=p.__private__.f2=function(w){if(isNaN(w))throw new Error("Invalid argument passed to jsPDF.f2");return M(w,2)},L=p.__private__.f3=function(w){if(isNaN(w))throw new Error("Invalid argument passed to jsPDF.f3");return M(w,3)},j=p.scale=p.__private__.scale=function(w){if(isNaN(w))throw new Error("Invalid argument passed to jsPDF.scale");return R===_?w*ht:R===T?w:void 0},H=function(w){return j(function(F){return R===_?ls()-F:R===T?F:void 0}(w))};p.__private__.setPrecision=p.setPrecision=function(w){typeof parseInt(w,10)=="number"&&(e=parseInt(w,10))};var ne,ce="00000000000000000000000000000000",ae=p.__private__.getFileId=function(){return ce},ee=p.__private__.setFileId=function(w){return ce=w!==void 0&&/^[a-fA-F0-9]{32}$/.test(w)?w.toUpperCase():ce.split("").map(function(){return"ABCDEF0123456789".charAt(Math.floor(16*Math.random()))}).join(""),c!==null&&(en=new Lu(c.userPermissions,c.userPassword,c.ownerPassword,ce)),ce};p.setFileId=function(w){return ee(w),this},p.getFileId=function(){return ae()};var oe=p.__private__.convertDateToPDFDate=function(w){var F=w.getTimezoneOffset(),X=F<0?"+":"-",re=Math.floor(Math.abs(F/60)),he=Math.abs(F%60),Ne=[X,te(re),"'",te(he),"'"].join("");return["D:",w.getFullYear(),te(w.getMonth()+1),te(w.getDate()),te(w.getHours()),te(w.getMinutes()),te(w.getSeconds()),Ne].join("")},ge=p.__private__.convertPDFDateToDate=function(w){var F=parseInt(w.substr(2,4),10),X=parseInt(w.substr(6,2),10)-1,re=parseInt(w.substr(8,2),10),he=parseInt(w.substr(10,2),10),Ne=parseInt(w.substr(12,2),10),Le=parseInt(w.substr(14,2),10);return new Date(F,X,re,he,Ne,Le,0)},xe=p.__private__.setCreationDate=function(w){var F;if(w===void 0&&(w=new Date),w instanceof Date)F=oe(w);else{if(!/^D:(20[0-2][0-9]|203[0-7]|19[7-9][0-9])(0[0-9]|1[0-2])([0-2][0-9]|3[0-1])(0[0-9]|1[0-9]|2[0-3])(0[0-9]|[1-5][0-9])(0[0-9]|[1-5][0-9])(\+0[0-9]|\+1[0-4]|-0[0-9]|-1[0-1])'(0[0-9]|[1-5][0-9])'?$/.test(w))throw new Error("Invalid argument passed to jsPDF.setCreationDate");F=w}return ne=F},V=p.__private__.getCreationDate=function(w){var F=ne;return w==="jsDate"&&(F=ge(ne)),F};p.setCreationDate=function(w){return xe(w),this},p.getCreationDate=function(w){return V(w)};var Q,te=p.__private__.padd2=function(w){return("0"+parseInt(w)).slice(-2)},ie=p.__private__.padd2Hex=function(w){return("00"+(w=w.toString())).substr(w.length)},le=0,pe=[],be=[],_e=0,Te=[],je=[],Se=!1,ke=be;p.__private__.setCustomOutputDestination=function(w){Se=!0,ke=w};var me=function(w){Se||(ke=w)};p.__private__.resetCustomOutputDestination=function(){Se=!1,ke=be};var Y=p.__private__.out=function(w){return w=w.toString(),_e+=w.length+1,ke.push(w),ke},Ke=p.__private__.write=function(w){return Y(arguments.length===1?w.toString():Array.prototype.join.call(arguments," "))},ot=p.__private__.getArrayBuffer=function(w){for(var F=w.length,X=new ArrayBuffer(F),re=new Uint8Array(X);F--;)re[F]=w.charCodeAt(F);return X},Ue=[["Helvetica","helvetica","normal","WinAnsiEncoding"],["Helvetica-Bold","helvetica","bold","WinAnsiEncoding"],["Helvetica-Oblique","helvetica","italic","WinAnsiEncoding"],["Helvetica-BoldOblique","helvetica","bolditalic","WinAnsiEncoding"],["Courier","courier","normal","WinAnsiEncoding"],["Courier-Bold","courier","bold","WinAnsiEncoding"],["Courier-Oblique","courier","italic","WinAnsiEncoding"],["Courier-BoldOblique","courier","bolditalic","WinAnsiEncoding"],["Times-Roman","times","normal","WinAnsiEncoding"],["Times-Bold","times","bold","WinAnsiEncoding"],["Times-Italic","times","italic","WinAnsiEncoding"],["Times-BoldItalic","times","bolditalic","WinAnsiEncoding"],["ZapfDingbats","zapfdingbats","normal",null],["Symbol","symbol","normal",null]];p.__private__.getStandardFonts=function(){return Ue};var Ie=t.fontSize||16;p.__private__.setFontSize=p.setFontSize=function(w){return Ie=R===T?w/ht:w,this};var ze,Be=p.__private__.getFontSize=p.getFontSize=function(){return R===_?Ie:Ie*ht},_t=t.R2L||!1;p.__private__.setR2L=p.setR2L=function(w){return _t=w,this},p.__private__.getR2L=p.getR2L=function(){return _t};var tt,Ot=p.__private__.setZoomMode=function(w){if(/^(?:\d+\.\d*|\d*\.\d+|\d+)%$/.test(w))ze=w;else if(isNaN(w)){if([void 0,null,"fullwidth","fullheight","fullpage","original"].indexOf(w)===-1)throw new Error('zoom must be Integer (e.g. 2), a percentage Value (e.g. 300%) or fullwidth, fullheight, fullpage, original. "'+w+'" is not recognized.');ze=w}else ze=parseInt(w,10)};p.__private__.getZoomMode=function(){return ze};var wt,et=p.__private__.setPageMode=function(w){if([void 0,null,"UseNone","UseOutlines","UseThumbs","FullScreen"].indexOf(w)==-1)throw new Error('Page mode must be one of UseNone, UseOutlines, UseThumbs, or FullScreen. "'+w+'" is not recognized.');tt=w};p.__private__.getPageMode=function(){return tt};var St=p.__private__.setLayoutMode=function(w){if([void 0,null,"continuous","single","twoleft","tworight","two"].indexOf(w)==-1)throw new Error('Layout mode must be one of continuous, single, twoleft, tworight. "'+w+'" is not recognized.');wt=w};p.__private__.getLayoutMode=function(){return wt},p.__private__.setDisplayMode=p.setDisplayMode=function(w,F,X){return Ot(w),St(F),et(X),this};var mt={title:"",subject:"",author:"",keywords:"",creator:""};p.__private__.getDocumentProperty=function(w){if(Object.keys(mt).indexOf(w)===-1)throw new Error("Invalid argument passed to jsPDF.getDocumentProperty");return mt[w]},p.__private__.getDocumentProperties=function(){return mt},p.__private__.setDocumentProperties=p.setProperties=p.setDocumentProperties=function(w){for(var F in mt)mt.hasOwnProperty(F)&&w[F]&&(mt[F]=w[F]);return this},p.__private__.setDocumentProperty=function(w,F){if(Object.keys(mt).indexOf(w)===-1)throw new Error("Invalid arguments passed to jsPDF.setDocumentProperty");return mt[w]=F};var nt,ht,st,Kt,Ut,Xe={},gt={},Zt=[],ut={},Pt={},xt={},Nn={},vn=null,Yt=0,ft=[],Lt=new Y3(p),Ws=t.hotfixes||[],Yn={},is={},Ur=[],lt=function w(F,X,re,he,Ne,Le){if(!(this instanceof w))return new w(F,X,re,he,Ne,Le);isNaN(F)&&(F=1),isNaN(X)&&(X=0),isNaN(re)&&(re=0),isNaN(he)&&(he=1),isNaN(Ne)&&(Ne=0),isNaN(Le)&&(Le=0),this._matrix=[F,X,re,he,Ne,Le]};Object.defineProperty(lt.prototype,"sx",{get:function(){return this._matrix[0]},set:function(w){this._matrix[0]=w}}),Object.defineProperty(lt.prototype,"shy",{get:function(){return this._matrix[1]},set:function(w){this._matrix[1]=w}}),Object.defineProperty(lt.prototype,"shx",{get:function(){return this._matrix[2]},set:function(w){this._matrix[2]=w}}),Object.defineProperty(lt.prototype,"sy",{get:function(){return this._matrix[3]},set:function(w){this._matrix[3]=w}}),Object.defineProperty(lt.prototype,"tx",{get:function(){return this._matrix[4]},set:function(w){this._matrix[4]=w}}),Object.defineProperty(lt.prototype,"ty",{get:function(){return this._matrix[5]},set:function(w){this._matrix[5]=w}}),Object.defineProperty(lt.prototype,"a",{get:function(){return this._matrix[0]},set:function(w){this._matrix[0]=w}}),Object.defineProperty(lt.prototype,"b",{get:function(){return this._matrix[1]},set:function(w){this._matrix[1]=w}}),Object.defineProperty(lt.prototype,"c",{get:function(){return this._matrix[2]},set:function(w){this._matrix[2]=w}}),Object.defineProperty(lt.prototype,"d",{get:function(){return this._matrix[3]},set:function(w){this._matrix[3]=w}}),Object.defineProperty(lt.prototype,"e",{get:function(){return this._matrix[4]},set:function(w){this._matrix[4]=w}}),Object.defineProperty(lt.prototype,"f",{get:function(){return this._matrix[5]},set:function(w){this._matrix[5]=w}}),Object.defineProperty(lt.prototype,"rotation",{get:function(){return Math.atan2(this.shx,this.sx)}}),Object.defineProperty(lt.prototype,"scaleX",{get:function(){return this.decompose().scale.sx}}),Object.defineProperty(lt.prototype,"scaleY",{get:function(){return this.decompose().scale.sy}}),Object.defineProperty(lt.prototype,"isIdentity",{get:function(){return this.sx===1&&this.shy===0&&this.shx===0&&this.sy===1&&this.tx===0&&this.ty===0}}),lt.prototype.join=function(w){return[this.sx,this.shy,this.shx,this.sy,this.tx,this.ty].map(C).join(w)},lt.prototype.multiply=function(w){var F=w.sx*this.sx+w.shy*this.shx,X=w.sx*this.shy+w.shy*this.sy,re=w.shx*this.sx+w.sy*this.shx,he=w.shx*this.shy+w.sy*this.sy,Ne=w.tx*this.sx+w.ty*this.shx+this.tx,Le=w.tx*this.shy+w.ty*this.sy+this.ty;return new lt(F,X,re,he,Ne,Le)},lt.prototype.decompose=function(){var w=this.sx,F=this.shy,X=this.shx,re=this.sy,he=this.tx,Ne=this.ty,Le=Math.sqrt(w*w+F*F),$e=(w/=Le)*X+(F/=Le)*re;X-=w*$e,re-=F*$e;var Qe=Math.sqrt(X*X+re*re);return $e/=Qe,w*(re/=Qe)<F*(X/=Qe)&&(w=-w,F=-F,$e=-$e,Le=-Le),{scale:new lt(Le,0,0,Qe,0,0),translate:new lt(1,0,0,1,he,Ne),rotate:new lt(w,F,-F,w,0,0),skew:new lt(1,0,$e,1,0,0)}},lt.prototype.toString=function(w){return this.join(" ")},lt.prototype.inversed=function(){var w=this.sx,F=this.shy,X=this.shx,re=this.sy,he=this.tx,Ne=this.ty,Le=1/(w*re-F*X),$e=re*Le,Qe=-F*Le,ct=-X*Le,yt=w*Le;return new lt($e,Qe,ct,yt,-$e*he-ct*Ne,-Qe*he-yt*Ne)},lt.prototype.applyToPoint=function(w){var F=w.x*this.sx+w.y*this.shx+this.tx,X=w.x*this.shy+w.y*this.sy+this.ty;return new no(F,X)},lt.prototype.applyToRectangle=function(w){var F=this.applyToPoint(w),X=this.applyToPoint(new no(w.x+w.w,w.y+w.h));return new pa(F.x,F.y,X.x-F.x,X.y-F.y)},lt.prototype.clone=function(){var w=this.sx,F=this.shy,X=this.shx,re=this.sy,he=this.tx,Ne=this.ty;return new lt(w,F,X,re,he,Ne)},p.Matrix=lt;var wn=p.matrixMult=function(w,F){return F.multiply(w)},ss=new lt(1,0,0,1,0,0);p.unitMatrix=p.identityMatrix=ss;var xr=function(w,F){if(!Pt[w]){var X=(F instanceof Bl?"Sh":"P")+(Object.keys(ut).length+1).toString(10);F.id=X,Pt[w]=X,ut[X]=F,Lt.publish("addPattern",F)}};p.ShadingPattern=Bl,p.TilingPattern=Ju,p.addShadingPattern=function(w,F){return P("addShadingPattern()"),xr(w,F),this},p.beginTilingPattern=function(w){P("beginTilingPattern()"),ro(w.boundingBox[0],w.boundingBox[1],w.boundingBox[2]-w.boundingBox[0],w.boundingBox[3]-w.boundingBox[1],w.matrix)},p.endTilingPattern=function(w,F){P("endTilingPattern()"),F.stream=je[Q].join(`
`),xr(w,F),Lt.publish("endTilingPattern",F),Ur.pop().restore()};var br,En=p.__private__.newObject=function(){var w=ur();return Tn(w,!0),w},ur=p.__private__.newObjectDeferred=function(){return le++,pe[le]=function(){return _e},le},Tn=function(w,F){return F=typeof F=="boolean"&&F,pe[w]=_e,F&&Y(w+" 0 obj"),w},No=p.__private__.newAdditionalObject=function(){var w={objId:ur(),content:""};return Te.push(w),w},Gs=ur(),zr=ur(),Di=p.__private__.decodeColorString=function(w){var F=w.split(" ");if(F.length!==2||F[1]!=="g"&&F[1]!=="G")F.length!==5||F[4]!=="k"&&F[4]!=="K"||(F=[(1-F[0])*(1-F[3]),(1-F[1])*(1-F[3]),(1-F[2])*(1-F[3]),"r"]);else{var X=parseFloat(F[0]);F=[X,X,X,"r"]}for(var re="#",he=0;he<3;he++)re+=("0"+Math.floor(255*parseFloat(F[he])).toString(16)).slice(-2);return re},si=p.__private__.encodeColorString=function(w){var F;typeof w=="string"&&(w={ch1:w});var X=w.ch1,re=w.ch2,he=w.ch3,Ne=w.ch4,Le=w.pdfColorType==="draw"?["G","RG","K"]:["g","rg","k"];if(typeof X=="string"&&X.charAt(0)!=="#"){var $e=new lT(X);if($e.ok)X=$e.toHex();else if(!/^\d*\.?\d*$/.test(X))throw new Error('Invalid color "'+X+'" passed to jsPDF.encodeColorString.')}if(typeof X=="string"&&/^#[0-9A-Fa-f]{3}$/.test(X)&&(X="#"+X[1]+X[1]+X[2]+X[2]+X[3]+X[3]),typeof X=="string"&&/^#[0-9A-Fa-f]{6}$/.test(X)){var Qe=parseInt(X.substr(1),16);X=Qe>>16&255,re=Qe>>8&255,he=255&Qe}if(re===void 0||Ne===void 0&&X===re&&re===he)F=typeof X=="string"?X+" "+Le[0]:w.precision===2?E(X/255)+" "+Le[0]:L(X/255)+" "+Le[0];else if(Ne===void 0||an(Ne)==="object"){if(Ne&&!isNaN(Ne.a)&&Ne.a===0)return["1.","1.","1.",Le[1]].join(" ");F=typeof X=="string"?[X,re,he,Le[1]].join(" "):w.precision===2?[E(X/255),E(re/255),E(he/255),Le[1]].join(" "):[L(X/255),L(re/255),L(he/255),Le[1]].join(" ")}else F=typeof X=="string"?[X,re,he,Ne,Le[2]].join(" "):w.precision===2?[E(X),E(re),E(he),E(Ne),Le[2]].join(" "):[L(X),L(re),L(he),L(Ne),Le[2]].join(" ");return F},qr=p.__private__.getFilters=function(){return o},Xn=p.__private__.putStream=function(w){var F=(w=w||{}).data||"",X=w.filters||qr(),re=w.alreadyAppliedFilters||[],he=w.addLength1||!1,Ne=F.length,Le=w.objectId,$e=function(Bn){return Bn};if(c!==null&&Le===void 0)throw new Error("ObjectId must be passed to putStream for file encryption");c!==null&&($e=en.encryptor(Le,0));var Qe={};X===!0&&(X=["FlateEncode"]);var ct=w.additionalKeyValues||[],yt=(Qe=it.API.processDataByFilters!==void 0?it.API.processDataByFilters(F,X):{data:F,reverseChain:[]}).reverseChain+(Array.isArray(re)?re.join(" "):re.toString());if(Qe.data.length!==0&&(ct.push({key:"Length",value:Qe.data.length}),he===!0&&ct.push({key:"Length1",value:Ne})),yt.length!=0)if(yt.split("/").length-1==1)ct.push({key:"Filter",value:yt});else{ct.push({key:"Filter",value:"["+yt+"]"});for(var zt=0;zt<ct.length;zt+=1)if(ct[zt].key==="DecodeParms"){for(var Xt=[],In=0;In<Qe.reverseChain.split("/").length-1;In+=1)Xt.push("null");Xt.push(ct[zt].value),ct[zt].value="["+Xt.join(" ")+"]"}}Y("<<");for(var tn=0;tn<ct.length;tn++)Y("/"+ct[tn].key+" "+ct[tn].value);Y(">>"),Qe.data.length!==0&&(Y("stream"),Y($e(Qe.data)),Y("endstream"))},Ks=p.__private__.putPage=function(w){var F=w.number,X=w.data,re=w.objId,he=w.contentsObjId;Tn(re,!0),Y("<</Type /Page"),Y("/Parent "+w.rootDictionaryObjId+" 0 R"),Y("/Resources "+w.resourceDictionaryObjId+" 0 R"),Y("/MediaBox ["+parseFloat(C(w.mediaBox.bottomLeftX))+" "+parseFloat(C(w.mediaBox.bottomLeftY))+" "+C(w.mediaBox.topRightX)+" "+C(w.mediaBox.topRightY)+"]"),w.cropBox!==null&&Y("/CropBox ["+C(w.cropBox.bottomLeftX)+" "+C(w.cropBox.bottomLeftY)+" "+C(w.cropBox.topRightX)+" "+C(w.cropBox.topRightY)+"]"),w.bleedBox!==null&&Y("/BleedBox ["+C(w.bleedBox.bottomLeftX)+" "+C(w.bleedBox.bottomLeftY)+" "+C(w.bleedBox.topRightX)+" "+C(w.bleedBox.topRightY)+"]"),w.trimBox!==null&&Y("/TrimBox ["+C(w.trimBox.bottomLeftX)+" "+C(w.trimBox.bottomLeftY)+" "+C(w.trimBox.topRightX)+" "+C(w.trimBox.topRightY)+"]"),w.artBox!==null&&Y("/ArtBox ["+C(w.artBox.bottomLeftX)+" "+C(w.artBox.bottomLeftY)+" "+C(w.artBox.topRightX)+" "+C(w.artBox.topRightY)+"]"),typeof w.userUnit=="number"&&w.userUnit!==1&&Y("/UserUnit "+w.userUnit),Lt.publish("putPage",{objId:re,pageContext:ft[F],pageNumber:F,page:X}),Y("/Contents "+he+" 0 R"),Y(">>"),Y("endobj");var Ne=X.join(`
`);return R===T&&(Ne+=`
Q`),Tn(he,!0),Xn({data:Ne,filters:qr(),objectId:he}),Y("endobj"),re},Mi=p.__private__.putPages=function(){var w,F,X=[];for(w=1;w<=Yt;w++)ft[w].objId=ur(),ft[w].contentsObjId=ur();for(w=1;w<=Yt;w++)X.push(Ks({number:w,data:je[w],objId:ft[w].objId,contentsObjId:ft[w].contentsObjId,mediaBox:ft[w].mediaBox,cropBox:ft[w].cropBox,bleedBox:ft[w].bleedBox,trimBox:ft[w].trimBox,artBox:ft[w].artBox,userUnit:ft[w].userUnit,rootDictionaryObjId:Gs,resourceDictionaryObjId:zr}));Tn(Gs,!0),Y("<</Type /Pages");var re="/Kids [";for(F=0;F<Yt;F++)re+=X[F]+" 0 R ";Y(re+"]"),Y("/Count "+Yt),Y(">>"),Y("endobj"),Lt.publish("postPutPages")},Ss=function(w){Lt.publish("putFont",{font:w,out:Y,newObject:En,putStream:Xn}),w.isAlreadyPutted!==!0&&(w.objectNumber=En(),Y("<<"),Y("/Type /Font"),Y("/BaseFont /"+Ru(w.postScriptName)),Y("/Subtype /Type1"),typeof w.encoding=="string"&&Y("/Encoding /"+w.encoding),Y("/FirstChar 32"),Y("/LastChar 255"),Y(">>"),Y("endobj"))},Qs=function(w){w.objectNumber=En();var F=[];F.push({key:"Type",value:"/XObject"}),F.push({key:"Subtype",value:"/Form"}),F.push({key:"BBox",value:"["+[C(w.x),C(w.y),C(w.x+w.width),C(w.y+w.height)].join(" ")+"]"}),F.push({key:"Matrix",value:"["+w.matrix.toString()+"]"});var X=w.pages[1].join(`
`);Xn({data:X,additionalKeyValues:F,objectId:w.objectNumber}),Y("endobj")},Eo=function(w,F){F||(F=21);var X=En(),re=function(Le,$e){var Qe,ct=[],yt=1/($e-1);for(Qe=0;Qe<1;Qe+=yt)ct.push(Qe);if(ct.push(1),Le[0].offset!=0){var zt={offset:0,color:Le[0].color};Le.unshift(zt)}if(Le[Le.length-1].offset!=1){var Xt={offset:1,color:Le[Le.length-1].color};Le.push(Xt)}for(var In="",tn=0,Bn=0;Bn<ct.length;Bn++){for(Qe=ct[Bn];Qe>Le[tn+1].offset;)tn++;var Ln=Le[tn].offset,Un=(Qe-Ln)/(Le[tn+1].offset-Ln),pn=Le[tn].color,Cr=Le[tn+1].color;In+=ie(Math.round((1-Un)*pn[0]+Un*Cr[0]).toString(16))+ie(Math.round((1-Un)*pn[1]+Un*Cr[1]).toString(16))+ie(Math.round((1-Un)*pn[2]+Un*Cr[2]).toString(16))}return In.trim()}(w.colors,F),he=[];he.push({key:"FunctionType",value:"0"}),he.push({key:"Domain",value:"[0.0 1.0]"}),he.push({key:"Size",value:"["+F+"]"}),he.push({key:"BitsPerSample",value:"8"}),he.push({key:"Range",value:"[0.0 1.0 0.0 1.0 0.0 1.0]"}),he.push({key:"Decode",value:"[0.0 1.0 0.0 1.0 0.0 1.0]"}),Xn({data:re,additionalKeyValues:he,alreadyAppliedFilters:["/ASCIIHexDecode"],objectId:X}),Y("endobj"),w.objectNumber=En(),Y("<< /ShadingType "+w.type),Y("/ColorSpace /DeviceRGB");var Ne="/Coords ["+C(parseFloat(w.coords[0]))+" "+C(parseFloat(w.coords[1]))+" ";w.type===2?Ne+=C(parseFloat(w.coords[2]))+" "+C(parseFloat(w.coords[3])):Ne+=C(parseFloat(w.coords[2]))+" "+C(parseFloat(w.coords[3]))+" "+C(parseFloat(w.coords[4]))+" "+C(parseFloat(w.coords[5])),Y(Ne+="]"),w.matrix&&Y("/Matrix ["+w.matrix.toString()+"]"),Y("/Function "+X+" 0 R"),Y("/Extend [true true]"),Y(">>"),Y("endobj")},To=function(w,F){var X=ur(),re=En();F.push({resourcesOid:X,objectOid:re}),w.objectNumber=re;var he=[];he.push({key:"Type",value:"/Pattern"}),he.push({key:"PatternType",value:"1"}),he.push({key:"PaintType",value:"1"}),he.push({key:"TilingType",value:"1"}),he.push({key:"BBox",value:"["+w.boundingBox.map(C).join(" ")+"]"}),he.push({key:"XStep",value:C(w.xStep)}),he.push({key:"YStep",value:C(w.yStep)}),he.push({key:"Resources",value:X+" 0 R"}),w.matrix&&he.push({key:"Matrix",value:"["+w.matrix.toString()+"]"}),Xn({data:w.stream,additionalKeyValues:he,objectId:w.objectNumber}),Y("endobj")},qc=function(w){for(var F in w.objectNumber=En(),Y("<<"),w)switch(F){case"opacity":Y("/ca "+E(w[F]));break;case"stroke-opacity":Y("/CA "+E(w[F]))}Y(">>"),Y("endobj")},Ys=function(w){Tn(w.resourcesOid,!0),Y("<<"),Y("/ProcSet [/PDF /Text /ImageB /ImageC /ImageI]"),function(){for(var F in Y("/Font <<"),Xe)Xe.hasOwnProperty(F)&&(d===!1||d===!0&&g.hasOwnProperty(F))&&Y("/"+F+" "+Xe[F].objectNumber+" 0 R");Y(">>")}(),function(){if(Object.keys(ut).length>0){for(var F in Y("/Shading <<"),ut)ut.hasOwnProperty(F)&&ut[F]instanceof Bl&&ut[F].objectNumber>=0&&Y("/"+F+" "+ut[F].objectNumber+" 0 R");Lt.publish("putShadingPatternDict"),Y(">>")}}(),function(F){if(Object.keys(ut).length>0){for(var X in Y("/Pattern <<"),ut)ut.hasOwnProperty(X)&&ut[X]instanceof p.TilingPattern&&ut[X].objectNumber>=0&&ut[X].objectNumber<F&&Y("/"+X+" "+ut[X].objectNumber+" 0 R");Lt.publish("putTilingPatternDict"),Y(">>")}}(w.objectOid),function(){if(Object.keys(xt).length>0){var F;for(F in Y("/ExtGState <<"),xt)xt.hasOwnProperty(F)&&xt[F].objectNumber>=0&&Y("/"+F+" "+xt[F].objectNumber+" 0 R");Lt.publish("putGStateDict"),Y(">>")}}(),function(){for(var F in Y("/XObject <<"),Yn)Yn.hasOwnProperty(F)&&Yn[F].objectNumber>=0&&Y("/"+F+" "+Yn[F].objectNumber+" 0 R");Lt.publish("putXobjectDict"),Y(">>")}(),Y(">>"),Y("endobj")},ml=function(w){gt[w.fontName]=gt[w.fontName]||{},gt[w.fontName][w.fontStyle]=w.id},aa=function(w,F,X,re,he){var Ne={id:"F"+(Object.keys(Xe).length+1).toString(10),postScriptName:w,fontName:F,fontStyle:X,encoding:re,isStandardFont:he||!1,metadata:{}};return Lt.publish("addFont",{font:Ne,instance:this}),Xe[Ne.id]=Ne,ml(Ne),Ne.id},_r=p.__private__.pdfEscape=p.pdfEscape=function(w,F){return function(X,re){var he,Ne,Le,$e,Qe,ct,yt,zt,Xt;if(Le=(re=re||{}).sourceEncoding||"Unicode",Qe=re.outputEncoding,(re.autoencode||Qe)&&Xe[nt].metadata&&Xe[nt].metadata[Le]&&Xe[nt].metadata[Le].encoding&&($e=Xe[nt].metadata[Le].encoding,!Qe&&Xe[nt].encoding&&(Qe=Xe[nt].encoding),!Qe&&$e.codePages&&(Qe=$e.codePages[0]),typeof Qe=="string"&&(Qe=$e[Qe]),Qe)){for(yt=!1,ct=[],he=0,Ne=X.length;he<Ne;he++)(zt=Qe[X.charCodeAt(he)])?ct.push(String.fromCharCode(zt)):ct.push(X[he]),ct[he].charCodeAt(0)>>8&&(yt=!0);X=ct.join("")}for(he=X.length;yt===void 0&&he!==0;)X.charCodeAt(he-1)>>8&&(yt=!0),he--;if(!yt)return X;for(ct=re.noBOM?[]:[254,255],he=0,Ne=X.length;he<Ne;he++){if((Xt=(zt=X.charCodeAt(he))>>8)>>8)throw new Error("Character at position "+he+" of string '"+X+"' exceeds 16bits. Cannot be encoded into UCS-2 BE");ct.push(Xt),ct.push(zt-(Xt<<8))}return String.fromCharCode.apply(void 0,ct)}(w,F).replace(/\\/g,"\\\\").replace(/\(/g,"\\(").replace(/\)/g,"\\)")},Fi=p.__private__.beginPage=function(w){je[++Yt]=[],ft[Yt]={objId:0,contentsObjId:0,userUnit:Number(a),artBox:null,bleedBox:null,cropBox:null,trimBox:null,mediaBox:{bottomLeftX:0,bottomLeftY:0,topRightX:Number(w[0]),topRightY:Number(w[1])}},yl(Yt),me(je[Q])},la=function(w,F){var X,re,he;switch(n=F||n,typeof w=="string"&&(X=v(w.toLowerCase()),Array.isArray(X)&&(re=X[0],he=X[1])),Array.isArray(w)&&(re=w[0]*ht,he=w[1]*ht),isNaN(re)&&(re=i[0],he=i[1]),(re>14400||he>14400)&&(dn.warn("A page in a PDF can not be wider or taller than 14400 userUnit. jsPDF limits the width/height to 14400"),re=Math.min(14400,re),he=Math.min(14400,he)),i=[re,he],n.substr(0,1)){case"l":he>re&&(i=[he,re]);break;case"p":re>he&&(i=[he,re])}Fi(i),to(ha),Y(Es),cn!==0&&Y(cn+" J"),Nl!==0&&Y(Nl+" j"),Lt.publish("addPage",{pageNumber:Yt})},gl=function(w){w>0&&w<=Yt&&(je.splice(w,1),ft.splice(w,1),Yt--,Q>Yt&&(Q=Yt),this.setPage(Q))},yl=function(w){w>0&&w<=Yt&&(Q=w)},vl=p.__private__.getNumberOfPages=p.getNumberOfPages=function(){return je.length-1},wl=function(w,F,X){var re,he=void 0;return X=X||{},w=w!==void 0?w:Xe[nt].fontName,F=F!==void 0?F:Xe[nt].fontStyle,re=w.toLowerCase(),gt[re]!==void 0&&gt[re][F]!==void 0?he=gt[re][F]:gt[w]!==void 0&&gt[w][F]!==void 0?he=gt[w][F]:X.disableWarning===!1&&dn.warn("Unable to look up font label for font '"+w+"', '"+F+"'. Refer to getFontList() for available fonts."),he||X.noFallback||(he=gt.times[F])==null&&(he=gt.times.normal),he},Xs=p.__private__.putInfo=function(){var w=En(),F=function(re){return re};for(var X in c!==null&&(F=en.encryptor(w,0)),Y("<<"),Y("/Producer ("+_r(F("jsPDF "+it.version))+")"),mt)mt.hasOwnProperty(X)&&mt[X]&&Y("/"+X.substr(0,1).toUpperCase()+X.substr(1)+" ("+_r(F(mt[X]))+")");Y("/CreationDate ("+_r(F(ne))+")"),Y(">>"),Y("endobj")},xl=p.__private__.putCatalog=function(w){var F=(w=w||{}).rootDictionaryObjId||Gs;switch(En(),Y("<<"),Y("/Type /Catalog"),Y("/Pages "+F+" 0 R"),ze||(ze="fullwidth"),ze){case"fullwidth":Y("/OpenAction [3 0 R /FitH null]");break;case"fullheight":Y("/OpenAction [3 0 R /FitV null]");break;case"fullpage":Y("/OpenAction [3 0 R /Fit]");break;case"original":Y("/OpenAction [3 0 R /XYZ null null 1]");break;default:var X=""+ze;X.substr(X.length-1)==="%"&&(ze=parseInt(ze)/100),typeof ze=="number"&&Y("/OpenAction [3 0 R /XYZ null null "+E(ze)+"]")}switch(wt||(wt="continuous"),wt){case"continuous":Y("/PageLayout /OneColumn");break;case"single":Y("/PageLayout /SinglePage");break;case"two":case"twoleft":Y("/PageLayout /TwoColumnLeft");break;case"tworight":Y("/PageLayout /TwoColumnRight")}tt&&Y("/PageMode /"+tt),Lt.publish("putCatalog"),Y(">>"),Y("endobj")},Pn=p.__private__.putTrailer=function(){Y("trailer"),Y("<<"),Y("/Size "+(le+1)),Y("/Root "+le+" 0 R"),Y("/Info "+(le-1)+" 0 R"),c!==null&&Y("/Encrypt "+en.oid+" 0 R"),Y("/ID [ <"+ce+"> <"+ce+"> ]"),Y(">>")},bl=p.__private__.putHeader=function(){Y("%PDF-"+b),Y("%")},wu=p.__private__.putXRef=function(){var w="0000000000";Y("xref"),Y("0 "+(le+1)),Y("0000000000 65535 f ");for(var F=1;F<=le;F++)typeof pe[F]=="function"?Y((w+pe[F]()).slice(-10)+" 00000 n "):pe[F]!==void 0?Y((w+pe[F]).slice(-10)+" 00000 n "):Y("0000000000 00000 n ")},As=p.__private__.buildDocument=function(){var w;le=0,_e=0,be=[],pe=[],Te=[],Gs=ur(),zr=ur(),me(be),Lt.publish("buildDocument"),bl(),Mi(),function(){Lt.publish("putAdditionalObjects");for(var X=0;X<Te.length;X++){var re=Te[X];Tn(re.objId,!0),Y(re.content),Y("endobj")}Lt.publish("postPutAdditionalObjects")}(),w=[],function(){for(var X in Xe)Xe.hasOwnProperty(X)&&(d===!1||d===!0&&g.hasOwnProperty(X))&&Ss(Xe[X])}(),function(){var X;for(X in xt)xt.hasOwnProperty(X)&&qc(xt[X])}(),function(){for(var X in Yn)Yn.hasOwnProperty(X)&&Qs(Yn[X])}(),function(X){var re;for(re in ut)ut.hasOwnProperty(re)&&(ut[re]instanceof Bl?Eo(ut[re]):ut[re]instanceof Ju&&To(ut[re],X))}(w),Lt.publish("putResources"),w.forEach(Ys),Ys({resourcesOid:zr,objectOid:Number.MAX_SAFE_INTEGER}),Lt.publish("postPutResources"),c!==null&&(en.oid=En(),Y("<<"),Y("/Filter /Standard"),Y("/V "+en.v),Y("/R "+en.r),Y("/U <"+en.toHexString(en.U)+">"),Y("/O <"+en.toHexString(en.O)+">"),Y("/P "+en.P),Y(">>"),Y("endobj")),Xs(),xl();var F=_e;return wu(),Pn(),Y("startxref"),Y(""+F),Y("%%EOF"),me(je[Q]),be.join(`
`)},Js=p.__private__.getBlob=function(w){return new Blob([ot(w)],{type:"application/pdf"})},xi=p.output=p.__private__.output=(br=function(w,F){switch(typeof(F=F||{})=="string"?F={filename:F}:F.filename=F.filename||"generated.pdf",w){case void 0:return As();case"save":p.save(F.filename);break;case"arraybuffer":return ot(As());case"blob":return Js(As());case"bloburi":case"bloburl":if(vt.URL!==void 0&&typeof vt.URL.createObjectURL=="function")return vt.URL&&vt.URL.createObjectURL(Js(As()))||void 0;dn.warn("bloburl is not supported by your system, because URL.createObjectURL is not supported by your browser.");break;case"datauristring":case"dataurlstring":var X="",re=As();try{X=G3(re)}catch{X=G3(unescape(encodeURIComponent(re)))}return"data:application/pdf;filename="+F.filename+";base64,"+X;case"pdfobjectnewwindow":if(Object.prototype.toString.call(vt)==="[object Window]"){var he="https://cdnjs.cloudflare.com/ajax/libs/pdfobject/2.1.1/pdfobject.min.js",Ne=' integrity="sha512-4ze/a9/4jqu+tX9dfOqJYSvyYd5M6qum/3HpCLr+/Jqf0whc37VUbkpNGHR7/8pSnCFw47T1fmIpwBV7UySh3g==" crossorigin="anonymous"';F.pdfObjectUrl&&(he=F.pdfObjectUrl,Ne="");var Le='<html><style>html, body { padding: 0; margin: 0; } iframe { width: 100%; height: 100%; border: 0;}  </style><body><script src="'+he+'"'+Ne+'><\/script><script >PDFObject.embed("'+this.output("dataurlstring")+'", '+JSON.stringify(F)+");<\/script></body></html>",$e=vt.open();return $e!==null&&$e.document.write(Le),$e}throw new Error("The option pdfobjectnewwindow just works in a browser-environment.");case"pdfjsnewwindow":if(Object.prototype.toString.call(vt)==="[object Window]"){var Qe='<html><style>html, body { padding: 0; margin: 0; } iframe { width: 100%; height: 100%; border: 0;}  </style><body><iframe id="pdfViewer" src="'+(F.pdfJsUrl||"examples/PDF.js/web/viewer.html")+"?file=&downloadName="+F.filename+'" width="500px" height="400px" /></body></html>',ct=vt.open();if(ct!==null){ct.document.write(Qe);var yt=this;ct.document.documentElement.querySelector("#pdfViewer").onload=function(){ct.document.title=F.filename,ct.document.documentElement.querySelector("#pdfViewer").contentWindow.PDFViewerApplication.open(yt.output("bloburl"))}}return ct}throw new Error("The option pdfjsnewwindow just works in a browser-environment.");case"dataurlnewwindow":if(Object.prototype.toString.call(vt)!=="[object Window]")throw new Error("The option dataurlnewwindow just works in a browser-environment.");var zt='<html><style>html, body { padding: 0; margin: 0; } iframe { width: 100%; height: 100%; border: 0;}  </style><body><iframe src="'+this.output("datauristring",F)+'"></iframe></body></html>',Xt=vt.open();if(Xt!==null&&(Xt.document.write(zt),Xt.document.title=F.filename),Xt||typeof safari>"u")return Xt;break;case"datauri":case"dataurl":return vt.document.location.href=this.output("datauristring",F);default:return null}},br.foo=function(){try{return br.apply(this,arguments)}catch(X){var w=X.stack||"";~w.indexOf(" at ")&&(w=w.split(" at ")[1]);var F="Error in function "+w.split(`
`)[0].split("<")[0]+": "+X.message;if(!vt.console)throw new Error(F);vt.console.error(F,X),vt.alert&&alert(F)}},br.foo.bar=br,br.foo),Co=function(w){return Array.isArray(Ws)===!0&&Ws.indexOf(w)>-1};switch(r){case"pt":ht=1;break;case"mm":ht=72/25.4;break;case"cm":ht=72/2.54;break;case"in":ht=72;break;case"px":ht=Co("px_scaling")==1?.75:96/72;break;case"pc":case"em":ht=12;break;case"ex":ht=6;break;default:if(typeof r!="number")throw new Error("Invalid unit: "+r);ht=r}var en=null;xe(),ee();var oi=p.__private__.getPageInfo=p.getPageInfo=function(w){if(isNaN(w)||w%1!=0)throw new Error("Invalid argument passed to jsPDF.getPageInfo");return{objId:ft[w].objId,pageNumber:w,pageContext:ft[w]}},ua=p.__private__.getPageInfoByObjId=function(w){if(isNaN(w)||w%1!=0)throw new Error("Invalid argument passed to jsPDF.getPageInfoByObjId");for(var F in ft)if(ft[F].objId===w)break;return oi(F)},ca=p.__private__.getCurrentPageInfo=p.getCurrentPageInfo=function(){return{objId:ft[Q].objId,pageNumber:Q,pageContext:ft[Q]}};p.addPage=function(){return la.apply(this,arguments),this},p.setPage=function(){return yl.apply(this,arguments),me.call(this,je[Q]),this},p.insertPage=function(w){return this.addPage(),this.movePage(Q,w),this},p.movePage=function(w,F){var X,re;if(w>F){X=je[w],re=ft[w];for(var he=w;he>F;he--)je[he]=je[he-1],ft[he]=ft[he-1];je[F]=X,ft[F]=re,this.setPage(F)}else if(w<F){X=je[w],re=ft[w];for(var Ne=w;Ne<F;Ne++)je[Ne]=je[Ne+1],ft[Ne]=ft[Ne+1];je[F]=X,ft[F]=re,this.setPage(F)}return this},p.deletePage=function(){return gl.apply(this,arguments),this},p.__private__.text=p.text=function(w,F,X,re,he){var Ne,Le,$e,Qe,ct,yt,zt,Xt,In,tn=(re=re||{}).scope||this;if(typeof w=="number"&&typeof F=="number"&&(typeof X=="string"||Array.isArray(X))){var Bn=X;X=F,F=w,w=Bn}if(arguments[3]instanceof lt==0?($e=arguments[4],Qe=arguments[5],an(zt=arguments[3])==="object"&&zt!==null||(typeof $e=="string"&&(Qe=$e,$e=null),typeof zt=="string"&&(Qe=zt,zt=null),typeof zt=="number"&&($e=zt,zt=null),re={flags:zt,angle:$e,align:Qe})):(P("The transform parameter of text() with a Matrix value"),In=he),isNaN(F)||isNaN(X)||w==null)throw new Error("Invalid arguments passed to jsPDF.text");if(w.length===0)return tn;var Ln,Un="",pn=typeof re.lineHeightFactor=="number"?re.lineHeightFactor:eo,Cr=tn.internal.scaleFactor;function kl(Jt){return Jt=Jt.split("	").join(Array(re.TabLen||9).join(" ")),_r(Jt,zt)}function Vi(Jt){for(var hn,Zn=Jt.concat(),pr=[],Do=Zn.length;Do--;)typeof(hn=Zn.shift())=="string"?pr.push(hn):Array.isArray(Jt)&&(hn.length===1||hn[1]===void 0&&hn[2]===void 0)?pr.push(hn[0]):pr.push([hn[0],hn[1],hn[2]]);return pr}function f(Jt,hn){var Zn;if(typeof Jt=="string")Zn=hn(Jt)[0];else if(Array.isArray(Jt)){for(var pr,Do,rh=Jt.concat(),Su=[],hd=rh.length;hd--;)typeof(pr=rh.shift())=="string"?Su.push(hn(pr)[0]):Array.isArray(pr)&&typeof pr[0]=="string"&&(Do=hn(pr[0],pr[1],pr[2]),Su.push([Do[0],Do[1],Do[2]]));Zn=Su}return Zn}var N=!1,D=!0;if(typeof w=="string")N=!0;else if(Array.isArray(w)){var $=w.concat();Le=[];for(var fe,we=$.length;we--;)(typeof(fe=$.shift())!="string"||Array.isArray(fe)&&typeof fe[0]!="string")&&(D=!1);N=D}if(N===!1)throw new Error('Type of text must be string or Array. "'+w+'" is not recognized.');typeof w=="string"&&(w=w.match(/[\r?\n]/)?w.split(/\r\n|\r|\n/g):[w]);var Oe=Ie/tn.internal.scaleFactor,Vt=Oe*(pn-1);switch(re.baseline){case"bottom":X-=Vt;break;case"top":X+=Oe-Vt;break;case"hanging":X+=Oe-2*Vt;break;case"middle":X+=Oe/2-Vt}if((yt=re.maxWidth||0)>0&&(typeof w=="string"?w=tn.splitTextToSize(w,yt):Object.prototype.toString.call(w)==="[object Array]"&&(w=w.reduce(function(Jt,hn){return Jt.concat(tn.splitTextToSize(hn,yt))},[]))),Ne={text:w,x:F,y:X,options:re,mutex:{pdfEscape:_r,activeFontKey:nt,fonts:Xe,activeFontSize:Ie}},Lt.publish("preProcessText",Ne),w=Ne.text,$e=(re=Ne.options).angle,In instanceof lt==0&&$e&&typeof $e=="number"){$e*=Math.PI/180,re.rotationDirection===0&&($e=-$e),R===T&&($e=-$e);var Rn=Math.cos($e),Rt=Math.sin($e);In=new lt(Rn,Rt,-Rt,Rn,0,0)}else $e&&$e instanceof lt&&(In=$e);R!==T||In||(In=ss),(ct=re.charSpace||Io)!==void 0&&(Un+=C(j(ct))+` Tc
`,this.setCharSpace(this.getCharSpace()||0)),(Xt=re.horizontalScale)!==void 0&&(Un+=C(100*Xt)+` Tz
`),re.lang;var It=-1,mn=re.renderingMode!==void 0?re.renderingMode:re.stroke,Bi=tn.internal.getCurrentPageInfo().pageContext;switch(mn){case 0:case!1:case"fill":It=0;break;case 1:case!0:case"stroke":It=1;break;case 2:case"fillThenStroke":It=2;break;case 3:case"invisible":It=3;break;case 4:case"fillAndAddForClipping":It=4;break;case 5:case"strokeAndAddPathForClipping":It=5;break;case 6:case"fillThenStrokeAndAddToPathForClipping":It=6;break;case 7:case"addToPathForClipping":It=7}var $r=Bi.usedRenderingMode!==void 0?Bi.usedRenderingMode:-1;It!==-1?Un+=It+` Tr
`:$r!==-1&&(Un+=`0 Tr
`),It!==-1&&(Bi.usedRenderingMode=It),Qe=re.align||"left";var kr,Cs=Ie*pn,Yc=tn.internal.pageSize.getWidth(),Xc=Xe[nt];ct=re.charSpace||Io,yt=re.maxWidth||0,zt=Object.assign({autoencode:!0,noBOM:!0},re.flags);var ga=[],Pl=function(Jt){return tn.getStringUnitWidth(Jt,{font:Xc,charSpace:ct,fontSize:Ie,doKerning:!1})*Ie/Cr};if(Object.prototype.toString.call(w)==="[object Array]"){var Ui;Le=Vi(w),Qe!=="left"&&(kr=Le.map(Pl));var zi,ya=0;if(Qe==="right"){F-=kr[0],w=[],we=Le.length;for(var jo=0;jo<we;jo++)jo===0?(zi=Sr(F),Ui=Ns(X)):(zi=j(ya-kr[jo]),Ui=-Cs),w.push([Le[jo],zi,Ui]),ya=kr[jo]}else if(Qe==="center"){F-=kr[0]/2,w=[],we=Le.length;for(var va=0;va<we;va++)va===0?(zi=Sr(F),Ui=Ns(X)):(zi=j((ya-kr[va])/2),Ui=-Cs),w.push([Le[va],zi,Ui]),ya=kr[va]}else if(Qe==="left"){w=[],we=Le.length;for(var Jc=0;Jc<we;Jc++)w.push(Le[Jc])}else if(Qe==="justify"&&Xc.encoding==="Identity-H"){w=[],we=Le.length,yt=yt!==0?yt:Yc;for(var _u=0,Jn=0;Jn<we;Jn++)if(Ui=Jn===0?Ns(X):-Cs,zi=Jn===0?Sr(F):_u,Jn<we-1){var cd=j((yt-kr[Jn])/(Le[Jn].split(" ").length-1)),so=Le[Jn].split(" ");w.push([so[0]+" ",zi,Ui]),_u=0;for(var oo=1;oo<so.length;oo++){var Zc=(Pl(so[oo-1]+" "+so[oo])-Pl(so[oo]))*Cr+cd;oo==so.length-1?w.push([so[oo],Zc,0]):w.push([so[oo]+" ",Zc,0]),_u-=Zc}}else w.push([Le[Jn],zi,Ui]);w.push(["",_u,0])}else{if(Qe!=="justify")throw new Error('Unrecognized alignment option, use "left", "center", "right" or "justify".');for(w=[],we=Le.length,yt=yt!==0?yt:Yc,Jn=0;Jn<we;Jn++){Ui=Jn===0?Ns(X):-Cs,zi=Jn===0?Sr(F):0;var eh=Le[Jn].split(" ").length-1,th=eh>0?(yt-kr[Jn])/eh:0;Jn<we-1?ga.push(C(j(th))):ga.push(0),w.push([Le[Jn],zi,Ui])}}}(typeof re.R2L=="boolean"?re.R2L:_t)===!0&&(w=f(w,function(Jt,hn,Zn){return[Jt.split("").reverse().join(""),hn,Zn]})),Ne={text:w,x:F,y:X,options:re,mutex:{pdfEscape:_r,activeFontKey:nt,fonts:Xe,activeFontSize:Ie}},Lt.publish("postProcessText",Ne),w=Ne.text,Ln=Ne.mutex.isHex||!1;var nh=Xe[nt].encoding;nh!=="WinAnsiEncoding"&&nh!=="StandardEncoding"||(w=f(w,function(Jt,hn,Zn){return[kl(Jt),hn,Zn]})),Le=Vi(w),w=[];for(var wa,xa,ba,Il=Array.isArray(Le[0])?1:0,_a="",Ll=function(Jt,hn,Zn){var pr="";return Zn instanceof lt?(Zn=typeof re.angle=="number"?wn(Zn,new lt(1,0,0,1,Jt,hn)):wn(new lt(1,0,0,1,Jt,hn),Zn),R===T&&(Zn=wn(new lt(1,0,0,-1,0,0),Zn)),pr=Zn.join(" ")+` Tm
`):pr=C(Jt)+" "+C(hn)+` Td
`,pr},us=0;us<Le.length;us++){switch(_a="",Il){case 1:ba=(Ln?"<":"(")+Le[us][0]+(Ln?">":")"),wa=parseFloat(Le[us][1]),xa=parseFloat(Le[us][2]);break;case 0:ba=(Ln?"<":"(")+Le[us]+(Ln?">":")"),wa=Sr(F),xa=Ns(X)}ga!==void 0&&ga[us]!==void 0&&(_a=ga[us]+` Tw
`),us===0?w.push(_a+Ll(wa,xa,In)+ba):Il===0?w.push(_a+ba):Il===1&&w.push(_a+Ll(wa,xa,In)+ba)}w=Il===0?w.join(` Tj
T* `):w.join(` Tj
`),w+=` Tj
`;var ao=`BT
/`;return ao+=nt+" "+Ie+` Tf
`,ao+=C(Ie*pn)+` TL
`,ao+=Oi+`
`,ao+=Un,ao+=w,Y(ao+="ET"),g[nt]=!0,tn};var xu=p.__private__.clip=p.clip=function(w){return Y(w==="evenodd"?"W*":"W"),this};p.clipEvenOdd=function(){return xu("evenodd")},p.__private__.discardPath=p.discardPath=function(){return Y("n"),this};var Mt=p.__private__.isValidStyle=function(w){var F=!1;return[void 0,null,"S","D","F","DF","FD","f","f*","B","B*","n"].indexOf(w)!==-1&&(F=!0),F};p.__private__.setDefaultPathOperation=p.setDefaultPathOperation=function(w){return Mt(w)&&(u=w),this};var ko=p.__private__.getStyle=p.getStyle=function(w){var F=u;switch(w){case"D":case"S":F="S";break;case"F":F="f";break;case"FD":case"DF":F="B";break;case"f":case"f*":case"B":case"B*":F=w}return F},Zs=p.close=function(){return Y("h"),this};p.stroke=function(){return Y("S"),this},p.fill=function(w){return bi("f",w),this},p.fillEvenOdd=function(w){return bi("f*",w),this},p.fillStroke=function(w){return bi("B",w),this},p.fillStrokeEvenOdd=function(w){return bi("B*",w),this};var bi=function(w,F){an(F)==="object"?$c(F,w):Y(w)},_l=function(w){w===null||R===T&&w===void 0||(w=ko(w),Y(w))};function bu(w,F,X,re,he){var Ne=new Ju(F||this.boundingBox,X||this.xStep,re||this.yStep,this.gState,he||this.matrix);Ne.stream=this.stream;var Le=w+"$$"+this.cloneIndex+++"$$";return xr(Le,Ne),Ne}var $c=function(w,F){var X=Pt[w.key],re=ut[X];if(re instanceof Bl)Y("q"),Y(Hc(F)),re.gState&&p.setGState(re.gState),Y(w.matrix.toString()+" cm"),Y("/"+X+" sh"),Y("Q");else if(re instanceof Ju){var he=new lt(1,0,0,-1,0,ls());w.matrix&&(he=he.multiply(w.matrix||ss),X=bu.call(re,w.key,w.boundingBox,w.xStep,w.yStep,he).id),Y("q"),Y("/Pattern cs"),Y("/"+X+" scn"),re.gState&&p.setGState(re.gState),Y(F),Y("Q")}},Hc=function(w){switch(w){case"f":case"F":case"n":return"W n";case"f*":return"W* n";case"B":case"S":return"W S";case"B*":return"W* S"}},Sl=p.moveTo=function(w,F){return Y(C(j(w))+" "+C(H(F))+" m"),this},Po=p.lineTo=function(w,F){return Y(C(j(w))+" "+C(H(F))+" l"),this},_i=p.curveTo=function(w,F,X,re,he,Ne){return Y([C(j(w)),C(H(F)),C(j(X)),C(H(re)),C(j(he)),C(H(Ne)),"c"].join(" ")),this};p.__private__.line=p.line=function(w,F,X,re,he){if(isNaN(w)||isNaN(F)||isNaN(X)||isNaN(re)||!Mt(he))throw new Error("Invalid arguments passed to jsPDF.line");return R===_?this.lines([[X-w,re-F]],w,F,[1,1],he||"S"):this.lines([[X-w,re-F]],w,F,[1,1]).stroke()},p.__private__.lines=p.lines=function(w,F,X,re,he,Ne){var Le,$e,Qe,ct,yt,zt,Xt,In,tn,Bn,Ln,Un;if(typeof w=="number"&&(Un=X,X=F,F=w,w=Un),re=re||[1,1],Ne=Ne||!1,isNaN(F)||isNaN(X)||!Array.isArray(w)||!Array.isArray(re)||!Mt(he)||typeof Ne!="boolean")throw new Error("Invalid arguments passed to jsPDF.lines");for(Sl(F,X),Le=re[0],$e=re[1],ct=w.length,Bn=F,Ln=X,Qe=0;Qe<ct;Qe++)(yt=w[Qe]).length===2?(Bn=yt[0]*Le+Bn,Ln=yt[1]*$e+Ln,Po(Bn,Ln)):(zt=yt[0]*Le+Bn,Xt=yt[1]*$e+Ln,In=yt[2]*Le+Bn,tn=yt[3]*$e+Ln,Bn=yt[4]*Le+Bn,Ln=yt[5]*$e+Ln,_i(zt,Xt,In,tn,Bn,Ln));return Ne&&Zs(),_l(he),this},p.path=function(w){for(var F=0;F<w.length;F++){var X=w[F],re=X.c;switch(X.op){case"m":Sl(re[0],re[1]);break;case"l":Po(re[0],re[1]);break;case"c":_i.apply(this,re);break;case"h":Zs()}}return this},p.__private__.rect=p.rect=function(w,F,X,re,he){if(isNaN(w)||isNaN(F)||isNaN(X)||isNaN(re)||!Mt(he))throw new Error("Invalid arguments passed to jsPDF.rect");return R===_&&(re=-re),Y([C(j(w)),C(H(F)),C(j(X)),C(j(re)),"re"].join(" ")),_l(he),this},p.__private__.triangle=p.triangle=function(w,F,X,re,he,Ne,Le){if(isNaN(w)||isNaN(F)||isNaN(X)||isNaN(re)||isNaN(he)||isNaN(Ne)||!Mt(Le))throw new Error("Invalid arguments passed to jsPDF.triangle");return this.lines([[X-w,re-F],[he-X,Ne-re],[w-he,F-Ne]],w,F,[1,1],Le,!0),this},p.__private__.roundedRect=p.roundedRect=function(w,F,X,re,he,Ne,Le){if(isNaN(w)||isNaN(F)||isNaN(X)||isNaN(re)||isNaN(he)||isNaN(Ne)||!Mt(Le))throw new Error("Invalid arguments passed to jsPDF.roundedRect");var $e=4/3*(Math.SQRT2-1);return he=Math.min(he,.5*X),Ne=Math.min(Ne,.5*re),this.lines([[X-2*he,0],[he*$e,0,he,Ne-Ne*$e,he,Ne],[0,re-2*Ne],[0,Ne*$e,-he*$e,Ne,-he,Ne],[2*he-X,0],[-he*$e,0,-he,-Ne*$e,-he,-Ne],[0,2*Ne-re],[0,-Ne*$e,he*$e,-Ne,he,-Ne]],w+he,F,[1,1],Le,!0),this},p.__private__.ellipse=p.ellipse=function(w,F,X,re,he){if(isNaN(w)||isNaN(F)||isNaN(X)||isNaN(re)||!Mt(he))throw new Error("Invalid arguments passed to jsPDF.ellipse");var Ne=4/3*(Math.SQRT2-1)*X,Le=4/3*(Math.SQRT2-1)*re;return Sl(w+X,F),_i(w+X,F-Le,w+Ne,F-re,w,F-re),_i(w-Ne,F-re,w-X,F-Le,w-X,F),_i(w-X,F+Le,w-Ne,F+re,w,F+re),_i(w+Ne,F+re,w+X,F+Le,w+X,F),_l(he),this},p.__private__.circle=p.circle=function(w,F,X,re){if(isNaN(w)||isNaN(F)||isNaN(X)||!Mt(re))throw new Error("Invalid arguments passed to jsPDF.circle");return this.ellipse(w,F,X,X,re)},p.setFont=function(w,F,X){return X&&(F=k(F,X)),nt=wl(w,F,{disableWarning:!1}),this};var os=p.__private__.getFont=p.getFont=function(){return Xe[wl.apply(p,arguments)]};p.__private__.getFontList=p.getFontList=function(){var w,F,X={};for(w in gt)if(gt.hasOwnProperty(w))for(F in X[w]=[],gt[w])gt[w].hasOwnProperty(F)&&X[w].push(F);return X},p.addFont=function(w,F,X,re,he){var Ne=["StandardEncoding","MacRomanEncoding","Identity-H","WinAnsiEncoding"];return arguments[3]&&Ne.indexOf(arguments[3])!==-1?he=arguments[3]:arguments[3]&&Ne.indexOf(arguments[3])==-1&&(X=k(X,re)),aa.call(this,w,F,X,he=he||"Identity-H")};var eo,ha=t.lineWidth||.200025,dt=p.__private__.getLineWidth=p.getLineWidth=function(){return ha},to=p.__private__.setLineWidth=p.setLineWidth=function(w){return ha=w,Y(C(j(w))+" w"),this};p.__private__.setLineDash=it.API.setLineDash=it.API.setLineDashPattern=function(w,F){if(w=w||[],F=F||0,isNaN(F)||!Array.isArray(w))throw new Error("Invalid arguments passed to jsPDF.setLineDash");return w=w.map(function(X){return C(j(X))}).join(" "),F=C(j(F)),Y("["+w+"] "+F+" d"),this};var Wc=p.__private__.getLineHeight=p.getLineHeight=function(){return Ie*eo};p.__private__.getLineHeight=p.getLineHeight=function(){return Ie*eo};var Gc=p.__private__.setLineHeightFactor=p.setLineHeightFactor=function(w){return typeof(w=w||1.15)=="number"&&(eo=w),this},Kc=p.__private__.getLineHeightFactor=p.getLineHeightFactor=function(){return eo};Gc(t.lineHeight);var Sr=p.__private__.getHorizontalCoordinate=function(w){return j(w)},Ns=p.__private__.getVerticalCoordinate=function(w){return R===T?w:ft[Q].mediaBox.topRightY-ft[Q].mediaBox.bottomLeftY-j(w)},Qc=p.__private__.getHorizontalCoordinateString=p.getHorizontalCoordinateString=function(w){return C(Sr(w))},fa=p.__private__.getVerticalCoordinateString=p.getVerticalCoordinateString=function(w){return C(Ns(w))},Es=t.strokeColor||"0 G";p.__private__.getStrokeColor=p.getDrawColor=function(){return Di(Es)},p.__private__.setStrokeColor=p.setDrawColor=function(w,F,X,re){return Es=si({ch1:w,ch2:F,ch3:X,ch4:re,pdfColorType:"draw",precision:2}),Y(Es),this};var da=t.fillColor||"0 g";p.__private__.getFillColor=p.getFillColor=function(){return Di(da)},p.__private__.setFillColor=p.setFillColor=function(w,F,X,re){return da=si({ch1:w,ch2:F,ch3:X,ch4:re,pdfColorType:"fill",precision:2}),Y(da),this};var Oi=t.textColor||"0 g",as=p.__private__.getTextColor=p.getTextColor=function(){return Di(Oi)};p.__private__.setTextColor=p.setTextColor=function(w,F,X,re){return Oi=si({ch1:w,ch2:F,ch3:X,ch4:re,pdfColorType:"text",precision:3}),this};var Io=t.charSpace,Al=p.__private__.getCharSpace=p.getCharSpace=function(){return parseFloat(Io||0)};p.__private__.setCharSpace=p.setCharSpace=function(w){if(isNaN(w))throw new Error("Invalid argument passed to jsPDF.setCharSpace");return Io=w,this};var cn=0;p.CapJoinStyles={0:0,butt:0,but:0,miter:0,1:1,round:1,rounded:1,circle:1,2:2,projecting:2,project:2,square:2,bevel:2},p.__private__.setLineCap=p.setLineCap=function(w){var F=p.CapJoinStyles[w];if(F===void 0)throw new Error("Line cap style of '"+w+"' is not recognized. See or extend .CapJoinStyles property for valid styles");return cn=F,Y(F+" J"),this};var Nl=0;p.__private__.setLineJoin=p.setLineJoin=function(w){var F=p.CapJoinStyles[w];if(F===void 0)throw new Error("Line join style of '"+w+"' is not recognized. See or extend .CapJoinStyles property for valid styles");return Nl=F,Y(F+" j"),this},p.__private__.setLineMiterLimit=p.__private__.setMiterLimit=p.setLineMiterLimit=p.setMiterLimit=function(w){if(w=w||0,isNaN(w))throw new Error("Invalid argument passed to jsPDF.setLineMiterLimit");return Y(C(j(w))+" M"),this},p.GState=P0,p.setGState=function(w){(w=typeof w=="string"?xt[Nn[w]]:Lo(null,w)).equals(vn)||(Y("/"+w.id+" gs"),vn=w)};var Lo=function(w,F){if(!w||!Nn[w]){var X=!1;for(var re in xt)if(xt.hasOwnProperty(re)&&xt[re].equals(F)){X=!0;break}if(X)F=xt[re];else{var he="GS"+(Object.keys(xt).length+1).toString(10);xt[he]=F,F.id=he}return w&&(Nn[w]=F.id),Lt.publish("addGState",F),F}};p.addGState=function(w,F){return Lo(w,F),this},p.saveGraphicsState=function(){return Y("q"),Zt.push({key:nt,size:Ie,color:Oi}),this},p.restoreGraphicsState=function(){Y("Q");var w=Zt.pop();return nt=w.key,Ie=w.size,Oi=w.color,vn=null,this},p.setCurrentTransformationMatrix=function(w){return Y(w.toString()+" cm"),this},p.comment=function(w){return Y("#"+w),this};var no=function(w,F){var X=w||0;Object.defineProperty(this,"x",{enumerable:!0,get:function(){return X},set:function(Ne){isNaN(Ne)||(X=parseFloat(Ne))}});var re=F||0;Object.defineProperty(this,"y",{enumerable:!0,get:function(){return re},set:function(Ne){isNaN(Ne)||(re=parseFloat(Ne))}});var he="pt";return Object.defineProperty(this,"type",{enumerable:!0,get:function(){return he},set:function(Ne){he=Ne.toString()}}),this},pa=function(w,F,X,re){no.call(this,w,F),this.type="rect";var he=X||0;Object.defineProperty(this,"w",{enumerable:!0,get:function(){return he},set:function(Le){isNaN(Le)||(he=parseFloat(Le))}});var Ne=re||0;return Object.defineProperty(this,"h",{enumerable:!0,get:function(){return Ne},set:function(Le){isNaN(Le)||(Ne=parseFloat(Le))}}),this},Ro=function(){this.page=Yt,this.currentPage=Q,this.pages=je.slice(0),this.pagesContext=ft.slice(0),this.x=st,this.y=Kt,this.matrix=Ut,this.width=Si(Q),this.height=Ts(Q),this.outputDestination=ke,this.id="",this.objectNumber=-1};Ro.prototype.restore=function(){Yt=this.page,Q=this.currentPage,ft=this.pagesContext,je=this.pages,st=this.x,Kt=this.y,Ut=this.matrix,El(Q,this.width),ai(Q,this.height),ke=this.outputDestination};var ro=function(w,F,X,re,he){Ur.push(new Ro),Yt=Q=0,je=[],st=w,Kt=F,Ut=he,Fi([X,re])};for(var io in p.beginFormObject=function(w,F,X,re,he){return ro(w,F,X,re,he),this},p.endFormObject=function(w){return function(F){if(is[F])Ur.pop().restore();else{var X=new Ro,re="Xo"+(Object.keys(Yn).length+1).toString(10);X.id=re,is[F]=re,Yn[re]=X,Lt.publish("addFormObject",X),Ur.pop().restore()}}(w),this},p.doFormObject=function(w,F){var X=Yn[is[w]];return Y("q"),Y(F.toString()+" cm"),Y("/"+X.id+" Do"),Y("Q"),this},p.getFormObject=function(w){var F=Yn[is[w]];return{x:F.x,y:F.y,width:F.width,height:F.height,matrix:F.matrix}},p.save=function(w,F){return w=w||"generated.pdf",(F=F||{}).returnPromise=F.returnPromise||!1,F.returnPromise===!1?(Vl(Js(As()),w),typeof Vl.unload=="function"&&vt.setTimeout&&setTimeout(Vl.unload,911),this):new Promise(function(X,re){try{var he=Vl(Js(As()),w);typeof Vl.unload=="function"&&vt.setTimeout&&setTimeout(Vl.unload,911),X(he)}catch(Ne){re(Ne.message)}})},it.API)it.API.hasOwnProperty(io)&&(io==="events"&&it.API.events.length?function(w,F){var X,re,he;for(he=F.length-1;he!==-1;he--)X=F[he][0],re=F[he][1],w.subscribe.apply(w,[X].concat(typeof re=="function"?[re]:re))}(Lt,it.API.events):p[io]=it.API[io]);function Si(w){return ft[w].mediaBox.topRightX-ft[w].mediaBox.bottomLeftX}function El(w,F){ft[w].mediaBox.topRightX=F+ft[w].mediaBox.bottomLeftX}function Ts(w){return ft[w].mediaBox.topRightY-ft[w].mediaBox.bottomLeftY}function ai(w,F){ft[w].mediaBox.topRightY=F+ft[w].mediaBox.bottomLeftY}var Tl=p.getPageWidth=function(w){return Si(w=w||Q)/ht},ma=p.setPageWidth=function(w,F){El(w,F*ht)},ls=p.getPageHeight=function(w){return Ts(w=w||Q)/ht},Cl=p.setPageHeight=function(w,F){ai(w,F*ht)};return p.internal={pdfEscape:_r,getStyle:ko,getFont:os,getFontSize:Be,getCharSpace:Al,getTextColor:as,getLineHeight:Wc,getLineHeightFactor:Kc,getLineWidth:dt,write:Ke,getHorizontalCoordinate:Sr,getVerticalCoordinate:Ns,getCoordinateString:Qc,getVerticalCoordinateString:fa,collections:{},newObject:En,newAdditionalObject:No,newObjectDeferred:ur,newObjectDeferredBegin:Tn,getFilters:qr,putStream:Xn,events:Lt,scaleFactor:ht,pageSize:{getWidth:function(){return Tl(Q)},setWidth:function(w){ma(Q,w)},getHeight:function(){return ls(Q)},setHeight:function(w){Cl(Q,w)}},encryptionOptions:c,encryption:en,getEncryptor:function(w){return c!==null?en.encryptor(w,0):function(F){return F}},output:xi,getNumberOfPages:vl,pages:je,out:Y,f2:E,f3:L,getPageInfo:oi,getPageInfoByObjId:ua,getCurrentPageInfo:ca,getPDFVersion:x,Point:no,Rectangle:pa,Matrix:lt,hasHotfix:Co},Object.defineProperty(p.internal.pageSize,"width",{get:function(){return Tl(Q)},set:function(w){ma(Q,w)},enumerable:!0,configurable:!0}),Object.defineProperty(p.internal.pageSize,"height",{get:function(){return ls(Q)},set:function(w){Cl(Q,w)},enumerable:!0,configurable:!0}),(function(w){for(var F=0,X=Ue.length;F<X;F++){var re=aa.call(this,w[F][0],w[F][1],w[F][2],Ue[F][3],!0);d===!1&&(g[re]=!0);var he=w[F][0].split("-");ml({id:re,fontName:he[0],fontStyle:he[1]||""})}Lt.publish("addFonts",{fonts:Xe,dictionary:gt})}).call(p,Ue),nt="F1",la(i,n),Lt.publish("initialized"),p}Lu.prototype.lsbFirstWord=function(t){return String.fromCharCode(255&t,t>>8&255,t>>16&255,t>>24&255)},Lu.prototype.toHexString=function(t){return t.split("").map(function(e){return("0"+(255&e.charCodeAt(0)).toString(16)).slice(-2)}).join("")},Lu.prototype.hexToBytes=function(t){for(var e=[],n=0;n<t.length;n+=2)e.push(String.fromCharCode(parseInt(t.substr(n,2),16)));return e.join("")},Lu.prototype.processOwnerPassword=function(t,e){return ey(Z2(e).substr(0,5),t)},Lu.prototype.encryptor=function(t,e){var n=Z2(this.encryptionKey+String.fromCharCode(255&t,t>>8&255,t>>16&255,255&e,e>>8&255)).substr(0,10);return function(r){return ey(n,r)}},P0.prototype.equals=function(t){var e,n="id,objectNumber,equals";if(!t||an(t)!==an(this))return!1;var r=0;for(e in this)if(!(n.indexOf(e)>=0)){if(this.hasOwnProperty(e)&&!t.hasOwnProperty(e)||this[e]!==t[e])return!1;r++}for(e in t)t.hasOwnProperty(e)&&n.indexOf(e)<0&&r--;return r===0},it.API={events:[]},it.version="3.0.3";var Hn=it.API,C5=1,vu=function(t){return t.replace(/\\/g,"\\\\").replace(/\(/g,"\\(").replace(/\)/g,"\\)")},Tu=function(t){return t.replace(/\\\\/g,"\\").replace(/\\\(/g,"(").replace(/\\\)/g,")")},At=function(t){return t.toFixed(2)},Ia=function(t){return t.toFixed(5)};Hn.__acroform__={};var ji=function(t,e){t.prototype=Object.create(e.prototype),t.prototype.constructor=t},X3=function(t){return t*C5},co=function(t){var e=new fT,n=Ge.internal.getHeight(t)||0,r=Ge.internal.getWidth(t)||0;return e.BBox=[0,0,Number(At(r)),Number(At(n))],e},jq=Hn.__acroform__.setBit=function(t,e){if(t=t||0,e=e||0,isNaN(t)||isNaN(e))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.setBit");return t|1<<e},Dq=Hn.__acroform__.clearBit=function(t,e){if(t=t||0,e=e||0,isNaN(t)||isNaN(e))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.clearBit");return t&~(1<<e)},Mq=Hn.__acroform__.getBit=function(t,e){if(isNaN(t)||isNaN(e))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.getBit");return t&1<<e?1:0},sr=Hn.__acroform__.getBitForPdf=function(t,e){if(isNaN(t)||isNaN(e))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.getBitForPdf");return Mq(t,e-1)},or=Hn.__acroform__.setBitForPdf=function(t,e){if(isNaN(t)||isNaN(e))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.setBitForPdf");return jq(t,e-1)},ar=Hn.__acroform__.clearBitForPdf=function(t,e){if(isNaN(t)||isNaN(e))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.clearBitForPdf");return Dq(t,e-1)},Fq=Hn.__acroform__.calculateCoordinates=function(t,e){var n=e.internal.getHorizontalCoordinate,r=e.internal.getVerticalCoordinate,i=t[0],s=t[1],o=t[2],a=t[3],l={};return l.lowerLeft_X=n(i)||0,l.lowerLeft_Y=r(s+a)||0,l.upperRight_X=n(i+o)||0,l.upperRight_Y=r(s)||0,[Number(At(l.lowerLeft_X)),Number(At(l.lowerLeft_Y)),Number(At(l.upperRight_X)),Number(At(l.upperRight_Y))]},Oq=function(t){if(t.appearanceStreamContent)return t.appearanceStreamContent;if(t.V||t.DV){var e=[],n=t._V||t.DV,r=ty(t,n),i=t.scope.internal.getFont(t.fontName,t.fontStyle).id;e.push("/Tx BMC"),e.push("q"),e.push("BT"),e.push(t.scope.__private__.encodeColorString(t.color)),e.push("/"+i+" "+At(r.fontSize)+" Tf"),e.push("1 0 0 1 0 0 Tm"),e.push(r.text),e.push("ET"),e.push("Q"),e.push("EMC");var s=co(t);return s.scope=t.scope,s.stream=e.join(`
`),s}},ty=function(t,e){var n=t.fontSize===0?t.maxFontSize:t.fontSize,r={text:"",fontSize:""},i=(e=(e=e.substr(0,1)=="("?e.substr(1):e).substr(e.length-1)==")"?e.substr(0,e.length-1):e).split(" ");i=t.multiline?i.map(function(E){return E.split(`
`)}):i.map(function(E){return[E]});var s=n,o=Ge.internal.getHeight(t)||0;o=o<0?-o:o;var a=Ge.internal.getWidth(t)||0;a=a<0?-a:a;var l=function(E,L,j){if(E+1<i.length){var H=L+" "+i[E+1][0];return sp(H,t,j).width<=a-4}return!1};s++;e:for(;s>0;){e="",s--;var u,c,d=sp("3",t,s).height,g=t.multiline?o-s:(o-d)/2,p=g+=2,b=0,x=0,A=0;if(s<=0){e=`(...) Tj
`,e+="% Width of Text: "+sp(e,t,s=12).width+", FieldWidth:"+a+`
`;break}for(var v="",_=0,T=0;T<i.length;T++)if(i.hasOwnProperty(T)){var R=!1;if(i[T].length!==1&&A!==i[T].length-1){if((d+2)*(_+2)+2>o)continue e;v+=i[T][A],R=!0,x=T,T--}else{v=(v+=i[T][A]+" ").substr(v.length-1)==" "?v.substr(0,v.length-1):v;var z=parseInt(T),K=l(z,v,s),k=T>=i.length-1;if(K&&!k){v+=" ",A=0;continue}if(K||k){if(k)x=z;else if(t.multiline&&(d+2)*(_+2)+2>o)continue e}else{if(!t.multiline||(d+2)*(_+2)+2>o)continue e;x=z}}for(var C="",P=b;P<=x;P++){var M=i[P];if(t.multiline){if(P===x){C+=M[A]+" ",A=(A+1)%M.length;continue}if(P===b){C+=M[M.length-1]+" ";continue}}C+=M[0]+" "}switch(C=C.substr(C.length-1)==" "?C.substr(0,C.length-1):C,c=sp(C,t,s).width,t.textAlign){case"right":u=a-c-2;break;case"center":u=(a-c)/2;break;default:u=2}e+=At(u)+" "+At(p)+` Td
`,e+="("+vu(C)+`) Tj
`,e+=-At(u)+` 0 Td
`,p=-(s+2),c=0,b=R?x:x+1,_++,v=""}break}return r.text=e,r.fontSize=s,r},sp=function(t,e,n){var r=e.scope.internal.getFont(e.fontName,e.fontStyle),i=e.scope.getStringUnitWidth(t,{font:r,fontSize:parseFloat(n),charSpace:0})*parseFloat(n);return{height:e.scope.getStringUnitWidth("3",{font:r,fontSize:parseFloat(n),charSpace:0})*parseFloat(n)*1.5,width:i}},Vq={fields:[],xForms:[],acroFormDictionaryRoot:null,printedOut:!1,internal:null,isInitialized:!1},Bq=function(t,e){var n={type:"reference",object:t};e.internal.getPageInfo(t.page).pageContext.annotations.find(function(r){return r.type===n.type&&r.object===n.object})===void 0&&e.internal.getPageInfo(t.page).pageContext.annotations.push(n)},Uq=function(t,e){if(e.scope=t,t.internal!==void 0&&(t.internal.acroformPlugin===void 0||t.internal.acroformPlugin.isInitialized===!1)){if($s.FieldNum=0,t.internal.acroformPlugin=JSON.parse(JSON.stringify(Vq)),t.internal.acroformPlugin.acroFormDictionaryRoot)throw new Error("Exception while creating AcroformDictionary");C5=t.internal.scaleFactor,t.internal.acroformPlugin.acroFormDictionaryRoot=new dT,t.internal.acroformPlugin.acroFormDictionaryRoot.scope=t,t.internal.acroformPlugin.acroFormDictionaryRoot._eventID=t.internal.events.subscribe("postPutResources",function(){(function(n){n.internal.events.unsubscribe(n.internal.acroformPlugin.acroFormDictionaryRoot._eventID),delete n.internal.acroformPlugin.acroFormDictionaryRoot._eventID,n.internal.acroformPlugin.printedOut=!0})(t)}),t.internal.events.subscribe("buildDocument",function(){(function(n){n.internal.acroformPlugin.acroFormDictionaryRoot.objId=void 0;var r=n.internal.acroformPlugin.acroFormDictionaryRoot.Fields;for(var i in r)if(r.hasOwnProperty(i)){var s=r[i];s.objId=void 0,s.hasAnnotation&&Bq(s,n)}})(t)}),t.internal.events.subscribe("putCatalog",function(){(function(n){if(n.internal.acroformPlugin.acroFormDictionaryRoot===void 0)throw new Error("putCatalogCallback: Root missing.");n.internal.write("/AcroForm "+n.internal.acroformPlugin.acroFormDictionaryRoot.objId+" 0 R")})(t)}),t.internal.events.subscribe("postPutPages",function(n){(function(r,i){var s=!r;for(var o in r||(i.internal.newObjectDeferredBegin(i.internal.acroformPlugin.acroFormDictionaryRoot.objId,!0),i.internal.acroformPlugin.acroFormDictionaryRoot.putStream()),r=r||i.internal.acroformPlugin.acroFormDictionaryRoot.Kids)if(r.hasOwnProperty(o)){var a=r[o],l=[],u=a.Rect;if(a.Rect&&(a.Rect=Fq(a.Rect,i)),i.internal.newObjectDeferredBegin(a.objId,!0),a.DA=Ge.createDefaultAppearanceStream(a),an(a)==="object"&&typeof a.getKeyValueListForStream=="function"&&(l=a.getKeyValueListForStream()),a.Rect=u,a.hasAppearanceStream&&!a.appearanceStreamContent){var c=Oq(a);l.push({key:"AP",value:"<</N "+c+">>"}),i.internal.acroformPlugin.xForms.push(c)}if(a.appearanceStreamContent){var d="";for(var g in a.appearanceStreamContent)if(a.appearanceStreamContent.hasOwnProperty(g)){var p=a.appearanceStreamContent[g];if(d+="/"+g+" ",d+="<<",Object.keys(p).length>=1||Array.isArray(p)){for(var o in p)if(p.hasOwnProperty(o)){var b=p[o];typeof b=="function"&&(b=b.call(i,a)),d+="/"+o+" "+b+" ",i.internal.acroformPlugin.xForms.indexOf(b)>=0||i.internal.acroformPlugin.xForms.push(b)}}else typeof(b=p)=="function"&&(b=b.call(i,a)),d+="/"+o+" "+b,i.internal.acroformPlugin.xForms.indexOf(b)>=0||i.internal.acroformPlugin.xForms.push(b);d+=">>"}l.push({key:"AP",value:`<<
`+d+">>"})}i.internal.putStream({additionalKeyValues:l,objectId:a.objId}),i.internal.out("endobj")}s&&function(x,A){for(var v in x)if(x.hasOwnProperty(v)){var _=v,T=x[v];A.internal.newObjectDeferredBegin(T.objId,!0),an(T)==="object"&&typeof T.putStream=="function"&&T.putStream(),delete x[_]}}(i.internal.acroformPlugin.xForms,i)})(n,t)}),t.internal.acroformPlugin.isInitialized=!0}},hT=Hn.__acroform__.arrayToPdfArray=function(t,e,n){var r=function(o){return o};if(Array.isArray(t)){for(var i="[",s=0;s<t.length;s++)switch(s!==0&&(i+=" "),an(t[s])){case"boolean":case"number":case"object":i+=t[s].toString();break;case"string":t[s].substr(0,1)!=="/"?(e!==void 0&&n&&(r=n.internal.getEncryptor(e)),i+="("+vu(r(t[s].toString()))+")"):i+=t[s].toString()}return i+"]"}throw new Error("Invalid argument passed to jsPDF.__acroform__.arrayToPdfArray")},Y1=function(t,e,n){var r=function(i){return i};return e!==void 0&&n&&(r=n.internal.getEncryptor(e)),(t=t||"").toString(),"("+vu(r(t))+")"},po=function(){this._objId=void 0,this._scope=void 0,Object.defineProperty(this,"objId",{get:function(){if(this._objId===void 0){if(this.scope===void 0)return;this._objId=this.scope.internal.newObjectDeferred()}return this._objId},set:function(t){this._objId=t}}),Object.defineProperty(this,"scope",{value:this._scope,writable:!0})};po.prototype.toString=function(){return this.objId+" 0 R"},po.prototype.putStream=function(){var t=this.getKeyValueListForStream();this.scope.internal.putStream({data:this.stream,additionalKeyValues:t,objectId:this.objId}),this.scope.internal.out("endobj")},po.prototype.getKeyValueListForStream=function(){var t=[],e=Object.getOwnPropertyNames(this).filter(function(s){return s!="content"&&s!="appearanceStreamContent"&&s!="scope"&&s!="objId"&&s.substring(0,1)!="_"});for(var n in e)if(Object.getOwnPropertyDescriptor(this,e[n]).configurable===!1){var r=e[n],i=this[r];i&&(Array.isArray(i)?t.push({key:r,value:hT(i,this.objId,this.scope)}):i instanceof po?(i.scope=this.scope,t.push({key:r,value:i.objId+" 0 R"})):typeof i!="function"&&t.push({key:r,value:i}))}return t};var fT=function(){po.call(this),Object.defineProperty(this,"Type",{value:"/XObject",configurable:!1,writable:!0}),Object.defineProperty(this,"Subtype",{value:"/Form",configurable:!1,writable:!0}),Object.defineProperty(this,"FormType",{value:1,configurable:!1,writable:!0});var t,e=[];Object.defineProperty(this,"BBox",{configurable:!1,get:function(){return e},set:function(n){e=n}}),Object.defineProperty(this,"Resources",{value:"2 0 R",configurable:!1,writable:!0}),Object.defineProperty(this,"stream",{enumerable:!1,configurable:!0,set:function(n){t=n.trim()},get:function(){return t||null}})};ji(fT,po);var dT=function(){po.call(this);var t,e=[];Object.defineProperty(this,"Kids",{enumerable:!1,configurable:!0,get:function(){return e.length>0?e:void 0}}),Object.defineProperty(this,"Fields",{enumerable:!1,configurable:!1,get:function(){return e}}),Object.defineProperty(this,"DA",{enumerable:!1,configurable:!1,get:function(){if(t){var n=function(r){return r};return this.scope&&(n=this.scope.internal.getEncryptor(this.objId)),"("+vu(n(t))+")"}},set:function(n){t=n}})};ji(dT,po);var $s=function t(){po.call(this);var e=4;Object.defineProperty(this,"F",{enumerable:!1,configurable:!1,get:function(){return e},set:function(v){if(isNaN(v))throw new Error('Invalid value "'+v+'" for attribute F supplied.');e=v}}),Object.defineProperty(this,"showWhenPrinted",{enumerable:!0,configurable:!0,get:function(){return!!sr(e,3)},set:function(v){v?this.F=or(e,3):this.F=ar(e,3)}});var n=0;Object.defineProperty(this,"Ff",{enumerable:!1,configurable:!1,get:function(){return n},set:function(v){if(isNaN(v))throw new Error('Invalid value "'+v+'" for attribute Ff supplied.');n=v}});var r=[];Object.defineProperty(this,"Rect",{enumerable:!1,configurable:!1,get:function(){if(r.length!==0)return r},set:function(v){r=v!==void 0?v:[]}}),Object.defineProperty(this,"x",{enumerable:!0,configurable:!0,get:function(){return!r||isNaN(r[0])?0:r[0]},set:function(v){r[0]=v}}),Object.defineProperty(this,"y",{enumerable:!0,configurable:!0,get:function(){return!r||isNaN(r[1])?0:r[1]},set:function(v){r[1]=v}}),Object.defineProperty(this,"width",{enumerable:!0,configurable:!0,get:function(){return!r||isNaN(r[2])?0:r[2]},set:function(v){r[2]=v}}),Object.defineProperty(this,"height",{enumerable:!0,configurable:!0,get:function(){return!r||isNaN(r[3])?0:r[3]},set:function(v){r[3]=v}});var i="";Object.defineProperty(this,"FT",{enumerable:!0,configurable:!1,get:function(){return i},set:function(v){switch(v){case"/Btn":case"/Tx":case"/Ch":case"/Sig":i=v;break;default:throw new Error('Invalid value "'+v+'" for attribute FT supplied.')}}});var s=null;Object.defineProperty(this,"T",{enumerable:!0,configurable:!1,get:function(){if(!s||s.length<1){if(this instanceof I0)return;s="FieldObject"+t.FieldNum++}var v=function(_){return _};return this.scope&&(v=this.scope.internal.getEncryptor(this.objId)),"("+vu(v(s))+")"},set:function(v){s=v.toString()}}),Object.defineProperty(this,"fieldName",{configurable:!0,enumerable:!0,get:function(){return s},set:function(v){s=v}});var o="helvetica";Object.defineProperty(this,"fontName",{enumerable:!0,configurable:!0,get:function(){return o},set:function(v){o=v}});var a="normal";Object.defineProperty(this,"fontStyle",{enumerable:!0,configurable:!0,get:function(){return a},set:function(v){a=v}});var l=0;Object.defineProperty(this,"fontSize",{enumerable:!0,configurable:!0,get:function(){return l},set:function(v){l=v}});var u=void 0;Object.defineProperty(this,"maxFontSize",{enumerable:!0,configurable:!0,get:function(){return u===void 0?50/C5:u},set:function(v){u=v}});var c="black";Object.defineProperty(this,"color",{enumerable:!0,configurable:!0,get:function(){return c},set:function(v){c=v}});var d="/F1 0 Tf 0 g";Object.defineProperty(this,"DA",{enumerable:!0,configurable:!1,get:function(){if(!(!d||this instanceof I0||this instanceof Zl))return Y1(d,this.objId,this.scope)},set:function(v){v=v.toString(),d=v}});var g=null;Object.defineProperty(this,"DV",{enumerable:!1,configurable:!1,get:function(){if(g)return this instanceof Er==0?Y1(g,this.objId,this.scope):g},set:function(v){v=v.toString(),g=this instanceof Er==0?v.substr(0,1)==="("?Tu(v.substr(1,v.length-2)):Tu(v):v}}),Object.defineProperty(this,"defaultValue",{enumerable:!0,configurable:!0,get:function(){return this instanceof Er==1?Tu(g.substr(1,g.length-1)):g},set:function(v){v=v.toString(),g=this instanceof Er==1?"/"+v:v}});var p=null;Object.defineProperty(this,"_V",{enumerable:!1,configurable:!1,get:function(){if(p)return p},set:function(v){this.V=v}}),Object.defineProperty(this,"V",{enumerable:!1,configurable:!1,get:function(){if(p)return this instanceof Er==0?Y1(p,this.objId,this.scope):p},set:function(v){v=v.toString(),p=this instanceof Er==0?v.substr(0,1)==="("?Tu(v.substr(1,v.length-2)):Tu(v):v}}),Object.defineProperty(this,"value",{enumerable:!0,configurable:!0,get:function(){return this instanceof Er==1?Tu(p.substr(1,p.length-1)):p},set:function(v){v=v.toString(),p=this instanceof Er==1?"/"+v:v}}),Object.defineProperty(this,"hasAnnotation",{enumerable:!0,configurable:!0,get:function(){return this.Rect}}),Object.defineProperty(this,"Type",{enumerable:!0,configurable:!1,get:function(){return this.hasAnnotation?"/Annot":null}}),Object.defineProperty(this,"Subtype",{enumerable:!0,configurable:!1,get:function(){return this.hasAnnotation?"/Widget":null}});var b,x=!1;Object.defineProperty(this,"hasAppearanceStream",{enumerable:!0,configurable:!0,get:function(){return x},set:function(v){v=!!v,x=v}}),Object.defineProperty(this,"page",{enumerable:!0,configurable:!0,get:function(){if(b)return b},set:function(v){b=v}}),Object.defineProperty(this,"readOnly",{enumerable:!0,configurable:!0,get:function(){return!!sr(this.Ff,1)},set:function(v){v?this.Ff=or(this.Ff,1):this.Ff=ar(this.Ff,1)}}),Object.defineProperty(this,"required",{enumerable:!0,configurable:!0,get:function(){return!!sr(this.Ff,2)},set:function(v){v?this.Ff=or(this.Ff,2):this.Ff=ar(this.Ff,2)}}),Object.defineProperty(this,"noExport",{enumerable:!0,configurable:!0,get:function(){return!!sr(this.Ff,3)},set:function(v){v?this.Ff=or(this.Ff,3):this.Ff=ar(this.Ff,3)}});var A=null;Object.defineProperty(this,"Q",{enumerable:!0,configurable:!1,get:function(){if(A!==null)return A},set:function(v){if([0,1,2].indexOf(v)===-1)throw new Error('Invalid value "'+v+'" for attribute Q supplied.');A=v}}),Object.defineProperty(this,"textAlign",{get:function(){var v;switch(A){case 0:default:v="left";break;case 1:v="center";break;case 2:v="right"}return v},configurable:!0,enumerable:!0,set:function(v){switch(v){case"right":case 2:A=2;break;case"center":case 1:A=1;break;default:A=0}}})};ji($s,po);var ac=function(){$s.call(this),this.FT="/Ch",this.V="()",this.fontName="zapfdingbats";var t=0;Object.defineProperty(this,"TI",{enumerable:!0,configurable:!1,get:function(){return t},set:function(n){t=n}}),Object.defineProperty(this,"topIndex",{enumerable:!0,configurable:!0,get:function(){return t},set:function(n){t=n}});var e=[];Object.defineProperty(this,"Opt",{enumerable:!0,configurable:!1,get:function(){return hT(e,this.objId,this.scope)},set:function(n){var r,i;i=[],typeof(r=n)=="string"&&(i=function(s,o,a){a||(a=1);for(var l,u=[];l=o.exec(s);)u.push(l[a]);return u}(r,/\((.*?)\)/g)),e=i}}),this.getOptions=function(){return e},this.setOptions=function(n){e=n,this.sort&&e.sort()},this.addOption=function(n){n=(n=n||"").toString(),e.push(n),this.sort&&e.sort()},this.removeOption=function(n,r){for(r=r||!1,n=(n=n||"").toString();e.indexOf(n)!==-1&&(e.splice(e.indexOf(n),1),r!==!1););},Object.defineProperty(this,"combo",{enumerable:!0,configurable:!0,get:function(){return!!sr(this.Ff,18)},set:function(n){n?this.Ff=or(this.Ff,18):this.Ff=ar(this.Ff,18)}}),Object.defineProperty(this,"edit",{enumerable:!0,configurable:!0,get:function(){return!!sr(this.Ff,19)},set:function(n){this.combo===!0&&(n?this.Ff=or(this.Ff,19):this.Ff=ar(this.Ff,19))}}),Object.defineProperty(this,"sort",{enumerable:!0,configurable:!0,get:function(){return!!sr(this.Ff,20)},set:function(n){n?(this.Ff=or(this.Ff,20),e.sort()):this.Ff=ar(this.Ff,20)}}),Object.defineProperty(this,"multiSelect",{enumerable:!0,configurable:!0,get:function(){return!!sr(this.Ff,22)},set:function(n){n?this.Ff=or(this.Ff,22):this.Ff=ar(this.Ff,22)}}),Object.defineProperty(this,"doNotSpellCheck",{enumerable:!0,configurable:!0,get:function(){return!!sr(this.Ff,23)},set:function(n){n?this.Ff=or(this.Ff,23):this.Ff=ar(this.Ff,23)}}),Object.defineProperty(this,"commitOnSelChange",{enumerable:!0,configurable:!0,get:function(){return!!sr(this.Ff,27)},set:function(n){n?this.Ff=or(this.Ff,27):this.Ff=ar(this.Ff,27)}}),this.hasAppearanceStream=!1};ji(ac,$s);var lc=function(){ac.call(this),this.fontName="helvetica",this.combo=!1};ji(lc,ac);var uc=function(){lc.call(this),this.combo=!0};ji(uc,lc);var Ip=function(){uc.call(this),this.edit=!0};ji(Ip,uc);var Er=function(){$s.call(this),this.FT="/Btn",Object.defineProperty(this,"noToggleToOff",{enumerable:!0,configurable:!0,get:function(){return!!sr(this.Ff,15)},set:function(n){n?this.Ff=or(this.Ff,15):this.Ff=ar(this.Ff,15)}}),Object.defineProperty(this,"radio",{enumerable:!0,configurable:!0,get:function(){return!!sr(this.Ff,16)},set:function(n){n?this.Ff=or(this.Ff,16):this.Ff=ar(this.Ff,16)}}),Object.defineProperty(this,"pushButton",{enumerable:!0,configurable:!0,get:function(){return!!sr(this.Ff,17)},set:function(n){n?this.Ff=or(this.Ff,17):this.Ff=ar(this.Ff,17)}}),Object.defineProperty(this,"radioIsUnison",{enumerable:!0,configurable:!0,get:function(){return!!sr(this.Ff,26)},set:function(n){n?this.Ff=or(this.Ff,26):this.Ff=ar(this.Ff,26)}});var t,e={};Object.defineProperty(this,"MK",{enumerable:!1,configurable:!1,get:function(){var n=function(s){return s};if(this.scope&&(n=this.scope.internal.getEncryptor(this.objId)),Object.keys(e).length!==0){var r,i=[];for(r in i.push("<<"),e)i.push("/"+r+" ("+vu(n(e[r]))+")");return i.push(">>"),i.join(`
`)}},set:function(n){an(n)==="object"&&(e=n)}}),Object.defineProperty(this,"caption",{enumerable:!0,configurable:!0,get:function(){return e.CA||""},set:function(n){typeof n=="string"&&(e.CA=n)}}),Object.defineProperty(this,"AS",{enumerable:!1,configurable:!1,get:function(){return t},set:function(n){t=n}}),Object.defineProperty(this,"appearanceState",{enumerable:!0,configurable:!0,get:function(){return t.substr(1,t.length-1)},set:function(n){t="/"+n}})};ji(Er,$s);var Lp=function(){Er.call(this),this.pushButton=!0};ji(Lp,Er);var cc=function(){Er.call(this),this.radio=!0,this.pushButton=!1;var t=[];Object.defineProperty(this,"Kids",{enumerable:!0,configurable:!1,get:function(){return t},set:function(e){t=e!==void 0?e:[]}})};ji(cc,Er);var I0=function(){var t,e;$s.call(this),Object.defineProperty(this,"Parent",{enumerable:!1,configurable:!1,get:function(){return t},set:function(i){t=i}}),Object.defineProperty(this,"optionName",{enumerable:!1,configurable:!0,get:function(){return e},set:function(i){e=i}});var n,r={};Object.defineProperty(this,"MK",{enumerable:!1,configurable:!1,get:function(){var i=function(a){return a};this.scope&&(i=this.scope.internal.getEncryptor(this.objId));var s,o=[];for(s in o.push("<<"),r)o.push("/"+s+" ("+vu(i(r[s]))+")");return o.push(">>"),o.join(`
`)},set:function(i){an(i)==="object"&&(r=i)}}),Object.defineProperty(this,"caption",{enumerable:!0,configurable:!0,get:function(){return r.CA||""},set:function(i){typeof i=="string"&&(r.CA=i)}}),Object.defineProperty(this,"AS",{enumerable:!1,configurable:!1,get:function(){return n},set:function(i){n=i}}),Object.defineProperty(this,"appearanceState",{enumerable:!0,configurable:!0,get:function(){return n.substr(1,n.length-1)},set:function(i){n="/"+i}}),this.caption="l",this.appearanceState="Off",this._AppearanceType=Ge.RadioButton.Circle,this.appearanceStreamContent=this._AppearanceType.createAppearanceStream(this.optionName)};ji(I0,$s),cc.prototype.setAppearance=function(t){if(!("createAppearanceStream"in t)||!("getCA"in t))throw new Error("Couldn't assign Appearance to RadioButton. Appearance was Invalid!");for(var e in this.Kids)if(this.Kids.hasOwnProperty(e)){var n=this.Kids[e];n.appearanceStreamContent=t.createAppearanceStream(n.optionName),n.caption=t.getCA()}},cc.prototype.createOption=function(t){var e=new I0;return e.Parent=this,e.optionName=t,this.Kids.push(e),zq.call(this.scope,e),e};var Rp=function(){Er.call(this),this.fontName="zapfdingbats",this.caption="3",this.appearanceState="On",this.value="On",this.textAlign="center",this.appearanceStreamContent=Ge.CheckBox.createAppearanceStream()};ji(Rp,Er);var Zl=function(){$s.call(this),this.FT="/Tx",Object.defineProperty(this,"multiline",{enumerable:!0,configurable:!0,get:function(){return!!sr(this.Ff,13)},set:function(e){e?this.Ff=or(this.Ff,13):this.Ff=ar(this.Ff,13)}}),Object.defineProperty(this,"fileSelect",{enumerable:!0,configurable:!0,get:function(){return!!sr(this.Ff,21)},set:function(e){e?this.Ff=or(this.Ff,21):this.Ff=ar(this.Ff,21)}}),Object.defineProperty(this,"doNotSpellCheck",{enumerable:!0,configurable:!0,get:function(){return!!sr(this.Ff,23)},set:function(e){e?this.Ff=or(this.Ff,23):this.Ff=ar(this.Ff,23)}}),Object.defineProperty(this,"doNotScroll",{enumerable:!0,configurable:!0,get:function(){return!!sr(this.Ff,24)},set:function(e){e?this.Ff=or(this.Ff,24):this.Ff=ar(this.Ff,24)}}),Object.defineProperty(this,"comb",{enumerable:!0,configurable:!0,get:function(){return!!sr(this.Ff,25)},set:function(e){e?this.Ff=or(this.Ff,25):this.Ff=ar(this.Ff,25)}}),Object.defineProperty(this,"richText",{enumerable:!0,configurable:!0,get:function(){return!!sr(this.Ff,26)},set:function(e){e?this.Ff=or(this.Ff,26):this.Ff=ar(this.Ff,26)}});var t=null;Object.defineProperty(this,"MaxLen",{enumerable:!0,configurable:!1,get:function(){return t},set:function(e){t=e}}),Object.defineProperty(this,"maxLength",{enumerable:!0,configurable:!0,get:function(){return t},set:function(e){Number.isInteger(e)&&(t=e)}}),Object.defineProperty(this,"hasAppearanceStream",{enumerable:!0,configurable:!0,get:function(){return this.V||this.DV}})};ji(Zl,$s);var jp=function(){Zl.call(this),Object.defineProperty(this,"password",{enumerable:!0,configurable:!0,get:function(){return!!sr(this.Ff,14)},set:function(t){t?this.Ff=or(this.Ff,14):this.Ff=ar(this.Ff,14)}}),this.password=!0};ji(jp,Zl);var Ge={CheckBox:{createAppearanceStream:function(){return{N:{On:Ge.CheckBox.YesNormal},D:{On:Ge.CheckBox.YesPushDown,Off:Ge.CheckBox.OffPushDown}}},YesPushDown:function(t){var e=co(t);e.scope=t.scope;var n=[],r=t.scope.internal.getFont(t.fontName,t.fontStyle).id,i=t.scope.__private__.encodeColorString(t.color),s=ty(t,t.caption);return n.push("0.749023 g"),n.push("0 0 "+At(Ge.internal.getWidth(t))+" "+At(Ge.internal.getHeight(t))+" re"),n.push("f"),n.push("BMC"),n.push("q"),n.push("0 0 1 rg"),n.push("/"+r+" "+At(s.fontSize)+" Tf "+i),n.push("BT"),n.push(s.text),n.push("ET"),n.push("Q"),n.push("EMC"),e.stream=n.join(`
`),e},YesNormal:function(t){var e=co(t);e.scope=t.scope;var n=t.scope.internal.getFont(t.fontName,t.fontStyle).id,r=t.scope.__private__.encodeColorString(t.color),i=[],s=Ge.internal.getHeight(t),o=Ge.internal.getWidth(t),a=ty(t,t.caption);return i.push("1 g"),i.push("0 0 "+At(o)+" "+At(s)+" re"),i.push("f"),i.push("q"),i.push("0 0 1 rg"),i.push("0 0 "+At(o-1)+" "+At(s-1)+" re"),i.push("W"),i.push("n"),i.push("0 g"),i.push("BT"),i.push("/"+n+" "+At(a.fontSize)+" Tf "+r),i.push(a.text),i.push("ET"),i.push("Q"),e.stream=i.join(`
`),e},OffPushDown:function(t){var e=co(t);e.scope=t.scope;var n=[];return n.push("0.749023 g"),n.push("0 0 "+At(Ge.internal.getWidth(t))+" "+At(Ge.internal.getHeight(t))+" re"),n.push("f"),e.stream=n.join(`
`),e}},RadioButton:{Circle:{createAppearanceStream:function(t){var e={D:{Off:Ge.RadioButton.Circle.OffPushDown},N:{}};return e.N[t]=Ge.RadioButton.Circle.YesNormal,e.D[t]=Ge.RadioButton.Circle.YesPushDown,e},getCA:function(){return"l"},YesNormal:function(t){var e=co(t);e.scope=t.scope;var n=[],r=Ge.internal.getWidth(t)<=Ge.internal.getHeight(t)?Ge.internal.getWidth(t)/4:Ge.internal.getHeight(t)/4;r=Number((.9*r).toFixed(5));var i=Ge.internal.Bezier_C,s=Number((r*i).toFixed(5));return n.push("q"),n.push("1 0 0 1 "+Ia(Ge.internal.getWidth(t)/2)+" "+Ia(Ge.internal.getHeight(t)/2)+" cm"),n.push(r+" 0 m"),n.push(r+" "+s+" "+s+" "+r+" 0 "+r+" c"),n.push("-"+s+" "+r+" -"+r+" "+s+" -"+r+" 0 c"),n.push("-"+r+" -"+s+" -"+s+" -"+r+" 0 -"+r+" c"),n.push(s+" -"+r+" "+r+" -"+s+" "+r+" 0 c"),n.push("f"),n.push("Q"),e.stream=n.join(`
`),e},YesPushDown:function(t){var e=co(t);e.scope=t.scope;var n=[],r=Ge.internal.getWidth(t)<=Ge.internal.getHeight(t)?Ge.internal.getWidth(t)/4:Ge.internal.getHeight(t)/4;r=Number((.9*r).toFixed(5));var i=Number((2*r).toFixed(5)),s=Number((i*Ge.internal.Bezier_C).toFixed(5)),o=Number((r*Ge.internal.Bezier_C).toFixed(5));return n.push("0.749023 g"),n.push("q"),n.push("1 0 0 1 "+Ia(Ge.internal.getWidth(t)/2)+" "+Ia(Ge.internal.getHeight(t)/2)+" cm"),n.push(i+" 0 m"),n.push(i+" "+s+" "+s+" "+i+" 0 "+i+" c"),n.push("-"+s+" "+i+" -"+i+" "+s+" -"+i+" 0 c"),n.push("-"+i+" -"+s+" -"+s+" -"+i+" 0 -"+i+" c"),n.push(s+" -"+i+" "+i+" -"+s+" "+i+" 0 c"),n.push("f"),n.push("Q"),n.push("0 g"),n.push("q"),n.push("1 0 0 1 "+Ia(Ge.internal.getWidth(t)/2)+" "+Ia(Ge.internal.getHeight(t)/2)+" cm"),n.push(r+" 0 m"),n.push(r+" "+o+" "+o+" "+r+" 0 "+r+" c"),n.push("-"+o+" "+r+" -"+r+" "+o+" -"+r+" 0 c"),n.push("-"+r+" -"+o+" -"+o+" -"+r+" 0 -"+r+" c"),n.push(o+" -"+r+" "+r+" -"+o+" "+r+" 0 c"),n.push("f"),n.push("Q"),e.stream=n.join(`
`),e},OffPushDown:function(t){var e=co(t);e.scope=t.scope;var n=[],r=Ge.internal.getWidth(t)<=Ge.internal.getHeight(t)?Ge.internal.getWidth(t)/4:Ge.internal.getHeight(t)/4;r=Number((.9*r).toFixed(5));var i=Number((2*r).toFixed(5)),s=Number((i*Ge.internal.Bezier_C).toFixed(5));return n.push("0.749023 g"),n.push("q"),n.push("1 0 0 1 "+Ia(Ge.internal.getWidth(t)/2)+" "+Ia(Ge.internal.getHeight(t)/2)+" cm"),n.push(i+" 0 m"),n.push(i+" "+s+" "+s+" "+i+" 0 "+i+" c"),n.push("-"+s+" "+i+" -"+i+" "+s+" -"+i+" 0 c"),n.push("-"+i+" -"+s+" -"+s+" -"+i+" 0 -"+i+" c"),n.push(s+" -"+i+" "+i+" -"+s+" "+i+" 0 c"),n.push("f"),n.push("Q"),e.stream=n.join(`
`),e}},Cross:{createAppearanceStream:function(t){var e={D:{Off:Ge.RadioButton.Cross.OffPushDown},N:{}};return e.N[t]=Ge.RadioButton.Cross.YesNormal,e.D[t]=Ge.RadioButton.Cross.YesPushDown,e},getCA:function(){return"8"},YesNormal:function(t){var e=co(t);e.scope=t.scope;var n=[],r=Ge.internal.calculateCross(t);return n.push("q"),n.push("1 1 "+At(Ge.internal.getWidth(t)-2)+" "+At(Ge.internal.getHeight(t)-2)+" re"),n.push("W"),n.push("n"),n.push(At(r.x1.x)+" "+At(r.x1.y)+" m"),n.push(At(r.x2.x)+" "+At(r.x2.y)+" l"),n.push(At(r.x4.x)+" "+At(r.x4.y)+" m"),n.push(At(r.x3.x)+" "+At(r.x3.y)+" l"),n.push("s"),n.push("Q"),e.stream=n.join(`
`),e},YesPushDown:function(t){var e=co(t);e.scope=t.scope;var n=Ge.internal.calculateCross(t),r=[];return r.push("0.749023 g"),r.push("0 0 "+At(Ge.internal.getWidth(t))+" "+At(Ge.internal.getHeight(t))+" re"),r.push("f"),r.push("q"),r.push("1 1 "+At(Ge.internal.getWidth(t)-2)+" "+At(Ge.internal.getHeight(t)-2)+" re"),r.push("W"),r.push("n"),r.push(At(n.x1.x)+" "+At(n.x1.y)+" m"),r.push(At(n.x2.x)+" "+At(n.x2.y)+" l"),r.push(At(n.x4.x)+" "+At(n.x4.y)+" m"),r.push(At(n.x3.x)+" "+At(n.x3.y)+" l"),r.push("s"),r.push("Q"),e.stream=r.join(`
`),e},OffPushDown:function(t){var e=co(t);e.scope=t.scope;var n=[];return n.push("0.749023 g"),n.push("0 0 "+At(Ge.internal.getWidth(t))+" "+At(Ge.internal.getHeight(t))+" re"),n.push("f"),e.stream=n.join(`
`),e}}},createDefaultAppearanceStream:function(t){var e=t.scope.internal.getFont(t.fontName,t.fontStyle).id,n=t.scope.__private__.encodeColorString(t.color);return"/"+e+" "+t.fontSize+" Tf "+n}};Ge.internal={Bezier_C:.551915024494,calculateCross:function(t){var e=Ge.internal.getWidth(t),n=Ge.internal.getHeight(t),r=Math.min(e,n);return{x1:{x:(e-r)/2,y:(n-r)/2+r},x2:{x:(e-r)/2+r,y:(n-r)/2},x3:{x:(e-r)/2,y:(n-r)/2},x4:{x:(e-r)/2+r,y:(n-r)/2+r}}}},Ge.internal.getWidth=function(t){var e=0;return an(t)==="object"&&(e=X3(t.Rect[2])),e},Ge.internal.getHeight=function(t){var e=0;return an(t)==="object"&&(e=X3(t.Rect[3])),e};var zq=Hn.addField=function(t){if(Uq(this,t),!(t instanceof $s))throw new Error("Invalid argument passed to jsPDF.addField.");var e;return(e=t).scope.internal.acroformPlugin.printedOut&&(e.scope.internal.acroformPlugin.printedOut=!1,e.scope.internal.acroformPlugin.acroFormDictionaryRoot=null),e.scope.internal.acroformPlugin.acroFormDictionaryRoot.Fields.push(e),t.page=t.scope.internal.getCurrentPageInfo().pageNumber,this};Hn.AcroFormChoiceField=ac,Hn.AcroFormListBox=lc,Hn.AcroFormComboBox=uc,Hn.AcroFormEditBox=Ip,Hn.AcroFormButton=Er,Hn.AcroFormPushButton=Lp,Hn.AcroFormRadioButton=cc,Hn.AcroFormCheckBox=Rp,Hn.AcroFormTextField=Zl,Hn.AcroFormPasswordField=jp,Hn.AcroFormAppearance=Ge,Hn.AcroForm={ChoiceField:ac,ListBox:lc,ComboBox:uc,EditBox:Ip,Button:Er,PushButton:Lp,RadioButton:cc,CheckBox:Rp,TextField:Zl,PasswordField:jp,Appearance:Ge},it.AcroForm={ChoiceField:ac,ListBox:lc,ComboBox:uc,EditBox:Ip,Button:Er,PushButton:Lp,RadioButton:cc,CheckBox:Rp,TextField:Zl,PasswordField:jp,Appearance:Ge};it.AcroForm;function pT(t){return t.reduce(function(e,n,r){return e[n]=r,e},{})}(function(t){var e="addImage_";t.__addimage__={};var n="UNKNOWN",r={PNG:[[137,80,78,71]],TIFF:[[77,77,0,42],[73,73,42,0]],JPEG:[[255,216,255,224,void 0,void 0,74,70,73,70,0],[255,216,255,225,void 0,void 0,69,120,105,102,0,0],[255,216,255,219],[255,216,255,238]],JPEG2000:[[0,0,0,12,106,80,32,32]],GIF87a:[[71,73,70,56,55,97]],GIF89a:[[71,73,70,56,57,97]],WEBP:[[82,73,70,70,void 0,void 0,void 0,void 0,87,69,66,80]],BMP:[[66,77],[66,65],[67,73],[67,80],[73,67],[80,84]]},i=t.__addimage__.getImageFileTypeByImageData=function(E,L){var j,H,ne,ce,ae,ee=n;if((L=L||n)==="RGBA"||E.data!==void 0&&E.data instanceof Uint8ClampedArray&&"height"in E&&"width"in E)return"RGBA";if(K(E))for(ae in r)for(ne=r[ae],j=0;j<ne.length;j+=1){for(ce=!0,H=0;H<ne[j].length;H+=1)if(ne[j][H]!==void 0&&ne[j][H]!==E[H]){ce=!1;break}if(ce===!0){ee=ae;break}}else for(ae in r)for(ne=r[ae],j=0;j<ne.length;j+=1){for(ce=!0,H=0;H<ne[j].length;H+=1)if(ne[j][H]!==void 0&&ne[j][H]!==E.charCodeAt(H)){ce=!1;break}if(ce===!0){ee=ae;break}}return ee===n&&L!==n&&(ee=L),ee},s=function E(L){for(var j=this.internal.write,H=this.internal.putStream,ne=(0,this.internal.getFilters)();ne.indexOf("FlateEncode")!==-1;)ne.splice(ne.indexOf("FlateEncode"),1);L.objectId=this.internal.newObject();var ce=[];if(ce.push({key:"Type",value:"/XObject"}),ce.push({key:"Subtype",value:"/Image"}),ce.push({key:"Width",value:L.width}),ce.push({key:"Height",value:L.height}),L.colorSpace===v.INDEXED?ce.push({key:"ColorSpace",value:"[/Indexed /DeviceRGB "+(L.palette.length/3-1)+" "+("sMask"in L&&L.sMask!==void 0?L.objectId+2:L.objectId+1)+" 0 R]"}):(ce.push({key:"ColorSpace",value:"/"+L.colorSpace}),L.colorSpace===v.DEVICE_CMYK&&ce.push({key:"Decode",value:"[1 0 1 0 1 0 1 0]"})),ce.push({key:"BitsPerComponent",value:L.bitsPerComponent}),"decodeParameters"in L&&L.decodeParameters!==void 0&&ce.push({key:"DecodeParms",value:"<<"+L.decodeParameters+">>"}),"transparency"in L&&Array.isArray(L.transparency)&&L.transparency.length>0){for(var ae="",ee=0,oe=L.transparency.length;ee<oe;ee++)ae+=L.transparency[ee]+" "+L.transparency[ee]+" ";ce.push({key:"Mask",value:"["+ae+"]"})}L.sMask!==void 0&&ce.push({key:"SMask",value:L.objectId+1+" 0 R"});var ge=L.filter!==void 0?["/"+L.filter]:void 0;if(H({data:L.data,additionalKeyValues:ce,alreadyAppliedFilters:ge,objectId:L.objectId}),j("endobj"),"sMask"in L&&L.sMask!==void 0){var xe,V=(xe=L.sMaskBitsPerComponent)!==null&&xe!==void 0?xe:L.bitsPerComponent,Q={width:L.width,height:L.height,colorSpace:"DeviceGray",bitsPerComponent:V,data:L.sMask};"filter"in L&&(Q.decodeParameters="/Predictor ".concat(L.predictor," /Colors 1 /BitsPerComponent ").concat(V," /Columns ").concat(L.width),Q.filter=L.filter),E.call(this,Q)}if(L.colorSpace===v.INDEXED){var te=this.internal.newObject();H({data:C(new Uint8Array(L.palette)),objectId:te}),j("endobj")}},o=function(){var E=this.internal.collections[e+"images"];for(var L in E)s.call(this,E[L])},a=function(){var E,L=this.internal.collections[e+"images"],j=this.internal.write;for(var H in L)j("/I"+(E=L[H]).index,E.objectId,"0","R")},l=function(){this.internal.collections[e+"images"]||(this.internal.collections[e+"images"]={},this.internal.events.subscribe("putResources",o),this.internal.events.subscribe("putXobjectDict",a))},u=function(){var E=this.internal.collections[e+"images"];return l.call(this),E},c=function(){return Object.keys(this.internal.collections[e+"images"]).length},d=function(E){return typeof t["process"+E.toUpperCase()]=="function"},g=function(E){return an(E)==="object"&&E.nodeType===1},p=function(E,L){if(E.nodeName==="IMG"&&E.hasAttribute("src")){var j=""+E.getAttribute("src");if(j.indexOf("data:image/")===0)return Pp(unescape(j).split("base64,").pop());var H=t.loadFile(j,!0);if(H!==void 0)return H}if(E.nodeName==="CANVAS"){if(E.width===0||E.height===0)throw new Error("Given canvas must have data. Canvas width: "+E.width+", height: "+E.height);var ne;switch(L){case"PNG":ne="image/png";break;case"WEBP":ne="image/webp";break;default:ne="image/jpeg"}return Pp(E.toDataURL(ne,1).split("base64,").pop())}},b=function(E){var L=this.internal.collections[e+"images"];if(L){for(var j in L)if(E===L[j].alias)return L[j]}},x=function(E,L,j){return E||L||(E=-96,L=-96),E<0&&(E=-1*j.width*72/E/this.internal.scaleFactor),L<0&&(L=-1*j.height*72/L/this.internal.scaleFactor),E===0&&(E=L*j.width/j.height),L===0&&(L=E*j.height/j.width),[E,L]},A=function(E,L,j,H,ne,ce){var ae=x.call(this,j,H,ne),ee=this.internal.getCoordinateString,oe=this.internal.getVerticalCoordinateString,ge=u.call(this);if(j=ae[0],H=ae[1],ge[ne.index]=ne,ce){ce*=Math.PI/180;var xe=Math.cos(ce),V=Math.sin(ce),Q=function(ie){return ie.toFixed(4)},te=[Q(xe),Q(V),Q(-1*V),Q(xe),0,0,"cm"]}this.internal.write("q"),ce?(this.internal.write([1,"0","0",1,ee(E),oe(L+H),"cm"].join(" ")),this.internal.write(te.join(" ")),this.internal.write([ee(j),"0","0",ee(H),"0","0","cm"].join(" "))):this.internal.write([ee(j),"0","0",ee(H),ee(E),oe(L+H),"cm"].join(" ")),this.isAdvancedAPI()&&this.internal.write([1,0,0,-1,0,0,"cm"].join(" ")),this.internal.write("/I"+ne.index+" Do"),this.internal.write("Q")},v=t.color_spaces={DEVICE_RGB:"DeviceRGB",DEVICE_GRAY:"DeviceGray",DEVICE_CMYK:"DeviceCMYK",CAL_GREY:"CalGray",CAL_RGB:"CalRGB",LAB:"Lab",ICC_BASED:"ICCBased",INDEXED:"Indexed",PATTERN:"Pattern",SEPARATION:"Separation",DEVICE_N:"DeviceN"};t.decode={DCT_DECODE:"DCTDecode",FLATE_DECODE:"FlateDecode",LZW_DECODE:"LZWDecode",JPX_DECODE:"JPXDecode",JBIG2_DECODE:"JBIG2Decode",ASCII85_DECODE:"ASCII85Decode",ASCII_HEX_DECODE:"ASCIIHexDecode",RUN_LENGTH_DECODE:"RunLengthDecode",CCITT_FAX_DECODE:"CCITTFaxDecode"};var _=t.image_compression={NONE:"NONE",FAST:"FAST",MEDIUM:"MEDIUM",SLOW:"SLOW"},T=t.__addimage__.sHashCode=function(E){var L,j,H=0;if(typeof E=="string")for(j=E.length,L=0;L<j;L++)H=(H<<5)-H+E.charCodeAt(L),H|=0;else if(K(E))for(j=E.byteLength/2,L=0;L<j;L++)H=(H<<5)-H+E[L],H|=0;return H},R=t.__addimage__.validateStringAsBase64=function(E){(E=E||"").toString().trim();var L=!0;return E.length===0&&(L=!1),E.length%4!=0&&(L=!1),/^[A-Za-z0-9+/]+$/.test(E.substr(0,E.length-2))===!1&&(L=!1),/^[A-Za-z0-9/][A-Za-z0-9+/]|[A-Za-z0-9+/]=|==$/.test(E.substr(-2))===!1&&(L=!1),L},z=t.__addimage__.extractImageFromDataUrl=function(E){if(E==null||!(E=E.trim()).startsWith("data:"))return null;var L=E.indexOf(",");return L<0?null:E.substring(0,L).trim().endsWith("base64")?E.substring(L+1):null};t.__addimage__.isArrayBuffer=function(E){return E instanceof ArrayBuffer};var K=t.__addimage__.isArrayBufferView=function(E){return E instanceof Int8Array||E instanceof Uint8Array||E instanceof Uint8ClampedArray||E instanceof Int16Array||E instanceof Uint16Array||E instanceof Int32Array||E instanceof Uint32Array||E instanceof Float32Array||E instanceof Float64Array},k=t.__addimage__.binaryStringToUint8Array=function(E){for(var L=E.length,j=new Uint8Array(L),H=0;H<L;H++)j[H]=E.charCodeAt(H);return j},C=t.__addimage__.arrayBufferToBinaryString=function(E){for(var L="",j=K(E)?E:new Uint8Array(E),H=0;H<j.length;H+=8192)L+=String.fromCharCode.apply(null,j.subarray(H,H+8192));return L};t.addImage=function(){var E,L,j,H,ne,ce,ae,ee,oe;if(typeof arguments[1]=="number"?(L=n,j=arguments[1],H=arguments[2],ne=arguments[3],ce=arguments[4],ae=arguments[5],ee=arguments[6],oe=arguments[7]):(L=arguments[1],j=arguments[2],H=arguments[3],ne=arguments[4],ce=arguments[5],ae=arguments[6],ee=arguments[7],oe=arguments[8]),an(E=arguments[0])==="object"&&!g(E)&&"imageData"in E){var ge=E;E=ge.imageData,L=ge.format||L||n,j=ge.x||j||0,H=ge.y||H||0,ne=ge.w||ge.width||ne,ce=ge.h||ge.height||ce,ae=ge.alias||ae,ee=ge.compression||ee,oe=ge.rotation||ge.angle||oe}var xe=this.internal.getFilters();if(ee===void 0&&xe.indexOf("FlateEncode")!==-1&&(ee="SLOW"),isNaN(j)||isNaN(H))throw new Error("Invalid coordinates passed to jsPDF.addImage");l.call(this);var V=P.call(this,E,L,ae,ee);return A.call(this,j,H,ne,ce,V,oe),this};var P=function(E,L,j,H){var ne,ce,ae;if(typeof E=="string"&&i(E)===n){E=unescape(E);var ee=M(E,!1);(ee!==""||(ee=t.loadFile(E,!0))!==void 0)&&(E=ee)}if(g(E)&&(E=p(E,L)),L=i(E,L),!d(L))throw new Error("addImage does not support files of type '"+L+"', please ensure that a plugin for '"+L+"' support is added.");if(((ae=j)==null||ae.length===0)&&(j=function(oe){return typeof oe=="string"||K(oe)?T(oe):K(oe.data)?T(oe.data):null}(E)),(ne=b.call(this,j))||(E instanceof Uint8Array||L==="RGBA"||(ce=E,E=k(E)),ne=this["process"+L.toUpperCase()](E,c.call(this),j,function(oe){return oe&&typeof oe=="string"&&(oe=oe.toUpperCase()),oe in t.image_compression?oe:_.NONE}(H),ce)),!ne)throw new Error("An unknown error occurred whilst processing the image.");return ne},M=t.__addimage__.convertBase64ToBinaryString=function(E,L){L=typeof L!="boolean"||L;var j,H="";if(typeof E=="string"){var ne;j=(ne=z(E))!==null&&ne!==void 0?ne:E;try{H=Pp(j)}catch(ce){if(L)throw R(j)?new Error("atob-Error in jsPDF.convertBase64ToBinaryString "+ce.message):new Error("Supplied Data is not a valid base64-String jsPDF.convertBase64ToBinaryString ")}}return H};t.getImageProperties=function(E){var L,j,H="";if(g(E)&&(E=p(E)),typeof E=="string"&&i(E)===n&&((H=M(E,!1))===""&&(H=t.loadFile(E)||""),E=H),j=i(E),!d(j))throw new Error("addImage does not support files of type '"+j+"', please ensure that a plugin for '"+j+"' support is added.");if(E instanceof Uint8Array||(E=k(E)),!(L=this["process"+j.toUpperCase()](E)))throw new Error("An unknown error occurred whilst processing the image");return L.fileType=j,L}})(it.API),function(t){var e=function(n){if(n!==void 0&&n!="")return!0};it.API.events.push(["addPage",function(n){this.internal.getPageInfo(n.pageNumber).pageContext.annotations=[]}]),t.events.push(["putPage",function(n){for(var r,i,s,o=this.internal.getCoordinateString,a=this.internal.getVerticalCoordinateString,l=this.internal.getPageInfoByObjId(n.objId),u=n.pageContext.annotations,c=!1,d=0;d<u.length&&!c;d++)switch((r=u[d]).type){case"link":(e(r.options.url)||e(r.options.pageNumber))&&(c=!0);break;case"reference":case"text":case"freetext":c=!0}if(c!=0){this.internal.write("/Annots [");for(var g=0;g<u.length;g++){r=u[g];var p=this.internal.pdfEscape,b=this.internal.getEncryptor(n.objId);switch(r.type){case"reference":this.internal.write(" "+r.object.objId+" 0 R ");break;case"text":var x=this.internal.newAdditionalObject(),A=this.internal.newAdditionalObject(),v=this.internal.getEncryptor(x.objId),_=r.title||"Note";s="<</Type /Annot /Subtype /Text "+(i="/Rect ["+o(r.bounds.x)+" "+a(r.bounds.y+r.bounds.h)+" "+o(r.bounds.x+r.bounds.w)+" "+a(r.bounds.y)+"] ")+"/Contents ("+p(v(r.contents))+")",s+=" /Popup "+A.objId+" 0 R",s+=" /P "+l.objId+" 0 R",s+=" /T ("+p(v(_))+") >>",x.content=s;var T=x.objId+" 0 R";s="<</Type /Annot /Subtype /Popup "+(i="/Rect ["+o(r.bounds.x+30)+" "+a(r.bounds.y+r.bounds.h)+" "+o(r.bounds.x+r.bounds.w+30)+" "+a(r.bounds.y)+"] ")+" /Parent "+T,r.open&&(s+=" /Open true"),s+=" >>",A.content=s,this.internal.write(x.objId,"0 R",A.objId,"0 R");break;case"freetext":i="/Rect ["+o(r.bounds.x)+" "+a(r.bounds.y)+" "+o(r.bounds.x+r.bounds.w)+" "+a(r.bounds.y+r.bounds.h)+"] ";var R=r.color||"#000000";s="<</Type /Annot /Subtype /FreeText "+i+"/Contents ("+p(b(r.contents))+")",s+=" /DS(font: Helvetica,sans-serif 12.0pt; text-align:left; color:#"+R+")",s+=" /Border [0 0 0]",s+=" >>",this.internal.write(s);break;case"link":if(r.options.name){var z=this.annotations._nameMap[r.options.name];r.options.pageNumber=z.page,r.options.top=z.y}else r.options.top||(r.options.top=0);if(i="/Rect ["+r.finalBounds.x+" "+r.finalBounds.y+" "+r.finalBounds.w+" "+r.finalBounds.h+"] ",s="",r.options.url)s="<</Type /Annot /Subtype /Link "+i+"/Border [0 0 0] /A <</S /URI /URI ("+p(b(r.options.url))+") >>";else if(r.options.pageNumber)switch(s="<</Type /Annot /Subtype /Link "+i+"/Border [0 0 0] /Dest ["+this.internal.getPageInfo(r.options.pageNumber).objId+" 0 R",r.options.magFactor=r.options.magFactor||"XYZ",r.options.magFactor){case"Fit":s+=" /Fit]";break;case"FitH":s+=" /FitH "+r.options.top+"]";break;case"FitV":r.options.left=r.options.left||0,s+=" /FitV "+r.options.left+"]";break;default:var K=a(r.options.top);r.options.left=r.options.left||0,r.options.zoom===void 0&&(r.options.zoom=0),s+=" /XYZ "+r.options.left+" "+K+" "+r.options.zoom+"]"}s!=""&&(s+=" >>",this.internal.write(s))}}this.internal.write("]")}}]),t.createAnnotation=function(n){var r=this.internal.getCurrentPageInfo();switch(n.type){case"link":this.link(n.bounds.x,n.bounds.y,n.bounds.w,n.bounds.h,n);break;case"text":case"freetext":r.pageContext.annotations.push(n)}},t.link=function(n,r,i,s,o){var a=this.internal.getCurrentPageInfo(),l=this.internal.getCoordinateString,u=this.internal.getVerticalCoordinateString;a.pageContext.annotations.push({finalBounds:{x:l(n),y:u(r),w:l(n+i),h:u(r+s)},options:o,type:"link"})},t.textWithLink=function(n,r,i,s){var o,a,l=this.getTextWidth(n),u=this.internal.getLineHeight()/this.internal.scaleFactor;if(s.maxWidth!==void 0){a=s.maxWidth;var c=this.splitTextToSize(n,a).length;o=Math.ceil(u*c)}else a=l,o=u;return this.text(n,r,i,s),i+=.2*u,s.align==="center"&&(r-=l/2),s.align==="right"&&(r-=l),this.link(r,i-u,a,o,s),l},t.getTextWidth=function(n){var r=this.internal.getFontSize();return this.getStringUnitWidth(n)*r/this.internal.scaleFactor}}(it.API),function(t){var e={1569:[65152],1570:[65153,65154],1571:[65155,65156],1572:[65157,65158],1573:[65159,65160],1574:[65161,65162,65163,65164],1575:[65165,65166],1576:[65167,65168,65169,65170],1577:[65171,65172],1578:[65173,65174,65175,65176],1579:[65177,65178,65179,65180],1580:[65181,65182,65183,65184],1581:[65185,65186,65187,65188],1582:[65189,65190,65191,65192],1583:[65193,65194],1584:[65195,65196],1585:[65197,65198],1586:[65199,65200],1587:[65201,65202,65203,65204],1588:[65205,65206,65207,65208],1589:[65209,65210,65211,65212],1590:[65213,65214,65215,65216],1591:[65217,65218,65219,65220],1592:[65221,65222,65223,65224],1593:[65225,65226,65227,65228],1594:[65229,65230,65231,65232],1601:[65233,65234,65235,65236],1602:[65237,65238,65239,65240],1603:[65241,65242,65243,65244],1604:[65245,65246,65247,65248],1605:[65249,65250,65251,65252],1606:[65253,65254,65255,65256],1607:[65257,65258,65259,65260],1608:[65261,65262],1609:[65263,65264,64488,64489],1610:[65265,65266,65267,65268],1649:[64336,64337],1655:[64477],1657:[64358,64359,64360,64361],1658:[64350,64351,64352,64353],1659:[64338,64339,64340,64341],1662:[64342,64343,64344,64345],1663:[64354,64355,64356,64357],1664:[64346,64347,64348,64349],1667:[64374,64375,64376,64377],1668:[64370,64371,64372,64373],1670:[64378,64379,64380,64381],1671:[64382,64383,64384,64385],1672:[64392,64393],1676:[64388,64389],1677:[64386,64387],1678:[64390,64391],1681:[64396,64397],1688:[64394,64395],1700:[64362,64363,64364,64365],1702:[64366,64367,64368,64369],1705:[64398,64399,64400,64401],1709:[64467,64468,64469,64470],1711:[64402,64403,64404,64405],1713:[64410,64411,64412,64413],1715:[64406,64407,64408,64409],1722:[64414,64415],1723:[64416,64417,64418,64419],1726:[64426,64427,64428,64429],1728:[64420,64421],1729:[64422,64423,64424,64425],1733:[64480,64481],1734:[64473,64474],1735:[64471,64472],1736:[64475,64476],1737:[64482,64483],1739:[64478,64479],1740:[64508,64509,64510,64511],1744:[64484,64485,64486,64487],1746:[64430,64431],1747:[64432,64433]},n={65247:{65154:65269,65156:65271,65160:65273,65166:65275},65248:{65154:65270,65156:65272,65160:65274,65166:65276},65165:{65247:{65248:{65258:65010}}},1617:{1612:64606,1613:64607,1614:64608,1615:64609,1616:64610}},r={1612:64606,1613:64607,1614:64608,1615:64609,1616:64610},i=[1570,1571,1573,1575];t.__arabicParser__={};var s=t.__arabicParser__.isInArabicSubstitutionA=function(x){return e[x.charCodeAt(0)]!==void 0},o=t.__arabicParser__.isArabicLetter=function(x){return typeof x=="string"&&/^[\u0600-\u06FF\u0750-\u077F\u08A0-\u08FF\uFB50-\uFDFF\uFE70-\uFEFF]+$/.test(x)},a=t.__arabicParser__.isArabicEndLetter=function(x){return o(x)&&s(x)&&e[x.charCodeAt(0)].length<=2},l=t.__arabicParser__.isArabicAlfLetter=function(x){return o(x)&&i.indexOf(x.charCodeAt(0))>=0};t.__arabicParser__.arabicLetterHasIsolatedForm=function(x){return o(x)&&s(x)&&e[x.charCodeAt(0)].length>=1};var u=t.__arabicParser__.arabicLetterHasFinalForm=function(x){return o(x)&&s(x)&&e[x.charCodeAt(0)].length>=2};t.__arabicParser__.arabicLetterHasInitialForm=function(x){return o(x)&&s(x)&&e[x.charCodeAt(0)].length>=3};var c=t.__arabicParser__.arabicLetterHasMedialForm=function(x){return o(x)&&s(x)&&e[x.charCodeAt(0)].length==4},d=t.__arabicParser__.resolveLigatures=function(x){var A=0,v=n,_="",T=0;for(A=0;A<x.length;A+=1)v[x.charCodeAt(A)]!==void 0?(T++,typeof(v=v[x.charCodeAt(A)])=="number"&&(_+=String.fromCharCode(v),v=n,T=0),A===x.length-1&&(v=n,_+=x.charAt(A-(T-1)),A-=T-1,T=0)):(v=n,_+=x.charAt(A-T),A-=T,T=0);return _};t.__arabicParser__.isArabicDiacritic=function(x){return x!==void 0&&r[x.charCodeAt(0)]!==void 0};var g=t.__arabicParser__.getCorrectForm=function(x,A,v){return o(x)?s(x)===!1?-1:!u(x)||!o(A)&&!o(v)||!o(v)&&a(A)||a(x)&&!o(A)||a(x)&&l(A)||a(x)&&a(A)?0:c(x)&&o(A)&&!a(A)&&o(v)&&u(v)?3:a(x)||!o(v)?1:2:-1},p=function(x){var A=0,v=0,_=0,T="",R="",z="",K=(x=x||"").split("\\s+"),k=[];for(A=0;A<K.length;A+=1){for(k.push(""),v=0;v<K[A].length;v+=1)T=K[A][v],R=K[A][v-1],z=K[A][v+1],o(T)?(_=g(T,R,z),k[A]+=_!==-1?String.fromCharCode(e[T.charCodeAt(0)][_]):T):k[A]+=T;k[A]=d(k[A])}return k.join(" ")},b=t.__arabicParser__.processArabic=t.processArabic=function(){var x,A=typeof arguments[0]=="string"?arguments[0]:arguments[0].text,v=[];if(Array.isArray(A)){var _=0;for(v=[],_=0;_<A.length;_+=1)Array.isArray(A[_])?v.push([p(A[_][0]),A[_][1],A[_][2]]):v.push([p(A[_])]);x=v}else x=p(A);return typeof arguments[0]=="string"?x:(arguments[0].text=x,arguments[0])};t.events.push(["preProcessText",b])}(it.API),it.API.autoPrint=function(t){var e;return(t=t||{}).variant=t.variant||"non-conform",t.variant==="javascript"?this.addJS("print({});"):(this.internal.events.subscribe("postPutResources",function(){e=this.internal.newObject(),this.internal.out("<<"),this.internal.out("/S /Named"),this.internal.out("/Type /Action"),this.internal.out("/N /Print"),this.internal.out(">>"),this.internal.out("endobj")}),this.internal.events.subscribe("putCatalog",function(){this.internal.out("/OpenAction "+e+" 0 R")})),this},function(t){var e=function(){var n=void 0;Object.defineProperty(this,"pdf",{get:function(){return n},set:function(a){n=a}});var r=150;Object.defineProperty(this,"width",{get:function(){return r},set:function(a){r=isNaN(a)||Number.isInteger(a)===!1||a<0?150:a,this.getContext("2d").pageWrapXEnabled&&(this.getContext("2d").pageWrapX=r+1)}});var i=300;Object.defineProperty(this,"height",{get:function(){return i},set:function(a){i=isNaN(a)||Number.isInteger(a)===!1||a<0?300:a,this.getContext("2d").pageWrapYEnabled&&(this.getContext("2d").pageWrapY=i+1)}});var s=[];Object.defineProperty(this,"childNodes",{get:function(){return s},set:function(a){s=a}});var o={};Object.defineProperty(this,"style",{get:function(){return o},set:function(a){o=a}}),Object.defineProperty(this,"parentNode",{})};e.prototype.getContext=function(n,r){var i;if((n=n||"2d")!=="2d")return null;for(i in r)this.pdf.context2d.hasOwnProperty(i)&&(this.pdf.context2d[i]=r[i]);return this.pdf.context2d._canvas=this,this.pdf.context2d},e.prototype.toDataURL=function(){throw new Error("toDataURL is not implemented.")},t.events.push(["initialized",function(){this.canvas=new e,this.canvas.pdf=this}])}(it.API),function(t){var e={left:0,top:0,bottom:0,right:0},n=!1,r=function(){this.internal.__cell__===void 0&&(this.internal.__cell__={},this.internal.__cell__.padding=3,this.internal.__cell__.headerFunction=void 0,this.internal.__cell__.margins=Object.assign({},e),this.internal.__cell__.margins.width=this.getPageWidth(),i.call(this))},i=function(){this.internal.__cell__.lastCell=new s,this.internal.__cell__.pages=1},s=function(){var l=arguments[0];Object.defineProperty(this,"x",{enumerable:!0,get:function(){return l},set:function(x){l=x}});var u=arguments[1];Object.defineProperty(this,"y",{enumerable:!0,get:function(){return u},set:function(x){u=x}});var c=arguments[2];Object.defineProperty(this,"width",{enumerable:!0,get:function(){return c},set:function(x){c=x}});var d=arguments[3];Object.defineProperty(this,"height",{enumerable:!0,get:function(){return d},set:function(x){d=x}});var g=arguments[4];Object.defineProperty(this,"text",{enumerable:!0,get:function(){return g},set:function(x){g=x}});var p=arguments[5];Object.defineProperty(this,"lineNumber",{enumerable:!0,get:function(){return p},set:function(x){p=x}});var b=arguments[6];return Object.defineProperty(this,"align",{enumerable:!0,get:function(){return b},set:function(x){b=x}}),this};s.prototype.clone=function(){return new s(this.x,this.y,this.width,this.height,this.text,this.lineNumber,this.align)},s.prototype.toArray=function(){return[this.x,this.y,this.width,this.height,this.text,this.lineNumber,this.align]},t.setHeaderFunction=function(l){return r.call(this),this.internal.__cell__.headerFunction=typeof l=="function"?l:void 0,this},t.getTextDimensions=function(l,u){r.call(this);var c=(u=u||{}).fontSize||this.getFontSize(),d=u.font||this.getFont(),g=u.scaleFactor||this.internal.scaleFactor,p=0,b=0,x=0,A=this;if(!Array.isArray(l)&&typeof l!="string"){if(typeof l!="number")throw new Error("getTextDimensions expects text-parameter to be of type String or type Number or an Array of Strings.");l=String(l)}var v=u.maxWidth;v>0?typeof l=="string"?l=this.splitTextToSize(l,v):Object.prototype.toString.call(l)==="[object Array]"&&(l=l.reduce(function(T,R){return T.concat(A.splitTextToSize(R,v))},[])):l=Array.isArray(l)?l:[l];for(var _=0;_<l.length;_++)p<(x=this.getStringUnitWidth(l[_],{font:d})*c)&&(p=x);return p!==0&&(b=l.length),{w:p/=g,h:Math.max((b*c*this.getLineHeightFactor()-c*(this.getLineHeightFactor()-1))/g,0)}},t.cellAddPage=function(){r.call(this),this.addPage();var l=this.internal.__cell__.margins||e;return this.internal.__cell__.lastCell=new s(l.left,l.top,void 0,void 0),this.internal.__cell__.pages+=1,this};var o=t.cell=function(){var l;l=arguments[0]instanceof s?arguments[0]:new s(arguments[0],arguments[1],arguments[2],arguments[3],arguments[4],arguments[5]),r.call(this);var u=this.internal.__cell__.lastCell,c=this.internal.__cell__.padding,d=this.internal.__cell__.margins||e,g=this.internal.__cell__.tableHeaderRow,p=this.internal.__cell__.printHeaders;return u.lineNumber!==void 0&&(u.lineNumber===l.lineNumber?(l.x=(u.x||0)+(u.width||0),l.y=u.y||0):u.y+u.height+l.height+d.bottom>this.getPageHeight()?(this.cellAddPage(),l.y=d.top,p&&g&&(this.printHeaderRow(l.lineNumber,!0),l.y+=g[0].height)):l.y=u.y+u.height||l.y),l.text[0]!==void 0&&(this.rect(l.x,l.y,l.width,l.height,n===!0?"FD":void 0),l.align==="right"?this.text(l.text,l.x+l.width-c,l.y+c,{align:"right",baseline:"top"}):l.align==="center"?this.text(l.text,l.x+l.width/2,l.y+c,{align:"center",baseline:"top",maxWidth:l.width-c-c}):this.text(l.text,l.x+c,l.y+c,{align:"left",baseline:"top",maxWidth:l.width-c-c})),this.internal.__cell__.lastCell=l,this};t.table=function(l,u,c,d,g){if(r.call(this),!c)throw new Error("No data for PDF table.");var p,b,x,A,v=[],_=[],T=[],R={},z={},K=[],k=[],C=(g=g||{}).autoSize||!1,P=g.printHeaders!==!1,M=g.css&&g.css["font-size"]!==void 0?16*g.css["font-size"]:g.fontSize||12,E=g.margins||Object.assign({width:this.getPageWidth()},e),L=typeof g.padding=="number"?g.padding:3,j=g.headerBackgroundColor||"#c8c8c8",H=g.headerTextColor||"#000";if(i.call(this),this.internal.__cell__.printHeaders=P,this.internal.__cell__.margins=E,this.internal.__cell__.table_font_size=M,this.internal.__cell__.padding=L,this.internal.__cell__.headerBackgroundColor=j,this.internal.__cell__.headerTextColor=H,this.setFontSize(M),d==null)_=v=Object.keys(c[0]),T=v.map(function(){return"left"});else if(Array.isArray(d)&&an(d[0])==="object")for(v=d.map(function(ge){return ge.name}),_=d.map(function(ge){return ge.prompt||ge.name||""}),T=d.map(function(ge){return ge.align||"left"}),p=0;p<d.length;p+=1)z[d[p].name]=.7499990551181103*d[p].width;else Array.isArray(d)&&typeof d[0]=="string"&&(_=v=d,T=v.map(function(){return"left"}));if(C||Array.isArray(d)&&typeof d[0]=="string")for(p=0;p<v.length;p+=1){for(R[A=v[p]]=c.map(function(ge){return ge[A]}),this.setFont(void 0,"bold"),K.push(this.getTextDimensions(_[p],{fontSize:this.internal.__cell__.table_font_size,scaleFactor:this.internal.scaleFactor}).w),b=R[A],this.setFont(void 0,"normal"),x=0;x<b.length;x+=1)K.push(this.getTextDimensions(b[x],{fontSize:this.internal.__cell__.table_font_size,scaleFactor:this.internal.scaleFactor}).w);z[A]=Math.max.apply(null,K)+L+L,K=[]}if(P){var ne={};for(p=0;p<v.length;p+=1)ne[v[p]]={},ne[v[p]].text=_[p],ne[v[p]].align=T[p];var ce=a.call(this,ne,z);k=v.map(function(ge){return new s(l,u,z[ge],ce,ne[ge].text,void 0,ne[ge].align)}),this.setTableHeaderRow(k),this.printHeaderRow(1,!1)}var ae=d.reduce(function(ge,xe){return ge[xe.name]=xe.align,ge},{});for(p=0;p<c.length;p+=1){"rowStart"in g&&g.rowStart instanceof Function&&g.rowStart({row:p,data:c[p]},this);var ee=a.call(this,c[p],z);for(x=0;x<v.length;x+=1){var oe=c[p][v[x]];"cellStart"in g&&g.cellStart instanceof Function&&g.cellStart({row:p,col:x,data:oe},this),o.call(this,new s(l,u,z[v[x]],ee,oe,p+2,ae[v[x]]))}}return this.internal.__cell__.table_x=l,this.internal.__cell__.table_y=u,this};var a=function(l,u){var c=this.internal.__cell__.padding,d=this.internal.__cell__.table_font_size,g=this.internal.scaleFactor;return Object.keys(l).map(function(p){var b=l[p];return this.splitTextToSize(b.hasOwnProperty("text")?b.text:b,u[p]-c-c)},this).map(function(p){return this.getLineHeightFactor()*p.length*d/g+c+c},this).reduce(function(p,b){return Math.max(p,b)},0)};t.setTableHeaderRow=function(l){r.call(this),this.internal.__cell__.tableHeaderRow=l},t.printHeaderRow=function(l,u){if(r.call(this),!this.internal.__cell__.tableHeaderRow)throw new Error("Property tableHeaderRow does not exist.");var c;if(n=!0,typeof this.internal.__cell__.headerFunction=="function"){var d=this.internal.__cell__.headerFunction(this,this.internal.__cell__.pages);this.internal.__cell__.lastCell=new s(d[0],d[1],d[2],d[3],void 0,-1)}this.setFont(void 0,"bold");for(var g=[],p=0;p<this.internal.__cell__.tableHeaderRow.length;p+=1){c=this.internal.__cell__.tableHeaderRow[p].clone(),u&&(c.y=this.internal.__cell__.margins.top||0,g.push(c)),c.lineNumber=l;var b=this.getTextColor();this.setTextColor(this.internal.__cell__.headerTextColor),this.setFillColor(this.internal.__cell__.headerBackgroundColor),o.call(this,c),this.setTextColor(b)}g.length>0&&this.setTableHeaderRow(g),this.setFont(void 0,"normal"),n=!1}}(it.API);var mT={italic:["italic","oblique","normal"],oblique:["oblique","italic","normal"],normal:["normal","oblique","italic"]},gT=["ultra-condensed","extra-condensed","condensed","semi-condensed","normal","semi-expanded","expanded","extra-expanded","ultra-expanded"],ny=pT(gT),yT=[100,200,300,400,500,600,700,800,900],qq=pT(yT);function X1(t){var e=t.family.replace(/"|'/g,"").toLowerCase(),n=function(s){return mT[s=s||"normal"]?s:"normal"}(t.style),r=function(s){return s?typeof s=="number"?s>=100&&s<=900&&s%100==0?s:400:/^\d00$/.test(s)?parseInt(s):s==="bold"?700:400:400}(t.weight),i=function(s){return typeof ny[s=s||"normal"]=="number"?s:"normal"}(t.stretch);return{family:e,style:n,weight:r,stretch:i,src:t.src||[],ref:t.ref||{name:e,style:[i,n,r].join(" ")}}}function J3(t,e,n,r){var i;for(i=n;i>=0&&i<e.length;i+=r)if(t[e[i]])return t[e[i]];for(i=n;i>=0&&i<e.length;i-=r)if(t[e[i]])return t[e[i]]}var $q={"sans-serif":"helvetica",fixed:"courier",monospace:"courier",terminal:"courier",cursive:"times",fantasy:"times",serif:"times"},Z3={caption:"times",icon:"times",menu:"times","message-box":"times","small-caption":"times","status-bar":"times"};function e_(t){return[t.stretch,t.style,t.weight,t.family].join(" ")}function t_(t){return t.trimLeft()}function Hq(t,e){for(var n=0;n<t.length;){if(t.charAt(n)===e)return[t.substring(0,n),t.substring(n+1)];n+=1}return null}function Wq(t){var e=t.match(/^(-[a-z_]|[a-z_])[a-z0-9_-]*/i);return e===null?null:[e[0],t.substring(e[0].length)]}var op,n_,r_,Cu,ap,i_,s_,o_,J1=["times"];function a_(t,e,n,r,i){var s=4,o=u_;switch(i){case it.API.image_compression.FAST:s=1,o=l_;break;case it.API.image_compression.MEDIUM:s=6,o=c_;break;case it.API.image_compression.SLOW:s=9,o=h_}t=function(l,u,c,d){for(var g,p=l.length/u,b=new Uint8Array(l.length+p),x=[Gq,l_,u_,c_,h_],A=0;A<p;A+=1){var v=A*u,_=l.subarray(v,v+u);if(d)b.set(d(_,c,g),v+A);else{for(var T=x.length,R=[],z=0;z<T;z+=1)R[z]=x[z](_,c,g);var K=Qq(R.concat());b.set(R[K],v+A)}g=_}return b}(t,e,Math.ceil(n*r/8),o);var a=Q2(t,{level:s});return it.API.__addimage__.arrayBufferToBinaryString(a)}function Gq(t){var e=Array.apply([],t);return e.unshift(0),e}function l_(t,e){var n=t.length,r=[];r[0]=1;for(var i=0;i<n;i+=1){var s=t[i-e]||0;r[i+1]=t[i]-s+256&255}return r}function u_(t,e,n){var r=t.length,i=[];i[0]=2;for(var s=0;s<r;s+=1){var o=n&&n[s]||0;i[s+1]=t[s]-o+256&255}return i}function c_(t,e,n){var r=t.length,i=[];i[0]=3;for(var s=0;s<r;s+=1){var o=t[s-e]||0,a=n&&n[s]||0;i[s+1]=t[s]+256-(o+a>>>1)&255}return i}function h_(t,e,n){var r=t.length,i=[];i[0]=4;for(var s=0;s<r;s+=1){var o=Kq(t[s-e]||0,n&&n[s]||0,n&&n[s-e]||0);i[s+1]=t[s]-o+256&255}return i}function Kq(t,e,n){if(t===e&&e===n)return t;var r=Math.abs(e-n),i=Math.abs(t-n),s=Math.abs(t+e-n-n);return r<=i&&r<=s?t:i<=s?e:n}function Qq(t){var e=t.map(function(n){return n.reduce(function(r,i){return r+Math.abs(i)},0)});return e.indexOf(Math.min.apply(null,e))}function Z1(t,e,n){var r=e*n,i=Math.floor(r/8),s=16-(r-8*i+n),o=(1<<n)-1;return vT(t,i)>>s&o}function f_(t,e,n,r){var i=n*r,s=Math.floor(i/8),o=16-(i-8*s+r),a=(1<<r)-1,l=(e&a)<<o;(function(u,c,d){if(c+1<u.byteLength)u.setUint16(c,d,!1);else{var g=d>>8&255;u.setUint8(c,g)}})(t,s,vT(t,s)&~(a<<o)&65535|l)}function vT(t,e){return e+1<t.byteLength?t.getUint16(e,!1):t.getUint8(e)<<8}function Yq(t){var e=0;if(t[e++]!==71||t[e++]!==73||t[e++]!==70||t[e++]!==56||(t[e++]+1&253)!=56||t[e++]!==97)throw new Error("Invalid GIF 87a/89a header.");var n=t[e++]|t[e++]<<8,r=t[e++]|t[e++]<<8,i=t[e++],s=i>>7,o=1<<1+(7&i);t[e++],t[e++];var a=null,l=null;s&&(a=e,l=o,e+=3*o);var u=!0,c=[],d=0,g=null,p=0,b=null;for(this.width=n,this.height=r;u&&e<t.length;)switch(t[e++]){case 33:switch(t[e++]){case 255:if(t[e]!==11||t[e+1]==78&&t[e+2]==69&&t[e+3]==84&&t[e+4]==83&&t[e+5]==67&&t[e+6]==65&&t[e+7]==80&&t[e+8]==69&&t[e+9]==50&&t[e+10]==46&&t[e+11]==48&&t[e+12]==3&&t[e+13]==1&&t[e+16]==0)e+=14,b=t[e++]|t[e++]<<8,e++;else for(e+=12;;){if(!((E=t[e++])>=0))throw Error("Invalid block size");if(E===0)break;e+=E}break;case 249:if(t[e++]!==4||t[e+4]!==0)throw new Error("Invalid graphics extension block.");var x=t[e++];d=t[e++]|t[e++]<<8,g=t[e++],1&x||(g=null),p=x>>2&7,e++;break;case 254:for(;;){if(!((E=t[e++])>=0))throw Error("Invalid block size");if(E===0)break;e+=E}break;default:throw new Error("Unknown graphic control label: 0x"+t[e-1].toString(16))}break;case 44:var A=t[e++]|t[e++]<<8,v=t[e++]|t[e++]<<8,_=t[e++]|t[e++]<<8,T=t[e++]|t[e++]<<8,R=t[e++],z=R>>6&1,K=1<<1+(7&R),k=a,C=l,P=!1;R>>7&&(P=!0,k=e,C=K,e+=3*K);var M=e;for(e++;;){var E;if(!((E=t[e++])>=0))throw Error("Invalid block size");if(E===0)break;e+=E}c.push({x:A,y:v,width:_,height:T,has_local_palette:P,palette_offset:k,palette_size:C,data_offset:M,data_length:e-M,transparent_index:g,interlaced:!!z,delay:d,disposal:p});break;case 59:u=!1;break;default:throw new Error("Unknown gif block: 0x"+t[e-1].toString(16))}this.numFrames=function(){return c.length},this.loopCount=function(){return b},this.frameInfo=function(L){if(L<0||L>=c.length)throw new Error("Frame index out of range.");return c[L]},this.decodeAndBlitFrameBGRA=function(L,j){var H=this.frameInfo(L),ne=H.width*H.height,ce=new Uint8Array(ne);d_(t,H.data_offset,ce,ne);var ae=H.palette_offset,ee=H.transparent_index;ee===null&&(ee=256);var oe=H.width,ge=n-oe,xe=oe,V=4*(H.y*n+H.x),Q=4*((H.y+H.height)*n+H.x),te=V,ie=4*ge;H.interlaced===!0&&(ie+=4*n*7);for(var le=8,pe=0,be=ce.length;pe<be;++pe){var _e=ce[pe];if(xe===0&&(xe=oe,(te+=ie)>=Q&&(ie=4*ge+4*n*(le-1),te=V+(oe+ge)*(le<<1),le>>=1)),_e===ee)te+=4;else{var Te=t[ae+3*_e],je=t[ae+3*_e+1],Se=t[ae+3*_e+2];j[te++]=Se,j[te++]=je,j[te++]=Te,j[te++]=255}--xe}},this.decodeAndBlitFrameRGBA=function(L,j){var H=this.frameInfo(L),ne=H.width*H.height,ce=new Uint8Array(ne);d_(t,H.data_offset,ce,ne);var ae=H.palette_offset,ee=H.transparent_index;ee===null&&(ee=256);var oe=H.width,ge=n-oe,xe=oe,V=4*(H.y*n+H.x),Q=4*((H.y+H.height)*n+H.x),te=V,ie=4*ge;H.interlaced===!0&&(ie+=4*n*7);for(var le=8,pe=0,be=ce.length;pe<be;++pe){var _e=ce[pe];if(xe===0&&(xe=oe,(te+=ie)>=Q&&(ie=4*ge+4*n*(le-1),te=V+(oe+ge)*(le<<1),le>>=1)),_e===ee)te+=4;else{var Te=t[ae+3*_e],je=t[ae+3*_e+1],Se=t[ae+3*_e+2];j[te++]=Te,j[te++]=je,j[te++]=Se,j[te++]=255}--xe}}}function d_(t,e,n,r){for(var i=t[e++],s=1<<i,o=s+1,a=o+1,l=i+1,u=(1<<l)-1,c=0,d=0,g=0,p=t[e++],b=new Int32Array(4096),x=null;;){for(;c<16&&p!==0;)d|=t[e++]<<c,c+=8,p===1?p=t[e++]:--p;if(c<l)break;var A=d&u;if(d>>=l,c-=l,A!==s){if(A===o)break;for(var v=A<a?A:x,_=0,T=v;T>s;)T=b[T]>>8,++_;var R=T;if(g+_+(v!==A?1:0)>r)return void dn.log("Warning, gif stream longer than expected.");n[g++]=R;var z=g+=_;for(v!==A&&(n[g++]=R),T=v;_--;)T=b[T],n[--z]=255&T,T>>=8;x!==null&&a<4096&&(b[a++]=x<<8|R,a>=u+1&&l<12&&(++l,u=u<<1|1)),x=A}else a=o+1,u=(1<<(l=i+1))-1,x=null}return g!==r&&dn.log("Warning, gif stream shorter than expected."),n}/**
 * @license
  Copyright (c) 2008, Adobe Systems Incorporated
  All rights reserved.

  Redistribution and use in source and binary forms, with or without 
  modification, are permitted provided that the following conditions are
  met:

  * Redistributions of source code must retain the above copyright notice, 
    this list of conditions and the following disclaimer.
  
  * Redistributions in binary form must reproduce the above copyright
    notice, this list of conditions and the following disclaimer in the 
    documentation and/or other materials provided with the distribution.
  
  * Neither the name of Adobe Systems Incorporated nor the names of its 
    contributors may be used to endorse or promote products derived from 
    this software without specific prior written permission.

  THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS "AS
  IS" AND ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT LIMITED TO,
  THE IMPLIED WARRANTIES OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR
  PURPOSE ARE DISCLAIMED. IN NO EVENT SHALL THE COPYRIGHT OWNER OR 
  CONTRIBUTORS BE LIABLE FOR ANY DIRECT, INDIRECT, INCIDENTAL, SPECIAL,
  EXEMPLARY, OR CONSEQUENTIAL DAMAGES (INCLUDING, BUT NOT LIMITED TO,
  PROCUREMENT OF SUBSTITUTE GOODS OR SERVICES; LOSS OF USE, DATA, OR
  PROFITS; OR BUSINESS INTERRUPTION) HOWEVER CAUSED AND ON ANY THEORY OF
  LIABILITY, WHETHER IN CONTRACT, STRICT LIABILITY, OR TORT (INCLUDING
  NEGLIGENCE OR OTHERWISE) ARISING IN ANY WAY OUT OF THE USE OF THIS
  SOFTWARE, EVEN IF ADVISED OF THE POSSIBILITY OF SUCH DAMAGE.
*/function eg(t){var e,n,r,i,s,o=Math.floor,a=new Array(64),l=new Array(64),u=new Array(64),c=new Array(64),d=new Array(65535),g=new Array(65535),p=new Array(64),b=new Array(64),x=[],A=0,v=7,_=new Array(64),T=new Array(64),R=new Array(64),z=new Array(256),K=new Array(2048),k=[0,1,5,6,14,15,27,28,2,4,7,13,16,26,29,42,3,8,12,17,25,30,41,43,9,11,18,24,31,40,44,53,10,19,23,32,39,45,52,54,20,22,33,38,46,51,55,60,21,34,37,47,50,56,59,61,35,36,48,49,57,58,62,63],C=[0,0,1,5,1,1,1,1,1,1,0,0,0,0,0,0,0],P=[0,1,2,3,4,5,6,7,8,9,10,11],M=[0,0,2,1,3,3,2,4,3,5,5,4,4,0,0,1,125],E=[1,2,3,0,4,17,5,18,33,49,65,6,19,81,97,7,34,113,20,50,129,145,161,8,35,66,177,193,21,82,209,240,36,51,98,114,130,9,10,22,23,24,25,26,37,38,39,40,41,42,52,53,54,55,56,57,58,67,68,69,70,71,72,73,74,83,84,85,86,87,88,89,90,99,100,101,102,103,104,105,106,115,116,117,118,119,120,121,122,131,132,133,134,135,136,137,138,146,147,148,149,150,151,152,153,154,162,163,164,165,166,167,168,169,170,178,179,180,181,182,183,184,185,186,194,195,196,197,198,199,200,201,202,210,211,212,213,214,215,216,217,218,225,226,227,228,229,230,231,232,233,234,241,242,243,244,245,246,247,248,249,250],L=[0,0,3,1,1,1,1,1,1,1,1,1,0,0,0,0,0],j=[0,1,2,3,4,5,6,7,8,9,10,11],H=[0,0,2,1,2,4,4,3,4,7,5,4,4,0,1,2,119],ne=[0,1,2,3,17,4,5,33,49,6,18,65,81,7,97,113,19,34,50,129,8,20,66,145,161,177,193,9,35,51,82,240,21,98,114,209,10,22,36,52,225,37,241,23,24,25,26,38,39,40,41,42,53,54,55,56,57,58,67,68,69,70,71,72,73,74,83,84,85,86,87,88,89,90,99,100,101,102,103,104,105,106,115,116,117,118,119,120,121,122,130,131,132,133,134,135,136,137,138,146,147,148,149,150,151,152,153,154,162,163,164,165,166,167,168,169,170,178,179,180,181,182,183,184,185,186,194,195,196,197,198,199,200,201,202,210,211,212,213,214,215,216,217,218,226,227,228,229,230,231,232,233,234,242,243,244,245,246,247,248,249,250];function ce(V,Q){for(var te=0,ie=0,le=new Array,pe=1;pe<=16;pe++){for(var be=1;be<=V[pe];be++)le[Q[ie]]=[],le[Q[ie]][0]=te,le[Q[ie]][1]=pe,ie++,te++;te*=2}return le}function ae(V){for(var Q=V[0],te=V[1]-1;te>=0;)Q&1<<te&&(A|=1<<v),te--,--v<0&&(A==255?(ee(255),ee(0)):ee(A),v=7,A=0)}function ee(V){x.push(V)}function oe(V){ee(V>>8&255),ee(255&V)}function ge(V,Q,te,ie,le){for(var pe,be=le[0],_e=le[240],Te=function(Ie,ze){var Be,_t,tt,Ot,wt,et,St,mt,nt,ht,st=0;for(nt=0;nt<8;++nt){Be=Ie[st],_t=Ie[st+1],tt=Ie[st+2],Ot=Ie[st+3],wt=Ie[st+4],et=Ie[st+5],St=Ie[st+6];var Kt=Be+(mt=Ie[st+7]),Ut=Be-mt,Xe=_t+St,gt=_t-St,Zt=tt+et,ut=tt-et,Pt=Ot+wt,xt=Ot-wt,Nn=Kt+Pt,vn=Kt-Pt,Yt=Xe+Zt,ft=Xe-Zt;Ie[st]=Nn+Yt,Ie[st+4]=Nn-Yt;var Lt=.707106781*(ft+vn);Ie[st+2]=vn+Lt,Ie[st+6]=vn-Lt;var Ws=.382683433*((Nn=xt+ut)-(ft=gt+Ut)),Yn=.5411961*Nn+Ws,is=1.306562965*ft+Ws,Ur=.707106781*(Yt=ut+gt),lt=Ut+Ur,wn=Ut-Ur;Ie[st+5]=wn+Yn,Ie[st+3]=wn-Yn,Ie[st+1]=lt+is,Ie[st+7]=lt-is,st+=8}for(st=0,nt=0;nt<8;++nt){Be=Ie[st],_t=Ie[st+8],tt=Ie[st+16],Ot=Ie[st+24],wt=Ie[st+32],et=Ie[st+40],St=Ie[st+48];var ss=Be+(mt=Ie[st+56]),xr=Be-mt,br=_t+St,En=_t-St,ur=tt+et,Tn=tt-et,No=Ot+wt,Gs=Ot-wt,zr=ss+No,Di=ss-No,si=br+ur,qr=br-ur;Ie[st]=zr+si,Ie[st+32]=zr-si;var Xn=.707106781*(qr+Di);Ie[st+16]=Di+Xn,Ie[st+48]=Di-Xn;var Ks=.382683433*((zr=Gs+Tn)-(qr=En+xr)),Mi=.5411961*zr+Ks,Ss=1.306562965*qr+Ks,Qs=.707106781*(si=Tn+En),Eo=xr+Qs,To=xr-Qs;Ie[st+40]=To+Mi,Ie[st+24]=To-Mi,Ie[st+8]=Eo+Ss,Ie[st+56]=Eo-Ss,st++}for(nt=0;nt<64;++nt)ht=Ie[nt]*ze[nt],p[nt]=ht>0?ht+.5|0:ht-.5|0;return p}(V,Q),je=0;je<64;++je)b[k[je]]=Te[je];var Se=b[0]-te;te=b[0],Se==0?ae(ie[0]):(ae(ie[g[pe=32767+Se]]),ae(d[pe]));for(var ke=63;ke>0&&b[ke]==0;)ke--;if(ke==0)return ae(be),te;for(var me,Y=1;Y<=ke;){for(var Ke=Y;b[Y]==0&&Y<=ke;)++Y;var ot=Y-Ke;if(ot>=16){me=ot>>4;for(var Ue=1;Ue<=me;++Ue)ae(_e);ot&=15}pe=32767+b[Y],ae(le[(ot<<4)+g[pe]]),ae(d[pe]),Y++}return ke!=63&&ae(be),te}function xe(V){V=Math.min(Math.max(V,1),100),s!=V&&(function(Q){for(var te=[16,11,10,16,24,40,51,61,12,12,14,19,26,58,60,55,14,13,16,24,40,57,69,56,14,17,22,29,51,87,80,62,18,22,37,56,68,109,103,77,24,35,55,64,81,104,113,92,49,64,78,87,103,121,120,101,72,92,95,98,112,100,103,99],ie=0;ie<64;ie++){var le=o((te[ie]*Q+50)/100);le=Math.min(Math.max(le,1),255),a[k[ie]]=le}for(var pe=[17,18,24,47,99,99,99,99,18,21,26,66,99,99,99,99,24,26,56,99,99,99,99,99,47,66,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99],be=0;be<64;be++){var _e=o((pe[be]*Q+50)/100);_e=Math.min(Math.max(_e,1),255),l[k[be]]=_e}for(var Te=[1,1.387039845,1.306562965,1.175875602,1,.785694958,.5411961,.275899379],je=0,Se=0;Se<8;Se++)for(var ke=0;ke<8;ke++)u[je]=1/(a[k[je]]*Te[Se]*Te[ke]*8),c[je]=1/(l[k[je]]*Te[Se]*Te[ke]*8),je++}(V<50?Math.floor(5e3/V):Math.floor(200-2*V)),s=V)}this.encode=function(V,Q){Q&&xe(Q),x=new Array,A=0,v=7,oe(65496),oe(65504),oe(16),ee(74),ee(70),ee(73),ee(70),ee(0),ee(1),ee(1),ee(0),oe(1),oe(1),ee(0),ee(0),function(){oe(65499),oe(132),ee(0);for(var _t=0;_t<64;_t++)ee(a[_t]);ee(1);for(var tt=0;tt<64;tt++)ee(l[tt])}(),function(_t,tt){oe(65472),oe(17),ee(8),oe(tt),oe(_t),ee(3),ee(1),ee(17),ee(0),ee(2),ee(17),ee(1),ee(3),ee(17),ee(1)}(V.width,V.height),function(){oe(65476),oe(418),ee(0);for(var _t=0;_t<16;_t++)ee(C[_t+1]);for(var tt=0;tt<=11;tt++)ee(P[tt]);ee(16);for(var Ot=0;Ot<16;Ot++)ee(M[Ot+1]);for(var wt=0;wt<=161;wt++)ee(E[wt]);ee(1);for(var et=0;et<16;et++)ee(L[et+1]);for(var St=0;St<=11;St++)ee(j[St]);ee(17);for(var mt=0;mt<16;mt++)ee(H[mt+1]);for(var nt=0;nt<=161;nt++)ee(ne[nt])}(),oe(65498),oe(12),ee(3),ee(1),ee(0),ee(2),ee(17),ee(3),ee(17),ee(0),ee(63),ee(0);var te=0,ie=0,le=0;A=0,v=7,this.encode.displayName="_encode_";for(var pe,be,_e,Te,je,Se,ke,me,Y,Ke=V.data,ot=V.width,Ue=V.height,Ie=4*ot,ze=0;ze<Ue;){for(pe=0;pe<Ie;){for(je=Ie*ze+pe,ke=-1,me=0,Y=0;Y<64;Y++)Se=je+(me=Y>>3)*Ie+(ke=4*(7&Y)),ze+me>=Ue&&(Se-=Ie*(ze+1+me-Ue)),pe+ke>=Ie&&(Se-=pe+ke-Ie+4),be=Ke[Se++],_e=Ke[Se++],Te=Ke[Se++],_[Y]=(K[be]+K[_e+256|0]+K[Te+512|0]>>16)-128,T[Y]=(K[be+768|0]+K[_e+1024|0]+K[Te+1280|0]>>16)-128,R[Y]=(K[be+1280|0]+K[_e+1536|0]+K[Te+1792|0]>>16)-128;te=ge(_,u,te,e,r),ie=ge(T,c,ie,n,i),le=ge(R,c,le,n,i),pe+=32}ze+=8}if(v>=0){var Be=[];Be[1]=v+1,Be[0]=(1<<v+1)-1,ae(Be)}return oe(65497),new Uint8Array(x)},t=t||50,function(){for(var V=String.fromCharCode,Q=0;Q<256;Q++)z[Q]=V(Q)}(),e=ce(C,P),n=ce(L,j),r=ce(M,E),i=ce(H,ne),function(){for(var V=1,Q=2,te=1;te<=15;te++){for(var ie=V;ie<Q;ie++)g[32767+ie]=te,d[32767+ie]=[],d[32767+ie][1]=te,d[32767+ie][0]=ie;for(var le=-(Q-1);le<=-V;le++)g[32767+le]=te,d[32767+le]=[],d[32767+le][1]=te,d[32767+le][0]=Q-1+le;V<<=1,Q<<=1}}(),function(){for(var V=0;V<256;V++)K[V]=19595*V,K[V+256|0]=38470*V,K[V+512|0]=7471*V+32768,K[V+768|0]=-11059*V,K[V+1024|0]=-21709*V,K[V+1280|0]=32768*V+8421375,K[V+1536|0]=-27439*V,K[V+1792|0]=-5329*V}(),xe(t)}/**
 * @license
 * Copyright (c) 2017 Aras Abbasi
 *
 * Licensed under the MIT License.
 * http://opensource.org/licenses/mit-license
 */function Rs(t,e){if(this.pos=0,this.buffer=t,this.datav=new DataView(t.buffer),this.is_with_alpha=!!e,this.bottom_up=!0,this.flag=String.fromCharCode(this.buffer[0])+String.fromCharCode(this.buffer[1]),this.pos+=2,["BM","BA","CI","CP","IC","PT"].indexOf(this.flag)===-1)throw new Error("Invalid BMP File");this.parseHeader(),this.parseBGR()}function p_(t){function e(P){if(!P)throw Error("assert :P")}function n(P,M,E){for(var L=0;4>L;L++)if(P[M+L]!=E.charCodeAt(L))return!0;return!1}function r(P,M,E,L,j){for(var H=0;H<j;H++)P[M+H]=E[L+H]}function i(P,M,E,L){for(var j=0;j<L;j++)P[M+j]=E}function s(P){return new Int32Array(P)}function o(P,M){for(var E=[],L=0;L<P;L++)E.push(new M);return E}function a(P,M){var E=[];return function L(j,H,ne){for(var ce=ne[H],ae=0;ae<ce&&(j.push(ne.length>H+1?[]:new M),!(ne.length<H+1));ae++)L(j[ae],H+1,ne)}(E,0,P),E}var l=function(){var P=this;function M(h,y){for(var S=1<<y-1>>>0;h&S;)S>>>=1;return S?(h&S-1)+S:h}function E(h,y,S,I,O){e(!(I%S));do h[y+(I-=S)]=O;while(0<I)}function L(h,y,S,I,O){if(e(2328>=O),512>=O)var B=s(512);else if((B=s(O))==null)return 0;return function(U,q,W,J,se,ve){var Z,ue,de=q,Ae=1<<W,ye=s(16),Ee=s(16);for(e(se!=0),e(J!=null),e(U!=null),e(0<W),ue=0;ue<se;++ue){if(15<J[ue])return 0;++ye[J[ue]]}if(ye[0]==se)return 0;for(Ee[1]=0,Z=1;15>Z;++Z){if(ye[Z]>1<<Z)return 0;Ee[Z+1]=Ee[Z]+ye[Z]}for(ue=0;ue<se;++ue)Z=J[ue],0<J[ue]&&(ve[Ee[Z]++]=ue);if(Ee[15]==1)return(J=new j).g=0,J.value=ve[0],E(U,de,1,Ae,J),Ae;var Ce,Me=-1,Re=Ae-1,rt=0,We=1,Ct=1,Je=1<<W;for(ue=0,Z=1,se=2;Z<=W;++Z,se<<=1){if(We+=Ct<<=1,0>(Ct-=ye[Z]))return 0;for(;0<ye[Z];--ye[Z])(J=new j).g=Z,J.value=ve[ue++],E(U,de+rt,se,Je,J),rt=M(rt,Z)}for(Z=W+1,se=2;15>=Z;++Z,se<<=1){if(We+=Ct<<=1,0>(Ct-=ye[Z]))return 0;for(;0<ye[Z];--ye[Z]){if(J=new j,(rt&Re)!=Me){for(de+=Je,Ce=1<<(Me=Z)-W;15>Me&&!(0>=(Ce-=ye[Me]));)++Me,Ce<<=1;Ae+=Je=1<<(Ce=Me-W),U[q+(Me=rt&Re)].g=Ce+W,U[q+Me].value=de-q-Me}J.g=Z-W,J.value=ve[ue++],E(U,de+(rt>>W),se,Je,J),rt=M(rt,Z)}}return We!=2*Ee[15]-1?0:Ae}(h,y,S,I,O,B)}function j(){this.value=this.g=0}function H(){this.value=this.g=0}function ne(){this.G=o(5,j),this.H=s(5),this.jc=this.Qb=this.qb=this.nd=0,this.pd=o(Pl,H)}function ce(h,y,S,I){e(h!=null),e(y!=null),e(2147483648>I),h.Ca=254,h.I=0,h.b=-8,h.Ka=0,h.oa=y,h.pa=S,h.Jd=y,h.Yc=S+I,h.Zc=4<=I?S+I-4+1:S,be(h)}function ae(h,y){for(var S=0;0<y--;)S|=Te(h,128)<<y;return S}function ee(h,y){var S=ae(h,y);return _e(h)?-S:S}function oe(h,y,S,I){var O,B=0;for(e(h!=null),e(y!=null),e(4294967288>I),h.Sb=I,h.Ra=0,h.u=0,h.h=0,4<I&&(I=4),O=0;O<I;++O)B+=y[S+O]<<8*O;h.Ra=B,h.bb=I,h.oa=y,h.pa=S}function ge(h){for(;8<=h.u&&h.bb<h.Sb;)h.Ra>>>=8,h.Ra+=h.oa[h.pa+h.bb]<<ya-8>>>0,++h.bb,h.u-=8;ie(h)&&(h.h=1,h.u=0)}function xe(h,y){if(e(0<=y),!h.h&&y<=zi){var S=te(h)&Ui[y];return h.u+=y,ge(h),S}return h.h=1,h.u=0}function V(){this.b=this.Ca=this.I=0,this.oa=[],this.pa=0,this.Jd=[],this.Yc=0,this.Zc=[],this.Ka=0}function Q(){this.Ra=0,this.oa=[],this.h=this.u=this.bb=this.Sb=this.pa=0}function te(h){return h.Ra>>>(h.u&ya-1)>>>0}function ie(h){return e(h.bb<=h.Sb),h.h||h.bb==h.Sb&&h.u>ya}function le(h,y){h.u=y,h.h=ie(h)}function pe(h){h.u>=jo&&(e(h.u>=jo),ge(h))}function be(h){e(h!=null&&h.oa!=null),h.pa<h.Zc?(h.I=(h.oa[h.pa++]|h.I<<8)>>>0,h.b+=8):(e(h!=null&&h.oa!=null),h.pa<h.Yc?(h.b+=8,h.I=h.oa[h.pa++]|h.I<<8):h.Ka?h.b=0:(h.I<<=8,h.b+=8,h.Ka=1))}function _e(h){return ae(h,1)}function Te(h,y){var S=h.Ca;0>h.b&&be(h);var I=h.b,O=S*y>>>8,B=(h.I>>>I>O)+0;for(B?(S-=O,h.I-=O+1<<I>>>0):S=O+1,I=S,O=0;256<=I;)O+=8,I>>=8;return I=7^O+va[I],h.b-=I,h.Ca=(S<<I)-1,B}function je(h,y,S){h[y+0]=S>>24&255,h[y+1]=S>>16&255,h[y+2]=S>>8&255,h[y+3]=255&S}function Se(h,y){return h[y+0]|h[y+1]<<8}function ke(h,y){return Se(h,y)|h[y+2]<<16}function me(h,y){return Se(h,y)|Se(h,y+2)<<16}function Y(h,y){var S=1<<y;return e(h!=null),e(0<y),h.X=s(S),h.X==null?0:(h.Mb=32-y,h.Xa=y,1)}function Ke(h,y){e(h!=null),e(y!=null),e(h.Xa==y.Xa),r(y.X,0,h.X,0,1<<y.Xa)}function ot(){this.X=[],this.Xa=this.Mb=0}function Ue(h,y,S,I){e(S!=null),e(I!=null);var O=S[0],B=I[0];return O==0&&(O=(h*B+y/2)/y),B==0&&(B=(y*O+h/2)/h),0>=O||0>=B?0:(S[0]=O,I[0]=B,1)}function Ie(h,y){return h+(1<<y)-1>>>y}function ze(h,y){return((4278255360&h)+(4278255360&y)>>>0&4278255360)+((16711935&h)+(16711935&y)>>>0&16711935)>>>0}function Be(h,y){P[y]=function(S,I,O,B,U,q,W){var J;for(J=0;J<U;++J){var se=P[h](q[W+J-1],O,B+J);q[W+J]=ze(S[I+J],se)}}}function _t(){this.ud=this.hd=this.jd=0}function tt(h,y){return((4278124286&(h^y))>>>1)+(h&y)>>>0}function Ot(h){return 0<=h&&256>h?h:0>h?0:255<h?255:void 0}function wt(h,y){return Ot(h+(h-y+.5>>1))}function et(h,y,S){return Math.abs(y-S)-Math.abs(h-S)}function St(h,y,S,I,O,B,U){for(I=B[U-1],S=0;S<O;++S)B[U+S]=I=ze(h[y+S],I)}function mt(h,y,S,I,O){var B;for(B=0;B<S;++B){var U=h[y+B],q=U>>8&255,W=16711935&(W=(W=16711935&U)+((q<<16)+q));I[O+B]=(4278255360&U)+W>>>0}}function nt(h,y){y.jd=255&h,y.hd=h>>8&255,y.ud=h>>16&255}function ht(h,y,S,I,O,B){var U;for(U=0;U<I;++U){var q=y[S+U],W=q>>>8,J=q,se=255&(se=(se=q>>>16)+((h.jd<<24>>24)*(W<<24>>24)>>>5));J=255&(J=(J+=(h.hd<<24>>24)*(W<<24>>24)>>>5)+((h.ud<<24>>24)*(se<<24>>24)>>>5)),O[B+U]=(4278255360&q)+(se<<16)+J}}function st(h,y,S,I,O){P[y]=function(B,U,q,W,J,se,ve,Z,ue){for(W=ve;W<Z;++W)for(ve=0;ve<ue;++ve)J[se++]=O(q[I(B[U++])])},P[h]=function(B,U,q,W,J,se,ve){var Z=8>>B.b,ue=B.Ea,de=B.K[0],Ae=B.w;if(8>Z)for(B=(1<<B.b)-1,Ae=(1<<Z)-1;U<q;++U){var ye,Ee=0;for(ye=0;ye<ue;++ye)ye&B||(Ee=I(W[J++])),se[ve++]=O(de[Ee&Ae]),Ee>>=Z}else P["VP8LMapColor"+S](W,J,de,Ae,se,ve,U,q,ue)}}function Kt(h,y,S,I,O){for(S=y+S;y<S;){var B=h[y++];I[O++]=B>>16&255,I[O++]=B>>8&255,I[O++]=255&B}}function Ut(h,y,S,I,O){for(S=y+S;y<S;){var B=h[y++];I[O++]=B>>16&255,I[O++]=B>>8&255,I[O++]=255&B,I[O++]=B>>24&255}}function Xe(h,y,S,I,O){for(S=y+S;y<S;){var B=(U=h[y++])>>16&240|U>>12&15,U=240&U|U>>28&15;I[O++]=B,I[O++]=U}}function gt(h,y,S,I,O){for(S=y+S;y<S;){var B=(U=h[y++])>>16&248|U>>13&7,U=U>>5&224|U>>3&31;I[O++]=B,I[O++]=U}}function Zt(h,y,S,I,O){for(S=y+S;y<S;){var B=h[y++];I[O++]=255&B,I[O++]=B>>8&255,I[O++]=B>>16&255}}function ut(h,y,S,I,O,B){if(B==0)for(S=y+S;y<S;)je(I,((B=h[y++])[0]>>24|B[1]>>8&65280|B[2]<<8&16711680|B[3]<<24)>>>0),O+=32;else r(I,O,h,y,S)}function Pt(h,y){P[y][0]=P[h+"0"],P[y][1]=P[h+"1"],P[y][2]=P[h+"2"],P[y][3]=P[h+"3"],P[y][4]=P[h+"4"],P[y][5]=P[h+"5"],P[y][6]=P[h+"6"],P[y][7]=P[h+"7"],P[y][8]=P[h+"8"],P[y][9]=P[h+"9"],P[y][10]=P[h+"10"],P[y][11]=P[h+"11"],P[y][12]=P[h+"12"],P[y][13]=P[h+"13"],P[y][14]=P[h+"0"],P[y][15]=P[h+"0"]}function xt(h){return h==_m||h==Sm||h==yd||h==Am}function Nn(){this.eb=[],this.size=this.A=this.fb=0}function vn(){this.y=[],this.f=[],this.ea=[],this.F=[],this.Tc=this.Ed=this.Cd=this.Fd=this.lb=this.Db=this.Ab=this.fa=this.J=this.W=this.N=this.O=0}function Yt(){this.Rd=this.height=this.width=this.S=0,this.f={},this.f.RGBA=new Nn,this.f.kb=new vn,this.sd=null}function ft(){this.width=[0],this.height=[0],this.Pd=[0],this.Qd=[0],this.format=[0]}function Lt(){this.Id=this.fd=this.Md=this.hb=this.ib=this.da=this.bd=this.cd=this.j=this.v=this.Da=this.Sd=this.ob=0}function Ws(h){return alert("todo:WebPSamplerProcessPlane"),h.T}function Yn(h,y){var S=h.T,I=y.ba.f.RGBA,O=I.eb,B=I.fb+h.ka*I.A,U=hs[y.ba.S],q=h.y,W=h.O,J=h.f,se=h.N,ve=h.ea,Z=h.W,ue=y.cc,de=y.dc,Ae=y.Mc,ye=y.Nc,Ee=h.ka,Ce=h.ka+h.T,Me=h.U,Re=Me+1>>1;for(Ee==0?U(q,W,null,null,J,se,ve,Z,J,se,ve,Z,O,B,null,null,Me):(U(y.ec,y.fc,q,W,ue,de,Ae,ye,J,se,ve,Z,O,B-I.A,O,B,Me),++S);Ee+2<Ce;Ee+=2)ue=J,de=se,Ae=ve,ye=Z,se+=h.Rc,Z+=h.Rc,B+=2*I.A,U(q,(W+=2*h.fa)-h.fa,q,W,ue,de,Ae,ye,J,se,ve,Z,O,B-I.A,O,B,Me);return W+=h.fa,h.j+Ce<h.o?(r(y.ec,y.fc,q,W,Me),r(y.cc,y.dc,J,se,Re),r(y.Mc,y.Nc,ve,Z,Re),S--):1&Ce||U(q,W,null,null,J,se,ve,Z,J,se,ve,Z,O,B+I.A,null,null,Me),S}function is(h,y,S){var I=h.F,O=[h.J];if(I!=null){var B=h.U,U=y.ba.S,q=U==gd||U==yd;y=y.ba.f.RGBA;var W=[0],J=h.ka;W[0]=h.T,h.Kb&&(J==0?--W[0]:(--J,O[0]-=h.width),h.j+h.ka+h.T==h.o&&(W[0]=h.o-h.j-J));var se=y.eb;J=y.fb+J*y.A,h=M5(I,O[0],h.width,B,W,se,J+(q?0:3),y.A),e(S==W),h&&xt(U)&&ih(se,J,q,B,W,y.A)}return 0}function Ur(h){var y=h.ma,S=y.ba.S,I=11>S,O=S==pd||S==md||S==gd||S==bm||S==12||xt(S);if(y.memory=null,y.Ib=null,y.Jb=null,y.Nd=null,!Yc(y.Oa,h,O?11:12))return 0;if(O&&xt(S)&&kl(),h.da)alert("todo:use_scaling");else{if(I){if(y.Ib=Ws,h.Kb){if(S=h.U+1>>1,y.memory=s(h.U+2*S),y.memory==null)return 0;y.ec=y.memory,y.fc=0,y.cc=y.ec,y.dc=y.fc+h.U,y.Mc=y.cc,y.Nc=y.dc+S,y.Ib=Yn,kl()}}else alert("todo:EmitYUV");O&&(y.Jb=is,I&&pn())}if(I&&!J5){for(h=0;256>h;++h)eC[h]=89858*(h-128)+wd>>vd,rC[h]=-22014*(h-128)+wd,nC[h]=-45773*(h-128),tC[h]=113618*(h-128)+wd>>vd;for(h=oh;h<Tm;++h)y=76283*(h-16)+wd>>vd,iC[h-oh]=It(y,255),sC[h-oh]=It(y+8>>4,15);J5=1}return 1}function lt(h){var y=h.ma,S=h.U,I=h.T;return e(!(1&h.ka)),0>=S||0>=I?0:(S=y.Ib(h,y),y.Jb!=null&&y.Jb(h,y,S),y.Dc+=S,1)}function wn(h){h.ma.memory=null}function ss(h,y,S,I){return xe(h,8)!=47?0:(y[0]=xe(h,14)+1,S[0]=xe(h,14)+1,I[0]=xe(h,1),xe(h,3)!=0?0:!h.h)}function xr(h,y){if(4>h)return h+1;var S=h-2>>1;return(2+(1&h)<<S)+xe(y,S)+1}function br(h,y){return 120<y?y-120:1<=(S=((S=BT[y-1])>>4)*h+(8-(15&S)))?S:1;var S}function En(h,y,S){var I=te(S),O=h[y+=255&I].g-8;return 0<O&&(le(S,S.u+8),I=te(S),y+=h[y].value,y+=I&(1<<O)-1),le(S,S.u+h[y].g),h[y].value}function ur(h,y,S){return S.g+=h.g,S.value+=h.value<<y>>>0,e(8>=S.g),h.g}function Tn(h,y,S){var I=h.xc;return e((y=I==0?0:h.vc[h.md*(S>>I)+(y>>I)])<h.Wb),h.Ya[y]}function No(h,y,S,I){var O=h.ab,B=h.c*y,U=h.C;y=U+y;var q=S,W=I;for(I=h.Ta,S=h.Ua;0<O--;){var J=h.gc[O],se=U,ve=y,Z=q,ue=W,de=(W=I,q=S,J.Ea);switch(e(se<ve),e(ve<=J.nc),J.hc){case 2:Jn(Z,ue,(ve-se)*de,W,q);break;case 0:var Ae=se,ye=ve,Ee=W,Ce=q,Me=(Je=J).Ea;Ae==0&&(Jc(Z,ue,null,null,1,Ee,Ce),St(Z,ue+1,0,0,Me-1,Ee,Ce+1),ue+=Me,Ce+=Me,++Ae);for(var Re=1<<Je.b,rt=Re-1,We=Ie(Me,Je.b),Ct=Je.K,Je=Je.w+(Ae>>Je.b)*We;Ae<ye;){var Bt=Ct,mr=Je,kt=1;for(_u(Z,ue,Ee,Ce-Me,1,Ee,Ce);kt<Me;){var Ze=(kt&~rt)+Re;Ze>Me&&(Ze=Me),(0,eh[Bt[mr++]>>8&15])(Z,ue+ +kt,Ee,Ce+kt-Me,Ze-kt,Ee,Ce+kt),kt=Ze}ue+=Me,Ce+=Me,++Ae&rt||(Je+=We)}ve!=J.nc&&r(W,q-de,W,q+(ve-se-1)*de,de);break;case 1:for(de=Z,ye=ue,Me=(Z=J.Ea)-(Ce=Z&~(Ee=(ue=1<<J.b)-1)),Ae=Ie(Z,J.b),Re=J.K,J=J.w+(se>>J.b)*Ae;se<ve;){for(rt=Re,We=J,Ct=new _t,Je=ye+Ce,Bt=ye+Z;ye<Je;)nt(rt[We++],Ct),th(Ct,de,ye,ue,W,q),ye+=ue,q+=ue;ye<Bt&&(nt(rt[We++],Ct),th(Ct,de,ye,Me,W,q),ye+=Me,q+=Me),++se&Ee||(J+=Ae)}break;case 3:if(Z==W&&ue==q&&0<J.b){for(ye=W,Z=de=q+(ve-se)*de-(Ce=(ve-se)*Ie(J.Ea,J.b)),ue=W,Ee=q,Ae=[],Ce=(Me=Ce)-1;0<=Ce;--Ce)Ae[Ce]=ue[Ee+Ce];for(Ce=Me-1;0<=Ce;--Ce)ye[Z+Ce]=Ae[Ce];cd(J,se,ve,W,de,W,q)}else cd(J,se,ve,Z,ue,W,q)}q=I,W=S}W!=S&&r(I,S,q,W,B)}function Gs(h,y){var S=h.V,I=h.Ba+h.c*h.C,O=y-h.C;if(e(y<=h.l.o),e(16>=O),0<O){var B=h.l,U=h.Ta,q=h.Ua,W=B.width;if(No(h,O,S,I),O=q=[q],e((S=h.C)<(I=y)),e(B.v<B.va),I>B.o&&(I=B.o),S<B.j){var J=B.j-S;S=B.j,O[0]+=J*W}if(S>=I?S=0:(O[0]+=4*B.v,B.ka=S-B.j,B.U=B.va-B.v,B.T=I-S,S=1),S){if(q=q[0],11>(S=h.ca).S){var se=S.f.RGBA,ve=(I=S.S,O=B.U,B=B.T,J=se.eb,se.A),Z=B;for(se=se.fb+h.Ma*se.A;0<Z--;){var ue=U,de=q,Ae=O,ye=J,Ee=se;switch(I){case dd:nh(ue,de,Ae,ye,Ee);break;case pd:wa(ue,de,Ae,ye,Ee);break;case _m:wa(ue,de,Ae,ye,Ee),ih(ye,Ee,0,Ae,1,0);break;case q5:Il(ue,de,Ae,ye,Ee);break;case md:ut(ue,de,Ae,ye,Ee,1);break;case Sm:ut(ue,de,Ae,ye,Ee,1),ih(ye,Ee,0,Ae,1,0);break;case gd:ut(ue,de,Ae,ye,Ee,0);break;case yd:ut(ue,de,Ae,ye,Ee,0),ih(ye,Ee,1,Ae,1,0);break;case bm:xa(ue,de,Ae,ye,Ee);break;case Am:xa(ue,de,Ae,ye,Ee),D5(ye,Ee,Ae,1,0);break;case $5:ba(ue,de,Ae,ye,Ee);break;default:e(0)}q+=W,se+=ve}h.Ma+=B}else alert("todo:EmitRescaledRowsYUVA");e(h.Ma<=S.height)}}h.C=y,e(h.C<=h.i)}function zr(h){var y;if(0<h.ua)return 0;for(y=0;y<h.Wb;++y){var S=h.Ya[y].G,I=h.Ya[y].H;if(0<S[1][I[1]+0].g||0<S[2][I[2]+0].g||0<S[3][I[3]+0].g)return 0}return 1}function Di(h,y,S,I,O,B){if(h.Z!=0){var U=h.qd,q=h.rd;for(e(Aa[h.Z]!=null);y<S;++y)Aa[h.Z](U,q,I,O,I,O,B),U=I,q=O,O+=B;h.qd=U,h.rd=q}}function si(h,y){var S=h.l.ma,I=S.Z==0||S.Z==1?h.l.j:h.C;if(I=h.C<I?I:h.C,e(y<=h.l.o),y>I){var O=h.l.width,B=S.ca,U=S.tb+O*I,q=h.V,W=h.Ba+h.c*I,J=h.gc;e(h.ab==1),e(J[0].hc==3),oo(J[0],I,y,q,W,B,U),Di(S,I,y,B,U,O)}h.C=h.Ma=y}function qr(h,y,S,I,O,B,U){var q=h.$/I,W=h.$%I,J=h.m,se=h.s,ve=S+h.$,Z=ve;O=S+I*O;var ue=S+I*B,de=280+se.ua,Ae=h.Pb?q:16777216,ye=0<se.ua?se.Wa:null,Ee=se.wc,Ce=ve<ue?Tn(se,W,q):null;e(h.C<B),e(ue<=O);var Me=!1;e:for(;;){for(;Me||ve<ue;){var Re=0;if(q>=Ae){var rt=ve-S;e((Ae=h).Pb),Ae.wd=Ae.m,Ae.xd=rt,0<Ae.s.ua&&Ke(Ae.s.Wa,Ae.s.vb),Ae=q+zT}if(W&Ee||(Ce=Tn(se,W,q)),e(Ce!=null),Ce.Qb&&(y[ve]=Ce.qb,Me=!0),!Me)if(pe(J),Ce.jc){Re=J,rt=y;var We=ve,Ct=Ce.pd[te(Re)&Pl-1];e(Ce.jc),256>Ct.g?(le(Re,Re.u+Ct.g),rt[We]=Ct.value,Re=0):(le(Re,Re.u+Ct.g-256),e(256<=Ct.value),Re=Ct.value),Re==0&&(Me=!0)}else Re=En(Ce.G[0],Ce.H[0],J);if(J.h)break;if(Me||256>Re){if(!Me)if(Ce.nd)y[ve]=(Ce.qb|Re<<8)>>>0;else{if(pe(J),Me=En(Ce.G[1],Ce.H[1],J),pe(J),rt=En(Ce.G[2],Ce.H[2],J),We=En(Ce.G[3],Ce.H[3],J),J.h)break;y[ve]=(We<<24|Me<<16|Re<<8|rt)>>>0}if(Me=!1,++ve,++W>=I&&(W=0,++q,U!=null&&q<=B&&!(q%16)&&U(h,q),ye!=null))for(;Z<ve;)Re=y[Z++],ye.X[(506832829*Re&4294967295)>>>ye.Mb]=Re}else if(280>Re){if(Re=xr(Re-256,J),rt=En(Ce.G[4],Ce.H[4],J),pe(J),rt=br(I,rt=xr(rt,J)),J.h)break;if(ve-S<rt||O-ve<Re)break e;for(We=0;We<Re;++We)y[ve+We]=y[ve+We-rt];for(ve+=Re,W+=Re;W>=I;)W-=I,++q,U!=null&&q<=B&&!(q%16)&&U(h,q);if(e(ve<=O),W&Ee&&(Ce=Tn(se,W,q)),ye!=null)for(;Z<ve;)Re=y[Z++],ye.X[(506832829*Re&4294967295)>>>ye.Mb]=Re}else{if(!(Re<de))break e;for(Me=Re-280,e(ye!=null);Z<ve;)Re=y[Z++],ye.X[(506832829*Re&4294967295)>>>ye.Mb]=Re;Re=ve,e(!(Me>>>(rt=ye).Xa)),y[Re]=rt.X[Me],Me=!0}Me||e(J.h==ie(J))}if(h.Pb&&J.h&&ve<O)e(h.m.h),h.a=5,h.m=h.wd,h.$=h.xd,0<h.s.ua&&Ke(h.s.vb,h.s.Wa);else{if(J.h)break e;U!=null&&U(h,q>B?B:q),h.a=0,h.$=ve-S}return 1}return h.a=3,0}function Xn(h){e(h!=null),h.vc=null,h.yc=null,h.Ya=null;var y=h.Wa;y!=null&&(y.X=null),h.vb=null,e(h!=null)}function Ks(){var h=new Qe;return h==null?null:(h.a=0,h.xb=G5,Pt("Predictor","VP8LPredictors"),Pt("Predictor","VP8LPredictors_C"),Pt("PredictorAdd","VP8LPredictorsAdd"),Pt("PredictorAdd","VP8LPredictorsAdd_C"),Jn=mt,th=ht,nh=Kt,wa=Ut,xa=Xe,ba=gt,Il=Zt,P.VP8LMapColor32b=so,P.VP8LMapColor8b=Zc,h)}function Mi(h,y,S,I,O){var B=1,U=[h],q=[y],W=I.m,J=I.s,se=null,ve=0;e:for(;;){if(S)for(;B&&xe(W,1);){var Z=U,ue=q,de=I,Ae=1,ye=de.m,Ee=de.gc[de.ab],Ce=xe(ye,2);if(de.Oc&1<<Ce)B=0;else{switch(de.Oc|=1<<Ce,Ee.hc=Ce,Ee.Ea=Z[0],Ee.nc=ue[0],Ee.K=[null],++de.ab,e(4>=de.ab),Ce){case 0:case 1:Ee.b=xe(ye,3)+2,Ae=Mi(Ie(Ee.Ea,Ee.b),Ie(Ee.nc,Ee.b),0,de,Ee.K),Ee.K=Ee.K[0];break;case 3:var Me,Re=xe(ye,8)+1,rt=16<Re?0:4<Re?1:2<Re?2:3;if(Z[0]=Ie(Ee.Ea,rt),Ee.b=rt,Me=Ae=Mi(Re,1,0,de,Ee.K)){var We,Ct=Re,Je=Ee,Bt=1<<(8>>Je.b),mr=s(Bt);if(mr==null)Me=0;else{var kt=Je.K[0],Ze=Je.w;for(mr[0]=Je.K[0][0],We=1;We<1*Ct;++We)mr[We]=ze(kt[Ze+We],mr[We-1]);for(;We<4*Bt;++We)mr[We]=0;Je.K[0]=null,Je.K[0]=mr,Me=1}}Ae=Me;break;case 2:break;default:e(0)}B=Ae}}if(U=U[0],q=q[0],B&&xe(W,1)&&!(B=1<=(ve=xe(W,4))&&11>=ve)){I.a=3;break e}var Ve;if(Ve=B)t:{var er,Tt,qt,xn=I,Pr=U,li=q,zn=ve,Hr=S,ui=xn.m,gr=xn.s,Ht=[null],nn=1,qn=0,rn=UT[zn];n:for(;;){if(Hr&&xe(ui,1)){var Ir=xe(ui,3)+2,Ps=Ie(Pr,Ir),tr=Ie(li,Ir),Ai=Ps*tr;if(!Mi(Ps,tr,0,xn,Ht))break n;for(Ht=Ht[0],gr.xc=Ir,er=0;er<Ai;++er){var fn=Ht[er]>>8&65535;Ht[er]=fn,fn>=nn&&(nn=fn+1)}}if(ui.h)break n;for(Tt=0;5>Tt;++Tt){var yr=H5[Tt];!Tt&&0<zn&&(yr+=1<<zn),qn<yr&&(qn=yr)}var $i=o(nn*rn,j),ci=nn,Hi=o(ci,ne);if(Hi==null)var Wi=null;else e(65536>=ci),Wi=Hi;var Ni=s(qn);if(Wi==null||Ni==null||$i==null){xn.a=1;break n}var Gi=$i;for(er=qt=0;er<nn;++er){var gn=Wi[er],Ki=gn.G,Is=gn.H,Rl=0,Fo=1,Lr=0;for(Tt=0;5>Tt;++Tt){yr=H5[Tt],Ki[Tt]=Gi,Is[Tt]=qt,!Tt&&0<zn&&(yr+=1<<zn);i:{var bd,Cm=yr,_d=xn,ah=Ni,lC=Gi,uC=qt,km=0,Na=_d.m,cC=xe(Na,1);if(i(ah,0,0,Cm),cC){var hC=xe(Na,1)+1,fC=xe(Na,1),tw=xe(Na,fC==0?1:8);ah[tw]=1,hC==2&&(ah[tw=xe(Na,8)]=1);var Sd=1}else{var nw=s(19),rw=xe(Na,4)+4;if(19<rw){_d.a=3;var Ad=0;break i}for(bd=0;bd<rw;++bd)nw[VT[bd]]=xe(Na,3);var Pm=void 0,lh=void 0,iw=_d,dC=nw,Nd=Cm,sw=ah,Im=0,Ea=iw.m,ow=8,aw=o(128,j);r:for(;L(aw,0,7,dC,19);){if(xe(Ea,1)){var pC=2+2*xe(Ea,3);if((Pm=2+xe(Ea,pC))>Nd)break r}else Pm=Nd;for(lh=0;lh<Nd&&Pm--;){pe(Ea);var lw=aw[0+(127&te(Ea))];le(Ea,Ea.u+lw.g);var Au=lw.value;if(16>Au)sw[lh++]=Au,Au!=0&&(ow=Au);else{var mC=Au==16,uw=Au-16,gC=FT[uw],cw=xe(Ea,MT[uw])+gC;if(lh+cw>Nd)break r;for(var yC=mC?ow:0;0<cw--;)sw[lh++]=yC}}Im=1;break r}Im||(iw.a=3),Sd=Im}(Sd=Sd&&!Na.h)&&(km=L(lC,uC,8,ah,Cm)),Sd&&km!=0?Ad=km:(_d.a=3,Ad=0)}if(Ad==0)break n;if(Fo&&OT[Tt]==1&&(Fo=Gi[qt].g==0),Rl+=Gi[qt].g,qt+=Ad,3>=Tt){var uh,Lm=Ni[0];for(uh=1;uh<yr;++uh)Ni[uh]>Lm&&(Lm=Ni[uh]);Lr+=Lm}}if(gn.nd=Fo,gn.Qb=0,Fo&&(gn.qb=(Ki[3][Is[3]+0].value<<24|Ki[1][Is[1]+0].value<<16|Ki[2][Is[2]+0].value)>>>0,Rl==0&&256>Ki[0][Is[0]+0].value&&(gn.Qb=1,gn.qb+=Ki[0][Is[0]+0].value<<8)),gn.jc=!gn.Qb&&6>Lr,gn.jc){var Ed,Oo=gn;for(Ed=0;Ed<Pl;++Ed){var Ta=Ed,Ca=Oo.pd[Ta],Td=Oo.G[0][Oo.H[0]+Ta];256<=Td.value?(Ca.g=Td.g+256,Ca.value=Td.value):(Ca.g=0,Ca.value=0,Ta>>=ur(Td,8,Ca),Ta>>=ur(Oo.G[1][Oo.H[1]+Ta],16,Ca),Ta>>=ur(Oo.G[2][Oo.H[2]+Ta],0,Ca),ur(Oo.G[3][Oo.H[3]+Ta],24,Ca))}}}gr.vc=Ht,gr.Wb=nn,gr.Ya=Wi,gr.yc=$i,Ve=1;break t}Ve=0}if(!(B=Ve)){I.a=3;break e}if(0<ve){if(J.ua=1<<ve,!Y(J.Wa,ve)){I.a=1,B=0;break e}}else J.ua=0;var Rm=I,hw=U,vC=q,jm=Rm.s,Dm=jm.xc;if(Rm.c=hw,Rm.i=vC,jm.md=Ie(hw,Dm),jm.wc=Dm==0?-1:(1<<Dm)-1,S){I.xb=QT;break e}if((se=s(U*q))==null){I.a=1,B=0;break e}B=(B=qr(I,se,0,U,q,q,null))&&!W.h;break e}return B?(O!=null?O[0]=se:(e(se==null),e(S)),I.$=0,S||Xn(J)):Xn(J),B}function Ss(h,y){var S=h.c*h.i,I=S+y+16*y;return e(h.c<=y),h.V=s(I),h.V==null?(h.Ta=null,h.Ua=0,h.a=1,0):(h.Ta=h.V,h.Ua=h.Ba+S+y,1)}function Qs(h,y){var S=h.C,I=y-S,O=h.V,B=h.Ba+h.c*S;for(e(y<=h.l.o);0<I;){var U=16<I?16:I,q=h.l.ma,W=h.l.width,J=W*U,se=q.ca,ve=q.tb+W*S,Z=h.Ta,ue=h.Ua;No(h,U,O,B),F5(Z,ue,se,ve,J),Di(q,S,S+U,se,ve,W),I-=U,O+=U*h.c,S+=U}e(S==y),h.C=h.Ma=y}function Eo(){this.ub=this.yd=this.td=this.Rb=0}function To(){this.Kd=this.Ld=this.Ud=this.Td=this.i=this.c=0}function qc(){this.Fb=this.Bb=this.Cb=0,this.Zb=s(4),this.Lb=s(4)}function Ys(){this.Yb=function(){var h=[];return function y(S,I,O){for(var B=O[I],U=0;U<B&&(S.push(O.length>I+1?[]:0),!(O.length<I+1));U++)y(S[U],I+1,O)}(h,0,[3,11]),h}()}function ml(){this.jb=s(3),this.Wc=a([4,8],Ys),this.Xc=a([4,17],Ys)}function aa(){this.Pc=this.wb=this.Tb=this.zd=0,this.vd=new s(4),this.od=new s(4)}function _r(){this.ld=this.La=this.dd=this.tc=0}function Fi(){this.Na=this.la=0}function la(){this.Sc=[0,0],this.Eb=[0,0],this.Qc=[0,0],this.ia=this.lc=0}function gl(){this.ad=s(384),this.Za=0,this.Ob=s(16),this.$b=this.Ad=this.ia=this.Gc=this.Hc=this.Dd=0}function yl(){this.uc=this.M=this.Nb=0,this.wa=Array(new _r),this.Y=0,this.ya=Array(new gl),this.aa=0,this.l=new Xs}function vl(){this.y=s(16),this.f=s(8),this.ea=s(8)}function wl(){this.cb=this.a=0,this.sc="",this.m=new V,this.Od=new Eo,this.Kc=new To,this.ed=new aa,this.Qa=new qc,this.Ic=this.$c=this.Aa=0,this.D=new yl,this.Xb=this.Va=this.Hb=this.zb=this.yb=this.Ub=this.za=0,this.Jc=o(8,V),this.ia=0,this.pb=o(4,la),this.Pa=new ml,this.Bd=this.kc=0,this.Ac=[],this.Bc=0,this.zc=[0,0,0,0],this.Gd=Array(new vl),this.Hd=0,this.rb=Array(new Fi),this.sb=0,this.wa=Array(new _r),this.Y=0,this.oc=[],this.pc=0,this.sa=[],this.ta=0,this.qa=[],this.ra=0,this.Ha=[],this.B=this.R=this.Ia=0,this.Ec=[],this.M=this.ja=this.Vb=this.Fc=0,this.ya=Array(new gl),this.L=this.aa=0,this.gd=a([4,2],_r),this.ga=null,this.Fa=[],this.Cc=this.qc=this.P=0,this.Gb=[],this.Uc=0,this.mb=[],this.nb=0,this.rc=[],this.Ga=this.Vc=0}function Xs(){this.T=this.U=this.ka=this.height=this.width=0,this.y=[],this.f=[],this.ea=[],this.Rc=this.fa=this.W=this.N=this.O=0,this.ma="void",this.put="VP8IoPutHook",this.ac="VP8IoSetupHook",this.bc="VP8IoTeardownHook",this.ha=this.Kb=0,this.data=[],this.hb=this.ib=this.da=this.o=this.j=this.va=this.v=this.Da=this.ob=this.w=0,this.F=[],this.J=0}function xl(){var h=new wl;return h!=null&&(h.a=0,h.sc="OK",h.cb=0,h.Xb=0,sh||(sh=As)),h}function Pn(h,y,S){return h.a==0&&(h.a=y,h.sc=S,h.cb=0),0}function bl(h,y,S){return 3<=S&&h[y+0]==157&&h[y+1]==1&&h[y+2]==42}function wu(h,y){if(h==null)return 0;if(h.a=0,h.sc="OK",y==null)return Pn(h,2,"null VP8Io passed to VP8GetHeaders()");var S=y.data,I=y.w,O=y.ha;if(4>O)return Pn(h,7,"Truncated header.");var B=S[I+0]|S[I+1]<<8|S[I+2]<<16,U=h.Od;if(U.Rb=!(1&B),U.td=B>>1&7,U.yd=B>>4&1,U.ub=B>>5,3<U.td)return Pn(h,3,"Incorrect keyframe parameters.");if(!U.yd)return Pn(h,4,"Frame not displayable.");I+=3,O-=3;var q=h.Kc;if(U.Rb){if(7>O)return Pn(h,7,"cannot parse picture header");if(!bl(S,I,O))return Pn(h,3,"Bad code word");q.c=16383&(S[I+4]<<8|S[I+3]),q.Td=S[I+4]>>6,q.i=16383&(S[I+6]<<8|S[I+5]),q.Ud=S[I+6]>>6,I+=7,O-=7,h.za=q.c+15>>4,h.Ub=q.i+15>>4,y.width=q.c,y.height=q.i,y.Da=0,y.j=0,y.v=0,y.va=y.width,y.o=y.height,y.da=0,y.ib=y.width,y.hb=y.height,y.U=y.width,y.T=y.height,i((B=h.Pa).jb,0,255,B.jb.length),e((B=h.Qa)!=null),B.Cb=0,B.Bb=0,B.Fb=1,i(B.Zb,0,0,B.Zb.length),i(B.Lb,0,0,B.Lb)}if(U.ub>O)return Pn(h,7,"bad partition length");ce(B=h.m,S,I,U.ub),I+=U.ub,O-=U.ub,U.Rb&&(q.Ld=_e(B),q.Kd=_e(B)),q=h.Qa;var W,J=h.Pa;if(e(B!=null),e(q!=null),q.Cb=_e(B),q.Cb){if(q.Bb=_e(B),_e(B)){for(q.Fb=_e(B),W=0;4>W;++W)q.Zb[W]=_e(B)?ee(B,7):0;for(W=0;4>W;++W)q.Lb[W]=_e(B)?ee(B,6):0}if(q.Bb)for(W=0;3>W;++W)J.jb[W]=_e(B)?ae(B,8):255}else q.Bb=0;if(B.Ka)return Pn(h,3,"cannot parse segment header");if((q=h.ed).zd=_e(B),q.Tb=ae(B,6),q.wb=ae(B,3),q.Pc=_e(B),q.Pc&&_e(B)){for(J=0;4>J;++J)_e(B)&&(q.vd[J]=ee(B,6));for(J=0;4>J;++J)_e(B)&&(q.od[J]=ee(B,6))}if(h.L=q.Tb==0?0:q.zd?1:2,B.Ka)return Pn(h,3,"cannot parse filter header");var se=O;if(O=W=I,I=W+se,q=se,h.Xb=(1<<ae(h.m,2))-1,se<3*(J=h.Xb))S=7;else{for(W+=3*J,q-=3*J,se=0;se<J;++se){var ve=S[O+0]|S[O+1]<<8|S[O+2]<<16;ve>q&&(ve=q),ce(h.Jc[+se],S,W,ve),W+=ve,q-=ve,O+=3}ce(h.Jc[+J],S,W,q),S=W<I?0:5}if(S!=0)return Pn(h,S,"cannot parse partitions");for(S=ae(W=h.m,7),O=_e(W)?ee(W,4):0,I=_e(W)?ee(W,4):0,q=_e(W)?ee(W,4):0,J=_e(W)?ee(W,4):0,W=_e(W)?ee(W,4):0,se=h.Qa,ve=0;4>ve;++ve){if(se.Cb){var Z=se.Zb[ve];se.Fb||(Z+=S)}else{if(0<ve){h.pb[ve]=h.pb[0];continue}Z=S}var ue=h.pb[ve];ue.Sc[0]=Nm[It(Z+O,127)],ue.Sc[1]=Em[It(Z+0,127)],ue.Eb[0]=2*Nm[It(Z+I,127)],ue.Eb[1]=101581*Em[It(Z+q,127)]>>16,8>ue.Eb[1]&&(ue.Eb[1]=8),ue.Qc[0]=Nm[It(Z+J,117)],ue.Qc[1]=Em[It(Z+W,127)],ue.lc=Z+W}if(!U.Rb)return Pn(h,4,"Not a key frame.");for(_e(B),U=h.Pa,S=0;4>S;++S){for(O=0;8>O;++O)for(I=0;3>I;++I)for(q=0;11>q;++q)J=Te(B,GT[S][O][I][q])?ae(B,8):HT[S][O][I][q],U.Wc[S][O].Yb[I][q]=J;for(O=0;17>O;++O)U.Xc[S][O]=U.Wc[S][KT[O]]}return h.kc=_e(B),h.kc&&(h.Bd=ae(B,8)),h.cb=1}function As(h,y,S,I,O,B,U){var q=y[O].Yb[S];for(S=0;16>O;++O){if(!Te(h,q[S+0]))return O;for(;!Te(h,q[S+1]);)if(q=y[++O].Yb[0],S=0,O==16)return 16;var W=y[O+1].Yb;if(Te(h,q[S+2])){var J=h,se=0;if(Te(J,(Z=q)[(ve=S)+3]))if(Te(J,Z[ve+6])){for(q=0,ve=2*(se=Te(J,Z[ve+8]))+(Z=Te(J,Z[ve+9+se])),se=0,Z=qT[ve];Z[q];++q)se+=se+Te(J,Z[q]);se+=3+(8<<ve)}else Te(J,Z[ve+7])?(se=7+2*Te(J,165),se+=Te(J,145)):se=5+Te(J,159);else se=Te(J,Z[ve+4])?3+Te(J,Z[ve+5]):2;q=W[2]}else se=1,q=W[1];W=U+$T[O],0>(J=h).b&&be(J);var ve,Z=J.b,ue=(ve=J.Ca>>1)-(J.I>>Z)>>31;--J.b,J.Ca+=ue,J.Ca|=1,J.I-=(ve+1&ue)<<Z,B[W]=((se^ue)-ue)*I[(0<O)+0]}return 16}function Js(h){var y=h.rb[h.sb-1];y.la=0,y.Na=0,i(h.zc,0,0,h.zc.length),h.ja=0}function xi(h,y,S,I,O){O=h[y+S+32*I]+(O>>3),h[y+S+32*I]=-256&O?0>O?0:255:O}function Co(h,y,S,I,O,B){xi(h,y,0,S,I+O),xi(h,y,1,S,I+B),xi(h,y,2,S,I-B),xi(h,y,3,S,I-O)}function en(h){return(20091*h>>16)+h}function oi(h,y,S,I){var O,B=0,U=s(16);for(O=0;4>O;++O){var q=h[y+0]+h[y+8],W=h[y+0]-h[y+8],J=(35468*h[y+4]>>16)-en(h[y+12]),se=en(h[y+4])+(35468*h[y+12]>>16);U[B+0]=q+se,U[B+1]=W+J,U[B+2]=W-J,U[B+3]=q-se,B+=4,y++}for(O=B=0;4>O;++O)q=(h=U[B+0]+4)+U[B+8],W=h-U[B+8],J=(35468*U[B+4]>>16)-en(U[B+12]),xi(S,I,0,0,q+(se=en(U[B+4])+(35468*U[B+12]>>16))),xi(S,I,1,0,W+J),xi(S,I,2,0,W-J),xi(S,I,3,0,q-se),B++,I+=32}function ua(h,y,S,I){var O=h[y+0]+4,B=35468*h[y+4]>>16,U=en(h[y+4]),q=35468*h[y+1]>>16;Co(S,I,0,O+U,h=en(h[y+1]),q),Co(S,I,1,O+B,h,q),Co(S,I,2,O-B,h,q),Co(S,I,3,O-U,h,q)}function ca(h,y,S,I,O){oi(h,y,S,I),O&&oi(h,y+16,S,I+4)}function xu(h,y,S,I){Ll(h,y+0,S,I,1),Ll(h,y+32,S,I+128,1)}function Mt(h,y,S,I){var O;for(h=h[y+0]+4,O=0;4>O;++O)for(y=0;4>y;++y)xi(S,I,y,O,h)}function ko(h,y,S,I){h[y+0]&&Jt(h,y+0,S,I),h[y+16]&&Jt(h,y+16,S,I+4),h[y+32]&&Jt(h,y+32,S,I+128),h[y+48]&&Jt(h,y+48,S,I+128+4)}function Zs(h,y,S,I){var O,B=s(16);for(O=0;4>O;++O){var U=h[y+0+O]+h[y+12+O],q=h[y+4+O]+h[y+8+O],W=h[y+4+O]-h[y+8+O],J=h[y+0+O]-h[y+12+O];B[0+O]=U+q,B[8+O]=U-q,B[4+O]=J+W,B[12+O]=J-W}for(O=0;4>O;++O)U=(h=B[0+4*O]+3)+B[3+4*O],q=B[1+4*O]+B[2+4*O],W=B[1+4*O]-B[2+4*O],J=h-B[3+4*O],S[I+0]=U+q>>3,S[I+16]=J+W>>3,S[I+32]=U-q>>3,S[I+48]=J-W>>3,I+=64}function bi(h,y,S){var I,O=y-32,B=qi,U=255-h[O-1];for(I=0;I<S;++I){var q,W=B,J=U+h[y-1];for(q=0;q<S;++q)h[y+q]=W[J+h[O+q]];y+=32}}function _l(h,y){bi(h,y,4)}function bu(h,y){bi(h,y,8)}function $c(h,y){bi(h,y,16)}function Hc(h,y){var S;for(S=0;16>S;++S)r(h,y+32*S,h,y-32,16)}function Sl(h,y){var S;for(S=16;0<S;--S)i(h,y,h[y-1],16),y+=32}function Po(h,y,S){var I;for(I=0;16>I;++I)i(y,S+32*I,h,16)}function _i(h,y){var S,I=16;for(S=0;16>S;++S)I+=h[y-1+32*S]+h[y+S-32];Po(I>>5,h,y)}function os(h,y){var S,I=8;for(S=0;16>S;++S)I+=h[y-1+32*S];Po(I>>4,h,y)}function eo(h,y){var S,I=8;for(S=0;16>S;++S)I+=h[y+S-32];Po(I>>4,h,y)}function ha(h,y){Po(128,h,y)}function dt(h,y,S){return h+2*y+S+2>>2}function to(h,y){var S,I=y-32;for(I=new Uint8Array([dt(h[I-1],h[I+0],h[I+1]),dt(h[I+0],h[I+1],h[I+2]),dt(h[I+1],h[I+2],h[I+3]),dt(h[I+2],h[I+3],h[I+4])]),S=0;4>S;++S)r(h,y+32*S,I,0,I.length)}function Wc(h,y){var S=h[y-1],I=h[y-1+32],O=h[y-1+64],B=h[y-1+96];je(h,y+0,16843009*dt(h[y-1-32],S,I)),je(h,y+32,16843009*dt(S,I,O)),je(h,y+64,16843009*dt(I,O,B)),je(h,y+96,16843009*dt(O,B,B))}function Gc(h,y){var S,I=4;for(S=0;4>S;++S)I+=h[y+S-32]+h[y-1+32*S];for(I>>=3,S=0;4>S;++S)i(h,y+32*S,I,4)}function Kc(h,y){var S=h[y-1+0],I=h[y-1+32],O=h[y-1+64],B=h[y-1-32],U=h[y+0-32],q=h[y+1-32],W=h[y+2-32],J=h[y+3-32];h[y+0+96]=dt(I,O,h[y-1+96]),h[y+1+96]=h[y+0+64]=dt(S,I,O),h[y+2+96]=h[y+1+64]=h[y+0+32]=dt(B,S,I),h[y+3+96]=h[y+2+64]=h[y+1+32]=h[y+0+0]=dt(U,B,S),h[y+3+64]=h[y+2+32]=h[y+1+0]=dt(q,U,B),h[y+3+32]=h[y+2+0]=dt(W,q,U),h[y+3+0]=dt(J,W,q)}function Sr(h,y){var S=h[y+1-32],I=h[y+2-32],O=h[y+3-32],B=h[y+4-32],U=h[y+5-32],q=h[y+6-32],W=h[y+7-32];h[y+0+0]=dt(h[y+0-32],S,I),h[y+1+0]=h[y+0+32]=dt(S,I,O),h[y+2+0]=h[y+1+32]=h[y+0+64]=dt(I,O,B),h[y+3+0]=h[y+2+32]=h[y+1+64]=h[y+0+96]=dt(O,B,U),h[y+3+32]=h[y+2+64]=h[y+1+96]=dt(B,U,q),h[y+3+64]=h[y+2+96]=dt(U,q,W),h[y+3+96]=dt(q,W,W)}function Ns(h,y){var S=h[y-1+0],I=h[y-1+32],O=h[y-1+64],B=h[y-1-32],U=h[y+0-32],q=h[y+1-32],W=h[y+2-32],J=h[y+3-32];h[y+0+0]=h[y+1+64]=B+U+1>>1,h[y+1+0]=h[y+2+64]=U+q+1>>1,h[y+2+0]=h[y+3+64]=q+W+1>>1,h[y+3+0]=W+J+1>>1,h[y+0+96]=dt(O,I,S),h[y+0+64]=dt(I,S,B),h[y+0+32]=h[y+1+96]=dt(S,B,U),h[y+1+32]=h[y+2+96]=dt(B,U,q),h[y+2+32]=h[y+3+96]=dt(U,q,W),h[y+3+32]=dt(q,W,J)}function Qc(h,y){var S=h[y+0-32],I=h[y+1-32],O=h[y+2-32],B=h[y+3-32],U=h[y+4-32],q=h[y+5-32],W=h[y+6-32],J=h[y+7-32];h[y+0+0]=S+I+1>>1,h[y+1+0]=h[y+0+64]=I+O+1>>1,h[y+2+0]=h[y+1+64]=O+B+1>>1,h[y+3+0]=h[y+2+64]=B+U+1>>1,h[y+0+32]=dt(S,I,O),h[y+1+32]=h[y+0+96]=dt(I,O,B),h[y+2+32]=h[y+1+96]=dt(O,B,U),h[y+3+32]=h[y+2+96]=dt(B,U,q),h[y+3+64]=dt(U,q,W),h[y+3+96]=dt(q,W,J)}function fa(h,y){var S=h[y-1+0],I=h[y-1+32],O=h[y-1+64],B=h[y-1+96];h[y+0+0]=S+I+1>>1,h[y+2+0]=h[y+0+32]=I+O+1>>1,h[y+2+32]=h[y+0+64]=O+B+1>>1,h[y+1+0]=dt(S,I,O),h[y+3+0]=h[y+1+32]=dt(I,O,B),h[y+3+32]=h[y+1+64]=dt(O,B,B),h[y+3+64]=h[y+2+64]=h[y+0+96]=h[y+1+96]=h[y+2+96]=h[y+3+96]=B}function Es(h,y){var S=h[y-1+0],I=h[y-1+32],O=h[y-1+64],B=h[y-1+96],U=h[y-1-32],q=h[y+0-32],W=h[y+1-32],J=h[y+2-32];h[y+0+0]=h[y+2+32]=S+U+1>>1,h[y+0+32]=h[y+2+64]=I+S+1>>1,h[y+0+64]=h[y+2+96]=O+I+1>>1,h[y+0+96]=B+O+1>>1,h[y+3+0]=dt(q,W,J),h[y+2+0]=dt(U,q,W),h[y+1+0]=h[y+3+32]=dt(S,U,q),h[y+1+32]=h[y+3+64]=dt(I,S,U),h[y+1+64]=h[y+3+96]=dt(O,I,S),h[y+1+96]=dt(B,O,I)}function da(h,y){var S;for(S=0;8>S;++S)r(h,y+32*S,h,y-32,8)}function Oi(h,y){var S;for(S=0;8>S;++S)i(h,y,h[y-1],8),y+=32}function as(h,y,S){var I;for(I=0;8>I;++I)i(y,S+32*I,h,8)}function Io(h,y){var S,I=8;for(S=0;8>S;++S)I+=h[y+S-32]+h[y-1+32*S];as(I>>4,h,y)}function Al(h,y){var S,I=4;for(S=0;8>S;++S)I+=h[y+S-32];as(I>>3,h,y)}function cn(h,y){var S,I=4;for(S=0;8>S;++S)I+=h[y-1+32*S];as(I>>3,h,y)}function Nl(h,y){as(128,h,y)}function Lo(h,y,S){var I=h[y-S],O=h[y+0],B=3*(O-I)+xm[1020+h[y-2*S]-h[y+S]],U=fd[112+(B+4>>3)];h[y-S]=qi[255+I+fd[112+(B+3>>3)]],h[y+0]=qi[255+O-U]}function no(h,y,S,I){var O=h[y+0],B=h[y+S];return cs[255+h[y-2*S]-h[y-S]]>I||cs[255+B-O]>I}function pa(h,y,S,I){return 4*cs[255+h[y-S]-h[y+0]]+cs[255+h[y-2*S]-h[y+S]]<=I}function Ro(h,y,S,I,O){var B=h[y-3*S],U=h[y-2*S],q=h[y-S],W=h[y+0],J=h[y+S],se=h[y+2*S],ve=h[y+3*S];return 4*cs[255+q-W]+cs[255+U-J]>I?0:cs[255+h[y-4*S]-B]<=O&&cs[255+B-U]<=O&&cs[255+U-q]<=O&&cs[255+ve-se]<=O&&cs[255+se-J]<=O&&cs[255+J-W]<=O}function ro(h,y,S,I){var O=2*I+1;for(I=0;16>I;++I)pa(h,y+I,S,O)&&Lo(h,y+I,S)}function io(h,y,S,I){var O=2*I+1;for(I=0;16>I;++I)pa(h,y+I*S,1,O)&&Lo(h,y+I*S,1)}function Si(h,y,S,I){var O;for(O=3;0<O;--O)ro(h,y+=4*S,S,I)}function El(h,y,S,I){var O;for(O=3;0<O;--O)io(h,y+=4,S,I)}function Ts(h,y,S,I,O,B,U,q){for(B=2*B+1;0<O--;){if(Ro(h,y,S,B,U))if(no(h,y,S,q))Lo(h,y,S);else{var W=h,J=y,se=S,ve=W[J-2*se],Z=W[J-se],ue=W[J+0],de=W[J+se],Ae=W[J+2*se],ye=27*(Ce=xm[1020+3*(ue-Z)+xm[1020+ve-de]])+63>>7,Ee=18*Ce+63>>7,Ce=9*Ce+63>>7;W[J-3*se]=qi[255+W[J-3*se]+Ce],W[J-2*se]=qi[255+ve+Ee],W[J-se]=qi[255+Z+ye],W[J+0]=qi[255+ue-ye],W[J+se]=qi[255+de-Ee],W[J+2*se]=qi[255+Ae-Ce]}y+=I}}function ai(h,y,S,I,O,B,U,q){for(B=2*B+1;0<O--;){if(Ro(h,y,S,B,U))if(no(h,y,S,q))Lo(h,y,S);else{var W=h,J=y,se=S,ve=W[J-se],Z=W[J+0],ue=W[J+se],de=fd[112+(4+(Ae=3*(Z-ve))>>3)],Ae=fd[112+(Ae+3>>3)],ye=de+1>>1;W[J-2*se]=qi[255+W[J-2*se]+ye],W[J-se]=qi[255+ve+Ae],W[J+0]=qi[255+Z-de],W[J+se]=qi[255+ue-ye]}y+=I}}function Tl(h,y,S,I,O,B){Ts(h,y,S,1,16,I,O,B)}function ma(h,y,S,I,O,B){Ts(h,y,1,S,16,I,O,B)}function ls(h,y,S,I,O,B){var U;for(U=3;0<U;--U)ai(h,y+=4*S,S,1,16,I,O,B)}function Cl(h,y,S,I,O,B){var U;for(U=3;0<U;--U)ai(h,y+=4,1,S,16,I,O,B)}function w(h,y,S,I,O,B,U,q){Ts(h,y,O,1,8,B,U,q),Ts(S,I,O,1,8,B,U,q)}function F(h,y,S,I,O,B,U,q){Ts(h,y,1,O,8,B,U,q),Ts(S,I,1,O,8,B,U,q)}function X(h,y,S,I,O,B,U,q){ai(h,y+4*O,O,1,8,B,U,q),ai(S,I+4*O,O,1,8,B,U,q)}function re(h,y,S,I,O,B,U,q){ai(h,y+4,1,O,8,B,U,q),ai(S,I+4,1,O,8,B,U,q)}function he(){this.ba=new Yt,this.ec=[],this.cc=[],this.Mc=[],this.Dc=this.Nc=this.dc=this.fc=0,this.Oa=new Lt,this.memory=0,this.Ib="OutputFunc",this.Jb="OutputAlphaFunc",this.Nd="OutputRowFunc"}function Ne(){this.data=[],this.offset=this.kd=this.ha=this.w=0,this.na=[],this.xa=this.gb=this.Ja=this.Sa=this.P=0}function Le(){this.nc=this.Ea=this.b=this.hc=0,this.K=[],this.w=0}function $e(){this.ua=0,this.Wa=new ot,this.vb=new ot,this.md=this.xc=this.wc=0,this.vc=[],this.Wb=0,this.Ya=new ne,this.yc=new j}function Qe(){this.xb=this.a=0,this.l=new Xs,this.ca=new Yt,this.V=[],this.Ba=0,this.Ta=[],this.Ua=0,this.m=new Q,this.Pb=0,this.wd=new Q,this.Ma=this.$=this.C=this.i=this.c=this.xd=0,this.s=new $e,this.ab=0,this.gc=o(4,Le),this.Oc=0}function ct(){this.Lc=this.Z=this.$a=this.i=this.c=0,this.l=new Xs,this.ic=0,this.ca=[],this.tb=0,this.qd=null,this.rd=0}function yt(h,y,S,I,O,B,U){for(h=h==null?0:h[y+0],y=0;y<U;++y)O[B+y]=h+S[I+y]&255,h=O[B+y]}function zt(h,y,S,I,O,B,U){var q;if(h==null)yt(null,null,S,I,O,B,U);else for(q=0;q<U;++q)O[B+q]=h[y+q]+S[I+q]&255}function Xt(h,y,S,I,O,B,U){if(h==null)yt(null,null,S,I,O,B,U);else{var q,W=h[y+0],J=W,se=W;for(q=0;q<U;++q)J=se+(W=h[y+q])-J,se=S[I+q]+(-256&J?0>J?0:255:J)&255,J=W,O[B+q]=se}}function In(h,y,S,I){var O=y.width,B=y.o;if(e(h!=null&&y!=null),0>S||0>=I||S+I>B)return null;if(!h.Cc){if(h.ga==null){var U;if(h.ga=new ct,(U=h.ga==null)||(U=y.width*y.o,e(h.Gb.length==0),h.Gb=s(U),h.Uc=0,h.Gb==null?U=0:(h.mb=h.Gb,h.nb=h.Uc,h.rc=null,U=1),U=!U),!U){U=h.ga;var q=h.Fa,W=h.P,J=h.qc,se=h.mb,ve=h.nb,Z=W+1,ue=J-1,de=U.l;if(e(q!=null&&se!=null&&y!=null),Aa[0]=null,Aa[1]=yt,Aa[2]=zt,Aa[3]=Xt,U.ca=se,U.tb=ve,U.c=y.width,U.i=y.height,e(0<U.c&&0<U.i),1>=J)y=0;else if(U.$a=3&q[W+0],U.Z=q[W+0]>>2&3,U.Lc=q[W+0]>>4&3,W=q[W+0]>>6&3,0>U.$a||1<U.$a||4<=U.Z||1<U.Lc||W)y=0;else if(de.put=lt,de.ac=Ur,de.bc=wn,de.ma=U,de.width=y.width,de.height=y.height,de.Da=y.Da,de.v=y.v,de.va=y.va,de.j=y.j,de.o=y.o,U.$a)e:{e(U.$a==1),y=Ks();t:for(;;){if(y==null){y=0;break e}if(e(U!=null),U.mc=y,y.c=U.c,y.i=U.i,y.l=U.l,y.l.ma=U,y.l.width=U.c,y.l.height=U.i,y.a=0,oe(y.m,q,Z,ue),!Mi(U.c,U.i,1,y,null)||(y.ab==1&&y.gc[0].hc==3&&zr(y.s)?(U.ic=1,q=y.c*y.i,y.Ta=null,y.Ua=0,y.V=s(q),y.Ba=0,y.V==null?(y.a=1,y=0):y=1):(U.ic=0,y=Ss(y,U.c)),!y))break t;y=1;break e}U.mc=null,y=0}else y=ue>=U.c*U.i;U=!y}if(U)return null;h.ga.Lc!=1?h.Ga=0:I=B-S}e(h.ga!=null),e(S+I<=B);e:{if(y=(q=h.ga).c,B=q.l.o,q.$a==0){if(Z=h.rc,ue=h.Vc,de=h.Fa,W=h.P+1+S*y,J=h.mb,se=h.nb+S*y,e(W<=h.P+h.qc),q.Z!=0)for(e(Aa[q.Z]!=null),U=0;U<I;++U)Aa[q.Z](Z,ue,de,W,J,se,y),Z=J,ue=se,se+=y,W+=y;else for(U=0;U<I;++U)r(J,se,de,W,y),Z=J,ue=se,se+=y,W+=y;h.rc=Z,h.Vc=ue}else{if(e(q.mc!=null),y=S+I,e((U=q.mc)!=null),e(y<=U.i),U.C>=y)y=1;else if(q.ic||pn(),q.ic){q=U.V,Z=U.Ba,ue=U.c;var Ae=U.i,ye=(de=1,W=U.$/ue,J=U.$%ue,se=U.m,ve=U.s,U.$),Ee=ue*Ae,Ce=ue*y,Me=ve.wc,Re=ye<Ce?Tn(ve,J,W):null;e(ye<=Ee),e(y<=Ae),e(zr(ve));t:for(;;){for(;!se.h&&ye<Ce;){if(J&Me||(Re=Tn(ve,J,W)),e(Re!=null),pe(se),256>(Ae=En(Re.G[0],Re.H[0],se)))q[Z+ye]=Ae,++ye,++J>=ue&&(J=0,++W<=y&&!(W%16)&&si(U,W));else{if(!(280>Ae)){de=0;break t}Ae=xr(Ae-256,se);var rt,We=En(Re.G[4],Re.H[4],se);if(pe(se),!(ye>=(We=br(ue,We=xr(We,se)))&&Ee-ye>=Ae)){de=0;break t}for(rt=0;rt<Ae;++rt)q[Z+ye+rt]=q[Z+ye+rt-We];for(ye+=Ae,J+=Ae;J>=ue;)J-=ue,++W<=y&&!(W%16)&&si(U,W);ye<Ce&&J&Me&&(Re=Tn(ve,J,W))}e(se.h==ie(se))}si(U,W>y?y:W);break t}!de||se.h&&ye<Ee?(de=0,U.a=se.h?5:3):U.$=ye,y=de}else y=qr(U,U.V,U.Ba,U.c,U.i,y,Qs);if(!y){I=0;break e}}S+I>=B&&(h.Cc=1),I=1}if(!I)return null;if(h.Cc&&((I=h.ga)!=null&&(I.mc=null),h.ga=null,0<h.Ga))return alert("todo:WebPDequantizeLevels"),null}return h.nb+S*O}function tn(h,y,S,I,O,B){for(;0<O--;){var U,q=h,W=y+(S?1:0),J=h,se=y+(S?0:3);for(U=0;U<I;++U){var ve=J[se+4*U];ve!=255&&(ve*=32897,q[W+4*U+0]=q[W+4*U+0]*ve>>23,q[W+4*U+1]=q[W+4*U+1]*ve>>23,q[W+4*U+2]=q[W+4*U+2]*ve>>23)}y+=B}}function Bn(h,y,S,I,O){for(;0<I--;){var B;for(B=0;B<S;++B){var U=h[y+2*B+0],q=15&(J=h[y+2*B+1]),W=4369*q,J=(240&J|J>>4)*W>>16;h[y+2*B+0]=(240&U|U>>4)*W>>16&240|(15&U|U<<4)*W>>16>>4&15,h[y+2*B+1]=240&J|q}y+=O}}function Ln(h,y,S,I,O,B,U,q){var W,J,se=255;for(J=0;J<O;++J){for(W=0;W<I;++W){var ve=h[y+W];B[U+4*W]=ve,se&=ve}y+=S,U+=q}return se!=255}function Un(h,y,S,I,O){var B;for(B=0;B<O;++B)S[I+B]=h[y+B]>>8}function pn(){ih=tn,D5=Bn,M5=Ln,F5=Un}function Cr(h,y,S){P[h]=function(I,O,B,U,q,W,J,se,ve,Z,ue,de,Ae,ye,Ee,Ce,Me){var Re,rt=Me-1>>1,We=q[W+0]|J[se+0]<<16,Ct=ve[Z+0]|ue[de+0]<<16;e(I!=null);var Je=3*We+Ct+131074>>2;for(y(I[O+0],255&Je,Je>>16,Ae,ye),B!=null&&(Je=3*Ct+We+131074>>2,y(B[U+0],255&Je,Je>>16,Ee,Ce)),Re=1;Re<=rt;++Re){var Bt=q[W+Re]|J[se+Re]<<16,mr=ve[Z+Re]|ue[de+Re]<<16,kt=We+Bt+Ct+mr+524296,Ze=kt+2*(Bt+Ct)>>3;Je=Ze+We>>1,We=(kt=kt+2*(We+mr)>>3)+Bt>>1,y(I[O+2*Re-1],255&Je,Je>>16,Ae,ye+(2*Re-1)*S),y(I[O+2*Re-0],255&We,We>>16,Ae,ye+(2*Re-0)*S),B!=null&&(Je=kt+Ct>>1,We=Ze+mr>>1,y(B[U+2*Re-1],255&Je,Je>>16,Ee,Ce+(2*Re-1)*S),y(B[U+2*Re+0],255&We,We>>16,Ee,Ce+(2*Re+0)*S)),We=Bt,Ct=mr}1&Me||(Je=3*We+Ct+131074>>2,y(I[O+Me-1],255&Je,Je>>16,Ae,ye+(Me-1)*S),B!=null&&(Je=3*Ct+We+131074>>2,y(B[U+Me-1],255&Je,Je>>16,Ee,Ce+(Me-1)*S)))}}function kl(){hs[dd]=YT,hs[pd]=K5,hs[q5]=XT,hs[md]=Q5,hs[gd]=Y5,hs[bm]=X5,hs[$5]=JT,hs[_m]=K5,hs[Sm]=Q5,hs[yd]=Y5,hs[Am]=X5}function Vi(h){return h&-16384?0>h?0:255:h>>ZT}function f(h,y){return Vi((19077*h>>8)+(26149*y>>8)-14234)}function N(h,y,S){return Vi((19077*h>>8)-(6419*y>>8)-(13320*S>>8)+8708)}function D(h,y){return Vi((19077*h>>8)+(33050*y>>8)-17685)}function $(h,y,S,I,O){I[O+0]=f(h,S),I[O+1]=N(h,y,S),I[O+2]=D(h,y)}function fe(h,y,S,I,O){I[O+0]=D(h,y),I[O+1]=N(h,y,S),I[O+2]=f(h,S)}function we(h,y,S,I,O){var B=N(h,y,S);y=B<<3&224|D(h,y)>>3,I[O+0]=248&f(h,S)|B>>5,I[O+1]=y}function Oe(h,y,S,I,O){var B=240&D(h,y)|15;I[O+0]=240&f(h,S)|N(h,y,S)>>4,I[O+1]=B}function Vt(h,y,S,I,O){I[O+0]=255,$(h,y,S,I,O+1)}function Rn(h,y,S,I,O){fe(h,y,S,I,O),I[O+3]=255}function Rt(h,y,S,I,O){$(h,y,S,I,O),I[O+3]=255}function It(h,y){return 0>h?0:h>y?y:h}function mn(h,y,S){P[h]=function(I,O,B,U,q,W,J,se,ve){for(var Z=se+(-2&ve)*S;se!=Z;)y(I[O+0],B[U+0],q[W+0],J,se),y(I[O+1],B[U+0],q[W+0],J,se+S),O+=2,++U,++W,se+=2*S;1&ve&&y(I[O+0],B[U+0],q[W+0],J,se)}}function Bi(h,y,S){return S==0?h==0?y==0?6:5:y==0?4:0:S}function $r(h,y,S,I,O){switch(h>>>30){case 3:Ll(y,S,I,O,0);break;case 2:us(y,S,I,O);break;case 1:Jt(y,S,I,O)}}function kr(h,y){var S,I,O=y.M,B=y.Nb,U=h.oc,q=h.pc+40,W=h.oc,J=h.pc+584,se=h.oc,ve=h.pc+600;for(S=0;16>S;++S)U[q+32*S-1]=129;for(S=0;8>S;++S)W[J+32*S-1]=129,se[ve+32*S-1]=129;for(0<O?U[q-1-32]=W[J-1-32]=se[ve-1-32]=129:(i(U,q-32-1,127,21),i(W,J-32-1,127,9),i(se,ve-32-1,127,9)),I=0;I<h.za;++I){var Z=y.ya[y.aa+I];if(0<I){for(S=-1;16>S;++S)r(U,q+32*S-4,U,q+32*S+12,4);for(S=-1;8>S;++S)r(W,J+32*S-4,W,J+32*S+4,4),r(se,ve+32*S-4,se,ve+32*S+4,4)}var ue=h.Gd,de=h.Hd+I,Ae=Z.ad,ye=Z.Hc;if(0<O&&(r(U,q-32,ue[de].y,0,16),r(W,J-32,ue[de].f,0,8),r(se,ve-32,ue[de].ea,0,8)),Z.Za){var Ee=U,Ce=q-32+16;for(0<O&&(I>=h.za-1?i(Ee,Ce,ue[de].y[15],4):r(Ee,Ce,ue[de+1].y,0,4)),S=0;4>S;S++)Ee[Ce+128+S]=Ee[Ce+256+S]=Ee[Ce+384+S]=Ee[Ce+0+S];for(S=0;16>S;++S,ye<<=2)Ee=U,Ce=q+Z5[S],ks[Z.Ob[S]](Ee,Ce),$r(ye,Ae,16*+S,Ee,Ce)}else if(Ee=Bi(I,O,Z.Ob[0]),Sa[Ee](U,q),ye!=0)for(S=0;16>S;++S,ye<<=2)$r(ye,Ae,16*+S,U,q+Z5[S]);for(S=Z.Gc,Ee=Bi(I,O,Z.Dd),Mo[Ee](W,J),Mo[Ee](se,ve),ye=Ae,Ee=W,Ce=J,255&(Z=0|S)&&(170&Z?ao(ye,256,Ee,Ce):hn(ye,256,Ee,Ce)),Z=se,ye=ve,255&(S>>=8)&&(170&S?ao(Ae,320,Z,ye):hn(Ae,320,Z,ye)),O<h.Ub-1&&(r(ue[de].y,0,U,q+480,16),r(ue[de].f,0,W,J+224,8),r(ue[de].ea,0,se,ve+224,8)),S=8*B*h.B,ue=h.sa,de=h.ta+16*I+16*B*h.R,Ae=h.qa,Z=h.ra+8*I+S,ye=h.Ha,Ee=h.Ia+8*I+S,S=0;16>S;++S)r(ue,de+S*h.R,U,q+32*S,16);for(S=0;8>S;++S)r(Ae,Z+S*h.B,W,J+32*S,8),r(ye,Ee+S*h.B,se,ve+32*S,8)}}function Cs(h,y,S,I,O,B,U,q,W){var J=[0],se=[0],ve=0,Z=W!=null?W.kd:0,ue=W??new Ne;if(h==null||12>S)return 7;ue.data=h,ue.w=y,ue.ha=S,y=[y],S=[S],ue.gb=[ue.gb];e:{var de=y,Ae=S,ye=ue.gb;if(e(h!=null),e(Ae!=null),e(ye!=null),ye[0]=0,12<=Ae[0]&&!n(h,de[0],"RIFF")){if(n(h,de[0]+8,"WEBP")){ye=3;break e}var Ee=me(h,de[0]+4);if(12>Ee||4294967286<Ee){ye=3;break e}if(Z&&Ee>Ae[0]-8){ye=7;break e}ye[0]=Ee,de[0]+=12,Ae[0]-=12}ye=0}if(ye!=0)return ye;for(Ee=0<ue.gb[0],S=S[0];;){e:{var Ce=h;Ae=y,ye=S;var Me=J,Re=se,rt=de=[0];if((Je=ve=[ve])[0]=0,8>ye[0])ye=7;else{if(!n(Ce,Ae[0],"VP8X")){if(me(Ce,Ae[0]+4)!=10){ye=3;break e}if(18>ye[0]){ye=7;break e}var We=me(Ce,Ae[0]+8),Ct=1+ke(Ce,Ae[0]+12);if(2147483648<=Ct*(Ce=1+ke(Ce,Ae[0]+15))){ye=3;break e}rt!=null&&(rt[0]=We),Me!=null&&(Me[0]=Ct),Re!=null&&(Re[0]=Ce),Ae[0]+=18,ye[0]-=18,Je[0]=1}ye=0}}if(ve=ve[0],de=de[0],ye!=0)return ye;if(Ae=!!(2&de),!Ee&&ve)return 3;if(B!=null&&(B[0]=!!(16&de)),U!=null&&(U[0]=Ae),q!=null&&(q[0]=0),U=J[0],de=se[0],ve&&Ae&&W==null){ye=0;break}if(4>S){ye=7;break}if(Ee&&ve||!Ee&&!ve&&!n(h,y[0],"ALPH")){S=[S],ue.na=[ue.na],ue.P=[ue.P],ue.Sa=[ue.Sa];e:{We=h,ye=y,Ee=S;var Je=ue.gb;Me=ue.na,Re=ue.P,rt=ue.Sa,Ct=22,e(We!=null),e(Ee!=null),Ce=ye[0];var Bt=Ee[0];for(e(Me!=null),e(rt!=null),Me[0]=null,Re[0]=null,rt[0]=0;;){if(ye[0]=Ce,Ee[0]=Bt,8>Bt){ye=7;break e}var mr=me(We,Ce+4);if(4294967286<mr){ye=3;break e}var kt=8+mr+1&-2;if(Ct+=kt,0<Je&&Ct>Je){ye=3;break e}if(!n(We,Ce,"VP8 ")||!n(We,Ce,"VP8L")){ye=0;break e}if(Bt[0]<kt){ye=7;break e}n(We,Ce,"ALPH")||(Me[0]=We,Re[0]=Ce+8,rt[0]=mr),Ce+=kt,Bt-=kt}}if(S=S[0],ue.na=ue.na[0],ue.P=ue.P[0],ue.Sa=ue.Sa[0],ye!=0)break}S=[S],ue.Ja=[ue.Ja],ue.xa=[ue.xa];e:if(Je=h,ye=y,Ee=S,Me=ue.gb[0],Re=ue.Ja,rt=ue.xa,We=ye[0],Ce=!n(Je,We,"VP8 "),Ct=!n(Je,We,"VP8L"),e(Je!=null),e(Ee!=null),e(Re!=null),e(rt!=null),8>Ee[0])ye=7;else{if(Ce||Ct){if(Je=me(Je,We+4),12<=Me&&Je>Me-12){ye=3;break e}if(Z&&Je>Ee[0]-8){ye=7;break e}Re[0]=Je,ye[0]+=8,Ee[0]-=8,rt[0]=Ct}else rt[0]=5<=Ee[0]&&Je[We+0]==47&&!(Je[We+4]>>5),Re[0]=Ee[0];ye=0}if(S=S[0],ue.Ja=ue.Ja[0],ue.xa=ue.xa[0],y=y[0],ye!=0)break;if(4294967286<ue.Ja)return 3;if(q==null||Ae||(q[0]=ue.xa?2:1),U=[U],de=[de],ue.xa){if(5>S){ye=7;break}q=U,Z=de,Ae=B,h==null||5>S?h=0:5<=S&&h[y+0]==47&&!(h[y+4]>>5)?(Ee=[0],Je=[0],Me=[0],oe(Re=new Q,h,y,S),ss(Re,Ee,Je,Me)?(q!=null&&(q[0]=Ee[0]),Z!=null&&(Z[0]=Je[0]),Ae!=null&&(Ae[0]=Me[0]),h=1):h=0):h=0}else{if(10>S){ye=7;break}q=de,h==null||10>S||!bl(h,y+3,S-3)?h=0:(Z=h[y+0]|h[y+1]<<8|h[y+2]<<16,Ae=16383&(h[y+7]<<8|h[y+6]),h=16383&(h[y+9]<<8|h[y+8]),1&Z||3<(Z>>1&7)||!(Z>>4&1)||Z>>5>=ue.Ja||!Ae||!h?h=0:(U&&(U[0]=Ae),q&&(q[0]=h),h=1))}if(!h||(U=U[0],de=de[0],ve&&(J[0]!=U||se[0]!=de)))return 3;W!=null&&(W[0]=ue,W.offset=y-W.w,e(4294967286>y-W.w),e(W.offset==W.ha-S));break}return ye==0||ye==7&&ve&&W==null?(B!=null&&(B[0]|=ue.na!=null&&0<ue.na.length),I!=null&&(I[0]=U),O!=null&&(O[0]=de),0):ye}function Yc(h,y,S){var I=y.width,O=y.height,B=0,U=0,q=I,W=O;if(y.Da=h!=null&&0<h.Da,y.Da&&(q=h.cd,W=h.bd,B=h.v,U=h.j,11>S||(B&=-2,U&=-2),0>B||0>U||0>=q||0>=W||B+q>I||U+W>O))return 0;if(y.v=B,y.j=U,y.va=B+q,y.o=U+W,y.U=q,y.T=W,y.da=h!=null&&0<h.da,y.da){if(!Ue(q,W,S=[h.ib],B=[h.hb]))return 0;y.ib=S[0],y.hb=B[0]}return y.ob=h!=null&&h.ob,y.Kb=h==null||!h.Sd,y.da&&(y.ob=y.ib<3*I/4&&y.hb<3*O/4,y.Kb=0),1}function Xc(h){if(h==null)return 2;if(11>h.S){var y=h.f.RGBA;y.fb+=(h.height-1)*y.A,y.A=-y.A}else y=h.f.kb,h=h.height,y.O+=(h-1)*y.fa,y.fa=-y.fa,y.N+=(h-1>>1)*y.Ab,y.Ab=-y.Ab,y.W+=(h-1>>1)*y.Db,y.Db=-y.Db,y.F!=null&&(y.J+=(h-1)*y.lb,y.lb=-y.lb);return 0}function ga(h,y,S,I){if(I==null||0>=h||0>=y)return 2;if(S!=null){if(S.Da){var O=S.cd,B=S.bd,U=-2&S.v,q=-2&S.j;if(0>U||0>q||0>=O||0>=B||U+O>h||q+B>y)return 2;h=O,y=B}if(S.da){if(!Ue(h,y,O=[S.ib],B=[S.hb]))return 2;h=O[0],y=B[0]}}I.width=h,I.height=y;e:{var W=I.width,J=I.height;if(h=I.S,0>=W||0>=J||!(h>=dd&&13>h))h=2;else{if(0>=I.Rd&&I.sd==null){U=B=O=y=0;var se=(q=W*ew[h])*J;if(11>h||(B=(J+1)/2*(y=(W+1)/2),h==12&&(U=(O=W)*J)),(J=s(se+2*B+U))==null){h=1;break e}I.sd=J,11>h?((W=I.f.RGBA).eb=J,W.fb=0,W.A=q,W.size=se):((W=I.f.kb).y=J,W.O=0,W.fa=q,W.Fd=se,W.f=J,W.N=0+se,W.Ab=y,W.Cd=B,W.ea=J,W.W=0+se+B,W.Db=y,W.Ed=B,h==12&&(W.F=J,W.J=0+se+2*B),W.Tc=U,W.lb=O)}if(y=1,O=I.S,B=I.width,U=I.height,O>=dd&&13>O)if(11>O)h=I.f.RGBA,y&=(q=Math.abs(h.A))*(U-1)+B<=h.size,y&=q>=B*ew[O],y&=h.eb!=null;else{h=I.f.kb,q=(B+1)/2,se=(U+1)/2,W=Math.abs(h.fa),J=Math.abs(h.Ab);var ve=Math.abs(h.Db),Z=Math.abs(h.lb),ue=Z*(U-1)+B;y&=W*(U-1)+B<=h.Fd,y&=J*(se-1)+q<=h.Cd,y=(y&=ve*(se-1)+q<=h.Ed)&W>=B&J>=q&ve>=q,y&=h.y!=null,y&=h.f!=null,y&=h.ea!=null,O==12&&(y&=Z>=B,y&=ue<=h.Tc,y&=h.F!=null)}else y=0;h=y?0:2}}return h!=0||S!=null&&S.fd&&(h=Xc(I)),h}var Pl=64,Ui=[0,1,3,7,15,31,63,127,255,511,1023,2047,4095,8191,16383,32767,65535,131071,262143,524287,1048575,2097151,4194303,8388607,16777215],zi=24,ya=32,jo=8,va=[0,0,1,1,2,2,2,2,3,3,3,3,3,3,3,3,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7];Be("Predictor0","PredictorAdd0"),P.Predictor0=function(){return 4278190080},P.Predictor1=function(h){return h},P.Predictor2=function(h,y,S){return y[S+0]},P.Predictor3=function(h,y,S){return y[S+1]},P.Predictor4=function(h,y,S){return y[S-1]},P.Predictor5=function(h,y,S){return tt(tt(h,y[S+1]),y[S+0])},P.Predictor6=function(h,y,S){return tt(h,y[S-1])},P.Predictor7=function(h,y,S){return tt(h,y[S+0])},P.Predictor8=function(h,y,S){return tt(y[S-1],y[S+0])},P.Predictor9=function(h,y,S){return tt(y[S+0],y[S+1])},P.Predictor10=function(h,y,S){return tt(tt(h,y[S-1]),tt(y[S+0],y[S+1]))},P.Predictor11=function(h,y,S){var I=y[S+0];return 0>=et(I>>24&255,h>>24&255,(y=y[S-1])>>24&255)+et(I>>16&255,h>>16&255,y>>16&255)+et(I>>8&255,h>>8&255,y>>8&255)+et(255&I,255&h,255&y)?I:h},P.Predictor12=function(h,y,S){var I=y[S+0];return(Ot((h>>24&255)+(I>>24&255)-((y=y[S-1])>>24&255))<<24|Ot((h>>16&255)+(I>>16&255)-(y>>16&255))<<16|Ot((h>>8&255)+(I>>8&255)-(y>>8&255))<<8|Ot((255&h)+(255&I)-(255&y)))>>>0},P.Predictor13=function(h,y,S){var I=y[S-1];return(wt((h=tt(h,y[S+0]))>>24&255,I>>24&255)<<24|wt(h>>16&255,I>>16&255)<<16|wt(h>>8&255,I>>8&255)<<8|wt(255&h,255&I))>>>0};var Jc=P.PredictorAdd0;P.PredictorAdd1=St,Be("Predictor2","PredictorAdd2"),Be("Predictor3","PredictorAdd3"),Be("Predictor4","PredictorAdd4"),Be("Predictor5","PredictorAdd5"),Be("Predictor6","PredictorAdd6"),Be("Predictor7","PredictorAdd7"),Be("Predictor8","PredictorAdd8"),Be("Predictor9","PredictorAdd9"),Be("Predictor10","PredictorAdd10"),Be("Predictor11","PredictorAdd11"),Be("Predictor12","PredictorAdd12"),Be("Predictor13","PredictorAdd13");var _u=P.PredictorAdd2;st("ColorIndexInverseTransform","MapARGB","32b",function(h){return h>>8&255},function(h){return h}),st("VP8LColorIndexInverseTransformAlpha","MapAlpha","8b",function(h){return h},function(h){return h>>8&255});var Jn,cd=P.ColorIndexInverseTransform,so=P.MapARGB,oo=P.VP8LColorIndexInverseTransformAlpha,Zc=P.MapAlpha,eh=P.VP8LPredictorsAdd=[];eh.length=16,(P.VP8LPredictors=[]).length=16,(P.VP8LPredictorsAdd_C=[]).length=16,(P.VP8LPredictors_C=[]).length=16;var th,nh,wa,xa,ba,Il,_a,Ll,us,ao,Jt,hn,Zn,pr,Do,rh,Su,hd,k5,P5,I5,L5,R5,j5,ih,D5,M5,F5,O5=s(511),V5=s(2041),B5=s(225),U5=s(767),z5=0,xm=V5,fd=B5,qi=U5,cs=O5,dd=0,pd=1,q5=2,md=3,gd=4,bm=5,$5=6,_m=7,Sm=8,yd=9,Am=10,MT=[2,3,7],FT=[3,3,11],H5=[280,256,256,256,40],OT=[0,1,1,1,0],VT=[17,18,0,1,2,3,4,5,16,6,7,8,9,10,11,12,13,14,15],BT=[24,7,23,25,40,6,39,41,22,26,38,42,56,5,55,57,21,27,54,58,37,43,72,4,71,73,20,28,53,59,70,74,36,44,88,69,75,52,60,3,87,89,19,29,86,90,35,45,68,76,85,91,51,61,104,2,103,105,18,30,102,106,34,46,84,92,67,77,101,107,50,62,120,1,119,121,83,93,17,31,100,108,66,78,118,122,33,47,117,123,49,63,99,109,82,94,0,116,124,65,79,16,32,98,110,48,115,125,81,95,64,114,126,97,111,80,113,127,96,112],UT=[2954,2956,2958,2962,2970,2986,3018,3082,3212,3468,3980,5004],zT=8,Nm=[4,5,6,7,8,9,10,10,11,12,13,14,15,16,17,17,18,19,20,20,21,21,22,22,23,23,24,25,25,26,27,28,29,30,31,32,33,34,35,36,37,37,38,39,40,41,42,43,44,45,46,46,47,48,49,50,51,52,53,54,55,56,57,58,59,60,61,62,63,64,65,66,67,68,69,70,71,72,73,74,75,76,76,77,78,79,80,81,82,83,84,85,86,87,88,89,91,93,95,96,98,100,101,102,104,106,108,110,112,114,116,118,122,124,126,128,130,132,134,136,138,140,143,145,148,151,154,157],Em=[4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27,28,29,30,31,32,33,34,35,36,37,38,39,40,41,42,43,44,45,46,47,48,49,50,51,52,53,54,55,56,57,58,60,62,64,66,68,70,72,74,76,78,80,82,84,86,88,90,92,94,96,98,100,102,104,106,108,110,112,114,116,119,122,125,128,131,134,137,140,143,146,149,152,155,158,161,164,167,170,173,177,181,185,189,193,197,201,205,209,213,217,221,225,229,234,239,245,249,254,259,264,269,274,279,284],sh=null,qT=[[173,148,140,0],[176,155,140,135,0],[180,157,141,134,130,0],[254,254,243,230,196,177,153,140,133,130,129,0]],$T=[0,1,4,8,5,2,3,6,9,12,13,10,7,11,14,15],W5=[-0,1,-1,2,-2,3,4,6,-3,5,-4,-5,-6,7,-7,8,-8,-9],HT=[[[[128,128,128,128,128,128,128,128,128,128,128],[128,128,128,128,128,128,128,128,128,128,128],[128,128,128,128,128,128,128,128,128,128,128]],[[253,136,254,255,228,219,128,128,128,128,128],[189,129,242,255,227,213,255,219,128,128,128],[106,126,227,252,214,209,255,255,128,128,128]],[[1,98,248,255,236,226,255,255,128,128,128],[181,133,238,254,221,234,255,154,128,128,128],[78,134,202,247,198,180,255,219,128,128,128]],[[1,185,249,255,243,255,128,128,128,128,128],[184,150,247,255,236,224,128,128,128,128,128],[77,110,216,255,236,230,128,128,128,128,128]],[[1,101,251,255,241,255,128,128,128,128,128],[170,139,241,252,236,209,255,255,128,128,128],[37,116,196,243,228,255,255,255,128,128,128]],[[1,204,254,255,245,255,128,128,128,128,128],[207,160,250,255,238,128,128,128,128,128,128],[102,103,231,255,211,171,128,128,128,128,128]],[[1,152,252,255,240,255,128,128,128,128,128],[177,135,243,255,234,225,128,128,128,128,128],[80,129,211,255,194,224,128,128,128,128,128]],[[1,1,255,128,128,128,128,128,128,128,128],[246,1,255,128,128,128,128,128,128,128,128],[255,128,128,128,128,128,128,128,128,128,128]]],[[[198,35,237,223,193,187,162,160,145,155,62],[131,45,198,221,172,176,220,157,252,221,1],[68,47,146,208,149,167,221,162,255,223,128]],[[1,149,241,255,221,224,255,255,128,128,128],[184,141,234,253,222,220,255,199,128,128,128],[81,99,181,242,176,190,249,202,255,255,128]],[[1,129,232,253,214,197,242,196,255,255,128],[99,121,210,250,201,198,255,202,128,128,128],[23,91,163,242,170,187,247,210,255,255,128]],[[1,200,246,255,234,255,128,128,128,128,128],[109,178,241,255,231,245,255,255,128,128,128],[44,130,201,253,205,192,255,255,128,128,128]],[[1,132,239,251,219,209,255,165,128,128,128],[94,136,225,251,218,190,255,255,128,128,128],[22,100,174,245,186,161,255,199,128,128,128]],[[1,182,249,255,232,235,128,128,128,128,128],[124,143,241,255,227,234,128,128,128,128,128],[35,77,181,251,193,211,255,205,128,128,128]],[[1,157,247,255,236,231,255,255,128,128,128],[121,141,235,255,225,227,255,255,128,128,128],[45,99,188,251,195,217,255,224,128,128,128]],[[1,1,251,255,213,255,128,128,128,128,128],[203,1,248,255,255,128,128,128,128,128,128],[137,1,177,255,224,255,128,128,128,128,128]]],[[[253,9,248,251,207,208,255,192,128,128,128],[175,13,224,243,193,185,249,198,255,255,128],[73,17,171,221,161,179,236,167,255,234,128]],[[1,95,247,253,212,183,255,255,128,128,128],[239,90,244,250,211,209,255,255,128,128,128],[155,77,195,248,188,195,255,255,128,128,128]],[[1,24,239,251,218,219,255,205,128,128,128],[201,51,219,255,196,186,128,128,128,128,128],[69,46,190,239,201,218,255,228,128,128,128]],[[1,191,251,255,255,128,128,128,128,128,128],[223,165,249,255,213,255,128,128,128,128,128],[141,124,248,255,255,128,128,128,128,128,128]],[[1,16,248,255,255,128,128,128,128,128,128],[190,36,230,255,236,255,128,128,128,128,128],[149,1,255,128,128,128,128,128,128,128,128]],[[1,226,255,128,128,128,128,128,128,128,128],[247,192,255,128,128,128,128,128,128,128,128],[240,128,255,128,128,128,128,128,128,128,128]],[[1,134,252,255,255,128,128,128,128,128,128],[213,62,250,255,255,128,128,128,128,128,128],[55,93,255,128,128,128,128,128,128,128,128]],[[128,128,128,128,128,128,128,128,128,128,128],[128,128,128,128,128,128,128,128,128,128,128],[128,128,128,128,128,128,128,128,128,128,128]]],[[[202,24,213,235,186,191,220,160,240,175,255],[126,38,182,232,169,184,228,174,255,187,128],[61,46,138,219,151,178,240,170,255,216,128]],[[1,112,230,250,199,191,247,159,255,255,128],[166,109,228,252,211,215,255,174,128,128,128],[39,77,162,232,172,180,245,178,255,255,128]],[[1,52,220,246,198,199,249,220,255,255,128],[124,74,191,243,183,193,250,221,255,255,128],[24,71,130,219,154,170,243,182,255,255,128]],[[1,182,225,249,219,240,255,224,128,128,128],[149,150,226,252,216,205,255,171,128,128,128],[28,108,170,242,183,194,254,223,255,255,128]],[[1,81,230,252,204,203,255,192,128,128,128],[123,102,209,247,188,196,255,233,128,128,128],[20,95,153,243,164,173,255,203,128,128,128]],[[1,222,248,255,216,213,128,128,128,128,128],[168,175,246,252,235,205,255,255,128,128,128],[47,116,215,255,211,212,255,255,128,128,128]],[[1,121,236,253,212,214,255,255,128,128,128],[141,84,213,252,201,202,255,219,128,128,128],[42,80,160,240,162,185,255,205,128,128,128]],[[1,1,255,128,128,128,128,128,128,128,128],[244,1,255,128,128,128,128,128,128,128,128],[238,1,255,128,128,128,128,128,128,128,128]]]],WT=[[[231,120,48,89,115,113,120,152,112],[152,179,64,126,170,118,46,70,95],[175,69,143,80,85,82,72,155,103],[56,58,10,171,218,189,17,13,152],[114,26,17,163,44,195,21,10,173],[121,24,80,195,26,62,44,64,85],[144,71,10,38,171,213,144,34,26],[170,46,55,19,136,160,33,206,71],[63,20,8,114,114,208,12,9,226],[81,40,11,96,182,84,29,16,36]],[[134,183,89,137,98,101,106,165,148],[72,187,100,130,157,111,32,75,80],[66,102,167,99,74,62,40,234,128],[41,53,9,178,241,141,26,8,107],[74,43,26,146,73,166,49,23,157],[65,38,105,160,51,52,31,115,128],[104,79,12,27,217,255,87,17,7],[87,68,71,44,114,51,15,186,23],[47,41,14,110,182,183,21,17,194],[66,45,25,102,197,189,23,18,22]],[[88,88,147,150,42,46,45,196,205],[43,97,183,117,85,38,35,179,61],[39,53,200,87,26,21,43,232,171],[56,34,51,104,114,102,29,93,77],[39,28,85,171,58,165,90,98,64],[34,22,116,206,23,34,43,166,73],[107,54,32,26,51,1,81,43,31],[68,25,106,22,64,171,36,225,114],[34,19,21,102,132,188,16,76,124],[62,18,78,95,85,57,50,48,51]],[[193,101,35,159,215,111,89,46,111],[60,148,31,172,219,228,21,18,111],[112,113,77,85,179,255,38,120,114],[40,42,1,196,245,209,10,25,109],[88,43,29,140,166,213,37,43,154],[61,63,30,155,67,45,68,1,209],[100,80,8,43,154,1,51,26,71],[142,78,78,16,255,128,34,197,171],[41,40,5,102,211,183,4,1,221],[51,50,17,168,209,192,23,25,82]],[[138,31,36,171,27,166,38,44,229],[67,87,58,169,82,115,26,59,179],[63,59,90,180,59,166,93,73,154],[40,40,21,116,143,209,34,39,175],[47,15,16,183,34,223,49,45,183],[46,17,33,183,6,98,15,32,183],[57,46,22,24,128,1,54,17,37],[65,32,73,115,28,128,23,128,205],[40,3,9,115,51,192,18,6,223],[87,37,9,115,59,77,64,21,47]],[[104,55,44,218,9,54,53,130,226],[64,90,70,205,40,41,23,26,57],[54,57,112,184,5,41,38,166,213],[30,34,26,133,152,116,10,32,134],[39,19,53,221,26,114,32,73,255],[31,9,65,234,2,15,1,118,73],[75,32,12,51,192,255,160,43,51],[88,31,35,67,102,85,55,186,85],[56,21,23,111,59,205,45,37,192],[55,38,70,124,73,102,1,34,98]],[[125,98,42,88,104,85,117,175,82],[95,84,53,89,128,100,113,101,45],[75,79,123,47,51,128,81,171,1],[57,17,5,71,102,57,53,41,49],[38,33,13,121,57,73,26,1,85],[41,10,67,138,77,110,90,47,114],[115,21,2,10,102,255,166,23,6],[101,29,16,10,85,128,101,196,26],[57,18,10,102,102,213,34,20,43],[117,20,15,36,163,128,68,1,26]],[[102,61,71,37,34,53,31,243,192],[69,60,71,38,73,119,28,222,37],[68,45,128,34,1,47,11,245,171],[62,17,19,70,146,85,55,62,70],[37,43,37,154,100,163,85,160,1],[63,9,92,136,28,64,32,201,85],[75,15,9,9,64,255,184,119,16],[86,6,28,5,64,255,25,248,1],[56,8,17,132,137,255,55,116,128],[58,15,20,82,135,57,26,121,40]],[[164,50,31,137,154,133,25,35,218],[51,103,44,131,131,123,31,6,158],[86,40,64,135,148,224,45,183,128],[22,26,17,131,240,154,14,1,209],[45,16,21,91,64,222,7,1,197],[56,21,39,155,60,138,23,102,213],[83,12,13,54,192,255,68,47,28],[85,26,85,85,128,128,32,146,171],[18,11,7,63,144,171,4,4,246],[35,27,10,146,174,171,12,26,128]],[[190,80,35,99,180,80,126,54,45],[85,126,47,87,176,51,41,20,32],[101,75,128,139,118,146,116,128,85],[56,41,15,176,236,85,37,9,62],[71,30,17,119,118,255,17,18,138],[101,38,60,138,55,70,43,26,142],[146,36,19,30,171,255,97,27,20],[138,45,61,62,219,1,81,188,64],[32,41,20,117,151,142,20,21,163],[112,19,12,61,195,128,48,4,24]]],GT=[[[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[176,246,255,255,255,255,255,255,255,255,255],[223,241,252,255,255,255,255,255,255,255,255],[249,253,253,255,255,255,255,255,255,255,255]],[[255,244,252,255,255,255,255,255,255,255,255],[234,254,254,255,255,255,255,255,255,255,255],[253,255,255,255,255,255,255,255,255,255,255]],[[255,246,254,255,255,255,255,255,255,255,255],[239,253,254,255,255,255,255,255,255,255,255],[254,255,254,255,255,255,255,255,255,255,255]],[[255,248,254,255,255,255,255,255,255,255,255],[251,255,254,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,253,254,255,255,255,255,255,255,255,255],[251,254,254,255,255,255,255,255,255,255,255],[254,255,254,255,255,255,255,255,255,255,255]],[[255,254,253,255,254,255,255,255,255,255,255],[250,255,254,255,254,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]]],[[[217,255,255,255,255,255,255,255,255,255,255],[225,252,241,253,255,255,254,255,255,255,255],[234,250,241,250,253,255,253,254,255,255,255]],[[255,254,255,255,255,255,255,255,255,255,255],[223,254,254,255,255,255,255,255,255,255,255],[238,253,254,254,255,255,255,255,255,255,255]],[[255,248,254,255,255,255,255,255,255,255,255],[249,254,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,253,255,255,255,255,255,255,255,255,255],[247,254,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,253,254,255,255,255,255,255,255,255,255],[252,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,254,254,255,255,255,255,255,255,255,255],[253,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,254,253,255,255,255,255,255,255,255,255],[250,255,255,255,255,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]]],[[[186,251,250,255,255,255,255,255,255,255,255],[234,251,244,254,255,255,255,255,255,255,255],[251,251,243,253,254,255,254,255,255,255,255]],[[255,253,254,255,255,255,255,255,255,255,255],[236,253,254,255,255,255,255,255,255,255,255],[251,253,253,254,254,255,255,255,255,255,255]],[[255,254,254,255,255,255,255,255,255,255,255],[254,254,254,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,254,255,255,255,255,255,255,255,255,255],[254,254,255,255,255,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]]],[[[248,255,255,255,255,255,255,255,255,255,255],[250,254,252,254,255,255,255,255,255,255,255],[248,254,249,253,255,255,255,255,255,255,255]],[[255,253,253,255,255,255,255,255,255,255,255],[246,253,253,255,255,255,255,255,255,255,255],[252,254,251,254,254,255,255,255,255,255,255]],[[255,254,252,255,255,255,255,255,255,255,255],[248,254,253,255,255,255,255,255,255,255,255],[253,255,254,254,255,255,255,255,255,255,255]],[[255,251,254,255,255,255,255,255,255,255,255],[245,251,254,255,255,255,255,255,255,255,255],[253,253,254,255,255,255,255,255,255,255,255]],[[255,251,253,255,255,255,255,255,255,255,255],[252,253,254,255,255,255,255,255,255,255,255],[255,254,255,255,255,255,255,255,255,255,255]],[[255,252,255,255,255,255,255,255,255,255,255],[249,255,254,255,255,255,255,255,255,255,255],[255,255,254,255,255,255,255,255,255,255,255]],[[255,255,253,255,255,255,255,255,255,255,255],[250,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]]]],KT=[0,1,2,3,6,4,5,6,6,6,6,6,6,6,6,7,0],Sa=[],ks=[],Mo=[],QT=1,G5=2,Aa=[],hs=[];Cr("UpsampleRgbLinePair",$,3),Cr("UpsampleBgrLinePair",fe,3),Cr("UpsampleRgbaLinePair",Rt,4),Cr("UpsampleBgraLinePair",Rn,4),Cr("UpsampleArgbLinePair",Vt,4),Cr("UpsampleRgba4444LinePair",Oe,2),Cr("UpsampleRgb565LinePair",we,2);var YT=P.UpsampleRgbLinePair,XT=P.UpsampleBgrLinePair,K5=P.UpsampleRgbaLinePair,Q5=P.UpsampleBgraLinePair,Y5=P.UpsampleArgbLinePair,X5=P.UpsampleRgba4444LinePair,JT=P.UpsampleRgb565LinePair,vd=16,wd=1<<vd-1,oh=-227,Tm=482,ZT=6,J5=0,eC=s(256),tC=s(256),nC=s(256),rC=s(256),iC=s(Tm-oh),sC=s(Tm-oh);mn("YuvToRgbRow",$,3),mn("YuvToBgrRow",fe,3),mn("YuvToRgbaRow",Rt,4),mn("YuvToBgraRow",Rn,4),mn("YuvToArgbRow",Vt,4),mn("YuvToRgba4444Row",Oe,2),mn("YuvToRgb565Row",we,2);var Z5=[0,4,8,12,128,132,136,140,256,260,264,268,384,388,392,396],xd=[0,2,8],oC=[8,7,6,4,4,2,2,2,1,1,1,1],aC=1;this.WebPDecodeRGBA=function(h,y,S,I,O){var B=pd,U=new he,q=new Yt;U.ba=q,q.S=B,q.width=[q.width],q.height=[q.height];var W=q.width,J=q.height,se=new ft;if(se==null||h==null)var ve=2;else e(se!=null),ve=Cs(h,y,S,se.width,se.height,se.Pd,se.Qd,se.format,null);if(ve!=0?W=0:(W!=null&&(W[0]=se.width[0]),J!=null&&(J[0]=se.height[0]),W=1),W){q.width=q.width[0],q.height=q.height[0],I!=null&&(I[0]=q.width),O!=null&&(O[0]=q.height);e:{if(I=new Xs,(O=new Ne).data=h,O.w=y,O.ha=S,O.kd=1,y=[0],e(O!=null),((h=Cs(O.data,O.w,O.ha,null,null,null,y,null,O))==0||h==7)&&y[0]&&(h=4),(y=h)==0){if(e(U!=null),I.data=O.data,I.w=O.w+O.offset,I.ha=O.ha-O.offset,I.put=lt,I.ac=Ur,I.bc=wn,I.ma=U,O.xa){if((h=Ks())==null){U=1;break e}if(function(Z,ue){var de=[0],Ae=[0],ye=[0];t:for(;;){if(Z==null)return 0;if(ue==null)return Z.a=2,0;if(Z.l=ue,Z.a=0,oe(Z.m,ue.data,ue.w,ue.ha),!ss(Z.m,de,Ae,ye)){Z.a=3;break t}if(Z.xb=G5,ue.width=de[0],ue.height=Ae[0],!Mi(de[0],Ae[0],1,Z,null))break t;return 1}return e(Z.a!=0),0}(h,I)){if(I=(y=ga(I.width,I.height,U.Oa,U.ba))==0){t:{I=h;n:for(;;){if(I==null){I=0;break t}if(e(I.s.yc!=null),e(I.s.Ya!=null),e(0<I.s.Wb),e((S=I.l)!=null),e((O=S.ma)!=null),I.xb!=0){if(I.ca=O.ba,I.tb=O.tb,e(I.ca!=null),!Yc(O.Oa,S,md)){I.a=2;break n}if(!Ss(I,S.width)||S.da)break n;if((S.da||xt(I.ca.S))&&pn(),11>I.ca.S||(alert("todo:WebPInitConvertARGBToYUV"),I.ca.f.kb.F!=null&&pn()),I.Pb&&0<I.s.ua&&I.s.vb.X==null&&!Y(I.s.vb,I.s.Wa.Xa)){I.a=1;break n}I.xb=0}if(!qr(I,I.V,I.Ba,I.c,I.i,S.o,Gs))break n;O.Dc=I.Ma,I=1;break t}e(I.a!=0),I=0}I=!I}I&&(y=h.a)}else y=h.a}else{if((h=new xl)==null){U=1;break e}if(h.Fa=O.na,h.P=O.P,h.qc=O.Sa,wu(h,I)){if((y=ga(I.width,I.height,U.Oa,U.ba))==0){if(h.Aa=0,S=U.Oa,e((O=h)!=null),S!=null){if(0<(W=0>(W=S.Md)?0:100<W?255:255*W/100)){for(J=se=0;4>J;++J)12>(ve=O.pb[J]).lc&&(ve.ia=W*oC[0>ve.lc?0:ve.lc]>>3),se|=ve.ia;se&&(alert("todo:VP8InitRandom"),O.ia=1)}O.Ga=S.Id,100<O.Ga?O.Ga=100:0>O.Ga&&(O.Ga=0)}(function(Z,ue){if(Z==null)return 0;if(ue==null)return Pn(Z,2,"NULL VP8Io parameter in VP8Decode().");if(!Z.cb&&!wu(Z,ue))return 0;if(e(Z.cb),ue.ac==null||ue.ac(ue)){ue.ob&&(Z.L=0);var de=xd[Z.L];if(Z.L==2?(Z.yb=0,Z.zb=0):(Z.yb=ue.v-de>>4,Z.zb=ue.j-de>>4,0>Z.yb&&(Z.yb=0),0>Z.zb&&(Z.zb=0)),Z.Va=ue.o+15+de>>4,Z.Hb=ue.va+15+de>>4,Z.Hb>Z.za&&(Z.Hb=Z.za),Z.Va>Z.Ub&&(Z.Va=Z.Ub),0<Z.L){var Ae=Z.ed;for(de=0;4>de;++de){var ye;if(Z.Qa.Cb){var Ee=Z.Qa.Lb[de];Z.Qa.Fb||(Ee+=Ae.Tb)}else Ee=Ae.Tb;for(ye=0;1>=ye;++ye){var Ce=Z.gd[de][ye],Me=Ee;if(Ae.Pc&&(Me+=Ae.vd[0],ye&&(Me+=Ae.od[0])),0<(Me=0>Me?0:63<Me?63:Me)){var Re=Me;0<Ae.wb&&(Re=4<Ae.wb?Re>>2:Re>>1)>9-Ae.wb&&(Re=9-Ae.wb),1>Re&&(Re=1),Ce.dd=Re,Ce.tc=2*Me+Re,Ce.ld=40<=Me?2:15<=Me?1:0}else Ce.tc=0;Ce.La=ye}}}de=0}else Pn(Z,6,"Frame setup failed"),de=Z.a;if(de=de==0){if(de){Z.$c=0,0<Z.Aa||(Z.Ic=aC);t:{de=Z.Ic,Ae=4*(Re=Z.za);var rt=32*Re,We=Re+1,Ct=0<Z.L?Re*(0<Z.Aa?2:1):0,Je=(Z.Aa==2?2:1)*Re;if((Ce=Ae+832+(ye=3*(16*de+xd[Z.L])/2*rt)+(Ee=Z.Fa!=null&&0<Z.Fa.length?Z.Kc.c*Z.Kc.i:0))!=Ce)de=0;else{if(Ce>Z.Vb){if(Z.Vb=0,Z.Ec=s(Ce),Z.Fc=0,Z.Ec==null){de=Pn(Z,1,"no memory during frame initialization.");break t}Z.Vb=Ce}Ce=Z.Ec,Me=Z.Fc,Z.Ac=Ce,Z.Bc=Me,Me+=Ae,Z.Gd=o(rt,vl),Z.Hd=0,Z.rb=o(We+1,Fi),Z.sb=1,Z.wa=Ct?o(Ct,_r):null,Z.Y=0,Z.D.Nb=0,Z.D.wa=Z.wa,Z.D.Y=Z.Y,0<Z.Aa&&(Z.D.Y+=Re),e(!0),Z.oc=Ce,Z.pc=Me,Me+=832,Z.ya=o(Je,gl),Z.aa=0,Z.D.ya=Z.ya,Z.D.aa=Z.aa,Z.Aa==2&&(Z.D.aa+=Re),Z.R=16*Re,Z.B=8*Re,Re=(rt=xd[Z.L])*Z.R,rt=rt/2*Z.B,Z.sa=Ce,Z.ta=Me+Re,Z.qa=Z.sa,Z.ra=Z.ta+16*de*Z.R+rt,Z.Ha=Z.qa,Z.Ia=Z.ra+8*de*Z.B+rt,Z.$c=0,Me+=ye,Z.mb=Ee?Ce:null,Z.nb=Ee?Me:null,e(Me+Ee<=Z.Fc+Z.Vb),Js(Z),i(Z.Ac,Z.Bc,0,Ae),de=1}}if(de){if(ue.ka=0,ue.y=Z.sa,ue.O=Z.ta,ue.f=Z.qa,ue.N=Z.ra,ue.ea=Z.Ha,ue.Vd=Z.Ia,ue.fa=Z.R,ue.Rc=Z.B,ue.F=null,ue.J=0,!z5){for(de=-255;255>=de;++de)O5[255+de]=0>de?-de:de;for(de=-1020;1020>=de;++de)V5[1020+de]=-128>de?-128:127<de?127:de;for(de=-112;112>=de;++de)B5[112+de]=-16>de?-16:15<de?15:de;for(de=-255;510>=de;++de)U5[255+de]=0>de?0:255<de?255:de;z5=1}_a=Zs,Ll=ca,ao=xu,Jt=Mt,hn=ko,us=ua,Zn=Tl,pr=ma,Do=w,rh=F,Su=ls,hd=Cl,k5=X,P5=re,I5=ro,L5=io,R5=Si,j5=El,ks[0]=Gc,ks[1]=_l,ks[2]=to,ks[3]=Wc,ks[4]=Kc,ks[5]=Ns,ks[6]=Sr,ks[7]=Qc,ks[8]=Es,ks[9]=fa,Sa[0]=_i,Sa[1]=$c,Sa[2]=Hc,Sa[3]=Sl,Sa[4]=os,Sa[5]=eo,Sa[6]=ha,Mo[0]=Io,Mo[1]=bu,Mo[2]=da,Mo[3]=Oi,Mo[4]=cn,Mo[5]=Al,Mo[6]=Nl,de=1}else de=0}de&&(de=function(Bt,mr){for(Bt.M=0;Bt.M<Bt.Va;++Bt.M){var kt,Ze=Bt.Jc[Bt.M&Bt.Xb],Ve=Bt.m,er=Bt;for(kt=0;kt<er.za;++kt){var Tt=Ve,qt=er,xn=qt.Ac,Pr=qt.Bc+4*kt,li=qt.zc,zn=qt.ya[qt.aa+kt];if(qt.Qa.Bb?zn.$b=Te(Tt,qt.Pa.jb[0])?2+Te(Tt,qt.Pa.jb[2]):Te(Tt,qt.Pa.jb[1]):zn.$b=0,qt.kc&&(zn.Ad=Te(Tt,qt.Bd)),zn.Za=!Te(Tt,145)+0,zn.Za){var Hr=zn.Ob,ui=0;for(qt=0;4>qt;++qt){var gr,Ht=li[0+qt];for(gr=0;4>gr;++gr){Ht=WT[xn[Pr+gr]][Ht];for(var nn=W5[Te(Tt,Ht[0])];0<nn;)nn=W5[2*nn+Te(Tt,Ht[nn])];Ht=-nn,xn[Pr+gr]=Ht}r(Hr,ui,xn,Pr,4),ui+=4,li[0+qt]=Ht}}else Ht=Te(Tt,156)?Te(Tt,128)?1:3:Te(Tt,163)?2:0,zn.Ob[0]=Ht,i(xn,Pr,Ht,4),i(li,0,Ht,4);zn.Dd=Te(Tt,142)?Te(Tt,114)?Te(Tt,183)?1:3:2:0}if(er.m.Ka)return Pn(Bt,7,"Premature end-of-partition0 encountered.");for(;Bt.ja<Bt.za;++Bt.ja){if(er=Ze,Tt=(Ve=Bt).rb[Ve.sb-1],xn=Ve.rb[Ve.sb+Ve.ja],kt=Ve.ya[Ve.aa+Ve.ja],Pr=Ve.kc?kt.Ad:0)Tt.la=xn.la=0,kt.Za||(Tt.Na=xn.Na=0),kt.Hc=0,kt.Gc=0,kt.ia=0;else{var qn,rn;if(Tt=xn,xn=er,Pr=Ve.Pa.Xc,li=Ve.ya[Ve.aa+Ve.ja],zn=Ve.pb[li.$b],qt=li.ad,Hr=0,ui=Ve.rb[Ve.sb-1],Ht=gr=0,i(qt,Hr,0,384),li.Za)var Ir=0,Ps=Pr[3];else{nn=s(16);var tr=Tt.Na+ui.Na;if(tr=sh(xn,Pr[1],tr,zn.Eb,0,nn,0),Tt.Na=ui.Na=(0<tr)+0,1<tr)_a(nn,0,qt,Hr);else{var Ai=nn[0]+3>>3;for(nn=0;256>nn;nn+=16)qt[Hr+nn]=Ai}Ir=1,Ps=Pr[0]}var fn=15&Tt.la,yr=15&ui.la;for(nn=0;4>nn;++nn){var $i=1&yr;for(Ai=rn=0;4>Ai;++Ai)fn=fn>>1|($i=(tr=sh(xn,Ps,tr=$i+(1&fn),zn.Sc,Ir,qt,Hr))>Ir)<<7,rn=rn<<2|(3<tr?3:1<tr?2:qt[Hr+0]!=0),Hr+=16;fn>>=4,yr=yr>>1|$i<<7,gr=(gr<<8|rn)>>>0}for(Ps=fn,Ir=yr>>4,qn=0;4>qn;qn+=2){for(rn=0,fn=Tt.la>>4+qn,yr=ui.la>>4+qn,nn=0;2>nn;++nn){for($i=1&yr,Ai=0;2>Ai;++Ai)tr=$i+(1&fn),fn=fn>>1|($i=0<(tr=sh(xn,Pr[2],tr,zn.Qc,0,qt,Hr)))<<3,rn=rn<<2|(3<tr?3:1<tr?2:qt[Hr+0]!=0),Hr+=16;fn>>=2,yr=yr>>1|$i<<5}Ht|=rn<<4*qn,Ps|=fn<<4<<qn,Ir|=(240&yr)<<qn}Tt.la=Ps,ui.la=Ir,li.Hc=gr,li.Gc=Ht,li.ia=43690&Ht?0:zn.ia,Pr=!(gr|Ht)}if(0<Ve.L&&(Ve.wa[Ve.Y+Ve.ja]=Ve.gd[kt.$b][kt.Za],Ve.wa[Ve.Y+Ve.ja].La|=!Pr),er.Ka)return Pn(Bt,7,"Premature end-of-file encountered.")}if(Js(Bt),Ve=mr,er=1,kt=(Ze=Bt).D,Tt=0<Ze.L&&Ze.M>=Ze.zb&&Ze.M<=Ze.Va,Ze.Aa==0)t:{if(kt.M=Ze.M,kt.uc=Tt,kr(Ze,kt),er=1,kt=(rn=Ze.D).Nb,Tt=(Ht=xd[Ze.L])*Ze.R,xn=Ht/2*Ze.B,nn=16*kt*Ze.R,Ai=8*kt*Ze.B,Pr=Ze.sa,li=Ze.ta-Tt+nn,zn=Ze.qa,qt=Ze.ra-xn+Ai,Hr=Ze.Ha,ui=Ze.Ia-xn+Ai,yr=(fn=rn.M)==0,gr=fn>=Ze.Va-1,Ze.Aa==2&&kr(Ze,rn),rn.uc)for($i=(tr=Ze).D.M,e(tr.D.uc),rn=tr.yb;rn<tr.Hb;++rn){Ir=rn,Ps=$i;var ci=(Hi=(Lr=tr).D).Nb;qn=Lr.R;var Hi=Hi.wa[Hi.Y+Ir],Wi=Lr.sa,Ni=Lr.ta+16*ci*qn+16*Ir,Gi=Hi.dd,gn=Hi.tc;if(gn!=0)if(e(3<=gn),Lr.L==1)0<Ir&&L5(Wi,Ni,qn,gn+4),Hi.La&&j5(Wi,Ni,qn,gn),0<Ps&&I5(Wi,Ni,qn,gn+4),Hi.La&&R5(Wi,Ni,qn,gn);else{var Ki=Lr.B,Is=Lr.qa,Rl=Lr.ra+8*ci*Ki+8*Ir,Fo=Lr.Ha,Lr=Lr.Ia+8*ci*Ki+8*Ir;ci=Hi.ld,0<Ir&&(pr(Wi,Ni,qn,gn+4,Gi,ci),rh(Is,Rl,Fo,Lr,Ki,gn+4,Gi,ci)),Hi.La&&(hd(Wi,Ni,qn,gn,Gi,ci),P5(Is,Rl,Fo,Lr,Ki,gn,Gi,ci)),0<Ps&&(Zn(Wi,Ni,qn,gn+4,Gi,ci),Do(Is,Rl,Fo,Lr,Ki,gn+4,Gi,ci)),Hi.La&&(Su(Wi,Ni,qn,gn,Gi,ci),k5(Is,Rl,Fo,Lr,Ki,gn,Gi,ci))}}if(Ze.ia&&alert("todo:DitherRow"),Ve.put!=null){if(rn=16*fn,fn=16*(fn+1),yr?(Ve.y=Ze.sa,Ve.O=Ze.ta+nn,Ve.f=Ze.qa,Ve.N=Ze.ra+Ai,Ve.ea=Ze.Ha,Ve.W=Ze.Ia+Ai):(rn-=Ht,Ve.y=Pr,Ve.O=li,Ve.f=zn,Ve.N=qt,Ve.ea=Hr,Ve.W=ui),gr||(fn-=Ht),fn>Ve.o&&(fn=Ve.o),Ve.F=null,Ve.J=null,Ze.Fa!=null&&0<Ze.Fa.length&&rn<fn&&(Ve.J=In(Ze,Ve,rn,fn-rn),Ve.F=Ze.mb,Ve.F==null&&Ve.F.length==0)){er=Pn(Ze,3,"Could not decode alpha data.");break t}rn<Ve.j&&(Ht=Ve.j-rn,rn=Ve.j,e(!(1&Ht)),Ve.O+=Ze.R*Ht,Ve.N+=Ze.B*(Ht>>1),Ve.W+=Ze.B*(Ht>>1),Ve.F!=null&&(Ve.J+=Ve.width*Ht)),rn<fn&&(Ve.O+=Ve.v,Ve.N+=Ve.v>>1,Ve.W+=Ve.v>>1,Ve.F!=null&&(Ve.J+=Ve.v),Ve.ka=rn-Ve.j,Ve.U=Ve.va-Ve.v,Ve.T=fn-rn,er=Ve.put(Ve))}kt+1!=Ze.Ic||gr||(r(Ze.sa,Ze.ta-Tt,Pr,li+16*Ze.R,Tt),r(Ze.qa,Ze.ra-xn,zn,qt+8*Ze.B,xn),r(Ze.Ha,Ze.Ia-xn,Hr,ui+8*Ze.B,xn))}if(!er)return Pn(Bt,6,"Output aborted.")}return 1}(Z,ue)),ue.bc!=null&&ue.bc(ue),de&=1}return de?(Z.cb=0,de):0})(h,I)||(y=h.a)}}else y=h.a}y==0&&U.Oa!=null&&U.Oa.fd&&(y=Xc(U.ba))}U=y}B=U!=0?null:11>B?q.f.RGBA.eb:q.f.kb.y}else B=null;return B};var ew=[3,4,3,4,4,2,2,4,4,4,2,1,1]};function u(P,M){for(var E="",L=0;L<4;L++)E+=String.fromCharCode(P[M++]);return E}function c(P,M){return P[M+0]|P[M+1]<<8}function d(P,M){return(P[M+0]|P[M+1]<<8|P[M+2]<<16)>>>0}function g(P,M){return(P[M+0]|P[M+1]<<8|P[M+2]<<16|P[M+3]<<24)>>>0}new l;var p=[0],b=[0],x=[],A=new l,v=t,_=function(P,M){var E={},L=0,j=!1,H=0,ne=0;if(E.frames=[],!function(V,Q){for(var te=0;te<4;te++)if(V[Q+te]!="RIFF".charCodeAt(te))return!0;return!1}(P,M)){for(g(P,M+=4),M+=8;M<P.length;){var ce=u(P,M),ae=g(P,M+=4);M+=4;var ee=ae+(1&ae);switch(ce){case"VP8 ":case"VP8L":E.frames[L]===void 0&&(E.frames[L]={}),(xe=E.frames[L]).src_off=j?ne:M-8,xe.src_size=H+ae+8,L++,j&&(j=!1,H=0,ne=0);break;case"VP8X":(xe=E.header={}).feature_flags=P[M];var oe=M+4;xe.canvas_width=1+d(P,oe),oe+=3,xe.canvas_height=1+d(P,oe),oe+=3;break;case"ALPH":j=!0,H=ee+8,ne=M-8;break;case"ANIM":(xe=E.header).bgcolor=g(P,M),oe=M+4,xe.loop_count=c(P,oe),oe+=2;break;case"ANMF":var ge,xe;(xe=E.frames[L]={}).offset_x=2*d(P,M),M+=3,xe.offset_y=2*d(P,M),M+=3,xe.width=1+d(P,M),M+=3,xe.height=1+d(P,M),M+=3,xe.duration=d(P,M),M+=3,ge=P[M++],xe.dispose=1&ge,xe.blend=ge>>1&1}ce!="ANMF"&&(M+=ee)}return E}}(v,0);_.response=v,_.rgbaoutput=!0,_.dataurl=!1;var T=_.header?_.header:null,R=_.frames?_.frames:null;if(T){T.loop_counter=T.loop_count,p=[T.canvas_height],b=[T.canvas_width];for(var z=0;z<R.length&&R[z].blend!=0;z++);}var K=R[0],k=A.WebPDecodeRGBA(v,K.src_off,K.src_size,b,p);K.rgba=k,K.imgwidth=b[0],K.imgheight=p[0];for(var C=0;C<b[0]*p[0]*4;C++)x[C]=k[C];return this.width=b,this.height=p,this.data=x,this}(function(t){var e,n,r,i,s,o,a,l,u,c=function(V){return V=V||{},this.isStrokeTransparent=V.isStrokeTransparent||!1,this.strokeOpacity=V.strokeOpacity||1,this.strokeStyle=V.strokeStyle||"#000000",this.fillStyle=V.fillStyle||"#000000",this.isFillTransparent=V.isFillTransparent||!1,this.fillOpacity=V.fillOpacity||1,this.font=V.font||"10px sans-serif",this.textBaseline=V.textBaseline||"alphabetic",this.textAlign=V.textAlign||"left",this.lineWidth=V.lineWidth||1,this.lineJoin=V.lineJoin||"miter",this.lineCap=V.lineCap||"butt",this.path=V.path||[],this.transform=V.transform!==void 0?V.transform.clone():new l,this.globalCompositeOperation=V.globalCompositeOperation||"normal",this.globalAlpha=V.globalAlpha||1,this.clip_path=V.clip_path||[],this.currentPoint=V.currentPoint||new o,this.miterLimit=V.miterLimit||10,this.lastPoint=V.lastPoint||new o,this.lineDashOffset=V.lineDashOffset||0,this.lineDash=V.lineDash||[],this.margin=V.margin||[0,0,0,0],this.prevPageLastElemOffset=V.prevPageLastElemOffset||0,this.ignoreClearRect=typeof V.ignoreClearRect!="boolean"||V.ignoreClearRect,this};t.events.push(["initialized",function(){this.context2d=new d(this),e=this.internal.f2,n=this.internal.getCoordinateString,r=this.internal.getVerticalCoordinateString,i=this.internal.getHorizontalCoordinate,s=this.internal.getVerticalCoordinate,o=this.internal.Point,a=this.internal.Rectangle,l=this.internal.Matrix,u=new c}]);var d=function(V){Object.defineProperty(this,"canvas",{get:function(){return{parentNode:!1,style:!1}}});var Q=V;Object.defineProperty(this,"pdf",{get:function(){return Q}});var te=!1;Object.defineProperty(this,"pageWrapXEnabled",{get:function(){return te},set:function(me){te=!!me}});var ie=!1;Object.defineProperty(this,"pageWrapYEnabled",{get:function(){return ie},set:function(me){ie=!!me}});var le=0;Object.defineProperty(this,"posX",{get:function(){return le},set:function(me){isNaN(me)||(le=me)}});var pe=0;Object.defineProperty(this,"posY",{get:function(){return pe},set:function(me){isNaN(me)||(pe=me)}}),Object.defineProperty(this,"margin",{get:function(){return u.margin},set:function(me){var Y;typeof me=="number"?Y=[me,me,me,me]:((Y=new Array(4))[0]=me[0],Y[1]=me.length>=2?me[1]:Y[0],Y[2]=me.length>=3?me[2]:Y[0],Y[3]=me.length>=4?me[3]:Y[1]),u.margin=Y}});var be=!1;Object.defineProperty(this,"autoPaging",{get:function(){return be},set:function(me){be=me}});var _e=0;Object.defineProperty(this,"lastBreak",{get:function(){return _e},set:function(me){_e=me}});var Te=[];Object.defineProperty(this,"pageBreaks",{get:function(){return Te},set:function(me){Te=me}}),Object.defineProperty(this,"ctx",{get:function(){return u},set:function(me){me instanceof c&&(u=me)}}),Object.defineProperty(this,"path",{get:function(){return u.path},set:function(me){u.path=me}});var je=[];Object.defineProperty(this,"ctxStack",{get:function(){return je},set:function(me){je=me}}),Object.defineProperty(this,"fillStyle",{get:function(){return this.ctx.fillStyle},set:function(me){var Y;Y=g(me),this.ctx.fillStyle=Y.style,this.ctx.isFillTransparent=Y.a===0,this.ctx.fillOpacity=Y.a,this.pdf.setFillColor(Y.r,Y.g,Y.b,{a:Y.a}),this.pdf.setTextColor(Y.r,Y.g,Y.b,{a:Y.a})}}),Object.defineProperty(this,"strokeStyle",{get:function(){return this.ctx.strokeStyle},set:function(me){var Y=g(me);this.ctx.strokeStyle=Y.style,this.ctx.isStrokeTransparent=Y.a===0,this.ctx.strokeOpacity=Y.a,Y.a===0?this.pdf.setDrawColor(255,255,255):(Y.a,this.pdf.setDrawColor(Y.r,Y.g,Y.b))}}),Object.defineProperty(this,"lineCap",{get:function(){return this.ctx.lineCap},set:function(me){["butt","round","square"].indexOf(me)!==-1&&(this.ctx.lineCap=me,this.pdf.setLineCap(me))}}),Object.defineProperty(this,"lineWidth",{get:function(){return this.ctx.lineWidth},set:function(me){isNaN(me)||(this.ctx.lineWidth=me,this.pdf.setLineWidth(me))}}),Object.defineProperty(this,"lineJoin",{get:function(){return this.ctx.lineJoin},set:function(me){["bevel","round","miter"].indexOf(me)!==-1&&(this.ctx.lineJoin=me,this.pdf.setLineJoin(me))}}),Object.defineProperty(this,"miterLimit",{get:function(){return this.ctx.miterLimit},set:function(me){isNaN(me)||(this.ctx.miterLimit=me,this.pdf.setMiterLimit(me))}}),Object.defineProperty(this,"textBaseline",{get:function(){return this.ctx.textBaseline},set:function(me){this.ctx.textBaseline=me}}),Object.defineProperty(this,"textAlign",{get:function(){return this.ctx.textAlign},set:function(me){["right","end","center","left","start"].indexOf(me)!==-1&&(this.ctx.textAlign=me)}});var Se=null,ke=null;Object.defineProperty(this,"fontFaces",{get:function(){return ke},set:function(me){Se=null,ke=me}}),Object.defineProperty(this,"font",{get:function(){return this.ctx.font},set:function(me){var Y;if(this.ctx.font=me,(Y=/^\s*(?=(?:(?:[-a-z]+\s*){0,2}(italic|oblique))?)(?=(?:(?:[-a-z]+\s*){0,2}(small-caps))?)(?=(?:(?:[-a-z]+\s*){0,2}(bold(?:er)?|lighter|[1-9]00))?)(?:(?:normal|\1|\2|\3)\s*){0,3}((?:xx?-)?(?:small|large)|medium|smaller|larger|[.\d]+(?:\%|in|[cem]m|ex|p[ctx]))(?:\s*\/\s*(normal|[.\d]+(?:\%|in|[cem]m|ex|p[ctx])))?\s*([-_,\"\'\sa-z]+?)\s*$/i.exec(me))!==null){var Ke=Y[1];Y[2];var ot=Y[3],Ue=Y[4];Y[5];var Ie=Y[6],ze=/^([.\d]+)((?:%|in|[cem]m|ex|p[ctx]))$/i.exec(Ue)[2];Ue=Math.floor(ze==="px"?parseFloat(Ue)*this.pdf.internal.scaleFactor:ze==="em"?parseFloat(Ue)*this.pdf.getFontSize():parseFloat(Ue)*this.pdf.internal.scaleFactor),this.pdf.setFontSize(Ue);var Be=function(ht){var st,Kt,Ut=[],Xe=ht.trim();if(Xe==="")return J1;if(Xe in Z3)return[Z3[Xe]];for(;Xe!=="";){switch(Kt=null,st=(Xe=t_(Xe)).charAt(0)){case'"':case"'":Kt=Hq(Xe.substring(1),st);break;default:Kt=Wq(Xe)}if(Kt===null||(Ut.push(Kt[0]),(Xe=t_(Kt[1]))!==""&&Xe.charAt(0)!==","))return J1;Xe=Xe.replace(/^,/,"")}return Ut}(Ie);if(this.fontFaces){var _t=function(ht,st){if(Se===null){var Kt=function(Ut){var Xe=[];return Object.keys(Ut).forEach(function(gt){Ut[gt].forEach(function(Zt){var ut=null;switch(Zt){case"bold":ut={family:gt,weight:"bold"};break;case"italic":ut={family:gt,style:"italic"};break;case"bolditalic":ut={family:gt,weight:"bold",style:"italic"};break;case"":case"normal":ut={family:gt}}ut!==null&&(ut.ref={name:gt,style:Zt},Xe.push(ut))})}),Xe}(ht.getFontList());Se=function(Ut){for(var Xe={},gt=0;gt<Ut.length;++gt){var Zt=X1(Ut[gt]),ut=Zt.family,Pt=Zt.stretch,xt=Zt.style,Nn=Zt.weight;Xe[ut]=Xe[ut]||{},Xe[ut][Pt]=Xe[ut][Pt]||{},Xe[ut][Pt][xt]=Xe[ut][Pt][xt]||{},Xe[ut][Pt][xt][Nn]=Zt}return Xe}(Kt.concat(st))}return Se}(this.pdf,this.fontFaces),tt=Be.map(function(ht){return{family:ht,stretch:"normal",weight:ot,style:Ke}}),Ot=function(ht,st,Kt){for(var Ut=(Kt=Kt||{}).defaultFontFamily||"times",Xe=Object.assign({},$q,Kt.genericFontFamilies||{}),gt=null,Zt=null,ut=0;ut<st.length;++ut)if(Xe[(gt=X1(st[ut])).family]&&(gt.family=Xe[gt.family]),ht.hasOwnProperty(gt.family)){Zt=ht[gt.family];break}if(!(Zt=Zt||ht[Ut]))throw new Error("Could not find a font-family for the rule '"+e_(gt)+"' and default family '"+Ut+"'.");if(Zt=function(Pt,xt){if(xt[Pt])return xt[Pt];var Nn=ny[Pt],vn=Nn<=ny.normal?-1:1,Yt=J3(xt,gT,Nn,vn);if(!Yt)throw new Error("Could not find a matching font-stretch value for "+Pt);return Yt}(gt.stretch,Zt),Zt=function(Pt,xt){if(xt[Pt])return xt[Pt];for(var Nn=mT[Pt],vn=0;vn<Nn.length;++vn)if(xt[Nn[vn]])return xt[Nn[vn]];throw new Error("Could not find a matching font-style for "+Pt)}(gt.style,Zt),!(Zt=function(Pt,xt){if(xt[Pt])return xt[Pt];if(Pt===400&&xt[500])return xt[500];if(Pt===500&&xt[400])return xt[400];var Nn=qq[Pt],vn=J3(xt,yT,Nn,Pt<400?-1:1);if(!vn)throw new Error("Could not find a matching font-weight for value "+Pt);return vn}(gt.weight,Zt)))throw new Error("Failed to resolve a font for the rule '"+e_(gt)+"'.");return Zt}(_t,tt);this.pdf.setFont(Ot.ref.name,Ot.ref.style)}else{var wt="";(ot==="bold"||parseInt(ot,10)>=700||Ke==="bold")&&(wt="bold"),Ke==="italic"&&(wt+="italic"),wt.length===0&&(wt="normal");for(var et="",St={arial:"Helvetica",Arial:"Helvetica",verdana:"Helvetica",Verdana:"Helvetica",helvetica:"Helvetica",Helvetica:"Helvetica","sans-serif":"Helvetica",fixed:"Courier",monospace:"Courier",terminal:"Courier",cursive:"Times",fantasy:"Times",serif:"Times"},mt=0;mt<Be.length;mt++){if(this.pdf.internal.getFont(Be[mt],wt,{noFallback:!0,disableWarning:!0})!==void 0){et=Be[mt];break}if(wt==="bolditalic"&&this.pdf.internal.getFont(Be[mt],"bold",{noFallback:!0,disableWarning:!0})!==void 0)et=Be[mt],wt="bold";else if(this.pdf.internal.getFont(Be[mt],"normal",{noFallback:!0,disableWarning:!0})!==void 0){et=Be[mt],wt="normal";break}}if(et===""){for(var nt=0;nt<Be.length;nt++)if(St[Be[nt]]){et=St[Be[nt]];break}}et=et===""?"Times":et,this.pdf.setFont(et,wt)}}}}),Object.defineProperty(this,"globalCompositeOperation",{get:function(){return this.ctx.globalCompositeOperation},set:function(me){this.ctx.globalCompositeOperation=me}}),Object.defineProperty(this,"globalAlpha",{get:function(){return this.ctx.globalAlpha},set:function(me){this.ctx.globalAlpha=me}}),Object.defineProperty(this,"lineDashOffset",{get:function(){return this.ctx.lineDashOffset},set:function(me){this.ctx.lineDashOffset=me,xe.call(this)}}),Object.defineProperty(this,"lineDash",{get:function(){return this.ctx.lineDash},set:function(me){this.ctx.lineDash=me,xe.call(this)}}),Object.defineProperty(this,"ignoreClearRect",{get:function(){return this.ctx.ignoreClearRect},set:function(me){this.ctx.ignoreClearRect=!!me}})};d.prototype.setLineDash=function(V){this.lineDash=V},d.prototype.getLineDash=function(){return this.lineDash.length%2?this.lineDash.concat(this.lineDash):this.lineDash.slice()},d.prototype.fill=function(){R.call(this,"fill",!1)},d.prototype.stroke=function(){R.call(this,"stroke",!1)},d.prototype.beginPath=function(){this.path=[{type:"begin"}]},d.prototype.moveTo=function(V,Q){if(isNaN(V)||isNaN(Q))throw dn.error("jsPDF.context2d.moveTo: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.moveTo");var te=this.ctx.transform.applyToPoint(new o(V,Q));this.path.push({type:"mt",x:te.x,y:te.y}),this.ctx.lastPoint=new o(V,Q)},d.prototype.closePath=function(){var V=new o(0,0),Q=0;for(Q=this.path.length-1;Q!==-1;Q--)if(this.path[Q].type==="begin"&&an(this.path[Q+1])==="object"&&typeof this.path[Q+1].x=="number"){V=new o(this.path[Q+1].x,this.path[Q+1].y);break}this.path.push({type:"close"}),this.ctx.lastPoint=new o(V.x,V.y)},d.prototype.lineTo=function(V,Q){if(isNaN(V)||isNaN(Q))throw dn.error("jsPDF.context2d.lineTo: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.lineTo");var te=this.ctx.transform.applyToPoint(new o(V,Q));this.path.push({type:"lt",x:te.x,y:te.y}),this.ctx.lastPoint=new o(te.x,te.y)},d.prototype.clip=function(){this.ctx.clip_path=JSON.parse(JSON.stringify(this.path)),R.call(this,null,!0)},d.prototype.quadraticCurveTo=function(V,Q,te,ie){if(isNaN(te)||isNaN(ie)||isNaN(V)||isNaN(Q))throw dn.error("jsPDF.context2d.quadraticCurveTo: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.quadraticCurveTo");var le=this.ctx.transform.applyToPoint(new o(te,ie)),pe=this.ctx.transform.applyToPoint(new o(V,Q));this.path.push({type:"qct",x1:pe.x,y1:pe.y,x:le.x,y:le.y}),this.ctx.lastPoint=new o(le.x,le.y)},d.prototype.bezierCurveTo=function(V,Q,te,ie,le,pe){if(isNaN(le)||isNaN(pe)||isNaN(V)||isNaN(Q)||isNaN(te)||isNaN(ie))throw dn.error("jsPDF.context2d.bezierCurveTo: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.bezierCurveTo");var be=this.ctx.transform.applyToPoint(new o(le,pe)),_e=this.ctx.transform.applyToPoint(new o(V,Q)),Te=this.ctx.transform.applyToPoint(new o(te,ie));this.path.push({type:"bct",x1:_e.x,y1:_e.y,x2:Te.x,y2:Te.y,x:be.x,y:be.y}),this.ctx.lastPoint=new o(be.x,be.y)},d.prototype.arc=function(V,Q,te,ie,le,pe){if(isNaN(V)||isNaN(Q)||isNaN(te)||isNaN(ie)||isNaN(le))throw dn.error("jsPDF.context2d.arc: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.arc");if(pe=!!pe,!this.ctx.transform.isIdentity){var be=this.ctx.transform.applyToPoint(new o(V,Q));V=be.x,Q=be.y;var _e=this.ctx.transform.applyToPoint(new o(0,te)),Te=this.ctx.transform.applyToPoint(new o(0,0));te=Math.sqrt(Math.pow(_e.x-Te.x,2)+Math.pow(_e.y-Te.y,2))}Math.abs(le-ie)>=2*Math.PI&&(ie=0,le=2*Math.PI),this.path.push({type:"arc",x:V,y:Q,radius:te,startAngle:ie,endAngle:le,counterclockwise:pe})},d.prototype.arcTo=function(V,Q,te,ie,le){throw new Error("arcTo not implemented.")},d.prototype.rect=function(V,Q,te,ie){if(isNaN(V)||isNaN(Q)||isNaN(te)||isNaN(ie))throw dn.error("jsPDF.context2d.rect: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.rect");this.moveTo(V,Q),this.lineTo(V+te,Q),this.lineTo(V+te,Q+ie),this.lineTo(V,Q+ie),this.lineTo(V,Q),this.lineTo(V+te,Q),this.lineTo(V,Q)},d.prototype.fillRect=function(V,Q,te,ie){if(isNaN(V)||isNaN(Q)||isNaN(te)||isNaN(ie))throw dn.error("jsPDF.context2d.fillRect: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.fillRect");if(!p.call(this)){var le={};this.lineCap!=="butt"&&(le.lineCap=this.lineCap,this.lineCap="butt"),this.lineJoin!=="miter"&&(le.lineJoin=this.lineJoin,this.lineJoin="miter"),this.beginPath(),this.rect(V,Q,te,ie),this.fill(),le.hasOwnProperty("lineCap")&&(this.lineCap=le.lineCap),le.hasOwnProperty("lineJoin")&&(this.lineJoin=le.lineJoin)}},d.prototype.strokeRect=function(V,Q,te,ie){if(isNaN(V)||isNaN(Q)||isNaN(te)||isNaN(ie))throw dn.error("jsPDF.context2d.strokeRect: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.strokeRect");b.call(this)||(this.beginPath(),this.rect(V,Q,te,ie),this.stroke())},d.prototype.clearRect=function(V,Q,te,ie){if(isNaN(V)||isNaN(Q)||isNaN(te)||isNaN(ie))throw dn.error("jsPDF.context2d.clearRect: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.clearRect");this.ignoreClearRect||(this.fillStyle="#ffffff",this.fillRect(V,Q,te,ie))},d.prototype.save=function(V){V=typeof V!="boolean"||V;for(var Q=this.pdf.internal.getCurrentPageInfo().pageNumber,te=0;te<this.pdf.internal.getNumberOfPages();te++)this.pdf.setPage(te+1),this.pdf.internal.out("q");if(this.pdf.setPage(Q),V){this.ctx.fontSize=this.pdf.internal.getFontSize();var ie=new c(this.ctx);this.ctxStack.push(this.ctx),this.ctx=ie}},d.prototype.restore=function(V){V=typeof V!="boolean"||V;for(var Q=this.pdf.internal.getCurrentPageInfo().pageNumber,te=0;te<this.pdf.internal.getNumberOfPages();te++)this.pdf.setPage(te+1),this.pdf.internal.out("Q");this.pdf.setPage(Q),V&&this.ctxStack.length!==0&&(this.ctx=this.ctxStack.pop(),this.fillStyle=this.ctx.fillStyle,this.strokeStyle=this.ctx.strokeStyle,this.font=this.ctx.font,this.lineCap=this.ctx.lineCap,this.lineWidth=this.ctx.lineWidth,this.lineJoin=this.ctx.lineJoin,this.lineDash=this.ctx.lineDash,this.lineDashOffset=this.ctx.lineDashOffset)},d.prototype.toDataURL=function(){throw new Error("toDataUrl not implemented.")};var g=function(V){var Q,te,ie,le;if(V.isCanvasGradient===!0&&(V=V.getColor()),!V)return{r:0,g:0,b:0,a:0,style:V};if(/transparent|rgba\s*\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*,\s*0+\s*\)/.test(V))Q=0,te=0,ie=0,le=0;else{var pe=/rgb\s*\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*\)/.exec(V);if(pe!==null)Q=parseInt(pe[1]),te=parseInt(pe[2]),ie=parseInt(pe[3]),le=1;else if((pe=/rgba\s*\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*,\s*([\d.]+)\s*\)/.exec(V))!==null)Q=parseInt(pe[1]),te=parseInt(pe[2]),ie=parseInt(pe[3]),le=parseFloat(pe[4]);else{if(le=1,typeof V=="string"&&V.charAt(0)!=="#"){var be=new lT(V);V=be.ok?be.toHex():"#000000"}V.length===4?(Q=V.substring(1,2),Q+=Q,te=V.substring(2,3),te+=te,ie=V.substring(3,4),ie+=ie):(Q=V.substring(1,3),te=V.substring(3,5),ie=V.substring(5,7)),Q=parseInt(Q,16),te=parseInt(te,16),ie=parseInt(ie,16)}}return{r:Q,g:te,b:ie,a:le,style:V}},p=function(){return this.ctx.isFillTransparent||this.globalAlpha==0},b=function(){return!!(this.ctx.isStrokeTransparent||this.globalAlpha==0)};d.prototype.fillText=function(V,Q,te,ie){if(isNaN(Q)||isNaN(te)||typeof V!="string")throw dn.error("jsPDF.context2d.fillText: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.fillText");if(ie=isNaN(ie)?void 0:ie,!p.call(this)){var le=ee(this.ctx.transform.rotation),pe=this.ctx.transform.scaleX;L.call(this,{text:V,x:Q,y:te,scale:pe,angle:le,align:this.textAlign,maxWidth:ie})}},d.prototype.strokeText=function(V,Q,te,ie){if(isNaN(Q)||isNaN(te)||typeof V!="string")throw dn.error("jsPDF.context2d.strokeText: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.strokeText");if(!b.call(this)){ie=isNaN(ie)?void 0:ie;var le=ee(this.ctx.transform.rotation),pe=this.ctx.transform.scaleX;L.call(this,{text:V,x:Q,y:te,scale:pe,renderingMode:"stroke",angle:le,align:this.textAlign,maxWidth:ie})}},d.prototype.measureText=function(V){if(typeof V!="string")throw dn.error("jsPDF.context2d.measureText: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.measureText");var Q=this.pdf,te=this.pdf.internal.scaleFactor,ie=Q.internal.getFontSize(),le=Q.getStringUnitWidth(V)*ie/Q.internal.scaleFactor;return new function(pe){var be=(pe=pe||{}).width||0;return Object.defineProperty(this,"width",{get:function(){return be}}),this}({width:le*=Math.round(96*te/72*1e4)/1e4})},d.prototype.scale=function(V,Q){if(isNaN(V)||isNaN(Q))throw dn.error("jsPDF.context2d.scale: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.scale");var te=new l(V,0,0,Q,0,0);this.ctx.transform=this.ctx.transform.multiply(te)},d.prototype.rotate=function(V){if(isNaN(V))throw dn.error("jsPDF.context2d.rotate: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.rotate");var Q=new l(Math.cos(V),Math.sin(V),-Math.sin(V),Math.cos(V),0,0);this.ctx.transform=this.ctx.transform.multiply(Q)},d.prototype.translate=function(V,Q){if(isNaN(V)||isNaN(Q))throw dn.error("jsPDF.context2d.translate: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.translate");var te=new l(1,0,0,1,V,Q);this.ctx.transform=this.ctx.transform.multiply(te)},d.prototype.transform=function(V,Q,te,ie,le,pe){if(isNaN(V)||isNaN(Q)||isNaN(te)||isNaN(ie)||isNaN(le)||isNaN(pe))throw dn.error("jsPDF.context2d.transform: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.transform");var be=new l(V,Q,te,ie,le,pe);this.ctx.transform=this.ctx.transform.multiply(be)},d.prototype.setTransform=function(V,Q,te,ie,le,pe){V=isNaN(V)?1:V,Q=isNaN(Q)?0:Q,te=isNaN(te)?0:te,ie=isNaN(ie)?1:ie,le=isNaN(le)?0:le,pe=isNaN(pe)?0:pe,this.ctx.transform=new l(V,Q,te,ie,le,pe)};var x=function(){return this.margin[0]>0||this.margin[1]>0||this.margin[2]>0||this.margin[3]>0};d.prototype.drawImage=function(V,Q,te,ie,le,pe,be,_e,Te){var je=this.pdf.getImageProperties(V),Se=1,ke=1,me=1,Y=1;ie!==void 0&&_e!==void 0&&(me=_e/ie,Y=Te/le,Se=je.width/ie*_e/ie,ke=je.height/le*Te/le),pe===void 0&&(pe=Q,be=te,Q=0,te=0),ie!==void 0&&_e===void 0&&(_e=ie,Te=le),ie===void 0&&_e===void 0&&(_e=je.width,Te=je.height);for(var Ke,ot=this.ctx.transform.decompose(),Ue=ee(ot.rotate.shx),Ie=new l,ze=(Ie=(Ie=(Ie=Ie.multiply(ot.translate)).multiply(ot.skew)).multiply(ot.scale)).applyToRectangle(new a(pe-Q*me,be-te*Y,ie*Se,le*ke)),Be=A.call(this,ze),_t=[],tt=0;tt<Be.length;tt+=1)_t.indexOf(Be[tt])===-1&&_t.push(Be[tt]);if(T(_t),this.autoPaging)for(var Ot=_t[0],wt=_t[_t.length-1],et=Ot;et<wt+1;et++){this.pdf.setPage(et);var St=this.pdf.internal.pageSize.width-this.margin[3]-this.margin[1],mt=et===1?this.posY+this.margin[0]:this.margin[0],nt=this.pdf.internal.pageSize.height-this.posY-this.margin[0]-this.margin[2],ht=this.pdf.internal.pageSize.height-this.margin[0]-this.margin[2],st=et===1?0:nt+(et-2)*ht;if(this.ctx.clip_path.length!==0){var Kt=this.path;Ke=JSON.parse(JSON.stringify(this.ctx.clip_path)),this.path=_(Ke,this.posX+this.margin[3],-st+mt+this.ctx.prevPageLastElemOffset),z.call(this,"fill",!0),this.path=Kt}var Ut=JSON.parse(JSON.stringify(ze));Ut=_([Ut],this.posX+this.margin[3],-st+mt+this.ctx.prevPageLastElemOffset)[0];var Xe=(et>Ot||et<wt)&&x.call(this);Xe&&(this.pdf.saveGraphicsState(),this.pdf.rect(this.margin[3],this.margin[0],St,ht,null).clip().discardPath()),this.pdf.addImage(V,"JPEG",Ut.x,Ut.y,Ut.w,Ut.h,null,null,Ue),Xe&&this.pdf.restoreGraphicsState()}else this.pdf.addImage(V,"JPEG",ze.x,ze.y,ze.w,ze.h,null,null,Ue)};var A=function(V,Q,te){var ie=[];Q=Q||this.pdf.internal.pageSize.width,te=te||this.pdf.internal.pageSize.height-this.margin[0]-this.margin[2];var le=this.posY+this.ctx.prevPageLastElemOffset;switch(V.type){default:case"mt":case"lt":ie.push(Math.floor((V.y+le)/te)+1);break;case"arc":ie.push(Math.floor((V.y+le-V.radius)/te)+1),ie.push(Math.floor((V.y+le+V.radius)/te)+1);break;case"qct":var pe=oe(this.ctx.lastPoint.x,this.ctx.lastPoint.y,V.x1,V.y1,V.x,V.y);ie.push(Math.floor((pe.y+le)/te)+1),ie.push(Math.floor((pe.y+pe.h+le)/te)+1);break;case"bct":var be=ge(this.ctx.lastPoint.x,this.ctx.lastPoint.y,V.x1,V.y1,V.x2,V.y2,V.x,V.y);ie.push(Math.floor((be.y+le)/te)+1),ie.push(Math.floor((be.y+be.h+le)/te)+1);break;case"rect":ie.push(Math.floor((V.y+le)/te)+1),ie.push(Math.floor((V.y+V.h+le)/te)+1)}for(var _e=0;_e<ie.length;_e+=1)for(;this.pdf.internal.getNumberOfPages()<ie[_e];)v.call(this);return ie},v=function(){var V=this.fillStyle,Q=this.strokeStyle,te=this.font,ie=this.lineCap,le=this.lineWidth,pe=this.lineJoin;this.pdf.addPage(),this.fillStyle=V,this.strokeStyle=Q,this.font=te,this.lineCap=ie,this.lineWidth=le,this.lineJoin=pe},_=function(V,Q,te){for(var ie=0;ie<V.length;ie++)switch(V[ie].type){case"bct":V[ie].x2+=Q,V[ie].y2+=te;case"qct":V[ie].x1+=Q,V[ie].y1+=te;default:V[ie].x+=Q,V[ie].y+=te}return V},T=function(V){return V.sort(function(Q,te){return Q-te})},R=function(V,Q){for(var te,ie,le=this.fillStyle,pe=this.strokeStyle,be=this.lineCap,_e=this.lineWidth,Te=Math.abs(_e*this.ctx.transform.scaleX),je=this.lineJoin,Se=JSON.parse(JSON.stringify(this.path)),ke=JSON.parse(JSON.stringify(this.path)),me=[],Y=0;Y<ke.length;Y++)if(ke[Y].x!==void 0)for(var Ke=A.call(this,ke[Y]),ot=0;ot<Ke.length;ot+=1)me.indexOf(Ke[ot])===-1&&me.push(Ke[ot]);for(var Ue=0;Ue<me.length;Ue++)for(;this.pdf.internal.getNumberOfPages()<me[Ue];)v.call(this);if(T(me),this.autoPaging)for(var Ie=me[0],ze=me[me.length-1],Be=Ie;Be<ze+1;Be++){this.pdf.setPage(Be),this.fillStyle=le,this.strokeStyle=pe,this.lineCap=be,this.lineWidth=Te,this.lineJoin=je;var _t=this.pdf.internal.pageSize.width-this.margin[3]-this.margin[1],tt=Be===1?this.posY+this.margin[0]:this.margin[0],Ot=this.pdf.internal.pageSize.height-this.posY-this.margin[0]-this.margin[2],wt=this.pdf.internal.pageSize.height-this.margin[0]-this.margin[2],et=Be===1?0:Ot+(Be-2)*wt;if(this.ctx.clip_path.length!==0){var St=this.path;te=JSON.parse(JSON.stringify(this.ctx.clip_path)),this.path=_(te,this.posX+this.margin[3],-et+tt+this.ctx.prevPageLastElemOffset),z.call(this,V,!0),this.path=St}if(ie=JSON.parse(JSON.stringify(Se)),this.path=_(ie,this.posX+this.margin[3],-et+tt+this.ctx.prevPageLastElemOffset),Q===!1||Be===0){var mt=(Be>Ie||Be<ze)&&x.call(this);mt&&(this.pdf.saveGraphicsState(),this.pdf.rect(this.margin[3],this.margin[0],_t,wt,null).clip().discardPath()),z.call(this,V,Q),mt&&this.pdf.restoreGraphicsState()}this.lineWidth=_e}else this.lineWidth=Te,z.call(this,V,Q),this.lineWidth=_e;this.path=Se},z=function(V,Q){if((V!=="stroke"||Q||!b.call(this))&&(V==="stroke"||Q||!p.call(this))){for(var te,ie,le=[],pe=this.path,be=0;be<pe.length;be++){var _e=pe[be];switch(_e.type){case"begin":le.push({begin:!0});break;case"close":le.push({close:!0});break;case"mt":le.push({start:_e,deltas:[],abs:[]});break;case"lt":var Te=le.length;if(pe[be-1]&&!isNaN(pe[be-1].x)&&(te=[_e.x-pe[be-1].x,_e.y-pe[be-1].y],Te>0)){for(;Te>=0;Te--)if(le[Te-1].close!==!0&&le[Te-1].begin!==!0){le[Te-1].deltas.push(te),le[Te-1].abs.push(_e);break}}break;case"bct":te=[_e.x1-pe[be-1].x,_e.y1-pe[be-1].y,_e.x2-pe[be-1].x,_e.y2-pe[be-1].y,_e.x-pe[be-1].x,_e.y-pe[be-1].y],le[le.length-1].deltas.push(te);break;case"qct":var je=pe[be-1].x+2/3*(_e.x1-pe[be-1].x),Se=pe[be-1].y+2/3*(_e.y1-pe[be-1].y),ke=_e.x+2/3*(_e.x1-_e.x),me=_e.y+2/3*(_e.y1-_e.y),Y=_e.x,Ke=_e.y;te=[je-pe[be-1].x,Se-pe[be-1].y,ke-pe[be-1].x,me-pe[be-1].y,Y-pe[be-1].x,Ke-pe[be-1].y],le[le.length-1].deltas.push(te);break;case"arc":le.push({deltas:[],abs:[],arc:!0}),Array.isArray(le[le.length-1].abs)&&le[le.length-1].abs.push(_e)}}ie=Q?null:V==="stroke"?"stroke":"fill";for(var ot=!1,Ue=0;Ue<le.length;Ue++)if(le[Ue].arc)for(var Ie=le[Ue].abs,ze=0;ze<Ie.length;ze++){var Be=Ie[ze];Be.type==="arc"?C.call(this,Be.x,Be.y,Be.radius,Be.startAngle,Be.endAngle,Be.counterclockwise,void 0,Q,!ot):j.call(this,Be.x,Be.y),ot=!0}else if(le[Ue].close===!0)this.pdf.internal.out("h"),ot=!1;else if(le[Ue].begin!==!0){var _t=le[Ue].start.x,tt=le[Ue].start.y;H.call(this,le[Ue].deltas,_t,tt),ot=!0}ie&&P.call(this,ie),Q&&M.call(this)}},K=function(V){var Q=this.pdf.internal.getFontSize()/this.pdf.internal.scaleFactor,te=Q*(this.pdf.internal.getLineHeightFactor()-1);switch(this.ctx.textBaseline){case"bottom":return V-te;case"top":return V+Q-te;case"hanging":return V+Q-2*te;case"middle":return V+Q/2-te;default:return V}},k=function(V){return V+this.pdf.internal.getFontSize()/this.pdf.internal.scaleFactor*(this.pdf.internal.getLineHeightFactor()-1)};d.prototype.createLinearGradient=function(){var V=function(){};return V.colorStops=[],V.addColorStop=function(Q,te){this.colorStops.push([Q,te])},V.getColor=function(){return this.colorStops.length===0?"#000000":this.colorStops[0][1]},V.isCanvasGradient=!0,V},d.prototype.createPattern=function(){return this.createLinearGradient()},d.prototype.createRadialGradient=function(){return this.createLinearGradient()};var C=function(V,Q,te,ie,le,pe,be,_e,Te){for(var je=ce.call(this,te,ie,le,pe),Se=0;Se<je.length;Se++){var ke=je[Se];Se===0&&(Te?E.call(this,ke.x1+V,ke.y1+Q):j.call(this,ke.x1+V,ke.y1+Q)),ne.call(this,V,Q,ke.x2,ke.y2,ke.x3,ke.y3,ke.x4,ke.y4)}_e?M.call(this):P.call(this,be)},P=function(V){switch(V){case"stroke":this.pdf.internal.out("S");break;case"fill":this.pdf.internal.out("f")}},M=function(){this.pdf.clip(),this.pdf.discardPath()},E=function(V,Q){this.pdf.internal.out(n(V)+" "+r(Q)+" m")},L=function(V){var Q;switch(V.align){case"right":case"end":Q="right";break;case"center":Q="center";break;default:Q="left"}var te=this.pdf.getTextDimensions(V.text),ie=K.call(this,V.y),le=k.call(this,ie)-te.h,pe=this.ctx.transform.applyToPoint(new o(V.x,ie)),be=this.ctx.transform.decompose(),_e=new l;_e=(_e=(_e=_e.multiply(be.translate)).multiply(be.skew)).multiply(be.scale);for(var Te,je,Se,ke=this.ctx.transform.applyToRectangle(new a(V.x,ie,te.w,te.h)),me=_e.applyToRectangle(new a(V.x,le,te.w,te.h)),Y=A.call(this,me),Ke=[],ot=0;ot<Y.length;ot+=1)Ke.indexOf(Y[ot])===-1&&Ke.push(Y[ot]);if(T(Ke),this.autoPaging)for(var Ue=Ke[0],Ie=Ke[Ke.length-1],ze=Ue;ze<Ie+1;ze++){this.pdf.setPage(ze);var Be=ze===1?this.posY+this.margin[0]:this.margin[0],_t=this.pdf.internal.pageSize.height-this.posY-this.margin[0]-this.margin[2],tt=this.pdf.internal.pageSize.height-this.margin[2],Ot=tt-this.margin[0],wt=this.pdf.internal.pageSize.width-this.margin[1],et=wt-this.margin[3],St=ze===1?0:_t+(ze-2)*Ot;if(this.ctx.clip_path.length!==0){var mt=this.path;Te=JSON.parse(JSON.stringify(this.ctx.clip_path)),this.path=_(Te,this.posX+this.margin[3],-1*St+Be),z.call(this,"fill",!0),this.path=mt}var nt=_([JSON.parse(JSON.stringify(me))],this.posX+this.margin[3],-St+Be+this.ctx.prevPageLastElemOffset)[0];V.scale>=.01&&(je=this.pdf.internal.getFontSize(),this.pdf.setFontSize(je*V.scale),Se=this.lineWidth,this.lineWidth=Se*V.scale);var ht=this.autoPaging!=="text";if(ht||nt.y+nt.h<=tt){if(ht||nt.y>=Be&&nt.x<=wt){var st=ht?V.text:this.pdf.splitTextToSize(V.text,V.maxWidth||wt-nt.x)[0],Kt=_([JSON.parse(JSON.stringify(ke))],this.posX+this.margin[3],-St+Be+this.ctx.prevPageLastElemOffset)[0],Ut=ht&&(ze>Ue||ze<Ie)&&x.call(this);Ut&&(this.pdf.saveGraphicsState(),this.pdf.rect(this.margin[3],this.margin[0],et,Ot,null).clip().discardPath()),this.pdf.text(st,Kt.x,Kt.y,{angle:V.angle,align:Q,renderingMode:V.renderingMode}),Ut&&this.pdf.restoreGraphicsState()}}else nt.y<tt&&(this.ctx.prevPageLastElemOffset+=tt-nt.y);V.scale>=.01&&(this.pdf.setFontSize(je),this.lineWidth=Se)}else V.scale>=.01&&(je=this.pdf.internal.getFontSize(),this.pdf.setFontSize(je*V.scale),Se=this.lineWidth,this.lineWidth=Se*V.scale),this.pdf.text(V.text,pe.x+this.posX,pe.y+this.posY,{angle:V.angle,align:Q,renderingMode:V.renderingMode,maxWidth:V.maxWidth}),V.scale>=.01&&(this.pdf.setFontSize(je),this.lineWidth=Se)},j=function(V,Q,te,ie){te=te||0,ie=ie||0,this.pdf.internal.out(n(V+te)+" "+r(Q+ie)+" l")},H=function(V,Q,te){return this.pdf.lines(V,Q,te,null,null)},ne=function(V,Q,te,ie,le,pe,be,_e){this.pdf.internal.out([e(i(te+V)),e(s(ie+Q)),e(i(le+V)),e(s(pe+Q)),e(i(be+V)),e(s(_e+Q)),"c"].join(" "))},ce=function(V,Q,te,ie){for(var le=2*Math.PI,pe=Math.PI/2;Q>te;)Q-=le;var be=Math.abs(te-Q);be<le&&ie&&(be=le-be);for(var _e=[],Te=ie?-1:1,je=Q;be>1e-5;){var Se=je+Te*Math.min(be,pe);_e.push(ae.call(this,V,je,Se)),be-=Math.abs(Se-je),je=Se}return _e},ae=function(V,Q,te){var ie=(te-Q)/2,le=V*Math.cos(ie),pe=V*Math.sin(ie),be=le,_e=-pe,Te=be*be+_e*_e,je=Te+be*le+_e*pe,Se=4/3*(Math.sqrt(2*Te*je)-je)/(be*pe-_e*le),ke=be-Se*_e,me=_e+Se*be,Y=ke,Ke=-me,ot=ie+Q,Ue=Math.cos(ot),Ie=Math.sin(ot);return{x1:V*Math.cos(Q),y1:V*Math.sin(Q),x2:ke*Ue-me*Ie,y2:ke*Ie+me*Ue,x3:Y*Ue-Ke*Ie,y3:Y*Ie+Ke*Ue,x4:V*Math.cos(te),y4:V*Math.sin(te)}},ee=function(V){return 180*V/Math.PI},oe=function(V,Q,te,ie,le,pe){var be=V+.5*(te-V),_e=Q+.5*(ie-Q),Te=le+.5*(te-le),je=pe+.5*(ie-pe),Se=Math.min(V,le,be,Te),ke=Math.max(V,le,be,Te),me=Math.min(Q,pe,_e,je),Y=Math.max(Q,pe,_e,je);return new a(Se,me,ke-Se,Y-me)},ge=function(V,Q,te,ie,le,pe,be,_e){var Te,je,Se,ke,me,Y,Ke,ot,Ue,Ie,ze,Be,_t,tt,Ot=te-V,wt=ie-Q,et=le-te,St=pe-ie,mt=be-le,nt=_e-pe;for(je=0;je<41;je++)Ue=(Ke=(Se=V+(Te=je/40)*Ot)+Te*((me=te+Te*et)-Se))+Te*(me+Te*(le+Te*mt-me)-Ke),Ie=(ot=(ke=Q+Te*wt)+Te*((Y=ie+Te*St)-ke))+Te*(Y+Te*(pe+Te*nt-Y)-ot),je==0?(ze=Ue,Be=Ie,_t=Ue,tt=Ie):(ze=Math.min(ze,Ue),Be=Math.min(Be,Ie),_t=Math.max(_t,Ue),tt=Math.max(tt,Ie));return new a(Math.round(ze),Math.round(Be),Math.round(_t-ze),Math.round(tt-Be))},xe=function(){if(this.prevLineDash||this.ctx.lineDash.length||this.ctx.lineDashOffset){var V,Q,te=(V=this.ctx.lineDash,Q=this.ctx.lineDashOffset,JSON.stringify({lineDash:V,lineDashOffset:Q}));this.prevLineDash!==te&&(this.pdf.setLineDash(this.ctx.lineDash,this.ctx.lineDashOffset),this.prevLineDash=te)}}})(it.API),function(t){var e=function(o){var a,l,u,c,d,g,p,b,x,A;for(l=[],u=0,c=(o+=a="\0\0\0\0".slice(o.length%4||4)).length;c>u;u+=4)(d=(o.charCodeAt(u)<<24)+(o.charCodeAt(u+1)<<16)+(o.charCodeAt(u+2)<<8)+o.charCodeAt(u+3))!==0?(g=(d=((d=((d=((d=(d-(A=d%85))/85)-(x=d%85))/85)-(b=d%85))/85)-(p=d%85))/85)%85,l.push(g+33,p+33,b+33,x+33,A+33)):l.push(122);return function(v,_){for(var T=_;T>0;T--)v.pop()}(l,a.length),String.fromCharCode.apply(String,l)+"~>"},n=function(o){var a,l,u,c,d,g=String,p="length",b=255,x="charCodeAt",A="slice",v="replace";for(o[A](-2),o=o[A](0,-2)[v](/\s/g,"")[v]("z","!!!!!"),u=[],c=0,d=(o+=a="uuuuu"[A](o[p]%5||5))[p];d>c;c+=5)l=52200625*(o[x](c)-33)+614125*(o[x](c+1)-33)+7225*(o[x](c+2)-33)+85*(o[x](c+3)-33)+(o[x](c+4)-33),u.push(b&l>>24,b&l>>16,b&l>>8,b&l);return function(_,T){for(var R=T;R>0;R--)_.pop()}(u,a[p]),g.fromCharCode.apply(g,u)},r=function(o){return o.split("").map(function(a){return("0"+a.charCodeAt().toString(16)).slice(-2)}).join("")+">"},i=function(o){var a=new RegExp(/^([0-9A-Fa-f]{2})+$/);if((o=o.replace(/\s/g,"")).indexOf(">")!==-1&&(o=o.substr(0,o.indexOf(">"))),o.length%2&&(o+="0"),a.test(o)===!1)return"";for(var l="",u=0;u<o.length;u+=2)l+=String.fromCharCode("0x"+(o[u]+o[u+1]));return l},s=function(o){for(var a=new Uint8Array(o.length),l=o.length;l--;)a[l]=o.charCodeAt(l);return(a=Q2(a)).reduce(function(u,c){return u+String.fromCharCode(c)},"")};t.processDataByFilters=function(o,a){var l=0,u=o||"",c=[];for(typeof(a=a||[])=="string"&&(a=[a]),l=0;l<a.length;l+=1)switch(a[l]){case"ASCII85Decode":case"/ASCII85Decode":u=n(u),c.push("/ASCII85Encode");break;case"ASCII85Encode":case"/ASCII85Encode":u=e(u),c.push("/ASCII85Decode");break;case"ASCIIHexDecode":case"/ASCIIHexDecode":u=i(u),c.push("/ASCIIHexEncode");break;case"ASCIIHexEncode":case"/ASCIIHexEncode":u=r(u),c.push("/ASCIIHexDecode");break;case"FlateEncode":case"/FlateEncode":u=s(u),c.push("/FlateDecode");break;default:throw new Error('The filter: "'+a[l]+'" is not implemented')}return{data:u,reverseChain:c.reverse().join(" ")}}}(it.API),function(t){t.loadFile=function(e,n,r){return function(i,s,o){s=s!==!1,o=typeof o=="function"?o:function(){};var a=void 0;try{a=function(l,u,c){var d=new XMLHttpRequest,g=0,p=function(b){var x=b.length,A=[],v=String.fromCharCode;for(g=0;g<x;g+=1)A.push(v(255&b.charCodeAt(g)));return A.join("")};if(d.open("GET",l,!u),d.overrideMimeType("text/plain; charset=x-user-defined"),u===!1&&(d.onload=function(){d.status===200?c(p(this.responseText)):c(void 0)}),d.send(null),u&&d.status===200)return p(d.responseText)}(i,s,o)}catch{}return a}(e,n,r)},t.loadImageFile=t.loadFile}(it.API),function(t){function e(){return(vt.html2canvas?Promise.resolve(vt.html2canvas):R1(()=>import("./html2canvas.esm-CBrSDip1.js"),[])).catch(function(a){return Promise.reject(new Error("Could not load html2canvas: "+a))}).then(function(a){return a.default?a.default:a})}function n(){return(vt.DOMPurify?Promise.resolve(vt.DOMPurify):R1(()=>import("./purify.es-aGzT-_H7.js"),[])).catch(function(a){return Promise.reject(new Error("Could not load dompurify: "+a))}).then(function(a){return a.default?a.default:a})}var r=function(a){var l=an(a);return l==="undefined"?"undefined":l==="string"||a instanceof String?"string":l==="number"||a instanceof Number?"number":l==="function"||a instanceof Function?"function":a&&a.constructor===Array?"array":a&&a.nodeType===1?"element":l==="object"?"object":"unknown"},i=function(a,l){var u=document.createElement(a);for(var c in l.className&&(u.className=l.className),l.innerHTML&&l.dompurify&&(u.innerHTML=l.dompurify.sanitize(l.innerHTML)),l.style)u.style[c]=l.style[c];return u},s=function a(l,u){for(var c=l.nodeType===3?document.createTextNode(l.nodeValue):l.cloneNode(!1),d=l.firstChild;d;d=d.nextSibling)u!==!0&&d.nodeType===1&&d.nodeName==="SCRIPT"||c.appendChild(a(d,u));return l.nodeType===1&&(l.nodeName==="CANVAS"?(c.width=l.width,c.height=l.height,c.getContext("2d").drawImage(l,0,0)):l.nodeName!=="TEXTAREA"&&l.nodeName!=="SELECT"||(c.value=l.value),c.addEventListener("load",function(){c.scrollTop=l.scrollTop,c.scrollLeft=l.scrollLeft},!0)),c},o=function a(l){var u=Object.assign(a.convert(Promise.resolve()),JSON.parse(JSON.stringify(a.template))),c=a.convert(Promise.resolve(),u);return(c=c.setProgress(1,a,1,[a])).set(l)};(o.prototype=Object.create(Promise.prototype)).constructor=o,o.convert=function(a,l){return a.__proto__=l||o.prototype,a},o.template={prop:{src:null,container:null,overlay:null,canvas:null,img:null,pdf:null,pageSize:null,callback:function(){}},progress:{val:0,state:null,n:0,stack:[]},opt:{filename:"file.pdf",margin:[0,0,0,0],enableLinks:!0,x:0,y:0,html2canvas:{},jsPDF:{},backgroundColor:"transparent"}},o.prototype.from=function(a,l){return this.then(function(){switch(l=l||function(u){switch(r(u)){case"string":return"string";case"element":return u.nodeName.toLowerCase()==="canvas"?"canvas":"element";default:return"unknown"}}(a),l){case"string":return this.then(n).then(function(u){return this.set({src:i("div",{innerHTML:a,dompurify:u})})});case"element":return this.set({src:a});case"canvas":return this.set({canvas:a});case"img":return this.set({img:a});default:return this.error("Unknown source type.")}})},o.prototype.to=function(a){switch(a){case"container":return this.toContainer();case"canvas":return this.toCanvas();case"img":return this.toImg();case"pdf":return this.toPdf();default:return this.error("Invalid target.")}},o.prototype.toContainer=function(){return this.thenList([function(){return this.prop.src||this.error("Cannot duplicate - no source HTML.")},function(){return this.prop.pageSize||this.setPageSize()}]).then(function(){var a={position:"relative",display:"inline-block",width:(typeof this.opt.width!="number"||isNaN(this.opt.width)||typeof this.opt.windowWidth!="number"||isNaN(this.opt.windowWidth)?Math.max(this.prop.src.clientWidth,this.prop.src.scrollWidth,this.prop.src.offsetWidth):this.opt.windowWidth)+"px",left:0,right:0,top:0,margin:"auto",backgroundColor:this.opt.backgroundColor},l=s(this.prop.src,this.opt.html2canvas.javascriptEnabled);l.tagName==="BODY"&&(a.height=Math.max(document.body.scrollHeight,document.body.offsetHeight,document.documentElement.clientHeight,document.documentElement.scrollHeight,document.documentElement.offsetHeight)+"px"),this.prop.overlay=i("div",{className:"html2pdf__overlay",style:{position:"fixed",overflow:"hidden",zIndex:1e3,left:"-100000px",right:0,bottom:0,top:0}}),this.prop.container=i("div",{className:"html2pdf__container",style:a}),this.prop.container.appendChild(l),this.prop.container.firstChild.appendChild(i("div",{style:{clear:"both",border:"0 none transparent",margin:0,padding:0,height:0}})),this.prop.container.style.float="none",this.prop.overlay.appendChild(this.prop.container),document.body.appendChild(this.prop.overlay),this.prop.container.firstChild.style.position="relative",this.prop.container.height=Math.max(this.prop.container.firstChild.clientHeight,this.prop.container.firstChild.scrollHeight,this.prop.container.firstChild.offsetHeight)+"px"})},o.prototype.toCanvas=function(){var a=[function(){return document.body.contains(this.prop.container)||this.toContainer()}];return this.thenList(a).then(e).then(function(l){var u=Object.assign({},this.opt.html2canvas);return delete u.onrendered,l(this.prop.container,u)}).then(function(l){(this.opt.html2canvas.onrendered||function(){})(l),this.prop.canvas=l,document.body.removeChild(this.prop.overlay)})},o.prototype.toContext2d=function(){var a=[function(){return document.body.contains(this.prop.container)||this.toContainer()}];return this.thenList(a).then(e).then(function(l){var u=this.opt.jsPDF,c=this.opt.fontFaces,d=typeof this.opt.width!="number"||isNaN(this.opt.width)||typeof this.opt.windowWidth!="number"||isNaN(this.opt.windowWidth)?1:this.opt.width/this.opt.windowWidth,g=Object.assign({async:!0,allowTaint:!0,scale:d,scrollX:this.opt.scrollX||0,scrollY:this.opt.scrollY||0,backgroundColor:"#ffffff",imageTimeout:15e3,logging:!0,proxy:null,removeContainer:!0,foreignObjectRendering:!1,useCORS:!1},this.opt.html2canvas);if(delete g.onrendered,u.context2d.autoPaging=this.opt.autoPaging===void 0||this.opt.autoPaging,u.context2d.posX=this.opt.x,u.context2d.posY=this.opt.y,u.context2d.margin=this.opt.margin,u.context2d.fontFaces=c,c)for(var p=0;p<c.length;++p){var b=c[p],x=b.src.find(function(A){return A.format==="truetype"});x&&u.addFont(x.url,b.ref.name,b.ref.style)}return g.windowHeight=g.windowHeight||0,g.windowHeight=g.windowHeight==0?Math.max(this.prop.container.clientHeight,this.prop.container.scrollHeight,this.prop.container.offsetHeight):g.windowHeight,u.context2d.save(!0),l(this.prop.container,g)}).then(function(l){this.opt.jsPDF.context2d.restore(!0),(this.opt.html2canvas.onrendered||function(){})(l),this.prop.canvas=l,document.body.removeChild(this.prop.overlay)})},o.prototype.toImg=function(){return this.thenList([function(){return this.prop.canvas||this.toCanvas()}]).then(function(){var a=this.prop.canvas.toDataURL("image/"+this.opt.image.type,this.opt.image.quality);this.prop.img=document.createElement("img"),this.prop.img.src=a})},o.prototype.toPdf=function(){return this.thenList([function(){return this.toContext2d()}]).then(function(){this.prop.pdf=this.prop.pdf||this.opt.jsPDF})},o.prototype.output=function(a,l,u){return(u=u||"pdf").toLowerCase()==="img"||u.toLowerCase()==="image"?this.outputImg(a,l):this.outputPdf(a,l)},o.prototype.outputPdf=function(a,l){return this.thenList([function(){return this.prop.pdf||this.toPdf()}]).then(function(){return this.prop.pdf.output(a,l)})},o.prototype.outputImg=function(a){return this.thenList([function(){return this.prop.img||this.toImg()}]).then(function(){switch(a){case void 0:case"img":return this.prop.img;case"datauristring":case"dataurlstring":return this.prop.img.src;case"datauri":case"dataurl":return document.location.href=this.prop.img.src;default:throw'Image output type "'+a+'" is not supported.'}})},o.prototype.save=function(a){return this.thenList([function(){return this.prop.pdf||this.toPdf()}]).set(a?{filename:a}:null).then(function(){this.prop.pdf.save(this.opt.filename)})},o.prototype.doCallback=function(){return this.thenList([function(){return this.prop.pdf||this.toPdf()}]).then(function(){this.prop.callback(this.prop.pdf)})},o.prototype.set=function(a){if(r(a)!=="object")return this;var l=Object.keys(a||{}).map(function(u){if(u in o.template.prop)return function(){this.prop[u]=a[u]};switch(u){case"margin":return this.setMargin.bind(this,a.margin);case"jsPDF":return function(){return this.opt.jsPDF=a.jsPDF,this.setPageSize()};case"pageSize":return this.setPageSize.bind(this,a.pageSize);default:return function(){this.opt[u]=a[u]}}},this);return this.then(function(){return this.thenList(l)})},o.prototype.get=function(a,l){return this.then(function(){var u=a in o.template.prop?this.prop[a]:this.opt[a];return l?l(u):u})},o.prototype.setMargin=function(a){return this.then(function(){switch(r(a)){case"number":a=[a,a,a,a];case"array":if(a.length===2&&(a=[a[0],a[1],a[0],a[1]]),a.length===4)break;default:return this.error("Invalid margin array.")}this.opt.margin=a}).then(this.setPageSize)},o.prototype.setPageSize=function(a){function l(u,c){return Math.floor(u*c/72*96)}return this.then(function(){(a=a||it.getPageSize(this.opt.jsPDF)).hasOwnProperty("inner")||(a.inner={width:a.width-this.opt.margin[1]-this.opt.margin[3],height:a.height-this.opt.margin[0]-this.opt.margin[2]},a.inner.px={width:l(a.inner.width,a.k),height:l(a.inner.height,a.k)},a.inner.ratio=a.inner.height/a.inner.width),this.prop.pageSize=a})},o.prototype.setProgress=function(a,l,u,c){return a!=null&&(this.progress.val=a),l!=null&&(this.progress.state=l),u!=null&&(this.progress.n=u),c!=null&&(this.progress.stack=c),this.progress.ratio=this.progress.val/this.progress.state,this},o.prototype.updateProgress=function(a,l,u,c){return this.setProgress(a?this.progress.val+a:null,l||null,u?this.progress.n+u:null,c?this.progress.stack.concat(c):null)},o.prototype.then=function(a,l){var u=this;return this.thenCore(a,l,function(c,d){return u.updateProgress(null,null,1,[c]),Promise.prototype.then.call(this,function(g){return u.updateProgress(null,c),g}).then(c,d).then(function(g){return u.updateProgress(1),g})})},o.prototype.thenCore=function(a,l,u){u=u||Promise.prototype.then;var c=this;a&&(a=a.bind(c)),l&&(l=l.bind(c));var d=Promise.toString().indexOf("[native code]")!==-1&&Promise.name==="Promise"?c:o.convert(Object.assign({},c),Promise.prototype),g=u.call(d,a,l);return o.convert(g,c.__proto__)},o.prototype.thenExternal=function(a,l){return Promise.prototype.then.call(this,a,l)},o.prototype.thenList=function(a){var l=this;return a.forEach(function(u){l=l.thenCore(u)}),l},o.prototype.catch=function(a){a&&(a=a.bind(this));var l=Promise.prototype.catch.call(this,a);return o.convert(l,this)},o.prototype.catchExternal=function(a){return Promise.prototype.catch.call(this,a)},o.prototype.error=function(a){return this.then(function(){throw new Error(a)})},o.prototype.using=o.prototype.set,o.prototype.saveAs=o.prototype.save,o.prototype.export=o.prototype.output,o.prototype.run=o.prototype.then,it.getPageSize=function(a,l,u){if(an(a)==="object"){var c=a;a=c.orientation,l=c.unit||l,u=c.format||u}l=l||"mm",u=u||"a4",a=(""+(a||"P")).toLowerCase();var d,g=(""+u).toLowerCase(),p={a0:[2383.94,3370.39],a1:[1683.78,2383.94],a2:[1190.55,1683.78],a3:[841.89,1190.55],a4:[595.28,841.89],a5:[419.53,595.28],a6:[297.64,419.53],a7:[209.76,297.64],a8:[147.4,209.76],a9:[104.88,147.4],a10:[73.7,104.88],b0:[2834.65,4008.19],b1:[2004.09,2834.65],b2:[1417.32,2004.09],b3:[1000.63,1417.32],b4:[708.66,1000.63],b5:[498.9,708.66],b6:[354.33,498.9],b7:[249.45,354.33],b8:[175.75,249.45],b9:[124.72,175.75],b10:[87.87,124.72],c0:[2599.37,3676.54],c1:[1836.85,2599.37],c2:[1298.27,1836.85],c3:[918.43,1298.27],c4:[649.13,918.43],c5:[459.21,649.13],c6:[323.15,459.21],c7:[229.61,323.15],c8:[161.57,229.61],c9:[113.39,161.57],c10:[79.37,113.39],dl:[311.81,623.62],letter:[612,792],"government-letter":[576,756],legal:[612,1008],"junior-legal":[576,360],ledger:[1224,792],tabloid:[792,1224],"credit-card":[153,243]};switch(l){case"pt":d=1;break;case"mm":d=72/25.4;break;case"cm":d=72/2.54;break;case"in":d=72;break;case"px":d=.75;break;case"pc":case"em":d=12;break;case"ex":d=6;break;default:throw"Invalid unit: "+l}var b,x=0,A=0;if(p.hasOwnProperty(g))x=p[g][1]/d,A=p[g][0]/d;else try{x=u[1],A=u[0]}catch{throw new Error("Invalid format: "+u)}if(a==="p"||a==="portrait")a="p",A>x&&(b=A,A=x,x=b);else{if(a!=="l"&&a!=="landscape")throw"Invalid orientation: "+a;a="l",x>A&&(b=A,A=x,x=b)}return{width:A,height:x,unit:l,k:d,orientation:a}},t.html=function(a,l){(l=l||{}).callback=l.callback||function(){},l.html2canvas=l.html2canvas||{},l.html2canvas.canvas=l.html2canvas.canvas||this.canvas,l.jsPDF=l.jsPDF||this,l.fontFaces=l.fontFaces?l.fontFaces.map(X1):null;var u=new o(l);return l.worker?u:u.from(a).doCallback()}}(it.API),it.API.addJS=function(t){return r_=t,this.internal.events.subscribe("postPutResources",function(){op=this.internal.newObject(),this.internal.out("<<"),this.internal.out("/Names [(EmbeddedJS) "+(op+1)+" 0 R]"),this.internal.out(">>"),this.internal.out("endobj"),n_=this.internal.newObject(),this.internal.out("<<"),this.internal.out("/S /JavaScript"),this.internal.out("/JS ("+r_+")"),this.internal.out(">>"),this.internal.out("endobj")}),this.internal.events.subscribe("putCatalog",function(){op!==void 0&&n_!==void 0&&this.internal.out("/Names <</JavaScript "+op+" 0 R>>")}),this},function(t){var e;t.events.push(["postPutResources",function(){var n=this,r=/^(\d+) 0 obj$/;if(this.outline.root.children.length>0)for(var i=n.outline.render().split(/\r\n/),s=0;s<i.length;s++){var o=i[s],a=r.exec(o);if(a!=null){var l=a[1];n.internal.newObjectDeferredBegin(l,!1)}n.internal.write(o)}if(this.outline.createNamedDestinations){var u=this.internal.pages.length,c=[];for(s=0;s<u;s++){var d=n.internal.newObject();c.push(d);var g=n.internal.getPageInfo(s+1);n.internal.write("<< /D["+g.objId+" 0 R /XYZ null null null]>> endobj")}var p=n.internal.newObject();for(n.internal.write("<< /Names [ "),s=0;s<c.length;s++)n.internal.write("(page_"+(s+1)+")"+c[s]+" 0 R");n.internal.write(" ] >>","endobj"),e=n.internal.newObject(),n.internal.write("<< /Dests "+p+" 0 R"),n.internal.write(">>","endobj")}}]),t.events.push(["putCatalog",function(){var n=this;n.outline.root.children.length>0&&(n.internal.write("/Outlines",this.outline.makeRef(this.outline.root)),this.outline.createNamedDestinations&&n.internal.write("/Names "+e+" 0 R"))}]),t.events.push(["initialized",function(){var n=this;n.outline={createNamedDestinations:!1,root:{children:[]}},n.outline.add=function(r,i,s){var o={title:i,options:s,children:[]};return r==null&&(r=this.root),r.children.push(o),o},n.outline.render=function(){return this.ctx={},this.ctx.val="",this.ctx.pdf=n,this.genIds_r(this.root),this.renderRoot(this.root),this.renderItems(this.root),this.ctx.val},n.outline.genIds_r=function(r){r.id=n.internal.newObjectDeferred();for(var i=0;i<r.children.length;i++)this.genIds_r(r.children[i])},n.outline.renderRoot=function(r){this.objStart(r),this.line("/Type /Outlines"),r.children.length>0&&(this.line("/First "+this.makeRef(r.children[0])),this.line("/Last "+this.makeRef(r.children[r.children.length-1]))),this.line("/Count "+this.count_r({count:0},r)),this.objEnd()},n.outline.renderItems=function(r){for(var i=this.ctx.pdf.internal.getVerticalCoordinateString,s=0;s<r.children.length;s++){var o=r.children[s];this.objStart(o),this.line("/Title "+this.makeString(o.title)),this.line("/Parent "+this.makeRef(r)),s>0&&this.line("/Prev "+this.makeRef(r.children[s-1])),s<r.children.length-1&&this.line("/Next "+this.makeRef(r.children[s+1])),o.children.length>0&&(this.line("/First "+this.makeRef(o.children[0])),this.line("/Last "+this.makeRef(o.children[o.children.length-1])));var a=this.count=this.count_r({count:0},o);if(a>0&&this.line("/Count "+a),o.options&&o.options.pageNumber){var l=n.internal.getPageInfo(o.options.pageNumber);this.line("/Dest ["+l.objId+" 0 R /XYZ 0 "+i(0)+" 0]")}this.objEnd()}for(var u=0;u<r.children.length;u++)this.renderItems(r.children[u])},n.outline.line=function(r){this.ctx.val+=r+`\r
`},n.outline.makeRef=function(r){return r.id+" 0 R"},n.outline.makeString=function(r){return"("+n.internal.pdfEscape(r)+")"},n.outline.objStart=function(r){this.ctx.val+=`\r
`+r.id+` 0 obj\r
<<\r
`},n.outline.objEnd=function(){this.ctx.val+=`>> \r
endobj\r
`},n.outline.count_r=function(r,i){for(var s=0;s<i.children.length;s++)r.count++,this.count_r(r,i.children[s]);return r.count}}])}(it.API),function(t){var e=[192,193,194,195,196,197,198,199];t.processJPEG=function(n,r,i,s,o,a){var l,u=this.decode.DCT_DECODE,c=null;if(typeof n=="string"||this.__addimage__.isArrayBuffer(n)||this.__addimage__.isArrayBufferView(n)){switch(n=o||n,n=this.__addimage__.isArrayBuffer(n)?new Uint8Array(n):n,l=function(d){for(var g,p=256*d.charCodeAt(4)+d.charCodeAt(5),b=d.length,x={width:0,height:0,numcomponents:1},A=4;A<b;A+=2){if(A+=p,e.indexOf(d.charCodeAt(A+1))!==-1){g=256*d.charCodeAt(A+5)+d.charCodeAt(A+6),x={width:256*d.charCodeAt(A+7)+d.charCodeAt(A+8),height:g,numcomponents:d.charCodeAt(A+9)};break}p=256*d.charCodeAt(A+2)+d.charCodeAt(A+3)}return x}(n=this.__addimage__.isArrayBufferView(n)?this.__addimage__.arrayBufferToBinaryString(n):n),l.numcomponents){case 1:a=this.color_spaces.DEVICE_GRAY;break;case 4:a=this.color_spaces.DEVICE_CMYK;break;case 3:a=this.color_spaces.DEVICE_RGB}c={data:n,width:l.width,height:l.height,colorSpace:a,bitsPerComponent:8,filter:u,index:r,alias:i}}return c}}(it.API),it.API.processPNG=function(t,e,n,r){if(this.__addimage__.isArrayBuffer(t)&&(t=new Uint8Array(t)),this.__addimage__.isArrayBufferView(t)){var i,s=kq(t,{checkCrc:!0}),o=s.width,a=s.height,l=s.channels,u=s.palette,c=s.depth;i=u&&l===1?function(C){for(var P=C.width,M=C.height,E=C.data,L=C.palette,j=C.depth,H=!1,ne=[],ce=[],ae=void 0,ee=!1,oe=0,ge=0;ge<L.length;ge++){var xe=a3(L[ge],4),V=xe[0],Q=xe[1],te=xe[2],ie=xe[3];ne.push(V,Q,te),ie!=null&&(ie===0?(oe++,ce.length<1&&ce.push(ge)):ie<255&&(ee=!0))}if(ee||oe>1){H=!0,ce=void 0;var le=P*M;ae=new Uint8Array(le);for(var pe=new DataView(E.buffer),be=0;be<le;be++){var _e=Z1(pe,be,j),Te=a3(L[_e],4)[3];ae[be]=Te}}else oe===0&&(ce=void 0);return{colorSpace:"Indexed",colorsPerPixel:1,sMaskBitsPerComponent:H?8:void 0,colorBytes:E,alphaBytes:ae,needSMask:H,palette:ne,mask:ce}}(s):l===2||l===4?function(C){for(var P=C.data,M=C.width,E=C.height,L=C.channels,j=C.depth,H=L===2?"DeviceGray":"DeviceRGB",ne=L-1,ce=M*E,ae=ne,ee=ce*ae,oe=1*ce,ge=Math.ceil(ee*j/8),xe=Math.ceil(oe*j/8),V=new Uint8Array(ge),Q=new Uint8Array(xe),te=new DataView(P.buffer),ie=new DataView(V.buffer),le=new DataView(Q.buffer),pe=!1,be=0;be<ce;be++){for(var _e=be*L,Te=0;Te<ae;Te++)f_(ie,Z1(te,_e+Te,j),be*ae+Te,j);var je=Z1(te,_e+ae,j);je<(1<<j)-1&&(pe=!0),f_(le,je,1*be,j)}return{colorSpace:H,colorsPerPixel:ne,sMaskBitsPerComponent:pe?j:void 0,colorBytes:V,alphaBytes:Q,needSMask:pe}}(s):function(C){var P=C.data,M=C.channels===1?"DeviceGray":"DeviceRGB";return{colorSpace:M,colorsPerPixel:M==="DeviceGray"?1:3,colorBytes:P instanceof Uint16Array?function(E){for(var L=E.length,j=new Uint8Array(2*L),H=new DataView(j.buffer,j.byteOffset,j.byteLength),ne=0;ne<L;ne++)H.setUint16(2*ne,E[ne],!1);return j}(P):P,needSMask:!1}}(s);var d,g,p,b=i,x=b.colorSpace,A=b.colorsPerPixel,v=b.sMaskBitsPerComponent,_=b.colorBytes,T=b.alphaBytes,R=b.needSMask,z=b.palette,K=b.mask,k=null;return r!==it.API.image_compression.NONE&&typeof Q2=="function"?(k=function(C){var P;switch(C){case it.API.image_compression.FAST:P=11;break;case it.API.image_compression.MEDIUM:P=13;break;case it.API.image_compression.SLOW:P=14;break;default:P=12}return P}(r),d=this.decode.FLATE_DECODE,g="/Predictor ".concat(k," /Colors ").concat(A," /BitsPerComponent ").concat(c," /Columns ").concat(o),t=a_(_,Math.ceil(o*A*c/8),A,c,r),R&&(p=a_(T,Math.ceil(o*v/8),1,v,r))):(d=void 0,g=void 0,t=_,R&&(p=T)),(this.__addimage__.isArrayBuffer(t)||this.__addimage__.isArrayBufferView(t))&&(t=this.__addimage__.arrayBufferToBinaryString(t)),(p&&this.__addimage__.isArrayBuffer(p)||this.__addimage__.isArrayBufferView(p))&&(p=this.__addimage__.arrayBufferToBinaryString(p)),{alias:n,data:t,index:e,filter:d,decodeParameters:g,transparency:K,palette:z,sMask:p,predictor:k,width:o,height:a,bitsPerComponent:c,sMaskBitsPerComponent:v,colorSpace:x}}},function(t){t.processGIF89A=function(e,n,r,i){var s=new Yq(e),o=s.width,a=s.height,l=[];s.decodeAndBlitFrameRGBA(0,l);var u={data:l,width:o,height:a},c=new eg(100).encode(u,100);return t.processJPEG.call(this,c,n,r,i)},t.processGIF87A=t.processGIF89A}(it.API),Rs.prototype.parseHeader=function(){if(this.fileSize=this.datav.getUint32(this.pos,!0),this.pos+=4,this.reserved=this.datav.getUint32(this.pos,!0),this.pos+=4,this.offset=this.datav.getUint32(this.pos,!0),this.pos+=4,this.headerSize=this.datav.getUint32(this.pos,!0),this.pos+=4,this.width=this.datav.getUint32(this.pos,!0),this.pos+=4,this.height=this.datav.getInt32(this.pos,!0),this.pos+=4,this.planes=this.datav.getUint16(this.pos,!0),this.pos+=2,this.bitPP=this.datav.getUint16(this.pos,!0),this.pos+=2,this.compress=this.datav.getUint32(this.pos,!0),this.pos+=4,this.rawSize=this.datav.getUint32(this.pos,!0),this.pos+=4,this.hr=this.datav.getUint32(this.pos,!0),this.pos+=4,this.vr=this.datav.getUint32(this.pos,!0),this.pos+=4,this.colors=this.datav.getUint32(this.pos,!0),this.pos+=4,this.importantColors=this.datav.getUint32(this.pos,!0),this.pos+=4,this.bitPP===16&&this.is_with_alpha&&(this.bitPP=15),this.bitPP<15){var t=this.colors===0?1<<this.bitPP:this.colors;this.palette=new Array(t);for(var e=0;e<t;e++){var n=this.datav.getUint8(this.pos++,!0),r=this.datav.getUint8(this.pos++,!0),i=this.datav.getUint8(this.pos++,!0),s=this.datav.getUint8(this.pos++,!0);this.palette[e]={red:i,green:r,blue:n,quad:s}}}this.height<0&&(this.height*=-1,this.bottom_up=!1)},Rs.prototype.parseBGR=function(){this.pos=this.offset;try{var t="bit"+this.bitPP,e=this.width*this.height*4;this.data=new Uint8Array(e),this[t]()}catch(n){dn.log("bit decode error:"+n)}},Rs.prototype.bit1=function(){var t,e=Math.ceil(this.width/8),n=e%4;for(t=this.height-1;t>=0;t--){for(var r=this.bottom_up?t:this.height-1-t,i=0;i<e;i++)for(var s=this.datav.getUint8(this.pos++,!0),o=r*this.width*4+8*i*4,a=0;a<8&&8*i+a<this.width;a++){var l=this.palette[s>>7-a&1];this.data[o+4*a]=l.blue,this.data[o+4*a+1]=l.green,this.data[o+4*a+2]=l.red,this.data[o+4*a+3]=255}n!==0&&(this.pos+=4-n)}},Rs.prototype.bit4=function(){for(var t=Math.ceil(this.width/2),e=t%4,n=this.height-1;n>=0;n--){for(var r=this.bottom_up?n:this.height-1-n,i=0;i<t;i++){var s=this.datav.getUint8(this.pos++,!0),o=r*this.width*4+2*i*4,a=s>>4,l=15&s,u=this.palette[a];if(this.data[o]=u.blue,this.data[o+1]=u.green,this.data[o+2]=u.red,this.data[o+3]=255,2*i+1>=this.width)break;u=this.palette[l],this.data[o+4]=u.blue,this.data[o+4+1]=u.green,this.data[o+4+2]=u.red,this.data[o+4+3]=255}e!==0&&(this.pos+=4-e)}},Rs.prototype.bit8=function(){for(var t=this.width%4,e=this.height-1;e>=0;e--){for(var n=this.bottom_up?e:this.height-1-e,r=0;r<this.width;r++){var i=this.datav.getUint8(this.pos++,!0),s=n*this.width*4+4*r;if(i<this.palette.length){var o=this.palette[i];this.data[s]=o.red,this.data[s+1]=o.green,this.data[s+2]=o.blue,this.data[s+3]=255}else this.data[s]=255,this.data[s+1]=255,this.data[s+2]=255,this.data[s+3]=255}t!==0&&(this.pos+=4-t)}},Rs.prototype.bit15=function(){for(var t=this.width%3,e=parseInt("11111",2),n=this.height-1;n>=0;n--){for(var r=this.bottom_up?n:this.height-1-n,i=0;i<this.width;i++){var s=this.datav.getUint16(this.pos,!0);this.pos+=2;var o=(s&e)/e*255|0,a=(s>>5&e)/e*255|0,l=(s>>10&e)/e*255|0,u=s>>15?255:0,c=r*this.width*4+4*i;this.data[c]=l,this.data[c+1]=a,this.data[c+2]=o,this.data[c+3]=u}this.pos+=t}},Rs.prototype.bit16=function(){for(var t=this.width%3,e=parseInt("11111",2),n=parseInt("111111",2),r=this.height-1;r>=0;r--){for(var i=this.bottom_up?r:this.height-1-r,s=0;s<this.width;s++){var o=this.datav.getUint16(this.pos,!0);this.pos+=2;var a=(o&e)/e*255|0,l=(o>>5&n)/n*255|0,u=(o>>11)/e*255|0,c=i*this.width*4+4*s;this.data[c]=u,this.data[c+1]=l,this.data[c+2]=a,this.data[c+3]=255}this.pos+=t}},Rs.prototype.bit24=function(){for(var t=this.height-1;t>=0;t--){for(var e=this.bottom_up?t:this.height-1-t,n=0;n<this.width;n++){var r=this.datav.getUint8(this.pos++,!0),i=this.datav.getUint8(this.pos++,!0),s=this.datav.getUint8(this.pos++,!0),o=e*this.width*4+4*n;this.data[o]=s,this.data[o+1]=i,this.data[o+2]=r,this.data[o+3]=255}this.pos+=this.width%4}},Rs.prototype.bit32=function(){for(var t=this.height-1;t>=0;t--)for(var e=this.bottom_up?t:this.height-1-t,n=0;n<this.width;n++){var r=this.datav.getUint8(this.pos++,!0),i=this.datav.getUint8(this.pos++,!0),s=this.datav.getUint8(this.pos++,!0),o=this.datav.getUint8(this.pos++,!0),a=e*this.width*4+4*n;this.data[a]=s,this.data[a+1]=i,this.data[a+2]=r,this.data[a+3]=o}},Rs.prototype.getData=function(){return this.data},function(t){t.processBMP=function(e,n,r,i){var s=new Rs(e,!1),o=s.width,a=s.height,l={data:s.getData(),width:o,height:a},u=new eg(100).encode(l,100);return t.processJPEG.call(this,u,n,r,i)}}(it.API),p_.prototype.getData=function(){return this.data},function(t){t.processWEBP=function(e,n,r,i){var s=new p_(e),o=s.width,a=s.height,l={data:s.getData(),width:o,height:a},u=new eg(100).encode(l,100);return t.processJPEG.call(this,u,n,r,i)}}(it.API),it.API.processRGBA=function(t,e,n){for(var r=t.data,i=r.length,s=new Uint8Array(i/4*3),o=new Uint8Array(i/4),a=0,l=0,u=0;u<i;u+=4){var c=r[u],d=r[u+1],g=r[u+2],p=r[u+3];s[a++]=c,s[a++]=d,s[a++]=g,o[l++]=p}var b=this.__addimage__.arrayBufferToBinaryString(s);return{alpha:this.__addimage__.arrayBufferToBinaryString(o),data:b,index:e,alias:n,colorSpace:"DeviceRGB",bitsPerComponent:8,width:t.width,height:t.height}},it.API.setLanguage=function(t){return this.internal.languageSettings===void 0&&(this.internal.languageSettings={},this.internal.languageSettings.isSubscribed=!1),{af:"Afrikaans",sq:"Albanian",ar:"Arabic (Standard)","ar-DZ":"Arabic (Algeria)","ar-BH":"Arabic (Bahrain)","ar-EG":"Arabic (Egypt)","ar-IQ":"Arabic (Iraq)","ar-JO":"Arabic (Jordan)","ar-KW":"Arabic (Kuwait)","ar-LB":"Arabic (Lebanon)","ar-LY":"Arabic (Libya)","ar-MA":"Arabic (Morocco)","ar-OM":"Arabic (Oman)","ar-QA":"Arabic (Qatar)","ar-SA":"Arabic (Saudi Arabia)","ar-SY":"Arabic (Syria)","ar-TN":"Arabic (Tunisia)","ar-AE":"Arabic (U.A.E.)","ar-YE":"Arabic (Yemen)",an:"Aragonese",hy:"Armenian",as:"Assamese",ast:"Asturian",az:"Azerbaijani",eu:"Basque",be:"Belarusian",bn:"Bengali",bs:"Bosnian",br:"Breton",bg:"Bulgarian",my:"Burmese",ca:"Catalan",ch:"Chamorro",ce:"Chechen",zh:"Chinese","zh-HK":"Chinese (Hong Kong)","zh-CN":"Chinese (PRC)","zh-SG":"Chinese (Singapore)","zh-TW":"Chinese (Taiwan)",cv:"Chuvash",co:"Corsican",cr:"Cree",hr:"Croatian",cs:"Czech",da:"Danish",nl:"Dutch (Standard)","nl-BE":"Dutch (Belgian)",en:"English","en-AU":"English (Australia)","en-BZ":"English (Belize)","en-CA":"English (Canada)","en-IE":"English (Ireland)","en-JM":"English (Jamaica)","en-NZ":"English (New Zealand)","en-PH":"English (Philippines)","en-ZA":"English (South Africa)","en-TT":"English (Trinidad & Tobago)","en-GB":"English (United Kingdom)","en-US":"English (United States)","en-ZW":"English (Zimbabwe)",eo:"Esperanto",et:"Estonian",fo:"Faeroese",fj:"Fijian",fi:"Finnish",fr:"French (Standard)","fr-BE":"French (Belgium)","fr-CA":"French (Canada)","fr-FR":"French (France)","fr-LU":"French (Luxembourg)","fr-MC":"French (Monaco)","fr-CH":"French (Switzerland)",fy:"Frisian",fur:"Friulian",gd:"Gaelic (Scots)","gd-IE":"Gaelic (Irish)",gl:"Galacian",ka:"Georgian",de:"German (Standard)","de-AT":"German (Austria)","de-DE":"German (Germany)","de-LI":"German (Liechtenstein)","de-LU":"German (Luxembourg)","de-CH":"German (Switzerland)",el:"Greek",gu:"Gujurati",ht:"Haitian",he:"Hebrew",hi:"Hindi",hu:"Hungarian",is:"Icelandic",id:"Indonesian",iu:"Inuktitut",ga:"Irish",it:"Italian (Standard)","it-CH":"Italian (Switzerland)",ja:"Japanese",kn:"Kannada",ks:"Kashmiri",kk:"Kazakh",km:"Khmer",ky:"Kirghiz",tlh:"Klingon",ko:"Korean","ko-KP":"Korean (North Korea)","ko-KR":"Korean (South Korea)",la:"Latin",lv:"Latvian",lt:"Lithuanian",lb:"Luxembourgish",mk:"North Macedonia",ms:"Malay",ml:"Malayalam",mt:"Maltese",mi:"Maori",mr:"Marathi",mo:"Moldavian",nv:"Navajo",ng:"Ndonga",ne:"Nepali",no:"Norwegian",nb:"Norwegian (Bokmal)",nn:"Norwegian (Nynorsk)",oc:"Occitan",or:"Oriya",om:"Oromo",fa:"Persian","fa-IR":"Persian/Iran",pl:"Polish",pt:"Portuguese","pt-BR":"Portuguese (Brazil)",pa:"Punjabi","pa-IN":"Punjabi (India)","pa-PK":"Punjabi (Pakistan)",qu:"Quechua",rm:"Rhaeto-Romanic",ro:"Romanian","ro-MO":"Romanian (Moldavia)",ru:"Russian","ru-MO":"Russian (Moldavia)",sz:"Sami (Lappish)",sg:"Sango",sa:"Sanskrit",sc:"Sardinian",sd:"Sindhi",si:"Singhalese",sr:"Serbian",sk:"Slovak",sl:"Slovenian",so:"Somani",sb:"Sorbian",es:"Spanish","es-AR":"Spanish (Argentina)","es-BO":"Spanish (Bolivia)","es-CL":"Spanish (Chile)","es-CO":"Spanish (Colombia)","es-CR":"Spanish (Costa Rica)","es-DO":"Spanish (Dominican Republic)","es-EC":"Spanish (Ecuador)","es-SV":"Spanish (El Salvador)","es-GT":"Spanish (Guatemala)","es-HN":"Spanish (Honduras)","es-MX":"Spanish (Mexico)","es-NI":"Spanish (Nicaragua)","es-PA":"Spanish (Panama)","es-PY":"Spanish (Paraguay)","es-PE":"Spanish (Peru)","es-PR":"Spanish (Puerto Rico)","es-ES":"Spanish (Spain)","es-UY":"Spanish (Uruguay)","es-VE":"Spanish (Venezuela)",sx:"Sutu",sw:"Swahili",sv:"Swedish","sv-FI":"Swedish (Finland)","sv-SV":"Swedish (Sweden)",ta:"Tamil",tt:"Tatar",te:"Teluga",th:"Thai",tig:"Tigre",ts:"Tsonga",tn:"Tswana",tr:"Turkish",tk:"Turkmen",uk:"Ukrainian",hsb:"Upper Sorbian",ur:"Urdu",ve:"Venda",vi:"Vietnamese",vo:"Volapuk",wa:"Walloon",cy:"Welsh",xh:"Xhosa",ji:"Yiddish",zu:"Zulu"}[t]!==void 0&&(this.internal.languageSettings.languageCode=t,this.internal.languageSettings.isSubscribed===!1&&(this.internal.events.subscribe("putCatalog",function(){this.internal.write("/Lang ("+this.internal.languageSettings.languageCode+")")}),this.internal.languageSettings.isSubscribed=!0)),this},Cu=it.API,ap=Cu.getCharWidthsArray=function(t,e){var n,r,i=(e=e||{}).font||this.internal.getFont(),s=e.fontSize||this.internal.getFontSize(),o=e.charSpace||this.internal.getCharSpace(),a=e.widths?e.widths:i.metadata.Unicode.widths,l=a.fof?a.fof:1,u=e.kerning?e.kerning:i.metadata.Unicode.kerning,c=u.fof?u.fof:1,d=e.doKerning!==!1,g=0,p=t.length,b=0,x=a[0]||l,A=[];for(n=0;n<p;n++)r=t.charCodeAt(n),typeof i.metadata.widthOfString=="function"?A.push((i.metadata.widthOfGlyph(i.metadata.characterToGlyph(r))+o*(1e3/s)||0)/1e3):(g=d&&an(u[r])==="object"&&!isNaN(parseInt(u[r][b],10))?u[r][b]/c:0,A.push((a[r]||x)/l+g)),b=r;return A},i_=Cu.getStringUnitWidth=function(t,e){var n=(e=e||{}).fontSize||this.internal.getFontSize(),r=e.font||this.internal.getFont(),i=e.charSpace||this.internal.getCharSpace();return Cu.processArabic&&(t=Cu.processArabic(t)),typeof r.metadata.widthOfString=="function"?r.metadata.widthOfString(t,n,i)/n:ap.apply(this,arguments).reduce(function(s,o){return s+o},0)},s_=function(t,e,n,r){for(var i=[],s=0,o=t.length,a=0;s!==o&&a+e[s]<n;)a+=e[s],s++;i.push(t.slice(0,s));var l=s;for(a=0;s!==o;)a+e[s]>r&&(i.push(t.slice(l,s)),a=0,l=s),a+=e[s],s++;return l!==s&&i.push(t.slice(l,s)),i},o_=function(t,e,n){n||(n={});var r,i,s,o,a,l,u,c=[],d=[c],g=n.textIndent||0,p=0,b=0,x=t.split(" "),A=ap.apply(this,[" ",n])[0];if(l=n.lineIndent===-1?x[0].length+2:n.lineIndent||0){var v=Array(l).join(" "),_=[];x.map(function(R){(R=R.split(/\s*\n/)).length>1?_=_.concat(R.map(function(z,K){return(K&&z.length?`
`:"")+z})):_.push(R[0])}),x=_,l=i_.apply(this,[v,n])}for(s=0,o=x.length;s<o;s++){var T=0;if(r=x[s],l&&r[0]==`
`&&(r=r.substr(1),T=1),g+p+(b=(i=ap.apply(this,[r,n])).reduce(function(R,z){return R+z},0))>e||T){if(b>e){for(a=s_.apply(this,[r,i,e-(g+p),e]),c.push(a.shift()),c=[a.pop()];a.length;)d.push([a.shift()]);b=i.slice(r.length-(c[0]?c[0].length:0)).reduce(function(R,z){return R+z},0)}else c=[r];d.push(c),g=b+l,p=A}else c.push(r),g+=p+b,p=A}return u=l?function(R,z){return(z?v:"")+R.join(" ")}:function(R){return R.join(" ")},d.map(u)},Cu.splitTextToSize=function(t,e,n){var r,i=(n=n||{}).fontSize||this.internal.getFontSize(),s=(function(c){if(c.widths&&c.kerning)return{widths:c.widths,kerning:c.kerning};var d=this.internal.getFont(c.fontName,c.fontStyle),g="Unicode";return d.metadata[g]?{widths:d.metadata[g].widths||{0:1},kerning:d.metadata[g].kerning||{}}:{font:d.metadata,fontSize:this.internal.getFontSize(),charSpace:this.internal.getCharSpace()}}).call(this,n);r=Array.isArray(t)?t:String(t).split(/\r?\n/);var o=1*this.internal.scaleFactor*e/i;s.textIndent=n.textIndent?1*n.textIndent*this.internal.scaleFactor/i:0,s.lineIndent=n.lineIndent;var a,l,u=[];for(a=0,l=r.length;a<l;a++)u=u.concat(o_.apply(this,[r[a],o,s]));return u},function(t){t.__fontmetrics__=t.__fontmetrics__||{};for(var e="0123456789abcdef",n="klmnopqrstuvwxyz",r={},i={},s=0;s<16;s++)r[n[s]]=e[s],i[e[s]]=n[s];var o=function(g){return"0x"+parseInt(g,10).toString(16)},a=t.__fontmetrics__.compress=function(g){var p,b,x,A,v=["{"];for(var _ in g){if(p=g[_],isNaN(parseInt(_,10))?b="'"+_+"'":(_=parseInt(_,10),b=(b=o(_).slice(2)).slice(0,-1)+i[b.slice(-1)]),typeof p=="number")p<0?(x=o(p).slice(3),A="-"):(x=o(p).slice(2),A=""),x=A+x.slice(0,-1)+i[x.slice(-1)];else{if(an(p)!=="object")throw new Error("Don't know what to do with value type "+an(p)+".");x=a(p)}v.push(b+x)}return v.push("}"),v.join("")},l=t.__fontmetrics__.uncompress=function(g){if(typeof g!="string")throw new Error("Invalid argument passed to uncompress.");for(var p,b,x,A,v={},_=1,T=v,R=[],z="",K="",k=g.length-1,C=1;C<k;C+=1)(A=g[C])=="'"?p?(x=p.join(""),p=void 0):p=[]:p?p.push(A):A=="{"?(R.push([T,x]),T={},x=void 0):A=="}"?((b=R.pop())[0][b[1]]=T,x=void 0,T=b[0]):A=="-"?_=-1:x===void 0?r.hasOwnProperty(A)?(z+=r[A],x=parseInt(z,16)*_,_=1,z=""):z+=A:r.hasOwnProperty(A)?(K+=r[A],T[x]=parseInt(K,16)*_,_=1,x=void 0,K=""):K+=A;return v},u={codePages:["WinAnsiEncoding"],WinAnsiEncoding:l("{19m8n201n9q201o9r201s9l201t9m201u8m201w9n201x9o201y8o202k8q202l8r202m9p202q8p20aw8k203k8t203t8v203u9v2cq8s212m9t15m8w15n9w2dw9s16k8u16l9u17s9z17x8y17y9y}")},c={Unicode:{Courier:u,"Courier-Bold":u,"Courier-BoldOblique":u,"Courier-Oblique":u,Helvetica:u,"Helvetica-Bold":u,"Helvetica-BoldOblique":u,"Helvetica-Oblique":u,"Times-Roman":u,"Times-Bold":u,"Times-BoldItalic":u,"Times-Italic":u}},d={Unicode:{"Courier-Oblique":l("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Times-BoldItalic":l("{'widths'{k3o2q4ycx2r201n3m201o6o201s2l201t2l201u2l201w3m201x3m201y3m2k1t2l2r202m2n2n3m2o3m2p5n202q6o2r1w2s2l2t2l2u3m2v3t2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v2l3w3t3x3t3y3t3z3m4k5n4l4m4m4m4n4m4o4s4p4m4q4m4r4s4s4y4t2r4u3m4v4m4w3x4x5t4y4s4z4s5k3x5l4s5m4m5n3r5o3x5p4s5q4m5r5t5s4m5t3x5u3x5v2l5w1w5x2l5y3t5z3m6k2l6l3m6m3m6n2w6o3m6p2w6q2l6r3m6s3r6t1w6u1w6v3m6w1w6x4y6y3r6z3m7k3m7l3m7m2r7n2r7o1w7p3r7q2w7r4m7s3m7t2w7u2r7v2n7w1q7x2n7y3t202l3mcl4mal2ram3man3mao3map3mar3mas2lat4uau1uav3maw3way4uaz2lbk2sbl3t'fof'6obo2lbp3tbq3mbr1tbs2lbu1ybv3mbz3mck4m202k3mcm4mcn4mco4mcp4mcq5ycr4mcs4mct4mcu4mcv4mcw2r2m3rcy2rcz2rdl4sdm4sdn4sdo4sdp4sdq4sds4sdt4sdu4sdv4sdw4sdz3mek3mel3mem3men3meo3mep3meq4ser2wes2wet2weu2wev2wew1wex1wey1wez1wfl3rfm3mfn3mfo3mfp3mfq3mfr3tfs3mft3rfu3rfv3rfw3rfz2w203k6o212m6o2dw2l2cq2l3t3m3u2l17s3x19m3m}'kerning'{cl{4qu5kt5qt5rs17ss5ts}201s{201ss}201t{cks4lscmscnscoscpscls2wu2yu201ts}201x{2wu2yu}2k{201ts}2w{4qx5kx5ou5qx5rs17su5tu}2x{17su5tu5ou}2y{4qx5kx5ou5qx5rs17ss5ts}'fof'-6ofn{17sw5tw5ou5qw5rs}7t{cksclscmscnscoscps4ls}3u{17su5tu5os5qs}3v{17su5tu5os5qs}7p{17su5tu}ck{4qu5kt5qt5rs17ss5ts}4l{4qu5kt5qt5rs17ss5ts}cm{4qu5kt5qt5rs17ss5ts}cn{4qu5kt5qt5rs17ss5ts}co{4qu5kt5qt5rs17ss5ts}cp{4qu5kt5qt5rs17ss5ts}6l{4qu5ou5qw5rt17su5tu}5q{ckuclucmucnucoucpu4lu}5r{ckuclucmucnucoucpu4lu}7q{cksclscmscnscoscps4ls}6p{4qu5ou5qw5rt17sw5tw}ek{4qu5ou5qw5rt17su5tu}el{4qu5ou5qw5rt17su5tu}em{4qu5ou5qw5rt17su5tu}en{4qu5ou5qw5rt17su5tu}eo{4qu5ou5qw5rt17su5tu}ep{4qu5ou5qw5rt17su5tu}es{17ss5ts5qs4qu}et{4qu5ou5qw5rt17sw5tw}eu{4qu5ou5qw5rt17ss5ts}ev{17ss5ts5qs4qu}6z{17sw5tw5ou5qw5rs}fm{17sw5tw5ou5qw5rs}7n{201ts}fo{17sw5tw5ou5qw5rs}fp{17sw5tw5ou5qw5rs}fq{17sw5tw5ou5qw5rs}7r{cksclscmscnscoscps4ls}fs{17sw5tw5ou5qw5rs}ft{17su5tu}fu{17su5tu}fv{17su5tu}fw{17su5tu}fz{cksclscmscnscoscps4ls}}}"),"Helvetica-Bold":l("{'widths'{k3s2q4scx1w201n3r201o6o201s1w201t1w201u1w201w3m201x3m201y3m2k1w2l2l202m2n2n3r2o3r2p5t202q6o2r1s2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v2l3w3u3x3u3y3u3z3x4k6l4l4s4m4s4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3r4v4s4w3x4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v2l5w1w5x2l5y3u5z3r6k2l6l3r6m3x6n3r6o3x6p3r6q2l6r3x6s3x6t1w6u1w6v3r6w1w6x5t6y3x6z3x7k3x7l3x7m2r7n3r7o2l7p3x7q3r7r4y7s3r7t3r7u3m7v2r7w1w7x2r7y3u202l3rcl4sal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3xbq3rbr1wbs2lbu2obv3rbz3xck4s202k3rcm4scn4sco4scp4scq6ocr4scs4mct4mcu4mcv4mcw1w2m2zcy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3res3ret3reu3rev3rew1wex1wey1wez1wfl3xfm3xfn3xfo3xfp3xfq3xfr3ufs3xft3xfu3xfv3xfw3xfz3r203k6o212m6o2dw2l2cq2l3t3r3u2l17s4m19m3r}'kerning'{cl{4qs5ku5ot5qs17sv5tv}201t{2ww4wy2yw}201w{2ks}201x{2ww4wy2yw}2k{201ts201xs}2w{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}2x{5ow5qs}2y{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}'fof'-6o7p{17su5tu5ot}ck{4qs5ku5ot5qs17sv5tv}4l{4qs5ku5ot5qs17sv5tv}cm{4qs5ku5ot5qs17sv5tv}cn{4qs5ku5ot5qs17sv5tv}co{4qs5ku5ot5qs17sv5tv}cp{4qs5ku5ot5qs17sv5tv}6l{17st5tt5os}17s{2kwclvcmvcnvcovcpv4lv4wwckv}5o{2kucltcmtcntcotcpt4lt4wtckt}5q{2ksclscmscnscoscps4ls4wvcks}5r{2ks4ws}5t{2kwclvcmvcnvcovcpv4lv4wwckv}eo{17st5tt5os}fu{17su5tu5ot}6p{17ss5ts}ek{17st5tt5os}el{17st5tt5os}em{17st5tt5os}en{17st5tt5os}6o{201ts}ep{17st5tt5os}es{17ss5ts}et{17ss5ts}eu{17ss5ts}ev{17ss5ts}6z{17su5tu5os5qt}fm{17su5tu5os5qt}fn{17su5tu5os5qt}fo{17su5tu5os5qt}fp{17su5tu5os5qt}fq{17su5tu5os5qt}fs{17su5tu5os5qt}ft{17su5tu5ot}7m{5os}fv{17su5tu5ot}fw{17su5tu5ot}}}"),Courier:l("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Courier-BoldOblique":l("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Times-Bold":l("{'widths'{k3q2q5ncx2r201n3m201o6o201s2l201t2l201u2l201w3m201x3m201y3m2k1t2l2l202m2n2n3m2o3m2p6o202q6o2r1w2s2l2t2l2u3m2v3t2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v2l3w3t3x3t3y3t3z3m4k5x4l4s4m4m4n4s4o4s4p4m4q3x4r4y4s4y4t2r4u3m4v4y4w4m4x5y4y4s4z4y5k3x5l4y5m4s5n3r5o4m5p4s5q4s5r6o5s4s5t4s5u4m5v2l5w1w5x2l5y3u5z3m6k2l6l3m6m3r6n2w6o3r6p2w6q2l6r3m6s3r6t1w6u2l6v3r6w1w6x5n6y3r6z3m7k3r7l3r7m2w7n2r7o2l7p3r7q3m7r4s7s3m7t3m7u2w7v2r7w1q7x2r7y3o202l3mcl4sal2lam3man3mao3map3mar3mas2lat4uau1yav3maw3tay4uaz2lbk2sbl3t'fof'6obo2lbp3rbr1tbs2lbu2lbv3mbz3mck4s202k3mcm4scn4sco4scp4scq6ocr4scs4mct4mcu4mcv4mcw2r2m3rcy2rcz2rdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3rek3mel3mem3men3meo3mep3meq4ser2wes2wet2weu2wev2wew1wex1wey1wez1wfl3rfm3mfn3mfo3mfp3mfq3mfr3tfs3mft3rfu3rfv3rfw3rfz3m203k6o212m6o2dw2l2cq2l3t3m3u2l17s4s19m3m}'kerning'{cl{4qt5ks5ot5qy5rw17sv5tv}201t{cks4lscmscnscoscpscls4wv}2k{201ts}2w{4qu5ku7mu5os5qx5ru17su5tu}2x{17su5tu5ou5qs}2y{4qv5kv7mu5ot5qz5ru17su5tu}'fof'-6o7t{cksclscmscnscoscps4ls}3u{17su5tu5os5qu}3v{17su5tu5os5qu}fu{17su5tu5ou5qu}7p{17su5tu5ou5qu}ck{4qt5ks5ot5qy5rw17sv5tv}4l{4qt5ks5ot5qy5rw17sv5tv}cm{4qt5ks5ot5qy5rw17sv5tv}cn{4qt5ks5ot5qy5rw17sv5tv}co{4qt5ks5ot5qy5rw17sv5tv}cp{4qt5ks5ot5qy5rw17sv5tv}6l{17st5tt5ou5qu}17s{ckuclucmucnucoucpu4lu4wu}5o{ckuclucmucnucoucpu4lu4wu}5q{ckzclzcmzcnzcozcpz4lz4wu}5r{ckxclxcmxcnxcoxcpx4lx4wu}5t{ckuclucmucnucoucpu4lu4wu}7q{ckuclucmucnucoucpu4lu}6p{17sw5tw5ou5qu}ek{17st5tt5qu}el{17st5tt5ou5qu}em{17st5tt5qu}en{17st5tt5qu}eo{17st5tt5qu}ep{17st5tt5ou5qu}es{17ss5ts5qu}et{17sw5tw5ou5qu}eu{17sw5tw5ou5qu}ev{17ss5ts5qu}6z{17sw5tw5ou5qu5rs}fm{17sw5tw5ou5qu5rs}fn{17sw5tw5ou5qu5rs}fo{17sw5tw5ou5qu5rs}fp{17sw5tw5ou5qu5rs}fq{17sw5tw5ou5qu5rs}7r{cktcltcmtcntcotcpt4lt5os}fs{17sw5tw5ou5qu5rs}ft{17su5tu5ou5qu}7m{5os}fv{17su5tu5ou5qu}fw{17su5tu5ou5qu}fz{cksclscmscnscoscps4ls}}}"),Symbol:l("{'widths'{k3uaw4r19m3m2k1t2l2l202m2y2n3m2p5n202q6o3k3m2s2l2t2l2v3r2w1t3m3m2y1t2z1wbk2sbl3r'fof'6o3n3m3o3m3p3m3q3m3r3m3s3m3t3m3u1w3v1w3w3r3x3r3y3r3z2wbp3t3l3m5v2l5x2l5z3m2q4yfr3r7v3k7w1o7x3k}'kerning'{'fof'-6o}}"),Helvetica:l("{'widths'{k3p2q4mcx1w201n3r201o6o201s1q201t1q201u1q201w2l201x2l201y2l2k1w2l1w202m2n2n3r2o3r2p5t202q6o2r1n2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v1w3w3u3x3u3y3u3z3r4k6p4l4m4m4m4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3m4v4m4w3r4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v1w5w1w5x1w5y2z5z3r6k2l6l3r6m3r6n3m6o3r6p3r6q1w6r3r6s3r6t1q6u1q6v3m6w1q6x5n6y3r6z3r7k3r7l3r7m2l7n3m7o1w7p3r7q3m7r4s7s3m7t3m7u3m7v2l7w1u7x2l7y3u202l3rcl4mal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3rbr1wbs2lbu2obv3rbz3xck4m202k3rcm4mcn4mco4mcp4mcq6ocr4scs4mct4mcu4mcv4mcw1w2m2ncy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3mes3ret3reu3rev3rew1wex1wey1wez1wfl3rfm3rfn3rfo3rfp3rfq3rfr3ufs3xft3rfu3rfv3rfw3rfz3m203k6o212m6o2dw2l2cq2l3t3r3u1w17s4m19m3r}'kerning'{5q{4wv}cl{4qs5kw5ow5qs17sv5tv}201t{2wu4w1k2yu}201x{2wu4wy2yu}17s{2ktclucmucnu4otcpu4lu4wycoucku}2w{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}2x{17sy5ty5oy5qs}2y{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}'fof'-6o7p{17sv5tv5ow}ck{4qs5kw5ow5qs17sv5tv}4l{4qs5kw5ow5qs17sv5tv}cm{4qs5kw5ow5qs17sv5tv}cn{4qs5kw5ow5qs17sv5tv}co{4qs5kw5ow5qs17sv5tv}cp{4qs5kw5ow5qs17sv5tv}6l{17sy5ty5ow}do{17st5tt}4z{17st5tt}7s{fst}dm{17st5tt}dn{17st5tt}5o{ckwclwcmwcnwcowcpw4lw4wv}dp{17st5tt}dq{17st5tt}7t{5ow}ds{17st5tt}5t{2ktclucmucnu4otcpu4lu4wycoucku}fu{17sv5tv5ow}6p{17sy5ty5ow5qs}ek{17sy5ty5ow}el{17sy5ty5ow}em{17sy5ty5ow}en{5ty}eo{17sy5ty5ow}ep{17sy5ty5ow}es{17sy5ty5qs}et{17sy5ty5ow5qs}eu{17sy5ty5ow5qs}ev{17sy5ty5ow5qs}6z{17sy5ty5ow5qs}fm{17sy5ty5ow5qs}fn{17sy5ty5ow5qs}fo{17sy5ty5ow5qs}fp{17sy5ty5qs}fq{17sy5ty5ow5qs}7r{5ow}fs{17sy5ty5ow5qs}ft{17sv5tv5ow}7m{5ow}fv{17sv5tv5ow}fw{17sv5tv5ow}}}"),"Helvetica-BoldOblique":l("{'widths'{k3s2q4scx1w201n3r201o6o201s1w201t1w201u1w201w3m201x3m201y3m2k1w2l2l202m2n2n3r2o3r2p5t202q6o2r1s2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v2l3w3u3x3u3y3u3z3x4k6l4l4s4m4s4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3r4v4s4w3x4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v2l5w1w5x2l5y3u5z3r6k2l6l3r6m3x6n3r6o3x6p3r6q2l6r3x6s3x6t1w6u1w6v3r6w1w6x5t6y3x6z3x7k3x7l3x7m2r7n3r7o2l7p3x7q3r7r4y7s3r7t3r7u3m7v2r7w1w7x2r7y3u202l3rcl4sal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3xbq3rbr1wbs2lbu2obv3rbz3xck4s202k3rcm4scn4sco4scp4scq6ocr4scs4mct4mcu4mcv4mcw1w2m2zcy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3res3ret3reu3rev3rew1wex1wey1wez1wfl3xfm3xfn3xfo3xfp3xfq3xfr3ufs3xft3xfu3xfv3xfw3xfz3r203k6o212m6o2dw2l2cq2l3t3r3u2l17s4m19m3r}'kerning'{cl{4qs5ku5ot5qs17sv5tv}201t{2ww4wy2yw}201w{2ks}201x{2ww4wy2yw}2k{201ts201xs}2w{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}2x{5ow5qs}2y{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}'fof'-6o7p{17su5tu5ot}ck{4qs5ku5ot5qs17sv5tv}4l{4qs5ku5ot5qs17sv5tv}cm{4qs5ku5ot5qs17sv5tv}cn{4qs5ku5ot5qs17sv5tv}co{4qs5ku5ot5qs17sv5tv}cp{4qs5ku5ot5qs17sv5tv}6l{17st5tt5os}17s{2kwclvcmvcnvcovcpv4lv4wwckv}5o{2kucltcmtcntcotcpt4lt4wtckt}5q{2ksclscmscnscoscps4ls4wvcks}5r{2ks4ws}5t{2kwclvcmvcnvcovcpv4lv4wwckv}eo{17st5tt5os}fu{17su5tu5ot}6p{17ss5ts}ek{17st5tt5os}el{17st5tt5os}em{17st5tt5os}en{17st5tt5os}6o{201ts}ep{17st5tt5os}es{17ss5ts}et{17ss5ts}eu{17ss5ts}ev{17ss5ts}6z{17su5tu5os5qt}fm{17su5tu5os5qt}fn{17su5tu5os5qt}fo{17su5tu5os5qt}fp{17su5tu5os5qt}fq{17su5tu5os5qt}fs{17su5tu5os5qt}ft{17su5tu5ot}7m{5os}fv{17su5tu5ot}fw{17su5tu5ot}}}"),ZapfDingbats:l("{'widths'{k4u2k1w'fof'6o}'kerning'{'fof'-6o}}"),"Courier-Bold":l("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Times-Italic":l("{'widths'{k3n2q4ycx2l201n3m201o5t201s2l201t2l201u2l201w3r201x3r201y3r2k1t2l2l202m2n2n3m2o3m2p5n202q5t2r1p2s2l2t2l2u3m2v4n2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v2l3w4n3x4n3y4n3z3m4k5w4l3x4m3x4n4m4o4s4p3x4q3x4r4s4s4s4t2l4u2w4v4m4w3r4x5n4y4m4z4s5k3x5l4s5m3x5n3m5o3r5p4s5q3x5r5n5s3x5t3r5u3r5v2r5w1w5x2r5y2u5z3m6k2l6l3m6m3m6n2w6o3m6p2w6q1w6r3m6s3m6t1w6u1w6v2w6w1w6x4s6y3m6z3m7k3m7l3m7m2r7n2r7o1w7p3m7q2w7r4m7s2w7t2w7u2r7v2s7w1v7x2s7y3q202l3mcl3xal2ram3man3mao3map3mar3mas2lat4wau1vav3maw4nay4waz2lbk2sbl4n'fof'6obo2lbp3mbq3obr1tbs2lbu1zbv3mbz3mck3x202k3mcm3xcn3xco3xcp3xcq5tcr4mcs3xct3xcu3xcv3xcw2l2m2ucy2lcz2ldl4mdm4sdn4sdo4sdp4sdq4sds4sdt4sdu4sdv4sdw4sdz3mek3mel3mem3men3meo3mep3meq4mer2wes2wet2weu2wev2wew1wex1wey1wez1wfl3mfm3mfn3mfo3mfp3mfq3mfr4nfs3mft3mfu3mfv3mfw3mfz2w203k6o212m6m2dw2l2cq2l3t3m3u2l17s3r19m3m}'kerning'{cl{5kt4qw}201s{201sw}201t{201tw2wy2yy6q-t}201x{2wy2yy}2k{201tw}2w{7qs4qy7rs5ky7mw5os5qx5ru17su5tu}2x{17ss5ts5os}2y{7qs4qy7rs5ky7mw5os5qx5ru17su5tu}'fof'-6o6t{17ss5ts5qs}7t{5os}3v{5qs}7p{17su5tu5qs}ck{5kt4qw}4l{5kt4qw}cm{5kt4qw}cn{5kt4qw}co{5kt4qw}cp{5kt4qw}6l{4qs5ks5ou5qw5ru17su5tu}17s{2ks}5q{ckvclvcmvcnvcovcpv4lv}5r{ckuclucmucnucoucpu4lu}5t{2ks}6p{4qs5ks5ou5qw5ru17su5tu}ek{4qs5ks5ou5qw5ru17su5tu}el{4qs5ks5ou5qw5ru17su5tu}em{4qs5ks5ou5qw5ru17su5tu}en{4qs5ks5ou5qw5ru17su5tu}eo{4qs5ks5ou5qw5ru17su5tu}ep{4qs5ks5ou5qw5ru17su5tu}es{5ks5qs4qs}et{4qs5ks5ou5qw5ru17su5tu}eu{4qs5ks5qw5ru17su5tu}ev{5ks5qs4qs}ex{17ss5ts5qs}6z{4qv5ks5ou5qw5ru17su5tu}fm{4qv5ks5ou5qw5ru17su5tu}fn{4qv5ks5ou5qw5ru17su5tu}fo{4qv5ks5ou5qw5ru17su5tu}fp{4qv5ks5ou5qw5ru17su5tu}fq{4qv5ks5ou5qw5ru17su5tu}7r{5os}fs{4qv5ks5ou5qw5ru17su5tu}ft{17su5tu5qs}fu{17su5tu5qs}fv{17su5tu5qs}fw{17su5tu5qs}}}"),"Times-Roman":l("{'widths'{k3n2q4ycx2l201n3m201o6o201s2l201t2l201u2l201w2w201x2w201y2w2k1t2l2l202m2n2n3m2o3m2p5n202q6o2r1m2s2l2t2l2u3m2v3s2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v1w3w3s3x3s3y3s3z2w4k5w4l4s4m4m4n4m4o4s4p3x4q3r4r4s4s4s4t2l4u2r4v4s4w3x4x5t4y4s4z4s5k3r5l4s5m4m5n3r5o3x5p4s5q4s5r5y5s4s5t4s5u3x5v2l5w1w5x2l5y2z5z3m6k2l6l2w6m3m6n2w6o3m6p2w6q2l6r3m6s3m6t1w6u1w6v3m6w1w6x4y6y3m6z3m7k3m7l3m7m2l7n2r7o1w7p3m7q3m7r4s7s3m7t3m7u2w7v3k7w1o7x3k7y3q202l3mcl4sal2lam3man3mao3map3mar3mas2lat4wau1vav3maw3say4waz2lbk2sbl3s'fof'6obo2lbp3mbq2xbr1tbs2lbu1zbv3mbz2wck4s202k3mcm4scn4sco4scp4scq5tcr4mcs3xct3xcu3xcv3xcw2l2m2tcy2lcz2ldl4sdm4sdn4sdo4sdp4sdq4sds4sdt4sdu4sdv4sdw4sdz3mek2wel2wem2wen2weo2wep2weq4mer2wes2wet2weu2wev2wew1wex1wey1wez1wfl3mfm3mfn3mfo3mfp3mfq3mfr3sfs3mft3mfu3mfv3mfw3mfz3m203k6o212m6m2dw2l2cq2l3t3m3u1w17s4s19m3m}'kerning'{cl{4qs5ku17sw5ou5qy5rw201ss5tw201ws}201s{201ss}201t{ckw4lwcmwcnwcowcpwclw4wu201ts}2k{201ts}2w{4qs5kw5os5qx5ru17sx5tx}2x{17sw5tw5ou5qu}2y{4qs5kw5os5qx5ru17sx5tx}'fof'-6o7t{ckuclucmucnucoucpu4lu5os5rs}3u{17su5tu5qs}3v{17su5tu5qs}7p{17sw5tw5qs}ck{4qs5ku17sw5ou5qy5rw201ss5tw201ws}4l{4qs5ku17sw5ou5qy5rw201ss5tw201ws}cm{4qs5ku17sw5ou5qy5rw201ss5tw201ws}cn{4qs5ku17sw5ou5qy5rw201ss5tw201ws}co{4qs5ku17sw5ou5qy5rw201ss5tw201ws}cp{4qs5ku17sw5ou5qy5rw201ss5tw201ws}6l{17su5tu5os5qw5rs}17s{2ktclvcmvcnvcovcpv4lv4wuckv}5o{ckwclwcmwcnwcowcpw4lw4wu}5q{ckyclycmycnycoycpy4ly4wu5ms}5r{cktcltcmtcntcotcpt4lt4ws}5t{2ktclvcmvcnvcovcpv4lv4wuckv}7q{cksclscmscnscoscps4ls}6p{17su5tu5qw5rs}ek{5qs5rs}el{17su5tu5os5qw5rs}em{17su5tu5os5qs5rs}en{17su5qs5rs}eo{5qs5rs}ep{17su5tu5os5qw5rs}es{5qs}et{17su5tu5qw5rs}eu{17su5tu5qs5rs}ev{5qs}6z{17sv5tv5os5qx5rs}fm{5os5qt5rs}fn{17sv5tv5os5qx5rs}fo{17sv5tv5os5qx5rs}fp{5os5qt5rs}fq{5os5qt5rs}7r{ckuclucmucnucoucpu4lu5os}fs{17sv5tv5os5qx5rs}ft{17ss5ts5qs}fu{17sw5tw5qs}fv{17sw5tw5qs}fw{17ss5ts5qs}fz{ckuclucmucnucoucpu4lu5os5rs}}}"),"Helvetica-Oblique":l("{'widths'{k3p2q4mcx1w201n3r201o6o201s1q201t1q201u1q201w2l201x2l201y2l2k1w2l1w202m2n2n3r2o3r2p5t202q6o2r1n2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v1w3w3u3x3u3y3u3z3r4k6p4l4m4m4m4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3m4v4m4w3r4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v1w5w1w5x1w5y2z5z3r6k2l6l3r6m3r6n3m6o3r6p3r6q1w6r3r6s3r6t1q6u1q6v3m6w1q6x5n6y3r6z3r7k3r7l3r7m2l7n3m7o1w7p3r7q3m7r4s7s3m7t3m7u3m7v2l7w1u7x2l7y3u202l3rcl4mal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3rbr1wbs2lbu2obv3rbz3xck4m202k3rcm4mcn4mco4mcp4mcq6ocr4scs4mct4mcu4mcv4mcw1w2m2ncy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3mes3ret3reu3rev3rew1wex1wey1wez1wfl3rfm3rfn3rfo3rfp3rfq3rfr3ufs3xft3rfu3rfv3rfw3rfz3m203k6o212m6o2dw2l2cq2l3t3r3u1w17s4m19m3r}'kerning'{5q{4wv}cl{4qs5kw5ow5qs17sv5tv}201t{2wu4w1k2yu}201x{2wu4wy2yu}17s{2ktclucmucnu4otcpu4lu4wycoucku}2w{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}2x{17sy5ty5oy5qs}2y{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}'fof'-6o7p{17sv5tv5ow}ck{4qs5kw5ow5qs17sv5tv}4l{4qs5kw5ow5qs17sv5tv}cm{4qs5kw5ow5qs17sv5tv}cn{4qs5kw5ow5qs17sv5tv}co{4qs5kw5ow5qs17sv5tv}cp{4qs5kw5ow5qs17sv5tv}6l{17sy5ty5ow}do{17st5tt}4z{17st5tt}7s{fst}dm{17st5tt}dn{17st5tt}5o{ckwclwcmwcnwcowcpw4lw4wv}dp{17st5tt}dq{17st5tt}7t{5ow}ds{17st5tt}5t{2ktclucmucnu4otcpu4lu4wycoucku}fu{17sv5tv5ow}6p{17sy5ty5ow5qs}ek{17sy5ty5ow}el{17sy5ty5ow}em{17sy5ty5ow}en{5ty}eo{17sy5ty5ow}ep{17sy5ty5ow}es{17sy5ty5qs}et{17sy5ty5ow5qs}eu{17sy5ty5ow5qs}ev{17sy5ty5ow5qs}6z{17sy5ty5ow5qs}fm{17sy5ty5ow5qs}fn{17sy5ty5ow5qs}fo{17sy5ty5ow5qs}fp{17sy5ty5qs}fq{17sy5ty5ow5qs}7r{5ow}fs{17sy5ty5ow5qs}ft{17sv5tv5ow}7m{5ow}fv{17sv5tv5ow}fw{17sv5tv5ow}}}")}};t.events.push(["addFont",function(g){var p=g.font,b=d.Unicode[p.postScriptName];b&&(p.metadata.Unicode={},p.metadata.Unicode.widths=b.widths,p.metadata.Unicode.kerning=b.kerning);var x=c.Unicode[p.postScriptName];x&&(p.metadata.Unicode.encoding=x,p.encoding=x.codePages[0])}])}(it.API),function(t){var e=function(n){for(var r=n.length,i=new Uint8Array(r),s=0;s<r;s++)i[s]=n.charCodeAt(s);return i};t.API.events.push(["addFont",function(n){var r=void 0,i=n.font,s=n.instance;if(!i.isStandardFont){if(s===void 0)throw new Error("Font does not exist in vFS, import fonts or remove declaration doc.addFont('"+i.postScriptName+"').");if(typeof(r=s.existsFileInVFS(i.postScriptName)===!1?s.loadFile(i.postScriptName):s.getFileFromVFS(i.postScriptName))!="string")throw new Error("Font is not stored as string-data in vFS, import fonts or remove declaration doc.addFont('"+i.postScriptName+"').");(function(o,a){a=/^\x00\x01\x00\x00/.test(a)?e(a):e(Pp(a)),o.metadata=t.API.TTFFont.open(a),o.metadata.Unicode=o.metadata.Unicode||{encoding:{},kerning:{},widths:[]},o.metadata.glyIdsUsed=[0]})(i,r)}}])}(it),it.API.addSvgAsImage=function(t,e,n,r,i,s,o,a){if(isNaN(e)||isNaN(n))throw dn.error("jsPDF.addSvgAsImage: Invalid coordinates",arguments),new Error("Invalid coordinates passed to jsPDF.addSvgAsImage");if(isNaN(r)||isNaN(i))throw dn.error("jsPDF.addSvgAsImage: Invalid measurements",arguments),new Error("Invalid measurements (width and/or height) passed to jsPDF.addSvgAsImage");var l=document.createElement("canvas");l.width=r,l.height=i;var u=l.getContext("2d");u.fillStyle="#fff",u.fillRect(0,0,l.width,l.height);var c={ignoreMouse:!0,ignoreAnimation:!0,ignoreDimensions:!0},d=this;return(vt.canvg?Promise.resolve(vt.canvg):R1(()=>import("./index.es-B3aAFG1H.js"),[])).catch(function(g){return Promise.reject(new Error("Could not load canvg: "+g))}).then(function(g){return g.default?g.default:g}).then(function(g){return g.fromString(u,t,c)},function(){return Promise.reject(new Error("Could not load canvg."))}).then(function(g){return g.render(c)}).then(function(){d.addImage(l.toDataURL("image/jpeg",1),e,n,r,i,o,a)})},it.API.putTotalPages=function(t){var e,n=0;parseInt(this.internal.getFont().id.substr(1),10)<15?(e=new RegExp(t,"g"),n=this.internal.getNumberOfPages()):(e=new RegExp(this.pdfEscape16(t,this.internal.getFont()),"g"),n=this.pdfEscape16(this.internal.getNumberOfPages()+"",this.internal.getFont()));for(var r=1;r<=this.internal.getNumberOfPages();r++)for(var i=0;i<this.internal.pages[r].length;i++)this.internal.pages[r][i]=this.internal.pages[r][i].replace(e,n);return this},it.API.viewerPreferences=function(t,e){var n;t=t||{},e=e||!1;var r,i,s,o={HideToolbar:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},HideMenubar:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},HideWindowUI:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},FitWindow:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},CenterWindow:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},DisplayDocTitle:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.4},NonFullScreenPageMode:{defaultValue:"UseNone",value:"UseNone",type:"name",explicitSet:!1,valueSet:["UseNone","UseOutlines","UseThumbs","UseOC"],pdfVersion:1.3},Direction:{defaultValue:"L2R",value:"L2R",type:"name",explicitSet:!1,valueSet:["L2R","R2L"],pdfVersion:1.3},ViewArea:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},ViewClip:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},PrintArea:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},PrintClip:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},PrintScaling:{defaultValue:"AppDefault",value:"AppDefault",type:"name",explicitSet:!1,valueSet:["AppDefault","None"],pdfVersion:1.6},Duplex:{defaultValue:"",value:"none",type:"name",explicitSet:!1,valueSet:["Simplex","DuplexFlipShortEdge","DuplexFlipLongEdge","none"],pdfVersion:1.7},PickTrayByPDFSize:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.7},PrintPageRange:{defaultValue:"",value:"",type:"array",explicitSet:!1,valueSet:null,pdfVersion:1.7},NumCopies:{defaultValue:1,value:1,type:"integer",explicitSet:!1,valueSet:null,pdfVersion:1.7}},a=Object.keys(o),l=[],u=0,c=0,d=0;function g(b,x){var A,v=!1;for(A=0;A<b.length;A+=1)b[A]===x&&(v=!0);return v}if(this.internal.viewerpreferences===void 0&&(this.internal.viewerpreferences={},this.internal.viewerpreferences.configuration=JSON.parse(JSON.stringify(o)),this.internal.viewerpreferences.isSubscribed=!1),n=this.internal.viewerpreferences.configuration,t==="reset"||e===!0){var p=a.length;for(d=0;d<p;d+=1)n[a[d]].value=n[a[d]].defaultValue,n[a[d]].explicitSet=!1}if(an(t)==="object"){for(i in t)if(s=t[i],g(a,i)&&s!==void 0){if(n[i].type==="boolean"&&typeof s=="boolean")n[i].value=s;else if(n[i].type==="name"&&g(n[i].valueSet,s))n[i].value=s;else if(n[i].type==="integer"&&Number.isInteger(s))n[i].value=s;else if(n[i].type==="array"){for(u=0;u<s.length;u+=1)if(r=!0,s[u].length===1&&typeof s[u][0]=="number")l.push(String(s[u]-1));else if(s[u].length>1){for(c=0;c<s[u].length;c+=1)typeof s[u][c]!="number"&&(r=!1);r===!0&&l.push([s[u][0]-1,s[u][1]-1].join(" "))}n[i].value="["+l.join(" ")+"]"}else n[i].value=n[i].defaultValue;n[i].explicitSet=!0}}return this.internal.viewerpreferences.isSubscribed===!1&&(this.internal.events.subscribe("putCatalog",function(){var b,x=[];for(b in n)n[b].explicitSet===!0&&(n[b].type==="name"?x.push("/"+b+" /"+n[b].value):x.push("/"+b+" "+n[b].value));x.length!==0&&this.internal.write(`/ViewerPreferences
<<
`+x.join(`
`)+`
>>`)}),this.internal.viewerpreferences.isSubscribed=!0),this.internal.viewerpreferences.configuration=n,this},function(t){var e=function(){var r='<rdf:RDF xmlns:rdf="http://www.w3.org/1999/02/22-rdf-syntax-ns#"><rdf:Description rdf:about="" xmlns:jspdf="'+this.internal.__metadata__.namespaceuri+'"><jspdf:metadata>',i=unescape(encodeURIComponent('<x:xmpmeta xmlns:x="adobe:ns:meta/">')),s=unescape(encodeURIComponent(r)),o=unescape(encodeURIComponent(this.internal.__metadata__.metadata)),a=unescape(encodeURIComponent("</jspdf:metadata></rdf:Description></rdf:RDF>")),l=unescape(encodeURIComponent("</x:xmpmeta>")),u=s.length+o.length+a.length+i.length+l.length;this.internal.__metadata__.metadata_object_number=this.internal.newObject(),this.internal.write("<< /Type /Metadata /Subtype /XML /Length "+u+" >>"),this.internal.write("stream"),this.internal.write(i+s+o+a+l),this.internal.write("endstream"),this.internal.write("endobj")},n=function(){this.internal.__metadata__.metadata_object_number&&this.internal.write("/Metadata "+this.internal.__metadata__.metadata_object_number+" 0 R")};t.addMetadata=function(r,i){return this.internal.__metadata__===void 0&&(this.internal.__metadata__={metadata:r,namespaceuri:i||"http://jspdf.default.namespaceuri/"},this.internal.events.subscribe("putCatalog",n),this.internal.events.subscribe("postPutResources",e)),this}}(it.API),function(t){var e=t.API,n=e.pdfEscape16=function(s,o){for(var a,l=o.metadata.Unicode.widths,u=["","0","00","000","0000"],c=[""],d=0,g=s.length;d<g;++d){if(a=o.metadata.characterToGlyph(s.charCodeAt(d)),o.metadata.glyIdsUsed.push(a),o.metadata.toUnicode[a]=s.charCodeAt(d),l.indexOf(a)==-1&&(l.push(a),l.push([parseInt(o.metadata.widthOfGlyph(a),10)])),a=="0")return c.join("");a=a.toString(16),c.push(u[4-a.length],a)}return c.join("")},r=function(s){var o,a,l,u,c,d,g;for(c=`/CIDInit /ProcSet findresource begin
12 dict begin
begincmap
/CIDSystemInfo <<
  /Registry (Adobe)
  /Ordering (UCS)
  /Supplement 0
>> def
/CMapName /Adobe-Identity-UCS def
/CMapType 2 def
1 begincodespacerange
<0000><ffff>
endcodespacerange`,l=[],d=0,g=(a=Object.keys(s).sort(function(p,b){return p-b})).length;d<g;d++)o=a[d],l.length>=100&&(c+=`
`+l.length+` beginbfchar
`+l.join(`
`)+`
endbfchar`,l=[]),s[o]!==void 0&&s[o]!==null&&typeof s[o].toString=="function"&&(u=("0000"+s[o].toString(16)).slice(-4),o=("0000"+(+o).toString(16)).slice(-4),l.push("<"+o+"><"+u+">"));return l.length&&(c+=`
`+l.length+` beginbfchar
`+l.join(`
`)+`
endbfchar
`),c+`endcmap
CMapName currentdict /CMap defineresource pop
end
end`};e.events.push(["putFont",function(s){(function(o){var a=o.font,l=o.out,u=o.newObject,c=o.putStream;if(a.metadata instanceof t.API.TTFFont&&a.encoding==="Identity-H"){for(var d=a.metadata.Unicode.widths,g=a.metadata.subset.encode(a.metadata.glyIdsUsed,1),p="",b=0;b<g.length;b++)p+=String.fromCharCode(g[b]);var x=u();c({data:p,addLength1:!0,objectId:x}),l("endobj");var A=u();c({data:r(a.metadata.toUnicode),addLength1:!0,objectId:A}),l("endobj");var v=u();l("<<"),l("/Type /FontDescriptor"),l("/FontName /"+Ru(a.fontName)),l("/FontFile2 "+x+" 0 R"),l("/FontBBox "+t.API.PDFObject.convert(a.metadata.bbox)),l("/Flags "+a.metadata.flags),l("/StemV "+a.metadata.stemV),l("/ItalicAngle "+a.metadata.italicAngle),l("/Ascent "+a.metadata.ascender),l("/Descent "+a.metadata.decender),l("/CapHeight "+a.metadata.capHeight),l(">>"),l("endobj");var _=u();l("<<"),l("/Type /Font"),l("/BaseFont /"+Ru(a.fontName)),l("/FontDescriptor "+v+" 0 R"),l("/W "+t.API.PDFObject.convert(d)),l("/CIDToGIDMap /Identity"),l("/DW 1000"),l("/Subtype /CIDFontType2"),l("/CIDSystemInfo"),l("<<"),l("/Supplement 0"),l("/Registry (Adobe)"),l("/Ordering ("+a.encoding+")"),l(">>"),l(">>"),l("endobj"),a.objectNumber=u(),l("<<"),l("/Type /Font"),l("/Subtype /Type0"),l("/ToUnicode "+A+" 0 R"),l("/BaseFont /"+Ru(a.fontName)),l("/Encoding /"+a.encoding),l("/DescendantFonts ["+_+" 0 R]"),l(">>"),l("endobj"),a.isAlreadyPutted=!0}})(s)}]),e.events.push(["putFont",function(s){(function(o){var a=o.font,l=o.out,u=o.newObject,c=o.putStream;if(a.metadata instanceof t.API.TTFFont&&a.encoding==="WinAnsiEncoding"){for(var d=a.metadata.rawData,g="",p=0;p<d.length;p++)g+=String.fromCharCode(d[p]);var b=u();c({data:g,addLength1:!0,objectId:b}),l("endobj");var x=u();c({data:r(a.metadata.toUnicode),addLength1:!0,objectId:x}),l("endobj");var A=u();l("<<"),l("/Descent "+a.metadata.decender),l("/CapHeight "+a.metadata.capHeight),l("/StemV "+a.metadata.stemV),l("/Type /FontDescriptor"),l("/FontFile2 "+b+" 0 R"),l("/Flags 96"),l("/FontBBox "+t.API.PDFObject.convert(a.metadata.bbox)),l("/FontName /"+Ru(a.fontName)),l("/ItalicAngle "+a.metadata.italicAngle),l("/Ascent "+a.metadata.ascender),l(">>"),l("endobj"),a.objectNumber=u();for(var v=0;v<a.metadata.hmtx.widths.length;v++)a.metadata.hmtx.widths[v]=parseInt(a.metadata.hmtx.widths[v]*(1e3/a.metadata.head.unitsPerEm));l("<</Subtype/TrueType/Type/Font/ToUnicode "+x+" 0 R/BaseFont/"+Ru(a.fontName)+"/FontDescriptor "+A+" 0 R/Encoding/"+a.encoding+" /FirstChar 29 /LastChar 255 /Widths "+t.API.PDFObject.convert(a.metadata.hmtx.widths)+">>"),l("endobj"),a.isAlreadyPutted=!0}})(s)}]);var i=function(s){var o,a=s.text||"",l=s.x,u=s.y,c=s.options||{},d=s.mutex||{},g=d.pdfEscape,p=d.activeFontKey,b=d.fonts,x=p,A="",v=0,_="",T=b[x].encoding;if(b[x].encoding!=="Identity-H")return{text:a,x:l,y:u,options:c,mutex:d};for(_=a,x=p,Array.isArray(a)&&(_=a[0]),v=0;v<_.length;v+=1)b[x].metadata.hasOwnProperty("cmap")&&(o=b[x].metadata.cmap.unicode.codeMap[_[v].charCodeAt(0)]),o||_[v].charCodeAt(0)<256&&b[x].metadata.hasOwnProperty("Unicode")?A+=_[v]:A+="";var R="";return parseInt(x.slice(1))<14||T==="WinAnsiEncoding"?R=g(A,x).split("").map(function(z){return z.charCodeAt(0).toString(16)}).join(""):T==="Identity-H"&&(R=n(A,b[x])),d.isHex=!0,{text:R,x:l,y:u,options:c,mutex:d}};e.events.push(["postProcessText",function(s){var o=s.text||"",a=[],l={text:o,x:s.x,y:s.y,options:s.options,mutex:s.mutex};if(Array.isArray(o)){var u=0;for(u=0;u<o.length;u+=1)Array.isArray(o[u])&&o[u].length===3?a.push([i(Object.assign({},l,{text:o[u][0]})).text,o[u][1],o[u][2]]):a.push(i(Object.assign({},l,{text:o[u]})).text);s.text=a}else s.text=i(Object.assign({},l,{text:o})).text}])}(it),function(t){var e=function(){return this.internal.vFS===void 0&&(this.internal.vFS={}),!0};t.existsFileInVFS=function(n){return e.call(this),this.internal.vFS[n]!==void 0},t.addFileToVFS=function(n,r){return e.call(this),this.internal.vFS[n]=r,this},t.getFileFromVFS=function(n){return e.call(this),this.internal.vFS[n]!==void 0?this.internal.vFS[n]:null}}(it.API),function(t){t.__bidiEngine__=t.prototype.__bidiEngine__=function(r){var i,s,o,a,l,u,c,d=e,g=[[0,3,0,1,0,0,0],[0,3,0,1,2,2,0],[0,3,0,17,2,0,1],[0,3,5,5,4,1,0],[0,3,21,21,4,0,1],[0,3,5,5,4,2,0]],p=[[2,0,1,1,0,1,0],[2,0,1,1,0,2,0],[2,0,2,1,3,2,0],[2,0,2,33,3,1,1]],b={L:0,R:1,EN:2,AN:3,N:4,B:5,S:6},x={0:0,5:1,6:2,7:3,32:4,251:5,254:6,255:7},A=["(",")","(","<",">","<","[","]","[","{","}","{","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","",""],v=new RegExp(/^([1-4|9]|1[0-9]|2[0-9]|3[0168]|4[04589]|5[012]|7[78]|159|16[0-9]|17[0-2]|21[569]|22[03489]|250)$/),_=!1,T=0;this.__bidiEngine__={};var R=function(E){var L=E.charCodeAt(),j=L>>8,H=x[j];return H!==void 0?d[256*H+(255&L)]:j===252||j===253?"AL":v.test(j)?"L":j===8?"R":"N"},z=function(E){for(var L,j=0;j<E.length;j++){if((L=R(E.charAt(j)))==="L")return!1;if(L==="R")return!0}return!1},K=function(E,L,j,H){var ne,ce,ae,ee,oe=L[H];switch(oe){case"L":case"R":case"LRE":case"RLE":case"LRO":case"RLO":case"PDF":_=!1;break;case"N":case"AN":break;case"EN":_&&(oe="AN");break;case"AL":_=!0,oe="R";break;case"WS":case"BN":oe="N";break;case"CS":H<1||H+1>=L.length||(ne=j[H-1])!=="EN"&&ne!=="AN"||(ce=L[H+1])!=="EN"&&ce!=="AN"?oe="N":_&&(ce="AN"),oe=ce===ne?ce:"N";break;case"ES":oe=(ne=H>0?j[H-1]:"B")==="EN"&&H+1<L.length&&L[H+1]==="EN"?"EN":"N";break;case"ET":if(H>0&&j[H-1]==="EN"){oe="EN";break}if(_){oe="N";break}for(ae=H+1,ee=L.length;ae<ee&&L[ae]==="ET";)ae++;oe=ae<ee&&L[ae]==="EN"?"EN":"N";break;case"NSM":if(o&&!a){for(ee=L.length,ae=H+1;ae<ee&&L[ae]==="NSM";)ae++;if(ae<ee){var ge=E[H],xe=ge>=1425&&ge<=2303||ge===64286;if(ne=L[ae],xe&&(ne==="R"||ne==="AL")){oe="R";break}}}oe=H<1||(ne=L[H-1])==="B"?"N":j[H-1];break;case"B":_=!1,i=!0,oe=T;break;case"S":s=!0,oe="N"}return oe},k=function(E,L,j){var H=E.split("");return j&&C(H,j,{hiLevel:T}),H.reverse(),L&&L.reverse(),H.join("")},C=function(E,L,j){var H,ne,ce,ae,ee,oe=-1,ge=E.length,xe=0,V=[],Q=T?p:g,te=[];for(_=!1,i=!1,s=!1,ne=0;ne<ge;ne++)te[ne]=R(E[ne]);for(ce=0;ce<ge;ce++){if(ee=xe,V[ce]=K(E,te,V,ce),H=240&(xe=Q[ee][b[V[ce]]]),xe&=15,L[ce]=ae=Q[xe][5],H>0)if(H===16){for(ne=oe;ne<ce;ne++)L[ne]=1;oe=-1}else oe=-1;if(Q[xe][6])oe===-1&&(oe=ce);else if(oe>-1){for(ne=oe;ne<ce;ne++)L[ne]=ae;oe=-1}te[ce]==="B"&&(L[ce]=0),j.hiLevel|=ae}s&&function(ie,le,pe){for(var be=0;be<pe;be++)if(ie[be]==="S"){le[be]=T;for(var _e=be-1;_e>=0&&ie[_e]==="WS";_e--)le[_e]=T}}(te,L,ge)},P=function(E,L,j,H,ne){if(!(ne.hiLevel<E)){if(E===1&&T===1&&!i)return L.reverse(),void(j&&j.reverse());for(var ce,ae,ee,oe,ge=L.length,xe=0;xe<ge;){if(H[xe]>=E){for(ee=xe+1;ee<ge&&H[ee]>=E;)ee++;for(oe=xe,ae=ee-1;oe<ae;oe++,ae--)ce=L[oe],L[oe]=L[ae],L[ae]=ce,j&&(ce=j[oe],j[oe]=j[ae],j[ae]=ce);xe=ee}xe++}}},M=function(E,L,j){var H=E.split(""),ne={hiLevel:T};return j||(j=[]),C(H,j,ne),function(ce,ae,ee){if(ee.hiLevel!==0&&c)for(var oe,ge=0;ge<ce.length;ge++)ae[ge]===1&&(oe=A.indexOf(ce[ge]))>=0&&(ce[ge]=A[oe+1])}(H,j,ne),P(2,H,L,j,ne),P(1,H,L,j,ne),H.join("")};return this.__bidiEngine__.doBidiReorder=function(E,L,j){if(function(ne,ce){if(ce)for(var ae=0;ae<ne.length;ae++)ce[ae]=ae;a===void 0&&(a=z(ne)),u===void 0&&(u=z(ne))}(E,L),o||!l||u)if(o&&l&&a^u)T=a?1:0,E=k(E,L,j);else if(!o&&l&&u)T=a?1:0,E=M(E,L,j),E=k(E,L);else if(!o||a||l||u){if(o&&!l&&a^u)E=k(E,L),a?(T=0,E=M(E,L,j)):(T=1,E=M(E,L,j),E=k(E,L));else if(o&&a&&!l&&u)T=1,E=M(E,L,j),E=k(E,L);else if(!o&&!l&&a^u){var H=c;a?(T=1,E=M(E,L,j),T=0,c=!1,E=M(E,L,j),c=H):(T=0,E=M(E,L,j),E=k(E,L),T=1,c=!1,E=M(E,L,j),c=H,E=k(E,L))}}else T=0,E=M(E,L,j);else T=a?1:0,E=M(E,L,j);return E},this.__bidiEngine__.setOptions=function(E){E&&(o=E.isInputVisual,l=E.isOutputVisual,a=E.isInputRtl,u=E.isOutputRtl,c=E.isSymmetricSwapping)},this.__bidiEngine__.setOptions(r),this.__bidiEngine__};var e=["BN","BN","BN","BN","BN","BN","BN","BN","BN","S","B","S","WS","B","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","B","B","B","S","WS","N","N","ET","ET","ET","N","N","N","N","N","ES","CS","ES","CS","CS","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","CS","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","BN","BN","BN","BN","BN","BN","B","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","CS","N","ET","ET","ET","ET","N","N","N","N","L","N","N","BN","N","N","ET","ET","EN","EN","N","L","N","N","N","EN","L","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","N","N","N","N","N","ET","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","R","NSM","R","NSM","NSM","R","NSM","NSM","R","NSM","N","N","N","N","N","N","N","N","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","N","N","N","N","N","R","R","R","R","R","N","N","N","N","N","N","N","N","N","N","N","AN","AN","AN","AN","AN","AN","N","N","AL","ET","ET","AL","CS","AL","N","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AL","AL","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AN","AN","AN","AN","AN","AN","AN","AN","AN","AN","ET","AN","AN","AL","AL","AL","NSM","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AN","N","NSM","NSM","NSM","NSM","NSM","NSM","AL","AL","NSM","NSM","N","NSM","NSM","NSM","NSM","AL","AL","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","N","AL","AL","NSM","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AL","N","N","N","N","N","N","N","N","N","N","N","N","N","N","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","R","R","N","N","N","N","R","N","N","N","N","N","WS","WS","WS","WS","WS","WS","WS","WS","WS","WS","WS","BN","BN","BN","L","R","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","WS","B","LRE","RLE","PDF","LRO","RLO","CS","ET","ET","ET","ET","ET","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","CS","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","WS","BN","BN","BN","BN","BN","N","LRI","RLI","FSI","PDI","BN","BN","BN","BN","BN","BN","EN","L","N","N","EN","EN","EN","EN","EN","EN","ES","ES","N","N","N","L","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","ES","ES","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","L","L","L","L","L","L","L","N","N","N","N","N","N","N","N","N","N","N","N","L","L","L","L","L","N","N","N","N","N","R","NSM","R","R","R","R","R","R","R","R","R","R","ES","R","R","R","R","R","R","R","R","R","R","R","R","R","N","R","R","R","R","R","N","R","N","R","R","N","R","R","N","R","R","R","R","R","R","R","R","R","R","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","CS","N","CS","N","N","CS","N","N","N","N","N","N","N","N","N","ET","N","N","ES","ES","N","N","N","N","N","ET","ET","N","N","N","N","N","AL","AL","AL","AL","AL","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","N","N","BN","N","N","N","ET","ET","ET","N","N","N","N","N","ES","CS","ES","CS","CS","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","CS","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","N","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","L","L","L","L","L","L","N","N","L","L","L","L","L","L","N","N","L","L","L","L","L","L","N","N","L","L","L","N","N","N","ET","ET","N","N","N","ET","ET","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N"],n=new t.__bidiEngine__({isInputVisual:!0});t.API.events.push(["postProcessText",function(r){var i=r.text;r.x,r.y;var s=r.options||{};r.mutex,s.lang;var o=[];if(s.isInputVisual=typeof s.isInputVisual!="boolean"||s.isInputVisual,n.setOptions(s),Object.prototype.toString.call(i)==="[object Array]"){var a=0;for(o=[],a=0;a<i.length;a+=1)Object.prototype.toString.call(i[a])==="[object Array]"?o.push([n.doBidiReorder(i[a][0]),i[a][1],i[a][2]]):o.push([n.doBidiReorder(i[a])]);r.text=o}else r.text=n.doBidiReorder(i);n.setOptions({isInputVisual:!0})}])}(it),it.API.TTFFont=function(){function t(e){var n;if(this.rawData=e,n=this.contents=new al(e),this.contents.pos=4,n.readString(4)==="ttcf")throw new Error("TTCF not supported.");n.pos=0,this.parse(),this.subset=new h$(this),this.registerTTF()}return t.open=function(e){return new t(e)},t.prototype.parse=function(){return this.directory=new Xq(this.contents),this.head=new Zq(this),this.name=new i$(this),this.cmap=new wT(this),this.toUnicode={},this.hhea=new e$(this),this.maxp=new s$(this),this.hmtx=new o$(this),this.post=new n$(this),this.os2=new t$(this),this.loca=new c$(this),this.glyf=new a$(this),this.ascender=this.os2.exists&&this.os2.ascender||this.hhea.ascender,this.decender=this.os2.exists&&this.os2.decender||this.hhea.decender,this.lineGap=this.os2.exists&&this.os2.lineGap||this.hhea.lineGap,this.bbox=[this.head.xMin,this.head.yMin,this.head.xMax,this.head.yMax]},t.prototype.registerTTF=function(){var e,n,r,i,s;if(this.scaleFactor=1e3/this.head.unitsPerEm,this.bbox=(function(){var o,a,l,u;for(u=[],o=0,a=(l=this.bbox).length;o<a;o++)e=l[o],u.push(Math.round(e*this.scaleFactor));return u}).call(this),this.stemV=0,this.post.exists?(r=255&(i=this.post.italic_angle),32768&(n=i>>16)&&(n=-(1+(65535^n))),this.italicAngle=+(n+"."+r)):this.italicAngle=0,this.ascender=Math.round(this.ascender*this.scaleFactor),this.decender=Math.round(this.decender*this.scaleFactor),this.lineGap=Math.round(this.lineGap*this.scaleFactor),this.capHeight=this.os2.exists&&this.os2.capHeight||this.ascender,this.xHeight=this.os2.exists&&this.os2.xHeight||0,this.familyClass=(this.os2.exists&&this.os2.familyClass||0)>>8,this.isSerif=(s=this.familyClass)===1||s===2||s===3||s===4||s===5||s===7,this.isScript=this.familyClass===10,this.flags=0,this.post.isFixedPitch&&(this.flags|=1),this.isSerif&&(this.flags|=2),this.isScript&&(this.flags|=8),this.italicAngle!==0&&(this.flags|=64),this.flags|=32,!this.cmap.unicode)throw new Error("No unicode cmap for font")},t.prototype.characterToGlyph=function(e){var n;return((n=this.cmap.unicode)!=null?n.codeMap[e]:void 0)||0},t.prototype.widthOfGlyph=function(e){var n;return n=1e3/this.head.unitsPerEm,this.hmtx.forGlyph(e).advance*n},t.prototype.widthOfString=function(e,n,r){var i,s,o,a;for(o=0,s=0,a=(e=""+e).length;0<=a?s<a:s>a;s=0<=a?++s:--s)i=e.charCodeAt(s),o+=this.widthOfGlyph(this.characterToGlyph(i))+r*(1e3/n)||0;return o*(n/1e3)},t.prototype.lineHeight=function(e,n){var r;return n==null&&(n=!1),r=n?this.lineGap:0,(this.ascender+r-this.decender)/1e3*e},t}();var Hs,al=function(){function t(e){this.data=e??[],this.pos=0,this.length=this.data.length}return t.prototype.readByte=function(){return this.data[this.pos++]},t.prototype.writeByte=function(e){return this.data[this.pos++]=e},t.prototype.readUInt32=function(){return 16777216*this.readByte()+(this.readByte()<<16)+(this.readByte()<<8)+this.readByte()},t.prototype.writeUInt32=function(e){return this.writeByte(e>>>24&255),this.writeByte(e>>16&255),this.writeByte(e>>8&255),this.writeByte(255&e)},t.prototype.readInt32=function(){var e;return(e=this.readUInt32())>=2147483648?e-4294967296:e},t.prototype.writeInt32=function(e){return e<0&&(e+=4294967296),this.writeUInt32(e)},t.prototype.readUInt16=function(){return this.readByte()<<8|this.readByte()},t.prototype.writeUInt16=function(e){return this.writeByte(e>>8&255),this.writeByte(255&e)},t.prototype.readInt16=function(){var e;return(e=this.readUInt16())>=32768?e-65536:e},t.prototype.writeInt16=function(e){return e<0&&(e+=65536),this.writeUInt16(e)},t.prototype.readString=function(e){var n,r;for(r=[],n=0;0<=e?n<e:n>e;n=0<=e?++n:--n)r[n]=String.fromCharCode(this.readByte());return r.join("")},t.prototype.writeString=function(e){var n,r,i;for(i=[],n=0,r=e.length;0<=r?n<r:n>r;n=0<=r?++n:--n)i.push(this.writeByte(e.charCodeAt(n)));return i},t.prototype.readShort=function(){return this.readInt16()},t.prototype.writeShort=function(e){return this.writeInt16(e)},t.prototype.readLongLong=function(){var e,n,r,i,s,o,a,l;return e=this.readByte(),n=this.readByte(),r=this.readByte(),i=this.readByte(),s=this.readByte(),o=this.readByte(),a=this.readByte(),l=this.readByte(),128&e?-1*(72057594037927940*(255^e)+281474976710656*(255^n)+1099511627776*(255^r)+4294967296*(255^i)+16777216*(255^s)+65536*(255^o)+256*(255^a)+(255^l)+1):72057594037927940*e+281474976710656*n+1099511627776*r+4294967296*i+16777216*s+65536*o+256*a+l},t.prototype.writeLongLong=function(e){var n,r;return n=Math.floor(e/4294967296),r=4294967295&e,this.writeByte(n>>24&255),this.writeByte(n>>16&255),this.writeByte(n>>8&255),this.writeByte(255&n),this.writeByte(r>>24&255),this.writeByte(r>>16&255),this.writeByte(r>>8&255),this.writeByte(255&r)},t.prototype.readInt=function(){return this.readInt32()},t.prototype.writeInt=function(e){return this.writeInt32(e)},t.prototype.read=function(e){var n,r;for(n=[],r=0;0<=e?r<e:r>e;r=0<=e?++r:--r)n.push(this.readByte());return n},t.prototype.write=function(e){var n,r,i,s;for(s=[],r=0,i=e.length;r<i;r++)n=e[r],s.push(this.writeByte(n));return s},t}(),Xq=function(){var t;function e(n){var r,i,s;for(this.scalarType=n.readInt(),this.tableCount=n.readShort(),this.searchRange=n.readShort(),this.entrySelector=n.readShort(),this.rangeShift=n.readShort(),this.tables={},i=0,s=this.tableCount;0<=s?i<s:i>s;i=0<=s?++i:--i)r={tag:n.readString(4),checksum:n.readInt(),offset:n.readInt(),length:n.readInt()},this.tables[r.tag]=r}return e.prototype.encode=function(n){var r,i,s,o,a,l,u,c,d,g,p,b,x;for(x in p=Object.keys(n).length,l=Math.log(2),d=16*Math.floor(Math.log(p)/l),o=Math.floor(d/l),c=16*p-d,(i=new al).writeInt(this.scalarType),i.writeShort(p),i.writeShort(d),i.writeShort(o),i.writeShort(c),s=16*p,u=i.pos+s,a=null,b=[],n)for(g=n[x],i.writeString(x),i.writeInt(t(g)),i.writeInt(u),i.writeInt(g.length),b=b.concat(g),x==="head"&&(a=u),u+=g.length;u%4;)b.push(0),u++;return i.write(b),r=2981146554-t(i.data),i.pos=a+8,i.writeUInt32(r),i.data},t=function(n){var r,i,s,o;for(n=xT.call(n);n.length%4;)n.push(0);for(s=new al(n),i=0,r=0,o=n.length;r<o;r=r+=4)i+=s.readUInt32();return 4294967295&i},e}(),Jq={}.hasOwnProperty,Ao=function(t,e){for(var n in e)Jq.call(e,n)&&(t[n]=e[n]);function r(){this.constructor=t}return r.prototype=e.prototype,t.prototype=new r,t.__super__=e.prototype,t};Hs=function(){function t(e){var n;this.file=e,n=this.file.directory.tables[this.tag],this.exists=!!n,n&&(this.offset=n.offset,this.length=n.length,this.parse(this.file.contents))}return t.prototype.parse=function(){},t.prototype.encode=function(){},t.prototype.raw=function(){return this.exists?(this.file.contents.pos=this.offset,this.file.contents.read(this.length)):null},t}();var Zq=function(){function t(){return t.__super__.constructor.apply(this,arguments)}return Ao(t,Hs),t.prototype.tag="head",t.prototype.parse=function(e){return e.pos=this.offset,this.version=e.readInt(),this.revision=e.readInt(),this.checkSumAdjustment=e.readInt(),this.magicNumber=e.readInt(),this.flags=e.readShort(),this.unitsPerEm=e.readShort(),this.created=e.readLongLong(),this.modified=e.readLongLong(),this.xMin=e.readShort(),this.yMin=e.readShort(),this.xMax=e.readShort(),this.yMax=e.readShort(),this.macStyle=e.readShort(),this.lowestRecPPEM=e.readShort(),this.fontDirectionHint=e.readShort(),this.indexToLocFormat=e.readShort(),this.glyphDataFormat=e.readShort()},t.prototype.encode=function(e){var n;return(n=new al).writeInt(this.version),n.writeInt(this.revision),n.writeInt(this.checkSumAdjustment),n.writeInt(this.magicNumber),n.writeShort(this.flags),n.writeShort(this.unitsPerEm),n.writeLongLong(this.created),n.writeLongLong(this.modified),n.writeShort(this.xMin),n.writeShort(this.yMin),n.writeShort(this.xMax),n.writeShort(this.yMax),n.writeShort(this.macStyle),n.writeShort(this.lowestRecPPEM),n.writeShort(this.fontDirectionHint),n.writeShort(e),n.writeShort(this.glyphDataFormat),n.data},t}(),m_=function(){function t(e,n){var r,i,s,o,a,l,u,c,d,g,p,b,x,A,v,_,T;switch(this.platformID=e.readUInt16(),this.encodingID=e.readShort(),this.offset=n+e.readInt(),d=e.pos,e.pos=this.offset,this.format=e.readUInt16(),this.length=e.readUInt16(),this.language=e.readUInt16(),this.isUnicode=this.platformID===3&&this.encodingID===1&&this.format===4||this.platformID===0&&this.format===4,this.codeMap={},this.format){case 0:for(l=0;l<256;++l)this.codeMap[l]=e.readByte();break;case 4:for(p=e.readUInt16(),g=p/2,e.pos+=6,s=function(){var R,z;for(z=[],l=R=0;0<=g?R<g:R>g;l=0<=g?++R:--R)z.push(e.readUInt16());return z}(),e.pos+=2,x=function(){var R,z;for(z=[],l=R=0;0<=g?R<g:R>g;l=0<=g?++R:--R)z.push(e.readUInt16());return z}(),u=function(){var R,z;for(z=[],l=R=0;0<=g?R<g:R>g;l=0<=g?++R:--R)z.push(e.readUInt16());return z}(),c=function(){var R,z;for(z=[],l=R=0;0<=g?R<g:R>g;l=0<=g?++R:--R)z.push(e.readUInt16());return z}(),i=(this.length-e.pos+this.offset)/2,a=function(){var R,z;for(z=[],l=R=0;0<=i?R<i:R>i;l=0<=i?++R:--R)z.push(e.readUInt16());return z}(),l=v=0,T=s.length;v<T;l=++v)for(A=s[l],r=_=b=x[l];b<=A?_<=A:_>=A;r=b<=A?++_:--_)c[l]===0?o=r+u[l]:(o=a[c[l]/2+(r-b)-(g-l)]||0)!==0&&(o+=u[l]),this.codeMap[r]=65535&o}e.pos=d}return t.encode=function(e,n){var r,i,s,o,a,l,u,c,d,g,p,b,x,A,v,_,T,R,z,K,k,C,P,M,E,L,j,H,ne,ce,ae,ee,oe,ge,xe,V,Q,te,ie,le,pe,be,_e,Te,je,Se;switch(H=new al,o=Object.keys(e).sort(function(ke,me){return ke-me}),n){case"macroman":for(x=0,A=function(){var ke=[];for(b=0;b<256;++b)ke.push(0);return ke}(),_={0:0},s={},ne=0,oe=o.length;ne<oe;ne++)_[_e=e[i=o[ne]]]==null&&(_[_e]=++x),s[i]={old:e[i],new:_[e[i]]},A[i]=_[e[i]];return H.writeUInt16(1),H.writeUInt16(0),H.writeUInt32(12),H.writeUInt16(0),H.writeUInt16(262),H.writeUInt16(0),H.write(A),{charMap:s,subtable:H.data,maxGlyphID:x+1};case"unicode":for(L=[],d=[],T=0,_={},r={},v=u=null,ce=0,ge=o.length;ce<ge;ce++)_[z=e[i=o[ce]]]==null&&(_[z]=++T),r[i]={old:z,new:_[z]},a=_[z]-i,v!=null&&a===u||(v&&d.push(v),L.push(i),u=a),v=i;for(v&&d.push(v),d.push(65535),L.push(65535),M=2*(P=L.length),C=2*Math.pow(Math.log(P)/Math.LN2,2),g=Math.log(C/2)/Math.LN2,k=2*P-C,l=[],K=[],p=[],b=ae=0,xe=L.length;ae<xe;b=++ae){if(E=L[b],c=d[b],E===65535){l.push(0),K.push(0);break}if(E-(j=r[E].new)>=32768)for(l.push(0),K.push(2*(p.length+P-b)),i=ee=E;E<=c?ee<=c:ee>=c;i=E<=c?++ee:--ee)p.push(r[i].new);else l.push(j-E),K.push(0)}for(H.writeUInt16(3),H.writeUInt16(1),H.writeUInt32(12),H.writeUInt16(4),H.writeUInt16(16+8*P+2*p.length),H.writeUInt16(0),H.writeUInt16(M),H.writeUInt16(C),H.writeUInt16(g),H.writeUInt16(k),pe=0,V=d.length;pe<V;pe++)i=d[pe],H.writeUInt16(i);for(H.writeUInt16(0),be=0,Q=L.length;be<Q;be++)i=L[be],H.writeUInt16(i);for(Te=0,te=l.length;Te<te;Te++)a=l[Te],H.writeUInt16(a);for(je=0,ie=K.length;je<ie;je++)R=K[je],H.writeUInt16(R);for(Se=0,le=p.length;Se<le;Se++)x=p[Se],H.writeUInt16(x);return{charMap:r,subtable:H.data,maxGlyphID:T+1}}},t}(),wT=function(){function t(){return t.__super__.constructor.apply(this,arguments)}return Ao(t,Hs),t.prototype.tag="cmap",t.prototype.parse=function(e){var n,r,i;for(e.pos=this.offset,this.version=e.readUInt16(),i=e.readUInt16(),this.tables=[],this.unicode=null,r=0;0<=i?r<i:r>i;r=0<=i?++r:--r)n=new m_(e,this.offset),this.tables.push(n),n.isUnicode&&this.unicode==null&&(this.unicode=n);return!0},t.encode=function(e,n){var r,i;return n==null&&(n="macroman"),r=m_.encode(e,n),(i=new al).writeUInt16(0),i.writeUInt16(1),r.table=i.data.concat(r.subtable),r},t}(),e$=function(){function t(){return t.__super__.constructor.apply(this,arguments)}return Ao(t,Hs),t.prototype.tag="hhea",t.prototype.parse=function(e){return e.pos=this.offset,this.version=e.readInt(),this.ascender=e.readShort(),this.decender=e.readShort(),this.lineGap=e.readShort(),this.advanceWidthMax=e.readShort(),this.minLeftSideBearing=e.readShort(),this.minRightSideBearing=e.readShort(),this.xMaxExtent=e.readShort(),this.caretSlopeRise=e.readShort(),this.caretSlopeRun=e.readShort(),this.caretOffset=e.readShort(),e.pos+=8,this.metricDataFormat=e.readShort(),this.numberOfMetrics=e.readUInt16()},t}(),t$=function(){function t(){return t.__super__.constructor.apply(this,arguments)}return Ao(t,Hs),t.prototype.tag="OS/2",t.prototype.parse=function(e){if(e.pos=this.offset,this.version=e.readUInt16(),this.averageCharWidth=e.readShort(),this.weightClass=e.readUInt16(),this.widthClass=e.readUInt16(),this.type=e.readShort(),this.ySubscriptXSize=e.readShort(),this.ySubscriptYSize=e.readShort(),this.ySubscriptXOffset=e.readShort(),this.ySubscriptYOffset=e.readShort(),this.ySuperscriptXSize=e.readShort(),this.ySuperscriptYSize=e.readShort(),this.ySuperscriptXOffset=e.readShort(),this.ySuperscriptYOffset=e.readShort(),this.yStrikeoutSize=e.readShort(),this.yStrikeoutPosition=e.readShort(),this.familyClass=e.readShort(),this.panose=function(){var n,r;for(r=[],n=0;n<10;++n)r.push(e.readByte());return r}(),this.charRange=function(){var n,r;for(r=[],n=0;n<4;++n)r.push(e.readInt());return r}(),this.vendorID=e.readString(4),this.selection=e.readShort(),this.firstCharIndex=e.readShort(),this.lastCharIndex=e.readShort(),this.version>0&&(this.ascent=e.readShort(),this.descent=e.readShort(),this.lineGap=e.readShort(),this.winAscent=e.readShort(),this.winDescent=e.readShort(),this.codePageRange=function(){var n,r;for(r=[],n=0;n<2;n=++n)r.push(e.readInt());return r}(),this.version>1))return this.xHeight=e.readShort(),this.capHeight=e.readShort(),this.defaultChar=e.readShort(),this.breakChar=e.readShort(),this.maxContext=e.readShort()},t}(),n$=function(){function t(){return t.__super__.constructor.apply(this,arguments)}return Ao(t,Hs),t.prototype.tag="post",t.prototype.parse=function(e){var n,r,i;switch(e.pos=this.offset,this.format=e.readInt(),this.italicAngle=e.readInt(),this.underlinePosition=e.readShort(),this.underlineThickness=e.readShort(),this.isFixedPitch=e.readInt(),this.minMemType42=e.readInt(),this.maxMemType42=e.readInt(),this.minMemType1=e.readInt(),this.maxMemType1=e.readInt(),this.format){case 65536:case 196608:break;case 131072:var s;for(r=e.readUInt16(),this.glyphNameIndex=[],s=0;0<=r?s<r:s>r;s=0<=r?++s:--s)this.glyphNameIndex.push(e.readUInt16());for(this.names=[],i=[];e.pos<this.offset+this.length;)n=e.readByte(),i.push(this.names.push(e.readString(n)));return i;case 151552:return r=e.readUInt16(),this.offsets=e.read(r);case 262144:return this.map=(function(){var o,a,l;for(l=[],s=o=0,a=this.file.maxp.numGlyphs;0<=a?o<a:o>a;s=0<=a?++o:--o)l.push(e.readUInt32());return l}).call(this)}},t}(),r$=function(t,e){this.raw=t,this.length=t.length,this.platformID=e.platformID,this.encodingID=e.encodingID,this.languageID=e.languageID},i$=function(){function t(){return t.__super__.constructor.apply(this,arguments)}return Ao(t,Hs),t.prototype.tag="name",t.prototype.parse=function(e){var n,r,i,s,o,a,l,u,c,d,g;for(e.pos=this.offset,e.readShort(),n=e.readShort(),a=e.readShort(),r=[],s=0;0<=n?s<n:s>n;s=0<=n?++s:--s)r.push({platformID:e.readShort(),encodingID:e.readShort(),languageID:e.readShort(),nameID:e.readShort(),length:e.readShort(),offset:this.offset+a+e.readShort()});for(l={},s=c=0,d=r.length;c<d;s=++c)i=r[s],e.pos=i.offset,u=e.readString(i.length),o=new r$(u,i),l[g=i.nameID]==null&&(l[g]=[]),l[i.nameID].push(o);this.strings=l,this.copyright=l[0],this.fontFamily=l[1],this.fontSubfamily=l[2],this.uniqueSubfamily=l[3],this.fontName=l[4],this.version=l[5];try{this.postscriptName=l[6][0].raw.replace(/[\x00-\x19\x80-\xff]/g,"")}catch{this.postscriptName=l[4][0].raw.replace(/[\x00-\x19\x80-\xff]/g,"")}return this.trademark=l[7],this.manufacturer=l[8],this.designer=l[9],this.description=l[10],this.vendorUrl=l[11],this.designerUrl=l[12],this.license=l[13],this.licenseUrl=l[14],this.preferredFamily=l[15],this.preferredSubfamily=l[17],this.compatibleFull=l[18],this.sampleText=l[19]},t}(),s$=function(){function t(){return t.__super__.constructor.apply(this,arguments)}return Ao(t,Hs),t.prototype.tag="maxp",t.prototype.parse=function(e){return e.pos=this.offset,this.version=e.readInt(),this.numGlyphs=e.readUInt16(),this.maxPoints=e.readUInt16(),this.maxContours=e.readUInt16(),this.maxCompositePoints=e.readUInt16(),this.maxComponentContours=e.readUInt16(),this.maxZones=e.readUInt16(),this.maxTwilightPoints=e.readUInt16(),this.maxStorage=e.readUInt16(),this.maxFunctionDefs=e.readUInt16(),this.maxInstructionDefs=e.readUInt16(),this.maxStackElements=e.readUInt16(),this.maxSizeOfInstructions=e.readUInt16(),this.maxComponentElements=e.readUInt16(),this.maxComponentDepth=e.readUInt16()},t}(),o$=function(){function t(){return t.__super__.constructor.apply(this,arguments)}return Ao(t,Hs),t.prototype.tag="hmtx",t.prototype.parse=function(e){var n,r,i,s,o,a,l;for(e.pos=this.offset,this.metrics=[],n=0,a=this.file.hhea.numberOfMetrics;0<=a?n<a:n>a;n=0<=a?++n:--n)this.metrics.push({advance:e.readUInt16(),lsb:e.readInt16()});for(i=this.file.maxp.numGlyphs-this.file.hhea.numberOfMetrics,this.leftSideBearings=function(){var u,c;for(c=[],n=u=0;0<=i?u<i:u>i;n=0<=i?++u:--u)c.push(e.readInt16());return c}(),this.widths=(function(){var u,c,d,g;for(g=[],u=0,c=(d=this.metrics).length;u<c;u++)s=d[u],g.push(s.advance);return g}).call(this),r=this.widths[this.widths.length-1],l=[],n=o=0;0<=i?o<i:o>i;n=0<=i?++o:--o)l.push(this.widths.push(r));return l},t.prototype.forGlyph=function(e){return e in this.metrics?this.metrics[e]:{advance:this.metrics[this.metrics.length-1].advance,lsb:this.leftSideBearings[e-this.metrics.length]}},t}(),xT=[].slice,a$=function(){function t(){return t.__super__.constructor.apply(this,arguments)}return Ao(t,Hs),t.prototype.tag="glyf",t.prototype.parse=function(){return this.cache={}},t.prototype.glyphFor=function(e){var n,r,i,s,o,a,l,u,c,d;return e in this.cache?this.cache[e]:(s=this.file.loca,n=this.file.contents,r=s.indexOf(e),(i=s.lengthOf(e))===0?this.cache[e]=null:(n.pos=this.offset+r,o=(a=new al(n.read(i))).readShort(),u=a.readShort(),d=a.readShort(),l=a.readShort(),c=a.readShort(),this.cache[e]=o===-1?new u$(a,u,d,l,c):new l$(a,o,u,d,l,c),this.cache[e]))},t.prototype.encode=function(e,n,r){var i,s,o,a,l;for(o=[],s=[],a=0,l=n.length;a<l;a++)i=e[n[a]],s.push(o.length),i&&(o=o.concat(i.encode(r)));return s.push(o.length),{table:o,offsets:s}},t}(),l$=function(){function t(e,n,r,i,s,o){this.raw=e,this.numberOfContours=n,this.xMin=r,this.yMin=i,this.xMax=s,this.yMax=o,this.compound=!1}return t.prototype.encode=function(){return this.raw.data},t}(),u$=function(){function t(e,n,r,i,s){var o,a;for(this.raw=e,this.xMin=n,this.yMin=r,this.xMax=i,this.yMax=s,this.compound=!0,this.glyphIDs=[],this.glyphOffsets=[],o=this.raw;a=o.readShort(),this.glyphOffsets.push(o.pos),this.glyphIDs.push(o.readUInt16()),32&a;)o.pos+=1&a?4:2,128&a?o.pos+=8:64&a?o.pos+=4:8&a&&(o.pos+=2)}return t.prototype.encode=function(){var e,n,r;for(n=new al(xT.call(this.raw.data)),e=0,r=this.glyphIDs.length;e<r;++e)n.pos=this.glyphOffsets[e];return n.data},t}(),c$=function(){function t(){return t.__super__.constructor.apply(this,arguments)}return Ao(t,Hs),t.prototype.tag="loca",t.prototype.parse=function(e){var n,r;return e.pos=this.offset,n=this.file.head.indexToLocFormat,this.offsets=n===0?(function(){var i,s;for(s=[],r=0,i=this.length;r<i;r+=2)s.push(2*e.readUInt16());return s}).call(this):(function(){var i,s;for(s=[],r=0,i=this.length;r<i;r+=4)s.push(e.readUInt32());return s}).call(this)},t.prototype.indexOf=function(e){return this.offsets[e]},t.prototype.lengthOf=function(e){return this.offsets[e+1]-this.offsets[e]},t.prototype.encode=function(e,n){for(var r=new Uint32Array(this.offsets.length),i=0,s=0,o=0;o<r.length;++o)if(r[o]=i,s<n.length&&n[s]==o){++s,r[o]=i;var a=this.offsets[o],l=this.offsets[o+1]-a;l>0&&(i+=l)}for(var u=new Array(4*r.length),c=0;c<r.length;++c)u[4*c+3]=255&r[c],u[4*c+2]=(65280&r[c])>>8,u[4*c+1]=(16711680&r[c])>>16,u[4*c]=(4278190080&r[c])>>24;return u},t}(),h$=function(){function t(e){this.font=e,this.subset={},this.unicodes={},this.next=33}return t.prototype.generateCmap=function(){var e,n,r,i,s;for(n in i=this.font.cmap.tables[0].codeMap,e={},s=this.subset)r=s[n],e[n]=i[r];return e},t.prototype.glyphsFor=function(e){var n,r,i,s,o,a,l;for(i={},o=0,a=e.length;o<a;o++)i[s=e[o]]=this.font.glyf.glyphFor(s);for(s in n=[],i)(r=i[s])!=null&&r.compound&&n.push.apply(n,r.glyphIDs);if(n.length>0)for(s in l=this.glyphsFor(n))r=l[s],i[s]=r;return i},t.prototype.encode=function(e,n){var r,i,s,o,a,l,u,c,d,g,p,b,x,A,v;for(i in r=wT.encode(this.generateCmap(),"unicode"),o=this.glyphsFor(e),p={0:0},v=r.charMap)p[(l=v[i]).old]=l.new;for(b in g=r.maxGlyphID,o)b in p||(p[b]=g++);return c=function(_){var T,R;for(T in R={},_)R[_[T]]=T;return R}(p),d=Object.keys(c).sort(function(_,T){return _-T}),x=function(){var _,T,R;for(R=[],_=0,T=d.length;_<T;_++)a=d[_],R.push(c[a]);return R}(),s=this.font.glyf.encode(o,x,p),u=this.font.loca.encode(s.offsets,x),A={cmap:this.font.cmap.raw(),glyf:s.table,loca:u,hmtx:this.font.hmtx.raw(),hhea:this.font.hhea.raw(),maxp:this.font.maxp.raw(),post:this.font.post.raw(),name:this.font.name.raw(),head:this.font.head.encode(n)},this.font.os2.exists&&(A["OS/2"]=this.font.os2.raw()),this.font.directory.encode(A)},t}();it.API.PDFObject=function(){var t;function e(){}return t=function(n,r){return(Array(r+1).join("0")+n).slice(-r)},e.convert=function(n){var r,i,s,o;if(Array.isArray(n))return"["+function(){var a,l,u;for(u=[],a=0,l=n.length;a<l;a++)r=n[a],u.push(e.convert(r));return u}().join(" ")+"]";if(typeof n=="string")return"/"+n;if(n!=null&&n.isString)return"("+n+")";if(n instanceof Date)return"(D:"+t(n.getUTCFullYear(),4)+t(n.getUTCMonth(),2)+t(n.getUTCDate(),2)+t(n.getUTCHours(),2)+t(n.getUTCMinutes(),2)+t(n.getUTCSeconds(),2)+"Z)";if({}.toString.call(n)==="[object Object]"){for(i in s=["<<"],n)o=n[i],s.push("/"+i+" "+e.convert(o));return s.push(">>"),s.join(`
`)}return""+n},e}();function bT(t,e,n,r,i){r=r||{};var s=1.15,o=i.internal.scaleFactor,a=i.internal.getFontSize()/o,l=i.getLineHeightFactor?i.getLineHeightFactor():s,u=a*l,c=/\r\n|\r|\n/g,d="",g=1;if((r.valign==="middle"||r.valign==="bottom"||r.halign==="center"||r.halign==="right")&&(d=typeof t=="string"?t.split(c):t,g=d.length||1),n+=a*(2-s),r.valign==="middle"?n-=g/2*u:r.valign==="bottom"&&(n-=g*u),r.halign==="center"||r.halign==="right"){var p=a;if(r.halign==="center"&&(p*=.5),d&&g>=1){for(var b=0;b<d.length;b++)i.text(d[b],e-i.getStringUnitWidth(d[b])*p,n),n+=u;return i}e-=i.getStringUnitWidth(t)*p}return r.halign==="justify"?i.text(t,e,n,{maxWidth:r.maxWidth||100,align:"justify"}):i.text(t,e,n),i}var g_={},hc=function(){function t(e){this.jsPDFDocument=e,this.userStyles={textColor:e.getTextColor?this.jsPDFDocument.getTextColor():0,fontSize:e.internal.getFontSize(),fontStyle:e.internal.getFont().fontStyle,font:e.internal.getFont().fontName,lineWidth:e.getLineWidth?this.jsPDFDocument.getLineWidth():0,lineColor:e.getDrawColor?this.jsPDFDocument.getDrawColor():0}}return t.setDefaults=function(e,n){n===void 0&&(n=null),n?n.__autoTableDocumentDefaults=e:g_=e},t.unifyColor=function(e){return Array.isArray(e)?e:typeof e=="number"?[e,e,e]:typeof e=="string"?[e]:null},t.prototype.applyStyles=function(e,n){var r,i,s;n===void 0&&(n=!1),e.fontStyle&&this.jsPDFDocument.setFontStyle&&this.jsPDFDocument.setFontStyle(e.fontStyle);var o=this.jsPDFDocument.internal.getFont(),a=o.fontStyle,l=o.fontName;if(e.font&&(l=e.font),e.fontStyle){a=e.fontStyle;var u=this.getFontList()[l];u&&u.indexOf(a)===-1&&this.jsPDFDocument.setFontStyle&&(this.jsPDFDocument.setFontStyle(u[0]),a=u[0])}if(this.jsPDFDocument.setFont(l,a),e.fontSize&&this.jsPDFDocument.setFontSize(e.fontSize),!n){var c=t.unifyColor(e.fillColor);c&&(r=this.jsPDFDocument).setFillColor.apply(r,c),c=t.unifyColor(e.textColor),c&&(i=this.jsPDFDocument).setTextColor.apply(i,c),c=t.unifyColor(e.lineColor),c&&(s=this.jsPDFDocument).setDrawColor.apply(s,c),typeof e.lineWidth=="number"&&this.jsPDFDocument.setLineWidth(e.lineWidth)}},t.prototype.splitTextToSize=function(e,n,r){return this.jsPDFDocument.splitTextToSize(e,n,r)},t.prototype.rect=function(e,n,r,i,s){return this.jsPDFDocument.rect(e,n,r,i,s)},t.prototype.getLastAutoTable=function(){return this.jsPDFDocument.lastAutoTable||null},t.prototype.getTextWidth=function(e){return this.jsPDFDocument.getTextWidth(e)},t.prototype.getDocument=function(){return this.jsPDFDocument},t.prototype.setPage=function(e){this.jsPDFDocument.setPage(e)},t.prototype.addPage=function(){return this.jsPDFDocument.addPage()},t.prototype.getFontList=function(){return this.jsPDFDocument.getFontList()},t.prototype.getGlobalOptions=function(){return g_||{}},t.prototype.getDocumentOptions=function(){return this.jsPDFDocument.__autoTableDocumentDefaults||{}},t.prototype.pageSize=function(){var e=this.jsPDFDocument.internal.pageSize;return e.width==null&&(e={width:e.getWidth(),height:e.getHeight()}),e},t.prototype.scaleFactor=function(){return this.jsPDFDocument.internal.scaleFactor},t.prototype.getLineHeightFactor=function(){var e=this.jsPDFDocument;return e.getLineHeightFactor?e.getLineHeightFactor():1.15},t.prototype.getLineHeight=function(e){return e/this.scaleFactor()*this.getLineHeightFactor()},t.prototype.pageNumber=function(){var e=this.jsPDFDocument.internal.getCurrentPageInfo();return e?e.pageNumber:this.jsPDFDocument.internal.getNumberOfPages()},t}(),ry=function(t,e){return ry=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,r){n.__proto__=r}||function(n,r){for(var i in r)Object.prototype.hasOwnProperty.call(r,i)&&(n[i]=r[i])},ry(t,e)};function _T(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");ry(t,e);function n(){this.constructor=t}t.prototype=e===null?Object.create(e):(n.prototype=e.prototype,new n)}var ST=function(t){_T(e,t);function e(n){var r=t.call(this)||this;return r._element=n,r}return e}(Array);function f$(t){return{font:"helvetica",fontStyle:"normal",overflow:"linebreak",fillColor:!1,textColor:20,halign:"left",valign:"top",fontSize:10,cellPadding:5/t,lineColor:200,lineWidth:0,cellWidth:"auto",minCellHeight:0,minCellWidth:0}}function d$(t){var e={striped:{table:{fillColor:255,textColor:80,fontStyle:"normal"},head:{textColor:255,fillColor:[41,128,185],fontStyle:"bold"},body:{},foot:{textColor:255,fillColor:[41,128,185],fontStyle:"bold"},alternateRow:{fillColor:245}},grid:{table:{fillColor:255,textColor:80,fontStyle:"normal",lineWidth:.1},head:{textColor:255,fillColor:[26,188,156],fontStyle:"bold",lineWidth:0},body:{},foot:{textColor:255,fillColor:[26,188,156],fontStyle:"bold",lineWidth:0},alternateRow:{}},plain:{head:{fontStyle:"bold"},foot:{fontStyle:"bold"}}};return e[t]}function L0(t,e,n){n.applyStyles(e,!0);var r=Array.isArray(t)?t:[t],i=r.map(function(s){return n.getTextWidth(s)}).reduce(function(s,o){return Math.max(s,o)},0);return i}function AT(t,e,n,r){var i=e.settings.tableLineWidth,s=e.settings.tableLineColor;t.applyStyles({lineWidth:i,lineColor:s});var o=NT(i,!1);o&&t.rect(n.x,n.y,e.getWidth(t.pageSize().width),r.y-n.y,o)}function NT(t,e){var n=t>0,r=e||e===0;return n&&r?"DF":n?"S":r?"F":null}function wm(t,e){var n,r,i,s;if(t=t||e,Array.isArray(t)){if(t.length>=4)return{top:t[0],right:t[1],bottom:t[2],left:t[3]};if(t.length===3)return{top:t[0],right:t[1],bottom:t[2],left:t[1]};if(t.length===2)return{top:t[0],right:t[1],bottom:t[0],left:t[1]};t.length===1?t=t[0]:t=e}return typeof t=="object"?(typeof t.vertical=="number"&&(t.top=t.vertical,t.bottom=t.vertical),typeof t.horizontal=="number"&&(t.right=t.horizontal,t.left=t.horizontal),{left:(n=t.left)!==null&&n!==void 0?n:e,top:(r=t.top)!==null&&r!==void 0?r:e,right:(i=t.right)!==null&&i!==void 0?i:e,bottom:(s=t.bottom)!==null&&s!==void 0?s:e}):(typeof t!="number"&&(t=e),{top:t,right:t,bottom:t,left:t})}function ET(t,e){var n=wm(e.settings.margin,0);return t.pageSize().width-(n.left+n.right)}function p$(t,e,n,r,i){var s={},o=1.3333333333333333,a=tg(e,function(T){return i.getComputedStyle(T).backgroundColor});a!=null&&(s.fillColor=a);var l=tg(e,function(T){return i.getComputedStyle(T).color});l!=null&&(s.textColor=l);var u=g$(r,n);u&&(s.cellPadding=u);var c="borderTopColor",d=o*n,g=r.borderTopWidth;if(r.borderBottomWidth===g&&r.borderRightWidth===g&&r.borderLeftWidth===g){var p=(parseFloat(g)||0)/d;p&&(s.lineWidth=p)}else s.lineWidth={top:(parseFloat(r.borderTopWidth)||0)/d,right:(parseFloat(r.borderRightWidth)||0)/d,bottom:(parseFloat(r.borderBottomWidth)||0)/d,left:(parseFloat(r.borderLeftWidth)||0)/d},s.lineWidth.top||(s.lineWidth.right?c="borderRightColor":s.lineWidth.bottom?c="borderBottomColor":s.lineWidth.left&&(c="borderLeftColor"));var b=tg(e,function(T){return i.getComputedStyle(T)[c]});b!=null&&(s.lineColor=b);var x=["left","right","center","justify"];x.indexOf(r.textAlign)!==-1&&(s.halign=r.textAlign),x=["middle","bottom","top"],x.indexOf(r.verticalAlign)!==-1&&(s.valign=r.verticalAlign);var A=parseInt(r.fontSize||"");isNaN(A)||(s.fontSize=A/o);var v=m$(r);v&&(s.fontStyle=v);var _=(r.fontFamily||"").toLowerCase();return t.indexOf(_)!==-1&&(s.font=_),s}function m$(t){var e="";return(t.fontWeight==="bold"||t.fontWeight==="bolder"||parseInt(t.fontWeight)>=700)&&(e="bold"),(t.fontStyle==="italic"||t.fontStyle==="oblique")&&(e+="italic"),e}function tg(t,e){var n=TT(t,e);if(!n)return null;var r=n.match(/^rgba?\((\d+),\s*(\d+),\s*(\d+)(?:,\s*(\d*\.?\d*))?\)$/);if(!r||!Array.isArray(r))return null;var i=[parseInt(r[1]),parseInt(r[2]),parseInt(r[3])],s=parseInt(r[4]);return s===0||isNaN(i[0])||isNaN(i[1])||isNaN(i[2])?null:i}function TT(t,e){var n=e(t);return n==="rgba(0, 0, 0, 0)"||n==="transparent"||n==="initial"||n==="inherit"?t.parentElement==null?null:TT(t.parentElement,e):n}function g$(t,e){var n=[t.paddingTop,t.paddingRight,t.paddingBottom,t.paddingLeft],r=96/(72/e),i=(parseInt(t.lineHeight)-parseInt(t.fontSize))/e/2,s=n.map(function(a){return parseInt(a||"0")/r}),o=wm(s,0);return i>o.top&&(o.top=i),i>o.bottom&&(o.bottom=i),o}function CT(t,e,n,r,i){var s,o;r===void 0&&(r=!1),i===void 0&&(i=!1);var a;typeof e=="string"?a=n.document.querySelector(e):a=e;var l=Object.keys(t.getFontList()),u=t.scaleFactor(),c=[],d=[],g=[];if(!a)return console.error("Html table could not be found with input: ",e),{head:c,body:d,foot:g};for(var p=0;p<a.rows.length;p++){var b=a.rows[p],x=(o=(s=b==null?void 0:b.parentElement)===null||s===void 0?void 0:s.tagName)===null||o===void 0?void 0:o.toLowerCase(),A=y$(l,u,n,b,r,i);A&&(x==="thead"?c.push(A):x==="tfoot"?g.push(A):d.push(A))}return{head:c,body:d,foot:g}}function y$(t,e,n,r,i,s){for(var o=new ST(r),a=0;a<r.cells.length;a++){var l=r.cells[a],u=n.getComputedStyle(l);if(i||u.display!=="none"){var c=void 0;s&&(c=p$(t,l,e,u,n)),o.push({rowSpan:l.rowSpan,colSpan:l.colSpan,styles:c,_element:l,content:v$(l)})}}var d=n.getComputedStyle(r);if(o.length>0&&(i||d.display!=="none"))return o}function v$(t){var e=t.cloneNode(!0);return e.innerHTML=e.innerHTML.replace(/\n/g,"").replace(/ +/g," "),e.innerHTML=e.innerHTML.split(/<br.*?>/).map(function(n){return n.trim()}).join(`
`),e.innerText||e.textContent||""}function w$(t,e,n){for(var r=0,i=[t,e,n];r<i.length;r++){var s=i[r];s&&typeof s!="object"&&console.error("The options parameter should be of type object, is: "+typeof s),s.startY&&typeof s.startY!="number"&&(console.error("Invalid value for startY option",s.startY),delete s.startY)}}function Wo(t,e,n,r,i){if(t==null)throw new TypeError("Cannot convert undefined or null to object");for(var s=Object(t),o=1;o<arguments.length;o++){var a=arguments[o];if(a!=null)for(var l in a)Object.prototype.hasOwnProperty.call(a,l)&&(s[l]=a[l])}return s}function kT(t,e){var n=new hc(t),r=n.getDocumentOptions(),i=n.getGlobalOptions();w$(i,r,e);var s=Wo({},i,r,e),o;typeof window<"u"&&(o=window);var a=x$(i,r,e),l=b$(i,r,e),u=_$(n,s),c=A$(n,s,o);return{id:e.tableId,content:c,hooks:l,styles:a,settings:u}}function x$(t,e,n){for(var r={styles:{},headStyles:{},bodyStyles:{},footStyles:{},alternateRowStyles:{},columnStyles:{}},i=function(l){if(l==="columnStyles"){var u=t[l],c=e[l],d=n[l];r.columnStyles=Wo({},u,c,d)}else{var g=[t,e,n],p=g.map(function(b){return b[l]||{}});r[l]=Wo({},p[0],p[1],p[2])}},s=0,o=Object.keys(r);s<o.length;s++){var a=o[s];i(a)}return r}function b$(t,e,n){for(var r=[t,e,n],i={didParseCell:[],willDrawCell:[],didDrawCell:[],willDrawPage:[],didDrawPage:[]},s=0,o=r;s<o.length;s++){var a=o[s];a.didParseCell&&i.didParseCell.push(a.didParseCell),a.willDrawCell&&i.willDrawCell.push(a.willDrawCell),a.didDrawCell&&i.didDrawCell.push(a.didDrawCell),a.willDrawPage&&i.willDrawPage.push(a.willDrawPage),a.didDrawPage&&i.didDrawPage.push(a.didDrawPage)}return i}function _$(t,e){var n,r,i,s,o,a,l,u,c,d,g,p,b=wm(e.margin,40/t.scaleFactor()),x=(n=S$(t,e.startY))!==null&&n!==void 0?n:b.top,A;e.showFoot===!0?A="everyPage":e.showFoot===!1?A="never":A=(r=e.showFoot)!==null&&r!==void 0?r:"everyPage";var v;e.showHead===!0?v="everyPage":e.showHead===!1?v="never":v=(i=e.showHead)!==null&&i!==void 0?i:"everyPage";var _=(s=e.useCss)!==null&&s!==void 0?s:!1,T=e.theme||(_?"plain":"striped"),R=!!e.horizontalPageBreak,z=(o=e.horizontalPageBreakRepeat)!==null&&o!==void 0?o:null;return{includeHiddenHtml:(a=e.includeHiddenHtml)!==null&&a!==void 0?a:!1,useCss:_,theme:T,startY:x,margin:b,pageBreak:(l=e.pageBreak)!==null&&l!==void 0?l:"auto",rowPageBreak:(u=e.rowPageBreak)!==null&&u!==void 0?u:"auto",tableWidth:(c=e.tableWidth)!==null&&c!==void 0?c:"auto",showHead:v,showFoot:A,tableLineWidth:(d=e.tableLineWidth)!==null&&d!==void 0?d:0,tableLineColor:(g=e.tableLineColor)!==null&&g!==void 0?g:200,horizontalPageBreak:R,horizontalPageBreakRepeat:z,horizontalPageBreakBehaviour:(p=e.horizontalPageBreakBehaviour)!==null&&p!==void 0?p:"afterAllRows"}}function S$(t,e){var n=t.getLastAutoTable(),r=t.scaleFactor(),i=t.pageNumber(),s=!1;if(n&&n.startPageNumber){var o=n.startPageNumber+n.pageNumber-1;s=o===i}return typeof e=="number"?e:(e==null||e===!1)&&s&&(n==null?void 0:n.finalY)!=null?n.finalY+20/r:null}function A$(t,e,n){var r=e.head||[],i=e.body||[],s=e.foot||[];if(e.html){var o=e.includeHiddenHtml;if(n){var a=CT(t,e.html,n,o,e.useCss)||{};r=a.head||r,i=a.body||r,s=a.foot||r}else console.error("Cannot parse html in non browser environment")}var l=e.columns||N$(r,i,s);return{columns:l,head:r,body:i,foot:s}}function N$(t,e,n){var r=t[0]||e[0]||n[0]||[],i=[];return Object.keys(r).filter(function(s){return s!=="_element"}).forEach(function(s){var o=1,a;Array.isArray(r)?a=r[parseInt(s)]:a=r[s],typeof a=="object"&&!Array.isArray(a)&&(o=(a==null?void 0:a.colSpan)||1);for(var l=0;l<o;l++){var u=void 0;Array.isArray(r)?u=i.length:u=s+(l>0?"_".concat(l):"");var c={dataKey:u};i.push(c)}}),i}var iy=function(){function t(e,n,r){this.table=n,this.pageNumber=n.pageNumber,this.settings=n.settings,this.cursor=r,this.doc=e.getDocument()}return t}(),E$=function(t){_T(e,t);function e(n,r,i,s,o,a){var l=t.call(this,n,r,a)||this;return l.cell=i,l.row=s,l.column=o,l.section=s.section,l}return e}(iy),T$=function(){function t(e,n){this.pageNumber=1,this.id=e.id,this.settings=e.settings,this.styles=e.styles,this.hooks=e.hooks,this.columns=n.columns,this.head=n.head,this.body=n.body,this.foot=n.foot}return t.prototype.getHeadHeight=function(e){return this.head.reduce(function(n,r){return n+r.getMaxCellHeight(e)},0)},t.prototype.getFootHeight=function(e){return this.foot.reduce(function(n,r){return n+r.getMaxCellHeight(e)},0)},t.prototype.allRows=function(){return this.head.concat(this.body).concat(this.foot)},t.prototype.callCellHooks=function(e,n,r,i,s,o){for(var a=0,l=n;a<l.length;a++){var u=l[a],c=new E$(e,this,r,i,s,o),d=u(c)===!1;if(r.text=Array.isArray(r.text)?r.text:[r.text],d)return!1}return!0},t.prototype.callEndPageHooks=function(e,n){e.applyStyles(e.userStyles);for(var r=0,i=this.hooks.didDrawPage;r<i.length;r++){var s=i[r];s(new iy(e,this,n))}},t.prototype.callWillDrawPageHooks=function(e,n){for(var r=0,i=this.hooks.willDrawPage;r<i.length;r++){var s=i[r];s(new iy(e,this,n))}},t.prototype.getWidth=function(e){if(typeof this.settings.tableWidth=="number")return this.settings.tableWidth;if(this.settings.tableWidth==="wrap"){var n=this.columns.reduce(function(i,s){return i+s.wrappedWidth},0);return n}else{var r=this.settings.margin;return e-r.left-r.right}},t}(),PT=function(){function t(e,n,r,i,s){s===void 0&&(s=!1),this.height=0,this.raw=e,e instanceof ST&&(this.raw=e._element,this.element=e._element),this.index=n,this.section=r,this.cells=i,this.spansMultiplePages=s}return t.prototype.getMaxCellHeight=function(e){var n=this;return e.reduce(function(r,i){var s;return Math.max(r,((s=n.cells[i.index])===null||s===void 0?void 0:s.height)||0)},0)},t.prototype.hasRowSpan=function(e){var n=this;return e.filter(function(r){var i=n.cells[r.index];return i?i.rowSpan>1:!1}).length>0},t.prototype.canEntireRowFit=function(e,n){return this.getMaxCellHeight(n)<=e},t.prototype.getMinimumRowHeight=function(e,n){var r=this;return e.reduce(function(i,s){var o=r.cells[s.index];if(!o)return 0;var a=n.getLineHeight(o.styles.fontSize),l=o.padding("vertical"),u=l+a;return u>i?u:i},0)},t}(),IT=function(){function t(e,n,r){var i;this.contentHeight=0,this.contentWidth=0,this.wrappedWidth=0,this.minReadableWidth=0,this.minWidth=0,this.width=0,this.height=0,this.x=0,this.y=0,this.styles=n,this.section=r,this.raw=e;var s=e;e!=null&&typeof e=="object"&&!Array.isArray(e)?(this.rowSpan=e.rowSpan||1,this.colSpan=e.colSpan||1,s=(i=e.content)!==null&&i!==void 0?i:e,e._element&&(this.raw=e._element)):(this.rowSpan=1,this.colSpan=1);var o=s!=null?""+s:"",a=/\r\n|\r|\n/g;this.text=o.split(a)}return t.prototype.getTextPos=function(){var e;if(this.styles.valign==="top")e=this.y+this.padding("top");else if(this.styles.valign==="bottom")e=this.y+this.height-this.padding("bottom");else{var n=this.height-this.padding("vertical");e=this.y+n/2+this.padding("top")}var r;if(this.styles.halign==="right")r=this.x+this.width-this.padding("right");else if(this.styles.halign==="center"){var i=this.width-this.padding("horizontal");r=this.x+i/2+this.padding("left")}else r=this.x+this.padding("left");return{x:r,y:e}},t.prototype.getContentHeight=function(e,n){n===void 0&&(n=1.15);var r=Array.isArray(this.text)?this.text.length:1,i=this.styles.fontSize/e*n,s=r*i+this.padding("vertical");return Math.max(s,this.styles.minCellHeight)},t.prototype.padding=function(e){var n=wm(this.styles.cellPadding,0);return e==="vertical"?n.top+n.bottom:e==="horizontal"?n.left+n.right:n[e]},t}(),C$=function(){function t(e,n,r){this.wrappedWidth=0,this.minReadableWidth=0,this.minWidth=0,this.width=0,this.dataKey=e,this.raw=n,this.index=r}return t.prototype.getMaxCustomCellWidth=function(e){for(var n=0,r=0,i=e.allRows();r<i.length;r++){var s=i[r],o=s.cells[this.index];o&&typeof o.styles.cellWidth=="number"&&(n=Math.max(n,o.styles.cellWidth))}return n},t}();function k$(t,e){P$(t,e);var n=[],r=0;e.columns.forEach(function(s){var o=s.getMaxCustomCellWidth(e);o?s.width=o:(s.width=s.wrappedWidth,n.push(s)),r+=s.width});var i=e.getWidth(t.pageSize().width)-r;i&&(i=sy(n,i,function(s){return Math.max(s.minReadableWidth,s.minWidth)})),i&&(i=sy(n,i,function(s){return s.minWidth})),i=Math.abs(i),!e.settings.horizontalPageBreak&&i>.1/t.scaleFactor()&&(i=i<1?i:Math.round(i),console.warn("Of the table content, ".concat(i," units width could not fit page"))),L$(e),R$(e,t),I$(e)}function P$(t,e){var n=t.scaleFactor(),r=e.settings.horizontalPageBreak,i=ET(t,e);e.allRows().forEach(function(s){for(var o=0,a=e.columns;o<a.length;o++){var l=a[o],u=s.cells[l.index];if(u){var c=e.hooks.didParseCell;e.callCellHooks(t,c,u,s,l,null);var d=u.padding("horizontal");u.contentWidth=L0(u.text,u.styles,t)+d;var g=L0(u.text.join(" ").split(/[^\S\u00A0]+/),u.styles,t);if(u.minReadableWidth=g+u.padding("horizontal"),typeof u.styles.cellWidth=="number")u.minWidth=u.styles.cellWidth,u.wrappedWidth=u.styles.cellWidth;else if(u.styles.cellWidth==="wrap"||r===!0)u.contentWidth>i?(u.minWidth=i,u.wrappedWidth=i):(u.minWidth=u.contentWidth,u.wrappedWidth=u.contentWidth);else{var p=10/n;u.minWidth=u.styles.minCellWidth||p,u.wrappedWidth=u.contentWidth,u.minWidth>u.wrappedWidth&&(u.wrappedWidth=u.minWidth)}}}}),e.allRows().forEach(function(s){for(var o=0,a=e.columns;o<a.length;o++){var l=a[o],u=s.cells[l.index];if(u&&u.colSpan===1)l.wrappedWidth=Math.max(l.wrappedWidth,u.wrappedWidth),l.minWidth=Math.max(l.minWidth,u.minWidth),l.minReadableWidth=Math.max(l.minReadableWidth,u.minReadableWidth);else{var c=e.styles.columnStyles[l.dataKey]||e.styles.columnStyles[l.index]||{},d=c.cellWidth||c.minCellWidth;d&&typeof d=="number"&&(l.minWidth=d,l.wrappedWidth=d)}u&&(u.colSpan>1&&!l.minWidth&&(l.minWidth=u.minWidth),u.colSpan>1&&!l.wrappedWidth&&(l.wrappedWidth=u.minWidth))}})}function sy(t,e,n){for(var r=e,i=t.reduce(function(p,b){return p+b.wrappedWidth},0),s=0;s<t.length;s++){var o=t[s],a=o.wrappedWidth/i,l=r*a,u=o.width+l,c=n(o),d=u<c?c:u;e-=d-o.width,o.width=d}if(e=Math.round(e*1e10)/1e10,e){var g=t.filter(function(p){return e<0?p.width>n(p):!0});g.length&&(e=sy(g,e,n))}return e}function I$(t){for(var e={},n=1,r=t.allRows(),i=0;i<r.length;i++)for(var s=r[i],o=0,a=t.columns;o<a.length;o++){var l=a[o],u=e[l.index];if(n>1)n--,delete s.cells[l.index];else if(u)u.cell.height+=s.height,n=u.cell.colSpan,delete s.cells[l.index],u.left--,u.left<=1&&delete e[l.index];else{var c=s.cells[l.index];if(!c)continue;if(c.height=s.height,c.rowSpan>1){var d=r.length-i,g=c.rowSpan>d?d:c.rowSpan;e[l.index]={cell:c,left:g,row:s}}}}}function L$(t){for(var e=t.allRows(),n=0;n<e.length;n++)for(var r=e[n],i=null,s=0,o=0,a=0;a<t.columns.length;a++){var l=t.columns[a];if(o-=1,o>1&&t.columns[a+1])s+=l.width,delete r.cells[l.index];else if(i){var u=i;delete r.cells[l.index],i=null,u.width=l.width+s}else{var u=r.cells[l.index];if(!u)continue;if(o=u.colSpan,s=0,u.colSpan>1){i=u,s+=l.width;continue}u.width=l.width+s}}}function R$(t,e){for(var n={count:0,height:0},r=0,i=t.allRows();r<i.length;r++){for(var s=i[r],o=0,a=t.columns;o<a.length;o++){var l=a[o],u=s.cells[l.index];if(u){e.applyStyles(u.styles,!0);var c=u.width-u.padding("horizontal");if(u.styles.overflow==="linebreak")u.text=e.splitTextToSize(u.text,c+1/e.scaleFactor(),{fontSize:u.styles.fontSize});else if(u.styles.overflow==="ellipsize")u.text=y_(u.text,c,u.styles,e,"...");else if(u.styles.overflow==="hidden")u.text=y_(u.text,c,u.styles,e,"");else if(typeof u.styles.overflow=="function"){var d=u.styles.overflow(u.text,c);typeof d=="string"?u.text=[d]:u.text=d}u.contentHeight=u.getContentHeight(e.scaleFactor(),e.getLineHeightFactor());var g=u.contentHeight/u.rowSpan;u.rowSpan>1&&n.count*n.height<g*u.rowSpan?n={height:g,count:u.rowSpan}:n&&n.count>0&&n.height>g&&(g=n.height),g>s.height&&(s.height=g)}}n.count--}}function y_(t,e,n,r,i){return t.map(function(s){return j$(s,e,n,r,i)})}function j$(t,e,n,r,i){var s=1e4*r.scaleFactor();if(e=Math.ceil(e*s)/s,e>=L0(t,n,r))return t;for(;e<L0(t+i,n,r)&&!(t.length<=1);)t=t.substring(0,t.length-1);return t.trim()+i}function LT(t,e){var n=new hc(t),r=D$(e,n.scaleFactor()),i=new T$(e,r);return k$(n,i),n.applyStyles(n.userStyles),i}function D$(t,e){var n=t.content,r=F$(n.columns);if(n.head.length===0){var i=v_(r,"head");i&&n.head.push(i)}if(n.foot.length===0){var i=v_(r,"foot");i&&n.foot.push(i)}var s=t.settings.theme,o=t.styles;return{columns:r,head:ng("head",n.head,r,o,s,e),body:ng("body",n.body,r,o,s,e),foot:ng("foot",n.foot,r,o,s,e)}}function ng(t,e,n,r,i,s){var o={},a=e.map(function(l,u){for(var c=0,d={},g=0,p=0,b=0,x=n;b<x.length;b++){var A=x[b];if(o[A.index]==null||o[A.index].left===0)if(p===0){var v=void 0;Array.isArray(l)?v=l[A.index-g-c]:v=l[A.dataKey];var _={};typeof v=="object"&&!Array.isArray(v)&&(_=(v==null?void 0:v.styles)||{});var T=O$(t,A,u,i,r,s,_),R=new IT(v,T,t);d[A.dataKey]=R,d[A.index]=R,p=R.colSpan-1,o[A.index]={left:R.rowSpan-1,times:p}}else p--,g++;else o[A.index].left--,p=o[A.index].times,c++}return new PT(l,u,t,d)});return a}function v_(t,e){var n={};return t.forEach(function(r){if(r.raw!=null){var i=M$(e,r.raw);i!=null&&(n[r.dataKey]=i)}}),Object.keys(n).length>0?n:null}function M$(t,e){if(t==="head"){if(typeof e=="object")return e.header||null;if(typeof e=="string"||typeof e=="number")return e}else if(t==="foot"&&typeof e=="object")return e.footer;return null}function F$(t){return t.map(function(e,n){var r,i;return typeof e=="object"?i=(r=e.dataKey)!==null&&r!==void 0?r:n:i=n,new C$(i,e,n)})}function O$(t,e,n,r,i,s,o){var a=d$(r),l;t==="head"?l=i.headStyles:t==="body"?l=i.bodyStyles:t==="foot"&&(l=i.footStyles);var u=Wo({},a.table,a[t],i.styles,l),c=i.columnStyles[e.dataKey]||i.columnStyles[e.index]||{},d=t==="body"?c:{},g=t==="body"&&n%2===0?Wo({},a.alternateRow,i.alternateRowStyles):{},p=f$(s),b=Wo({},p,u,g,d);return Wo(b,o)}function V$(t,e,n){var r;n===void 0&&(n={});var i=ET(t,e),s=new Map,o=[],a=[],l=[];Array.isArray(e.settings.horizontalPageBreakRepeat)?l=e.settings.horizontalPageBreakRepeat:(typeof e.settings.horizontalPageBreakRepeat=="string"||typeof e.settings.horizontalPageBreakRepeat=="number")&&(l=[e.settings.horizontalPageBreakRepeat]),l.forEach(function(g){var p=e.columns.find(function(b){return b.dataKey===g||b.index===g});p&&!s.has(p.index)&&(s.set(p.index,!0),o.push(p.index),a.push(e.columns[p.index]),i-=p.wrappedWidth)});for(var u=!0,c=(r=n==null?void 0:n.start)!==null&&r!==void 0?r:0;c<e.columns.length;){if(s.has(c)){c++;continue}var d=e.columns[c].wrappedWidth;if(u||i>=d)u=!1,o.push(c),a.push(e.columns[c]),i-=d;else break;c++}return{colIndexes:o,columns:a,lastIndex:c-1}}function B$(t,e){for(var n=[],r=0;r<e.columns.length;r++){var i=V$(t,e,{start:r});i.columns.length&&(n.push(i),r=i.lastIndex)}return n}function RT(t,e){var n=e.settings,r=n.startY,i=n.margin,s={x:i.left,y:r},o=e.getHeadHeight(e.columns)+e.getFootHeight(e.columns),a=r+i.bottom+o;if(n.pageBreak==="avoid"){var l=e.body,u=l.reduce(function(g,p){return g+p.height},0);a+=u}var c=new hc(t);(n.pageBreak==="always"||n.startY!=null&&a>c.pageSize().height)&&(DT(c),s.y=i.top),e.callWillDrawPageHooks(c,s);var d=Wo({},s);e.startPageNumber=c.pageNumber(),n.horizontalPageBreak?U$(c,e,d,s):(c.applyStyles(c.userStyles),(n.showHead==="firstPage"||n.showHead==="everyPage")&&e.head.forEach(function(g){return ia(c,e,g,s,e.columns)}),c.applyStyles(c.userStyles),e.body.forEach(function(g,p){var b=p===e.body.length-1;R0(c,e,g,b,d,s,e.columns)}),c.applyStyles(c.userStyles),(n.showFoot==="lastPage"||n.showFoot==="everyPage")&&e.foot.forEach(function(g){return ia(c,e,g,s,e.columns)})),AT(c,e,d,s),e.callEndPageHooks(c,s),e.finalY=s.y,t.lastAutoTable=e,c.applyStyles(c.userStyles)}function U$(t,e,n,r){var i=B$(t,e),s=e.settings;if(s.horizontalPageBreakBehaviour==="afterAllRows")i.forEach(function(u,c){t.applyStyles(t.userStyles),c>0?Jh(t,e,n,r,u.columns,!0):w_(t,e,r,u.columns),z$(t,e,n,r,u.columns),rg(t,e,r,u.columns)});else for(var o=-1,a=i[0],l=function(){var u=o;if(a){t.applyStyles(t.userStyles);var c=a.columns;o>=0?Jh(t,e,n,r,c,!0):w_(t,e,r,c),u=x_(t,e,o+1,r,c),rg(t,e,r,c)}var d=u-o;i.slice(1).forEach(function(g){t.applyStyles(t.userStyles),Jh(t,e,n,r,g.columns,!0),x_(t,e,o+1,r,g.columns,d),rg(t,e,r,g.columns)}),o=u};o<e.body.length-1;)l()}function w_(t,e,n,r){var i=e.settings;t.applyStyles(t.userStyles),(i.showHead==="firstPage"||i.showHead==="everyPage")&&e.head.forEach(function(s){return ia(t,e,s,n,r)})}function z$(t,e,n,r,i){t.applyStyles(t.userStyles),e.body.forEach(function(s,o){var a=o===e.body.length-1;R0(t,e,s,a,n,r,i)})}function x_(t,e,n,r,i,s){t.applyStyles(t.userStyles),s=s??e.body.length;var o=Math.min(n+s,e.body.length),a=-1;return e.body.slice(n,o).forEach(function(l,u){var c=n+u===e.body.length-1,d=jT(t,e,c,r);l.canEntireRowFit(d,i)&&(ia(t,e,l,r,i),a=n+u)}),a}function rg(t,e,n,r){var i=e.settings;t.applyStyles(t.userStyles),(i.showFoot==="lastPage"||i.showFoot==="everyPage")&&e.foot.forEach(function(s){return ia(t,e,s,n,r)})}function q$(t,e,n){var r=n.getLineHeight(t.styles.fontSize),i=t.padding("vertical"),s=Math.floor((e-i)/r);return Math.max(0,s)}function $$(t,e,n,r){var i={};t.spansMultiplePages=!0,t.height=0;for(var s=0,o=0,a=n.columns;o<a.length;o++){var l=a[o],u=t.cells[l.index];if(u){Array.isArray(u.text)||(u.text=[u.text]);var c=new IT(u.raw,u.styles,u.section);c=Wo(c,u),c.text=[];var d=q$(u,e,r);u.text.length>d&&(c.text=u.text.splice(d,u.text.length));var g=r.scaleFactor(),p=r.getLineHeightFactor();u.contentHeight=u.getContentHeight(g,p),u.contentHeight>=e&&(u.contentHeight=e,c.styles.minCellHeight-=e),u.contentHeight>t.height&&(t.height=u.contentHeight),c.contentHeight=c.getContentHeight(g,p),c.contentHeight>s&&(s=c.contentHeight),i[l.index]=c}}var b=new PT(t.raw,-1,t.section,i,!0);b.height=s;for(var x=0,A=n.columns;x<A.length;x++){var l=A[x],c=b.cells[l.index];c&&(c.height=b.height);var u=t.cells[l.index];u&&(u.height=t.height)}return b}function H$(t,e,n,r){var i=t.pageSize().height,s=r.settings.margin,o=s.top+s.bottom,a=i-o;e.section==="body"&&(a-=r.getHeadHeight(r.columns)+r.getFootHeight(r.columns));var l=e.getMinimumRowHeight(r.columns,t),u=l<n;if(l>a)return console.error("Will not be able to print row ".concat(e.index," correctly since it's minimum height is larger than page height")),!0;if(!u)return!1;var c=e.hasRowSpan(r.columns),d=e.getMaxCellHeight(r.columns)>a;return d?(c&&console.error("The content of row ".concat(e.index," will not be drawn correctly since drawing rows with a height larger than the page height and has cells with rowspans is not supported.")),!0):!(c||r.settings.rowPageBreak==="avoid")}function R0(t,e,n,r,i,s,o){var a=jT(t,e,r,s);if(n.canEntireRowFit(a,o))ia(t,e,n,s,o);else if(H$(t,n,a,e)){var l=$$(n,a,e,t);ia(t,e,n,s,o),Jh(t,e,i,s,o),R0(t,e,l,r,i,s,o)}else Jh(t,e,i,s,o),R0(t,e,n,r,i,s,o)}function ia(t,e,n,r,i){r.x=e.settings.margin.left;for(var s=0,o=i;s<o.length;s++){var a=o[s],l=n.cells[a.index];if(!l){r.x+=a.width;continue}t.applyStyles(l.styles),l.x=r.x,l.y=r.y;var u=e.callCellHooks(t,e.hooks.willDrawCell,l,n,a,r);if(u===!1){r.x+=a.width;continue}W$(t,l,r);var c=l.getTextPos();bT(l.text,c.x,c.y,{halign:l.styles.halign,valign:l.styles.valign,maxWidth:Math.ceil(l.width-l.padding("left")-l.padding("right"))},t.getDocument()),e.callCellHooks(t,e.hooks.didDrawCell,l,n,a,r),r.x+=a.width}r.y+=n.height}function W$(t,e,n){var r=e.styles;if(t.getDocument().setFillColor(t.getDocument().getFillColor()),typeof r.lineWidth=="number"){var i=NT(r.lineWidth,r.fillColor);i&&t.rect(e.x,n.y,e.width,e.height,i)}else typeof r.lineWidth=="object"&&(r.fillColor&&t.rect(e.x,n.y,e.width,e.height,"F"),G$(t,e,n,r.lineWidth))}function G$(t,e,n,r){var i,s,o,a;r.top&&(i=n.x,s=n.y,o=n.x+e.width,a=n.y,r.right&&(o+=.5*r.right),r.left&&(i-=.5*r.left),l(r.top,i,s,o,a)),r.bottom&&(i=n.x,s=n.y+e.height,o=n.x+e.width,a=n.y+e.height,r.right&&(o+=.5*r.right),r.left&&(i-=.5*r.left),l(r.bottom,i,s,o,a)),r.left&&(i=n.x,s=n.y,o=n.x,a=n.y+e.height,r.top&&(s-=.5*r.top),r.bottom&&(a+=.5*r.bottom),l(r.left,i,s,o,a)),r.right&&(i=n.x+e.width,s=n.y,o=n.x+e.width,a=n.y+e.height,r.top&&(s-=.5*r.top),r.bottom&&(a+=.5*r.bottom),l(r.right,i,s,o,a));function l(u,c,d,g,p){t.getDocument().setLineWidth(u),t.getDocument().line(c,d,g,p,"S")}}function jT(t,e,n,r){var i=e.settings.margin.bottom,s=e.settings.showFoot;return(s==="everyPage"||s==="lastPage"&&n)&&(i+=e.getFootHeight(e.columns)),t.pageSize().height-r.y-i}function Jh(t,e,n,r,i,s){i===void 0&&(i=[]),s===void 0&&(s=!1),t.applyStyles(t.userStyles),e.settings.showFoot==="everyPage"&&!s&&e.foot.forEach(function(a){return ia(t,e,a,r,i)}),e.callEndPageHooks(t,r);var o=e.settings.margin;AT(t,e,n,r),DT(t),e.pageNumber++,r.x=o.left,r.y=o.top,n.y=o.top,e.callWillDrawPageHooks(t,r),e.settings.showHead==="everyPage"&&(e.head.forEach(function(a){return ia(t,e,a,r,i)}),t.applyStyles(t.userStyles))}function DT(t){var e=t.pageNumber();t.setPage(e+1);var n=t.pageNumber();return n===e?(t.addPage(),!0):!1}function K$(t){t.API.autoTable=function(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];var r=e[0],i=kT(this,r),s=LT(this,i);return RT(this,s),this},t.API.lastAutoTable=!1,t.API.autoTableText=function(e,n,r,i){bT(e,n,r,i,this)},t.API.autoTableSetDefaults=function(e){return hc.setDefaults(e,this),this},t.autoTableSetDefaults=function(e,n){hc.setDefaults(e,n)},t.API.autoTableHtmlToJson=function(e,n){var r;if(n===void 0&&(n=!1),typeof window>"u")return console.error("Cannot run autoTableHtmlToJson in non browser environment"),null;var i=new hc(this),s=CT(i,e,window,n,!1),o=s.head,a=s.body,l=((r=o[0])===null||r===void 0?void 0:r.map(function(u){return u.content}))||[];return{columns:l,rows:a,data:a}}}var ig;function Q$(t,e){var n=kT(t,e),r=LT(t,n);RT(t,r)}try{if(typeof window<"u"&&window){var b_=window,__=b_.jsPDF||((ig=b_.jspdf)===null||ig===void 0?void 0:ig.jsPDF);__&&K$(__)}}catch(t){console.error("Could not apply autoTable plugin",t)}const Y$=()=>{const[t,e]=G.useState(!0),[n,r]=G.useState(""),[i,s]=G.useState(""),[o,a]=G.useState([]),[l,u]=G.useState(!1),[c,d]=G.useState(null),g=G.useRef(null),p=G.useRef(null),b=G.useRef(null),x=k=>k?(k instanceof Date?k:new Date(k)).toLocaleDateString("en-CA"):"-",A=k=>k?(k instanceof Date?k:new Date(k)).toLocaleTimeString("en-IN",{hour:"2-digit",minute:"2-digit"}):"-";G.useEffect(()=>{(async()=>{const C=await oa();if(d(C||{}),n&&i){u(!0);try{const M=(await Cf(new Date(n),new Date(i))).map(E=>({...E,table:E.tableName||"-",servedBy:E.staffName||"-",total:E.subTotal||0,discount:E.discount||0,grandTotal:E.grandTotal||0}));a(M)}catch(P){console.error("Error fetching sales:",P)}u(!1)}})()},[n,i]);const v=o.reduce((k,C)=>(k.total+=C.total,k.discount+=C.discount,k.grandTotal+=C.grandTotal,k),{total:0,discount:0,grandTotal:0}),_="",T=()=>{if(!g.current.value||!p.current.value){alert("Please select both a start and end date.");return}r(g.current.value),s(p.current.value),e(!1)},R=k=>{k.key==="Enter"&&(k.preventDefault(),p.current.focus())},z=k=>{k.key==="Enter"&&(k.preventDefault(),b.current.click())},K=()=>{if(o.length===0){alert("No data available to export.");return}const k=new it,C=k.internal.pageSize.height||k.internal.pageSize.getHeight(),P=k.internal.pageSize.width||k.internal.pageSize.getWidth(),M=(c==null?void 0:c.restaurantName)||"SyncServe Restaurant",E=new Date().toLocaleString("en-IN",{year:"numeric",month:"long",day:"numeric",hour:"2-digit",minute:"2-digit"});k.setFontSize(20),k.setFont("helvetica","bold"),k.text(M,P/2,20,{align:"center"}),k.setFontSize(12),k.setFont("helvetica","normal"),k.text("Sales Report",P/2,28,{align:"center"}),k.setFontSize(10),k.setTextColor(100),k.text(`Date Range: ${n} to ${i}`,14,40),k.text(`Generated on: ${E}`,P-14,40,{align:"right"});const L=o.length,j=L>0?v.grandTotal/L:0;k.setFontSize(10),k.text("Report Summary",14,52),k.setDrawColor(220,220,220),k.line(14,53,P-14,53);let H=62;k.setFontSize(12),k.setTextColor(0),k.text("Total Gross Sales:",14,H),k.setFont("helvetica","bold"),k.text(`${_}${v.grandTotal.toFixed(2)}`,60,H),k.setFont("helvetica","normal"),k.text("Total Transactions:",14,H+8),k.setFont("helvetica","bold"),k.text(`${L}`,60,H+8),k.setFont("helvetica","normal"),k.text("Total Discounts:",P/2,H),k.setFont("helvetica","bold"),k.text(`${_}${v.discount.toFixed(2)}`,P/2+40,H),k.setFont("helvetica","normal"),k.text("Average Sale Value:",P/2,H+8),k.setFont("helvetica","bold"),k.text(`${_}${j.toFixed(2)}`,P/2+40,H+8);const ne=["#","Date & Time","Table","Served By","Total","Discount","Grand Total"],ce=o.map((ee,oe)=>[oe+1,`${x(ee.finalizedAt)}
${A(ee.finalizedAt)}`,ee.table,ee.servedBy,`${_}${ee.total.toFixed(2)}`,`${_}${ee.discount.toFixed(2)}`,`${_}${ee.grandTotal.toFixed(2)}`]),ae=[{content:""},{content:""},{content:""},{content:"TOTALS",styles:{fontStyle:"bold"}},{content:`${_}${v.total.toFixed(2)}`,styles:{fontStyle:"bold"}},{content:`${_}${v.discount.toFixed(2)}`,styles:{fontStyle:"bold"}},{content:`${_}${v.grandTotal.toFixed(2)}`,styles:{fontStyle:"bold"}}];Q$(k,{startY:H+20,head:[ne],body:ce,foot:[ae],theme:"grid",styles:{cellPadding:3,halign:"center",valign:"middle"},headStyles:{fillColor:[44,62,80],textColor:255,fontStyle:"bold"},bodyStyles:{lineWidth:0},footStyles:{fillColor:[236,240,241],textColor:[44,62,80],fontStyle:"bold",lineWidth:0},columnStyles:{0:{halign:"center",cellWidth:10},1:{halign:"center",cellWidth:30}},didDrawPage:function(ee){const oe=k.internal.getNumberOfPages();k.setFontSize(9),k.setTextColor(150),k.text(`Page ${ee.pageNumber} of ${oe}`,P/2,C-10,{align:"center"})}}),k.save(`SalesReport_${M.replace(/\s+/g,"")}_${n}_to_${i}.pdf`)};return t?m.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",children:m.jsxs("div",{className:"bg-white p-8 rounded-lg shadow-2xl w-full max-w-md animate-fade-in-up",children:[m.jsx("h2",{className:"text-2xl font-bold text-slate-800 mb-6 text-center",children:"Select Date Range"}),m.jsxs("div",{className:"space-y-4",children:[m.jsxs("div",{children:[m.jsx("label",{className:"block text-sm font-medium text-slate-600 mb-1",children:"Start Date"}),m.jsx("input",{ref:g,type:"date",onKeyDown:R,className:"w-full border border-gray-300 rounded-md px-3 py-2 focus:ring-2 focus:ring-indigo-500 focus:border-indigo-500 transition",autoFocus:!0})]}),m.jsxs("div",{children:[m.jsx("label",{className:"block text-sm font-medium text-slate-600 mb-1",children:"End Date"}),m.jsx("input",{ref:p,type:"date",onKeyDown:z,className:"w-full border border-gray-300 rounded-md px-3 py-2 focus:ring-2 focus:ring-indigo-500 focus:border-indigo-500 transition"})]})]}),m.jsxs("button",{ref:b,onClick:T,className:"w-full mt-8 flex items-center justify-center gap-2 bg-indigo-600 text-white px-4 py-3 rounded-lg shadow-md hover:bg-indigo-700 transition-all duration-300 ease-in-out transform hover:scale-105",children:[m.jsx(mI,{size:14})," Generate Report"]})]})}):m.jsxs("div",{className:"p-4 sm:p-6 lg:p-8 bg-slate-50 min-h-screen",children:[m.jsxs("div",{className:"flex flex-col sm:flex-row justify-between items-start sm:items-center mb-6",children:[m.jsxs("div",{children:[m.jsx("h1",{className:"text-3xl font-bold text-slate-800",children:"Sales Report"}),m.jsxs("p",{className:"text-sm text-slate-500 mt-1",children:["Showing results for: ",m.jsx("span",{className:"font-semibold",children:n})," to ",m.jsx("span",{className:"font-semibold",children:i})]})]}),m.jsxs("button",{onClick:K,disabled:o.length===0,className:"flex items-center gap-2 bg-rose-600 text-white px-4 py-2 rounded-lg shadow-md hover:bg-rose-700 transition-all duration-300 ease-in-out transform hover:scale-105 disabled:bg-gray-400 disabled:scale-100 disabled:cursor-not-allowed mt-4 sm:mt-0",children:[m.jsx(fI,{size:18})," Export as PDF"]})]}),m.jsx("div",{className:"overflow-x-auto bg-white rounded-lg shadow-lg",children:l?m.jsxs("div",{className:"flex justify-center items-center py-20",children:[m.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-indigo-600"}),m.jsx("p",{className:"ml-4 text-slate-600",children:"Loading sales records..."})]}):m.jsxs("table",{className:"min-w-full",children:[m.jsx("thead",{className:"bg-slate-100",children:m.jsx("tr",{children:[{title:"#",align:"text-left"},{title:"Date",align:"text-left"},{title:"Time",align:"text-left"},{title:"Table",align:"text-left"},{title:"Served By",align:"text-left"},{title:"Total",align:"text-right"},{title:"Discount",align:"text-right"},{title:"Grand Total",align:"text-right"}].map(k=>m.jsx("th",{className:`px-6 py-3 ${k.align} text-xs font-bold text-slate-600 uppercase tracking-wider`,children:k.title},k.title))})}),m.jsx("tbody",{className:"divide-y divide-gray-200",children:o.length>0?o.map((k,C)=>m.jsxs("tr",{className:"hover:bg-indigo-50 transition-colors duration-200",children:[m.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-700 text-left",children:C+1}),m.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-700 text-left",children:x(k.finalizedAt)}),m.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-700 text-left",children:A(k.finalizedAt)}),m.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-700 text-left",children:k.table}),m.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-700 text-left",children:k.servedBy}),m.jsxs("td",{className:"px-6 py-4 whitespace-nowrap text-sm font-medium text-gray-800 text-right",children:[_,k.total.toFixed(2)]}),m.jsxs("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-red-600 text-right",children:[_,k.discount.toFixed(2)]}),m.jsxs("td",{className:"px-6 py-4 whitespace-nowrap text-sm font-bold text-indigo-700 text-right",children:[_,k.grandTotal.toFixed(2)]})]},k.id)):m.jsx("tr",{children:m.jsx("td",{colSpan:8,className:"text-center py-16",children:m.jsxs("div",{className:"flex flex-col items-center justify-center text-slate-500",children:[m.jsx(pI,{className:"w-16 h-16 mb-4 text-slate-300"}),m.jsx("h3",{className:"text-xl font-semibold",children:"No Sales Records Found"}),m.jsx("p",{className:"text-sm mt-1",children:"There were no sales in the selected date range."})]})})})}),o.length>0&&m.jsx("tfoot",{className:"bg-slate-200 font-bold text-slate-800",children:m.jsxs("tr",{children:[m.jsx("td",{colSpan:5,className:"px-6 py-3 text-right text-sm",children:"TOTALS"}),m.jsxs("td",{className:"px-6 py-3 text-right text-sm",children:[_,v.total.toFixed(2)]}),m.jsxs("td",{className:"px-6 py-3 text-right text-sm text-red-700",children:[_,v.discount.toFixed(2)]}),m.jsxs("td",{className:"px-6 py-3 text-right text-sm text-indigo-800",children:[_,v.grandTotal.toFixed(2)]})]})})]})})]})},X$=[{to:"/reports/sales",title:"Sales Report",description:"View overall sales transactions within a specific date range.",icon:m.jsx(kE,{className:"h-8 w-8 text-blue-500"}),color:"blue"},{to:"/reports/item-wise-sales",title:"Item-wise Sales Report",description:"Analyze sales performance by individual menu items.",icon:m.jsx(dU,{className:"h-8 w-8 text-green-500"}),color:"green"},{to:"/reports/table-wise-sales",title:"Table-wise Sales Report",description:"Track sales and revenue generated by each table.",icon:m.jsx(mU,{className:"h-8 w-8 text-purple-500"}),color:"purple"},{to:"/reports/payment-mode",title:"Payment Mode Report",description:"Breakdown of sales by payment method like cash, card, etc.",icon:m.jsx(uU,{className:"h-8 w-8 text-yellow-500"}),color:"yellow"}],J$=()=>m.jsxs("div",{className:"p-6 bg-gray-50 min-h-full",children:[m.jsxs("div",{className:"mb-8",children:[m.jsx("h1",{className:"text-3xl font-bold text-gray-800",children:"Sales & Revenue Reports"}),m.jsx("p",{className:"text-gray-500 mt-1",children:"Select a report type to view details."})]}),m.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4 gap-6",children:X$.map(t=>m.jsxs(ev,{to:t.to,className:"group bg-white rounded-xl shadow-md p-6 flex flex-col justify-between hover:shadow-xl hover:-translate-y-1 transition-all duration-300 cursor-pointer border border-gray-200",children:[m.jsxs("div",{children:[m.jsx("div",{className:"mb-4",children:t.icon}),m.jsx("h3",{className:"text-xl font-semibold text-gray-800 mb-2",children:t.title}),m.jsx("p",{className:"text-gray-600 text-sm",children:t.description})]}),m.jsx("div",{className:"mt-6",children:m.jsx("span",{className:`font-semibold text-${t.color}-600 group-hover:text-${t.color}-800 transition-colors`,children:"View Report "})})]},t.title))})]}),Z$=()=>m.jsx("svg",{stroke:"currentColor",fill:"currentColor",strokeWidth:"0",viewBox:"0 0 512 512",height:"1em",width:"1em",xmlns:"http://www.w3.org/2000/svg",children:m.jsx("path",{d:"M416 224V64c0-8.8-7.2-16-16-16H112c-8.8 0-16 7.2-16 16v160h320zM96 256H32v176c0 13.3 10.7 24 24 24h32v-80c0-26.5 21.5-48 48-48h160c26.5 0 48 21.5 48 48v80h32c13.3 0 24-10.7 24-24V256H96zM480 96h-32v128h32c8.8 0 16-7.2 16-16V112c0-8.8-7.2-16-16-16zM288 352h-64c-8.8 0-16 7.2-16 16v64c0 8.8 7.2 16 16 16h64c8.8 0 16-7.2 16-16v-64c0-8.8-7.2-16-16-16z"})}),eH=()=>m.jsx("svg",{stroke:"currentColor",fill:"currentColor",strokeWidth:"0",viewBox:"0 0 512 512",height:"1em",width:"1em",xmlns:"http://www.w3.org/2000/svg",children:m.jsx("path",{d:"M512 288c0 44.2-35.8 80-80 80s-80-35.8-80-80 35.8-80 80-80 80 35.8 80 80zM400 288c0 22.1 17.9 40 40 40s40-17.9 40-40-17.9-40-40-40-40 17.9-40 40zM192 288c0 44.2-35.8 80-80 80s-80-35.8-80-80 35.8-80 80-80 80 35.8 80 80zM32 288c0 22.1 17.9 40 40 40s40-17.9 40-40-17.9-40-40-40-40 17.9-40 40zM320 128c0 44.2-35.8 80-80 80s-80-35.8-80-80 35.8-80 80-80 80 35.8 80 80zM160 128c0 22.1 17.9 40 40 40s40-17.9 40-40-17.9-40-40-40-40 17.9-40 40zM256 0C114.6 0 0 114.6 0 256s114.6 256 256 256 256-114.6 256-256S397.4 0 256 0zM256 480c-123.5 0-224-100.5-224-224S132.5 32 256 32s224 100.5 224 224-100.5 224-224 224z"})}),tH=()=>m.jsx("svg",{stroke:"currentColor",fill:"currentColor",strokeWidth:"0",viewBox:"0 0 576 512",height:"1em",width:"1em",xmlns:"http://www.w3.org/2000/svg",children:m.jsx("path",{d:"M528 224H48.8c-10.7 0-20.8 5.1-26.9 13.2L0 273.4V464c0 26.5 21.5 48 48 48h480c26.5 0 48-21.5 48-48V273.4l-21.9-36.2c-6-8.1-16.1-13.2-26.9-13.2zM48 352h160v64H48v-64zm192 0h160v64H240v-64zm336-48.4l19.2 31.8-19.2 31.8V303.6zM48 0h480c26.5 0 48 21.5 48 48v80H0V48C0 21.5 21.5 0 48 0z"})}),nH=()=>m.jsx("svg",{stroke:"currentColor",fill:"currentColor",strokeWidth:"0",viewBox:"0 0 448 512",height:"1em",width:"1em",xmlns:"http://www.w3.org/2000/svg",children:m.jsx("path",{d:"M424.4 214.7L72.4 6.6C43.8-10.3 0 6.1 0 47.9V464c0 37.5 40.7 60.1 72.4 41.3l352-208c31.4-18.5 31.5-64.1 0-82.6z"})}),rH=()=>m.jsx("svg",{stroke:"currentColor",fill:"currentColor",strokeWidth:"0",viewBox:"0 0 512 512",height:"1em",width:"1em",xmlns:"http://www.w3.org/2000/svg",children:m.jsx("path",{d:"M32 32v448h448V32H32zm240 344h-32V200h32v176zm88 0h-32V136h32v240zm-176 0h-32V280h32v96z"})}),iH=()=>m.jsx("svg",{stroke:"currentColor",fill:"currentColor",strokeWidth:"0",viewBox:"0 0 544 512",height:"1em",width:"1em",xmlns:"http://www.w3.org/2000/svg",children:m.jsx("path",{d:"M527.79 288H290.51a15.95 15.95 0 0 1-15.95-16V16.21a15.95 15.95 0 0 1 15.95-16c2.65 0 5.26.65 7.64 1.86A256.06 256.06 0 0 1 527.79 288zm-288-16a15.95 15.95 0 0 1 15.95-16H528a16 16 0 0 1 16 16v16a256 256 0 0 1-256 256H21.53c-11.21 0-19.18-11.45-14.45-21.53A256.06 256.06 0 0 1 239.79 272z"})}),sH=()=>m.jsx("svg",{stroke:"currentColor",fill:"currentColor",strokeWidth:"0",viewBox:"0 0 512 512",height:"1em",width:"1em",xmlns:"http://www.w3.org/2000/svg",children:m.jsx("path",{d:"M500 384c6.6 0 12-5.4 12-12V108c0-6.6-5.4-12-12-12h-20c-6.6 0-12 5.4-12 12v33.3L339.5 280.8 223.7 125.5c-4.5-5.8-12.3-7.5-18.7-4.4l-112 56C85.7 180.1 80 186.8 80 194.5V320c0 6.6 5.4 12 12 12h20c6.6 0 12-5.4 12-12v-33.3l128.5-160.6 115.7 154.3c4.5 5.8 12.3 7.5 18.7 4.4l112-56c6.4-3.1 13.2-2.3 18.7 2.2l20 20V372c0 6.6 5.4 12 12 12z"})}),oH=()=>m.jsx("svg",{stroke:"currentColor",fill:"currentColor",strokeWidth:"0",viewBox:"0 0 576 512",height:"1em",width:"1em",xmlns:"http://www.w3.org/2000/svg",children:m.jsx("path",{d:"M552 64H448V24c0-13.3-10.7-24-24-24H152c-13.3 0-24 10.7-24 24v40H24C10.7 64 0 74.7 0 88v56c0 66.5 77.9 130.7 171.9 142.4C203.3 392.4 256 464 256 464v48H176c-13.3 0-24 10.7-24 24s10.7 24 24 24h224c13.3 0 24-10.7 24-24s-10.7-24-24-24H320v-48s52.7-71.6 84.1-177.6C502.1 274.7 576 210.5 576 144V88c0-13.3-10.7-24-24-24zM128 128c0-17.7 14.3-32 32-32h192c17.7 0 32 14.3 32 32v32H128v-32z"})}),aH=()=>m.jsx("svg",{stroke:"currentColor",fill:"currentColor",strokeWidth:"0",viewBox:"0 0 512 512",height:"1em",width:"1em",xmlns:"http://www.w3.org/2000/svg",children:m.jsx("path",{d:"M283.211 512c78.962 0 151.079-35.925 198.857-94.792 7.068-8.708-.639-21.43-11.562-19.35-124.203 23.654-238.262-71.576-238.262-196.954 0-72.222 38.662-138.635 101.498-174.394 9.686-5.512 7.25-20.197-3.756-22.23A258.156 258.156 0 0 0 283.211 0c-141.309 0-256 114.51-256 256 0 141.309 114.51 256 256 256z"})}),lH=()=>m.jsx("svg",{stroke:"currentColor",fill:"currentColor",strokeWidth:"0",viewBox:"0 0 512 512",height:"1em",width:"1em",xmlns:"http://www.w3.org/2000/svg",children:m.jsx("path",{d:"M256 160c-52.9 0-96 43.1-96 96s43.1 96 96 96 96-43.1 96-96-43.1-96-96-96zm246.4 80.5l-94.7-47.3 33.5-100.4c4.5-13.6-8.4-26.5-21.9-21.9l-100.4 33.5-47.3-94.7c-6.4-12.8-24.6-12.8-31 0l-47.3 94.7-100.4-33.5c-13.6-4.5-26.5 8.4-21.9 21.9l33.5 100.4-94.7 47.3c-12.8 6.4-12.8 24.6 0 31l94.7 47.3-33.5 100.5c-4.5 13.6 8.4 26.5 21.9 21.9l100.4-33.5 47.3 94.7c6.4 12.8 24.6 12.8 31 0l47.3-94.7 100.4 33.5c13.6 4.5 26.5-8.4 21.9-21.9l-33.5-100.4 94.7-47.3c13-6.5 13-24.7.2-31.1z"})}),S_=(t=0,e=1500)=>{const[n,r]=G.useState(0),i=1e3/60,s=Math.round(e/i);return G.useEffect(()=>{let o=0;const a=setInterval(()=>{o++;const l=o/s;r(t*l),o===s&&(clearInterval(a),r(t))},i);return()=>clearInterval(a)},[t,e]),n},uH=()=>{const[t,e]=G.useState(!0),[n,r]=G.useState(""),[i,s]=G.useState(""),[o,a]=G.useState([]),[l,u]=G.useState([]),[c,d]=G.useState(!1),[g,p]=G.useState(null),[b,x]=G.useState("bar"),[A,v]=G.useState(""),[_,T]=G.useState({key:"totalRevenue",direction:"descending"}),[R,z]=G.useState(1),[K,k]=G.useState(!1),C=10,P=G.useRef(null),M=G.useRef(null),E=G.useRef(null),L=G.useRef(null),j=G.useRef(null),H=Se=>{const ke=Se.reduce((Y,Ke)=>((Ke.items||[]).forEach(ot=>{const Ue=ot.name||"Unknown Item";Y[Ue]||(Y[Ue]={quantity:0,totalRevenue:0,price:Number(ot.price)||0});const Ie=Number(ot.quantity)||0;Y[Ue].quantity+=Ie,Y[Ue].totalRevenue+=Ie*(Number(ot.price)||0)}),Y),{}),me=Object.values(ke).reduce((Y,Ke)=>Y+Ke.totalRevenue,0);return Object.entries(ke).map(([Y,Ke])=>({name:Y,...Ke,contribution:me>0?Ke.totalRevenue/me*100:0}))};G.useEffect(()=>{const Se=new URLSearchParams(window.location.search),ke=Se.get("startDate"),me=Se.get("endDate");ke&&me&&(r(ke),s(me),e(!1))},[]),G.useEffect(()=>{(async()=>{if(n&&i){d(!0);const ke=new Date(n),me=new Date(i),Y=me.getTime()-ke.getTime(),Ke=new Date(ke.getTime()-1),ot=new Date(Ke.getTime()-Y);try{const[Ue,Ie,ze]=await Promise.all([oa(),Cf(ke,me),Cf(ot,Ke)]);p(Ue||{}),a(H(Ie)),u(H(ze));const Be=new URLSearchParams({startDate:n,endDate:i});window.history.pushState(null,"",`?${Be.toString()}`)}catch(Ue){console.error("Error processing item-wise sales report:",Ue)}d(!1)}})()},[n,i]),G.useEffect(()=>{K?document.documentElement.classList.add("dark"):document.documentElement.classList.remove("dark")},[K]);const ne=G.useMemo(()=>{let Se=[...o];return A&&(Se=Se.filter(ke=>ke.name.toLowerCase().includes(A.toLowerCase()))),Se.sort((ke,me)=>ke[_.key]<me[_.key]?_.direction==="ascending"?-1:1:ke[_.key]>me[_.key]?_.direction==="ascending"?1:-1:0),Se},[o,A,_]),ce=G.useMemo(()=>{const Se=(R-1)*C;return ne.slice(Se,Se+C)},[ne,R]),ae=G.useMemo(()=>o.reduce((Se,ke)=>(Se.totalRevenue+=ke.totalRevenue,Se.totalQuantity+=ke.quantity,Se),{totalRevenue:0,totalQuantity:0}),[o]),ee=G.useMemo(()=>l.reduce((Se,ke)=>(Se.totalRevenue+=ke.totalRevenue,Se.totalQuantity+=ke.quantity,Se),{totalRevenue:0,totalQuantity:0}),[l]),oe=(Se,ke)=>ke===0?Se>0?100:0:(Se-ke)/ke*100,ge=oe(ae.totalRevenue,ee.totalRevenue),xe=oe(ae.totalQuantity,ee.totalQuantity),V=ne.length>0?ne[0].name:"N/A",Q="",te=S_(ae.totalRevenue),ie=S_(ae.totalQuantity);G.useEffect(()=>{if(M.current&&M.current.destroy(),ce.length===0||!P.current)return;const Se=()=>{const ke=P.current.getContext("2d"),me=b==="pie"?ne.slice(0,7):ce,Y=me.map(ze=>ze.name),Ke=me.map(ze=>ze.totalRevenue),ot=K?"rgba(255, 255, 255, 0.1)":"rgba(0, 0, 0, 0.1)",Ue=K?"#e2e8f0":"#334155",Ie=K?"#f1f5f9":"#1e293b";M.current=new window.Chart(ke,{type:b,data:{labels:Y,datasets:[{label:"Total Revenue",data:Ke,backgroundColor:b==="pie"?["#4f46e5","#6366f1","#818cf8","#a5b4fc","#c7d2fe","#e0e7ff"]:"#4f46e5",borderColor:K?"#374151":"#fff",borderWidth:1}]},options:{indexAxis:b==="bar"?"y":"x",responsive:!0,maintainAspectRatio:!1,plugins:{legend:{display:b==="pie",labels:{color:Ue}},title:{display:!0,text:"Item Revenue",color:Ie}},scales:{x:{beginAtZero:!0,ticks:{color:Ue},grid:{color:ot}},y:{beginAtZero:!0,ticks:{color:Ue},grid:{color:ot}}}}})};if(window.Chart)Se();else{const ke=document.createElement("script");ke.src="https://cdn.jsdelivr.net/npm/chart.js",ke.onload=Se,document.body.appendChild(ke)}},[ce,ne,b,K]);const le=Se=>{const ke=new Date;let me=new Date;Se==="today"?me.setHours(0,0,0,0):Se==="week"?me.setDate(ke.getDate()-6):Se==="month"&&me.setDate(1);const Y=Ke=>Ke.toISOString().split("T")[0];r(Y(me)),s(Y(ke)),e(!1)},pe=()=>{!E.current.value||!L.current.value||(r(E.current.value),s(L.current.value),e(!1))},be=Se=>{let ke="ascending";_.key===Se&&_.direction==="ascending"&&(ke="descending"),T({key:Se,direction:ke})},_e=G.useCallback(()=>{if(ne.length===0)return;const Se=()=>{const{jsPDF:me}=window.jspdf,Y=new me,Ke=(g==null?void 0:g.restaurantName)||"Restaurant";Y.setFontSize(18),Y.text(`${Ke} - Item-Wise Sales Report`,14,22),Y.setFontSize(11),Y.setTextColor(100),Y.text(`Date Range: ${n} to ${i}`,14,30);const ot=["#","Item Name","Qty Sold","Unit Price","Total Revenue","% of Total"],Ue=ne.map((Ie,ze)=>[ze+1,Ie.name,Ie.quantity,`${Q}${Ie.price.toFixed(2)}`,`${Q}${Ie.totalRevenue.toFixed(2)}`,`${Ie.contribution.toFixed(2)}%`]);Y.autoTable({startY:40,head:[ot],body:Ue,foot:[["","TOTALS",ae.totalQuantity,"",`${Q}${ae.totalRevenue.toFixed(2)}`,"100.00%"]],theme:"striped",headStyles:{fillColor:[44,62,80]},footStyles:{fillColor:[236,240,241],textColor:[44,62,80],fontStyle:"bold"}}),Y.save(`ItemWiseSalesReport_${n}_to_${i}.pdf`)},ke=()=>{if(window.jspdf&&window.jspdf.autoTable)Se();else if(window.jspdf){const me=document.createElement("script");me.src="https://cdnjs.cloudflare.com/ajax/libs/jspdf-autotable/3.8.2/jspdf.plugin.autotable.min.js",me.onload=Se,document.body.appendChild(me)}else{const me=document.createElement("script");me.src="https://cdnjs.cloudflare.com/ajax/libs/jspdf/2.5.1/jspdf.umd.min.js",me.onload=()=>ke(),document.body.appendChild(me)}};ke()},[ne,g,n,i,ae]),Te=()=>{if(ne.length===0)return;const Se=["Item Name","Qty Sold","Unit Price","Total Revenue","% of Total"],ke=ne.map(Ke=>[`"${Ke.name.replace(/"/g,'""')}"`,Ke.quantity,Ke.price,Ke.totalRevenue,Ke.contribution.toFixed(2)]),me="data:text/csv;charset=utf-8,"+[Se.join(","),...ke.map(Ke=>Ke.join(","))].join(`
`),Y=document.createElement("a");Y.setAttribute("href",encodeURI(me)),Y.setAttribute("download",`ItemWiseSalesReport_${n}_to_${i}.csv`),document.body.appendChild(Y),Y.click(),document.body.removeChild(Y)},je=({value:Se})=>m.jsxs("span",{className:`text-xs ml-2 font-bold ${Se>=0?"text-green-500":"text-red-500"}`,children:[Se>=0?"":""," ",Math.abs(Se).toFixed(1),"%"]});return t?m.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",children:m.jsxs("div",{className:"bg-white p-8 rounded-lg shadow-2xl w-full max-w-md animate-fade-in-up",children:[m.jsx("h2",{className:"text-2xl font-bold text-slate-800 mb-6 text-center",children:"Select Date Range"}),m.jsxs("div",{className:"flex justify-center gap-2 mb-4",children:[m.jsx("button",{onClick:()=>le("today"),className:"px-3 py-1 text-sm bg-slate-200 rounded-full hover:bg-slate-300",children:"Today"}),m.jsx("button",{onClick:()=>le("week"),className:"px-3 py-1 text-sm bg-slate-200 rounded-full hover:bg-slate-300",children:"This Week"}),m.jsx("button",{onClick:()=>le("month"),className:"px-3 py-1 text-sm bg-slate-200 rounded-full hover:bg-slate-300",children:"This Month"})]}),m.jsxs("div",{className:"space-y-4",children:[m.jsx("input",{ref:E,type:"date",className:"w-full border-gray-300 rounded-md p-2"}),m.jsx("input",{ref:L,type:"date",className:"w-full border-gray-300 rounded-md p-2"})]}),m.jsxs("button",{ref:j,onClick:pe,className:"w-full mt-8 flex items-center justify-center gap-2 bg-indigo-600 text-white px-4 py-3 rounded-lg shadow-md hover:bg-indigo-700",children:[m.jsx(nH,{})," Generate Report"]})]})}):m.jsxs("div",{className:"p-4 sm:p-6 lg:p-8 bg-slate-50 dark:bg-slate-900 min-h-screen text-slate-800 dark:text-slate-200 transition-colors duration-300",children:[m.jsxs("header",{className:"flex flex-wrap justify-between items-center mb-6 gap-4",children:[m.jsxs("div",{children:[m.jsx("h1",{className:"text-3xl font-bold",children:"Item-Wise Sales Report"}),m.jsxs("p",{className:"text-sm text-slate-500 dark:text-slate-400 mt-1",children:[n," to ",i]})]}),m.jsxs("div",{className:"flex items-center gap-2",children:[m.jsx("button",{onClick:()=>k(!K),className:"p-2 rounded-full bg-slate-200 dark:bg-slate-700 hover:bg-slate-300 dark:hover:bg-slate-600",children:K?m.jsx(lH,{}):m.jsx(aH,{})}),m.jsxs("button",{onClick:Te,disabled:o.length===0,className:"flex items-center gap-2 bg-green-600 text-white px-3 py-2 rounded-lg shadow hover:bg-green-700 disabled:bg-gray-400",children:[m.jsx(eH,{})," CSV"]}),m.jsxs("button",{onClick:_e,disabled:o.length===0,className:"flex items-center gap-2 bg-rose-600 text-white px-3 py-2 rounded-lg shadow hover:bg-rose-700 disabled:bg-gray-400",children:[m.jsx(Z$,{})," PDF"]})]})]}),m.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6 mb-6",children:[m.jsxs("div",{className:"bg-white dark:bg-slate-800 p-5 rounded-lg shadow text-center",children:[m.jsx("p",{className:"text-sm text-slate-500 dark:text-slate-400",children:"Total Revenue"}),m.jsxs("p",{className:"text-2xl font-bold flex items-center justify-center",children:[Q,te.toFixed(2)," ",m.jsx(je,{value:ge})]})]}),m.jsxs("div",{className:"bg-white dark:bg-slate-800 p-5 rounded-lg shadow text-center",children:[m.jsx("p",{className:"text-sm text-slate-500 dark:text-slate-400",children:"Total Items Sold"}),m.jsxs("p",{className:"text-2xl font-bold flex items-center justify-center",children:[Math.round(ie)," ",m.jsx(je,{value:xe})]})]}),m.jsxs("div",{className:"bg-white dark:bg-slate-800 p-5 rounded-lg shadow text-center",children:[m.jsxs("p",{className:"text-sm text-slate-500 dark:text-slate-400 flex items-center justify-center gap-1",children:[m.jsx(oH,{className:"text-amber-400"}),"Best Seller"]}),m.jsx("p",{className:"text-2xl font-bold text-indigo-600 dark:text-indigo-400 truncate",children:V})]})]}),m.jsxs("div",{className:"bg-white dark:bg-slate-800 p-4 rounded-lg shadow-lg mb-6",children:[m.jsxs("div",{className:"flex justify-between items-center mb-2 flex-wrap gap-2",children:[m.jsx("input",{type:"text",placeholder:"Search items...",value:A,onChange:Se=>v(Se.target.value),className:"p-2 border rounded-md bg-transparent dark:border-slate-600"}),m.jsxs("div",{className:"flex gap-1 p-1 bg-slate-100 dark:bg-slate-700 rounded-lg",children:[m.jsx("button",{onClick:()=>x("bar"),className:`p-2 rounded-md ${b==="bar"?"bg-indigo-600 text-white":""}`,children:m.jsx(rH,{})}),m.jsx("button",{onClick:()=>x("pie"),className:`p-2 rounded-md ${b==="pie"?"bg-indigo-600 text-white":""}`,children:m.jsx(iH,{})}),m.jsx("button",{onClick:()=>x("line"),className:`p-2 rounded-md ${b==="line"?"bg-indigo-600 text-white":""}`,children:m.jsx(sH,{})})]})]}),m.jsx("div",{className:"h-96",children:m.jsx("canvas",{ref:P})})]}),m.jsx("div",{className:"overflow-x-auto bg-white dark:bg-slate-800 rounded-lg shadow-lg",children:c?m.jsx("div",{className:"text-center p-20",children:"Loading..."}):m.jsxs("table",{className:"min-w-full",children:[m.jsx("thead",{className:"bg-slate-100 dark:bg-slate-700 text-slate-600 dark:text-slate-300",children:m.jsxs("tr",{children:[m.jsx("th",{scope:"col",className:"px-6 py-3 text-right text-xs font-medium uppercase tracking-wider",children:"#"}),m.jsx("th",{scope:"col",className:"px-6 py-3 text-left text-xs font-medium uppercase tracking-wider",children:m.jsxs("button",{onClick:()=>be("name"),className:"w-full flex items-center justify-start gap-1",children:[m.jsx("span",{children:"Item Name"}),_.key==="name"&&(_.direction==="ascending"?"":"")]})}),m.jsx("th",{scope:"col",className:"px-6 py-3 text-right text-xs font-medium uppercase tracking-wider",children:m.jsxs("button",{onClick:()=>be("quantity"),className:"w-full flex items-center justify-end gap-1",children:[m.jsx("span",{children:"Qty Sold"}),_.key==="quantity"&&(_.direction==="ascending"?"":"")]})}),m.jsx("th",{scope:"col",className:"px-6 py-3 text-right text-xs font-medium uppercase tracking-wider",children:m.jsxs("button",{onClick:()=>be("price"),className:"w-full flex items-center justify-end gap-1",children:[m.jsx("span",{children:"Unit Price"}),_.key==="price"&&(_.direction==="ascending"?"":"")]})}),m.jsx("th",{scope:"col",className:"px-6 py-3 text-right text-xs font-medium uppercase tracking-wider",children:m.jsxs("button",{onClick:()=>be("totalRevenue"),className:"w-full flex items-center justify-end gap-1",children:[m.jsx("span",{children:"Total Revenue"}),_.key==="totalRevenue"&&(_.direction==="ascending"?"":"")]})}),m.jsx("th",{scope:"col",className:"px-6 py-3 text-right text-xs font-medium uppercase tracking-wider",children:m.jsxs("button",{onClick:()=>be("contribution"),className:"w-full flex items-center justify-end gap-1",children:[m.jsx("span",{children:"% of Total"}),_.key==="contribution"&&(_.direction==="ascending"?"":"")]})})]})}),m.jsx("tbody",{className:"divide-y divide-gray-200 dark:divide-slate-600",children:ce.length>0?ce.map((Se,ke)=>m.jsxs("tr",{className:"hover:bg-indigo-50 dark:hover:bg-slate-700",children:[m.jsx("td",{className:"px-6 py-4 text-right",children:(R-1)*C+ke+1}),m.jsx("td",{className:"px-6 py-4 font-medium text-left",children:Se.name}),m.jsx("td",{className:"px-6 py-4 text-right",children:Se.quantity}),m.jsxs("td",{className:"px-6 py-4 text-right",children:[Q,Se.price.toFixed(2)]}),m.jsxs("td",{className:"px-6 py-4 font-bold text-indigo-700 dark:text-indigo-400 text-right",children:[Q,Se.totalRevenue.toFixed(2)]}),m.jsxs("td",{className:"px-6 py-4 text-right text-sm",children:[Se.contribution.toFixed(1),"%"]})]},Se.name)):m.jsx("tr",{children:m.jsx("td",{colSpan:6,className:"text-center py-16",children:m.jsxs("div",{className:"flex flex-col items-center justify-center text-slate-500 dark:text-slate-400",children:[m.jsx(tH,{className:"w-16 h-16 mb-4"}),m.jsx("h3",{className:"text-xl font-semibold",children:"No Item Data Found"}),m.jsx("p",{className:"text-sm mt-1",children:"There were no items sold in this date range."})]})})})})]})}),m.jsxs("div",{className:"flex justify-between items-center mt-4",children:[m.jsxs("span",{className:"text-sm text-slate-500 dark:text-slate-400",children:["Showing ",ce.length," of ",ne.length," items"]}),m.jsxs("div",{children:[m.jsx("button",{onClick:()=>z(Se=>Math.max(1,Se-1)),disabled:R===1,className:"px-3 py-1 border rounded-md disabled:opacity-50 dark:border-slate-600",children:"Prev"}),m.jsxs("span",{className:"mx-2",children:[R," / ",Math.max(1,Math.ceil(ne.length/C))]}),m.jsx("button",{onClick:()=>z(Se=>Math.min(Math.ceil(ne.length/C),Se+1)),disabled:R*C>=ne.length,className:"px-3 py-1 border rounded-md disabled:opacity-50 dark:border-slate-600",children:"Next"})]})]})]})},cH=()=>m.jsx("svg",{stroke:"currentColor",fill:"currentColor",strokeWidth:"0",viewBox:"0 0 512 512",height:"1em",width:"1em",xmlns:"http://www.w3.org/2000/svg",children:m.jsx("path",{d:"M416 224V64c0-8.8-7.2-16-16-16H112c-8.8 0-16 7.2-16 16v160h320zM96 256H32v176c0 13.3 10.7 24 24 24h32v-80c0-26.5 21.5-48 48-48h160c26.5 0 48 21.5 48 48v80h32c13.3 0 24-10.7 24-24V256H96zM480 96h-32v128h32c8.8 0 16-7.2 16-16V112c0-8.8-7.2-16-16-16zM288 352h-64c-8.8 0-16 7.2-16 16v64c0 8.8 7.2 16 16 16h64c8.8 0 16-7.2 16-16v-64c0-8.8-7.2-16-16-16z"})}),hH=()=>m.jsx("svg",{stroke:"currentColor",fill:"currentColor",strokeWidth:"0",viewBox:"0 0 384 512",height:"1em",width:"1em",xmlns:"http://www.w3.org/2000/svg",children:m.jsx("path",{d:"M369.9 97.9L286 14C277 5 264.8-.1 252.1-.1H48C21.5 0 0 21.5 0 48v416c0 26.5 21.5 48 48 48h288c26.5 0 48-21.5 48-48V131.9c0-12.7-5.1-25-14.1-34zM332.1 128H256V51.9l76.1 76.1zM48 464V48h160v104c0 13.3 10.7 24 24 24h104v288H48zm212-240h-28.8c-4.4 0-8.4 2.4-10.5 6.3-18 33.1-22.2 42.4-28.6 57.7-13.9-29.1-6.9-17.3-28.6-57.7-2.1-3.9-6.2-6.3-10.6-6.3H124c-9.8 0-15.6 10-10.8 18.3l48 85.3c-22.3 20.4-44.5 44.9-66.2 73.3-4.5 5.9-2.2 14.3 4.9 16.3h28.3c4.5 0 8.5-2.5 10.6-6.3 22.4-40 44.8-80 67.2-120 10.1 18.6 20.8 38.2 32 59.2 2.9 5.5 8.7 9.1 14.8 9.1h28.3c7.1-1.9 9.4-10.3 4.9-16.3-21.2-27.6-43-55.5-65.3-84.8l48-85.3c4.9-8.3-.9-18.3-10.8-18.3z"})}),fH=()=>m.jsx("svg",{stroke:"currentColor",fill:"currentColor",strokeWidth:"0",viewBox:"0 0 576 512",height:"1em",width:"1em",xmlns:"http://www.w3.org/2000/svg",children:m.jsx("path",{d:"M528 224H48.8c-10.7 0-20.8 5.1-26.9 13.2L0 273.4V464c0 26.5 21.5 48 48 48h480c26.5 0 48-21.5 48-48V273.4l-21.9-36.2c-6-8.1-16.1-13.2-26.9-13.2zM48 352h160v64H48v-64zm192 0h160v64H240v-64zm336-48.4l19.2 31.8-19.2 31.8V303.6zM48 0h480c26.5 0 48 21.5 48 48v80H0V48C0 21.5 21.5 0 48 0z"})}),dH=()=>m.jsx("svg",{stroke:"currentColor",fill:"currentColor",strokeWidth:"0",viewBox:"0 0 448 512",height:"1em",width:"1em",xmlns:"http://www.w3.org/2000/svg",children:m.jsx("path",{d:"M424.4 214.7L72.4 6.6C43.8-10.3 0 6.1 0 47.9V464c0 37.5 40.7 60.1 72.4 41.3l352-208c31.4-18.5 31.5-64.1 0-82.6z"})}),pH=()=>m.jsx("svg",{stroke:"currentColor",fill:"currentColor",strokeWidth:"0",viewBox:"0 0 448 512",height:"1em",width:"1em",xmlns:"http://www.w3.org/2000/svg",children:m.jsx("path",{d:"M32 32v448h448V32H32zm240 344h-32V200h32v176zm88 0h-32V136h32v240zm-176 0h-32V280h32v96z"})}),mH=()=>m.jsx("svg",{stroke:"currentColor",fill:"currentColor",strokeWidth:"0",viewBox:"0 0 576 512",height:"1em",width:"1em",xmlns:"http://www.w3.org/2000/svg",children:m.jsx("path",{d:"M552 64H448V24c0-13.3-10.7-24-24-24H152c-13.3 0-24 10.7-24 24v40H24C10.7 64 0 74.7 0 88v56c0 66.5 77.9 130.7 171.9 142.4C203.3 392.4 256 464 256 464v48H176c-13.3 0-24 10.7-24 24s10.7 24 24 24h224c13.3 0 24-10.7 24-24s-10.7-24-24-24H320v-48s52.7-71.6 84.1-177.6C502.1 274.7 576 210.5 576 144V88c0-13.3-10.7-24-24-24zM128 128c0-17.7 14.3-32 32-32h192c17.7 0 32 14.3 32 32v32H128v-32z"})}),gH=()=>m.jsx("svg",{stroke:"currentColor",fill:"currentColor",strokeWidth:"0",viewBox:"0 0 544 512",height:"1em",width:"1em",xmlns:"http://www.w3.org/2000/svg",children:m.jsx("path",{d:"M527.79 288H290.51a15.95 15.95 0 0 1-15.95-16V16.21a15.95 15.95 0 0 1 15.95-16c2.65 0 5.26.65 7.64 1.86A256.06 256.06 0 0 1 527.79 288zm-288-16a15.95 15.95 0 0 1 15.95-16H528a16 16 0 0 1 16 16v16a256 256 0 0 1-256 256H21.53c-11.21 0-19.18-11.45-14.45-21.53A256.06 256.06 0 0 1 239.79 272z"})}),yH=()=>{const[t,e]=G.useState(!0),[n,r]=G.useState(""),[i,s]=G.useState(""),[o,a]=G.useState([]),[l,u]=G.useState(!1),[c,d]=G.useState(null),[g,p]=G.useState("bar"),b=G.useRef(null),x=G.useRef(null),A=G.useRef(null),v=G.useRef(null),_=G.useRef(null),T=E=>{const L=E.reduce((ce,ae)=>{const ee=ae.tableName||"Unknown Table";return ce[ee]||(ce[ee]={orders:0,total:0,discount:0,grandTotal:0,items:{}}),ce[ee].orders+=1,ce[ee].total+=ae.subTotal||0,ce[ee].discount+=ae.discount||0,ce[ee].grandTotal+=ae.grandTotal||0,(ae.items||[]).forEach(oe=>{ce[ee].items[oe.name]||(ce[ee].items[oe.name]=0),ce[ee].items[oe.name]+=oe.quantity}),ce},{});let j={name:null,value:-1},H={name:null,value:1/0};const ne=Object.keys(L).map(ce=>{const ae=L[ce],ee=ae.orders>0?ae.grandTotal/ae.orders:0;ae.grandTotal>j.value&&(j={name:ce,value:ae.grandTotal}),ae.grandTotal<H.value&&(H={name:ce,value:ae.grandTotal});const oe=Object.entries(ae.items).sort((ge,xe)=>xe[1]-ge[1]).slice(0,2).map(ge=>`${ge[0]} (x${ge[1]})`).join(", ");return{name:ce,turnover:ae.orders,aov:ee,topItems:oe||"N/A",...ae}});return ne.map(ce=>({...ce,isBest:ce.name===j.name&&ne.length>1,isWorst:ce.name===H.name&&ne.length>1}))};G.useEffect(()=>{(async()=>{if(n&&i){u(!0);try{const L=await oa();d(L||{});const j=await Cf(new Date(n),new Date(i));a(T(j))}catch(L){console.error("Error processing table sales report:",L)}u(!1)}})()},[n,i]),G.useEffect(()=>{const E=()=>{x.current&&x.current.destroy();const L=b.current.getContext("2d"),j=o.map(ne=>ne.name),H=o.map(ne=>ne.grandTotal);x.current=new window.Chart(L,{type:g,data:{labels:j,datasets:[{label:"Total Sales",data:H,backgroundColor:g==="pie"?["#FF6384","#36A2EB","#FFCE56","#4BC0C0","#9966FF","#FF9F40"]:"#36A2EB",borderColor:"#fff"}]},options:{responsive:!0,maintainAspectRatio:!1,plugins:{legend:{display:g==="pie",position:"top"},title:{display:!0,text:"Sales Revenue by Table"}}}})};if(o.length>0&&b.current)if(window.Chart)E();else{const L=document.createElement("script");L.src="https://cdn.jsdelivr.net/npm/chart.js",L.onload=E,document.body.appendChild(L)}},[o,g]);const R=o.reduce((E,L)=>(E.orders+=L.turnover,E.total+=L.total,E.discount+=L.discount,E.grandTotal+=L.grandTotal,E),{orders:0,total:0,discount:0,grandTotal:0}),z=R.orders>0?R.grandTotal/R.orders:0,K="",k=E=>{const L=new Date;let j=new Date;E==="today"?j.setHours(0,0,0,0):E==="week"?j.setDate(L.getDate()-L.getDay()):E==="month"&&j.setDate(1);const H=ne=>ne.toISOString().split("T")[0];r(H(j)),s(H(L)),e(!1)},C=()=>{!A.current.value||!v.current.value||(r(A.current.value),s(v.current.value),e(!1))},P=()=>{if(o.length===0)return;const E=()=>{const L=()=>{const{jsPDF:j}=window.jspdf,H=new j;H.text("Table-wise Sales Report",14,15),H.autoTable({startY:20,head:[["Table","Turnover","AOV","Top Items","Net Sales"]],body:o.map(ne=>[ne.name,ne.turnover,ne.aov.toFixed(2),ne.topItems,ne.grandTotal.toFixed(2)])}),H.save(`TableWiseSalesReport_${n}_to_${i}.pdf`)};if(window.jspdf.autoTable)L();else{const j=document.createElement("script");j.src="https://cdnjs.cloudflare.com/ajax/libs/jspdf-autotable/3.5.23/jspdf.plugin.autotable.min.js",j.onload=L,document.body.appendChild(j)}};if(window.jspdf)E();else{const L=document.createElement("script");L.src="https://cdnjs.cloudflare.com/ajax/libs/jspdf/2.5.1/jspdf.umd.min.js",L.onload=E,document.body.appendChild(L)}},M=()=>{if(o.length===0)return;const E=()=>{const L=window.XLSX.utils.book_new(),j=[["Table Name","Turnover","Avg. Order Value","Gross Sales","Discounts","Net Sales","Top Items"],...o.map(ne=>[ne.name,ne.turnover,ne.aov.toFixed(2),ne.total.toFixed(2),ne.discount.toFixed(2),ne.grandTotal.toFixed(2),ne.topItems])],H=window.XLSX.utils.aoa_to_sheet(j);window.XLSX.utils.book_append_sheet(L,H,"Table-wise Report"),window.XLSX.writeFile(L,`TableWiseSalesReport_${n}_to_${i}.xlsx`)};if(window.XLSX)E();else{const L=document.createElement("script");L.src="https://cdn.sheetjs.com/xlsx-latest/package/dist/xlsx.full.min.js",L.onload=E,document.body.appendChild(L)}};return t?m.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",children:m.jsxs("div",{className:"bg-white p-8 rounded-lg shadow-2xl w-full max-w-md animate-fade-in-up",children:[m.jsx("h2",{className:"text-2xl font-bold text-slate-800 mb-6 text-center",children:"Select Date Range"}),m.jsxs("div",{className:"flex justify-center gap-2 mb-4",children:[m.jsx("button",{onClick:()=>k("today"),className:"px-3 py-1 text-sm bg-slate-200 rounded-full hover:bg-slate-300",children:"Today"}),m.jsx("button",{onClick:()=>k("week"),className:"px-3 py-1 text-sm bg-slate-200 rounded-full hover:bg-slate-300",children:"This Week"}),m.jsx("button",{onClick:()=>k("month"),className:"px-3 py-1 text-sm bg-slate-200 rounded-full hover:bg-slate-300",children:"This Month"})]}),m.jsxs("div",{className:"space-y-4",children:[m.jsx("input",{ref:A,type:"date",className:"w-full border border-gray-300 rounded-md px-3 py-2"}),m.jsx("input",{ref:v,type:"date",className:"w-full border border-gray-300 rounded-md px-3 py-2"})]}),m.jsxs("button",{ref:_,onClick:C,className:"w-full mt-8 flex items-center justify-center gap-2 bg-indigo-600 text-white px-4 py-3 rounded-lg shadow-md hover:bg-indigo-700",children:[m.jsx(dH,{})," Generate Report"]})]})}):m.jsxs("div",{className:"p-4 sm:p-6 lg:p-8 bg-slate-50 min-h-screen",children:[m.jsxs("header",{className:"flex flex-col sm:flex-row justify-between items-start sm:items-center mb-6 gap-4",children:[m.jsxs("div",{children:[m.jsx("h1",{className:"text-3xl font-bold text-slate-800",children:"Advanced Table-wise Report"}),m.jsxs("p",{className:"text-sm text-slate-500 mt-1",children:["Results for: ",m.jsx("span",{className:"font-semibold",children:n})," to ",m.jsx("span",{className:"font-semibold",children:i})]})]}),m.jsxs("div",{className:"flex items-center gap-2 flex-wrap",children:[m.jsxs("button",{onClick:M,disabled:o.length===0,className:"flex items-center gap-2 bg-green-600 text-white px-4 py-2 rounded-lg shadow-md hover:bg-green-700 disabled:bg-gray-400",children:[m.jsx(hH,{})," Excel"]}),m.jsxs("button",{onClick:P,disabled:o.length===0,className:"flex items-center gap-2 bg-rose-600 text-white px-4 py-2 rounded-lg shadow-md hover:bg-rose-700 disabled:bg-gray-400",children:[m.jsx(cH,{})," PDF"]})]})]}),m.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6 mb-6",children:[m.jsxs("div",{className:"bg-white p-5 rounded-lg shadow",children:[m.jsx("p",{className:"text-sm text-slate-500",children:"Total Revenue"}),m.jsxs("p",{className:"text-2xl font-bold text-slate-800",children:[K,R.grandTotal.toFixed(2)]})]}),m.jsxs("div",{className:"bg-white p-5 rounded-lg shadow",children:[m.jsx("p",{className:"text-sm text-slate-500",children:"Total Turnovers"}),m.jsx("p",{className:"text-2xl font-bold text-slate-800",children:R.orders})]}),m.jsxs("div",{className:"bg-white p-5 rounded-lg shadow",children:[m.jsx("p",{className:"text-sm text-slate-500",children:"Overall AOV"}),m.jsxs("p",{className:"text-2xl font-bold text-slate-800",children:[K,z.toFixed(2)]})]}),m.jsxs("div",{className:"bg-white p-5 rounded-lg shadow",children:[m.jsx("p",{className:"text-sm text-slate-500",children:"Active Tables"}),m.jsx("p",{className:"text-2xl font-bold text-slate-800",children:o.length})]})]}),o.length>0&&m.jsxs("div",{className:"bg-white p-4 rounded-lg shadow-lg mb-6",children:[m.jsxs("div",{className:"flex justify-end gap-2 mb-2",children:[m.jsx("button",{onClick:()=>p("bar"),className:`p-2 rounded-full ${g==="bar"?"bg-indigo-600 text-white":"bg-slate-200"}`,children:m.jsx(pH,{})}),m.jsx("button",{onClick:()=>p("pie"),className:`p-2 rounded-full ${g==="pie"?"bg-indigo-600 text-white":"bg-slate-200"}`,children:m.jsx(gH,{})})]}),m.jsx("div",{className:"h-96",children:m.jsx("canvas",{ref:b})})]}),m.jsx("div",{className:"overflow-x-auto bg-white rounded-lg shadow-lg",children:l?m.jsx("div",{className:"flex justify-center items-center py-20",children:m.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-indigo-600"})}):m.jsxs("table",{className:"min-w-full",children:[m.jsx("thead",{className:"bg-slate-100",children:m.jsx("tr",{children:["Table","Turnover","AOV","Top Items","Net Sales"].map(E=>m.jsx("th",{className:`px-6 py-3 text-xs font-bold text-slate-600 uppercase tracking-wider ${E.includes("Sales")||E.includes("AOV")?"text-right":"text-left"}`,children:E},E))})}),m.jsx("tbody",{className:"divide-y divide-gray-200",children:o.length>0?o.map(E=>m.jsxs("tr",{className:`${E.isBest?"bg-green-50":""} ${E.isWorst?"bg-red-50":""} hover:bg-indigo-50`,children:[m.jsxs("td",{className:"px-6 py-4 font-medium text-gray-800",children:[E.name,E.isBest&&m.jsxs("span",{className:"ml-2 text-xs text-green-600 font-bold flex items-center gap-1",children:[m.jsx(mH,{})," Best"]}),E.isWorst&&m.jsx("span",{className:"ml-2 text-xs text-red-600 font-bold",children:"Lowest"})]}),m.jsx("td",{className:"px-6 py-4 text-center",children:E.turnover}),m.jsxs("td",{className:"px-6 py-4 text-right",children:[K,E.aov.toFixed(2)]}),m.jsx("td",{className:"px-6 py-4 text-sm text-slate-600",children:E.topItems}),m.jsxs("td",{className:"px-6 py-4 font-bold text-indigo-700 text-right",children:[K,E.grandTotal.toFixed(2)]})]},E.name)):m.jsx("tr",{children:m.jsx("td",{colSpan:5,className:"text-center py-16",children:m.jsxs("div",{className:"flex flex-col items-center justify-center text-slate-500",children:[m.jsx(fH,{className:"w-16 h-16 mb-4"}),m.jsx("h3",{className:"text-xl font-semibold",children:"No Table Data Found"}),m.jsx("p",{className:"text-sm mt-1",children:"There were no sales records for any table in this date range."})]})})})})]})})]})},vH=()=>m.jsx("svg",{stroke:"currentColor",fill:"currentColor",strokeWidth:"0",viewBox:"0 0 576 512",height:"1em",width:"1em",xmlns:"http://www.w3.org/2000/svg",children:m.jsx("path",{d:"M528 224H48.8c-10.7 0-20.8 5.1-26.9 13.2L0 273.4V464c0 26.5 21.5 48 48 48h480c26.5 0 48-21.5 48-48V273.4l-21.9-36.2c-6-8.1-16.1-13.2-26.9-13.2zM48 352h160v64H48v-64zm192 0h160v64H240v-64zm336-48.4l19.2 31.8-19.2 31.8V303.6zM48 0h480c26.5 0 48 21.5 48 48v80H0V48C0 21.5 21.5 0 48 0z"})}),wH=()=>m.jsx("svg",{stroke:"currentColor",fill:"currentColor",strokeWidth:"0",viewBox:"0 0 448 512",height:"1em",width:"1em",xmlns:"http://www.w3.org/2000/svg",children:m.jsx("path",{d:"M424.4 214.7L72.4 6.6C43.8-10.3 0 6.1 0 47.9V464c0 37.5 40.7 60.1 72.4 41.3l352-208c31.4-18.5 31.5-64.1 0-82.6z"})}),xH=()=>{const[t,e]=G.useState(!0),[n,r]=G.useState(""),[i,s]=G.useState(""),[o,a]=G.useState([]),[l,u]=G.useState(!1),[c,d]=G.useState(null),g=G.useRef(null),p=G.useRef(null),b=G.useRef(null),x=G.useRef(null),A=G.useRef(null),v=R=>{const z=R.reduce((k,C)=>{const P=C.paymentMode||"Unspecified";return k[P]||(k[P]={count:0,total:0}),k[P].count+=1,k[P].total+=C.grandTotal||0,k},{}),K=Object.values(z).reduce((k,C)=>k+C.total,0);return Object.keys(z).map(k=>({name:k,count:z[k].count,total:z[k].total,percentage:K>0?z[k].total/K*100:0})).sort((k,C)=>C.total-k.total)};G.useEffect(()=>{(async()=>{if(n&&i){u(!0);try{const z=await oa();d(z||{});const K=await Cf(new Date(n),new Date(i));a(v(K))}catch(z){console.error("Error processing payment mode report:",z)}u(!1)}})()},[n,i]),G.useEffect(()=>{const R=()=>{p.current&&p.current.destroy();const z=g.current.getContext("2d"),K=o.map(C=>C.name),k=o.map(C=>C.total);p.current=new window.Chart(z,{type:"pie",data:{labels:K,datasets:[{label:"Sales by Payment Mode",data:k,backgroundColor:["#4BC0C0","#FF6384","#FFCE56","#36A2EB","#9966FF"],borderColor:"#fff"}]},options:{responsive:!0,maintainAspectRatio:!1}})};if(o.length>0&&g.current)if(window.Chart)R();else{const z=document.createElement("script");z.src="https://cdn.jsdelivr.net/npm/chart.js",z.onload=R,document.body.appendChild(z)}},[o]);const _=o.reduce((R,z)=>(R.count+=z.count,R.total+=z.total,R),{count:0,total:0}),T=()=>{!b.current.value||!x.current.value||(r(b.current.value),s(x.current.value),e(!1))};return t?m.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",children:m.jsxs("div",{className:"bg-white p-8 rounded-lg shadow-2xl w-full max-w-md animate-fade-in-up",children:[m.jsx("h2",{className:"text-2xl font-bold text-slate-800 mb-6 text-center",children:"Select Date Range"}),m.jsxs("div",{className:"space-y-4",children:[m.jsx("input",{ref:b,type:"date",className:"w-full border p-2 rounded-md"}),m.jsx("input",{ref:x,type:"date",className:"w-full border p-2 rounded-md"})]}),m.jsxs("button",{ref:A,onClick:T,className:"w-full mt-8 flex items-center justify-center gap-2 bg-indigo-600 text-white py-3 rounded-lg shadow-md hover:bg-indigo-700",children:[m.jsx(wH,{})," Generate Report"]})]})}):m.jsxs("div",{className:"p-4 sm:p-6 lg:p-8 bg-slate-50 min-h-screen",children:[m.jsx("header",{className:"flex flex-col sm:flex-row justify-between items-center mb-6",children:m.jsxs("div",{children:[m.jsx("h1",{className:"text-3xl font-bold text-slate-800",children:"Payment Mode Report"}),m.jsxs("p",{className:"text-sm text-slate-500 mt-1",children:["Results for: ",m.jsx("span",{className:"font-semibold",children:n})," to ",m.jsx("span",{className:"font-semibold",children:i})]})]})}),m.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6 mb-6",children:[m.jsxs("div",{className:"bg-white p-5 rounded-lg shadow",children:[m.jsx("p",{className:"text-sm text-slate-500",children:"Total Revenue"}),m.jsx("p",{className:"text-2xl font-bold text-slate-800",children:_.total.toFixed(2)})]}),m.jsxs("div",{className:"bg-white p-5 rounded-lg shadow",children:[m.jsx("p",{className:"text-sm text-slate-500",children:"Total Transactions"}),m.jsx("p",{className:"text-2xl font-bold text-slate-800",children:_.count})]})]}),m.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-5 gap-6",children:[m.jsx("div",{className:"lg:col-span-3 bg-white rounded-lg shadow-lg overflow-hidden",children:l?m.jsx("div",{className:"flex justify-center items-center py-20",children:m.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-indigo-600"})}):m.jsxs("table",{className:"min-w-full",children:[m.jsx("thead",{className:"bg-slate-100",children:m.jsx("tr",{children:["Payment Mode","Transactions","% of Total","Total Amount"].map(R=>m.jsx("th",{className:`px-6 py-3 text-xs font-bold text-slate-600 uppercase tracking-wider ${R.includes("Amount")||R==="Transactions"?"text-right":"text-left"}`,children:R},R))})}),m.jsx("tbody",{className:"divide-y divide-gray-200",children:o.length>0?o.map(R=>m.jsxs("tr",{className:"hover:bg-indigo-50",children:[m.jsx("td",{className:"px-6 py-4 font-medium text-gray-800",children:R.name}),m.jsx("td",{className:"px-6 py-4 text-right",children:R.count}),m.jsxs("td",{className:"px-6 py-4 text-right",children:[R.percentage.toFixed(2),"%"]}),m.jsx("td",{className:"px-6 py-4 font-bold text-indigo-700 text-right",children:R.total.toFixed(2)})]},R.name)):m.jsx("tr",{children:m.jsxs("td",{colSpan:4,className:"text-center py-16 text-slate-500",children:[m.jsx(vH,{className:"w-16 h-16 mx-auto mb-4"}),m.jsx("h3",{className:"text-xl font-semibold",children:"No Data Found"})]})})})]})}),m.jsxs("div",{className:"lg:col-span-2 bg-white p-4 rounded-lg shadow-lg",children:[m.jsx("h3",{className:"font-bold text-lg text-slate-700 mb-4",children:"Sales Distribution"}),o.length>0?m.jsx("div",{className:"h-80",children:m.jsx("canvas",{ref:g})}):m.jsx("p",{className:"text-center text-slate-500 pt-16",children:"No data to display chart."})]})]})]})},bH=()=>m.jsxs(m.Fragment,{children:[m.jsx(SI,{}),m.jsxs("div",{className:"flex min-h-screen",children:[m.jsx(_I,{}),m.jsx("main",{className:"flex-1 p-4 bg-gray-100 overflow-y-auto",children:m.jsxs(O7,{children:[m.jsx(Ei,{path:"/",element:m.jsx(eB,{})}),m.jsx(Ei,{path:"/order",element:m.jsx(iB,{})}),m.jsx(Ei,{path:"/menu",element:m.jsx(LB,{})}),m.jsx(Ei,{path:"/staff",element:m.jsx(FB,{})}),m.jsx(Ei,{path:"/kitchen",element:m.jsx(UB,{})}),m.jsx(Ei,{path:"/billing",element:m.jsx(eU,{})}),m.jsx(Ei,{path:"/reports",element:m.jsx(bU,{})}),m.jsx(Ei,{path:"/reports/sales",element:m.jsx(Y$,{})}),m.jsx(Ei,{path:"/reports/sales-and-revenue",element:m.jsx(J$,{})}),m.jsx(Ei,{path:"/reports/item-wise-sales",element:m.jsx(uH,{})}),m.jsx(Ei,{path:"/reports/table-wise-sales",element:m.jsx(yH,{})}),m.jsx(Ei,{path:"/reports/payment-mode",element:m.jsx(xH,{})}),m.jsx(Ei,{path:"/settings",element:m.jsx(iU,{})})]})})]})]});sg.createRoot(document.getElementById("root")).render(m.jsx(on.StrictMode,{children:m.jsx(W7,{children:m.jsx(bH,{})})}));export{an as _,SH as c,_C as g};
