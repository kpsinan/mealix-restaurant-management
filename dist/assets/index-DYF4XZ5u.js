var bq=Object.defineProperty;var wq=(e,t,n)=>t in e?bq(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n;var an=(e,t,n)=>wq(e,typeof t!="symbol"?t+"":t,n);function _q(e,t){for(var n=0;n<t.length;n++){const r=t[n];if(typeof r!="string"&&!Array.isArray(r)){for(const i in r)if(i!=="default"&&!(i in e)){const a=Object.getOwnPropertyDescriptor(r,i);a&&Object.defineProperty(e,i,a.get?a:{enumerable:!0,get:()=>r[i]})}}}return Object.freeze(Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}))}(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))r(i);new MutationObserver(i=>{for(const a of i)if(a.type==="childList")for(const s of a.addedNodes)s.tagName==="LINK"&&s.rel==="modulepreload"&&r(s)}).observe(document,{childList:!0,subtree:!0});function n(i){const a={};return i.integrity&&(a.integrity=i.integrity),i.referrerPolicy&&(a.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?a.credentials="include":i.crossOrigin==="anonymous"?a.credentials="omit":a.credentials="same-origin",a}function r(i){if(i.ep)return;i.ep=!0;const a=n(i);fetch(i.href,a)}})();var yAe=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function Yl(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}var JO={exports:{}},r2={},eL={exports:{}},Bt={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var v0=Symbol.for("react.element"),Sq=Symbol.for("react.portal"),Aq=Symbol.for("react.fragment"),Pq=Symbol.for("react.strict_mode"),Eq=Symbol.for("react.profiler"),Nq=Symbol.for("react.provider"),kq=Symbol.for("react.context"),Tq=Symbol.for("react.forward_ref"),Cq=Symbol.for("react.suspense"),jq=Symbol.for("react.memo"),Iq=Symbol.for("react.lazy"),jE=Symbol.iterator;function Oq(e){return e===null||typeof e!="object"?null:(e=jE&&e[jE]||e["@@iterator"],typeof e=="function"?e:null)}var tL={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},nL=Object.assign,rL={};function Eh(e,t,n){this.props=e,this.context=t,this.refs=rL,this.updater=n||tL}Eh.prototype.isReactComponent={};Eh.prototype.setState=function(e,t){if(typeof e!="object"&&typeof e!="function"&&e!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,e,t,"setState")};Eh.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")};function iL(){}iL.prototype=Eh.prototype;function d_(e,t,n){this.props=e,this.context=t,this.refs=rL,this.updater=n||tL}var f_=d_.prototype=new iL;f_.constructor=d_;nL(f_,Eh.prototype);f_.isPureReactComponent=!0;var IE=Array.isArray,aL=Object.prototype.hasOwnProperty,h_={current:null},sL={key:!0,ref:!0,__self:!0,__source:!0};function oL(e,t,n){var r,i={},a=null,s=null;if(t!=null)for(r in t.ref!==void 0&&(s=t.ref),t.key!==void 0&&(a=""+t.key),t)aL.call(t,r)&&!sL.hasOwnProperty(r)&&(i[r]=t[r]);var o=arguments.length-2;if(o===1)i.children=n;else if(1<o){for(var l=Array(o),u=0;u<o;u++)l[u]=arguments[u+2];i.children=l}if(e&&e.defaultProps)for(r in o=e.defaultProps,o)i[r]===void 0&&(i[r]=o[r]);return{$$typeof:v0,type:e,key:a,ref:s,props:i,_owner:h_.current}}function Lq(e,t){return{$$typeof:v0,type:e.type,key:t,ref:e.ref,props:e.props,_owner:e._owner}}function p_(e){return typeof e=="object"&&e!==null&&e.$$typeof===v0}function Rq(e){var t={"=":"=0",":":"=2"};return"$"+e.replace(/[=:]/g,function(n){return t[n]})}var OE=/\/+/g;function mb(e,t){return typeof e=="object"&&e!==null&&e.key!=null?Rq(""+e.key):t.toString(36)}function T1(e,t,n,r,i){var a=typeof e;(a==="undefined"||a==="boolean")&&(e=null);var s=!1;if(e===null)s=!0;else switch(a){case"string":case"number":s=!0;break;case"object":switch(e.$$typeof){case v0:case Sq:s=!0}}if(s)return s=e,i=i(s),e=r===""?"."+mb(s,0):r,IE(i)?(n="",e!=null&&(n=e.replace(OE,"$&/")+"/"),T1(i,t,n,"",function(u){return u})):i!=null&&(p_(i)&&(i=Lq(i,n+(!i.key||s&&s.key===i.key?"":(""+i.key).replace(OE,"$&/")+"/")+e)),t.push(i)),1;if(s=0,r=r===""?".":r+":",IE(e))for(var o=0;o<e.length;o++){a=e[o];var l=r+mb(a,o);s+=T1(a,t,n,l,i)}else if(l=Oq(e),typeof l=="function")for(e=l.call(e),o=0;!(a=e.next()).done;)a=a.value,l=r+mb(a,o++),s+=T1(a,t,n,l,i);else if(a==="object")throw t=String(e),Error("Objects are not valid as a React child (found: "+(t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t)+"). If you meant to render a collection of children, use an array instead.");return s}function jg(e,t,n){if(e==null)return e;var r=[],i=0;return T1(e,r,"","",function(a){return t.call(n,a,i++)}),r}function Mq(e){if(e._status===-1){var t=e._result;t=t(),t.then(function(n){(e._status===0||e._status===-1)&&(e._status=1,e._result=n)},function(n){(e._status===0||e._status===-1)&&(e._status=2,e._result=n)}),e._status===-1&&(e._status=0,e._result=t)}if(e._status===1)return e._result.default;throw e._result}var da={current:null},C1={transition:null},Dq={ReactCurrentDispatcher:da,ReactCurrentBatchConfig:C1,ReactCurrentOwner:h_};function lL(){throw Error("act(...) is not supported in production builds of React.")}Bt.Children={map:jg,forEach:function(e,t,n){jg(e,function(){t.apply(this,arguments)},n)},count:function(e){var t=0;return jg(e,function(){t++}),t},toArray:function(e){return jg(e,function(t){return t})||[]},only:function(e){if(!p_(e))throw Error("React.Children.only expected to receive a single React element child.");return e}};Bt.Component=Eh;Bt.Fragment=Aq;Bt.Profiler=Eq;Bt.PureComponent=d_;Bt.StrictMode=Pq;Bt.Suspense=Cq;Bt.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=Dq;Bt.act=lL;Bt.cloneElement=function(e,t,n){if(e==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+e+".");var r=nL({},e.props),i=e.key,a=e.ref,s=e._owner;if(t!=null){if(t.ref!==void 0&&(a=t.ref,s=h_.current),t.key!==void 0&&(i=""+t.key),e.type&&e.type.defaultProps)var o=e.type.defaultProps;for(l in t)aL.call(t,l)&&!sL.hasOwnProperty(l)&&(r[l]=t[l]===void 0&&o!==void 0?o[l]:t[l])}var l=arguments.length-2;if(l===1)r.children=n;else if(1<l){o=Array(l);for(var u=0;u<l;u++)o[u]=arguments[u+2];r.children=o}return{$$typeof:v0,type:e.type,key:i,ref:a,props:r,_owner:s}};Bt.createContext=function(e){return e={$$typeof:kq,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},e.Provider={$$typeof:Nq,_context:e},e.Consumer=e};Bt.createElement=oL;Bt.createFactory=function(e){var t=oL.bind(null,e);return t.type=e,t};Bt.createRef=function(){return{current:null}};Bt.forwardRef=function(e){return{$$typeof:Tq,render:e}};Bt.isValidElement=p_;Bt.lazy=function(e){return{$$typeof:Iq,_payload:{_status:-1,_result:e},_init:Mq}};Bt.memo=function(e,t){return{$$typeof:jq,type:e,compare:t===void 0?null:t}};Bt.startTransition=function(e){var t=C1.transition;C1.transition={};try{e()}finally{C1.transition=t}};Bt.unstable_act=lL;Bt.useCallback=function(e,t){return da.current.useCallback(e,t)};Bt.useContext=function(e){return da.current.useContext(e)};Bt.useDebugValue=function(){};Bt.useDeferredValue=function(e){return da.current.useDeferredValue(e)};Bt.useEffect=function(e,t){return da.current.useEffect(e,t)};Bt.useId=function(){return da.current.useId()};Bt.useImperativeHandle=function(e,t,n){return da.current.useImperativeHandle(e,t,n)};Bt.useInsertionEffect=function(e,t){return da.current.useInsertionEffect(e,t)};Bt.useLayoutEffect=function(e,t){return da.current.useLayoutEffect(e,t)};Bt.useMemo=function(e,t){return da.current.useMemo(e,t)};Bt.useReducer=function(e,t,n){return da.current.useReducer(e,t,n)};Bt.useRef=function(e){return da.current.useRef(e)};Bt.useState=function(e){return da.current.useState(e)};Bt.useSyncExternalStore=function(e,t,n){return da.current.useSyncExternalStore(e,t,n)};Bt.useTransition=function(){return da.current.useTransition()};Bt.version="18.3.1";eL.exports=Bt;var S=eL.exports;const pn=Yl(S),uL=_q({__proto__:null,default:pn},[S]);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Fq=S,Bq=Symbol.for("react.element"),Vq=Symbol.for("react.fragment"),zq=Object.prototype.hasOwnProperty,$q=Fq.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,Uq={key:!0,ref:!0,__self:!0,__source:!0};function cL(e,t,n){var r,i={},a=null,s=null;n!==void 0&&(a=""+n),t.key!==void 0&&(a=""+t.key),t.ref!==void 0&&(s=t.ref);for(r in t)zq.call(t,r)&&!Uq.hasOwnProperty(r)&&(i[r]=t[r]);if(e&&e.defaultProps)for(r in t=e.defaultProps,t)i[r]===void 0&&(i[r]=t[r]);return{$$typeof:Bq,type:e,key:a,ref:s,props:i,_owner:$q.current}}r2.Fragment=Vq;r2.jsx=cL;r2.jsxs=cL;JO.exports=r2;var h=JO.exports,u5={},dL={exports:{}},is={},fL={exports:{}},hL={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(e){function t(H,se){var ye=H.length;H.push(se);e:for(;0<ye;){var be=ye-1>>>1,$=H[be];if(0<i($,se))H[be]=se,H[ye]=$,ye=be;else break e}}function n(H){return H.length===0?null:H[0]}function r(H){if(H.length===0)return null;var se=H[0],ye=H.pop();if(ye!==se){H[0]=ye;e:for(var be=0,$=H.length,X=$>>>1;be<X;){var re=2*(be+1)-1,oe=H[re],de=re+1,ge=H[de];if(0>i(oe,ye))de<$&&0>i(ge,oe)?(H[be]=ge,H[de]=ye,be=de):(H[be]=oe,H[re]=ye,be=re);else if(de<$&&0>i(ge,ye))H[be]=ge,H[de]=ye,be=de;else break e}}return se}function i(H,se){var ye=H.sortIndex-se.sortIndex;return ye!==0?ye:H.id-se.id}if(typeof performance=="object"&&typeof performance.now=="function"){var a=performance;e.unstable_now=function(){return a.now()}}else{var s=Date,o=s.now();e.unstable_now=function(){return s.now()-o}}var l=[],u=[],c=1,d=null,p=3,f=!1,g=!1,v=!1,b=typeof setTimeout=="function"?setTimeout:null,x=typeof clearTimeout=="function"?clearTimeout:null,w=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function A(H){for(var se=n(u);se!==null;){if(se.callback===null)r(u);else if(se.startTime<=H)r(u),se.sortIndex=se.expirationTime,t(l,se);else break;se=n(u)}}function P(H){if(v=!1,A(H),!g)if(n(l)!==null)g=!0,ae(O);else{var se=n(u);se!==null&&ie(P,se.startTime-H)}}function O(H,se){g=!1,v&&(v=!1,x(k),k=-1),f=!0;var ye=p;try{for(A(se),d=n(l);d!==null&&(!(d.expirationTime>se)||H&&!N());){var be=d.callback;if(typeof be=="function"){d.callback=null,p=d.priorityLevel;var $=be(d.expirationTime<=se);se=e.unstable_now(),typeof $=="function"?d.callback=$:d===n(l)&&r(l),A(se)}else r(l);d=n(l)}if(d!==null)var X=!0;else{var re=n(u);re!==null&&ie(P,re.startTime-se),X=!1}return X}finally{d=null,p=ye,f=!1}}var D=!1,T=null,k=-1,I=5,M=-1;function N(){return!(e.unstable_now()-M<I)}function C(){if(T!==null){var H=e.unstable_now();M=H;var se=!0;try{se=T(!0,H)}finally{se?R():(D=!1,T=null)}}else D=!1}var R;if(typeof w=="function")R=function(){w(C)};else if(typeof MessageChannel<"u"){var W=new MessageChannel,Y=W.port2;W.port1.onmessage=C,R=function(){Y.postMessage(null)}}else R=function(){b(C,0)};function ae(H){T=H,D||(D=!0,R())}function ie(H,se){k=b(function(){H(e.unstable_now())},se)}e.unstable_IdlePriority=5,e.unstable_ImmediatePriority=1,e.unstable_LowPriority=4,e.unstable_NormalPriority=3,e.unstable_Profiling=null,e.unstable_UserBlockingPriority=2,e.unstable_cancelCallback=function(H){H.callback=null},e.unstable_continueExecution=function(){g||f||(g=!0,ae(O))},e.unstable_forceFrameRate=function(H){0>H||125<H?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):I=0<H?Math.floor(1e3/H):5},e.unstable_getCurrentPriorityLevel=function(){return p},e.unstable_getFirstCallbackNode=function(){return n(l)},e.unstable_next=function(H){switch(p){case 1:case 2:case 3:var se=3;break;default:se=p}var ye=p;p=se;try{return H()}finally{p=ye}},e.unstable_pauseExecution=function(){},e.unstable_requestPaint=function(){},e.unstable_runWithPriority=function(H,se){switch(H){case 1:case 2:case 3:case 4:case 5:break;default:H=3}var ye=p;p=H;try{return se()}finally{p=ye}},e.unstable_scheduleCallback=function(H,se,ye){var be=e.unstable_now();switch(typeof ye=="object"&&ye!==null?(ye=ye.delay,ye=typeof ye=="number"&&0<ye?be+ye:be):ye=be,H){case 1:var $=-1;break;case 2:$=250;break;case 5:$=1073741823;break;case 4:$=1e4;break;default:$=5e3}return $=ye+$,H={id:c++,callback:se,priorityLevel:H,startTime:ye,expirationTime:$,sortIndex:-1},ye>be?(H.sortIndex=ye,t(u,H),n(l)===null&&H===n(u)&&(v?(x(k),k=-1):v=!0,ie(P,ye-be))):(H.sortIndex=$,t(l,H),g||f||(g=!0,ae(O))),H},e.unstable_shouldYield=N,e.unstable_wrapCallback=function(H){var se=p;return function(){var ye=p;p=se;try{return H.apply(this,arguments)}finally{p=ye}}}})(hL);fL.exports=hL;var Wq=fL.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var qq=S,ns=Wq;function Fe(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,n=1;n<arguments.length;n++)t+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var pL=new Set,ym={};function Bd(e,t){Zf(e,t),Zf(e+"Capture",t)}function Zf(e,t){for(ym[e]=t,e=0;e<t.length;e++)pL.add(t[e])}var jl=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),c5=Object.prototype.hasOwnProperty,Hq=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,LE={},RE={};function Kq(e){return c5.call(RE,e)?!0:c5.call(LE,e)?!1:Hq.test(e)?RE[e]=!0:(LE[e]=!0,!1)}function Gq(e,t,n,r){if(n!==null&&n.type===0)return!1;switch(typeof t){case"function":case"symbol":return!0;case"boolean":return r?!1:n!==null?!n.acceptsBooleans:(e=e.toLowerCase().slice(0,5),e!=="data-"&&e!=="aria-");default:return!1}}function Yq(e,t,n,r){if(t===null||typeof t>"u"||Gq(e,t,n,r))return!0;if(r)return!1;if(n!==null)switch(n.type){case 3:return!t;case 4:return t===!1;case 5:return isNaN(t);case 6:return isNaN(t)||1>t}return!1}function fa(e,t,n,r,i,a,s){this.acceptsBooleans=t===2||t===3||t===4,this.attributeName=r,this.attributeNamespace=i,this.mustUseProperty=n,this.propertyName=e,this.type=t,this.sanitizeURL=a,this.removeEmptyString=s}var Ei={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(e){Ei[e]=new fa(e,0,!1,e,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(e){var t=e[0];Ei[t]=new fa(t,1,!1,e[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(e){Ei[e]=new fa(e,2,!1,e.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(e){Ei[e]=new fa(e,2,!1,e,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(e){Ei[e]=new fa(e,3,!1,e.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(e){Ei[e]=new fa(e,3,!0,e,null,!1,!1)});["capture","download"].forEach(function(e){Ei[e]=new fa(e,4,!1,e,null,!1,!1)});["cols","rows","size","span"].forEach(function(e){Ei[e]=new fa(e,6,!1,e,null,!1,!1)});["rowSpan","start"].forEach(function(e){Ei[e]=new fa(e,5,!1,e.toLowerCase(),null,!1,!1)});var m_=/[\-:]([a-z])/g;function g_(e){return e[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(e){var t=e.replace(m_,g_);Ei[t]=new fa(t,1,!1,e,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(e){var t=e.replace(m_,g_);Ei[t]=new fa(t,1,!1,e,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(e){var t=e.replace(m_,g_);Ei[t]=new fa(t,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(e){Ei[e]=new fa(e,1,!1,e.toLowerCase(),null,!1,!1)});Ei.xlinkHref=new fa("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(e){Ei[e]=new fa(e,1,!1,e.toLowerCase(),null,!0,!0)});function v_(e,t,n,r){var i=Ei.hasOwnProperty(t)?Ei[t]:null;(i!==null?i.type!==0:r||!(2<t.length)||t[0]!=="o"&&t[0]!=="O"||t[1]!=="n"&&t[1]!=="N")&&(Yq(t,n,i,r)&&(n=null),r||i===null?Kq(t)&&(n===null?e.removeAttribute(t):e.setAttribute(t,""+n)):i.mustUseProperty?e[i.propertyName]=n===null?i.type===3?!1:"":n:(t=i.attributeName,r=i.attributeNamespace,n===null?e.removeAttribute(t):(i=i.type,n=i===3||i===4&&n===!0?"":""+n,r?e.setAttributeNS(r,t,n):e.setAttribute(t,n))))}var Xl=qq.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,Ig=Symbol.for("react.element"),gf=Symbol.for("react.portal"),vf=Symbol.for("react.fragment"),y_=Symbol.for("react.strict_mode"),d5=Symbol.for("react.profiler"),mL=Symbol.for("react.provider"),gL=Symbol.for("react.context"),x_=Symbol.for("react.forward_ref"),f5=Symbol.for("react.suspense"),h5=Symbol.for("react.suspense_list"),b_=Symbol.for("react.memo"),Cu=Symbol.for("react.lazy"),vL=Symbol.for("react.offscreen"),ME=Symbol.iterator;function gp(e){return e===null||typeof e!="object"?null:(e=ME&&e[ME]||e["@@iterator"],typeof e=="function"?e:null)}var rr=Object.assign,gb;function Bp(e){if(gb===void 0)try{throw Error()}catch(n){var t=n.stack.trim().match(/\n( *(at )?)/);gb=t&&t[1]||""}return`
`+gb+e}var vb=!1;function yb(e,t){if(!e||vb)return"";vb=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(t)if(t=function(){throw Error()},Object.defineProperty(t.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(t,[])}catch(u){var r=u}Reflect.construct(e,[],t)}else{try{t.call()}catch(u){r=u}e.call(t.prototype)}else{try{throw Error()}catch(u){r=u}e()}}catch(u){if(u&&r&&typeof u.stack=="string"){for(var i=u.stack.split(`
`),a=r.stack.split(`
`),s=i.length-1,o=a.length-1;1<=s&&0<=o&&i[s]!==a[o];)o--;for(;1<=s&&0<=o;s--,o--)if(i[s]!==a[o]){if(s!==1||o!==1)do if(s--,o--,0>o||i[s]!==a[o]){var l=`
`+i[s].replace(" at new "," at ");return e.displayName&&l.includes("<anonymous>")&&(l=l.replace("<anonymous>",e.displayName)),l}while(1<=s&&0<=o);break}}}finally{vb=!1,Error.prepareStackTrace=n}return(e=e?e.displayName||e.name:"")?Bp(e):""}function Xq(e){switch(e.tag){case 5:return Bp(e.type);case 16:return Bp("Lazy");case 13:return Bp("Suspense");case 19:return Bp("SuspenseList");case 0:case 2:case 15:return e=yb(e.type,!1),e;case 11:return e=yb(e.type.render,!1),e;case 1:return e=yb(e.type,!0),e;default:return""}}function p5(e){if(e==null)return null;if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case vf:return"Fragment";case gf:return"Portal";case d5:return"Profiler";case y_:return"StrictMode";case f5:return"Suspense";case h5:return"SuspenseList"}if(typeof e=="object")switch(e.$$typeof){case gL:return(e.displayName||"Context")+".Consumer";case mL:return(e._context.displayName||"Context")+".Provider";case x_:var t=e.render;return e=e.displayName,e||(e=t.displayName||t.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case b_:return t=e.displayName||null,t!==null?t:p5(e.type)||"Memo";case Cu:t=e._payload,e=e._init;try{return p5(e(t))}catch{}}return null}function Qq(e){var t=e.type;switch(e.tag){case 24:return"Cache";case 9:return(t.displayName||"Context")+".Consumer";case 10:return(t._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return e=t.render,e=e.displayName||e.name||"",t.displayName||(e!==""?"ForwardRef("+e+")":"ForwardRef");case 7:return"Fragment";case 5:return t;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return p5(t);case 8:return t===y_?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t}return null}function ic(e){switch(typeof e){case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function yL(e){var t=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(t==="checkbox"||t==="radio")}function Zq(e){var t=yL(e)?"checked":"value",n=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),r=""+e[t];if(!e.hasOwnProperty(t)&&typeof n<"u"&&typeof n.get=="function"&&typeof n.set=="function"){var i=n.get,a=n.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return i.call(this)},set:function(s){r=""+s,a.call(this,s)}}),Object.defineProperty(e,t,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(s){r=""+s},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}function Og(e){e._valueTracker||(e._valueTracker=Zq(e))}function xL(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var n=t.getValue(),r="";return e&&(r=yL(e)?e.checked?"true":"false":e.value),e=r,e!==n?(t.setValue(e),!0):!1}function lv(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}function m5(e,t){var n=t.checked;return rr({},t,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:n??e._wrapperState.initialChecked})}function DE(e,t){var n=t.defaultValue==null?"":t.defaultValue,r=t.checked!=null?t.checked:t.defaultChecked;n=ic(t.value!=null?t.value:n),e._wrapperState={initialChecked:r,initialValue:n,controlled:t.type==="checkbox"||t.type==="radio"?t.checked!=null:t.value!=null}}function bL(e,t){t=t.checked,t!=null&&v_(e,"checked",t,!1)}function g5(e,t){bL(e,t);var n=ic(t.value),r=t.type;if(n!=null)r==="number"?(n===0&&e.value===""||e.value!=n)&&(e.value=""+n):e.value!==""+n&&(e.value=""+n);else if(r==="submit"||r==="reset"){e.removeAttribute("value");return}t.hasOwnProperty("value")?v5(e,t.type,n):t.hasOwnProperty("defaultValue")&&v5(e,t.type,ic(t.defaultValue)),t.checked==null&&t.defaultChecked!=null&&(e.defaultChecked=!!t.defaultChecked)}function FE(e,t,n){if(t.hasOwnProperty("value")||t.hasOwnProperty("defaultValue")){var r=t.type;if(!(r!=="submit"&&r!=="reset"||t.value!==void 0&&t.value!==null))return;t=""+e._wrapperState.initialValue,n||t===e.value||(e.value=t),e.defaultValue=t}n=e.name,n!==""&&(e.name=""),e.defaultChecked=!!e._wrapperState.initialChecked,n!==""&&(e.name=n)}function v5(e,t,n){(t!=="number"||lv(e.ownerDocument)!==e)&&(n==null?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+n&&(e.defaultValue=""+n))}var Vp=Array.isArray;function Df(e,t,n,r){if(e=e.options,t){t={};for(var i=0;i<n.length;i++)t["$"+n[i]]=!0;for(n=0;n<e.length;n++)i=t.hasOwnProperty("$"+e[n].value),e[n].selected!==i&&(e[n].selected=i),i&&r&&(e[n].defaultSelected=!0)}else{for(n=""+ic(n),t=null,i=0;i<e.length;i++){if(e[i].value===n){e[i].selected=!0,r&&(e[i].defaultSelected=!0);return}t!==null||e[i].disabled||(t=e[i])}t!==null&&(t.selected=!0)}}function y5(e,t){if(t.dangerouslySetInnerHTML!=null)throw Error(Fe(91));return rr({},t,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function BE(e,t){var n=t.value;if(n==null){if(n=t.children,t=t.defaultValue,n!=null){if(t!=null)throw Error(Fe(92));if(Vp(n)){if(1<n.length)throw Error(Fe(93));n=n[0]}t=n}t==null&&(t=""),n=t}e._wrapperState={initialValue:ic(n)}}function wL(e,t){var n=ic(t.value),r=ic(t.defaultValue);n!=null&&(n=""+n,n!==e.value&&(e.value=n),t.defaultValue==null&&e.defaultValue!==n&&(e.defaultValue=n)),r!=null&&(e.defaultValue=""+r)}function VE(e){var t=e.textContent;t===e._wrapperState.initialValue&&t!==""&&t!==null&&(e.value=t)}function _L(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function x5(e,t){return e==null||e==="http://www.w3.org/1999/xhtml"?_L(t):e==="http://www.w3.org/2000/svg"&&t==="foreignObject"?"http://www.w3.org/1999/xhtml":e}var Lg,SL=function(e){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(t,n,r,i){MSApp.execUnsafeLocalFunction(function(){return e(t,n,r,i)})}:e}(function(e,t){if(e.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in e)e.innerHTML=t;else{for(Lg=Lg||document.createElement("div"),Lg.innerHTML="<svg>"+t.valueOf().toString()+"</svg>",t=Lg.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;t.firstChild;)e.appendChild(t.firstChild)}});function xm(e,t){if(t){var n=e.firstChild;if(n&&n===e.lastChild&&n.nodeType===3){n.nodeValue=t;return}}e.textContent=t}var Xp={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},Jq=["Webkit","ms","Moz","O"];Object.keys(Xp).forEach(function(e){Jq.forEach(function(t){t=t+e.charAt(0).toUpperCase()+e.substring(1),Xp[t]=Xp[e]})});function AL(e,t,n){return t==null||typeof t=="boolean"||t===""?"":n||typeof t!="number"||t===0||Xp.hasOwnProperty(e)&&Xp[e]?(""+t).trim():t+"px"}function PL(e,t){e=e.style;for(var n in t)if(t.hasOwnProperty(n)){var r=n.indexOf("--")===0,i=AL(n,t[n],r);n==="float"&&(n="cssFloat"),r?e.setProperty(n,i):e[n]=i}}var eH=rr({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function b5(e,t){if(t){if(eH[e]&&(t.children!=null||t.dangerouslySetInnerHTML!=null))throw Error(Fe(137,e));if(t.dangerouslySetInnerHTML!=null){if(t.children!=null)throw Error(Fe(60));if(typeof t.dangerouslySetInnerHTML!="object"||!("__html"in t.dangerouslySetInnerHTML))throw Error(Fe(61))}if(t.style!=null&&typeof t.style!="object")throw Error(Fe(62))}}function w5(e,t){if(e.indexOf("-")===-1)return typeof t.is=="string";switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var _5=null;function w_(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var S5=null,Ff=null,Bf=null;function zE(e){if(e=b0(e)){if(typeof S5!="function")throw Error(Fe(280));var t=e.stateNode;t&&(t=l2(t),S5(e.stateNode,e.type,t))}}function EL(e){Ff?Bf?Bf.push(e):Bf=[e]:Ff=e}function NL(){if(Ff){var e=Ff,t=Bf;if(Bf=Ff=null,zE(e),t)for(e=0;e<t.length;e++)zE(t[e])}}function kL(e,t){return e(t)}function TL(){}var xb=!1;function CL(e,t,n){if(xb)return e(t,n);xb=!0;try{return kL(e,t,n)}finally{xb=!1,(Ff!==null||Bf!==null)&&(TL(),NL())}}function bm(e,t){var n=e.stateNode;if(n===null)return null;var r=l2(n);if(r===null)return null;n=r[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(e=e.type,r=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!r;break e;default:e=!1}if(e)return null;if(n&&typeof n!="function")throw Error(Fe(231,t,typeof n));return n}var A5=!1;if(jl)try{var vp={};Object.defineProperty(vp,"passive",{get:function(){A5=!0}}),window.addEventListener("test",vp,vp),window.removeEventListener("test",vp,vp)}catch{A5=!1}function tH(e,t,n,r,i,a,s,o,l){var u=Array.prototype.slice.call(arguments,3);try{t.apply(n,u)}catch(c){this.onError(c)}}var Qp=!1,uv=null,cv=!1,P5=null,nH={onError:function(e){Qp=!0,uv=e}};function rH(e,t,n,r,i,a,s,o,l){Qp=!1,uv=null,tH.apply(nH,arguments)}function iH(e,t,n,r,i,a,s,o,l){if(rH.apply(this,arguments),Qp){if(Qp){var u=uv;Qp=!1,uv=null}else throw Error(Fe(198));cv||(cv=!0,P5=u)}}function Vd(e){var t=e,n=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do t=e,t.flags&4098&&(n=t.return),e=t.return;while(e)}return t.tag===3?n:null}function jL(e){if(e.tag===13){var t=e.memoizedState;if(t===null&&(e=e.alternate,e!==null&&(t=e.memoizedState)),t!==null)return t.dehydrated}return null}function $E(e){if(Vd(e)!==e)throw Error(Fe(188))}function aH(e){var t=e.alternate;if(!t){if(t=Vd(e),t===null)throw Error(Fe(188));return t!==e?null:e}for(var n=e,r=t;;){var i=n.return;if(i===null)break;var a=i.alternate;if(a===null){if(r=i.return,r!==null){n=r;continue}break}if(i.child===a.child){for(a=i.child;a;){if(a===n)return $E(i),e;if(a===r)return $E(i),t;a=a.sibling}throw Error(Fe(188))}if(n.return!==r.return)n=i,r=a;else{for(var s=!1,o=i.child;o;){if(o===n){s=!0,n=i,r=a;break}if(o===r){s=!0,r=i,n=a;break}o=o.sibling}if(!s){for(o=a.child;o;){if(o===n){s=!0,n=a,r=i;break}if(o===r){s=!0,r=a,n=i;break}o=o.sibling}if(!s)throw Error(Fe(189))}}if(n.alternate!==r)throw Error(Fe(190))}if(n.tag!==3)throw Error(Fe(188));return n.stateNode.current===n?e:t}function IL(e){return e=aH(e),e!==null?OL(e):null}function OL(e){if(e.tag===5||e.tag===6)return e;for(e=e.child;e!==null;){var t=OL(e);if(t!==null)return t;e=e.sibling}return null}var LL=ns.unstable_scheduleCallback,UE=ns.unstable_cancelCallback,sH=ns.unstable_shouldYield,oH=ns.unstable_requestPaint,Er=ns.unstable_now,lH=ns.unstable_getCurrentPriorityLevel,__=ns.unstable_ImmediatePriority,RL=ns.unstable_UserBlockingPriority,dv=ns.unstable_NormalPriority,uH=ns.unstable_LowPriority,ML=ns.unstable_IdlePriority,i2=null,zo=null;function cH(e){if(zo&&typeof zo.onCommitFiberRoot=="function")try{zo.onCommitFiberRoot(i2,e,void 0,(e.current.flags&128)===128)}catch{}}var eo=Math.clz32?Math.clz32:hH,dH=Math.log,fH=Math.LN2;function hH(e){return e>>>=0,e===0?32:31-(dH(e)/fH|0)|0}var Rg=64,Mg=4194304;function zp(e){switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return e&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return e}}function fv(e,t){var n=e.pendingLanes;if(n===0)return 0;var r=0,i=e.suspendedLanes,a=e.pingedLanes,s=n&268435455;if(s!==0){var o=s&~i;o!==0?r=zp(o):(a&=s,a!==0&&(r=zp(a)))}else s=n&~i,s!==0?r=zp(s):a!==0&&(r=zp(a));if(r===0)return 0;if(t!==0&&t!==r&&!(t&i)&&(i=r&-r,a=t&-t,i>=a||i===16&&(a&4194240)!==0))return t;if(r&4&&(r|=n&16),t=e.entangledLanes,t!==0)for(e=e.entanglements,t&=r;0<t;)n=31-eo(t),i=1<<n,r|=e[n],t&=~i;return r}function pH(e,t){switch(e){case 1:case 2:case 4:return t+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function mH(e,t){for(var n=e.suspendedLanes,r=e.pingedLanes,i=e.expirationTimes,a=e.pendingLanes;0<a;){var s=31-eo(a),o=1<<s,l=i[s];l===-1?(!(o&n)||o&r)&&(i[s]=pH(o,t)):l<=t&&(e.expiredLanes|=o),a&=~o}}function E5(e){return e=e.pendingLanes&-1073741825,e!==0?e:e&1073741824?1073741824:0}function DL(){var e=Rg;return Rg<<=1,!(Rg&4194240)&&(Rg=64),e}function bb(e){for(var t=[],n=0;31>n;n++)t.push(e);return t}function y0(e,t,n){e.pendingLanes|=t,t!==536870912&&(e.suspendedLanes=0,e.pingedLanes=0),e=e.eventTimes,t=31-eo(t),e[t]=n}function gH(e,t){var n=e.pendingLanes&~t;e.pendingLanes=t,e.suspendedLanes=0,e.pingedLanes=0,e.expiredLanes&=t,e.mutableReadLanes&=t,e.entangledLanes&=t,t=e.entanglements;var r=e.eventTimes;for(e=e.expirationTimes;0<n;){var i=31-eo(n),a=1<<i;t[i]=0,r[i]=-1,e[i]=-1,n&=~a}}function S_(e,t){var n=e.entangledLanes|=t;for(e=e.entanglements;n;){var r=31-eo(n),i=1<<r;i&t|e[r]&t&&(e[r]|=t),n&=~i}}var vn=0;function FL(e){return e&=-e,1<e?4<e?e&268435455?16:536870912:4:1}var BL,A_,VL,zL,$L,N5=!1,Dg=[],qu=null,Hu=null,Ku=null,wm=new Map,_m=new Map,Lu=[],vH="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function WE(e,t){switch(e){case"focusin":case"focusout":qu=null;break;case"dragenter":case"dragleave":Hu=null;break;case"mouseover":case"mouseout":Ku=null;break;case"pointerover":case"pointerout":wm.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":_m.delete(t.pointerId)}}function yp(e,t,n,r,i,a){return e===null||e.nativeEvent!==a?(e={blockedOn:t,domEventName:n,eventSystemFlags:r,nativeEvent:a,targetContainers:[i]},t!==null&&(t=b0(t),t!==null&&A_(t)),e):(e.eventSystemFlags|=r,t=e.targetContainers,i!==null&&t.indexOf(i)===-1&&t.push(i),e)}function yH(e,t,n,r,i){switch(t){case"focusin":return qu=yp(qu,e,t,n,r,i),!0;case"dragenter":return Hu=yp(Hu,e,t,n,r,i),!0;case"mouseover":return Ku=yp(Ku,e,t,n,r,i),!0;case"pointerover":var a=i.pointerId;return wm.set(a,yp(wm.get(a)||null,e,t,n,r,i)),!0;case"gotpointercapture":return a=i.pointerId,_m.set(a,yp(_m.get(a)||null,e,t,n,r,i)),!0}return!1}function UL(e){var t=td(e.target);if(t!==null){var n=Vd(t);if(n!==null){if(t=n.tag,t===13){if(t=jL(n),t!==null){e.blockedOn=t,$L(e.priority,function(){VL(n)});return}}else if(t===3&&n.stateNode.current.memoizedState.isDehydrated){e.blockedOn=n.tag===3?n.stateNode.containerInfo:null;return}}}e.blockedOn=null}function j1(e){if(e.blockedOn!==null)return!1;for(var t=e.targetContainers;0<t.length;){var n=k5(e.domEventName,e.eventSystemFlags,t[0],e.nativeEvent);if(n===null){n=e.nativeEvent;var r=new n.constructor(n.type,n);_5=r,n.target.dispatchEvent(r),_5=null}else return t=b0(n),t!==null&&A_(t),e.blockedOn=n,!1;t.shift()}return!0}function qE(e,t,n){j1(e)&&n.delete(t)}function xH(){N5=!1,qu!==null&&j1(qu)&&(qu=null),Hu!==null&&j1(Hu)&&(Hu=null),Ku!==null&&j1(Ku)&&(Ku=null),wm.forEach(qE),_m.forEach(qE)}function xp(e,t){e.blockedOn===t&&(e.blockedOn=null,N5||(N5=!0,ns.unstable_scheduleCallback(ns.unstable_NormalPriority,xH)))}function Sm(e){function t(i){return xp(i,e)}if(0<Dg.length){xp(Dg[0],e);for(var n=1;n<Dg.length;n++){var r=Dg[n];r.blockedOn===e&&(r.blockedOn=null)}}for(qu!==null&&xp(qu,e),Hu!==null&&xp(Hu,e),Ku!==null&&xp(Ku,e),wm.forEach(t),_m.forEach(t),n=0;n<Lu.length;n++)r=Lu[n],r.blockedOn===e&&(r.blockedOn=null);for(;0<Lu.length&&(n=Lu[0],n.blockedOn===null);)UL(n),n.blockedOn===null&&Lu.shift()}var Vf=Xl.ReactCurrentBatchConfig,hv=!0;function bH(e,t,n,r){var i=vn,a=Vf.transition;Vf.transition=null;try{vn=1,P_(e,t,n,r)}finally{vn=i,Vf.transition=a}}function wH(e,t,n,r){var i=vn,a=Vf.transition;Vf.transition=null;try{vn=4,P_(e,t,n,r)}finally{vn=i,Vf.transition=a}}function P_(e,t,n,r){if(hv){var i=k5(e,t,n,r);if(i===null)Cb(e,t,r,pv,n),WE(e,r);else if(yH(i,e,t,n,r))r.stopPropagation();else if(WE(e,r),t&4&&-1<vH.indexOf(e)){for(;i!==null;){var a=b0(i);if(a!==null&&BL(a),a=k5(e,t,n,r),a===null&&Cb(e,t,r,pv,n),a===i)break;i=a}i!==null&&r.stopPropagation()}else Cb(e,t,r,null,n)}}var pv=null;function k5(e,t,n,r){if(pv=null,e=w_(r),e=td(e),e!==null)if(t=Vd(e),t===null)e=null;else if(n=t.tag,n===13){if(e=jL(t),e!==null)return e;e=null}else if(n===3){if(t.stateNode.current.memoizedState.isDehydrated)return t.tag===3?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null);return pv=e,null}function WL(e){switch(e){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(lH()){case __:return 1;case RL:return 4;case dv:case uH:return 16;case ML:return 536870912;default:return 16}default:return 16}}var Fu=null,E_=null,I1=null;function qL(){if(I1)return I1;var e,t=E_,n=t.length,r,i="value"in Fu?Fu.value:Fu.textContent,a=i.length;for(e=0;e<n&&t[e]===i[e];e++);var s=n-e;for(r=1;r<=s&&t[n-r]===i[a-r];r++);return I1=i.slice(e,1<r?1-r:void 0)}function O1(e){var t=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&t===13&&(e=13)):e=t,e===10&&(e=13),32<=e||e===13?e:0}function Fg(){return!0}function HE(){return!1}function as(e){function t(n,r,i,a,s){this._reactName=n,this._targetInst=i,this.type=r,this.nativeEvent=a,this.target=s,this.currentTarget=null;for(var o in e)e.hasOwnProperty(o)&&(n=e[o],this[o]=n?n(a):a[o]);return this.isDefaultPrevented=(a.defaultPrevented!=null?a.defaultPrevented:a.returnValue===!1)?Fg:HE,this.isPropagationStopped=HE,this}return rr(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var n=this.nativeEvent;n&&(n.preventDefault?n.preventDefault():typeof n.returnValue!="unknown"&&(n.returnValue=!1),this.isDefaultPrevented=Fg)},stopPropagation:function(){var n=this.nativeEvent;n&&(n.stopPropagation?n.stopPropagation():typeof n.cancelBubble!="unknown"&&(n.cancelBubble=!0),this.isPropagationStopped=Fg)},persist:function(){},isPersistent:Fg}),t}var Nh={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},N_=as(Nh),x0=rr({},Nh,{view:0,detail:0}),_H=as(x0),wb,_b,bp,a2=rr({},x0,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:k_,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==bp&&(bp&&e.type==="mousemove"?(wb=e.screenX-bp.screenX,_b=e.screenY-bp.screenY):_b=wb=0,bp=e),wb)},movementY:function(e){return"movementY"in e?e.movementY:_b}}),KE=as(a2),SH=rr({},a2,{dataTransfer:0}),AH=as(SH),PH=rr({},x0,{relatedTarget:0}),Sb=as(PH),EH=rr({},Nh,{animationName:0,elapsedTime:0,pseudoElement:0}),NH=as(EH),kH=rr({},Nh,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),TH=as(kH),CH=rr({},Nh,{data:0}),GE=as(CH),jH={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},IH={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},OH={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function LH(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):(e=OH[e])?!!t[e]:!1}function k_(){return LH}var RH=rr({},x0,{key:function(e){if(e.key){var t=jH[e.key]||e.key;if(t!=="Unidentified")return t}return e.type==="keypress"?(e=O1(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?IH[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:k_,charCode:function(e){return e.type==="keypress"?O1(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?O1(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),MH=as(RH),DH=rr({},a2,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),YE=as(DH),FH=rr({},x0,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:k_}),BH=as(FH),VH=rr({},Nh,{propertyName:0,elapsedTime:0,pseudoElement:0}),zH=as(VH),$H=rr({},a2,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),UH=as($H),WH=[9,13,27,32],T_=jl&&"CompositionEvent"in window,Zp=null;jl&&"documentMode"in document&&(Zp=document.documentMode);var qH=jl&&"TextEvent"in window&&!Zp,HL=jl&&(!T_||Zp&&8<Zp&&11>=Zp),XE=" ",QE=!1;function KL(e,t){switch(e){case"keyup":return WH.indexOf(t.keyCode)!==-1;case"keydown":return t.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function GL(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var yf=!1;function HH(e,t){switch(e){case"compositionend":return GL(t);case"keypress":return t.which!==32?null:(QE=!0,XE);case"textInput":return e=t.data,e===XE&&QE?null:e;default:return null}}function KH(e,t){if(yf)return e==="compositionend"||!T_&&KL(e,t)?(e=qL(),I1=E_=Fu=null,yf=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return HL&&t.locale!=="ko"?null:t.data;default:return null}}var GH={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function ZE(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t==="input"?!!GH[e.type]:t==="textarea"}function YL(e,t,n,r){EL(r),t=mv(t,"onChange"),0<t.length&&(n=new N_("onChange","change",null,n,r),e.push({event:n,listeners:t}))}var Jp=null,Am=null;function YH(e){s7(e,0)}function s2(e){var t=wf(e);if(xL(t))return e}function XH(e,t){if(e==="change")return t}var XL=!1;if(jl){var Ab;if(jl){var Pb="oninput"in document;if(!Pb){var JE=document.createElement("div");JE.setAttribute("oninput","return;"),Pb=typeof JE.oninput=="function"}Ab=Pb}else Ab=!1;XL=Ab&&(!document.documentMode||9<document.documentMode)}function eN(){Jp&&(Jp.detachEvent("onpropertychange",QL),Am=Jp=null)}function QL(e){if(e.propertyName==="value"&&s2(Am)){var t=[];YL(t,Am,e,w_(e)),CL(YH,t)}}function QH(e,t,n){e==="focusin"?(eN(),Jp=t,Am=n,Jp.attachEvent("onpropertychange",QL)):e==="focusout"&&eN()}function ZH(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return s2(Am)}function JH(e,t){if(e==="click")return s2(t)}function eK(e,t){if(e==="input"||e==="change")return s2(t)}function tK(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var io=typeof Object.is=="function"?Object.is:tK;function Pm(e,t){if(io(e,t))return!0;if(typeof e!="object"||e===null||typeof t!="object"||t===null)return!1;var n=Object.keys(e),r=Object.keys(t);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++){var i=n[r];if(!c5.call(t,i)||!io(e[i],t[i]))return!1}return!0}function tN(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function nN(e,t){var n=tN(e);e=0;for(var r;n;){if(n.nodeType===3){if(r=e+n.textContent.length,e<=t&&r>=t)return{node:n,offset:t-e};e=r}e:{for(;n;){if(n.nextSibling){n=n.nextSibling;break e}n=n.parentNode}n=void 0}n=tN(n)}}function ZL(e,t){return e&&t?e===t?!0:e&&e.nodeType===3?!1:t&&t.nodeType===3?ZL(e,t.parentNode):"contains"in e?e.contains(t):e.compareDocumentPosition?!!(e.compareDocumentPosition(t)&16):!1:!1}function JL(){for(var e=window,t=lv();t instanceof e.HTMLIFrameElement;){try{var n=typeof t.contentWindow.location.href=="string"}catch{n=!1}if(n)e=t.contentWindow;else break;t=lv(e.document)}return t}function C_(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&(t==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||t==="textarea"||e.contentEditable==="true")}function nK(e){var t=JL(),n=e.focusedElem,r=e.selectionRange;if(t!==n&&n&&n.ownerDocument&&ZL(n.ownerDocument.documentElement,n)){if(r!==null&&C_(n)){if(t=r.start,e=r.end,e===void 0&&(e=t),"selectionStart"in n)n.selectionStart=t,n.selectionEnd=Math.min(e,n.value.length);else if(e=(t=n.ownerDocument||document)&&t.defaultView||window,e.getSelection){e=e.getSelection();var i=n.textContent.length,a=Math.min(r.start,i);r=r.end===void 0?a:Math.min(r.end,i),!e.extend&&a>r&&(i=r,r=a,a=i),i=nN(n,a);var s=nN(n,r);i&&s&&(e.rangeCount!==1||e.anchorNode!==i.node||e.anchorOffset!==i.offset||e.focusNode!==s.node||e.focusOffset!==s.offset)&&(t=t.createRange(),t.setStart(i.node,i.offset),e.removeAllRanges(),a>r?(e.addRange(t),e.extend(s.node,s.offset)):(t.setEnd(s.node,s.offset),e.addRange(t)))}}for(t=[],e=n;e=e.parentNode;)e.nodeType===1&&t.push({element:e,left:e.scrollLeft,top:e.scrollTop});for(typeof n.focus=="function"&&n.focus(),n=0;n<t.length;n++)e=t[n],e.element.scrollLeft=e.left,e.element.scrollTop=e.top}}var rK=jl&&"documentMode"in document&&11>=document.documentMode,xf=null,T5=null,em=null,C5=!1;function rN(e,t,n){var r=n.window===n?n.document:n.nodeType===9?n:n.ownerDocument;C5||xf==null||xf!==lv(r)||(r=xf,"selectionStart"in r&&C_(r)?r={start:r.selectionStart,end:r.selectionEnd}:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection(),r={anchorNode:r.anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset}),em&&Pm(em,r)||(em=r,r=mv(T5,"onSelect"),0<r.length&&(t=new N_("onSelect","select",null,t,n),e.push({event:t,listeners:r}),t.target=xf)))}function Bg(e,t){var n={};return n[e.toLowerCase()]=t.toLowerCase(),n["Webkit"+e]="webkit"+t,n["Moz"+e]="moz"+t,n}var bf={animationend:Bg("Animation","AnimationEnd"),animationiteration:Bg("Animation","AnimationIteration"),animationstart:Bg("Animation","AnimationStart"),transitionend:Bg("Transition","TransitionEnd")},Eb={},e7={};jl&&(e7=document.createElement("div").style,"AnimationEvent"in window||(delete bf.animationend.animation,delete bf.animationiteration.animation,delete bf.animationstart.animation),"TransitionEvent"in window||delete bf.transitionend.transition);function o2(e){if(Eb[e])return Eb[e];if(!bf[e])return e;var t=bf[e],n;for(n in t)if(t.hasOwnProperty(n)&&n in e7)return Eb[e]=t[n];return e}var t7=o2("animationend"),n7=o2("animationiteration"),r7=o2("animationstart"),i7=o2("transitionend"),a7=new Map,iN="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function mc(e,t){a7.set(e,t),Bd(t,[e])}for(var Nb=0;Nb<iN.length;Nb++){var kb=iN[Nb],iK=kb.toLowerCase(),aK=kb[0].toUpperCase()+kb.slice(1);mc(iK,"on"+aK)}mc(t7,"onAnimationEnd");mc(n7,"onAnimationIteration");mc(r7,"onAnimationStart");mc("dblclick","onDoubleClick");mc("focusin","onFocus");mc("focusout","onBlur");mc(i7,"onTransitionEnd");Zf("onMouseEnter",["mouseout","mouseover"]);Zf("onMouseLeave",["mouseout","mouseover"]);Zf("onPointerEnter",["pointerout","pointerover"]);Zf("onPointerLeave",["pointerout","pointerover"]);Bd("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));Bd("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));Bd("onBeforeInput",["compositionend","keypress","textInput","paste"]);Bd("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));Bd("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));Bd("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var $p="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),sK=new Set("cancel close invalid load scroll toggle".split(" ").concat($p));function aN(e,t,n){var r=e.type||"unknown-event";e.currentTarget=n,iH(r,t,void 0,e),e.currentTarget=null}function s7(e,t){t=(t&4)!==0;for(var n=0;n<e.length;n++){var r=e[n],i=r.event;r=r.listeners;e:{var a=void 0;if(t)for(var s=r.length-1;0<=s;s--){var o=r[s],l=o.instance,u=o.currentTarget;if(o=o.listener,l!==a&&i.isPropagationStopped())break e;aN(i,o,u),a=l}else for(s=0;s<r.length;s++){if(o=r[s],l=o.instance,u=o.currentTarget,o=o.listener,l!==a&&i.isPropagationStopped())break e;aN(i,o,u),a=l}}}if(cv)throw e=P5,cv=!1,P5=null,e}function Rn(e,t){var n=t[R5];n===void 0&&(n=t[R5]=new Set);var r=e+"__bubble";n.has(r)||(o7(t,e,2,!1),n.add(r))}function Tb(e,t,n){var r=0;t&&(r|=4),o7(n,e,r,t)}var Vg="_reactListening"+Math.random().toString(36).slice(2);function Em(e){if(!e[Vg]){e[Vg]=!0,pL.forEach(function(n){n!=="selectionchange"&&(sK.has(n)||Tb(n,!1,e),Tb(n,!0,e))});var t=e.nodeType===9?e:e.ownerDocument;t===null||t[Vg]||(t[Vg]=!0,Tb("selectionchange",!1,t))}}function o7(e,t,n,r){switch(WL(t)){case 1:var i=bH;break;case 4:i=wH;break;default:i=P_}n=i.bind(null,t,n,e),i=void 0,!A5||t!=="touchstart"&&t!=="touchmove"&&t!=="wheel"||(i=!0),r?i!==void 0?e.addEventListener(t,n,{capture:!0,passive:i}):e.addEventListener(t,n,!0):i!==void 0?e.addEventListener(t,n,{passive:i}):e.addEventListener(t,n,!1)}function Cb(e,t,n,r,i){var a=r;if(!(t&1)&&!(t&2)&&r!==null)e:for(;;){if(r===null)return;var s=r.tag;if(s===3||s===4){var o=r.stateNode.containerInfo;if(o===i||o.nodeType===8&&o.parentNode===i)break;if(s===4)for(s=r.return;s!==null;){var l=s.tag;if((l===3||l===4)&&(l=s.stateNode.containerInfo,l===i||l.nodeType===8&&l.parentNode===i))return;s=s.return}for(;o!==null;){if(s=td(o),s===null)return;if(l=s.tag,l===5||l===6){r=a=s;continue e}o=o.parentNode}}r=r.return}CL(function(){var u=a,c=w_(n),d=[];e:{var p=a7.get(e);if(p!==void 0){var f=N_,g=e;switch(e){case"keypress":if(O1(n)===0)break e;case"keydown":case"keyup":f=MH;break;case"focusin":g="focus",f=Sb;break;case"focusout":g="blur",f=Sb;break;case"beforeblur":case"afterblur":f=Sb;break;case"click":if(n.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":f=KE;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":f=AH;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":f=BH;break;case t7:case n7:case r7:f=NH;break;case i7:f=zH;break;case"scroll":f=_H;break;case"wheel":f=UH;break;case"copy":case"cut":case"paste":f=TH;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":f=YE}var v=(t&4)!==0,b=!v&&e==="scroll",x=v?p!==null?p+"Capture":null:p;v=[];for(var w=u,A;w!==null;){A=w;var P=A.stateNode;if(A.tag===5&&P!==null&&(A=P,x!==null&&(P=bm(w,x),P!=null&&v.push(Nm(w,P,A)))),b)break;w=w.return}0<v.length&&(p=new f(p,g,null,n,c),d.push({event:p,listeners:v}))}}if(!(t&7)){e:{if(p=e==="mouseover"||e==="pointerover",f=e==="mouseout"||e==="pointerout",p&&n!==_5&&(g=n.relatedTarget||n.fromElement)&&(td(g)||g[Il]))break e;if((f||p)&&(p=c.window===c?c:(p=c.ownerDocument)?p.defaultView||p.parentWindow:window,f?(g=n.relatedTarget||n.toElement,f=u,g=g?td(g):null,g!==null&&(b=Vd(g),g!==b||g.tag!==5&&g.tag!==6)&&(g=null)):(f=null,g=u),f!==g)){if(v=KE,P="onMouseLeave",x="onMouseEnter",w="mouse",(e==="pointerout"||e==="pointerover")&&(v=YE,P="onPointerLeave",x="onPointerEnter",w="pointer"),b=f==null?p:wf(f),A=g==null?p:wf(g),p=new v(P,w+"leave",f,n,c),p.target=b,p.relatedTarget=A,P=null,td(c)===u&&(v=new v(x,w+"enter",g,n,c),v.target=A,v.relatedTarget=b,P=v),b=P,f&&g)t:{for(v=f,x=g,w=0,A=v;A;A=nf(A))w++;for(A=0,P=x;P;P=nf(P))A++;for(;0<w-A;)v=nf(v),w--;for(;0<A-w;)x=nf(x),A--;for(;w--;){if(v===x||x!==null&&v===x.alternate)break t;v=nf(v),x=nf(x)}v=null}else v=null;f!==null&&sN(d,p,f,v,!1),g!==null&&b!==null&&sN(d,b,g,v,!0)}}e:{if(p=u?wf(u):window,f=p.nodeName&&p.nodeName.toLowerCase(),f==="select"||f==="input"&&p.type==="file")var O=XH;else if(ZE(p))if(XL)O=eK;else{O=ZH;var D=QH}else(f=p.nodeName)&&f.toLowerCase()==="input"&&(p.type==="checkbox"||p.type==="radio")&&(O=JH);if(O&&(O=O(e,u))){YL(d,O,n,c);break e}D&&D(e,p,u),e==="focusout"&&(D=p._wrapperState)&&D.controlled&&p.type==="number"&&v5(p,"number",p.value)}switch(D=u?wf(u):window,e){case"focusin":(ZE(D)||D.contentEditable==="true")&&(xf=D,T5=u,em=null);break;case"focusout":em=T5=xf=null;break;case"mousedown":C5=!0;break;case"contextmenu":case"mouseup":case"dragend":C5=!1,rN(d,n,c);break;case"selectionchange":if(rK)break;case"keydown":case"keyup":rN(d,n,c)}var T;if(T_)e:{switch(e){case"compositionstart":var k="onCompositionStart";break e;case"compositionend":k="onCompositionEnd";break e;case"compositionupdate":k="onCompositionUpdate";break e}k=void 0}else yf?KL(e,n)&&(k="onCompositionEnd"):e==="keydown"&&n.keyCode===229&&(k="onCompositionStart");k&&(HL&&n.locale!=="ko"&&(yf||k!=="onCompositionStart"?k==="onCompositionEnd"&&yf&&(T=qL()):(Fu=c,E_="value"in Fu?Fu.value:Fu.textContent,yf=!0)),D=mv(u,k),0<D.length&&(k=new GE(k,e,null,n,c),d.push({event:k,listeners:D}),T?k.data=T:(T=GL(n),T!==null&&(k.data=T)))),(T=qH?HH(e,n):KH(e,n))&&(u=mv(u,"onBeforeInput"),0<u.length&&(c=new GE("onBeforeInput","beforeinput",null,n,c),d.push({event:c,listeners:u}),c.data=T))}s7(d,t)})}function Nm(e,t,n){return{instance:e,listener:t,currentTarget:n}}function mv(e,t){for(var n=t+"Capture",r=[];e!==null;){var i=e,a=i.stateNode;i.tag===5&&a!==null&&(i=a,a=bm(e,n),a!=null&&r.unshift(Nm(e,a,i)),a=bm(e,t),a!=null&&r.push(Nm(e,a,i))),e=e.return}return r}function nf(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5);return e||null}function sN(e,t,n,r,i){for(var a=t._reactName,s=[];n!==null&&n!==r;){var o=n,l=o.alternate,u=o.stateNode;if(l!==null&&l===r)break;o.tag===5&&u!==null&&(o=u,i?(l=bm(n,a),l!=null&&s.unshift(Nm(n,l,o))):i||(l=bm(n,a),l!=null&&s.push(Nm(n,l,o)))),n=n.return}s.length!==0&&e.push({event:t,listeners:s})}var oK=/\r\n?/g,lK=/\u0000|\uFFFD/g;function oN(e){return(typeof e=="string"?e:""+e).replace(oK,`
`).replace(lK,"")}function zg(e,t,n){if(t=oN(t),oN(e)!==t&&n)throw Error(Fe(425))}function gv(){}var j5=null,I5=null;function O5(e,t){return e==="textarea"||e==="noscript"||typeof t.children=="string"||typeof t.children=="number"||typeof t.dangerouslySetInnerHTML=="object"&&t.dangerouslySetInnerHTML!==null&&t.dangerouslySetInnerHTML.__html!=null}var L5=typeof setTimeout=="function"?setTimeout:void 0,uK=typeof clearTimeout=="function"?clearTimeout:void 0,lN=typeof Promise=="function"?Promise:void 0,cK=typeof queueMicrotask=="function"?queueMicrotask:typeof lN<"u"?function(e){return lN.resolve(null).then(e).catch(dK)}:L5;function dK(e){setTimeout(function(){throw e})}function jb(e,t){var n=t,r=0;do{var i=n.nextSibling;if(e.removeChild(n),i&&i.nodeType===8)if(n=i.data,n==="/$"){if(r===0){e.removeChild(i),Sm(t);return}r--}else n!=="$"&&n!=="$?"&&n!=="$!"||r++;n=i}while(n);Sm(t)}function Gu(e){for(;e!=null;e=e.nextSibling){var t=e.nodeType;if(t===1||t===3)break;if(t===8){if(t=e.data,t==="$"||t==="$!"||t==="$?")break;if(t==="/$")return null}}return e}function uN(e){e=e.previousSibling;for(var t=0;e;){if(e.nodeType===8){var n=e.data;if(n==="$"||n==="$!"||n==="$?"){if(t===0)return e;t--}else n==="/$"&&t++}e=e.previousSibling}return null}var kh=Math.random().toString(36).slice(2),Fo="__reactFiber$"+kh,km="__reactProps$"+kh,Il="__reactContainer$"+kh,R5="__reactEvents$"+kh,fK="__reactListeners$"+kh,hK="__reactHandles$"+kh;function td(e){var t=e[Fo];if(t)return t;for(var n=e.parentNode;n;){if(t=n[Il]||n[Fo]){if(n=t.alternate,t.child!==null||n!==null&&n.child!==null)for(e=uN(e);e!==null;){if(n=e[Fo])return n;e=uN(e)}return t}e=n,n=e.parentNode}return null}function b0(e){return e=e[Fo]||e[Il],!e||e.tag!==5&&e.tag!==6&&e.tag!==13&&e.tag!==3?null:e}function wf(e){if(e.tag===5||e.tag===6)return e.stateNode;throw Error(Fe(33))}function l2(e){return e[km]||null}var M5=[],_f=-1;function gc(e){return{current:e}}function Bn(e){0>_f||(e.current=M5[_f],M5[_f]=null,_f--)}function Tn(e,t){_f++,M5[_f]=e.current,e.current=t}var ac={},Xi=gc(ac),Ea=gc(!1),xd=ac;function Jf(e,t){var n=e.type.contextTypes;if(!n)return ac;var r=e.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===t)return r.__reactInternalMemoizedMaskedChildContext;var i={},a;for(a in n)i[a]=t[a];return r&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=t,e.__reactInternalMemoizedMaskedChildContext=i),i}function Na(e){return e=e.childContextTypes,e!=null}function vv(){Bn(Ea),Bn(Xi)}function cN(e,t,n){if(Xi.current!==ac)throw Error(Fe(168));Tn(Xi,t),Tn(Ea,n)}function l7(e,t,n){var r=e.stateNode;if(t=t.childContextTypes,typeof r.getChildContext!="function")return n;r=r.getChildContext();for(var i in r)if(!(i in t))throw Error(Fe(108,Qq(e)||"Unknown",i));return rr({},n,r)}function yv(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||ac,xd=Xi.current,Tn(Xi,e),Tn(Ea,Ea.current),!0}function dN(e,t,n){var r=e.stateNode;if(!r)throw Error(Fe(169));n?(e=l7(e,t,xd),r.__reactInternalMemoizedMergedChildContext=e,Bn(Ea),Bn(Xi),Tn(Xi,e)):Bn(Ea),Tn(Ea,n)}var yl=null,u2=!1,Ib=!1;function u7(e){yl===null?yl=[e]:yl.push(e)}function pK(e){u2=!0,u7(e)}function vc(){if(!Ib&&yl!==null){Ib=!0;var e=0,t=vn;try{var n=yl;for(vn=1;e<n.length;e++){var r=n[e];do r=r(!0);while(r!==null)}yl=null,u2=!1}catch(i){throw yl!==null&&(yl=yl.slice(e+1)),LL(__,vc),i}finally{vn=t,Ib=!1}}return null}var Sf=[],Af=0,xv=null,bv=0,bs=[],ws=0,bd=null,Sl=1,Al="";function qc(e,t){Sf[Af++]=bv,Sf[Af++]=xv,xv=e,bv=t}function c7(e,t,n){bs[ws++]=Sl,bs[ws++]=Al,bs[ws++]=bd,bd=e;var r=Sl;e=Al;var i=32-eo(r)-1;r&=~(1<<i),n+=1;var a=32-eo(t)+i;if(30<a){var s=i-i%5;a=(r&(1<<s)-1).toString(32),r>>=s,i-=s,Sl=1<<32-eo(t)+i|n<<i|r,Al=a+e}else Sl=1<<a|n<<i|r,Al=e}function j_(e){e.return!==null&&(qc(e,1),c7(e,1,0))}function I_(e){for(;e===xv;)xv=Sf[--Af],Sf[Af]=null,bv=Sf[--Af],Sf[Af]=null;for(;e===bd;)bd=bs[--ws],bs[ws]=null,Al=bs[--ws],bs[ws]=null,Sl=bs[--ws],bs[ws]=null}var es=null,Xa=null,qn=!1,Xs=null;function d7(e,t){var n=_s(5,null,null,0);n.elementType="DELETED",n.stateNode=t,n.return=e,t=e.deletions,t===null?(e.deletions=[n],e.flags|=16):t.push(n)}function fN(e,t){switch(e.tag){case 5:var n=e.type;return t=t.nodeType!==1||n.toLowerCase()!==t.nodeName.toLowerCase()?null:t,t!==null?(e.stateNode=t,es=e,Xa=Gu(t.firstChild),!0):!1;case 6:return t=e.pendingProps===""||t.nodeType!==3?null:t,t!==null?(e.stateNode=t,es=e,Xa=null,!0):!1;case 13:return t=t.nodeType!==8?null:t,t!==null?(n=bd!==null?{id:Sl,overflow:Al}:null,e.memoizedState={dehydrated:t,treeContext:n,retryLane:1073741824},n=_s(18,null,null,0),n.stateNode=t,n.return=e,e.child=n,es=e,Xa=null,!0):!1;default:return!1}}function D5(e){return(e.mode&1)!==0&&(e.flags&128)===0}function F5(e){if(qn){var t=Xa;if(t){var n=t;if(!fN(e,t)){if(D5(e))throw Error(Fe(418));t=Gu(n.nextSibling);var r=es;t&&fN(e,t)?d7(r,n):(e.flags=e.flags&-4097|2,qn=!1,es=e)}}else{if(D5(e))throw Error(Fe(418));e.flags=e.flags&-4097|2,qn=!1,es=e}}}function hN(e){for(e=e.return;e!==null&&e.tag!==5&&e.tag!==3&&e.tag!==13;)e=e.return;es=e}function $g(e){if(e!==es)return!1;if(!qn)return hN(e),qn=!0,!1;var t;if((t=e.tag!==3)&&!(t=e.tag!==5)&&(t=e.type,t=t!=="head"&&t!=="body"&&!O5(e.type,e.memoizedProps)),t&&(t=Xa)){if(D5(e))throw f7(),Error(Fe(418));for(;t;)d7(e,t),t=Gu(t.nextSibling)}if(hN(e),e.tag===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(Fe(317));e:{for(e=e.nextSibling,t=0;e;){if(e.nodeType===8){var n=e.data;if(n==="/$"){if(t===0){Xa=Gu(e.nextSibling);break e}t--}else n!=="$"&&n!=="$!"&&n!=="$?"||t++}e=e.nextSibling}Xa=null}}else Xa=es?Gu(e.stateNode.nextSibling):null;return!0}function f7(){for(var e=Xa;e;)e=Gu(e.nextSibling)}function eh(){Xa=es=null,qn=!1}function O_(e){Xs===null?Xs=[e]:Xs.push(e)}var mK=Xl.ReactCurrentBatchConfig;function wp(e,t,n){if(e=n.ref,e!==null&&typeof e!="function"&&typeof e!="object"){if(n._owner){if(n=n._owner,n){if(n.tag!==1)throw Error(Fe(309));var r=n.stateNode}if(!r)throw Error(Fe(147,e));var i=r,a=""+e;return t!==null&&t.ref!==null&&typeof t.ref=="function"&&t.ref._stringRef===a?t.ref:(t=function(s){var o=i.refs;s===null?delete o[a]:o[a]=s},t._stringRef=a,t)}if(typeof e!="string")throw Error(Fe(284));if(!n._owner)throw Error(Fe(290,e))}return e}function Ug(e,t){throw e=Object.prototype.toString.call(t),Error(Fe(31,e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e))}function pN(e){var t=e._init;return t(e._payload)}function h7(e){function t(x,w){if(e){var A=x.deletions;A===null?(x.deletions=[w],x.flags|=16):A.push(w)}}function n(x,w){if(!e)return null;for(;w!==null;)t(x,w),w=w.sibling;return null}function r(x,w){for(x=new Map;w!==null;)w.key!==null?x.set(w.key,w):x.set(w.index,w),w=w.sibling;return x}function i(x,w){return x=Zu(x,w),x.index=0,x.sibling=null,x}function a(x,w,A){return x.index=A,e?(A=x.alternate,A!==null?(A=A.index,A<w?(x.flags|=2,w):A):(x.flags|=2,w)):(x.flags|=1048576,w)}function s(x){return e&&x.alternate===null&&(x.flags|=2),x}function o(x,w,A,P){return w===null||w.tag!==6?(w=Bb(A,x.mode,P),w.return=x,w):(w=i(w,A),w.return=x,w)}function l(x,w,A,P){var O=A.type;return O===vf?c(x,w,A.props.children,P,A.key):w!==null&&(w.elementType===O||typeof O=="object"&&O!==null&&O.$$typeof===Cu&&pN(O)===w.type)?(P=i(w,A.props),P.ref=wp(x,w,A),P.return=x,P):(P=V1(A.type,A.key,A.props,null,x.mode,P),P.ref=wp(x,w,A),P.return=x,P)}function u(x,w,A,P){return w===null||w.tag!==4||w.stateNode.containerInfo!==A.containerInfo||w.stateNode.implementation!==A.implementation?(w=Vb(A,x.mode,P),w.return=x,w):(w=i(w,A.children||[]),w.return=x,w)}function c(x,w,A,P,O){return w===null||w.tag!==7?(w=dd(A,x.mode,P,O),w.return=x,w):(w=i(w,A),w.return=x,w)}function d(x,w,A){if(typeof w=="string"&&w!==""||typeof w=="number")return w=Bb(""+w,x.mode,A),w.return=x,w;if(typeof w=="object"&&w!==null){switch(w.$$typeof){case Ig:return A=V1(w.type,w.key,w.props,null,x.mode,A),A.ref=wp(x,null,w),A.return=x,A;case gf:return w=Vb(w,x.mode,A),w.return=x,w;case Cu:var P=w._init;return d(x,P(w._payload),A)}if(Vp(w)||gp(w))return w=dd(w,x.mode,A,null),w.return=x,w;Ug(x,w)}return null}function p(x,w,A,P){var O=w!==null?w.key:null;if(typeof A=="string"&&A!==""||typeof A=="number")return O!==null?null:o(x,w,""+A,P);if(typeof A=="object"&&A!==null){switch(A.$$typeof){case Ig:return A.key===O?l(x,w,A,P):null;case gf:return A.key===O?u(x,w,A,P):null;case Cu:return O=A._init,p(x,w,O(A._payload),P)}if(Vp(A)||gp(A))return O!==null?null:c(x,w,A,P,null);Ug(x,A)}return null}function f(x,w,A,P,O){if(typeof P=="string"&&P!==""||typeof P=="number")return x=x.get(A)||null,o(w,x,""+P,O);if(typeof P=="object"&&P!==null){switch(P.$$typeof){case Ig:return x=x.get(P.key===null?A:P.key)||null,l(w,x,P,O);case gf:return x=x.get(P.key===null?A:P.key)||null,u(w,x,P,O);case Cu:var D=P._init;return f(x,w,A,D(P._payload),O)}if(Vp(P)||gp(P))return x=x.get(A)||null,c(w,x,P,O,null);Ug(w,P)}return null}function g(x,w,A,P){for(var O=null,D=null,T=w,k=w=0,I=null;T!==null&&k<A.length;k++){T.index>k?(I=T,T=null):I=T.sibling;var M=p(x,T,A[k],P);if(M===null){T===null&&(T=I);break}e&&T&&M.alternate===null&&t(x,T),w=a(M,w,k),D===null?O=M:D.sibling=M,D=M,T=I}if(k===A.length)return n(x,T),qn&&qc(x,k),O;if(T===null){for(;k<A.length;k++)T=d(x,A[k],P),T!==null&&(w=a(T,w,k),D===null?O=T:D.sibling=T,D=T);return qn&&qc(x,k),O}for(T=r(x,T);k<A.length;k++)I=f(T,x,k,A[k],P),I!==null&&(e&&I.alternate!==null&&T.delete(I.key===null?k:I.key),w=a(I,w,k),D===null?O=I:D.sibling=I,D=I);return e&&T.forEach(function(N){return t(x,N)}),qn&&qc(x,k),O}function v(x,w,A,P){var O=gp(A);if(typeof O!="function")throw Error(Fe(150));if(A=O.call(A),A==null)throw Error(Fe(151));for(var D=O=null,T=w,k=w=0,I=null,M=A.next();T!==null&&!M.done;k++,M=A.next()){T.index>k?(I=T,T=null):I=T.sibling;var N=p(x,T,M.value,P);if(N===null){T===null&&(T=I);break}e&&T&&N.alternate===null&&t(x,T),w=a(N,w,k),D===null?O=N:D.sibling=N,D=N,T=I}if(M.done)return n(x,T),qn&&qc(x,k),O;if(T===null){for(;!M.done;k++,M=A.next())M=d(x,M.value,P),M!==null&&(w=a(M,w,k),D===null?O=M:D.sibling=M,D=M);return qn&&qc(x,k),O}for(T=r(x,T);!M.done;k++,M=A.next())M=f(T,x,k,M.value,P),M!==null&&(e&&M.alternate!==null&&T.delete(M.key===null?k:M.key),w=a(M,w,k),D===null?O=M:D.sibling=M,D=M);return e&&T.forEach(function(C){return t(x,C)}),qn&&qc(x,k),O}function b(x,w,A,P){if(typeof A=="object"&&A!==null&&A.type===vf&&A.key===null&&(A=A.props.children),typeof A=="object"&&A!==null){switch(A.$$typeof){case Ig:e:{for(var O=A.key,D=w;D!==null;){if(D.key===O){if(O=A.type,O===vf){if(D.tag===7){n(x,D.sibling),w=i(D,A.props.children),w.return=x,x=w;break e}}else if(D.elementType===O||typeof O=="object"&&O!==null&&O.$$typeof===Cu&&pN(O)===D.type){n(x,D.sibling),w=i(D,A.props),w.ref=wp(x,D,A),w.return=x,x=w;break e}n(x,D);break}else t(x,D);D=D.sibling}A.type===vf?(w=dd(A.props.children,x.mode,P,A.key),w.return=x,x=w):(P=V1(A.type,A.key,A.props,null,x.mode,P),P.ref=wp(x,w,A),P.return=x,x=P)}return s(x);case gf:e:{for(D=A.key;w!==null;){if(w.key===D)if(w.tag===4&&w.stateNode.containerInfo===A.containerInfo&&w.stateNode.implementation===A.implementation){n(x,w.sibling),w=i(w,A.children||[]),w.return=x,x=w;break e}else{n(x,w);break}else t(x,w);w=w.sibling}w=Vb(A,x.mode,P),w.return=x,x=w}return s(x);case Cu:return D=A._init,b(x,w,D(A._payload),P)}if(Vp(A))return g(x,w,A,P);if(gp(A))return v(x,w,A,P);Ug(x,A)}return typeof A=="string"&&A!==""||typeof A=="number"?(A=""+A,w!==null&&w.tag===6?(n(x,w.sibling),w=i(w,A),w.return=x,x=w):(n(x,w),w=Bb(A,x.mode,P),w.return=x,x=w),s(x)):n(x,w)}return b}var th=h7(!0),p7=h7(!1),wv=gc(null),_v=null,Pf=null,L_=null;function R_(){L_=Pf=_v=null}function M_(e){var t=wv.current;Bn(wv),e._currentValue=t}function B5(e,t,n){for(;e!==null;){var r=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,r!==null&&(r.childLanes|=t)):r!==null&&(r.childLanes&t)!==t&&(r.childLanes|=t),e===n)break;e=e.return}}function zf(e,t){_v=e,L_=Pf=null,e=e.dependencies,e!==null&&e.firstContext!==null&&(e.lanes&t&&(Sa=!0),e.firstContext=null)}function Es(e){var t=e._currentValue;if(L_!==e)if(e={context:e,memoizedValue:t,next:null},Pf===null){if(_v===null)throw Error(Fe(308));Pf=e,_v.dependencies={lanes:0,firstContext:e}}else Pf=Pf.next=e;return t}var nd=null;function D_(e){nd===null?nd=[e]:nd.push(e)}function m7(e,t,n,r){var i=t.interleaved;return i===null?(n.next=n,D_(t)):(n.next=i.next,i.next=n),t.interleaved=n,Ol(e,r)}function Ol(e,t){e.lanes|=t;var n=e.alternate;for(n!==null&&(n.lanes|=t),n=e,e=e.return;e!==null;)e.childLanes|=t,n=e.alternate,n!==null&&(n.childLanes|=t),n=e,e=e.return;return n.tag===3?n.stateNode:null}var ju=!1;function F_(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function g7(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,effects:e.effects})}function kl(e,t){return{eventTime:e,lane:t,tag:0,payload:null,callback:null,next:null}}function Yu(e,t,n){var r=e.updateQueue;if(r===null)return null;if(r=r.shared,Qt&2){var i=r.pending;return i===null?t.next=t:(t.next=i.next,i.next=t),r.pending=t,Ol(e,n)}return i=r.interleaved,i===null?(t.next=t,D_(r)):(t.next=i.next,i.next=t),r.interleaved=t,Ol(e,n)}function L1(e,t,n){if(t=t.updateQueue,t!==null&&(t=t.shared,(n&4194240)!==0)){var r=t.lanes;r&=e.pendingLanes,n|=r,t.lanes=n,S_(e,n)}}function mN(e,t){var n=e.updateQueue,r=e.alternate;if(r!==null&&(r=r.updateQueue,n===r)){var i=null,a=null;if(n=n.firstBaseUpdate,n!==null){do{var s={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};a===null?i=a=s:a=a.next=s,n=n.next}while(n!==null);a===null?i=a=t:a=a.next=t}else i=a=t;n={baseState:r.baseState,firstBaseUpdate:i,lastBaseUpdate:a,shared:r.shared,effects:r.effects},e.updateQueue=n;return}e=n.lastBaseUpdate,e===null?n.firstBaseUpdate=t:e.next=t,n.lastBaseUpdate=t}function Sv(e,t,n,r){var i=e.updateQueue;ju=!1;var a=i.firstBaseUpdate,s=i.lastBaseUpdate,o=i.shared.pending;if(o!==null){i.shared.pending=null;var l=o,u=l.next;l.next=null,s===null?a=u:s.next=u,s=l;var c=e.alternate;c!==null&&(c=c.updateQueue,o=c.lastBaseUpdate,o!==s&&(o===null?c.firstBaseUpdate=u:o.next=u,c.lastBaseUpdate=l))}if(a!==null){var d=i.baseState;s=0,c=u=l=null,o=a;do{var p=o.lane,f=o.eventTime;if((r&p)===p){c!==null&&(c=c.next={eventTime:f,lane:0,tag:o.tag,payload:o.payload,callback:o.callback,next:null});e:{var g=e,v=o;switch(p=t,f=n,v.tag){case 1:if(g=v.payload,typeof g=="function"){d=g.call(f,d,p);break e}d=g;break e;case 3:g.flags=g.flags&-65537|128;case 0:if(g=v.payload,p=typeof g=="function"?g.call(f,d,p):g,p==null)break e;d=rr({},d,p);break e;case 2:ju=!0}}o.callback!==null&&o.lane!==0&&(e.flags|=64,p=i.effects,p===null?i.effects=[o]:p.push(o))}else f={eventTime:f,lane:p,tag:o.tag,payload:o.payload,callback:o.callback,next:null},c===null?(u=c=f,l=d):c=c.next=f,s|=p;if(o=o.next,o===null){if(o=i.shared.pending,o===null)break;p=o,o=p.next,p.next=null,i.lastBaseUpdate=p,i.shared.pending=null}}while(!0);if(c===null&&(l=d),i.baseState=l,i.firstBaseUpdate=u,i.lastBaseUpdate=c,t=i.shared.interleaved,t!==null){i=t;do s|=i.lane,i=i.next;while(i!==t)}else a===null&&(i.shared.lanes=0);_d|=s,e.lanes=s,e.memoizedState=d}}function gN(e,t,n){if(e=t.effects,t.effects=null,e!==null)for(t=0;t<e.length;t++){var r=e[t],i=r.callback;if(i!==null){if(r.callback=null,r=n,typeof i!="function")throw Error(Fe(191,i));i.call(r)}}}var w0={},$o=gc(w0),Tm=gc(w0),Cm=gc(w0);function rd(e){if(e===w0)throw Error(Fe(174));return e}function B_(e,t){switch(Tn(Cm,t),Tn(Tm,e),Tn($o,w0),e=t.nodeType,e){case 9:case 11:t=(t=t.documentElement)?t.namespaceURI:x5(null,"");break;default:e=e===8?t.parentNode:t,t=e.namespaceURI||null,e=e.tagName,t=x5(t,e)}Bn($o),Tn($o,t)}function nh(){Bn($o),Bn(Tm),Bn(Cm)}function v7(e){rd(Cm.current);var t=rd($o.current),n=x5(t,e.type);t!==n&&(Tn(Tm,e),Tn($o,n))}function V_(e){Tm.current===e&&(Bn($o),Bn(Tm))}var Jn=gc(0);function Av(e){for(var t=e;t!==null;){if(t.tag===13){var n=t.memoizedState;if(n!==null&&(n=n.dehydrated,n===null||n.data==="$?"||n.data==="$!"))return t}else if(t.tag===19&&t.memoizedProps.revealOrder!==void 0){if(t.flags&128)return t}else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var Ob=[];function z_(){for(var e=0;e<Ob.length;e++)Ob[e]._workInProgressVersionPrimary=null;Ob.length=0}var R1=Xl.ReactCurrentDispatcher,Lb=Xl.ReactCurrentBatchConfig,wd=0,tr=null,Wr=null,si=null,Pv=!1,tm=!1,jm=0,gK=0;function Li(){throw Error(Fe(321))}function $_(e,t){if(t===null)return!1;for(var n=0;n<t.length&&n<e.length;n++)if(!io(e[n],t[n]))return!1;return!0}function U_(e,t,n,r,i,a){if(wd=a,tr=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,R1.current=e===null||e.memoizedState===null?bK:wK,e=n(r,i),tm){a=0;do{if(tm=!1,jm=0,25<=a)throw Error(Fe(301));a+=1,si=Wr=null,t.updateQueue=null,R1.current=_K,e=n(r,i)}while(tm)}if(R1.current=Ev,t=Wr!==null&&Wr.next!==null,wd=0,si=Wr=tr=null,Pv=!1,t)throw Error(Fe(300));return e}function W_(){var e=jm!==0;return jm=0,e}function Do(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return si===null?tr.memoizedState=si=e:si=si.next=e,si}function Ns(){if(Wr===null){var e=tr.alternate;e=e!==null?e.memoizedState:null}else e=Wr.next;var t=si===null?tr.memoizedState:si.next;if(t!==null)si=t,Wr=e;else{if(e===null)throw Error(Fe(310));Wr=e,e={memoizedState:Wr.memoizedState,baseState:Wr.baseState,baseQueue:Wr.baseQueue,queue:Wr.queue,next:null},si===null?tr.memoizedState=si=e:si=si.next=e}return si}function Im(e,t){return typeof t=="function"?t(e):t}function Rb(e){var t=Ns(),n=t.queue;if(n===null)throw Error(Fe(311));n.lastRenderedReducer=e;var r=Wr,i=r.baseQueue,a=n.pending;if(a!==null){if(i!==null){var s=i.next;i.next=a.next,a.next=s}r.baseQueue=i=a,n.pending=null}if(i!==null){a=i.next,r=r.baseState;var o=s=null,l=null,u=a;do{var c=u.lane;if((wd&c)===c)l!==null&&(l=l.next={lane:0,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null}),r=u.hasEagerState?u.eagerState:e(r,u.action);else{var d={lane:c,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null};l===null?(o=l=d,s=r):l=l.next=d,tr.lanes|=c,_d|=c}u=u.next}while(u!==null&&u!==a);l===null?s=r:l.next=o,io(r,t.memoizedState)||(Sa=!0),t.memoizedState=r,t.baseState=s,t.baseQueue=l,n.lastRenderedState=r}if(e=n.interleaved,e!==null){i=e;do a=i.lane,tr.lanes|=a,_d|=a,i=i.next;while(i!==e)}else i===null&&(n.lanes=0);return[t.memoizedState,n.dispatch]}function Mb(e){var t=Ns(),n=t.queue;if(n===null)throw Error(Fe(311));n.lastRenderedReducer=e;var r=n.dispatch,i=n.pending,a=t.memoizedState;if(i!==null){n.pending=null;var s=i=i.next;do a=e(a,s.action),s=s.next;while(s!==i);io(a,t.memoizedState)||(Sa=!0),t.memoizedState=a,t.baseQueue===null&&(t.baseState=a),n.lastRenderedState=a}return[a,r]}function y7(){}function x7(e,t){var n=tr,r=Ns(),i=t(),a=!io(r.memoizedState,i);if(a&&(r.memoizedState=i,Sa=!0),r=r.queue,q_(_7.bind(null,n,r,e),[e]),r.getSnapshot!==t||a||si!==null&&si.memoizedState.tag&1){if(n.flags|=2048,Om(9,w7.bind(null,n,r,i,t),void 0,null),ui===null)throw Error(Fe(349));wd&30||b7(n,t,i)}return i}function b7(e,t,n){e.flags|=16384,e={getSnapshot:t,value:n},t=tr.updateQueue,t===null?(t={lastEffect:null,stores:null},tr.updateQueue=t,t.stores=[e]):(n=t.stores,n===null?t.stores=[e]:n.push(e))}function w7(e,t,n,r){t.value=n,t.getSnapshot=r,S7(t)&&A7(e)}function _7(e,t,n){return n(function(){S7(t)&&A7(e)})}function S7(e){var t=e.getSnapshot;e=e.value;try{var n=t();return!io(e,n)}catch{return!0}}function A7(e){var t=Ol(e,1);t!==null&&to(t,e,1,-1)}function vN(e){var t=Do();return typeof e=="function"&&(e=e()),t.memoizedState=t.baseState=e,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Im,lastRenderedState:e},t.queue=e,e=e.dispatch=xK.bind(null,tr,e),[t.memoizedState,e]}function Om(e,t,n,r){return e={tag:e,create:t,destroy:n,deps:r,next:null},t=tr.updateQueue,t===null?(t={lastEffect:null,stores:null},tr.updateQueue=t,t.lastEffect=e.next=e):(n=t.lastEffect,n===null?t.lastEffect=e.next=e:(r=n.next,n.next=e,e.next=r,t.lastEffect=e)),e}function P7(){return Ns().memoizedState}function M1(e,t,n,r){var i=Do();tr.flags|=e,i.memoizedState=Om(1|t,n,void 0,r===void 0?null:r)}function c2(e,t,n,r){var i=Ns();r=r===void 0?null:r;var a=void 0;if(Wr!==null){var s=Wr.memoizedState;if(a=s.destroy,r!==null&&$_(r,s.deps)){i.memoizedState=Om(t,n,a,r);return}}tr.flags|=e,i.memoizedState=Om(1|t,n,a,r)}function yN(e,t){return M1(8390656,8,e,t)}function q_(e,t){return c2(2048,8,e,t)}function E7(e,t){return c2(4,2,e,t)}function N7(e,t){return c2(4,4,e,t)}function k7(e,t){if(typeof t=="function")return e=e(),t(e),function(){t(null)};if(t!=null)return e=e(),t.current=e,function(){t.current=null}}function T7(e,t,n){return n=n!=null?n.concat([e]):null,c2(4,4,k7.bind(null,t,e),n)}function H_(){}function C7(e,t){var n=Ns();t=t===void 0?null:t;var r=n.memoizedState;return r!==null&&t!==null&&$_(t,r[1])?r[0]:(n.memoizedState=[e,t],e)}function j7(e,t){var n=Ns();t=t===void 0?null:t;var r=n.memoizedState;return r!==null&&t!==null&&$_(t,r[1])?r[0]:(e=e(),n.memoizedState=[e,t],e)}function I7(e,t,n){return wd&21?(io(n,t)||(n=DL(),tr.lanes|=n,_d|=n,e.baseState=!0),t):(e.baseState&&(e.baseState=!1,Sa=!0),e.memoizedState=n)}function vK(e,t){var n=vn;vn=n!==0&&4>n?n:4,e(!0);var r=Lb.transition;Lb.transition={};try{e(!1),t()}finally{vn=n,Lb.transition=r}}function O7(){return Ns().memoizedState}function yK(e,t,n){var r=Qu(e);if(n={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null},L7(e))R7(t,n);else if(n=m7(e,t,n,r),n!==null){var i=oa();to(n,e,r,i),M7(n,t,r)}}function xK(e,t,n){var r=Qu(e),i={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null};if(L7(e))R7(t,i);else{var a=e.alternate;if(e.lanes===0&&(a===null||a.lanes===0)&&(a=t.lastRenderedReducer,a!==null))try{var s=t.lastRenderedState,o=a(s,n);if(i.hasEagerState=!0,i.eagerState=o,io(o,s)){var l=t.interleaved;l===null?(i.next=i,D_(t)):(i.next=l.next,l.next=i),t.interleaved=i;return}}catch{}finally{}n=m7(e,t,i,r),n!==null&&(i=oa(),to(n,e,r,i),M7(n,t,r))}}function L7(e){var t=e.alternate;return e===tr||t!==null&&t===tr}function R7(e,t){tm=Pv=!0;var n=e.pending;n===null?t.next=t:(t.next=n.next,n.next=t),e.pending=t}function M7(e,t,n){if(n&4194240){var r=t.lanes;r&=e.pendingLanes,n|=r,t.lanes=n,S_(e,n)}}var Ev={readContext:Es,useCallback:Li,useContext:Li,useEffect:Li,useImperativeHandle:Li,useInsertionEffect:Li,useLayoutEffect:Li,useMemo:Li,useReducer:Li,useRef:Li,useState:Li,useDebugValue:Li,useDeferredValue:Li,useTransition:Li,useMutableSource:Li,useSyncExternalStore:Li,useId:Li,unstable_isNewReconciler:!1},bK={readContext:Es,useCallback:function(e,t){return Do().memoizedState=[e,t===void 0?null:t],e},useContext:Es,useEffect:yN,useImperativeHandle:function(e,t,n){return n=n!=null?n.concat([e]):null,M1(4194308,4,k7.bind(null,t,e),n)},useLayoutEffect:function(e,t){return M1(4194308,4,e,t)},useInsertionEffect:function(e,t){return M1(4,2,e,t)},useMemo:function(e,t){var n=Do();return t=t===void 0?null:t,e=e(),n.memoizedState=[e,t],e},useReducer:function(e,t,n){var r=Do();return t=n!==void 0?n(t):t,r.memoizedState=r.baseState=t,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:t},r.queue=e,e=e.dispatch=yK.bind(null,tr,e),[r.memoizedState,e]},useRef:function(e){var t=Do();return e={current:e},t.memoizedState=e},useState:vN,useDebugValue:H_,useDeferredValue:function(e){return Do().memoizedState=e},useTransition:function(){var e=vN(!1),t=e[0];return e=vK.bind(null,e[1]),Do().memoizedState=e,[t,e]},useMutableSource:function(){},useSyncExternalStore:function(e,t,n){var r=tr,i=Do();if(qn){if(n===void 0)throw Error(Fe(407));n=n()}else{if(n=t(),ui===null)throw Error(Fe(349));wd&30||b7(r,t,n)}i.memoizedState=n;var a={value:n,getSnapshot:t};return i.queue=a,yN(_7.bind(null,r,a,e),[e]),r.flags|=2048,Om(9,w7.bind(null,r,a,n,t),void 0,null),n},useId:function(){var e=Do(),t=ui.identifierPrefix;if(qn){var n=Al,r=Sl;n=(r&~(1<<32-eo(r)-1)).toString(32)+n,t=":"+t+"R"+n,n=jm++,0<n&&(t+="H"+n.toString(32)),t+=":"}else n=gK++,t=":"+t+"r"+n.toString(32)+":";return e.memoizedState=t},unstable_isNewReconciler:!1},wK={readContext:Es,useCallback:C7,useContext:Es,useEffect:q_,useImperativeHandle:T7,useInsertionEffect:E7,useLayoutEffect:N7,useMemo:j7,useReducer:Rb,useRef:P7,useState:function(){return Rb(Im)},useDebugValue:H_,useDeferredValue:function(e){var t=Ns();return I7(t,Wr.memoizedState,e)},useTransition:function(){var e=Rb(Im)[0],t=Ns().memoizedState;return[e,t]},useMutableSource:y7,useSyncExternalStore:x7,useId:O7,unstable_isNewReconciler:!1},_K={readContext:Es,useCallback:C7,useContext:Es,useEffect:q_,useImperativeHandle:T7,useInsertionEffect:E7,useLayoutEffect:N7,useMemo:j7,useReducer:Mb,useRef:P7,useState:function(){return Mb(Im)},useDebugValue:H_,useDeferredValue:function(e){var t=Ns();return Wr===null?t.memoizedState=e:I7(t,Wr.memoizedState,e)},useTransition:function(){var e=Mb(Im)[0],t=Ns().memoizedState;return[e,t]},useMutableSource:y7,useSyncExternalStore:x7,useId:O7,unstable_isNewReconciler:!1};function Gs(e,t){if(e&&e.defaultProps){t=rr({},t),e=e.defaultProps;for(var n in e)t[n]===void 0&&(t[n]=e[n]);return t}return t}function V5(e,t,n,r){t=e.memoizedState,n=n(r,t),n=n==null?t:rr({},t,n),e.memoizedState=n,e.lanes===0&&(e.updateQueue.baseState=n)}var d2={isMounted:function(e){return(e=e._reactInternals)?Vd(e)===e:!1},enqueueSetState:function(e,t,n){e=e._reactInternals;var r=oa(),i=Qu(e),a=kl(r,i);a.payload=t,n!=null&&(a.callback=n),t=Yu(e,a,i),t!==null&&(to(t,e,i,r),L1(t,e,i))},enqueueReplaceState:function(e,t,n){e=e._reactInternals;var r=oa(),i=Qu(e),a=kl(r,i);a.tag=1,a.payload=t,n!=null&&(a.callback=n),t=Yu(e,a,i),t!==null&&(to(t,e,i,r),L1(t,e,i))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var n=oa(),r=Qu(e),i=kl(n,r);i.tag=2,t!=null&&(i.callback=t),t=Yu(e,i,r),t!==null&&(to(t,e,r,n),L1(t,e,r))}};function xN(e,t,n,r,i,a,s){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(r,a,s):t.prototype&&t.prototype.isPureReactComponent?!Pm(n,r)||!Pm(i,a):!0}function D7(e,t,n){var r=!1,i=ac,a=t.contextType;return typeof a=="object"&&a!==null?a=Es(a):(i=Na(t)?xd:Xi.current,r=t.contextTypes,a=(r=r!=null)?Jf(e,i):ac),t=new t(n,a),e.memoizedState=t.state!==null&&t.state!==void 0?t.state:null,t.updater=d2,e.stateNode=t,t._reactInternals=e,r&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=i,e.__reactInternalMemoizedMaskedChildContext=a),t}function bN(e,t,n,r){e=t.state,typeof t.componentWillReceiveProps=="function"&&t.componentWillReceiveProps(n,r),typeof t.UNSAFE_componentWillReceiveProps=="function"&&t.UNSAFE_componentWillReceiveProps(n,r),t.state!==e&&d2.enqueueReplaceState(t,t.state,null)}function z5(e,t,n,r){var i=e.stateNode;i.props=n,i.state=e.memoizedState,i.refs={},F_(e);var a=t.contextType;typeof a=="object"&&a!==null?i.context=Es(a):(a=Na(t)?xd:Xi.current,i.context=Jf(e,a)),i.state=e.memoizedState,a=t.getDerivedStateFromProps,typeof a=="function"&&(V5(e,t,a,n),i.state=e.memoizedState),typeof t.getDerivedStateFromProps=="function"||typeof i.getSnapshotBeforeUpdate=="function"||typeof i.UNSAFE_componentWillMount!="function"&&typeof i.componentWillMount!="function"||(t=i.state,typeof i.componentWillMount=="function"&&i.componentWillMount(),typeof i.UNSAFE_componentWillMount=="function"&&i.UNSAFE_componentWillMount(),t!==i.state&&d2.enqueueReplaceState(i,i.state,null),Sv(e,n,i,r),i.state=e.memoizedState),typeof i.componentDidMount=="function"&&(e.flags|=4194308)}function rh(e,t){try{var n="",r=t;do n+=Xq(r),r=r.return;while(r);var i=n}catch(a){i=`
Error generating stack: `+a.message+`
`+a.stack}return{value:e,source:t,stack:i,digest:null}}function Db(e,t,n){return{value:e,source:null,stack:n??null,digest:t??null}}function $5(e,t){try{console.error(t.value)}catch(n){setTimeout(function(){throw n})}}var SK=typeof WeakMap=="function"?WeakMap:Map;function F7(e,t,n){n=kl(-1,n),n.tag=3,n.payload={element:null};var r=t.value;return n.callback=function(){kv||(kv=!0,Z5=r),$5(e,t)},n}function B7(e,t,n){n=kl(-1,n),n.tag=3;var r=e.type.getDerivedStateFromError;if(typeof r=="function"){var i=t.value;n.payload=function(){return r(i)},n.callback=function(){$5(e,t)}}var a=e.stateNode;return a!==null&&typeof a.componentDidCatch=="function"&&(n.callback=function(){$5(e,t),typeof r!="function"&&(Xu===null?Xu=new Set([this]):Xu.add(this));var s=t.stack;this.componentDidCatch(t.value,{componentStack:s!==null?s:""})}),n}function wN(e,t,n){var r=e.pingCache;if(r===null){r=e.pingCache=new SK;var i=new Set;r.set(t,i)}else i=r.get(t),i===void 0&&(i=new Set,r.set(t,i));i.has(n)||(i.add(n),e=DK.bind(null,e,t,n),t.then(e,e))}function _N(e){do{var t;if((t=e.tag===13)&&(t=e.memoizedState,t=t!==null?t.dehydrated!==null:!0),t)return e;e=e.return}while(e!==null);return null}function SN(e,t,n,r,i){return e.mode&1?(e.flags|=65536,e.lanes=i,e):(e===t?e.flags|=65536:(e.flags|=128,n.flags|=131072,n.flags&=-52805,n.tag===1&&(n.alternate===null?n.tag=17:(t=kl(-1,1),t.tag=2,Yu(n,t,1))),n.lanes|=1),e)}var AK=Xl.ReactCurrentOwner,Sa=!1;function ra(e,t,n,r){t.child=e===null?p7(t,null,n,r):th(t,e.child,n,r)}function AN(e,t,n,r,i){n=n.render;var a=t.ref;return zf(t,i),r=U_(e,t,n,r,a,i),n=W_(),e!==null&&!Sa?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~i,Ll(e,t,i)):(qn&&n&&j_(t),t.flags|=1,ra(e,t,r,i),t.child)}function PN(e,t,n,r,i){if(e===null){var a=n.type;return typeof a=="function"&&!eS(a)&&a.defaultProps===void 0&&n.compare===null&&n.defaultProps===void 0?(t.tag=15,t.type=a,V7(e,t,a,r,i)):(e=V1(n.type,null,r,t,t.mode,i),e.ref=t.ref,e.return=t,t.child=e)}if(a=e.child,!(e.lanes&i)){var s=a.memoizedProps;if(n=n.compare,n=n!==null?n:Pm,n(s,r)&&e.ref===t.ref)return Ll(e,t,i)}return t.flags|=1,e=Zu(a,r),e.ref=t.ref,e.return=t,t.child=e}function V7(e,t,n,r,i){if(e!==null){var a=e.memoizedProps;if(Pm(a,r)&&e.ref===t.ref)if(Sa=!1,t.pendingProps=r=a,(e.lanes&i)!==0)e.flags&131072&&(Sa=!0);else return t.lanes=e.lanes,Ll(e,t,i)}return U5(e,t,n,r,i)}function z7(e,t,n){var r=t.pendingProps,i=r.children,a=e!==null?e.memoizedState:null;if(r.mode==="hidden")if(!(t.mode&1))t.memoizedState={baseLanes:0,cachePool:null,transitions:null},Tn(Nf,Ka),Ka|=n;else{if(!(n&1073741824))return e=a!==null?a.baseLanes|n:n,t.lanes=t.childLanes=1073741824,t.memoizedState={baseLanes:e,cachePool:null,transitions:null},t.updateQueue=null,Tn(Nf,Ka),Ka|=e,null;t.memoizedState={baseLanes:0,cachePool:null,transitions:null},r=a!==null?a.baseLanes:n,Tn(Nf,Ka),Ka|=r}else a!==null?(r=a.baseLanes|n,t.memoizedState=null):r=n,Tn(Nf,Ka),Ka|=r;return ra(e,t,i,n),t.child}function $7(e,t){var n=t.ref;(e===null&&n!==null||e!==null&&e.ref!==n)&&(t.flags|=512,t.flags|=2097152)}function U5(e,t,n,r,i){var a=Na(n)?xd:Xi.current;return a=Jf(t,a),zf(t,i),n=U_(e,t,n,r,a,i),r=W_(),e!==null&&!Sa?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~i,Ll(e,t,i)):(qn&&r&&j_(t),t.flags|=1,ra(e,t,n,i),t.child)}function EN(e,t,n,r,i){if(Na(n)){var a=!0;yv(t)}else a=!1;if(zf(t,i),t.stateNode===null)D1(e,t),D7(t,n,r),z5(t,n,r,i),r=!0;else if(e===null){var s=t.stateNode,o=t.memoizedProps;s.props=o;var l=s.context,u=n.contextType;typeof u=="object"&&u!==null?u=Es(u):(u=Na(n)?xd:Xi.current,u=Jf(t,u));var c=n.getDerivedStateFromProps,d=typeof c=="function"||typeof s.getSnapshotBeforeUpdate=="function";d||typeof s.UNSAFE_componentWillReceiveProps!="function"&&typeof s.componentWillReceiveProps!="function"||(o!==r||l!==u)&&bN(t,s,r,u),ju=!1;var p=t.memoizedState;s.state=p,Sv(t,r,s,i),l=t.memoizedState,o!==r||p!==l||Ea.current||ju?(typeof c=="function"&&(V5(t,n,c,r),l=t.memoizedState),(o=ju||xN(t,n,o,r,p,l,u))?(d||typeof s.UNSAFE_componentWillMount!="function"&&typeof s.componentWillMount!="function"||(typeof s.componentWillMount=="function"&&s.componentWillMount(),typeof s.UNSAFE_componentWillMount=="function"&&s.UNSAFE_componentWillMount()),typeof s.componentDidMount=="function"&&(t.flags|=4194308)):(typeof s.componentDidMount=="function"&&(t.flags|=4194308),t.memoizedProps=r,t.memoizedState=l),s.props=r,s.state=l,s.context=u,r=o):(typeof s.componentDidMount=="function"&&(t.flags|=4194308),r=!1)}else{s=t.stateNode,g7(e,t),o=t.memoizedProps,u=t.type===t.elementType?o:Gs(t.type,o),s.props=u,d=t.pendingProps,p=s.context,l=n.contextType,typeof l=="object"&&l!==null?l=Es(l):(l=Na(n)?xd:Xi.current,l=Jf(t,l));var f=n.getDerivedStateFromProps;(c=typeof f=="function"||typeof s.getSnapshotBeforeUpdate=="function")||typeof s.UNSAFE_componentWillReceiveProps!="function"&&typeof s.componentWillReceiveProps!="function"||(o!==d||p!==l)&&bN(t,s,r,l),ju=!1,p=t.memoizedState,s.state=p,Sv(t,r,s,i);var g=t.memoizedState;o!==d||p!==g||Ea.current||ju?(typeof f=="function"&&(V5(t,n,f,r),g=t.memoizedState),(u=ju||xN(t,n,u,r,p,g,l)||!1)?(c||typeof s.UNSAFE_componentWillUpdate!="function"&&typeof s.componentWillUpdate!="function"||(typeof s.componentWillUpdate=="function"&&s.componentWillUpdate(r,g,l),typeof s.UNSAFE_componentWillUpdate=="function"&&s.UNSAFE_componentWillUpdate(r,g,l)),typeof s.componentDidUpdate=="function"&&(t.flags|=4),typeof s.getSnapshotBeforeUpdate=="function"&&(t.flags|=1024)):(typeof s.componentDidUpdate!="function"||o===e.memoizedProps&&p===e.memoizedState||(t.flags|=4),typeof s.getSnapshotBeforeUpdate!="function"||o===e.memoizedProps&&p===e.memoizedState||(t.flags|=1024),t.memoizedProps=r,t.memoizedState=g),s.props=r,s.state=g,s.context=l,r=u):(typeof s.componentDidUpdate!="function"||o===e.memoizedProps&&p===e.memoizedState||(t.flags|=4),typeof s.getSnapshotBeforeUpdate!="function"||o===e.memoizedProps&&p===e.memoizedState||(t.flags|=1024),r=!1)}return W5(e,t,n,r,a,i)}function W5(e,t,n,r,i,a){$7(e,t);var s=(t.flags&128)!==0;if(!r&&!s)return i&&dN(t,n,!1),Ll(e,t,a);r=t.stateNode,AK.current=t;var o=s&&typeof n.getDerivedStateFromError!="function"?null:r.render();return t.flags|=1,e!==null&&s?(t.child=th(t,e.child,null,a),t.child=th(t,null,o,a)):ra(e,t,o,a),t.memoizedState=r.state,i&&dN(t,n,!0),t.child}function U7(e){var t=e.stateNode;t.pendingContext?cN(e,t.pendingContext,t.pendingContext!==t.context):t.context&&cN(e,t.context,!1),B_(e,t.containerInfo)}function NN(e,t,n,r,i){return eh(),O_(i),t.flags|=256,ra(e,t,n,r),t.child}var q5={dehydrated:null,treeContext:null,retryLane:0};function H5(e){return{baseLanes:e,cachePool:null,transitions:null}}function W7(e,t,n){var r=t.pendingProps,i=Jn.current,a=!1,s=(t.flags&128)!==0,o;if((o=s)||(o=e!==null&&e.memoizedState===null?!1:(i&2)!==0),o?(a=!0,t.flags&=-129):(e===null||e.memoizedState!==null)&&(i|=1),Tn(Jn,i&1),e===null)return F5(t),e=t.memoizedState,e!==null&&(e=e.dehydrated,e!==null)?(t.mode&1?e.data==="$!"?t.lanes=8:t.lanes=1073741824:t.lanes=1,null):(s=r.children,e=r.fallback,a?(r=t.mode,a=t.child,s={mode:"hidden",children:s},!(r&1)&&a!==null?(a.childLanes=0,a.pendingProps=s):a=p2(s,r,0,null),e=dd(e,r,n,null),a.return=t,e.return=t,a.sibling=e,t.child=a,t.child.memoizedState=H5(n),t.memoizedState=q5,e):K_(t,s));if(i=e.memoizedState,i!==null&&(o=i.dehydrated,o!==null))return PK(e,t,s,r,o,i,n);if(a){a=r.fallback,s=t.mode,i=e.child,o=i.sibling;var l={mode:"hidden",children:r.children};return!(s&1)&&t.child!==i?(r=t.child,r.childLanes=0,r.pendingProps=l,t.deletions=null):(r=Zu(i,l),r.subtreeFlags=i.subtreeFlags&14680064),o!==null?a=Zu(o,a):(a=dd(a,s,n,null),a.flags|=2),a.return=t,r.return=t,r.sibling=a,t.child=r,r=a,a=t.child,s=e.child.memoizedState,s=s===null?H5(n):{baseLanes:s.baseLanes|n,cachePool:null,transitions:s.transitions},a.memoizedState=s,a.childLanes=e.childLanes&~n,t.memoizedState=q5,r}return a=e.child,e=a.sibling,r=Zu(a,{mode:"visible",children:r.children}),!(t.mode&1)&&(r.lanes=n),r.return=t,r.sibling=null,e!==null&&(n=t.deletions,n===null?(t.deletions=[e],t.flags|=16):n.push(e)),t.child=r,t.memoizedState=null,r}function K_(e,t){return t=p2({mode:"visible",children:t},e.mode,0,null),t.return=e,e.child=t}function Wg(e,t,n,r){return r!==null&&O_(r),th(t,e.child,null,n),e=K_(t,t.pendingProps.children),e.flags|=2,t.memoizedState=null,e}function PK(e,t,n,r,i,a,s){if(n)return t.flags&256?(t.flags&=-257,r=Db(Error(Fe(422))),Wg(e,t,s,r)):t.memoizedState!==null?(t.child=e.child,t.flags|=128,null):(a=r.fallback,i=t.mode,r=p2({mode:"visible",children:r.children},i,0,null),a=dd(a,i,s,null),a.flags|=2,r.return=t,a.return=t,r.sibling=a,t.child=r,t.mode&1&&th(t,e.child,null,s),t.child.memoizedState=H5(s),t.memoizedState=q5,a);if(!(t.mode&1))return Wg(e,t,s,null);if(i.data==="$!"){if(r=i.nextSibling&&i.nextSibling.dataset,r)var o=r.dgst;return r=o,a=Error(Fe(419)),r=Db(a,r,void 0),Wg(e,t,s,r)}if(o=(s&e.childLanes)!==0,Sa||o){if(r=ui,r!==null){switch(s&-s){case 4:i=2;break;case 16:i=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:i=32;break;case 536870912:i=268435456;break;default:i=0}i=i&(r.suspendedLanes|s)?0:i,i!==0&&i!==a.retryLane&&(a.retryLane=i,Ol(e,i),to(r,e,i,-1))}return J_(),r=Db(Error(Fe(421))),Wg(e,t,s,r)}return i.data==="$?"?(t.flags|=128,t.child=e.child,t=FK.bind(null,e),i._reactRetry=t,null):(e=a.treeContext,Xa=Gu(i.nextSibling),es=t,qn=!0,Xs=null,e!==null&&(bs[ws++]=Sl,bs[ws++]=Al,bs[ws++]=bd,Sl=e.id,Al=e.overflow,bd=t),t=K_(t,r.children),t.flags|=4096,t)}function kN(e,t,n){e.lanes|=t;var r=e.alternate;r!==null&&(r.lanes|=t),B5(e.return,t,n)}function Fb(e,t,n,r,i){var a=e.memoizedState;a===null?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:i}:(a.isBackwards=t,a.rendering=null,a.renderingStartTime=0,a.last=r,a.tail=n,a.tailMode=i)}function q7(e,t,n){var r=t.pendingProps,i=r.revealOrder,a=r.tail;if(ra(e,t,r.children,n),r=Jn.current,r&2)r=r&1|2,t.flags|=128;else{if(e!==null&&e.flags&128)e:for(e=t.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&kN(e,n,t);else if(e.tag===19)kN(e,n,t);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;e.sibling===null;){if(e.return===null||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}r&=1}if(Tn(Jn,r),!(t.mode&1))t.memoizedState=null;else switch(i){case"forwards":for(n=t.child,i=null;n!==null;)e=n.alternate,e!==null&&Av(e)===null&&(i=n),n=n.sibling;n=i,n===null?(i=t.child,t.child=null):(i=n.sibling,n.sibling=null),Fb(t,!1,i,n,a);break;case"backwards":for(n=null,i=t.child,t.child=null;i!==null;){if(e=i.alternate,e!==null&&Av(e)===null){t.child=i;break}e=i.sibling,i.sibling=n,n=i,i=e}Fb(t,!0,n,null,a);break;case"together":Fb(t,!1,null,null,void 0);break;default:t.memoizedState=null}return t.child}function D1(e,t){!(t.mode&1)&&e!==null&&(e.alternate=null,t.alternate=null,t.flags|=2)}function Ll(e,t,n){if(e!==null&&(t.dependencies=e.dependencies),_d|=t.lanes,!(n&t.childLanes))return null;if(e!==null&&t.child!==e.child)throw Error(Fe(153));if(t.child!==null){for(e=t.child,n=Zu(e,e.pendingProps),t.child=n,n.return=t;e.sibling!==null;)e=e.sibling,n=n.sibling=Zu(e,e.pendingProps),n.return=t;n.sibling=null}return t.child}function EK(e,t,n){switch(t.tag){case 3:U7(t),eh();break;case 5:v7(t);break;case 1:Na(t.type)&&yv(t);break;case 4:B_(t,t.stateNode.containerInfo);break;case 10:var r=t.type._context,i=t.memoizedProps.value;Tn(wv,r._currentValue),r._currentValue=i;break;case 13:if(r=t.memoizedState,r!==null)return r.dehydrated!==null?(Tn(Jn,Jn.current&1),t.flags|=128,null):n&t.child.childLanes?W7(e,t,n):(Tn(Jn,Jn.current&1),e=Ll(e,t,n),e!==null?e.sibling:null);Tn(Jn,Jn.current&1);break;case 19:if(r=(n&t.childLanes)!==0,e.flags&128){if(r)return q7(e,t,n);t.flags|=128}if(i=t.memoizedState,i!==null&&(i.rendering=null,i.tail=null,i.lastEffect=null),Tn(Jn,Jn.current),r)break;return null;case 22:case 23:return t.lanes=0,z7(e,t,n)}return Ll(e,t,n)}var H7,K5,K7,G7;H7=function(e,t){for(var n=t.child;n!==null;){if(n.tag===5||n.tag===6)e.appendChild(n.stateNode);else if(n.tag!==4&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===t)break;for(;n.sibling===null;){if(n.return===null||n.return===t)return;n=n.return}n.sibling.return=n.return,n=n.sibling}};K5=function(){};K7=function(e,t,n,r){var i=e.memoizedProps;if(i!==r){e=t.stateNode,rd($o.current);var a=null;switch(n){case"input":i=m5(e,i),r=m5(e,r),a=[];break;case"select":i=rr({},i,{value:void 0}),r=rr({},r,{value:void 0}),a=[];break;case"textarea":i=y5(e,i),r=y5(e,r),a=[];break;default:typeof i.onClick!="function"&&typeof r.onClick=="function"&&(e.onclick=gv)}b5(n,r);var s;n=null;for(u in i)if(!r.hasOwnProperty(u)&&i.hasOwnProperty(u)&&i[u]!=null)if(u==="style"){var o=i[u];for(s in o)o.hasOwnProperty(s)&&(n||(n={}),n[s]="")}else u!=="dangerouslySetInnerHTML"&&u!=="children"&&u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&u!=="autoFocus"&&(ym.hasOwnProperty(u)?a||(a=[]):(a=a||[]).push(u,null));for(u in r){var l=r[u];if(o=i!=null?i[u]:void 0,r.hasOwnProperty(u)&&l!==o&&(l!=null||o!=null))if(u==="style")if(o){for(s in o)!o.hasOwnProperty(s)||l&&l.hasOwnProperty(s)||(n||(n={}),n[s]="");for(s in l)l.hasOwnProperty(s)&&o[s]!==l[s]&&(n||(n={}),n[s]=l[s])}else n||(a||(a=[]),a.push(u,n)),n=l;else u==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,o=o?o.__html:void 0,l!=null&&o!==l&&(a=a||[]).push(u,l)):u==="children"?typeof l!="string"&&typeof l!="number"||(a=a||[]).push(u,""+l):u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&(ym.hasOwnProperty(u)?(l!=null&&u==="onScroll"&&Rn("scroll",e),a||o===l||(a=[])):(a=a||[]).push(u,l))}n&&(a=a||[]).push("style",n);var u=a;(t.updateQueue=u)&&(t.flags|=4)}};G7=function(e,t,n,r){n!==r&&(t.flags|=4)};function _p(e,t){if(!qn)switch(e.tailMode){case"hidden":t=e.tail;for(var n=null;t!==null;)t.alternate!==null&&(n=t),t=t.sibling;n===null?e.tail=null:n.sibling=null;break;case"collapsed":n=e.tail;for(var r=null;n!==null;)n.alternate!==null&&(r=n),n=n.sibling;r===null?t||e.tail===null?e.tail=null:e.tail.sibling=null:r.sibling=null}}function Ri(e){var t=e.alternate!==null&&e.alternate.child===e.child,n=0,r=0;if(t)for(var i=e.child;i!==null;)n|=i.lanes|i.childLanes,r|=i.subtreeFlags&14680064,r|=i.flags&14680064,i.return=e,i=i.sibling;else for(i=e.child;i!==null;)n|=i.lanes|i.childLanes,r|=i.subtreeFlags,r|=i.flags,i.return=e,i=i.sibling;return e.subtreeFlags|=r,e.childLanes=n,t}function NK(e,t,n){var r=t.pendingProps;switch(I_(t),t.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Ri(t),null;case 1:return Na(t.type)&&vv(),Ri(t),null;case 3:return r=t.stateNode,nh(),Bn(Ea),Bn(Xi),z_(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),(e===null||e.child===null)&&($g(t)?t.flags|=4:e===null||e.memoizedState.isDehydrated&&!(t.flags&256)||(t.flags|=1024,Xs!==null&&(t4(Xs),Xs=null))),K5(e,t),Ri(t),null;case 5:V_(t);var i=rd(Cm.current);if(n=t.type,e!==null&&t.stateNode!=null)K7(e,t,n,r,i),e.ref!==t.ref&&(t.flags|=512,t.flags|=2097152);else{if(!r){if(t.stateNode===null)throw Error(Fe(166));return Ri(t),null}if(e=rd($o.current),$g(t)){r=t.stateNode,n=t.type;var a=t.memoizedProps;switch(r[Fo]=t,r[km]=a,e=(t.mode&1)!==0,n){case"dialog":Rn("cancel",r),Rn("close",r);break;case"iframe":case"object":case"embed":Rn("load",r);break;case"video":case"audio":for(i=0;i<$p.length;i++)Rn($p[i],r);break;case"source":Rn("error",r);break;case"img":case"image":case"link":Rn("error",r),Rn("load",r);break;case"details":Rn("toggle",r);break;case"input":DE(r,a),Rn("invalid",r);break;case"select":r._wrapperState={wasMultiple:!!a.multiple},Rn("invalid",r);break;case"textarea":BE(r,a),Rn("invalid",r)}b5(n,a),i=null;for(var s in a)if(a.hasOwnProperty(s)){var o=a[s];s==="children"?typeof o=="string"?r.textContent!==o&&(a.suppressHydrationWarning!==!0&&zg(r.textContent,o,e),i=["children",o]):typeof o=="number"&&r.textContent!==""+o&&(a.suppressHydrationWarning!==!0&&zg(r.textContent,o,e),i=["children",""+o]):ym.hasOwnProperty(s)&&o!=null&&s==="onScroll"&&Rn("scroll",r)}switch(n){case"input":Og(r),FE(r,a,!0);break;case"textarea":Og(r),VE(r);break;case"select":case"option":break;default:typeof a.onClick=="function"&&(r.onclick=gv)}r=i,t.updateQueue=r,r!==null&&(t.flags|=4)}else{s=i.nodeType===9?i:i.ownerDocument,e==="http://www.w3.org/1999/xhtml"&&(e=_L(n)),e==="http://www.w3.org/1999/xhtml"?n==="script"?(e=s.createElement("div"),e.innerHTML="<script><\/script>",e=e.removeChild(e.firstChild)):typeof r.is=="string"?e=s.createElement(n,{is:r.is}):(e=s.createElement(n),n==="select"&&(s=e,r.multiple?s.multiple=!0:r.size&&(s.size=r.size))):e=s.createElementNS(e,n),e[Fo]=t,e[km]=r,H7(e,t,!1,!1),t.stateNode=e;e:{switch(s=w5(n,r),n){case"dialog":Rn("cancel",e),Rn("close",e),i=r;break;case"iframe":case"object":case"embed":Rn("load",e),i=r;break;case"video":case"audio":for(i=0;i<$p.length;i++)Rn($p[i],e);i=r;break;case"source":Rn("error",e),i=r;break;case"img":case"image":case"link":Rn("error",e),Rn("load",e),i=r;break;case"details":Rn("toggle",e),i=r;break;case"input":DE(e,r),i=m5(e,r),Rn("invalid",e);break;case"option":i=r;break;case"select":e._wrapperState={wasMultiple:!!r.multiple},i=rr({},r,{value:void 0}),Rn("invalid",e);break;case"textarea":BE(e,r),i=y5(e,r),Rn("invalid",e);break;default:i=r}b5(n,i),o=i;for(a in o)if(o.hasOwnProperty(a)){var l=o[a];a==="style"?PL(e,l):a==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,l!=null&&SL(e,l)):a==="children"?typeof l=="string"?(n!=="textarea"||l!=="")&&xm(e,l):typeof l=="number"&&xm(e,""+l):a!=="suppressContentEditableWarning"&&a!=="suppressHydrationWarning"&&a!=="autoFocus"&&(ym.hasOwnProperty(a)?l!=null&&a==="onScroll"&&Rn("scroll",e):l!=null&&v_(e,a,l,s))}switch(n){case"input":Og(e),FE(e,r,!1);break;case"textarea":Og(e),VE(e);break;case"option":r.value!=null&&e.setAttribute("value",""+ic(r.value));break;case"select":e.multiple=!!r.multiple,a=r.value,a!=null?Df(e,!!r.multiple,a,!1):r.defaultValue!=null&&Df(e,!!r.multiple,r.defaultValue,!0);break;default:typeof i.onClick=="function"&&(e.onclick=gv)}switch(n){case"button":case"input":case"select":case"textarea":r=!!r.autoFocus;break e;case"img":r=!0;break e;default:r=!1}}r&&(t.flags|=4)}t.ref!==null&&(t.flags|=512,t.flags|=2097152)}return Ri(t),null;case 6:if(e&&t.stateNode!=null)G7(e,t,e.memoizedProps,r);else{if(typeof r!="string"&&t.stateNode===null)throw Error(Fe(166));if(n=rd(Cm.current),rd($o.current),$g(t)){if(r=t.stateNode,n=t.memoizedProps,r[Fo]=t,(a=r.nodeValue!==n)&&(e=es,e!==null))switch(e.tag){case 3:zg(r.nodeValue,n,(e.mode&1)!==0);break;case 5:e.memoizedProps.suppressHydrationWarning!==!0&&zg(r.nodeValue,n,(e.mode&1)!==0)}a&&(t.flags|=4)}else r=(n.nodeType===9?n:n.ownerDocument).createTextNode(r),r[Fo]=t,t.stateNode=r}return Ri(t),null;case 13:if(Bn(Jn),r=t.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(qn&&Xa!==null&&t.mode&1&&!(t.flags&128))f7(),eh(),t.flags|=98560,a=!1;else if(a=$g(t),r!==null&&r.dehydrated!==null){if(e===null){if(!a)throw Error(Fe(318));if(a=t.memoizedState,a=a!==null?a.dehydrated:null,!a)throw Error(Fe(317));a[Fo]=t}else eh(),!(t.flags&128)&&(t.memoizedState=null),t.flags|=4;Ri(t),a=!1}else Xs!==null&&(t4(Xs),Xs=null),a=!0;if(!a)return t.flags&65536?t:null}return t.flags&128?(t.lanes=n,t):(r=r!==null,r!==(e!==null&&e.memoizedState!==null)&&r&&(t.child.flags|=8192,t.mode&1&&(e===null||Jn.current&1?Kr===0&&(Kr=3):J_())),t.updateQueue!==null&&(t.flags|=4),Ri(t),null);case 4:return nh(),K5(e,t),e===null&&Em(t.stateNode.containerInfo),Ri(t),null;case 10:return M_(t.type._context),Ri(t),null;case 17:return Na(t.type)&&vv(),Ri(t),null;case 19:if(Bn(Jn),a=t.memoizedState,a===null)return Ri(t),null;if(r=(t.flags&128)!==0,s=a.rendering,s===null)if(r)_p(a,!1);else{if(Kr!==0||e!==null&&e.flags&128)for(e=t.child;e!==null;){if(s=Av(e),s!==null){for(t.flags|=128,_p(a,!1),r=s.updateQueue,r!==null&&(t.updateQueue=r,t.flags|=4),t.subtreeFlags=0,r=n,n=t.child;n!==null;)a=n,e=r,a.flags&=14680066,s=a.alternate,s===null?(a.childLanes=0,a.lanes=e,a.child=null,a.subtreeFlags=0,a.memoizedProps=null,a.memoizedState=null,a.updateQueue=null,a.dependencies=null,a.stateNode=null):(a.childLanes=s.childLanes,a.lanes=s.lanes,a.child=s.child,a.subtreeFlags=0,a.deletions=null,a.memoizedProps=s.memoizedProps,a.memoizedState=s.memoizedState,a.updateQueue=s.updateQueue,a.type=s.type,e=s.dependencies,a.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext}),n=n.sibling;return Tn(Jn,Jn.current&1|2),t.child}e=e.sibling}a.tail!==null&&Er()>ih&&(t.flags|=128,r=!0,_p(a,!1),t.lanes=4194304)}else{if(!r)if(e=Av(s),e!==null){if(t.flags|=128,r=!0,n=e.updateQueue,n!==null&&(t.updateQueue=n,t.flags|=4),_p(a,!0),a.tail===null&&a.tailMode==="hidden"&&!s.alternate&&!qn)return Ri(t),null}else 2*Er()-a.renderingStartTime>ih&&n!==1073741824&&(t.flags|=128,r=!0,_p(a,!1),t.lanes=4194304);a.isBackwards?(s.sibling=t.child,t.child=s):(n=a.last,n!==null?n.sibling=s:t.child=s,a.last=s)}return a.tail!==null?(t=a.tail,a.rendering=t,a.tail=t.sibling,a.renderingStartTime=Er(),t.sibling=null,n=Jn.current,Tn(Jn,r?n&1|2:n&1),t):(Ri(t),null);case 22:case 23:return Z_(),r=t.memoizedState!==null,e!==null&&e.memoizedState!==null!==r&&(t.flags|=8192),r&&t.mode&1?Ka&1073741824&&(Ri(t),t.subtreeFlags&6&&(t.flags|=8192)):Ri(t),null;case 24:return null;case 25:return null}throw Error(Fe(156,t.tag))}function kK(e,t){switch(I_(t),t.tag){case 1:return Na(t.type)&&vv(),e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 3:return nh(),Bn(Ea),Bn(Xi),z_(),e=t.flags,e&65536&&!(e&128)?(t.flags=e&-65537|128,t):null;case 5:return V_(t),null;case 13:if(Bn(Jn),e=t.memoizedState,e!==null&&e.dehydrated!==null){if(t.alternate===null)throw Error(Fe(340));eh()}return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 19:return Bn(Jn),null;case 4:return nh(),null;case 10:return M_(t.type._context),null;case 22:case 23:return Z_(),null;case 24:return null;default:return null}}var qg=!1,Ui=!1,TK=typeof WeakSet=="function"?WeakSet:Set,Ke=null;function Ef(e,t){var n=e.ref;if(n!==null)if(typeof n=="function")try{n(null)}catch(r){hr(e,t,r)}else n.current=null}function G5(e,t,n){try{n()}catch(r){hr(e,t,r)}}var TN=!1;function CK(e,t){if(j5=hv,e=JL(),C_(e)){if("selectionStart"in e)var n={start:e.selectionStart,end:e.selectionEnd};else e:{n=(n=e.ownerDocument)&&n.defaultView||window;var r=n.getSelection&&n.getSelection();if(r&&r.rangeCount!==0){n=r.anchorNode;var i=r.anchorOffset,a=r.focusNode;r=r.focusOffset;try{n.nodeType,a.nodeType}catch{n=null;break e}var s=0,o=-1,l=-1,u=0,c=0,d=e,p=null;t:for(;;){for(var f;d!==n||i!==0&&d.nodeType!==3||(o=s+i),d!==a||r!==0&&d.nodeType!==3||(l=s+r),d.nodeType===3&&(s+=d.nodeValue.length),(f=d.firstChild)!==null;)p=d,d=f;for(;;){if(d===e)break t;if(p===n&&++u===i&&(o=s),p===a&&++c===r&&(l=s),(f=d.nextSibling)!==null)break;d=p,p=d.parentNode}d=f}n=o===-1||l===-1?null:{start:o,end:l}}else n=null}n=n||{start:0,end:0}}else n=null;for(I5={focusedElem:e,selectionRange:n},hv=!1,Ke=t;Ke!==null;)if(t=Ke,e=t.child,(t.subtreeFlags&1028)!==0&&e!==null)e.return=t,Ke=e;else for(;Ke!==null;){t=Ke;try{var g=t.alternate;if(t.flags&1024)switch(t.tag){case 0:case 11:case 15:break;case 1:if(g!==null){var v=g.memoizedProps,b=g.memoizedState,x=t.stateNode,w=x.getSnapshotBeforeUpdate(t.elementType===t.type?v:Gs(t.type,v),b);x.__reactInternalSnapshotBeforeUpdate=w}break;case 3:var A=t.stateNode.containerInfo;A.nodeType===1?A.textContent="":A.nodeType===9&&A.documentElement&&A.removeChild(A.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(Fe(163))}}catch(P){hr(t,t.return,P)}if(e=t.sibling,e!==null){e.return=t.return,Ke=e;break}Ke=t.return}return g=TN,TN=!1,g}function nm(e,t,n){var r=t.updateQueue;if(r=r!==null?r.lastEffect:null,r!==null){var i=r=r.next;do{if((i.tag&e)===e){var a=i.destroy;i.destroy=void 0,a!==void 0&&G5(t,n,a)}i=i.next}while(i!==r)}}function f2(e,t){if(t=t.updateQueue,t=t!==null?t.lastEffect:null,t!==null){var n=t=t.next;do{if((n.tag&e)===e){var r=n.create;n.destroy=r()}n=n.next}while(n!==t)}}function Y5(e){var t=e.ref;if(t!==null){var n=e.stateNode;switch(e.tag){case 5:e=n;break;default:e=n}typeof t=="function"?t(e):t.current=e}}function Y7(e){var t=e.alternate;t!==null&&(e.alternate=null,Y7(t)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(t=e.stateNode,t!==null&&(delete t[Fo],delete t[km],delete t[R5],delete t[fK],delete t[hK])),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}function X7(e){return e.tag===5||e.tag===3||e.tag===4}function CN(e){e:for(;;){for(;e.sibling===null;){if(e.return===null||X7(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.flags&2||e.child===null||e.tag===4)continue e;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function X5(e,t,n){var r=e.tag;if(r===5||r===6)e=e.stateNode,t?n.nodeType===8?n.parentNode.insertBefore(e,t):n.insertBefore(e,t):(n.nodeType===8?(t=n.parentNode,t.insertBefore(e,n)):(t=n,t.appendChild(e)),n=n._reactRootContainer,n!=null||t.onclick!==null||(t.onclick=gv));else if(r!==4&&(e=e.child,e!==null))for(X5(e,t,n),e=e.sibling;e!==null;)X5(e,t,n),e=e.sibling}function Q5(e,t,n){var r=e.tag;if(r===5||r===6)e=e.stateNode,t?n.insertBefore(e,t):n.appendChild(e);else if(r!==4&&(e=e.child,e!==null))for(Q5(e,t,n),e=e.sibling;e!==null;)Q5(e,t,n),e=e.sibling}var xi=null,Ys=!1;function Pu(e,t,n){for(n=n.child;n!==null;)Q7(e,t,n),n=n.sibling}function Q7(e,t,n){if(zo&&typeof zo.onCommitFiberUnmount=="function")try{zo.onCommitFiberUnmount(i2,n)}catch{}switch(n.tag){case 5:Ui||Ef(n,t);case 6:var r=xi,i=Ys;xi=null,Pu(e,t,n),xi=r,Ys=i,xi!==null&&(Ys?(e=xi,n=n.stateNode,e.nodeType===8?e.parentNode.removeChild(n):e.removeChild(n)):xi.removeChild(n.stateNode));break;case 18:xi!==null&&(Ys?(e=xi,n=n.stateNode,e.nodeType===8?jb(e.parentNode,n):e.nodeType===1&&jb(e,n),Sm(e)):jb(xi,n.stateNode));break;case 4:r=xi,i=Ys,xi=n.stateNode.containerInfo,Ys=!0,Pu(e,t,n),xi=r,Ys=i;break;case 0:case 11:case 14:case 15:if(!Ui&&(r=n.updateQueue,r!==null&&(r=r.lastEffect,r!==null))){i=r=r.next;do{var a=i,s=a.destroy;a=a.tag,s!==void 0&&(a&2||a&4)&&G5(n,t,s),i=i.next}while(i!==r)}Pu(e,t,n);break;case 1:if(!Ui&&(Ef(n,t),r=n.stateNode,typeof r.componentWillUnmount=="function"))try{r.props=n.memoizedProps,r.state=n.memoizedState,r.componentWillUnmount()}catch(o){hr(n,t,o)}Pu(e,t,n);break;case 21:Pu(e,t,n);break;case 22:n.mode&1?(Ui=(r=Ui)||n.memoizedState!==null,Pu(e,t,n),Ui=r):Pu(e,t,n);break;default:Pu(e,t,n)}}function jN(e){var t=e.updateQueue;if(t!==null){e.updateQueue=null;var n=e.stateNode;n===null&&(n=e.stateNode=new TK),t.forEach(function(r){var i=BK.bind(null,e,r);n.has(r)||(n.add(r),r.then(i,i))})}}function qs(e,t){var n=t.deletions;if(n!==null)for(var r=0;r<n.length;r++){var i=n[r];try{var a=e,s=t,o=s;e:for(;o!==null;){switch(o.tag){case 5:xi=o.stateNode,Ys=!1;break e;case 3:xi=o.stateNode.containerInfo,Ys=!0;break e;case 4:xi=o.stateNode.containerInfo,Ys=!0;break e}o=o.return}if(xi===null)throw Error(Fe(160));Q7(a,s,i),xi=null,Ys=!1;var l=i.alternate;l!==null&&(l.return=null),i.return=null}catch(u){hr(i,t,u)}}if(t.subtreeFlags&12854)for(t=t.child;t!==null;)Z7(t,e),t=t.sibling}function Z7(e,t){var n=e.alternate,r=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:if(qs(t,e),Lo(e),r&4){try{nm(3,e,e.return),f2(3,e)}catch(v){hr(e,e.return,v)}try{nm(5,e,e.return)}catch(v){hr(e,e.return,v)}}break;case 1:qs(t,e),Lo(e),r&512&&n!==null&&Ef(n,n.return);break;case 5:if(qs(t,e),Lo(e),r&512&&n!==null&&Ef(n,n.return),e.flags&32){var i=e.stateNode;try{xm(i,"")}catch(v){hr(e,e.return,v)}}if(r&4&&(i=e.stateNode,i!=null)){var a=e.memoizedProps,s=n!==null?n.memoizedProps:a,o=e.type,l=e.updateQueue;if(e.updateQueue=null,l!==null)try{o==="input"&&a.type==="radio"&&a.name!=null&&bL(i,a),w5(o,s);var u=w5(o,a);for(s=0;s<l.length;s+=2){var c=l[s],d=l[s+1];c==="style"?PL(i,d):c==="dangerouslySetInnerHTML"?SL(i,d):c==="children"?xm(i,d):v_(i,c,d,u)}switch(o){case"input":g5(i,a);break;case"textarea":wL(i,a);break;case"select":var p=i._wrapperState.wasMultiple;i._wrapperState.wasMultiple=!!a.multiple;var f=a.value;f!=null?Df(i,!!a.multiple,f,!1):p!==!!a.multiple&&(a.defaultValue!=null?Df(i,!!a.multiple,a.defaultValue,!0):Df(i,!!a.multiple,a.multiple?[]:"",!1))}i[km]=a}catch(v){hr(e,e.return,v)}}break;case 6:if(qs(t,e),Lo(e),r&4){if(e.stateNode===null)throw Error(Fe(162));i=e.stateNode,a=e.memoizedProps;try{i.nodeValue=a}catch(v){hr(e,e.return,v)}}break;case 3:if(qs(t,e),Lo(e),r&4&&n!==null&&n.memoizedState.isDehydrated)try{Sm(t.containerInfo)}catch(v){hr(e,e.return,v)}break;case 4:qs(t,e),Lo(e);break;case 13:qs(t,e),Lo(e),i=e.child,i.flags&8192&&(a=i.memoizedState!==null,i.stateNode.isHidden=a,!a||i.alternate!==null&&i.alternate.memoizedState!==null||(X_=Er())),r&4&&jN(e);break;case 22:if(c=n!==null&&n.memoizedState!==null,e.mode&1?(Ui=(u=Ui)||c,qs(t,e),Ui=u):qs(t,e),Lo(e),r&8192){if(u=e.memoizedState!==null,(e.stateNode.isHidden=u)&&!c&&e.mode&1)for(Ke=e,c=e.child;c!==null;){for(d=Ke=c;Ke!==null;){switch(p=Ke,f=p.child,p.tag){case 0:case 11:case 14:case 15:nm(4,p,p.return);break;case 1:Ef(p,p.return);var g=p.stateNode;if(typeof g.componentWillUnmount=="function"){r=p,n=p.return;try{t=r,g.props=t.memoizedProps,g.state=t.memoizedState,g.componentWillUnmount()}catch(v){hr(r,n,v)}}break;case 5:Ef(p,p.return);break;case 22:if(p.memoizedState!==null){ON(d);continue}}f!==null?(f.return=p,Ke=f):ON(d)}c=c.sibling}e:for(c=null,d=e;;){if(d.tag===5){if(c===null){c=d;try{i=d.stateNode,u?(a=i.style,typeof a.setProperty=="function"?a.setProperty("display","none","important"):a.display="none"):(o=d.stateNode,l=d.memoizedProps.style,s=l!=null&&l.hasOwnProperty("display")?l.display:null,o.style.display=AL("display",s))}catch(v){hr(e,e.return,v)}}}else if(d.tag===6){if(c===null)try{d.stateNode.nodeValue=u?"":d.memoizedProps}catch(v){hr(e,e.return,v)}}else if((d.tag!==22&&d.tag!==23||d.memoizedState===null||d===e)&&d.child!==null){d.child.return=d,d=d.child;continue}if(d===e)break e;for(;d.sibling===null;){if(d.return===null||d.return===e)break e;c===d&&(c=null),d=d.return}c===d&&(c=null),d.sibling.return=d.return,d=d.sibling}}break;case 19:qs(t,e),Lo(e),r&4&&jN(e);break;case 21:break;default:qs(t,e),Lo(e)}}function Lo(e){var t=e.flags;if(t&2){try{e:{for(var n=e.return;n!==null;){if(X7(n)){var r=n;break e}n=n.return}throw Error(Fe(160))}switch(r.tag){case 5:var i=r.stateNode;r.flags&32&&(xm(i,""),r.flags&=-33);var a=CN(e);Q5(e,a,i);break;case 3:case 4:var s=r.stateNode.containerInfo,o=CN(e);X5(e,o,s);break;default:throw Error(Fe(161))}}catch(l){hr(e,e.return,l)}e.flags&=-3}t&4096&&(e.flags&=-4097)}function jK(e,t,n){Ke=e,J7(e)}function J7(e,t,n){for(var r=(e.mode&1)!==0;Ke!==null;){var i=Ke,a=i.child;if(i.tag===22&&r){var s=i.memoizedState!==null||qg;if(!s){var o=i.alternate,l=o!==null&&o.memoizedState!==null||Ui;o=qg;var u=Ui;if(qg=s,(Ui=l)&&!u)for(Ke=i;Ke!==null;)s=Ke,l=s.child,s.tag===22&&s.memoizedState!==null?LN(i):l!==null?(l.return=s,Ke=l):LN(i);for(;a!==null;)Ke=a,J7(a),a=a.sibling;Ke=i,qg=o,Ui=u}IN(e)}else i.subtreeFlags&8772&&a!==null?(a.return=i,Ke=a):IN(e)}}function IN(e){for(;Ke!==null;){var t=Ke;if(t.flags&8772){var n=t.alternate;try{if(t.flags&8772)switch(t.tag){case 0:case 11:case 15:Ui||f2(5,t);break;case 1:var r=t.stateNode;if(t.flags&4&&!Ui)if(n===null)r.componentDidMount();else{var i=t.elementType===t.type?n.memoizedProps:Gs(t.type,n.memoizedProps);r.componentDidUpdate(i,n.memoizedState,r.__reactInternalSnapshotBeforeUpdate)}var a=t.updateQueue;a!==null&&gN(t,a,r);break;case 3:var s=t.updateQueue;if(s!==null){if(n=null,t.child!==null)switch(t.child.tag){case 5:n=t.child.stateNode;break;case 1:n=t.child.stateNode}gN(t,s,n)}break;case 5:var o=t.stateNode;if(n===null&&t.flags&4){n=o;var l=t.memoizedProps;switch(t.type){case"button":case"input":case"select":case"textarea":l.autoFocus&&n.focus();break;case"img":l.src&&(n.src=l.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(t.memoizedState===null){var u=t.alternate;if(u!==null){var c=u.memoizedState;if(c!==null){var d=c.dehydrated;d!==null&&Sm(d)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(Fe(163))}Ui||t.flags&512&&Y5(t)}catch(p){hr(t,t.return,p)}}if(t===e){Ke=null;break}if(n=t.sibling,n!==null){n.return=t.return,Ke=n;break}Ke=t.return}}function ON(e){for(;Ke!==null;){var t=Ke;if(t===e){Ke=null;break}var n=t.sibling;if(n!==null){n.return=t.return,Ke=n;break}Ke=t.return}}function LN(e){for(;Ke!==null;){var t=Ke;try{switch(t.tag){case 0:case 11:case 15:var n=t.return;try{f2(4,t)}catch(l){hr(t,n,l)}break;case 1:var r=t.stateNode;if(typeof r.componentDidMount=="function"){var i=t.return;try{r.componentDidMount()}catch(l){hr(t,i,l)}}var a=t.return;try{Y5(t)}catch(l){hr(t,a,l)}break;case 5:var s=t.return;try{Y5(t)}catch(l){hr(t,s,l)}}}catch(l){hr(t,t.return,l)}if(t===e){Ke=null;break}var o=t.sibling;if(o!==null){o.return=t.return,Ke=o;break}Ke=t.return}}var IK=Math.ceil,Nv=Xl.ReactCurrentDispatcher,G_=Xl.ReactCurrentOwner,As=Xl.ReactCurrentBatchConfig,Qt=0,ui=null,Rr=null,Ai=0,Ka=0,Nf=gc(0),Kr=0,Lm=null,_d=0,h2=0,Y_=0,rm=null,wa=null,X_=0,ih=1/0,vl=null,kv=!1,Z5=null,Xu=null,Hg=!1,Bu=null,Tv=0,im=0,J5=null,F1=-1,B1=0;function oa(){return Qt&6?Er():F1!==-1?F1:F1=Er()}function Qu(e){return e.mode&1?Qt&2&&Ai!==0?Ai&-Ai:mK.transition!==null?(B1===0&&(B1=DL()),B1):(e=vn,e!==0||(e=window.event,e=e===void 0?16:WL(e.type)),e):1}function to(e,t,n,r){if(50<im)throw im=0,J5=null,Error(Fe(185));y0(e,n,r),(!(Qt&2)||e!==ui)&&(e===ui&&(!(Qt&2)&&(h2|=n),Kr===4&&Ru(e,Ai)),ka(e,r),n===1&&Qt===0&&!(t.mode&1)&&(ih=Er()+500,u2&&vc()))}function ka(e,t){var n=e.callbackNode;mH(e,t);var r=fv(e,e===ui?Ai:0);if(r===0)n!==null&&UE(n),e.callbackNode=null,e.callbackPriority=0;else if(t=r&-r,e.callbackPriority!==t){if(n!=null&&UE(n),t===1)e.tag===0?pK(RN.bind(null,e)):u7(RN.bind(null,e)),cK(function(){!(Qt&6)&&vc()}),n=null;else{switch(FL(r)){case 1:n=__;break;case 4:n=RL;break;case 16:n=dv;break;case 536870912:n=ML;break;default:n=dv}n=oR(n,eR.bind(null,e))}e.callbackPriority=t,e.callbackNode=n}}function eR(e,t){if(F1=-1,B1=0,Qt&6)throw Error(Fe(327));var n=e.callbackNode;if($f()&&e.callbackNode!==n)return null;var r=fv(e,e===ui?Ai:0);if(r===0)return null;if(r&30||r&e.expiredLanes||t)t=Cv(e,r);else{t=r;var i=Qt;Qt|=2;var a=nR();(ui!==e||Ai!==t)&&(vl=null,ih=Er()+500,cd(e,t));do try{RK();break}catch(o){tR(e,o)}while(!0);R_(),Nv.current=a,Qt=i,Rr!==null?t=0:(ui=null,Ai=0,t=Kr)}if(t!==0){if(t===2&&(i=E5(e),i!==0&&(r=i,t=e4(e,i))),t===1)throw n=Lm,cd(e,0),Ru(e,r),ka(e,Er()),n;if(t===6)Ru(e,r);else{if(i=e.current.alternate,!(r&30)&&!OK(i)&&(t=Cv(e,r),t===2&&(a=E5(e),a!==0&&(r=a,t=e4(e,a))),t===1))throw n=Lm,cd(e,0),Ru(e,r),ka(e,Er()),n;switch(e.finishedWork=i,e.finishedLanes=r,t){case 0:case 1:throw Error(Fe(345));case 2:Hc(e,wa,vl);break;case 3:if(Ru(e,r),(r&130023424)===r&&(t=X_+500-Er(),10<t)){if(fv(e,0)!==0)break;if(i=e.suspendedLanes,(i&r)!==r){oa(),e.pingedLanes|=e.suspendedLanes&i;break}e.timeoutHandle=L5(Hc.bind(null,e,wa,vl),t);break}Hc(e,wa,vl);break;case 4:if(Ru(e,r),(r&4194240)===r)break;for(t=e.eventTimes,i=-1;0<r;){var s=31-eo(r);a=1<<s,s=t[s],s>i&&(i=s),r&=~a}if(r=i,r=Er()-r,r=(120>r?120:480>r?480:1080>r?1080:1920>r?1920:3e3>r?3e3:4320>r?4320:1960*IK(r/1960))-r,10<r){e.timeoutHandle=L5(Hc.bind(null,e,wa,vl),r);break}Hc(e,wa,vl);break;case 5:Hc(e,wa,vl);break;default:throw Error(Fe(329))}}}return ka(e,Er()),e.callbackNode===n?eR.bind(null,e):null}function e4(e,t){var n=rm;return e.current.memoizedState.isDehydrated&&(cd(e,t).flags|=256),e=Cv(e,t),e!==2&&(t=wa,wa=n,t!==null&&t4(t)),e}function t4(e){wa===null?wa=e:wa.push.apply(wa,e)}function OK(e){for(var t=e;;){if(t.flags&16384){var n=t.updateQueue;if(n!==null&&(n=n.stores,n!==null))for(var r=0;r<n.length;r++){var i=n[r],a=i.getSnapshot;i=i.value;try{if(!io(a(),i))return!1}catch{return!1}}}if(n=t.child,t.subtreeFlags&16384&&n!==null)n.return=t,t=n;else{if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}function Ru(e,t){for(t&=~Y_,t&=~h2,e.suspendedLanes|=t,e.pingedLanes&=~t,e=e.expirationTimes;0<t;){var n=31-eo(t),r=1<<n;e[n]=-1,t&=~r}}function RN(e){if(Qt&6)throw Error(Fe(327));$f();var t=fv(e,0);if(!(t&1))return ka(e,Er()),null;var n=Cv(e,t);if(e.tag!==0&&n===2){var r=E5(e);r!==0&&(t=r,n=e4(e,r))}if(n===1)throw n=Lm,cd(e,0),Ru(e,t),ka(e,Er()),n;if(n===6)throw Error(Fe(345));return e.finishedWork=e.current.alternate,e.finishedLanes=t,Hc(e,wa,vl),ka(e,Er()),null}function Q_(e,t){var n=Qt;Qt|=1;try{return e(t)}finally{Qt=n,Qt===0&&(ih=Er()+500,u2&&vc())}}function Sd(e){Bu!==null&&Bu.tag===0&&!(Qt&6)&&$f();var t=Qt;Qt|=1;var n=As.transition,r=vn;try{if(As.transition=null,vn=1,e)return e()}finally{vn=r,As.transition=n,Qt=t,!(Qt&6)&&vc()}}function Z_(){Ka=Nf.current,Bn(Nf)}function cd(e,t){e.finishedWork=null,e.finishedLanes=0;var n=e.timeoutHandle;if(n!==-1&&(e.timeoutHandle=-1,uK(n)),Rr!==null)for(n=Rr.return;n!==null;){var r=n;switch(I_(r),r.tag){case 1:r=r.type.childContextTypes,r!=null&&vv();break;case 3:nh(),Bn(Ea),Bn(Xi),z_();break;case 5:V_(r);break;case 4:nh();break;case 13:Bn(Jn);break;case 19:Bn(Jn);break;case 10:M_(r.type._context);break;case 22:case 23:Z_()}n=n.return}if(ui=e,Rr=e=Zu(e.current,null),Ai=Ka=t,Kr=0,Lm=null,Y_=h2=_d=0,wa=rm=null,nd!==null){for(t=0;t<nd.length;t++)if(n=nd[t],r=n.interleaved,r!==null){n.interleaved=null;var i=r.next,a=n.pending;if(a!==null){var s=a.next;a.next=i,r.next=s}n.pending=r}nd=null}return e}function tR(e,t){do{var n=Rr;try{if(R_(),R1.current=Ev,Pv){for(var r=tr.memoizedState;r!==null;){var i=r.queue;i!==null&&(i.pending=null),r=r.next}Pv=!1}if(wd=0,si=Wr=tr=null,tm=!1,jm=0,G_.current=null,n===null||n.return===null){Kr=1,Lm=t,Rr=null;break}e:{var a=e,s=n.return,o=n,l=t;if(t=Ai,o.flags|=32768,l!==null&&typeof l=="object"&&typeof l.then=="function"){var u=l,c=o,d=c.tag;if(!(c.mode&1)&&(d===0||d===11||d===15)){var p=c.alternate;p?(c.updateQueue=p.updateQueue,c.memoizedState=p.memoizedState,c.lanes=p.lanes):(c.updateQueue=null,c.memoizedState=null)}var f=_N(s);if(f!==null){f.flags&=-257,SN(f,s,o,a,t),f.mode&1&&wN(a,u,t),t=f,l=u;var g=t.updateQueue;if(g===null){var v=new Set;v.add(l),t.updateQueue=v}else g.add(l);break e}else{if(!(t&1)){wN(a,u,t),J_();break e}l=Error(Fe(426))}}else if(qn&&o.mode&1){var b=_N(s);if(b!==null){!(b.flags&65536)&&(b.flags|=256),SN(b,s,o,a,t),O_(rh(l,o));break e}}a=l=rh(l,o),Kr!==4&&(Kr=2),rm===null?rm=[a]:rm.push(a),a=s;do{switch(a.tag){case 3:a.flags|=65536,t&=-t,a.lanes|=t;var x=F7(a,l,t);mN(a,x);break e;case 1:o=l;var w=a.type,A=a.stateNode;if(!(a.flags&128)&&(typeof w.getDerivedStateFromError=="function"||A!==null&&typeof A.componentDidCatch=="function"&&(Xu===null||!Xu.has(A)))){a.flags|=65536,t&=-t,a.lanes|=t;var P=B7(a,o,t);mN(a,P);break e}}a=a.return}while(a!==null)}iR(n)}catch(O){t=O,Rr===n&&n!==null&&(Rr=n=n.return);continue}break}while(!0)}function nR(){var e=Nv.current;return Nv.current=Ev,e===null?Ev:e}function J_(){(Kr===0||Kr===3||Kr===2)&&(Kr=4),ui===null||!(_d&268435455)&&!(h2&268435455)||Ru(ui,Ai)}function Cv(e,t){var n=Qt;Qt|=2;var r=nR();(ui!==e||Ai!==t)&&(vl=null,cd(e,t));do try{LK();break}catch(i){tR(e,i)}while(!0);if(R_(),Qt=n,Nv.current=r,Rr!==null)throw Error(Fe(261));return ui=null,Ai=0,Kr}function LK(){for(;Rr!==null;)rR(Rr)}function RK(){for(;Rr!==null&&!sH();)rR(Rr)}function rR(e){var t=sR(e.alternate,e,Ka);e.memoizedProps=e.pendingProps,t===null?iR(e):Rr=t,G_.current=null}function iR(e){var t=e;do{var n=t.alternate;if(e=t.return,t.flags&32768){if(n=kK(n,t),n!==null){n.flags&=32767,Rr=n;return}if(e!==null)e.flags|=32768,e.subtreeFlags=0,e.deletions=null;else{Kr=6,Rr=null;return}}else if(n=NK(n,t,Ka),n!==null){Rr=n;return}if(t=t.sibling,t!==null){Rr=t;return}Rr=t=e}while(t!==null);Kr===0&&(Kr=5)}function Hc(e,t,n){var r=vn,i=As.transition;try{As.transition=null,vn=1,MK(e,t,n,r)}finally{As.transition=i,vn=r}return null}function MK(e,t,n,r){do $f();while(Bu!==null);if(Qt&6)throw Error(Fe(327));n=e.finishedWork;var i=e.finishedLanes;if(n===null)return null;if(e.finishedWork=null,e.finishedLanes=0,n===e.current)throw Error(Fe(177));e.callbackNode=null,e.callbackPriority=0;var a=n.lanes|n.childLanes;if(gH(e,a),e===ui&&(Rr=ui=null,Ai=0),!(n.subtreeFlags&2064)&&!(n.flags&2064)||Hg||(Hg=!0,oR(dv,function(){return $f(),null})),a=(n.flags&15990)!==0,n.subtreeFlags&15990||a){a=As.transition,As.transition=null;var s=vn;vn=1;var o=Qt;Qt|=4,G_.current=null,CK(e,n),Z7(n,e),nK(I5),hv=!!j5,I5=j5=null,e.current=n,jK(n),oH(),Qt=o,vn=s,As.transition=a}else e.current=n;if(Hg&&(Hg=!1,Bu=e,Tv=i),a=e.pendingLanes,a===0&&(Xu=null),cH(n.stateNode),ka(e,Er()),t!==null)for(r=e.onRecoverableError,n=0;n<t.length;n++)i=t[n],r(i.value,{componentStack:i.stack,digest:i.digest});if(kv)throw kv=!1,e=Z5,Z5=null,e;return Tv&1&&e.tag!==0&&$f(),a=e.pendingLanes,a&1?e===J5?im++:(im=0,J5=e):im=0,vc(),null}function $f(){if(Bu!==null){var e=FL(Tv),t=As.transition,n=vn;try{if(As.transition=null,vn=16>e?16:e,Bu===null)var r=!1;else{if(e=Bu,Bu=null,Tv=0,Qt&6)throw Error(Fe(331));var i=Qt;for(Qt|=4,Ke=e.current;Ke!==null;){var a=Ke,s=a.child;if(Ke.flags&16){var o=a.deletions;if(o!==null){for(var l=0;l<o.length;l++){var u=o[l];for(Ke=u;Ke!==null;){var c=Ke;switch(c.tag){case 0:case 11:case 15:nm(8,c,a)}var d=c.child;if(d!==null)d.return=c,Ke=d;else for(;Ke!==null;){c=Ke;var p=c.sibling,f=c.return;if(Y7(c),c===u){Ke=null;break}if(p!==null){p.return=f,Ke=p;break}Ke=f}}}var g=a.alternate;if(g!==null){var v=g.child;if(v!==null){g.child=null;do{var b=v.sibling;v.sibling=null,v=b}while(v!==null)}}Ke=a}}if(a.subtreeFlags&2064&&s!==null)s.return=a,Ke=s;else e:for(;Ke!==null;){if(a=Ke,a.flags&2048)switch(a.tag){case 0:case 11:case 15:nm(9,a,a.return)}var x=a.sibling;if(x!==null){x.return=a.return,Ke=x;break e}Ke=a.return}}var w=e.current;for(Ke=w;Ke!==null;){s=Ke;var A=s.child;if(s.subtreeFlags&2064&&A!==null)A.return=s,Ke=A;else e:for(s=w;Ke!==null;){if(o=Ke,o.flags&2048)try{switch(o.tag){case 0:case 11:case 15:f2(9,o)}}catch(O){hr(o,o.return,O)}if(o===s){Ke=null;break e}var P=o.sibling;if(P!==null){P.return=o.return,Ke=P;break e}Ke=o.return}}if(Qt=i,vc(),zo&&typeof zo.onPostCommitFiberRoot=="function")try{zo.onPostCommitFiberRoot(i2,e)}catch{}r=!0}return r}finally{vn=n,As.transition=t}}return!1}function MN(e,t,n){t=rh(n,t),t=F7(e,t,1),e=Yu(e,t,1),t=oa(),e!==null&&(y0(e,1,t),ka(e,t))}function hr(e,t,n){if(e.tag===3)MN(e,e,n);else for(;t!==null;){if(t.tag===3){MN(t,e,n);break}else if(t.tag===1){var r=t.stateNode;if(typeof t.type.getDerivedStateFromError=="function"||typeof r.componentDidCatch=="function"&&(Xu===null||!Xu.has(r))){e=rh(n,e),e=B7(t,e,1),t=Yu(t,e,1),e=oa(),t!==null&&(y0(t,1,e),ka(t,e));break}}t=t.return}}function DK(e,t,n){var r=e.pingCache;r!==null&&r.delete(t),t=oa(),e.pingedLanes|=e.suspendedLanes&n,ui===e&&(Ai&n)===n&&(Kr===4||Kr===3&&(Ai&130023424)===Ai&&500>Er()-X_?cd(e,0):Y_|=n),ka(e,t)}function aR(e,t){t===0&&(e.mode&1?(t=Mg,Mg<<=1,!(Mg&130023424)&&(Mg=4194304)):t=1);var n=oa();e=Ol(e,t),e!==null&&(y0(e,t,n),ka(e,n))}function FK(e){var t=e.memoizedState,n=0;t!==null&&(n=t.retryLane),aR(e,n)}function BK(e,t){var n=0;switch(e.tag){case 13:var r=e.stateNode,i=e.memoizedState;i!==null&&(n=i.retryLane);break;case 19:r=e.stateNode;break;default:throw Error(Fe(314))}r!==null&&r.delete(t),aR(e,n)}var sR;sR=function(e,t,n){if(e!==null)if(e.memoizedProps!==t.pendingProps||Ea.current)Sa=!0;else{if(!(e.lanes&n)&&!(t.flags&128))return Sa=!1,EK(e,t,n);Sa=!!(e.flags&131072)}else Sa=!1,qn&&t.flags&1048576&&c7(t,bv,t.index);switch(t.lanes=0,t.tag){case 2:var r=t.type;D1(e,t),e=t.pendingProps;var i=Jf(t,Xi.current);zf(t,n),i=U_(null,t,r,e,i,n);var a=W_();return t.flags|=1,typeof i=="object"&&i!==null&&typeof i.render=="function"&&i.$$typeof===void 0?(t.tag=1,t.memoizedState=null,t.updateQueue=null,Na(r)?(a=!0,yv(t)):a=!1,t.memoizedState=i.state!==null&&i.state!==void 0?i.state:null,F_(t),i.updater=d2,t.stateNode=i,i._reactInternals=t,z5(t,r,e,n),t=W5(null,t,r,!0,a,n)):(t.tag=0,qn&&a&&j_(t),ra(null,t,i,n),t=t.child),t;case 16:r=t.elementType;e:{switch(D1(e,t),e=t.pendingProps,i=r._init,r=i(r._payload),t.type=r,i=t.tag=zK(r),e=Gs(r,e),i){case 0:t=U5(null,t,r,e,n);break e;case 1:t=EN(null,t,r,e,n);break e;case 11:t=AN(null,t,r,e,n);break e;case 14:t=PN(null,t,r,Gs(r.type,e),n);break e}throw Error(Fe(306,r,""))}return t;case 0:return r=t.type,i=t.pendingProps,i=t.elementType===r?i:Gs(r,i),U5(e,t,r,i,n);case 1:return r=t.type,i=t.pendingProps,i=t.elementType===r?i:Gs(r,i),EN(e,t,r,i,n);case 3:e:{if(U7(t),e===null)throw Error(Fe(387));r=t.pendingProps,a=t.memoizedState,i=a.element,g7(e,t),Sv(t,r,null,n);var s=t.memoizedState;if(r=s.element,a.isDehydrated)if(a={element:r,isDehydrated:!1,cache:s.cache,pendingSuspenseBoundaries:s.pendingSuspenseBoundaries,transitions:s.transitions},t.updateQueue.baseState=a,t.memoizedState=a,t.flags&256){i=rh(Error(Fe(423)),t),t=NN(e,t,r,n,i);break e}else if(r!==i){i=rh(Error(Fe(424)),t),t=NN(e,t,r,n,i);break e}else for(Xa=Gu(t.stateNode.containerInfo.firstChild),es=t,qn=!0,Xs=null,n=p7(t,null,r,n),t.child=n;n;)n.flags=n.flags&-3|4096,n=n.sibling;else{if(eh(),r===i){t=Ll(e,t,n);break e}ra(e,t,r,n)}t=t.child}return t;case 5:return v7(t),e===null&&F5(t),r=t.type,i=t.pendingProps,a=e!==null?e.memoizedProps:null,s=i.children,O5(r,i)?s=null:a!==null&&O5(r,a)&&(t.flags|=32),$7(e,t),ra(e,t,s,n),t.child;case 6:return e===null&&F5(t),null;case 13:return W7(e,t,n);case 4:return B_(t,t.stateNode.containerInfo),r=t.pendingProps,e===null?t.child=th(t,null,r,n):ra(e,t,r,n),t.child;case 11:return r=t.type,i=t.pendingProps,i=t.elementType===r?i:Gs(r,i),AN(e,t,r,i,n);case 7:return ra(e,t,t.pendingProps,n),t.child;case 8:return ra(e,t,t.pendingProps.children,n),t.child;case 12:return ra(e,t,t.pendingProps.children,n),t.child;case 10:e:{if(r=t.type._context,i=t.pendingProps,a=t.memoizedProps,s=i.value,Tn(wv,r._currentValue),r._currentValue=s,a!==null)if(io(a.value,s)){if(a.children===i.children&&!Ea.current){t=Ll(e,t,n);break e}}else for(a=t.child,a!==null&&(a.return=t);a!==null;){var o=a.dependencies;if(o!==null){s=a.child;for(var l=o.firstContext;l!==null;){if(l.context===r){if(a.tag===1){l=kl(-1,n&-n),l.tag=2;var u=a.updateQueue;if(u!==null){u=u.shared;var c=u.pending;c===null?l.next=l:(l.next=c.next,c.next=l),u.pending=l}}a.lanes|=n,l=a.alternate,l!==null&&(l.lanes|=n),B5(a.return,n,t),o.lanes|=n;break}l=l.next}}else if(a.tag===10)s=a.type===t.type?null:a.child;else if(a.tag===18){if(s=a.return,s===null)throw Error(Fe(341));s.lanes|=n,o=s.alternate,o!==null&&(o.lanes|=n),B5(s,n,t),s=a.sibling}else s=a.child;if(s!==null)s.return=a;else for(s=a;s!==null;){if(s===t){s=null;break}if(a=s.sibling,a!==null){a.return=s.return,s=a;break}s=s.return}a=s}ra(e,t,i.children,n),t=t.child}return t;case 9:return i=t.type,r=t.pendingProps.children,zf(t,n),i=Es(i),r=r(i),t.flags|=1,ra(e,t,r,n),t.child;case 14:return r=t.type,i=Gs(r,t.pendingProps),i=Gs(r.type,i),PN(e,t,r,i,n);case 15:return V7(e,t,t.type,t.pendingProps,n);case 17:return r=t.type,i=t.pendingProps,i=t.elementType===r?i:Gs(r,i),D1(e,t),t.tag=1,Na(r)?(e=!0,yv(t)):e=!1,zf(t,n),D7(t,r,i),z5(t,r,i,n),W5(null,t,r,!0,e,n);case 19:return q7(e,t,n);case 22:return z7(e,t,n)}throw Error(Fe(156,t.tag))};function oR(e,t){return LL(e,t)}function VK(e,t,n,r){this.tag=e,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function _s(e,t,n,r){return new VK(e,t,n,r)}function eS(e){return e=e.prototype,!(!e||!e.isReactComponent)}function zK(e){if(typeof e=="function")return eS(e)?1:0;if(e!=null){if(e=e.$$typeof,e===x_)return 11;if(e===b_)return 14}return 2}function Zu(e,t){var n=e.alternate;return n===null?(n=_s(e.tag,t,e.key,e.mode),n.elementType=e.elementType,n.type=e.type,n.stateNode=e.stateNode,n.alternate=e,e.alternate=n):(n.pendingProps=t,n.type=e.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=e.flags&14680064,n.childLanes=e.childLanes,n.lanes=e.lanes,n.child=e.child,n.memoizedProps=e.memoizedProps,n.memoizedState=e.memoizedState,n.updateQueue=e.updateQueue,t=e.dependencies,n.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext},n.sibling=e.sibling,n.index=e.index,n.ref=e.ref,n}function V1(e,t,n,r,i,a){var s=2;if(r=e,typeof e=="function")eS(e)&&(s=1);else if(typeof e=="string")s=5;else e:switch(e){case vf:return dd(n.children,i,a,t);case y_:s=8,i|=8;break;case d5:return e=_s(12,n,t,i|2),e.elementType=d5,e.lanes=a,e;case f5:return e=_s(13,n,t,i),e.elementType=f5,e.lanes=a,e;case h5:return e=_s(19,n,t,i),e.elementType=h5,e.lanes=a,e;case vL:return p2(n,i,a,t);default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case mL:s=10;break e;case gL:s=9;break e;case x_:s=11;break e;case b_:s=14;break e;case Cu:s=16,r=null;break e}throw Error(Fe(130,e==null?e:typeof e,""))}return t=_s(s,n,t,i),t.elementType=e,t.type=r,t.lanes=a,t}function dd(e,t,n,r){return e=_s(7,e,r,t),e.lanes=n,e}function p2(e,t,n,r){return e=_s(22,e,r,t),e.elementType=vL,e.lanes=n,e.stateNode={isHidden:!1},e}function Bb(e,t,n){return e=_s(6,e,null,t),e.lanes=n,e}function Vb(e,t,n){return t=_s(4,e.children!==null?e.children:[],e.key,t),t.lanes=n,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}function $K(e,t,n,r,i){this.tag=t,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=bb(0),this.expirationTimes=bb(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=bb(0),this.identifierPrefix=r,this.onRecoverableError=i,this.mutableSourceEagerHydrationData=null}function tS(e,t,n,r,i,a,s,o,l){return e=new $K(e,t,n,o,l),t===1?(t=1,a===!0&&(t|=8)):t=0,a=_s(3,null,null,t),e.current=a,a.stateNode=e,a.memoizedState={element:r,isDehydrated:n,cache:null,transitions:null,pendingSuspenseBoundaries:null},F_(a),e}function UK(e,t,n){var r=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:gf,key:r==null?null:""+r,children:e,containerInfo:t,implementation:n}}function lR(e){if(!e)return ac;e=e._reactInternals;e:{if(Vd(e)!==e||e.tag!==1)throw Error(Fe(170));var t=e;do{switch(t.tag){case 3:t=t.stateNode.context;break e;case 1:if(Na(t.type)){t=t.stateNode.__reactInternalMemoizedMergedChildContext;break e}}t=t.return}while(t!==null);throw Error(Fe(171))}if(e.tag===1){var n=e.type;if(Na(n))return l7(e,n,t)}return t}function uR(e,t,n,r,i,a,s,o,l){return e=tS(n,r,!0,e,i,a,s,o,l),e.context=lR(null),n=e.current,r=oa(),i=Qu(n),a=kl(r,i),a.callback=t??null,Yu(n,a,i),e.current.lanes=i,y0(e,i,r),ka(e,r),e}function m2(e,t,n,r){var i=t.current,a=oa(),s=Qu(i);return n=lR(n),t.context===null?t.context=n:t.pendingContext=n,t=kl(a,s),t.payload={element:e},r=r===void 0?null:r,r!==null&&(t.callback=r),e=Yu(i,t,s),e!==null&&(to(e,i,s,a),L1(e,i,s)),s}function jv(e){if(e=e.current,!e.child)return null;switch(e.child.tag){case 5:return e.child.stateNode;default:return e.child.stateNode}}function DN(e,t){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var n=e.retryLane;e.retryLane=n!==0&&n<t?n:t}}function nS(e,t){DN(e,t),(e=e.alternate)&&DN(e,t)}function WK(){return null}var cR=typeof reportError=="function"?reportError:function(e){console.error(e)};function rS(e){this._internalRoot=e}g2.prototype.render=rS.prototype.render=function(e){var t=this._internalRoot;if(t===null)throw Error(Fe(409));m2(e,t,null,null)};g2.prototype.unmount=rS.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var t=e.containerInfo;Sd(function(){m2(null,e,null,null)}),t[Il]=null}};function g2(e){this._internalRoot=e}g2.prototype.unstable_scheduleHydration=function(e){if(e){var t=zL();e={blockedOn:null,target:e,priority:t};for(var n=0;n<Lu.length&&t!==0&&t<Lu[n].priority;n++);Lu.splice(n,0,e),n===0&&UL(e)}};function iS(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function v2(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11&&(e.nodeType!==8||e.nodeValue!==" react-mount-point-unstable "))}function FN(){}function qK(e,t,n,r,i){if(i){if(typeof r=="function"){var a=r;r=function(){var u=jv(s);a.call(u)}}var s=uR(t,r,e,0,null,!1,!1,"",FN);return e._reactRootContainer=s,e[Il]=s.current,Em(e.nodeType===8?e.parentNode:e),Sd(),s}for(;i=e.lastChild;)e.removeChild(i);if(typeof r=="function"){var o=r;r=function(){var u=jv(l);o.call(u)}}var l=tS(e,0,!1,null,null,!1,!1,"",FN);return e._reactRootContainer=l,e[Il]=l.current,Em(e.nodeType===8?e.parentNode:e),Sd(function(){m2(t,l,n,r)}),l}function y2(e,t,n,r,i){var a=n._reactRootContainer;if(a){var s=a;if(typeof i=="function"){var o=i;i=function(){var l=jv(s);o.call(l)}}m2(t,s,e,i)}else s=qK(n,t,e,i,r);return jv(s)}BL=function(e){switch(e.tag){case 3:var t=e.stateNode;if(t.current.memoizedState.isDehydrated){var n=zp(t.pendingLanes);n!==0&&(S_(t,n|1),ka(t,Er()),!(Qt&6)&&(ih=Er()+500,vc()))}break;case 13:Sd(function(){var r=Ol(e,1);if(r!==null){var i=oa();to(r,e,1,i)}}),nS(e,1)}};A_=function(e){if(e.tag===13){var t=Ol(e,134217728);if(t!==null){var n=oa();to(t,e,134217728,n)}nS(e,134217728)}};VL=function(e){if(e.tag===13){var t=Qu(e),n=Ol(e,t);if(n!==null){var r=oa();to(n,e,t,r)}nS(e,t)}};zL=function(){return vn};$L=function(e,t){var n=vn;try{return vn=e,t()}finally{vn=n}};S5=function(e,t,n){switch(t){case"input":if(g5(e,n),t=n.name,n.type==="radio"&&t!=null){for(n=e;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+t)+'][type="radio"]'),t=0;t<n.length;t++){var r=n[t];if(r!==e&&r.form===e.form){var i=l2(r);if(!i)throw Error(Fe(90));xL(r),g5(r,i)}}}break;case"textarea":wL(e,n);break;case"select":t=n.value,t!=null&&Df(e,!!n.multiple,t,!1)}};kL=Q_;TL=Sd;var HK={usingClientEntryPoint:!1,Events:[b0,wf,l2,EL,NL,Q_]},Sp={findFiberByHostInstance:td,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},KK={bundleType:Sp.bundleType,version:Sp.version,rendererPackageName:Sp.rendererPackageName,rendererConfig:Sp.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:Xl.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return e=IL(e),e===null?null:e.stateNode},findFiberByHostInstance:Sp.findFiberByHostInstance||WK,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Kg=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Kg.isDisabled&&Kg.supportsFiber)try{i2=Kg.inject(KK),zo=Kg}catch{}}is.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=HK;is.createPortal=function(e,t){var n=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!iS(t))throw Error(Fe(200));return UK(e,t,null,n)};is.createRoot=function(e,t){if(!iS(e))throw Error(Fe(299));var n=!1,r="",i=cR;return t!=null&&(t.unstable_strictMode===!0&&(n=!0),t.identifierPrefix!==void 0&&(r=t.identifierPrefix),t.onRecoverableError!==void 0&&(i=t.onRecoverableError)),t=tS(e,1,!1,null,null,n,!1,r,i),e[Il]=t.current,Em(e.nodeType===8?e.parentNode:e),new rS(t)};is.findDOMNode=function(e){if(e==null)return null;if(e.nodeType===1)return e;var t=e._reactInternals;if(t===void 0)throw typeof e.render=="function"?Error(Fe(188)):(e=Object.keys(e).join(","),Error(Fe(268,e)));return e=IL(t),e=e===null?null:e.stateNode,e};is.flushSync=function(e){return Sd(e)};is.hydrate=function(e,t,n){if(!v2(t))throw Error(Fe(200));return y2(null,e,t,!0,n)};is.hydrateRoot=function(e,t,n){if(!iS(e))throw Error(Fe(405));var r=n!=null&&n.hydratedSources||null,i=!1,a="",s=cR;if(n!=null&&(n.unstable_strictMode===!0&&(i=!0),n.identifierPrefix!==void 0&&(a=n.identifierPrefix),n.onRecoverableError!==void 0&&(s=n.onRecoverableError)),t=uR(t,null,e,1,n??null,i,!1,a,s),e[Il]=t.current,Em(e),r)for(e=0;e<r.length;e++)n=r[e],i=n._getVersion,i=i(n._source),t.mutableSourceEagerHydrationData==null?t.mutableSourceEagerHydrationData=[n,i]:t.mutableSourceEagerHydrationData.push(n,i);return new g2(t)};is.render=function(e,t,n){if(!v2(t))throw Error(Fe(200));return y2(null,e,t,!1,n)};is.unmountComponentAtNode=function(e){if(!v2(e))throw Error(Fe(40));return e._reactRootContainer?(Sd(function(){y2(null,null,e,!1,function(){e._reactRootContainer=null,e[Il]=null})}),!0):!1};is.unstable_batchedUpdates=Q_;is.unstable_renderSubtreeIntoContainer=function(e,t,n,r){if(!v2(n))throw Error(Fe(200));if(e==null||e._reactInternals===void 0)throw Error(Fe(38));return y2(e,t,n,!1,r)};is.version="18.3.1-next-f1338f8080-20240426";function dR(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(dR)}catch(e){console.error(e)}}dR(),dL.exports=is;var x2=dL.exports,BN=x2;u5.createRoot=BN.createRoot,u5.hydrateRoot=BN.hydrateRoot;/**
 * @remix-run/router v1.23.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Rm(){return Rm=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Rm.apply(this,arguments)}var Vu;(function(e){e.Pop="POP",e.Push="PUSH",e.Replace="REPLACE"})(Vu||(Vu={}));const VN="popstate";function GK(e){e===void 0&&(e={});function t(r,i){let{pathname:a,search:s,hash:o}=r.location;return n4("",{pathname:a,search:s,hash:o},i.state&&i.state.usr||null,i.state&&i.state.key||"default")}function n(r,i){return typeof i=="string"?i:Iv(i)}return XK(t,n,null,e)}function mr(e,t){if(e===!1||e===null||typeof e>"u")throw new Error(t)}function fR(e,t){if(!e){typeof console<"u"&&console.warn(t);try{throw new Error(t)}catch{}}}function YK(){return Math.random().toString(36).substr(2,8)}function zN(e,t){return{usr:e.state,key:e.key,idx:t}}function n4(e,t,n,r){return n===void 0&&(n=null),Rm({pathname:typeof e=="string"?e:e.pathname,search:"",hash:""},typeof t=="string"?Th(t):t,{state:n,key:t&&t.key||r||YK()})}function Iv(e){let{pathname:t="/",search:n="",hash:r=""}=e;return n&&n!=="?"&&(t+=n.charAt(0)==="?"?n:"?"+n),r&&r!=="#"&&(t+=r.charAt(0)==="#"?r:"#"+r),t}function Th(e){let t={};if(e){let n=e.indexOf("#");n>=0&&(t.hash=e.substr(n),e=e.substr(0,n));let r=e.indexOf("?");r>=0&&(t.search=e.substr(r),e=e.substr(0,r)),e&&(t.pathname=e)}return t}function XK(e,t,n,r){r===void 0&&(r={});let{window:i=document.defaultView,v5Compat:a=!1}=r,s=i.history,o=Vu.Pop,l=null,u=c();u==null&&(u=0,s.replaceState(Rm({},s.state,{idx:u}),""));function c(){return(s.state||{idx:null}).idx}function d(){o=Vu.Pop;let b=c(),x=b==null?null:b-u;u=b,l&&l({action:o,location:v.location,delta:x})}function p(b,x){o=Vu.Push;let w=n4(v.location,b,x);u=c()+1;let A=zN(w,u),P=v.createHref(w);try{s.pushState(A,"",P)}catch(O){if(O instanceof DOMException&&O.name==="DataCloneError")throw O;i.location.assign(P)}a&&l&&l({action:o,location:v.location,delta:1})}function f(b,x){o=Vu.Replace;let w=n4(v.location,b,x);u=c();let A=zN(w,u),P=v.createHref(w);s.replaceState(A,"",P),a&&l&&l({action:o,location:v.location,delta:0})}function g(b){let x=i.location.origin!=="null"?i.location.origin:i.location.href,w=typeof b=="string"?b:Iv(b);return w=w.replace(/ $/,"%20"),mr(x,"No window.location.(origin|href) available to create URL for href: "+w),new URL(w,x)}let v={get action(){return o},get location(){return e(i,s)},listen(b){if(l)throw new Error("A history only accepts one active listener");return i.addEventListener(VN,d),l=b,()=>{i.removeEventListener(VN,d),l=null}},createHref(b){return t(i,b)},createURL:g,encodeLocation(b){let x=g(b);return{pathname:x.pathname,search:x.search,hash:x.hash}},push:p,replace:f,go(b){return s.go(b)}};return v}var $N;(function(e){e.data="data",e.deferred="deferred",e.redirect="redirect",e.error="error"})($N||($N={}));function QK(e,t,n){return n===void 0&&(n="/"),ZK(e,t,n)}function ZK(e,t,n,r){let i=typeof t=="string"?Th(t):t,a=ah(i.pathname||"/",n);if(a==null)return null;let s=hR(e);JK(s);let o=null;for(let l=0;o==null&&l<s.length;++l){let u=cG(a);o=lG(s[l],u)}return o}function hR(e,t,n,r){t===void 0&&(t=[]),n===void 0&&(n=[]),r===void 0&&(r="");let i=(a,s,o)=>{let l={relativePath:o===void 0?a.path||"":o,caseSensitive:a.caseSensitive===!0,childrenIndex:s,route:a};l.relativePath.startsWith("/")&&(mr(l.relativePath.startsWith(r),'Absolute route path "'+l.relativePath+'" nested under path '+('"'+r+'" is not valid. An absolute child route path ')+"must start with the combined path of all its parent routes."),l.relativePath=l.relativePath.slice(r.length));let u=Ju([r,l.relativePath]),c=n.concat(l);a.children&&a.children.length>0&&(mr(a.index!==!0,"Index routes must not have child routes. Please remove "+('all child routes from route path "'+u+'".')),hR(a.children,t,c,u)),!(a.path==null&&!a.index)&&t.push({path:u,score:sG(u,a.index),routesMeta:c})};return e.forEach((a,s)=>{var o;if(a.path===""||!((o=a.path)!=null&&o.includes("?")))i(a,s);else for(let l of pR(a.path))i(a,s,l)}),t}function pR(e){let t=e.split("/");if(t.length===0)return[];let[n,...r]=t,i=n.endsWith("?"),a=n.replace(/\?$/,"");if(r.length===0)return i?[a,""]:[a];let s=pR(r.join("/")),o=[];return o.push(...s.map(l=>l===""?a:[a,l].join("/"))),i&&o.push(...s),o.map(l=>e.startsWith("/")&&l===""?"/":l)}function JK(e){e.sort((t,n)=>t.score!==n.score?n.score-t.score:oG(t.routesMeta.map(r=>r.childrenIndex),n.routesMeta.map(r=>r.childrenIndex)))}const eG=/^:[\w-]+$/,tG=3,nG=2,rG=1,iG=10,aG=-2,UN=e=>e==="*";function sG(e,t){let n=e.split("/"),r=n.length;return n.some(UN)&&(r+=aG),t&&(r+=nG),n.filter(i=>!UN(i)).reduce((i,a)=>i+(eG.test(a)?tG:a===""?rG:iG),r)}function oG(e,t){return e.length===t.length&&e.slice(0,-1).every((r,i)=>r===t[i])?e[e.length-1]-t[t.length-1]:0}function lG(e,t,n){let{routesMeta:r}=e,i={},a="/",s=[];for(let o=0;o<r.length;++o){let l=r[o],u=o===r.length-1,c=a==="/"?t:t.slice(a.length)||"/",d=r4({path:l.relativePath,caseSensitive:l.caseSensitive,end:u},c),p=l.route;if(!d)return null;Object.assign(i,d.params),s.push({params:i,pathname:Ju([a,d.pathname]),pathnameBase:pG(Ju([a,d.pathnameBase])),route:p}),d.pathnameBase!=="/"&&(a=Ju([a,d.pathnameBase]))}return s}function r4(e,t){typeof e=="string"&&(e={path:e,caseSensitive:!1,end:!0});let[n,r]=uG(e.path,e.caseSensitive,e.end),i=t.match(n);if(!i)return null;let a=i[0],s=a.replace(/(.)\/+$/,"$1"),o=i.slice(1);return{params:r.reduce((u,c,d)=>{let{paramName:p,isOptional:f}=c;if(p==="*"){let v=o[d]||"";s=a.slice(0,a.length-v.length).replace(/(.)\/+$/,"$1")}const g=o[d];return f&&!g?u[p]=void 0:u[p]=(g||"").replace(/%2F/g,"/"),u},{}),pathname:a,pathnameBase:s,pattern:e}}function uG(e,t,n){t===void 0&&(t=!1),n===void 0&&(n=!0),fR(e==="*"||!e.endsWith("*")||e.endsWith("/*"),'Route path "'+e+'" will be treated as if it were '+('"'+e.replace(/\*$/,"/*")+'" because the `*` character must ')+"always follow a `/` in the pattern. To get rid of this warning, "+('please change the route path to "'+e.replace(/\*$/,"/*")+'".'));let r=[],i="^"+e.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(s,o,l)=>(r.push({paramName:o,isOptional:l!=null}),l?"/?([^\\/]+)?":"/([^\\/]+)"));return e.endsWith("*")?(r.push({paramName:"*"}),i+=e==="*"||e==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?i+="\\/*$":e!==""&&e!=="/"&&(i+="(?:(?=\\/|$))"),[new RegExp(i,t?void 0:"i"),r]}function cG(e){try{return e.split("/").map(t=>decodeURIComponent(t).replace(/\//g,"%2F")).join("/")}catch(t){return fR(!1,'The URL path "'+e+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent '+("encoding ("+t+").")),e}}function ah(e,t){if(t==="/")return e;if(!e.toLowerCase().startsWith(t.toLowerCase()))return null;let n=t.endsWith("/")?t.length-1:t.length,r=e.charAt(n);return r&&r!=="/"?null:e.slice(n)||"/"}function dG(e,t){t===void 0&&(t="/");let{pathname:n,search:r="",hash:i=""}=typeof e=="string"?Th(e):e;return{pathname:n?n.startsWith("/")?n:fG(n,t):t,search:mG(r),hash:gG(i)}}function fG(e,t){let n=t.replace(/\/+$/,"").split("/");return e.split("/").forEach(i=>{i===".."?n.length>1&&n.pop():i!=="."&&n.push(i)}),n.length>1?n.join("/"):"/"}function zb(e,t,n,r){return"Cannot include a '"+e+"' character in a manually specified "+("`to."+t+"` field ["+JSON.stringify(r)+"].  Please separate it out to the ")+("`to."+n+"` field. Alternatively you may provide the full path as ")+'a string in <Link to="..."> and the router will parse it for you.'}function hG(e){return e.filter((t,n)=>n===0||t.route.path&&t.route.path.length>0)}function mR(e,t){let n=hG(e);return t?n.map((r,i)=>i===n.length-1?r.pathname:r.pathnameBase):n.map(r=>r.pathnameBase)}function gR(e,t,n,r){r===void 0&&(r=!1);let i;typeof e=="string"?i=Th(e):(i=Rm({},e),mr(!i.pathname||!i.pathname.includes("?"),zb("?","pathname","search",i)),mr(!i.pathname||!i.pathname.includes("#"),zb("#","pathname","hash",i)),mr(!i.search||!i.search.includes("#"),zb("#","search","hash",i)));let a=e===""||i.pathname==="",s=a?"/":i.pathname,o;if(s==null)o=n;else{let d=t.length-1;if(!r&&s.startsWith("..")){let p=s.split("/");for(;p[0]==="..";)p.shift(),d-=1;i.pathname=p.join("/")}o=d>=0?t[d]:"/"}let l=dG(i,o),u=s&&s!=="/"&&s.endsWith("/"),c=(a||s===".")&&n.endsWith("/");return!l.pathname.endsWith("/")&&(u||c)&&(l.pathname+="/"),l}const Ju=e=>e.join("/").replace(/\/\/+/g,"/"),pG=e=>e.replace(/\/+$/,"").replace(/^\/*/,"/"),mG=e=>!e||e==="?"?"":e.startsWith("?")?e:"?"+e,gG=e=>!e||e==="#"?"":e.startsWith("#")?e:"#"+e;function vG(e){return e!=null&&typeof e.status=="number"&&typeof e.statusText=="string"&&typeof e.internal=="boolean"&&"data"in e}const vR=["post","put","patch","delete"];new Set(vR);const yG=["get",...vR];new Set(yG);/**
 * React Router v6.30.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Mm(){return Mm=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Mm.apply(this,arguments)}const b2=S.createContext(null),yR=S.createContext(null),yc=S.createContext(null),w2=S.createContext(null),zd=S.createContext({outlet:null,matches:[],isDataRoute:!1}),xR=S.createContext(null);function xG(e,t){let{relative:n}=t===void 0?{}:t;_0()||mr(!1);let{basename:r,navigator:i}=S.useContext(yc),{hash:a,pathname:s,search:o}=_2(e,{relative:n}),l=s;return r!=="/"&&(l=s==="/"?r:Ju([r,s])),i.createHref({pathname:l,search:o,hash:a})}function _0(){return S.useContext(w2)!=null}function Ch(){return _0()||mr(!1),S.useContext(w2).location}function bR(e){S.useContext(yc).static||S.useLayoutEffect(e)}function S0(){let{isDataRoute:e}=S.useContext(zd);return e?IG():bG()}function bG(){_0()||mr(!1);let e=S.useContext(b2),{basename:t,future:n,navigator:r}=S.useContext(yc),{matches:i}=S.useContext(zd),{pathname:a}=Ch(),s=JSON.stringify(mR(i,n.v7_relativeSplatPath)),o=S.useRef(!1);return bR(()=>{o.current=!0}),S.useCallback(function(u,c){if(c===void 0&&(c={}),!o.current)return;if(typeof u=="number"){r.go(u);return}let d=gR(u,JSON.parse(s),a,c.relative==="path");e==null&&t!=="/"&&(d.pathname=d.pathname==="/"?t:Ju([t,d.pathname])),(c.replace?r.replace:r.push)(d,c.state,c)},[t,r,s,a,e])}function _2(e,t){let{relative:n}=t===void 0?{}:t,{future:r}=S.useContext(yc),{matches:i}=S.useContext(zd),{pathname:a}=Ch(),s=JSON.stringify(mR(i,r.v7_relativeSplatPath));return S.useMemo(()=>gR(e,JSON.parse(s),a,n==="path"),[e,s,a,n])}function wG(e,t){return _G(e,t)}function _G(e,t,n,r){_0()||mr(!1);let{navigator:i}=S.useContext(yc),{matches:a}=S.useContext(zd),s=a[a.length-1],o=s?s.params:{};s&&s.pathname;let l=s?s.pathnameBase:"/";s&&s.route;let u=Ch(),c;if(t){var d;let b=typeof t=="string"?Th(t):t;l==="/"||(d=b.pathname)!=null&&d.startsWith(l)||mr(!1),c=b}else c=u;let p=c.pathname||"/",f=p;if(l!=="/"){let b=l.replace(/^\//,"").split("/");f="/"+p.replace(/^\//,"").split("/").slice(b.length).join("/")}let g=QK(e,{pathname:f}),v=NG(g&&g.map(b=>Object.assign({},b,{params:Object.assign({},o,b.params),pathname:Ju([l,i.encodeLocation?i.encodeLocation(b.pathname).pathname:b.pathname]),pathnameBase:b.pathnameBase==="/"?l:Ju([l,i.encodeLocation?i.encodeLocation(b.pathnameBase).pathname:b.pathnameBase])})),a,n,r);return t&&v?S.createElement(w2.Provider,{value:{location:Mm({pathname:"/",search:"",hash:"",state:null,key:"default"},c),navigationType:Vu.Pop}},v):v}function SG(){let e=jG(),t=vG(e)?e.status+" "+e.statusText:e instanceof Error?e.message:JSON.stringify(e),n=e instanceof Error?e.stack:null,i={padding:"0.5rem",backgroundColor:"rgba(200,200,200, 0.5)"};return S.createElement(S.Fragment,null,S.createElement("h2",null,"Unexpected Application Error!"),S.createElement("h3",{style:{fontStyle:"italic"}},t),n?S.createElement("pre",{style:i},n):null,null)}const AG=S.createElement(SG,null);class PG extends S.Component{constructor(t){super(t),this.state={location:t.location,revalidation:t.revalidation,error:t.error}}static getDerivedStateFromError(t){return{error:t}}static getDerivedStateFromProps(t,n){return n.location!==t.location||n.revalidation!=="idle"&&t.revalidation==="idle"?{error:t.error,location:t.location,revalidation:t.revalidation}:{error:t.error!==void 0?t.error:n.error,location:n.location,revalidation:t.revalidation||n.revalidation}}componentDidCatch(t,n){console.error("React Router caught the following error during render",t,n)}render(){return this.state.error!==void 0?S.createElement(zd.Provider,{value:this.props.routeContext},S.createElement(xR.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function EG(e){let{routeContext:t,match:n,children:r}=e,i=S.useContext(b2);return i&&i.static&&i.staticContext&&(n.route.errorElement||n.route.ErrorBoundary)&&(i.staticContext._deepestRenderedBoundaryId=n.route.id),S.createElement(zd.Provider,{value:t},r)}function NG(e,t,n,r){var i;if(t===void 0&&(t=[]),n===void 0&&(n=null),r===void 0&&(r=null),e==null){var a;if(!n)return null;if(n.errors)e=n.matches;else if((a=r)!=null&&a.v7_partialHydration&&t.length===0&&!n.initialized&&n.matches.length>0)e=n.matches;else return null}let s=e,o=(i=n)==null?void 0:i.errors;if(o!=null){let c=s.findIndex(d=>d.route.id&&(o==null?void 0:o[d.route.id])!==void 0);c>=0||mr(!1),s=s.slice(0,Math.min(s.length,c+1))}let l=!1,u=-1;if(n&&r&&r.v7_partialHydration)for(let c=0;c<s.length;c++){let d=s[c];if((d.route.HydrateFallback||d.route.hydrateFallbackElement)&&(u=c),d.route.id){let{loaderData:p,errors:f}=n,g=d.route.loader&&p[d.route.id]===void 0&&(!f||f[d.route.id]===void 0);if(d.route.lazy||g){l=!0,u>=0?s=s.slice(0,u+1):s=[s[0]];break}}}return s.reduceRight((c,d,p)=>{let f,g=!1,v=null,b=null;n&&(f=o&&d.route.id?o[d.route.id]:void 0,v=d.route.errorElement||AG,l&&(u<0&&p===0?(OG("route-fallback"),g=!0,b=null):u===p&&(g=!0,b=d.route.hydrateFallbackElement||null)));let x=t.concat(s.slice(0,p+1)),w=()=>{let A;return f?A=v:g?A=b:d.route.Component?A=S.createElement(d.route.Component,null):d.route.element?A=d.route.element:A=c,S.createElement(EG,{match:d,routeContext:{outlet:c,matches:x,isDataRoute:n!=null},children:A})};return n&&(d.route.ErrorBoundary||d.route.errorElement||p===0)?S.createElement(PG,{location:n.location,revalidation:n.revalidation,component:v,error:f,children:w(),routeContext:{outlet:null,matches:x,isDataRoute:!0}}):w()},null)}var wR=function(e){return e.UseBlocker="useBlocker",e.UseRevalidator="useRevalidator",e.UseNavigateStable="useNavigate",e}(wR||{}),_R=function(e){return e.UseBlocker="useBlocker",e.UseLoaderData="useLoaderData",e.UseActionData="useActionData",e.UseRouteError="useRouteError",e.UseNavigation="useNavigation",e.UseRouteLoaderData="useRouteLoaderData",e.UseMatches="useMatches",e.UseRevalidator="useRevalidator",e.UseNavigateStable="useNavigate",e.UseRouteId="useRouteId",e}(_R||{});function kG(e){let t=S.useContext(b2);return t||mr(!1),t}function TG(e){let t=S.useContext(yR);return t||mr(!1),t}function CG(e){let t=S.useContext(zd);return t||mr(!1),t}function SR(e){let t=CG(),n=t.matches[t.matches.length-1];return n.route.id||mr(!1),n.route.id}function jG(){var e;let t=S.useContext(xR),n=TG(),r=SR();return t!==void 0?t:(e=n.errors)==null?void 0:e[r]}function IG(){let{router:e}=kG(wR.UseNavigateStable),t=SR(_R.UseNavigateStable),n=S.useRef(!1);return bR(()=>{n.current=!0}),S.useCallback(function(i,a){a===void 0&&(a={}),n.current&&(typeof i=="number"?e.navigate(i):e.navigate(i,Mm({fromRouteId:t},a)))},[e,t])}const WN={};function OG(e,t,n){WN[e]||(WN[e]=!0)}function LG(e,t){e==null||e.v7_startTransition,e==null||e.v7_relativeSplatPath}function Ur(e){mr(!1)}function RG(e){let{basename:t="/",children:n=null,location:r,navigationType:i=Vu.Pop,navigator:a,static:s=!1,future:o}=e;_0()&&mr(!1);let l=t.replace(/^\/*/,"/"),u=S.useMemo(()=>({basename:l,navigator:a,static:s,future:Mm({v7_relativeSplatPath:!1},o)}),[l,o,a,s]);typeof r=="string"&&(r=Th(r));let{pathname:c="/",search:d="",hash:p="",state:f=null,key:g="default"}=r,v=S.useMemo(()=>{let b=ah(c,l);return b==null?null:{location:{pathname:b,search:d,hash:p,state:f,key:g},navigationType:i}},[l,c,d,p,f,g,i]);return v==null?null:S.createElement(yc.Provider,{value:u},S.createElement(w2.Provider,{children:n,value:v}))}function MG(e){let{children:t,location:n}=e;return wG(i4(t),n)}new Promise(()=>{});function i4(e,t){t===void 0&&(t=[]);let n=[];return S.Children.forEach(e,(r,i)=>{if(!S.isValidElement(r))return;let a=[...t,i];if(r.type===S.Fragment){n.push.apply(n,i4(r.props.children,a));return}r.type!==Ur&&mr(!1),!r.props.index||!r.props.children||mr(!1);let s={id:r.props.id||a.join("-"),caseSensitive:r.props.caseSensitive,element:r.props.element,Component:r.props.Component,index:r.props.index,path:r.props.path,loader:r.props.loader,action:r.props.action,errorElement:r.props.errorElement,ErrorBoundary:r.props.ErrorBoundary,hasErrorBoundary:r.props.ErrorBoundary!=null||r.props.errorElement!=null,shouldRevalidate:r.props.shouldRevalidate,handle:r.props.handle,lazy:r.props.lazy};r.props.children&&(s.children=i4(r.props.children,a)),n.push(s)}),n}/**
 * React Router DOM v6.30.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Ov(){return Ov=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Ov.apply(this,arguments)}function AR(e,t){if(e==null)return{};var n={},r=Object.keys(e),i,a;for(a=0;a<r.length;a++)i=r[a],!(t.indexOf(i)>=0)&&(n[i]=e[i]);return n}function DG(e){return!!(e.metaKey||e.altKey||e.ctrlKey||e.shiftKey)}function FG(e,t){return e.button===0&&(!t||t==="_self")&&!DG(e)}const BG=["onClick","relative","reloadDocument","replace","state","target","to","preventScrollReset","viewTransition"],VG=["aria-current","caseSensitive","className","end","style","to","viewTransition","children"],zG="6";try{window.__reactRouterVersion=zG}catch{}const $G=S.createContext({isTransitioning:!1}),UG="startTransition",qN=uL[UG];function WG(e){let{basename:t,children:n,future:r,window:i}=e,a=S.useRef();a.current==null&&(a.current=GK({window:i,v5Compat:!0}));let s=a.current,[o,l]=S.useState({action:s.action,location:s.location}),{v7_startTransition:u}=r||{},c=S.useCallback(d=>{u&&qN?qN(()=>l(d)):l(d)},[l,u]);return S.useLayoutEffect(()=>s.listen(c),[s,c]),S.useEffect(()=>LG(r),[r]),S.createElement(RG,{basename:t,children:n,location:o.location,navigationType:o.action,navigator:s,future:r})}const qG=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",HG=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,S2=S.forwardRef(function(t,n){let{onClick:r,relative:i,reloadDocument:a,replace:s,state:o,target:l,to:u,preventScrollReset:c,viewTransition:d}=t,p=AR(t,BG),{basename:f}=S.useContext(yc),g,v=!1;if(typeof u=="string"&&HG.test(u)&&(g=u,qG))try{let A=new URL(window.location.href),P=u.startsWith("//")?new URL(A.protocol+u):new URL(u),O=ah(P.pathname,f);P.origin===A.origin&&O!=null?u=O+P.search+P.hash:v=!0}catch{}let b=xG(u,{relative:i}),x=GG(u,{replace:s,state:o,target:l,preventScrollReset:c,relative:i,viewTransition:d});function w(A){r&&r(A),A.defaultPrevented||x(A)}return S.createElement("a",Ov({},p,{href:g||b,onClick:v||a?r:w,ref:n,target:l}))}),HN=S.forwardRef(function(t,n){let{"aria-current":r="page",caseSensitive:i=!1,className:a="",end:s=!1,style:o,to:l,viewTransition:u,children:c}=t,d=AR(t,VG),p=_2(l,{relative:d.relative}),f=Ch(),g=S.useContext(yR),{navigator:v,basename:b}=S.useContext(yc),x=g!=null&&YG(p)&&u===!0,w=v.encodeLocation?v.encodeLocation(p).pathname:p.pathname,A=f.pathname,P=g&&g.navigation&&g.navigation.location?g.navigation.location.pathname:null;i||(A=A.toLowerCase(),P=P?P.toLowerCase():null,w=w.toLowerCase()),P&&b&&(P=ah(P,b)||P);const O=w!=="/"&&w.endsWith("/")?w.length-1:w.length;let D=A===w||!s&&A.startsWith(w)&&A.charAt(O)==="/",T=P!=null&&(P===w||!s&&P.startsWith(w)&&P.charAt(w.length)==="/"),k={isActive:D,isPending:T,isTransitioning:x},I=D?r:void 0,M;typeof a=="function"?M=a(k):M=[a,D?"active":null,T?"pending":null,x?"transitioning":null].filter(Boolean).join(" ");let N=typeof o=="function"?o(k):o;return S.createElement(S2,Ov({},d,{"aria-current":I,className:M,ref:n,style:N,to:l,viewTransition:u}),typeof c=="function"?c(k):c)});var a4;(function(e){e.UseScrollRestoration="useScrollRestoration",e.UseSubmit="useSubmit",e.UseSubmitFetcher="useSubmitFetcher",e.UseFetcher="useFetcher",e.useViewTransitionState="useViewTransitionState"})(a4||(a4={}));var KN;(function(e){e.UseFetcher="useFetcher",e.UseFetchers="useFetchers",e.UseScrollRestoration="useScrollRestoration"})(KN||(KN={}));function KG(e){let t=S.useContext(b2);return t||mr(!1),t}function GG(e,t){let{target:n,replace:r,state:i,preventScrollReset:a,relative:s,viewTransition:o}=t===void 0?{}:t,l=S0(),u=Ch(),c=_2(e,{relative:s});return S.useCallback(d=>{if(FG(d,n)){d.preventDefault();let p=r!==void 0?r:Iv(u)===Iv(c);l(e,{replace:p,state:i,preventScrollReset:a,relative:s,viewTransition:o})}},[u,l,c,r,i,n,e,a,s,o])}function YG(e,t){t===void 0&&(t={});let n=S.useContext($G);n==null&&mr(!1);let{basename:r}=KG(a4.useViewTransitionState),i=_2(e,{relative:t.relative});if(!n.isTransitioning)return!1;let a=ah(n.currentLocation.pathname,r)||n.currentLocation.pathname,s=ah(n.nextLocation.pathname,r)||n.nextLocation.pathname;return r4(i.pathname,s)!=null||r4(i.pathname,a)!=null}var PR={color:void 0,size:void 0,className:void 0,style:void 0,attr:void 0},GN=pn.createContext&&pn.createContext(PR),XG=["attr","size","title"];function QG(e,t){if(e==null)return{};var n=ZG(e,t),r,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(i=0;i<a.length;i++)r=a[i],!(t.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(e,r)&&(n[r]=e[r])}return n}function ZG(e,t){if(e==null)return{};var n={};for(var r in e)if(Object.prototype.hasOwnProperty.call(e,r)){if(t.indexOf(r)>=0)continue;n[r]=e[r]}return n}function Lv(){return Lv=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Lv.apply(this,arguments)}function YN(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function Rv(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?YN(Object(n),!0).forEach(function(r){JG(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):YN(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function JG(e,t,n){return t=eY(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function eY(e){var t=tY(e,"string");return typeof t=="symbol"?t:t+""}function tY(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function ER(e){return e&&e.map((t,n)=>pn.createElement(t.tag,Rv({key:n},t.attr),ER(t.child)))}function ki(e){return t=>pn.createElement(nY,Lv({attr:Rv({},e.attr)},t),ER(e.child))}function nY(e){var t=n=>{var{attr:r,size:i,title:a}=e,s=QG(e,XG),o=i||n.size||"1em",l;return n.className&&(l=n.className),e.className&&(l=(l?l+" ":"")+e.className),pn.createElement("svg",Lv({stroke:"currentColor",fill:"currentColor",strokeWidth:"0"},n.attr,r,s,{className:l,style:Rv(Rv({color:e.color||n.color},n.style),e.style),height:o,width:o,xmlns:"http://www.w3.org/2000/svg"}),a&&pn.createElement("title",null,a),e.children)};return GN!==void 0?pn.createElement(GN.Consumer,null,n=>t(n)):t(PR)}function rY(e){return ki({attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M16 132h416c8.837 0 16-7.163 16-16V76c0-8.837-7.163-16-16-16H16C7.163 60 0 67.163 0 76v40c0 8.837 7.163 16 16 16zm0 160h416c8.837 0 16-7.163 16-16v-40c0-8.837-7.163-16-16-16H16c-8.837 0-16 7.163-16 16v40c0 8.837 7.163 16 16 16zm0 160h416c8.837 0 16-7.163 16-16v-40c0-8.837-7.163-16-16-16H16c-8.837 0-16 7.163-16 16v40c0 8.837 7.163 16 16 16z"},child:[]}]})(e)}function iY(e){return ki({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M332.8 320h38.4c6.4 0 12.8-6.4 12.8-12.8V172.8c0-6.4-6.4-12.8-12.8-12.8h-38.4c-6.4 0-12.8 6.4-12.8 12.8v134.4c0 6.4 6.4 12.8 12.8 12.8zm96 0h38.4c6.4 0 12.8-6.4 12.8-12.8V76.8c0-6.4-6.4-12.8-12.8-12.8h-38.4c-6.4 0-12.8 6.4-12.8 12.8v230.4c0 6.4 6.4 12.8 12.8 12.8zm-288 0h38.4c6.4 0 12.8-6.4 12.8-12.8v-70.4c0-6.4-6.4-12.8-12.8-12.8h-38.4c-6.4 0-12.8 6.4-12.8 12.8v70.4c0 6.4 6.4 12.8 12.8 12.8zm96 0h38.4c6.4 0 12.8-6.4 12.8-12.8V108.8c0-6.4-6.4-12.8-12.8-12.8h-38.4c-6.4 0-12.8 6.4-12.8 12.8v198.4c0 6.4 6.4 12.8 12.8 12.8zM496 384H64V80c0-8.84-7.16-16-16-16H16C7.16 64 0 71.16 0 80v336c0 17.67 14.33 32 32 32h464c8.84 0 16-7.16 16-16v-32c0-8.84-7.16-16-16-16z"},child:[]}]})(e)}function aY(e){return ki({attr:{viewBox:"0 0 320 512"},child:[{tag:"path",attr:{d:"M34.52 239.03L228.87 44.69c9.37-9.37 24.57-9.37 33.94 0l22.67 22.67c9.36 9.36 9.37 24.52.04 33.9L131.49 256l154.02 154.75c9.34 9.38 9.32 24.54-.04 33.9l-22.67 22.67c-9.37 9.37-24.57 9.37-33.94 0L34.52 272.97c-9.37-9.37-9.37-24.57 0-33.94z"},child:[]}]})(e)}function sY(e){return ki({attr:{viewBox:"0 0 384 512"},child:[{tag:"path",attr:{d:"M336 64h-80c0-35.3-28.7-64-64-64s-64 28.7-64 64H48C21.5 64 0 85.5 0 112v352c0 26.5 21.5 48 48 48h288c26.5 0 48-21.5 48-48V112c0-26.5-21.5-48-48-48zM96 424c-13.3 0-24-10.7-24-24s10.7-24 24-24 24 10.7 24 24-10.7 24-24 24zm0-96c-13.3 0-24-10.7-24-24s10.7-24 24-24 24 10.7 24 24-10.7 24-24 24zm0-96c-13.3 0-24-10.7-24-24s10.7-24 24-24 24 10.7 24 24-10.7 24-24 24zm96-192c13.3 0 24 10.7 24 24s-10.7 24-24 24-24-10.7-24-24 10.7-24 24-24zm128 368c0 4.4-3.6 8-8 8H168c-4.4 0-8-3.6-8-8v-16c0-4.4 3.6-8 8-8h144c4.4 0 8 3.6 8 8v16zm0-96c0 4.4-3.6 8-8 8H168c-4.4 0-8-3.6-8-8v-16c0-4.4 3.6-8 8-8h144c4.4 0 8 3.6 8 8v16zm0-96c0 4.4-3.6 8-8 8H168c-4.4 0-8-3.6-8-8v-16c0-4.4 3.6-8 8-8h144c4.4 0 8 3.6 8 8v16z"},child:[]}]})(e)}function oY(e){return ki({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M487.4 315.7l-42.6-24.6c4.3-23.2 4.3-47 0-70.2l42.6-24.6c4.9-2.8 7.1-8.6 5.5-14-11.1-35.6-30-67.8-54.7-94.6-3.8-4.1-10-5.1-14.8-2.3L380.8 110c-17.9-15.4-38.5-27.3-60.8-35.1V25.8c0-5.6-3.9-10.5-9.4-11.7-36.7-8.2-74.3-7.8-109.2 0-5.5 1.2-9.4 6.1-9.4 11.7V75c-22.2 7.9-42.8 19.8-60.8 35.1L88.7 85.5c-4.9-2.8-11-1.9-14.8 2.3-24.7 26.7-43.6 58.9-54.7 94.6-1.7 5.4.6 11.2 5.5 14L67.3 221c-4.3 23.2-4.3 47 0 70.2l-42.6 24.6c-4.9 2.8-7.1 8.6-5.5 14 11.1 35.6 30 67.8 54.7 94.6 3.8 4.1 10 5.1 14.8 2.3l42.6-24.6c17.9 15.4 38.5 27.3 60.8 35.1v49.2c0 5.6 3.9 10.5 9.4 11.7 36.7 8.2 74.3 7.8 109.2 0 5.5-1.2 9.4-6.1 9.4-11.7v-49.2c22.2-7.9 42.8-19.8 60.8-35.1l42.6 24.6c4.9 2.8 11 1.9 14.8-2.3 24.7-26.7 43.6-58.9 54.7-94.6 1.5-5.5-.7-11.3-5.6-14.1zM256 336c-44.1 0-80-35.9-80-80s35.9-80 80-80 80 35.9 80 80-35.9 80-80 80z"},child:[]}]})(e)}function lY(e){return ki({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M288 130.54V112h16c8.84 0 16-7.16 16-16V80c0-8.84-7.16-16-16-16h-96c-8.84 0-16 7.16-16 16v16c0 8.84 7.16 16 16 16h16v18.54C115.49 146.11 32 239.18 32 352h448c0-112.82-83.49-205.89-192-221.46zM496 384H16c-8.84 0-16 7.16-16 16v32c0 8.84 7.16 16 16 16h480c8.84 0 16-7.16 16-16v-32c0-8.84-7.16-16-16-16z"},child:[]}]})(e)}function uY(e){return ki({attr:{viewBox:"0 0 384 512"},child:[{tag:"path",attr:{d:"M377 105L279.1 7c-4.5-4.5-10.6-7-17-7H256v128h128v-6.1c0-6.3-2.5-12.4-7-16.9zm-153 31V0H24C10.7 0 0 10.7 0 24v464c0 13.3 10.7 24 24 24h336c13.3 0 24-10.7 24-24V160H248c-13.2 0-24-10.8-24-24zM64 72c0-4.42 3.58-8 8-8h80c4.42 0 8 3.58 8 8v16c0 4.42-3.58 8-8 8H72c-4.42 0-8-3.58-8-8V72zm0 80v-16c0-4.42 3.58-8 8-8h80c4.42 0 8 3.58 8 8v16c0 4.42-3.58 8-8 8H72c-4.42 0-8-3.58-8-8zm144 263.88V440c0 4.42-3.58 8-8 8h-16c-4.42 0-8-3.58-8-8v-24.29c-11.29-.58-22.27-4.52-31.37-11.35-3.9-2.93-4.1-8.77-.57-12.14l11.75-11.21c2.77-2.64 6.89-2.76 10.13-.73 3.87 2.42 8.26 3.72 12.82 3.72h28.11c6.5 0 11.8-5.92 11.8-13.19 0-5.95-3.61-11.19-8.77-12.73l-45-13.5c-18.59-5.58-31.58-23.42-31.58-43.39 0-24.52 19.05-44.44 42.67-45.07V232c0-4.42 3.58-8 8-8h16c4.42 0 8 3.58 8 8v24.29c11.29.58 22.27 4.51 31.37 11.35 3.9 2.93 4.1 8.77.57 12.14l-11.75 11.21c-2.77 2.64-6.89 2.76-10.13.73-3.87-2.43-8.26-3.72-12.82-3.72h-28.11c-6.5 0-11.8 5.92-11.8 13.19 0 5.95 3.61 11.19 8.77 12.73l45 13.5c18.59 5.58 31.58 23.42 31.58 43.39 0 24.53-19.05 44.44-42.67 45.07z"},child:[]}]})(e)}function cY(e){return ki({attr:{viewBox:"0 0 384 512"},child:[{tag:"path",attr:{d:"M181.9 256.1c-5-16-4.9-46.9-2-46.9 8.4 0 7.6 36.9 2 46.9zm-1.7 47.2c-7.7 20.2-17.3 43.3-28.4 62.7 18.3-7 39-17.2 62.9-21.9-12.7-9.6-24.9-23.4-34.5-40.8zM86.1 428.1c0 .8 13.2-5.4 34.9-40.2-6.7 6.3-29.1 24.5-34.9 40.2zM248 160h136v328c0 13.3-10.7 24-24 24H24c-13.3 0-24-10.7-24-24V24C0 10.7 10.7 0 24 0h200v136c0 13.2 10.8 24 24 24zm-8 171.8c-20-12.2-33.3-29-42.7-53.8 4.5-18.5 11.6-46.6 6.2-64.2-4.7-29.4-42.4-26.5-47.8-6.8-5 18.3-.4 44.1 8.1 77-11.6 27.6-28.7 64.6-40.8 85.8-.1 0-.1.1-.2.1-27.1 13.9-73.6 44.5-54.5 68 5.6 6.9 16 10 21.5 10 17.9 0 35.7-18 61.1-61.8 25.8-8.5 54.1-19.1 79-23.2 21.7 11.8 47.1 19.5 64 19.5 29.2 0 31.2-32 19.7-43.4-13.9-13.6-54.3-9.7-73.6-7.2zM377 105L279 7c-4.5-4.5-10.6-7-17-7h-6v128h128v-6.1c0-6.3-2.5-12.4-7-16.9zm-74.1 255.3c4.1-2.7-2.5-11.9-42.8-9 37.1 15.8 42.8 9 42.8 9z"},child:[]}]})(e)}function dY(e){return ki({attr:{viewBox:"0 0 576 512"},child:[{tag:"path",attr:{d:"M280.37 148.26L96 300.11V464a16 16 0 0 0 16 16l112.06-.29a16 16 0 0 0 15.92-16V368a16 16 0 0 1 16-16h64a16 16 0 0 1 16 16v95.64a16 16 0 0 0 16 16.05L464 480a16 16 0 0 0 16-16V300L295.67 148.26a12.19 12.19 0 0 0-15.3 0zM571.6 251.47L488 182.56V44.05a12 12 0 0 0-12-12h-56a12 12 0 0 0-12 12v72.61L318.47 43a48 48 0 0 0-61 0L4.34 251.47a12 12 0 0 0-1.6 16.9l25.5 31A12 12 0 0 0 45.15 301l235.22-193.74a12.19 12.19 0 0 1 15.3 0L530.9 301a12 12 0 0 0 16.9-1.6l25.5-31a12 12 0 0 0-1.7-16.93z"},child:[]}]})(e)}function fY(e){return ki({attr:{viewBox:"0 0 576 512"},child:[{tag:"path",attr:{d:"M567.938 243.908L462.25 85.374A48.003 48.003 0 0 0 422.311 64H153.689a48 48 0 0 0-39.938 21.374L8.062 243.908A47.994 47.994 0 0 0 0 270.533V400c0 26.51 21.49 48 48 48h480c26.51 0 48-21.49 48-48V270.533a47.994 47.994 0 0 0-8.062-26.625zM162.252 128h251.497l85.333 128H376l-32 64H232l-32-64H76.918l85.334-128z"},child:[]}]})(e)}function hY(e){return ki({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M224 96l16-32 32-16-32-16-16-32-16 32-32 16 32 16 16 32zM80 160l26.66-53.33L160 80l-53.34-26.67L80 0 53.34 53.33 0 80l53.34 26.67L80 160zm352 128l-26.66 53.33L352 368l53.34 26.67L432 448l26.66-53.33L512 368l-53.34-26.67L432 288zm70.62-193.77L417.77 9.38C411.53 3.12 403.34 0 395.15 0c-8.19 0-16.38 3.12-22.63 9.38L9.38 372.52c-12.5 12.5-12.5 32.76 0 45.25l84.85 84.85c6.25 6.25 14.44 9.37 22.62 9.37 8.19 0 16.38-3.12 22.63-9.37l363.14-363.15c12.5-12.48 12.5-32.75 0-45.24zM359.45 203.46l-50.91-50.91 86.6-86.6 50.91 50.91-86.6 86.6z"},child:[]}]})(e)}function pY(e){return ki({attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M424.4 214.7L72.4 6.6C43.8-10.3 0 6.1 0 47.9V464c0 37.5 40.7 60.1 72.4 41.3l352-208c31.4-18.5 31.5-64.1 0-82.6z"},child:[]}]})(e)}function mY(e){return ki({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M497 273L329 441c-15 15-41 4.5-41-17v-96H152c-13.3 0-24-10.7-24-24v-96c0-13.3 10.7-24 24-24h136V88c0-21.4 25.9-32 41-17l168 168c9.3 9.4 9.3 24.6 0 34zM192 436v-40c0-6.6-5.4-12-12-12H96c-17.7 0-32-14.3-32-32V160c0-17.7 14.3-32 32-32h84c6.6 0 12-5.4 12-12V76c0-6.6-5.4-12-12-12H96c-53 0-96 43-96 96v192c0 53 43 96 96 96h84c6.6 0 12-5.4 12-12z"},child:[]}]})(e)}function gY(e){return ki({attr:{viewBox:"0 0 576 512"},child:[{tag:"path",attr:{d:"M288 32C128.94 32 0 160.94 0 320c0 52.8 14.25 102.26 39.06 144.8 5.61 9.62 16.3 15.2 27.44 15.2h443c11.14 0 21.83-5.58 27.44-15.2C561.75 422.26 576 372.8 576 320c0-159.06-128.94-288-288-288zm0 64c14.71 0 26.58 10.13 30.32 23.65-1.11 2.26-2.64 4.23-3.45 6.67l-9.22 27.67c-5.13 3.49-10.97 6.01-17.64 6.01-17.67 0-32-14.33-32-32S270.33 96 288 96zM96 384c-17.67 0-32-14.33-32-32s14.33-32 32-32 32 14.33 32 32-14.33 32-32 32zm48-160c-17.67 0-32-14.33-32-32s14.33-32 32-32 32 14.33 32 32-14.33 32-32 32zm246.77-72.41l-61.33 184C343.13 347.33 352 364.54 352 384c0 11.72-3.38 22.55-8.88 32H232.88c-5.5-9.45-8.88-20.28-8.88-32 0-33.94 26.5-61.43 59.9-63.59l61.34-184.01c4.17-12.56 17.73-19.45 30.36-15.17 12.57 4.19 19.35 17.79 15.17 30.36zm14.66 57.2l15.52-46.55c3.47-1.29 7.13-2.23 11.05-2.23 17.67 0 32 14.33 32 32s-14.33 32-32 32c-11.38-.01-20.89-6.28-26.57-15.22zM480 384c-17.67 0-32-14.33-32-32s14.33-32 32-32 32 14.33 32 32-14.33 32-32 32z"},child:[]}]})(e)}function vY(e){return ki({attr:{viewBox:"0 0 496 512"},child:[{tag:"path",attr:{d:"M248 8C111 8 0 119 0 256s111 248 248 248 248-111 248-248S385 8 248 8zm0 96c48.6 0 88 39.4 88 88s-39.4 88-88 88-88-39.4-88-88 39.4-88 88-88zm0 344c-58.7 0-111.3-26.6-146.5-68.2 18.8-35.4 55.6-59.8 98.5-59.8 2.4 0 4.8.4 7.1 1.1 13 4.2 26.6 6.9 40.9 6.9 14.3 0 28-2.7 40.9-6.9 2.3-.7 4.7-1.1 7.1-1.1 42.9 0 79.7 24.4 98.5 59.8C359.3 421.4 306.7 448 248 448z"},child:[]}]})(e)}function yY(e){return ki({attr:{viewBox:"0 0 640 512"},child:[{tag:"path",attr:{d:"M96 224c35.3 0 64-28.7 64-64s-28.7-64-64-64-64 28.7-64 64 28.7 64 64 64zm448 0c35.3 0 64-28.7 64-64s-28.7-64-64-64-64 28.7-64 64 28.7 64 64 64zm32 32h-64c-17.6 0-33.5 7.1-45.1 18.6 40.3 22.1 68.9 62 75.1 109.4h66c17.7 0 32-14.3 32-32v-32c0-35.3-28.7-64-64-64zm-256 0c61.9 0 112-50.1 112-112S381.9 32 320 32 208 82.1 208 144s50.1 112 112 112zm76.8 32h-8.3c-20.8 10-43.9 16-68.5 16s-47.6-6-68.5-16h-8.3C179.6 288 128 339.6 128 403.2V432c0 26.5 21.5 48 48 48h288c26.5 0 48-21.5 48-48v-28.8c0-63.6-51.6-115.2-115.2-115.2zm-223.7-13.4C161.5 263.1 145.6 256 128 256H64c-35.3 0-64 28.7-64 64v32c0 17.7 14.3 32 32 32h65.9c6.3-47.4 34.9-87.3 75.2-109.4z"},child:[]}]})(e)}function xY(e){return ki({attr:{viewBox:"0 0 416 512"},child:[{tag:"path",attr:{d:"M207.9 15.2c.8 4.7 16.1 94.5 16.1 128.8 0 52.3-27.8 89.6-68.9 104.6L168 486.7c.7 13.7-10.2 25.3-24 25.3H80c-13.7 0-24.7-11.5-24-25.3l12.9-238.1C27.7 233.6 0 196.2 0 144 0 109.6 15.3 19.9 16.1 15.2 19.3-5.1 61.4-5.4 64 16.3v141.2c1.3 3.4 15.1 3.2 16 0 1.4-25.3 7.9-139.2 8-141.8 3.3-20.8 44.7-20.8 47.9 0 .2 2.7 6.6 116.5 8 141.8.9 3.2 14.8 3.4 16 0V16.3c2.6-21.6 44.8-21.4 48-1.1zm119.2 285.7l-15 185.1c-1.2 14 9.9 26 23.9 26h56c13.3 0 24-10.7 24-24V24c0-13.2-10.7-24-24-24-82.5 0-221.4 178.5-64.9 300.9z"},child:[]}]})(e)}const bY=(e,t)=>{S.useEffect(()=>{const n=r=>{e.current&&!e.current.contains(r.target)&&t()};return document.addEventListener("mousedown",n),()=>{document.removeEventListener("mousedown",n)}},[e,t])},wY=[{path:"/dashboard",label:"Dashboard",icon:gY},{path:"/",label:"Floor Plan",icon:dY},{path:"/smart-assign",label:"Smart Assign",icon:hY},{path:"/order",label:"Order",icon:sY},{path:"/menu",label:"Menu",icon:xY},{path:"/billing",label:"Billing",icon:uY},{path:"/reports",label:"Reports",icon:iY},{path:"/staff",label:"Staff",icon:yY},{path:"/kitchen",label:"Kitchen",icon:lY}],_Y=()=>{const[e,t]=S.useState(!0),[n,r]=S.useState(!1),i=S.useRef(null);bY(i,()=>r(!1)),S.useEffect(()=>{const s=localStorage.getItem("sidebarOpen");s!==null&&t(JSON.parse(s))},[]),S.useEffect(()=>{localStorage.setItem("sidebarOpen",JSON.stringify(e))},[e]);const a={WebkitOverflowScrolling:"touch",scrollbarWidth:"none",msOverflowStyle:"none"};return h.jsxs("aside",{className:`sticky top-0 h-screen bg-[#F9FAFB] text-[#1F2937] flex flex-col transition-all duration-300 ease-in-out ${e?"w-64":"w-20"}`,children:[h.jsx("button",{onClick:()=>t(!e),"aria-label":e?"Collapse sidebar":"Expand sidebar",className:"absolute -right-3 top-8 z-10 p-1.5 rounded-full bg-[#E5E7EB] text-[#1F2937] hover:bg-[#10B981] hover:text-white transition-colors",children:e?h.jsx(aY,{size:14}):h.jsx(rY,{size:14})}),h.jsxs("div",{className:`flex-1 flex flex-col ${e?"overflow-y-auto overflow-x-hidden":"overflow-hidden"}`,style:a,children:[h.jsxs("div",{className:"flex items-center h-20 px-6 shrink-0",children:[h.jsx("span",{className:"text-[#10B981] text-3xl font-bold",children:"M"}),e&&h.jsxs("div",{className:"ml-4 flex flex-col",children:[h.jsx("span",{className:"text-2xl font-bold tracking-wider text-[#10B981] leading-tight",children:"MealiX"}),h.jsx("span",{className:"text-xs text-[#6B7280] tracking-wider mt-0.5",children:"Developed by Sinan KP"})]})]}),h.jsx("nav",{className:"px-4 space-y-2",children:wY.map(({path:s,label:o,icon:l})=>h.jsxs(HN,{to:s,className:({isActive:u})=>`relative flex items-center rounded-lg font-medium py-3 px-4 transition-all duration-200 group ${u?"bg-[#D1FAE5] text-[#065F46] shadow-md":"hover:bg-[#C6F6D5] hover:text-[#065F46]"}`,children:[h.jsx(l,{className:"w-6 h-6 shrink-0","aria-hidden":"true"}),e&&h.jsx("span",{className:"ml-4 flex-1 whitespace-nowrap",children:o}),!e&&h.jsx("span",{className:"absolute left-full top-1/2 -translate-y-1/2 ml-4 px-3 py-1.5 bg-[#ECFDF5] text-[#10B981] text-xs font-medium rounded-md opacity-0 group-hover:opacity-100 whitespace-nowrap shadow-lg transition-opacity pointer-events-none z-20",children:o})]},s))})]}),h.jsxs("div",{className:"px-4 py-4 border-t border-[#E5E7EB]",children:[h.jsxs(HN,{to:"/settings",className:({isActive:s})=>`relative flex items-center rounded-lg font-medium py-3 px-4 transition-all duration-200 group ${s?"bg-[#D1FAE5] text-[#065F46] shadow-md":"hover:bg-[#C6F6D5] hover:text-[#065F46]"}`,children:[h.jsx(oY,{className:"w-6 h-6 shrink-0","aria-hidden":"true"}),e&&h.jsx("span",{className:"ml-4",children:"Settings"}),!e&&h.jsx("span",{className:"absolute left-full top-1/2 -translate-y-1/2 ml-4 px-3 py-1.5 bg-[#ECFDF5] text-[#10B981] text-xs font-medium rounded-md opacity-0 group-hover:opacity-100 whitespace-nowrap shadow-lg transition-opacity pointer-events-none z-20",children:"Settings"})]}),h.jsxs("div",{ref:i,className:"relative mt-2",children:[n&&h.jsxs("div",{className:`absolute bottom-full mb-2 w-56 ${e?"left-0":"left-4"} bg-white rounded-lg shadow-md py-2 transition-all duration-300 ease-in-out transform origin-bottom ${n?"scale-100 opacity-100":"scale-95 opacity-0"}`,children:[h.jsxs("div",{className:"px-4 py-3 border-b border-[#E5E7EB]",children:[h.jsx("p",{className:"font-semibold text-[#1F2937]",children:"Manager"}),h.jsx("p",{className:"text-sm text-[#6B7280] truncate",children:"manager@restrogrid.com"})]}),h.jsxs("button",{className:"flex w-full items-center px-4 py-2 text-sm text-[#1F2937] hover:bg-[#ECFDF5] hover:text-[#10B981]",children:[h.jsx(vY,{className:"mr-3"})," Profile"]}),h.jsxs("button",{className:"flex w-full items-center px-4 py-2 text-sm text-[#EF4444] hover:bg-[#FEE2E2]",children:[h.jsx(mY,{className:"mr-3"})," Logout"]})]}),h.jsxs("div",{className:`mt-2 p-2 flex items-center cursor-pointer rounded-lg hover:bg-[#ECFDF5] transition-colors ${!e&&"justify-center"}`,onClick:()=>r(s=>!s),children:[h.jsx("img",{src:"https://i.pravatar.cc/48",alt:"profile",className:"w-10 h-10 rounded-full border-2 border-[#10B981]"}),e&&h.jsxs("div",{className:"ml-3",children:[h.jsx("p",{className:"font-semibold text-[#1F2937]",children:"Manager"}),h.jsx("p",{className:"text-xs text-[#6B7280]",children:"Admin"})]})]})]})]})]})},SY=()=>{const[e,t]=S.useState(navigator.onLine?"online":"offline"),[n,r]=S.useState(0),i=3,a=2500;S.useEffect(()=>{const l=()=>{setTimeout(()=>{t("online"),r(0)},1e3)},u=()=>{t("offline"),s()};return window.addEventListener("online",l),window.addEventListener("offline",u),navigator.onLine||s(),()=>{window.removeEventListener("online",l),window.removeEventListener("offline",u)}},[]);const s=()=>{let l=0;t("retrying");const u=setInterval(()=>{l++,r(l),navigator.onLine?(t("online"),r(0),clearInterval(u)):l>=i&&(t("offline"),clearInterval(u))},a)},o=()=>{t("manual_checking"),setTimeout(()=>{navigator.onLine?window.location.reload():(t("offline"),r(0))},1500)};return e==="online"?null:h.jsx("div",{className:"fixed inset-0 z-[9999] flex items-center justify-center px-4 bg-gray-900/60 backdrop-blur-sm transition-all duration-300",children:h.jsxs("div",{className:"bg-white w-full max-w-sm rounded-2xl shadow-2xl overflow-hidden transform transition-all animate-in fade-in zoom-in-95 duration-300",children:[h.jsx("div",{className:`h-2 w-full ${e==="retrying"?"bg-blue-500 animate-pulse":"bg-red-500"}`}),h.jsxs("div",{className:"p-8 flex flex-col items-center text-center",children:[h.jsxs("div",{className:"relative mb-6",children:[h.jsx("div",{className:`absolute inset-0 rounded-full opacity-20 ${e==="retrying"?"bg-blue-500 animate-ping":"bg-red-500"}`}),h.jsx("div",{className:`relative p-4 rounded-full ${e==="retrying"?"bg-blue-50 text-blue-600":"bg-red-50 text-red-600"}`,children:e==="retrying"||e==="manual_checking"?h.jsxs("svg",{className:"w-10 h-10 animate-spin",fill:"none",viewBox:"0 0 24 24",children:[h.jsx("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),h.jsx("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})]}):h.jsx("svg",{className:"w-10 h-10",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",strokeWidth:"2",children:h.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M3 3l18 18M12 18h.01M8.217 14.217a5.002 5.002 0 016.224 0M6.8 11.29a8.004 8.004 0 0110.386 0M5.39 8.373a10.004 10.004 0 0113.2 0"})})})]}),h.jsx("h2",{className:"text-2xl font-bold text-gray-800 mb-2",children:e==="retrying"?"Trying to Connect...":"No Internet Connection"}),h.jsx("p",{className:"text-gray-500 mb-8 leading-relaxed",children:e==="retrying"?`We are attempting to restore your connection automatically. (Attempt ${n}/${i})`:"Please check your Wi-Fi or mobile data settings and try again."}),h.jsxs("div",{className:"w-full space-y-3",children:[e!=="retrying"&&h.jsx("button",{onClick:o,disabled:e==="manual_checking",className:`
                  w-full py-3.5 px-6 rounded-xl font-semibold text-white shadow-lg 
                  flex items-center justify-center space-x-2 transition-all duration-200
                  ${e==="manual_checking"?"bg-gray-400 cursor-not-allowed":"bg-red-600 hover:bg-red-700 active:scale-[0.98] shadow-red-200"}
                `,children:e==="manual_checking"?h.jsxs(h.Fragment,{children:[h.jsx("span",{children:"Checking Connection"}),h.jsxs("span",{className:"flex space-x-1 ml-2",children:[h.jsx("span",{className:"w-1.5 h-1.5 bg-white rounded-full animate-bounce delay-0"}),h.jsx("span",{className:"w-1.5 h-1.5 bg-white rounded-full animate-bounce delay-100"}),h.jsx("span",{className:"w-1.5 h-1.5 bg-white rounded-full animate-bounce delay-200"})]})]}):h.jsx("span",{children:"Tap to Reconnect"})}),e==="retrying"&&h.jsx("div",{className:"w-full bg-gray-100 rounded-full h-2.5 overflow-hidden",children:h.jsx("div",{className:"bg-blue-500 h-2.5 rounded-full transition-all duration-500 ease-out",style:{width:`${n/i*100}%`}})})]})]})]})})};var XN={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const NR=function(e){const t=[];let n=0;for(let r=0;r<e.length;r++){let i=e.charCodeAt(r);i<128?t[n++]=i:i<2048?(t[n++]=i>>6|192,t[n++]=i&63|128):(i&64512)===55296&&r+1<e.length&&(e.charCodeAt(r+1)&64512)===56320?(i=65536+((i&1023)<<10)+(e.charCodeAt(++r)&1023),t[n++]=i>>18|240,t[n++]=i>>12&63|128,t[n++]=i>>6&63|128,t[n++]=i&63|128):(t[n++]=i>>12|224,t[n++]=i>>6&63|128,t[n++]=i&63|128)}return t},AY=function(e){const t=[];let n=0,r=0;for(;n<e.length;){const i=e[n++];if(i<128)t[r++]=String.fromCharCode(i);else if(i>191&&i<224){const a=e[n++];t[r++]=String.fromCharCode((i&31)<<6|a&63)}else if(i>239&&i<365){const a=e[n++],s=e[n++],o=e[n++],l=((i&7)<<18|(a&63)<<12|(s&63)<<6|o&63)-65536;t[r++]=String.fromCharCode(55296+(l>>10)),t[r++]=String.fromCharCode(56320+(l&1023))}else{const a=e[n++],s=e[n++];t[r++]=String.fromCharCode((i&15)<<12|(a&63)<<6|s&63)}}return t.join("")},kR={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(e,t){if(!Array.isArray(e))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=t?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let i=0;i<e.length;i+=3){const a=e[i],s=i+1<e.length,o=s?e[i+1]:0,l=i+2<e.length,u=l?e[i+2]:0,c=a>>2,d=(a&3)<<4|o>>4;let p=(o&15)<<2|u>>6,f=u&63;l||(f=64,s||(p=64)),r.push(n[c],n[d],n[p],n[f])}return r.join("")},encodeString(e,t){return this.HAS_NATIVE_SUPPORT&&!t?btoa(e):this.encodeByteArray(NR(e),t)},decodeString(e,t){return this.HAS_NATIVE_SUPPORT&&!t?atob(e):AY(this.decodeStringToByteArray(e,t))},decodeStringToByteArray(e,t){this.init_();const n=t?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let i=0;i<e.length;){const a=n[e.charAt(i++)],o=i<e.length?n[e.charAt(i)]:0;++i;const u=i<e.length?n[e.charAt(i)]:64;++i;const d=i<e.length?n[e.charAt(i)]:64;if(++i,a==null||o==null||u==null||d==null)throw new PY;const p=a<<2|o>>4;if(r.push(p),u!==64){const f=o<<4&240|u>>2;if(r.push(f),d!==64){const g=u<<6&192|d;r.push(g)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let e=0;e<this.ENCODED_VALS.length;e++)this.byteToCharMap_[e]=this.ENCODED_VALS.charAt(e),this.charToByteMap_[this.byteToCharMap_[e]]=e,this.byteToCharMapWebSafe_[e]=this.ENCODED_VALS_WEBSAFE.charAt(e),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[e]]=e,e>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(e)]=e,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(e)]=e)}}};class PY extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const EY=function(e){const t=NR(e);return kR.encodeByteArray(t,!0)},Mv=function(e){return EY(e).replace(/\./g,"")},NY=function(e){try{return kR.decodeString(e,!0)}catch(t){console.error("base64Decode failed: ",t)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function kY(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const TY=()=>kY().__FIREBASE_DEFAULTS__,CY=()=>{if(typeof process>"u"||typeof XN>"u")return;const e=XN.__FIREBASE_DEFAULTS__;if(e)return JSON.parse(e)},jY=()=>{if(typeof document>"u")return;let e;try{e=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const t=e&&NY(e[1]);return t&&JSON.parse(t)},aS=()=>{try{return TY()||CY()||jY()}catch(e){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${e}`);return}},IY=e=>{var t,n;return(n=(t=aS())===null||t===void 0?void 0:t.emulatorHosts)===null||n===void 0?void 0:n[e]},OY=e=>{const t=IY(e);if(!t)return;const n=t.lastIndexOf(":");if(n<=0||n+1===t.length)throw new Error(`Invalid host ${t} with no separate hostname and port!`);const r=parseInt(t.substring(n+1),10);return t[0]==="["?[t.substring(1,n-1),r]:[t.substring(0,n),r]},TR=()=>{var e;return(e=aS())===null||e===void 0?void 0:e.config};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class LY{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((t,n)=>{this.resolve=t,this.reject=n})}wrapCallback(t){return(n,r)=>{n?this.reject(n):this.resolve(r),typeof t=="function"&&(this.promise.catch(()=>{}),t.length===1?t(n):t(n,r))}}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function RY(e,t){if(e.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const n={alg:"none",type:"JWT"},r=t||"demo-project",i=e.iat||0,a=e.sub||e.user_id;if(!a)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const s=Object.assign({iss:`https://securetoken.google.com/${r}`,aud:r,iat:i,exp:i+3600,auth_time:i,sub:a,user_id:a,firebase:{sign_in_provider:"custom",identities:{}}},e);return[Mv(JSON.stringify(n)),Mv(JSON.stringify(s)),""].join(".")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function MY(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function DY(){var e;const t=(e=aS())===null||e===void 0?void 0:e.forceEnvironment;if(t==="node")return!0;if(t==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function FY(){return!DY()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function BY(){try{return typeof indexedDB=="object"}catch{return!1}}function VY(){return new Promise((e,t)=>{try{let n=!0;const r="validate-browser-context-for-indexeddb-analytics-module",i=self.indexedDB.open(r);i.onsuccess=()=>{i.result.close(),n||self.indexedDB.deleteDatabase(r),e(!0)},i.onupgradeneeded=()=>{n=!1},i.onerror=()=>{var a;t(((a=i.error)===null||a===void 0?void 0:a.message)||"")}}catch(n){t(n)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const zY="FirebaseError";class jh extends Error{constructor(t,n,r){super(n),this.code=t,this.customData=r,this.name=zY,Object.setPrototypeOf(this,jh.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,CR.prototype.create)}}class CR{constructor(t,n,r){this.service=t,this.serviceName=n,this.errors=r}create(t,...n){const r=n[0]||{},i=`${this.service}/${t}`,a=this.errors[t],s=a?$Y(a,r):"Error",o=`${this.serviceName}: ${s} (${i}).`;return new jh(i,o,r)}}function $Y(e,t){return e.replace(UY,(n,r)=>{const i=t[r];return i!=null?String(i):`<${r}?>`})}const UY=/\{\$([^}]+)}/g;function s4(e,t){if(e===t)return!0;const n=Object.keys(e),r=Object.keys(t);for(const i of n){if(!r.includes(i))return!1;const a=e[i],s=t[i];if(QN(a)&&QN(s)){if(!s4(a,s))return!1}else if(a!==s)return!1}for(const i of r)if(!n.includes(i))return!1;return!0}function QN(e){return e!==null&&typeof e=="object"}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ks(e){return e&&e._delegate?e._delegate:e}class Dm{constructor(t,n,r){this.name=t,this.instanceFactory=n,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(t){return this.instantiationMode=t,this}setMultipleInstances(t){return this.multipleInstances=t,this}setServiceProps(t){return this.serviceProps=t,this}setInstanceCreatedCallback(t){return this.onInstanceCreated=t,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Kc="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let WY=class{constructor(t,n){this.name=t,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(t){const n=this.normalizeInstanceIdentifier(t);if(!this.instancesDeferred.has(n)){const r=new LY;if(this.instancesDeferred.set(n,r),this.isInitialized(n)||this.shouldAutoInitialize())try{const i=this.getOrInitializeService({instanceIdentifier:n});i&&r.resolve(i)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(t){var n;const r=this.normalizeInstanceIdentifier(t==null?void 0:t.identifier),i=(n=t==null?void 0:t.optional)!==null&&n!==void 0?n:!1;if(this.isInitialized(r)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:r})}catch(a){if(i)return null;throw a}else{if(i)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(t){if(t.name!==this.name)throw Error(`Mismatching Component ${t.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=t,!!this.shouldAutoInitialize()){if(HY(t))try{this.getOrInitializeService({instanceIdentifier:Kc})}catch{}for(const[n,r]of this.instancesDeferred.entries()){const i=this.normalizeInstanceIdentifier(n);try{const a=this.getOrInitializeService({instanceIdentifier:i});r.resolve(a)}catch{}}}}clearInstance(t=Kc){this.instancesDeferred.delete(t),this.instancesOptions.delete(t),this.instances.delete(t)}async delete(){const t=Array.from(this.instances.values());await Promise.all([...t.filter(n=>"INTERNAL"in n).map(n=>n.INTERNAL.delete()),...t.filter(n=>"_delete"in n).map(n=>n._delete())])}isComponentSet(){return this.component!=null}isInitialized(t=Kc){return this.instances.has(t)}getOptions(t=Kc){return this.instancesOptions.get(t)||{}}initialize(t={}){const{options:n={}}=t,r=this.normalizeInstanceIdentifier(t.instanceIdentifier);if(this.isInitialized(r))throw Error(`${this.name}(${r}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const i=this.getOrInitializeService({instanceIdentifier:r,options:n});for(const[a,s]of this.instancesDeferred.entries()){const o=this.normalizeInstanceIdentifier(a);r===o&&s.resolve(i)}return i}onInit(t,n){var r;const i=this.normalizeInstanceIdentifier(n),a=(r=this.onInitCallbacks.get(i))!==null&&r!==void 0?r:new Set;a.add(t),this.onInitCallbacks.set(i,a);const s=this.instances.get(i);return s&&t(s,i),()=>{a.delete(t)}}invokeOnInitCallbacks(t,n){const r=this.onInitCallbacks.get(n);if(r)for(const i of r)try{i(t,n)}catch{}}getOrInitializeService({instanceIdentifier:t,options:n={}}){let r=this.instances.get(t);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:qY(t),options:n}),this.instances.set(t,r),this.instancesOptions.set(t,n),this.invokeOnInitCallbacks(r,t),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,t,r)}catch{}return r||null}normalizeInstanceIdentifier(t=Kc){return this.component?this.component.multipleInstances?t:Kc:t}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}};function qY(e){return e===Kc?void 0:e}function HY(e){return e.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class KY{constructor(t){this.name=t,this.providers=new Map}addComponent(t){const n=this.getProvider(t.name);if(n.isComponentSet())throw new Error(`Component ${t.name} has already been registered with ${this.name}`);n.setComponent(t)}addOrOverwriteComponent(t){this.getProvider(t.name).isComponentSet()&&this.providers.delete(t.name),this.addComponent(t)}getProvider(t){if(this.providers.has(t))return this.providers.get(t);const n=new WY(t,this);return this.providers.set(t,n),n}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Xt;(function(e){e[e.DEBUG=0]="DEBUG",e[e.VERBOSE=1]="VERBOSE",e[e.INFO=2]="INFO",e[e.WARN=3]="WARN",e[e.ERROR=4]="ERROR",e[e.SILENT=5]="SILENT"})(Xt||(Xt={}));const GY={debug:Xt.DEBUG,verbose:Xt.VERBOSE,info:Xt.INFO,warn:Xt.WARN,error:Xt.ERROR,silent:Xt.SILENT},YY=Xt.INFO,XY={[Xt.DEBUG]:"log",[Xt.VERBOSE]:"log",[Xt.INFO]:"info",[Xt.WARN]:"warn",[Xt.ERROR]:"error"},QY=(e,t,...n)=>{if(t<e.logLevel)return;const r=new Date().toISOString(),i=XY[t];if(i)console[i](`[${r}]  ${e.name}:`,...n);else throw new Error(`Attempted to log a message with an invalid logType (value: ${t})`)};class jR{constructor(t){this.name=t,this._logLevel=YY,this._logHandler=QY,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(t){if(!(t in Xt))throw new TypeError(`Invalid value "${t}" assigned to \`logLevel\``);this._logLevel=t}setLogLevel(t){this._logLevel=typeof t=="string"?GY[t]:t}get logHandler(){return this._logHandler}set logHandler(t){if(typeof t!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=t}get userLogHandler(){return this._userLogHandler}set userLogHandler(t){this._userLogHandler=t}debug(...t){this._userLogHandler&&this._userLogHandler(this,Xt.DEBUG,...t),this._logHandler(this,Xt.DEBUG,...t)}log(...t){this._userLogHandler&&this._userLogHandler(this,Xt.VERBOSE,...t),this._logHandler(this,Xt.VERBOSE,...t)}info(...t){this._userLogHandler&&this._userLogHandler(this,Xt.INFO,...t),this._logHandler(this,Xt.INFO,...t)}warn(...t){this._userLogHandler&&this._userLogHandler(this,Xt.WARN,...t),this._logHandler(this,Xt.WARN,...t)}error(...t){this._userLogHandler&&this._userLogHandler(this,Xt.ERROR,...t),this._logHandler(this,Xt.ERROR,...t)}}const ZY=(e,t)=>t.some(n=>e instanceof n);let ZN,JN;function JY(){return ZN||(ZN=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function eX(){return JN||(JN=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const IR=new WeakMap,o4=new WeakMap,OR=new WeakMap,$b=new WeakMap,sS=new WeakMap;function tX(e){const t=new Promise((n,r)=>{const i=()=>{e.removeEventListener("success",a),e.removeEventListener("error",s)},a=()=>{n(ec(e.result)),i()},s=()=>{r(e.error),i()};e.addEventListener("success",a),e.addEventListener("error",s)});return t.then(n=>{n instanceof IDBCursor&&IR.set(n,e)}).catch(()=>{}),sS.set(t,e),t}function nX(e){if(o4.has(e))return;const t=new Promise((n,r)=>{const i=()=>{e.removeEventListener("complete",a),e.removeEventListener("error",s),e.removeEventListener("abort",s)},a=()=>{n(),i()},s=()=>{r(e.error||new DOMException("AbortError","AbortError")),i()};e.addEventListener("complete",a),e.addEventListener("error",s),e.addEventListener("abort",s)});o4.set(e,t)}let l4={get(e,t,n){if(e instanceof IDBTransaction){if(t==="done")return o4.get(e);if(t==="objectStoreNames")return e.objectStoreNames||OR.get(e);if(t==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return ec(e[t])},set(e,t,n){return e[t]=n,!0},has(e,t){return e instanceof IDBTransaction&&(t==="done"||t==="store")?!0:t in e}};function rX(e){l4=e(l4)}function iX(e){return e===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(t,...n){const r=e.call(Ub(this),t,...n);return OR.set(r,t.sort?t.sort():[t]),ec(r)}:eX().includes(e)?function(...t){return e.apply(Ub(this),t),ec(IR.get(this))}:function(...t){return ec(e.apply(Ub(this),t))}}function aX(e){return typeof e=="function"?iX(e):(e instanceof IDBTransaction&&nX(e),ZY(e,JY())?new Proxy(e,l4):e)}function ec(e){if(e instanceof IDBRequest)return tX(e);if($b.has(e))return $b.get(e);const t=aX(e);return t!==e&&($b.set(e,t),sS.set(t,e)),t}const Ub=e=>sS.get(e);function sX(e,t,{blocked:n,upgrade:r,blocking:i,terminated:a}={}){const s=indexedDB.open(e,t),o=ec(s);return r&&s.addEventListener("upgradeneeded",l=>{r(ec(s.result),l.oldVersion,l.newVersion,ec(s.transaction),l)}),n&&s.addEventListener("blocked",l=>n(l.oldVersion,l.newVersion,l)),o.then(l=>{a&&l.addEventListener("close",()=>a()),i&&l.addEventListener("versionchange",u=>i(u.oldVersion,u.newVersion,u))}).catch(()=>{}),o}const oX=["get","getKey","getAll","getAllKeys","count"],lX=["put","add","delete","clear"],Wb=new Map;function ek(e,t){if(!(e instanceof IDBDatabase&&!(t in e)&&typeof t=="string"))return;if(Wb.get(t))return Wb.get(t);const n=t.replace(/FromIndex$/,""),r=t!==n,i=lX.includes(n);if(!(n in(r?IDBIndex:IDBObjectStore).prototype)||!(i||oX.includes(n)))return;const a=async function(s,...o){const l=this.transaction(s,i?"readwrite":"readonly");let u=l.store;return r&&(u=u.index(o.shift())),(await Promise.all([u[n](...o),i&&l.done]))[0]};return Wb.set(t,a),a}rX(e=>({...e,get:(t,n,r)=>ek(t,n)||e.get(t,n,r),has:(t,n)=>!!ek(t,n)||e.has(t,n)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uX{constructor(t){this.container=t}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(cX(n)){const r=n.getImmediate();return`${r.library}/${r.version}`}else return null}).filter(n=>n).join(" ")}}function cX(e){const t=e.getComponent();return(t==null?void 0:t.type)==="VERSION"}const u4="@firebase/app",tk="0.10.13";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Rl=new jR("@firebase/app"),dX="@firebase/app-compat",fX="@firebase/analytics-compat",hX="@firebase/analytics",pX="@firebase/app-check-compat",mX="@firebase/app-check",gX="@firebase/auth",vX="@firebase/auth-compat",yX="@firebase/database",xX="@firebase/data-connect",bX="@firebase/database-compat",wX="@firebase/functions",_X="@firebase/functions-compat",SX="@firebase/installations",AX="@firebase/installations-compat",PX="@firebase/messaging",EX="@firebase/messaging-compat",NX="@firebase/performance",kX="@firebase/performance-compat",TX="@firebase/remote-config",CX="@firebase/remote-config-compat",jX="@firebase/storage",IX="@firebase/storage-compat",OX="@firebase/firestore",LX="@firebase/vertexai-preview",RX="@firebase/firestore-compat",MX="firebase",DX="10.14.1";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const c4="[DEFAULT]",FX={[u4]:"fire-core",[dX]:"fire-core-compat",[hX]:"fire-analytics",[fX]:"fire-analytics-compat",[mX]:"fire-app-check",[pX]:"fire-app-check-compat",[gX]:"fire-auth",[vX]:"fire-auth-compat",[yX]:"fire-rtdb",[xX]:"fire-data-connect",[bX]:"fire-rtdb-compat",[wX]:"fire-fn",[_X]:"fire-fn-compat",[SX]:"fire-iid",[AX]:"fire-iid-compat",[PX]:"fire-fcm",[EX]:"fire-fcm-compat",[NX]:"fire-perf",[kX]:"fire-perf-compat",[TX]:"fire-rc",[CX]:"fire-rc-compat",[jX]:"fire-gcs",[IX]:"fire-gcs-compat",[OX]:"fire-fst",[RX]:"fire-fst-compat",[LX]:"fire-vertex","fire-js":"fire-js",[MX]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Dv=new Map,BX=new Map,d4=new Map;function nk(e,t){try{e.container.addComponent(t)}catch(n){Rl.debug(`Component ${t.name} failed to register with FirebaseApp ${e.name}`,n)}}function Fv(e){const t=e.name;if(d4.has(t))return Rl.debug(`There were multiple attempts to register component ${t}.`),!1;d4.set(t,e);for(const n of Dv.values())nk(n,e);for(const n of BX.values())nk(n,e);return!0}function VX(e,t){const n=e.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),e.container.getProvider(t)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const zX={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},tc=new CR("app","Firebase",zX);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $X{constructor(t,n,r){this._isDeleted=!1,this._options=Object.assign({},t),this._config=Object.assign({},n),this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new Dm("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(t){this.checkDestroyed(),this._automaticDataCollectionEnabled=t}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(t){this._isDeleted=t}checkDestroyed(){if(this.isDeleted)throw tc.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const UX=DX;function LR(e,t={}){let n=e;typeof t!="object"&&(t={name:t});const r=Object.assign({name:c4,automaticDataCollectionEnabled:!1},t),i=r.name;if(typeof i!="string"||!i)throw tc.create("bad-app-name",{appName:String(i)});if(n||(n=TR()),!n)throw tc.create("no-options");const a=Dv.get(i);if(a){if(s4(n,a.options)&&s4(r,a.config))return a;throw tc.create("duplicate-app",{appName:i})}const s=new KY(i);for(const l of d4.values())s.addComponent(l);const o=new $X(n,r,s);return Dv.set(i,o),o}function WX(e=c4){const t=Dv.get(e);if(!t&&e===c4&&TR())return LR();if(!t)throw tc.create("no-app",{appName:e});return t}function Uf(e,t,n){var r;let i=(r=FX[e])!==null&&r!==void 0?r:e;n&&(i+=`-${n}`);const a=i.match(/\s|\//),s=t.match(/\s|\//);if(a||s){const o=[`Unable to register library "${i}" with version "${t}":`];a&&o.push(`library name "${i}" contains illegal characters (whitespace or "/")`),a&&s&&o.push("and"),s&&o.push(`version name "${t}" contains illegal characters (whitespace or "/")`),Rl.warn(o.join(" "));return}Fv(new Dm(`${i}-version`,()=>({library:i,version:t}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const qX="firebase-heartbeat-database",HX=1,Fm="firebase-heartbeat-store";let qb=null;function RR(){return qb||(qb=sX(qX,HX,{upgrade:(e,t)=>{switch(t){case 0:try{e.createObjectStore(Fm)}catch(n){console.warn(n)}}}}).catch(e=>{throw tc.create("idb-open",{originalErrorMessage:e.message})})),qb}async function KX(e){try{const n=(await RR()).transaction(Fm),r=await n.objectStore(Fm).get(MR(e));return await n.done,r}catch(t){if(t instanceof jh)Rl.warn(t.message);else{const n=tc.create("idb-get",{originalErrorMessage:t==null?void 0:t.message});Rl.warn(n.message)}}}async function rk(e,t){try{const r=(await RR()).transaction(Fm,"readwrite");await r.objectStore(Fm).put(t,MR(e)),await r.done}catch(n){if(n instanceof jh)Rl.warn(n.message);else{const r=tc.create("idb-set",{originalErrorMessage:n==null?void 0:n.message});Rl.warn(r.message)}}}function MR(e){return`${e.name}!${e.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const GX=1024,YX=30*24*60*60*1e3;class XX{constructor(t){this.container=t,this._heartbeatsCache=null;const n=this.container.getProvider("app").getImmediate();this._storage=new ZX(n),this._heartbeatsCachePromise=this._storage.read().then(r=>(this._heartbeatsCache=r,r))}async triggerHeartbeat(){var t,n;try{const i=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),a=ik();return((t=this._heartbeatsCache)===null||t===void 0?void 0:t.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,((n=this._heartbeatsCache)===null||n===void 0?void 0:n.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===a||this._heartbeatsCache.heartbeats.some(s=>s.date===a)?void 0:(this._heartbeatsCache.heartbeats.push({date:a,agent:i}),this._heartbeatsCache.heartbeats=this._heartbeatsCache.heartbeats.filter(s=>{const o=new Date(s.date).valueOf();return Date.now()-o<=YX}),this._storage.overwrite(this._heartbeatsCache))}catch(r){Rl.warn(r)}}async getHeartbeatsHeader(){var t;try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,((t=this._heartbeatsCache)===null||t===void 0?void 0:t.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";const n=ik(),{heartbeatsToSend:r,unsentEntries:i}=QX(this._heartbeatsCache.heartbeats),a=Mv(JSON.stringify({version:2,heartbeats:r}));return this._heartbeatsCache.lastSentHeartbeatDate=n,i.length>0?(this._heartbeatsCache.heartbeats=i,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),a}catch(n){return Rl.warn(n),""}}}function ik(){return new Date().toISOString().substring(0,10)}function QX(e,t=GX){const n=[];let r=e.slice();for(const i of e){const a=n.find(s=>s.agent===i.agent);if(a){if(a.dates.push(i.date),ak(n)>t){a.dates.pop();break}}else if(n.push({agent:i.agent,dates:[i.date]}),ak(n)>t){n.pop();break}r=r.slice(1)}return{heartbeatsToSend:n,unsentEntries:r}}class ZX{constructor(t){this.app=t,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return BY()?VY().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const n=await KX(this.app);return n!=null&&n.heartbeats?n:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(t){var n;if(await this._canUseIndexedDBPromise){const i=await this.read();return rk(this.app,{lastSentHeartbeatDate:(n=t.lastSentHeartbeatDate)!==null&&n!==void 0?n:i.lastSentHeartbeatDate,heartbeats:t.heartbeats})}else return}async add(t){var n;if(await this._canUseIndexedDBPromise){const i=await this.read();return rk(this.app,{lastSentHeartbeatDate:(n=t.lastSentHeartbeatDate)!==null&&n!==void 0?n:i.lastSentHeartbeatDate,heartbeats:[...i.heartbeats,...t.heartbeats]})}else return}}function ak(e){return Mv(JSON.stringify({version:2,heartbeats:e})).length}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function JX(e){Fv(new Dm("platform-logger",t=>new uX(t),"PRIVATE")),Fv(new Dm("heartbeat",t=>new XX(t),"PRIVATE")),Uf(u4,tk,e),Uf(u4,tk,"esm2017"),Uf("fire-js","")}JX("");var eQ="firebase",tQ="10.14.1";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Uf(eQ,tQ,"app");var sk=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var fd,DR;(function(){var e;/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/function t(T,k){function I(){}I.prototype=k.prototype,T.D=k.prototype,T.prototype=new I,T.prototype.constructor=T,T.C=function(M,N,C){for(var R=Array(arguments.length-2),W=2;W<arguments.length;W++)R[W-2]=arguments[W];return k.prototype[N].apply(M,R)}}function n(){this.blockSize=-1}function r(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.B=Array(this.blockSize),this.o=this.h=0,this.s()}t(r,n),r.prototype.s=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function i(T,k,I){I||(I=0);var M=Array(16);if(typeof k=="string")for(var N=0;16>N;++N)M[N]=k.charCodeAt(I++)|k.charCodeAt(I++)<<8|k.charCodeAt(I++)<<16|k.charCodeAt(I++)<<24;else for(N=0;16>N;++N)M[N]=k[I++]|k[I++]<<8|k[I++]<<16|k[I++]<<24;k=T.g[0],I=T.g[1],N=T.g[2];var C=T.g[3],R=k+(C^I&(N^C))+M[0]+3614090360&4294967295;k=I+(R<<7&4294967295|R>>>25),R=C+(N^k&(I^N))+M[1]+3905402710&4294967295,C=k+(R<<12&4294967295|R>>>20),R=N+(I^C&(k^I))+M[2]+606105819&4294967295,N=C+(R<<17&4294967295|R>>>15),R=I+(k^N&(C^k))+M[3]+3250441966&4294967295,I=N+(R<<22&4294967295|R>>>10),R=k+(C^I&(N^C))+M[4]+4118548399&4294967295,k=I+(R<<7&4294967295|R>>>25),R=C+(N^k&(I^N))+M[5]+1200080426&4294967295,C=k+(R<<12&4294967295|R>>>20),R=N+(I^C&(k^I))+M[6]+2821735955&4294967295,N=C+(R<<17&4294967295|R>>>15),R=I+(k^N&(C^k))+M[7]+4249261313&4294967295,I=N+(R<<22&4294967295|R>>>10),R=k+(C^I&(N^C))+M[8]+1770035416&4294967295,k=I+(R<<7&4294967295|R>>>25),R=C+(N^k&(I^N))+M[9]+2336552879&4294967295,C=k+(R<<12&4294967295|R>>>20),R=N+(I^C&(k^I))+M[10]+4294925233&4294967295,N=C+(R<<17&4294967295|R>>>15),R=I+(k^N&(C^k))+M[11]+2304563134&4294967295,I=N+(R<<22&4294967295|R>>>10),R=k+(C^I&(N^C))+M[12]+1804603682&4294967295,k=I+(R<<7&4294967295|R>>>25),R=C+(N^k&(I^N))+M[13]+4254626195&4294967295,C=k+(R<<12&4294967295|R>>>20),R=N+(I^C&(k^I))+M[14]+2792965006&4294967295,N=C+(R<<17&4294967295|R>>>15),R=I+(k^N&(C^k))+M[15]+1236535329&4294967295,I=N+(R<<22&4294967295|R>>>10),R=k+(N^C&(I^N))+M[1]+4129170786&4294967295,k=I+(R<<5&4294967295|R>>>27),R=C+(I^N&(k^I))+M[6]+3225465664&4294967295,C=k+(R<<9&4294967295|R>>>23),R=N+(k^I&(C^k))+M[11]+643717713&4294967295,N=C+(R<<14&4294967295|R>>>18),R=I+(C^k&(N^C))+M[0]+3921069994&4294967295,I=N+(R<<20&4294967295|R>>>12),R=k+(N^C&(I^N))+M[5]+3593408605&4294967295,k=I+(R<<5&4294967295|R>>>27),R=C+(I^N&(k^I))+M[10]+38016083&4294967295,C=k+(R<<9&4294967295|R>>>23),R=N+(k^I&(C^k))+M[15]+3634488961&4294967295,N=C+(R<<14&4294967295|R>>>18),R=I+(C^k&(N^C))+M[4]+3889429448&4294967295,I=N+(R<<20&4294967295|R>>>12),R=k+(N^C&(I^N))+M[9]+568446438&4294967295,k=I+(R<<5&4294967295|R>>>27),R=C+(I^N&(k^I))+M[14]+3275163606&4294967295,C=k+(R<<9&4294967295|R>>>23),R=N+(k^I&(C^k))+M[3]+4107603335&4294967295,N=C+(R<<14&4294967295|R>>>18),R=I+(C^k&(N^C))+M[8]+1163531501&4294967295,I=N+(R<<20&4294967295|R>>>12),R=k+(N^C&(I^N))+M[13]+2850285829&4294967295,k=I+(R<<5&4294967295|R>>>27),R=C+(I^N&(k^I))+M[2]+4243563512&4294967295,C=k+(R<<9&4294967295|R>>>23),R=N+(k^I&(C^k))+M[7]+1735328473&4294967295,N=C+(R<<14&4294967295|R>>>18),R=I+(C^k&(N^C))+M[12]+2368359562&4294967295,I=N+(R<<20&4294967295|R>>>12),R=k+(I^N^C)+M[5]+4294588738&4294967295,k=I+(R<<4&4294967295|R>>>28),R=C+(k^I^N)+M[8]+2272392833&4294967295,C=k+(R<<11&4294967295|R>>>21),R=N+(C^k^I)+M[11]+1839030562&4294967295,N=C+(R<<16&4294967295|R>>>16),R=I+(N^C^k)+M[14]+4259657740&4294967295,I=N+(R<<23&4294967295|R>>>9),R=k+(I^N^C)+M[1]+2763975236&4294967295,k=I+(R<<4&4294967295|R>>>28),R=C+(k^I^N)+M[4]+1272893353&4294967295,C=k+(R<<11&4294967295|R>>>21),R=N+(C^k^I)+M[7]+4139469664&4294967295,N=C+(R<<16&4294967295|R>>>16),R=I+(N^C^k)+M[10]+3200236656&4294967295,I=N+(R<<23&4294967295|R>>>9),R=k+(I^N^C)+M[13]+681279174&4294967295,k=I+(R<<4&4294967295|R>>>28),R=C+(k^I^N)+M[0]+3936430074&4294967295,C=k+(R<<11&4294967295|R>>>21),R=N+(C^k^I)+M[3]+3572445317&4294967295,N=C+(R<<16&4294967295|R>>>16),R=I+(N^C^k)+M[6]+76029189&4294967295,I=N+(R<<23&4294967295|R>>>9),R=k+(I^N^C)+M[9]+3654602809&4294967295,k=I+(R<<4&4294967295|R>>>28),R=C+(k^I^N)+M[12]+3873151461&4294967295,C=k+(R<<11&4294967295|R>>>21),R=N+(C^k^I)+M[15]+530742520&4294967295,N=C+(R<<16&4294967295|R>>>16),R=I+(N^C^k)+M[2]+3299628645&4294967295,I=N+(R<<23&4294967295|R>>>9),R=k+(N^(I|~C))+M[0]+4096336452&4294967295,k=I+(R<<6&4294967295|R>>>26),R=C+(I^(k|~N))+M[7]+1126891415&4294967295,C=k+(R<<10&4294967295|R>>>22),R=N+(k^(C|~I))+M[14]+2878612391&4294967295,N=C+(R<<15&4294967295|R>>>17),R=I+(C^(N|~k))+M[5]+4237533241&4294967295,I=N+(R<<21&4294967295|R>>>11),R=k+(N^(I|~C))+M[12]+1700485571&4294967295,k=I+(R<<6&4294967295|R>>>26),R=C+(I^(k|~N))+M[3]+2399980690&4294967295,C=k+(R<<10&4294967295|R>>>22),R=N+(k^(C|~I))+M[10]+4293915773&4294967295,N=C+(R<<15&4294967295|R>>>17),R=I+(C^(N|~k))+M[1]+2240044497&4294967295,I=N+(R<<21&4294967295|R>>>11),R=k+(N^(I|~C))+M[8]+1873313359&4294967295,k=I+(R<<6&4294967295|R>>>26),R=C+(I^(k|~N))+M[15]+4264355552&4294967295,C=k+(R<<10&4294967295|R>>>22),R=N+(k^(C|~I))+M[6]+2734768916&4294967295,N=C+(R<<15&4294967295|R>>>17),R=I+(C^(N|~k))+M[13]+1309151649&4294967295,I=N+(R<<21&4294967295|R>>>11),R=k+(N^(I|~C))+M[4]+4149444226&4294967295,k=I+(R<<6&4294967295|R>>>26),R=C+(I^(k|~N))+M[11]+3174756917&4294967295,C=k+(R<<10&4294967295|R>>>22),R=N+(k^(C|~I))+M[2]+718787259&4294967295,N=C+(R<<15&4294967295|R>>>17),R=I+(C^(N|~k))+M[9]+3951481745&4294967295,T.g[0]=T.g[0]+k&4294967295,T.g[1]=T.g[1]+(N+(R<<21&4294967295|R>>>11))&4294967295,T.g[2]=T.g[2]+N&4294967295,T.g[3]=T.g[3]+C&4294967295}r.prototype.u=function(T,k){k===void 0&&(k=T.length);for(var I=k-this.blockSize,M=this.B,N=this.h,C=0;C<k;){if(N==0)for(;C<=I;)i(this,T,C),C+=this.blockSize;if(typeof T=="string"){for(;C<k;)if(M[N++]=T.charCodeAt(C++),N==this.blockSize){i(this,M),N=0;break}}else for(;C<k;)if(M[N++]=T[C++],N==this.blockSize){i(this,M),N=0;break}}this.h=N,this.o+=k},r.prototype.v=function(){var T=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);T[0]=128;for(var k=1;k<T.length-8;++k)T[k]=0;var I=8*this.o;for(k=T.length-8;k<T.length;++k)T[k]=I&255,I/=256;for(this.u(T),T=Array(16),k=I=0;4>k;++k)for(var M=0;32>M;M+=8)T[I++]=this.g[k]>>>M&255;return T};function a(T,k){var I=o;return Object.prototype.hasOwnProperty.call(I,T)?I[T]:I[T]=k(T)}function s(T,k){this.h=k;for(var I=[],M=!0,N=T.length-1;0<=N;N--){var C=T[N]|0;M&&C==k||(I[N]=C,M=!1)}this.g=I}var o={};function l(T){return-128<=T&&128>T?a(T,function(k){return new s([k|0],0>k?-1:0)}):new s([T|0],0>T?-1:0)}function u(T){if(isNaN(T)||!isFinite(T))return d;if(0>T)return b(u(-T));for(var k=[],I=1,M=0;T>=I;M++)k[M]=T/I|0,I*=4294967296;return new s(k,0)}function c(T,k){if(T.length==0)throw Error("number format error: empty string");if(k=k||10,2>k||36<k)throw Error("radix out of range: "+k);if(T.charAt(0)=="-")return b(c(T.substring(1),k));if(0<=T.indexOf("-"))throw Error('number format error: interior "-" character');for(var I=u(Math.pow(k,8)),M=d,N=0;N<T.length;N+=8){var C=Math.min(8,T.length-N),R=parseInt(T.substring(N,N+C),k);8>C?(C=u(Math.pow(k,C)),M=M.j(C).add(u(R))):(M=M.j(I),M=M.add(u(R)))}return M}var d=l(0),p=l(1),f=l(16777216);e=s.prototype,e.m=function(){if(v(this))return-b(this).m();for(var T=0,k=1,I=0;I<this.g.length;I++){var M=this.i(I);T+=(0<=M?M:4294967296+M)*k,k*=4294967296}return T},e.toString=function(T){if(T=T||10,2>T||36<T)throw Error("radix out of range: "+T);if(g(this))return"0";if(v(this))return"-"+b(this).toString(T);for(var k=u(Math.pow(T,6)),I=this,M="";;){var N=P(I,k).g;I=x(I,N.j(k));var C=((0<I.g.length?I.g[0]:I.h)>>>0).toString(T);if(I=N,g(I))return C+M;for(;6>C.length;)C="0"+C;M=C+M}},e.i=function(T){return 0>T?0:T<this.g.length?this.g[T]:this.h};function g(T){if(T.h!=0)return!1;for(var k=0;k<T.g.length;k++)if(T.g[k]!=0)return!1;return!0}function v(T){return T.h==-1}e.l=function(T){return T=x(this,T),v(T)?-1:g(T)?0:1};function b(T){for(var k=T.g.length,I=[],M=0;M<k;M++)I[M]=~T.g[M];return new s(I,~T.h).add(p)}e.abs=function(){return v(this)?b(this):this},e.add=function(T){for(var k=Math.max(this.g.length,T.g.length),I=[],M=0,N=0;N<=k;N++){var C=M+(this.i(N)&65535)+(T.i(N)&65535),R=(C>>>16)+(this.i(N)>>>16)+(T.i(N)>>>16);M=R>>>16,C&=65535,R&=65535,I[N]=R<<16|C}return new s(I,I[I.length-1]&-2147483648?-1:0)};function x(T,k){return T.add(b(k))}e.j=function(T){if(g(this)||g(T))return d;if(v(this))return v(T)?b(this).j(b(T)):b(b(this).j(T));if(v(T))return b(this.j(b(T)));if(0>this.l(f)&&0>T.l(f))return u(this.m()*T.m());for(var k=this.g.length+T.g.length,I=[],M=0;M<2*k;M++)I[M]=0;for(M=0;M<this.g.length;M++)for(var N=0;N<T.g.length;N++){var C=this.i(M)>>>16,R=this.i(M)&65535,W=T.i(N)>>>16,Y=T.i(N)&65535;I[2*M+2*N]+=R*Y,w(I,2*M+2*N),I[2*M+2*N+1]+=C*Y,w(I,2*M+2*N+1),I[2*M+2*N+1]+=R*W,w(I,2*M+2*N+1),I[2*M+2*N+2]+=C*W,w(I,2*M+2*N+2)}for(M=0;M<k;M++)I[M]=I[2*M+1]<<16|I[2*M];for(M=k;M<2*k;M++)I[M]=0;return new s(I,0)};function w(T,k){for(;(T[k]&65535)!=T[k];)T[k+1]+=T[k]>>>16,T[k]&=65535,k++}function A(T,k){this.g=T,this.h=k}function P(T,k){if(g(k))throw Error("division by zero");if(g(T))return new A(d,d);if(v(T))return k=P(b(T),k),new A(b(k.g),b(k.h));if(v(k))return k=P(T,b(k)),new A(b(k.g),k.h);if(30<T.g.length){if(v(T)||v(k))throw Error("slowDivide_ only works with positive integers.");for(var I=p,M=k;0>=M.l(T);)I=O(I),M=O(M);var N=D(I,1),C=D(M,1);for(M=D(M,2),I=D(I,2);!g(M);){var R=C.add(M);0>=R.l(T)&&(N=N.add(I),C=R),M=D(M,1),I=D(I,1)}return k=x(T,N.j(k)),new A(N,k)}for(N=d;0<=T.l(k);){for(I=Math.max(1,Math.floor(T.m()/k.m())),M=Math.ceil(Math.log(I)/Math.LN2),M=48>=M?1:Math.pow(2,M-48),C=u(I),R=C.j(k);v(R)||0<R.l(T);)I-=M,C=u(I),R=C.j(k);g(C)&&(C=p),N=N.add(C),T=x(T,R)}return new A(N,T)}e.A=function(T){return P(this,T).h},e.and=function(T){for(var k=Math.max(this.g.length,T.g.length),I=[],M=0;M<k;M++)I[M]=this.i(M)&T.i(M);return new s(I,this.h&T.h)},e.or=function(T){for(var k=Math.max(this.g.length,T.g.length),I=[],M=0;M<k;M++)I[M]=this.i(M)|T.i(M);return new s(I,this.h|T.h)},e.xor=function(T){for(var k=Math.max(this.g.length,T.g.length),I=[],M=0;M<k;M++)I[M]=this.i(M)^T.i(M);return new s(I,this.h^T.h)};function O(T){for(var k=T.g.length+1,I=[],M=0;M<k;M++)I[M]=T.i(M)<<1|T.i(M-1)>>>31;return new s(I,T.h)}function D(T,k){var I=k>>5;k%=32;for(var M=T.g.length-I,N=[],C=0;C<M;C++)N[C]=0<k?T.i(C+I)>>>k|T.i(C+I+1)<<32-k:T.i(C+I);return new s(N,T.h)}r.prototype.digest=r.prototype.v,r.prototype.reset=r.prototype.s,r.prototype.update=r.prototype.u,DR=r,s.prototype.add=s.prototype.add,s.prototype.multiply=s.prototype.j,s.prototype.modulo=s.prototype.A,s.prototype.compare=s.prototype.l,s.prototype.toNumber=s.prototype.m,s.prototype.toString=s.prototype.toString,s.prototype.getBits=s.prototype.i,s.fromNumber=u,s.fromString=c,fd=s}).apply(typeof sk<"u"?sk:typeof self<"u"?self:typeof window<"u"?window:{});var Gg=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var FR,Up,BR,z1,f4,VR,zR,$R;(function(){var e,t=typeof Object.defineProperties=="function"?Object.defineProperty:function(y,L,B){return y==Array.prototype||y==Object.prototype||(y[L]=B.value),y};function n(y){y=[typeof globalThis=="object"&&globalThis,y,typeof window=="object"&&window,typeof self=="object"&&self,typeof Gg=="object"&&Gg];for(var L=0;L<y.length;++L){var B=y[L];if(B&&B.Math==Math)return B}throw Error("Cannot find global object")}var r=n(this);function i(y,L){if(L)e:{var B=r;y=y.split(".");for(var G=0;G<y.length-1;G++){var xe=y[G];if(!(xe in B))break e;B=B[xe]}y=y[y.length-1],G=B[y],L=L(G),L!=G&&L!=null&&t(B,y,{configurable:!0,writable:!0,value:L})}}function a(y,L){y instanceof String&&(y+="");var B=0,G=!1,xe={next:function(){if(!G&&B<y.length){var Pe=B++;return{value:L(Pe,y[Pe]),done:!1}}return G=!0,{done:!0,value:void 0}}};return xe[Symbol.iterator]=function(){return xe},xe}i("Array.prototype.values",function(y){return y||function(){return a(this,function(L,B){return B})}});/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/var s=s||{},o=this||self;function l(y){var L=typeof y;return L=L!="object"?L:y?Array.isArray(y)?"array":L:"null",L=="array"||L=="object"&&typeof y.length=="number"}function u(y){var L=typeof y;return L=="object"&&y!=null||L=="function"}function c(y,L,B){return y.call.apply(y.bind,arguments)}function d(y,L,B){if(!y)throw Error();if(2<arguments.length){var G=Array.prototype.slice.call(arguments,2);return function(){var xe=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(xe,G),y.apply(L,xe)}}return function(){return y.apply(L,arguments)}}function p(y,L,B){return p=Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?c:d,p.apply(null,arguments)}function f(y,L){var B=Array.prototype.slice.call(arguments,1);return function(){var G=B.slice();return G.push.apply(G,arguments),y.apply(this,G)}}function g(y,L){function B(){}B.prototype=L.prototype,y.aa=L.prototype,y.prototype=new B,y.prototype.constructor=y,y.Qb=function(G,xe,Pe){for(var Be=Array(arguments.length-2),Ut=2;Ut<arguments.length;Ut++)Be[Ut-2]=arguments[Ut];return L.prototype[xe].apply(G,Be)}}function v(y){const L=y.length;if(0<L){const B=Array(L);for(let G=0;G<L;G++)B[G]=y[G];return B}return[]}function b(y,L){for(let B=1;B<arguments.length;B++){const G=arguments[B];if(l(G)){const xe=y.length||0,Pe=G.length||0;y.length=xe+Pe;for(let Be=0;Be<Pe;Be++)y[xe+Be]=G[Be]}else y.push(G)}}class x{constructor(L,B){this.i=L,this.j=B,this.h=0,this.g=null}get(){let L;return 0<this.h?(this.h--,L=this.g,this.g=L.next,L.next=null):L=this.i(),L}}function w(y){return/^[\s\xa0]*$/.test(y)}function A(){var y=o.navigator;return y&&(y=y.userAgent)?y:""}function P(y){return P[" "](y),y}P[" "]=function(){};var O=A().indexOf("Gecko")!=-1&&!(A().toLowerCase().indexOf("webkit")!=-1&&A().indexOf("Edge")==-1)&&!(A().indexOf("Trident")!=-1||A().indexOf("MSIE")!=-1)&&A().indexOf("Edge")==-1;function D(y,L,B){for(const G in y)L.call(B,y[G],G,y)}function T(y,L){for(const B in y)L.call(void 0,y[B],B,y)}function k(y){const L={};for(const B in y)L[B]=y[B];return L}const I="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function M(y,L){let B,G;for(let xe=1;xe<arguments.length;xe++){G=arguments[xe];for(B in G)y[B]=G[B];for(let Pe=0;Pe<I.length;Pe++)B=I[Pe],Object.prototype.hasOwnProperty.call(G,B)&&(y[B]=G[B])}}function N(y){var L=1;y=y.split(":");const B=[];for(;0<L&&y.length;)B.push(y.shift()),L--;return y.length&&B.push(y.join(":")),B}function C(y){o.setTimeout(()=>{throw y},0)}function R(){var y=se;let L=null;return y.g&&(L=y.g,y.g=y.g.next,y.g||(y.h=null),L.next=null),L}class W{constructor(){this.h=this.g=null}add(L,B){const G=Y.get();G.set(L,B),this.h?this.h.next=G:this.g=G,this.h=G}}var Y=new x(()=>new ae,y=>y.reset());class ae{constructor(){this.next=this.g=this.h=null}set(L,B){this.h=L,this.g=B,this.next=null}reset(){this.next=this.g=this.h=null}}let ie,H=!1,se=new W,ye=()=>{const y=o.Promise.resolve(void 0);ie=()=>{y.then(be)}};var be=()=>{for(var y;y=R();){try{y.h.call(y.g)}catch(B){C(B)}var L=Y;L.j(y),100>L.h&&(L.h++,y.next=L.g,L.g=y)}H=!1};function $(){this.s=this.s,this.C=this.C}$.prototype.s=!1,$.prototype.ma=function(){this.s||(this.s=!0,this.N())},$.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function X(y,L){this.type=y,this.g=this.target=L,this.defaultPrevented=!1}X.prototype.h=function(){this.defaultPrevented=!0};var re=function(){if(!o.addEventListener||!Object.defineProperty)return!1;var y=!1,L=Object.defineProperty({},"passive",{get:function(){y=!0}});try{const B=()=>{};o.addEventListener("test",B,L),o.removeEventListener("test",B,L)}catch{}return y}();function oe(y,L){if(X.call(this,y?y.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,y){var B=this.type=y.type,G=y.changedTouches&&y.changedTouches.length?y.changedTouches[0]:null;if(this.target=y.target||y.srcElement,this.g=L,L=y.relatedTarget){if(O){e:{try{P(L.nodeName);var xe=!0;break e}catch{}xe=!1}xe||(L=null)}}else B=="mouseover"?L=y.fromElement:B=="mouseout"&&(L=y.toElement);this.relatedTarget=L,G?(this.clientX=G.clientX!==void 0?G.clientX:G.pageX,this.clientY=G.clientY!==void 0?G.clientY:G.pageY,this.screenX=G.screenX||0,this.screenY=G.screenY||0):(this.clientX=y.clientX!==void 0?y.clientX:y.pageX,this.clientY=y.clientY!==void 0?y.clientY:y.pageY,this.screenX=y.screenX||0,this.screenY=y.screenY||0),this.button=y.button,this.key=y.key||"",this.ctrlKey=y.ctrlKey,this.altKey=y.altKey,this.shiftKey=y.shiftKey,this.metaKey=y.metaKey,this.pointerId=y.pointerId||0,this.pointerType=typeof y.pointerType=="string"?y.pointerType:de[y.pointerType]||"",this.state=y.state,this.i=y,y.defaultPrevented&&oe.aa.h.call(this)}}g(oe,X);var de={2:"touch",3:"pen",4:"mouse"};oe.prototype.h=function(){oe.aa.h.call(this);var y=this.i;y.preventDefault?y.preventDefault():y.returnValue=!1};var ge="closure_listenable_"+(1e6*Math.random()|0),ce=0;function J(y,L,B,G,xe){this.listener=y,this.proxy=null,this.src=L,this.type=B,this.capture=!!G,this.ha=xe,this.key=++ce,this.da=this.fa=!1}function pe(y){y.da=!0,y.listener=null,y.proxy=null,y.src=null,y.ha=null}function Ee(y){this.src=y,this.g={},this.h=0}Ee.prototype.add=function(y,L,B,G,xe){var Pe=y.toString();y=this.g[Pe],y||(y=this.g[Pe]=[],this.h++);var Be=Ne(y,L,G,xe);return-1<Be?(L=y[Be],B||(L.fa=!1)):(L=new J(L,this.src,Pe,!!G,xe),L.fa=B,y.push(L)),L};function le(y,L){var B=L.type;if(B in y.g){var G=y.g[B],xe=Array.prototype.indexOf.call(G,L,void 0),Pe;(Pe=0<=xe)&&Array.prototype.splice.call(G,xe,1),Pe&&(pe(L),y.g[B].length==0&&(delete y.g[B],y.h--))}}function Ne(y,L,B,G){for(var xe=0;xe<y.length;++xe){var Pe=y[xe];if(!Pe.da&&Pe.listener==L&&Pe.capture==!!B&&Pe.ha==G)return xe}return-1}var fe="closure_lm_"+(1e6*Math.random()|0),Z={};function Ve(y,L,B,G,xe){if(Array.isArray(L)){for(var Pe=0;Pe<L.length;Pe++)Ve(y,L[Pe],B,G,xe);return null}return B=St(B),y&&y[ge]?y.K(L,B,u(G)?!!G.capture:!1,xe):Xe(y,L,B,!1,G,xe)}function Xe(y,L,B,G,xe,Pe){if(!L)throw Error("Invalid event type");var Be=u(xe)?!!xe.capture:!!xe,Ut=st(y);if(Ut||(y[fe]=Ut=new Ee(y)),B=Ut.add(L,B,G,Be,Pe),B.proxy)return B;if(G=Ue(),B.proxy=G,G.src=y,G.listener=B,y.addEventListener)re||(xe=Be),xe===void 0&&(xe=!1),y.addEventListener(L.toString(),G,xe);else if(y.attachEvent)y.attachEvent($e(L.toString()),G);else if(y.addListener&&y.removeListener)y.addListener(G);else throw Error("addEventListener and attachEvent are unavailable.");return B}function Ue(){function y(B){return L.call(y.src,y.listener,B)}const L=Nt;return y}function Oe(y,L,B,G,xe){if(Array.isArray(L))for(var Pe=0;Pe<L.length;Pe++)Oe(y,L[Pe],B,G,xe);else G=u(G)?!!G.capture:!!G,B=St(B),y&&y[ge]?(y=y.i,L=String(L).toString(),L in y.g&&(Pe=y.g[L],B=Ne(Pe,B,G,xe),-1<B&&(pe(Pe[B]),Array.prototype.splice.call(Pe,B,1),Pe.length==0&&(delete y.g[L],y.h--)))):y&&(y=st(y))&&(L=y.g[L.toString()],y=-1,L&&(y=Ne(L,B,G,xe)),(B=-1<y?L[y]:null)&&We(B))}function We(y){if(typeof y!="number"&&y&&!y.da){var L=y.src;if(L&&L[ge])le(L.i,y);else{var B=y.type,G=y.proxy;L.removeEventListener?L.removeEventListener(B,G,y.capture):L.detachEvent?L.detachEvent($e(B),G):L.addListener&&L.removeListener&&L.removeListener(G),(B=st(L))?(le(B,y),B.h==0&&(B.src=null,L[fe]=null)):pe(y)}}}function $e(y){return y in Z?Z[y]:Z[y]="on"+y}function Nt(y,L){if(y.da)y=!0;else{L=new oe(L,this);var B=y.listener,G=y.ha||y.src;y.fa&&We(y),y=B.call(G,L)}return y}function st(y){return y=y[fe],y instanceof Ee?y:null}var $t="__closure_events_fn_"+(1e9*Math.random()>>>0);function St(y){return typeof y=="function"?y:(y[$t]||(y[$t]=function(L){return y.handleEvent(L)}),y[$t])}function it(){$.call(this),this.i=new Ee(this),this.M=this,this.F=null}g(it,$),it.prototype[ge]=!0,it.prototype.removeEventListener=function(y,L,B,G){Oe(this,y,L,B,G)};function kt(y,L){var B,G=y.F;if(G)for(B=[];G;G=G.F)B.push(G);if(y=y.M,G=L.type||L,typeof L=="string")L=new X(L,y);else if(L instanceof X)L.target=L.target||y;else{var xe=L;L=new X(G,y),M(L,xe)}if(xe=!0,B)for(var Pe=B.length-1;0<=Pe;Pe--){var Be=L.g=B[Pe];xe=xt(Be,G,!0,L)&&xe}if(Be=L.g=y,xe=xt(Be,G,!0,L)&&xe,xe=xt(Be,G,!1,L)&&xe,B)for(Pe=0;Pe<B.length;Pe++)Be=L.g=B[Pe],xe=xt(Be,G,!1,L)&&xe}it.prototype.N=function(){if(it.aa.N.call(this),this.i){var y=this.i,L;for(L in y.g){for(var B=y.g[L],G=0;G<B.length;G++)pe(B[G]);delete y.g[L],y.h--}}this.F=null},it.prototype.K=function(y,L,B,G){return this.i.add(String(y),L,!1,B,G)},it.prototype.L=function(y,L,B,G){return this.i.add(String(y),L,!0,B,G)};function xt(y,L,B,G){if(L=y.i.g[String(L)],!L)return!0;L=L.concat();for(var xe=!0,Pe=0;Pe<L.length;++Pe){var Be=L[Pe];if(Be&&!Be.da&&Be.capture==B){var Ut=Be.listener,Zn=Be.ha||Be.src;Be.fa&&le(y.i,Be),xe=Ut.call(Zn,G)!==!1&&xe}}return xe&&!G.defaultPrevented}function ot(y,L,B){if(typeof y=="function")B&&(y=p(y,B));else if(y&&typeof y.handleEvent=="function")y=p(y.handleEvent,y);else throw Error("Invalid listener argument");return 2147483647<Number(L)?-1:o.setTimeout(y,L||0)}function mt(y){y.g=ot(()=>{y.g=null,y.i&&(y.i=!1,mt(y))},y.l);const L=y.h;y.h=null,y.m.apply(null,L)}class ct extends ${constructor(L,B){super(),this.m=L,this.l=B,this.h=null,this.i=!1,this.g=null}j(L){this.h=arguments,this.g?this.i=!0:mt(this)}N(){super.N(),this.g&&(o.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function Zt(y){$.call(this),this.h=y,this.g={}}g(Zt,$);var qt=[];function tt(y){D(y.g,function(L,B){this.g.hasOwnProperty(B)&&We(L)},y),y.g={}}Zt.prototype.N=function(){Zt.aa.N.call(this),tt(this)},Zt.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var bt=o.JSON.stringify,ln=o.JSON.parse,ht=class{stringify(y){return o.JSON.stringify(y,void 0)}parse(y){return o.JSON.parse(y,void 0)}};function Lt(){}Lt.prototype.h=null;function At(y){return y.h||(y.h=y.i())}function Vn(){}var In={OPEN:"a",kb:"b",Ja:"c",wb:"d"};function nn(){X.call(this,"d")}g(nn,X);function gt(){X.call(this,"c")}g(gt,X);var Mt={},yo=null;function vr(){return yo=yo||new it}Mt.La="serverreachability";function ss(y){X.call(this,Mt.La,y)}g(ss,X);function Ti(y){const L=vr();kt(L,new ss(L))}Mt.STAT_EVENT="statevent";function ft(y,L){X.call(this,Mt.STAT_EVENT,y),this.stat=L}g(ft,X);function On(y){const L=vr();kt(L,new ft(L,y))}Mt.Ma="timingevent";function os(y,L){X.call(this,Mt.Ma,y),this.size=L}g(os,X);function Zr(y,L){if(typeof y!="function")throw Error("Fn must not be null and must be a function");return o.setTimeout(function(){y()},L)}function Jr(){this.g=!0}Jr.prototype.xa=function(){this.g=!1};function zn(y,L,B,G,xe,Pe){y.info(function(){if(y.g)if(Pe)for(var Be="",Ut=Pe.split("&"),Zn=0;Zn<Ut.length;Zn++){var Dt=Ut[Zn].split("=");if(1<Dt.length){var Rt=Dt[0];Dt=Dt[1];var En=Rt.split("_");Be=2<=En.length&&En[1]=="type"?Be+(Rt+"="+Dt+"&"):Be+(Rt+"=redacted&")}}else Be=null;else Be=Pe;return"XMLHTTP REQ ("+G+") [attempt "+xe+"]: "+L+`
`+B+`
`+Be})}function jr(y,L,B,G,xe,Pe,Be){y.info(function(){return"XMLHTTP RESP ("+G+") [ attempt "+xe+"]: "+L+`
`+B+`
`+Pe+" "+Be})}function $n(y,L,B,G){y.info(function(){return"XMLHTTP TEXT ("+L+"): "+xo(y,B)+(G?" "+G:"")})}function tl(y,L){y.info(function(){return"TIMEOUT: "+L})}Jr.prototype.info=function(){};function xo(y,L){if(!y.g)return L;if(!L)return null;try{var B=JSON.parse(L);if(B){for(y=0;y<B.length;y++)if(Array.isArray(B[y])){var G=B[y];if(!(2>G.length)){var xe=G[1];if(Array.isArray(xe)&&!(1>xe.length)){var Pe=xe[0];if(Pe!="noop"&&Pe!="stop"&&Pe!="close")for(var Be=1;Be<xe.length;Be++)xe[Be]=""}}}}return bt(B)}catch{return L}}var Ci={NO_ERROR:0,gb:1,tb:2,sb:3,nb:4,rb:5,ub:6,Ia:7,TIMEOUT:8,xb:9},Ia={lb:"complete",Hb:"success",Ja:"error",Ia:"abort",zb:"ready",Ab:"readystatechange",TIMEOUT:"timeout",vb:"incrementaldata",yb:"progress",ob:"downloadprogress",Pb:"uploadprogress"},Qi;function ji(){}g(ji,Lt),ji.prototype.g=function(){return new XMLHttpRequest},ji.prototype.i=function(){return{}},Qi=new ji;function yr(y,L,B,G){this.j=y,this.i=L,this.l=B,this.R=G||1,this.U=new Zt(this),this.I=45e3,this.H=null,this.o=!1,this.m=this.A=this.v=this.L=this.F=this.S=this.B=null,this.D=[],this.g=null,this.C=0,this.s=this.u=null,this.X=-1,this.J=!1,this.O=0,this.M=null,this.W=this.K=this.T=this.P=!1,this.h=new bo}function bo(){this.i=null,this.g="",this.h=!1}var Oa={},Ms={};function wo(y,L,B){y.L=1,y.v=al(Zi(L)),y.m=B,y.P=!0,nl(y,null)}function nl(y,L){y.F=Date.now(),_o(y),y.A=Zi(y.v);var B=y.A,G=y.R;Array.isArray(G)||(G=[String(G)]),vt(B.i,"t",G),y.C=0,B=y.j.J,y.h=new bo,y.g=sr(y.j,B?L:null,!y.m),0<y.O&&(y.M=new ct(p(y.Y,y,y.g),y.O)),L=y.U,B=y.g,G=y.ca;var xe="readystatechange";Array.isArray(xe)||(xe&&(qt[0]=xe.toString()),xe=qt);for(var Pe=0;Pe<xe.length;Pe++){var Be=Ve(B,xe[Pe],G||L.handleEvent,!1,L.h||L);if(!Be)break;L.g[Be.key]=Be}L=y.H?k(y.H):{},y.m?(y.u||(y.u="POST"),L["Content-Type"]="application/x-www-form-urlencoded",y.g.ea(y.A,y.u,y.m,L)):(y.u="GET",y.g.ea(y.A,y.u,null,L)),Ti(),zn(y.i,y.u,y.A,y.l,y.R,y.m)}yr.prototype.ca=function(y){y=y.target;const L=this.M;L&&va(y)==3?L.j():this.Y(y)},yr.prototype.Y=function(y){try{if(y==this.g)e:{const En=va(this.g);var L=this.g.Ba();const Da=this.g.Z();if(!(3>En)&&(En!=3||this.g&&(this.h.h||this.g.oa()||Rc(this.g)))){this.J||En!=4||L==7||(L==8||0>=Da?Ti(3):Ti(2)),ru(this);var B=this.g.Z();this.X=B;t:if(rl(this)){var G=Rc(this.g);y="";var xe=G.length,Pe=va(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){La(this),ei(this);var Be="";break t}this.h.i=new o.TextDecoder}for(L=0;L<xe;L++)this.h.h=!0,y+=this.h.i.decode(G[L],{stream:!(Pe&&L==xe-1)});G.length=0,this.h.g+=y,this.C=0,Be=this.h.g}else Be=this.g.oa();if(this.o=B==200,jr(this.i,this.u,this.A,this.l,this.R,En,B),this.o){if(this.T&&!this.K){t:{if(this.g){var Ut,Zn=this.g;if((Ut=Zn.g?Zn.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!w(Ut)){var Dt=Ut;break t}}Dt=null}if(B=Dt)$n(this.i,this.l,B,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,iu(this,B);else{this.o=!1,this.s=3,On(12),La(this),ei(this);break e}}if(this.P){B=!0;let Ii;for(;!this.J&&this.C<Be.length;)if(Ii=Yh(this,Be),Ii==Ms){En==4&&(this.s=4,On(14),B=!1),$n(this.i,this.l,null,"[Incomplete Response]");break}else if(Ii==Oa){this.s=4,On(15),$n(this.i,this.l,Be,"[Invalid Chunk]"),B=!1;break}else $n(this.i,this.l,Ii,null),iu(this,Ii);if(rl(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),En!=4||Be.length!=0||this.h.h||(this.s=1,On(16),B=!1),this.o=this.o&&B,!B)$n(this.i,this.l,Be,"[Invalid Chunked Response]"),La(this),ei(this);else if(0<Be.length&&!this.W){this.W=!0;var Rt=this.j;Rt.g==this&&Rt.ba&&!Rt.M&&(Rt.j.info("Great, no buffering proxy detected. Bytes received: "+Be.length),He(Rt),Rt.M=!0,On(11))}}else $n(this.i,this.l,Be,null),iu(this,Be);En==4&&La(this),this.o&&!this.J&&(En==4?wt(this.j,this):(this.o=!1,_o(this)))}else Vs(this.g),B==400&&0<Be.indexOf("Unknown SID")?(this.s=3,On(12)):(this.s=0,On(13)),La(this),ei(this)}}}catch{}finally{}};function rl(y){return y.g?y.u=="GET"&&y.L!=2&&y.j.Ca:!1}function Yh(y,L){var B=y.C,G=L.indexOf(`
`,B);return G==-1?Ms:(B=Number(L.substring(B,G)),isNaN(B)?Oa:(G+=1,G+B>L.length?Ms:(L=L.slice(G,G+B),y.C=G+B,L)))}yr.prototype.cancel=function(){this.J=!0,La(this)};function _o(y){y.S=Date.now()+y.I,Ac(y,y.I)}function Ac(y,L){if(y.B!=null)throw Error("WatchDog timer not null");y.B=Zr(p(y.ba,y),L)}function ru(y){y.B&&(o.clearTimeout(y.B),y.B=null)}yr.prototype.ba=function(){this.B=null;const y=Date.now();0<=y-this.S?(tl(this.i,this.A),this.L!=2&&(Ti(),On(17)),La(this),this.s=2,ei(this)):Ac(this,this.S-y)};function ei(y){y.j.G==0||y.J||wt(y.j,y)}function La(y){ru(y);var L=y.M;L&&typeof L.ma=="function"&&L.ma(),y.M=null,tt(y.U),y.g&&(L=y.g,y.g=null,L.abort(),L.ma())}function iu(y,L){try{var B=y.j;if(B.G!=0&&(B.g==y||So(B.h,y))){if(!y.K&&So(B.h,y)&&B.G==3){try{var G=B.Da.g.parse(L)}catch{G=null}if(Array.isArray(G)&&G.length==3){var xe=G;if(xe[0]==0){e:if(!B.u){if(B.g)if(B.g.F+3e3<y.F)pt(B),cs(B);else break e;Le(B),On(18)}}else B.za=xe[1],0<B.za-B.T&&37500>xe[2]&&B.F&&B.v==0&&!B.C&&(B.C=Zr(p(B.Za,B),6e3));if(1>=kc(B.h)&&B.ca){try{B.ca()}catch{}B.ca=void 0}}else rn(B,11)}else if((y.K||B.g==y)&&pt(B),!w(L))for(xe=B.Da.g.parse(L),L=0;L<xe.length;L++){let Dt=xe[L];if(B.T=Dt[0],Dt=Dt[1],B.G==2)if(Dt[0]=="c"){B.K=Dt[1],B.ia=Dt[2];const Rt=Dt[3];Rt!=null&&(B.la=Rt,B.j.info("VER="+B.la));const En=Dt[4];En!=null&&(B.Aa=En,B.j.info("SVER="+B.Aa));const Da=Dt[5];Da!=null&&typeof Da=="number"&&0<Da&&(G=1.5*Da,B.L=G,B.j.info("backChannelRequestTimeoutMs_="+G)),G=B;const Ii=y.g;if(Ii){const pi=Ii.g?Ii.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(pi){var Pe=G.h;Pe.g||pi.indexOf("spdy")==-1&&pi.indexOf("quic")==-1&&pi.indexOf("h2")==-1||(Pe.j=Pe.l,Pe.g=new Set,Pe.h&&(Tc(Pe,Pe.h),Pe.h=null))}if(G.D){const zs=Ii.g?Ii.g.getResponseHeader("X-HTTP-Session-Id"):null;zs&&(G.ya=zs,Vt(G.I,G.D,zs))}}B.G=3,B.l&&B.l.ua(),B.ba&&(B.R=Date.now()-y.F,B.j.info("Handshake RTT: "+B.R+"ms")),G=B;var Be=y;if(G.qa=cn(G,G.J?G.ia:null,G.W),Be.K){Yn(G.h,Be);var Ut=Be,Zn=G.L;Zn&&(Ut.I=Zn),Ut.B&&(ru(Ut),_o(Ut)),G.g=Be}else Te(G);0<B.i.length&&E(B)}else Dt[0]!="stop"&&Dt[0]!="close"||rn(B,7);else B.G==3&&(Dt[0]=="stop"||Dt[0]=="close"?Dt[0]=="stop"?rn(B,7):du(B):Dt[0]!="noop"&&B.l&&B.l.ta(Dt),B.v=0)}}Ti(4)}catch{}}var Pc=class{constructor(y,L){this.g=y,this.map=L}};function Ec(y){this.l=y||10,o.PerformanceNavigationTiming?(y=o.performance.getEntriesByType("navigation"),y=0<y.length&&(y[0].nextHopProtocol=="hq"||y[0].nextHopProtocol=="h2")):y=!!(o.chrome&&o.chrome.loadTimes&&o.chrome.loadTimes()&&o.chrome.loadTimes().wasFetchedViaSpdy),this.j=y?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}function Nc(y){return y.h?!0:y.g?y.g.size>=y.j:!1}function kc(y){return y.h?1:y.g?y.g.size:0}function So(y,L){return y.h?y.h==L:y.g?y.g.has(L):!1}function Tc(y,L){y.g?y.g.add(L):y.h=L}function Yn(y,L){y.h&&y.h==L?y.h=null:y.g&&y.g.has(L)&&y.g.delete(L)}Ec.prototype.cancel=function(){if(this.i=Cc(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const y of this.g.values())y.cancel();this.g.clear()}};function Cc(y){if(y.h!=null)return y.i.concat(y.h.D);if(y.g!=null&&y.g.size!==0){let L=y.i;for(const B of y.g.values())L=L.concat(B.D);return L}return v(y.i)}function Xd(y){if(y.V&&typeof y.V=="function")return y.V();if(typeof Map<"u"&&y instanceof Map||typeof Set<"u"&&y instanceof Set)return Array.from(y.values());if(typeof y=="string")return y.split("");if(l(y)){for(var L=[],B=y.length,G=0;G<B;G++)L.push(y[G]);return L}L=[],B=0;for(G in y)L[B++]=y[G];return L}function Ds(y){if(y.na&&typeof y.na=="function")return y.na();if(!y.V||typeof y.V!="function"){if(typeof Map<"u"&&y instanceof Map)return Array.from(y.keys());if(!(typeof Set<"u"&&y instanceof Set)){if(l(y)||typeof y=="string"){var L=[];y=y.length;for(var B=0;B<y;B++)L.push(B);return L}L=[],B=0;for(const G in y)L[B++]=G;return L}}}function Ao(y,L){if(y.forEach&&typeof y.forEach=="function")y.forEach(L,void 0);else if(l(y)||typeof y=="string")Array.prototype.forEach.call(y,L,void 0);else for(var B=Ds(y),G=Xd(y),xe=G.length,Pe=0;Pe<xe;Pe++)L.call(void 0,G[Pe],B&&B[Pe],y)}var pa=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function il(y,L){if(y){y=y.split("&");for(var B=0;B<y.length;B++){var G=y[B].indexOf("="),xe=null;if(0<=G){var Pe=y[B].substring(0,G);xe=y[B].substring(G+1)}else Pe=y[B];L(Pe,xe?decodeURIComponent(xe.replace(/\+/g," ")):"")}}}function un(y){if(this.g=this.o=this.j="",this.s=null,this.m=this.l="",this.h=!1,y instanceof un){this.h=y.h,au(this,y.j),this.o=y.o,this.g=y.g,su(this,y.s),this.l=y.l;var L=y.i,B=new ga;B.i=L.i,L.g&&(B.g=new Map(L.g),B.h=L.h),Qd(this,B),this.m=y.m}else y&&(L=String(y).match(pa))?(this.h=!1,au(this,L[1]||"",!0),this.o=Po(L[2]||""),this.g=Po(L[3]||"",!0),su(this,L[4]),this.l=Po(L[5]||"",!0),Qd(this,L[6]||"",!0),this.m=Po(L[7]||"")):(this.h=!1,this.i=new ga(null,this.h))}un.prototype.toString=function(){var y=[],L=this.j;L&&y.push(ma(L,Zd,!0),":");var B=this.g;return(B||L=="file")&&(y.push("//"),(L=this.o)&&y.push(ma(L,Zd,!0),"@"),y.push(encodeURIComponent(String(B)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),B=this.s,B!=null&&y.push(":",String(B))),(B=this.l)&&(this.g&&B.charAt(0)!="/"&&y.push("/"),y.push(ma(B,B.charAt(0)=="/"?Qh:Xh,!0))),(B=this.i.toString())&&y.push("?",B),(B=this.m)&&y.push("#",ma(B,sl)),y.join("")};function Zi(y){return new un(y)}function au(y,L,B){y.j=B?Po(L,!0):L,y.j&&(y.j=y.j.replace(/:$/,""))}function su(y,L){if(L){if(L=Number(L),isNaN(L)||0>L)throw Error("Bad port number "+L);y.s=L}else y.s=null}function Qd(y,L,B){L instanceof ga?(y.i=L,Zh(y.i,y.h)):(B||(L=ma(L,Ic)),y.i=new ga(L,y.h))}function Vt(y,L,B){y.i.set(L,B)}function al(y){return Vt(y,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),y}function Po(y,L){return y?L?decodeURI(y.replace(/%25/g,"%2525")):decodeURIComponent(y):""}function ma(y,L,B){return typeof y=="string"?(y=encodeURI(y).replace(L,jc),B&&(y=y.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),y):null}function jc(y){return y=y.charCodeAt(0),"%"+(y>>4&15).toString(16)+(y&15).toString(16)}var Zd=/[#\/\?@]/g,Xh=/[#\?:]/g,Qh=/[#\?]/g,Ic=/[#\?@]/g,sl=/#/g;function ga(y,L){this.h=this.g=null,this.i=y||null,this.j=!!L}function ls(y){y.g||(y.g=new Map,y.h=0,y.i&&il(y.i,function(L,B){y.add(decodeURIComponent(L.replace(/\+/g," ")),B)}))}e=ga.prototype,e.add=function(y,L){ls(this),this.i=null,y=No(this,y);var B=this.g.get(y);return B||this.g.set(y,B=[]),B.push(L),this.h+=1,this};function Eo(y,L){ls(y),L=No(y,L),y.g.has(L)&&(y.i=null,y.h-=y.g.get(L).length,y.g.delete(L))}function ou(y,L){return ls(y),L=No(y,L),y.g.has(L)}e.forEach=function(y,L){ls(this),this.g.forEach(function(B,G){B.forEach(function(xe){y.call(L,xe,G,this)},this)},this)},e.na=function(){ls(this);const y=Array.from(this.g.values()),L=Array.from(this.g.keys()),B=[];for(let G=0;G<L.length;G++){const xe=y[G];for(let Pe=0;Pe<xe.length;Pe++)B.push(L[G])}return B},e.V=function(y){ls(this);let L=[];if(typeof y=="string")ou(this,y)&&(L=L.concat(this.g.get(No(this,y))));else{y=Array.from(this.g.values());for(let B=0;B<y.length;B++)L=L.concat(y[B])}return L},e.set=function(y,L){return ls(this),this.i=null,y=No(this,y),ou(this,y)&&(this.h-=this.g.get(y).length),this.g.set(y,[L]),this.h+=1,this},e.get=function(y,L){return y?(y=this.V(y),0<y.length?String(y[0]):L):L};function vt(y,L,B){Eo(y,L),0<B.length&&(y.i=null,y.g.set(No(y,L),v(B)),y.h+=B.length)}e.toString=function(){if(this.i)return this.i;if(!this.g)return"";const y=[],L=Array.from(this.g.keys());for(var B=0;B<L.length;B++){var G=L[B];const Pe=encodeURIComponent(String(G)),Be=this.V(G);for(G=0;G<Be.length;G++){var xe=Pe;Be[G]!==""&&(xe+="="+encodeURIComponent(String(Be[G]))),y.push(xe)}}return this.i=y.join("&")};function No(y,L){return L=String(L),y.j&&(L=L.toLowerCase()),L}function Zh(y,L){L&&!y.j&&(ls(y),y.i=null,y.g.forEach(function(B,G){var xe=G.toLowerCase();G!=xe&&(Eo(this,G),vt(this,xe,B))},y)),y.j=L}function Jh(y,L){const B=new Jr;if(o.Image){const G=new Image;G.onload=f(ti,B,"TestLoadImage: loaded",!0,L,G),G.onerror=f(ti,B,"TestLoadImage: error",!1,L,G),G.onabort=f(ti,B,"TestLoadImage: abort",!1,L,G),G.ontimeout=f(ti,B,"TestLoadImage: timeout",!1,L,G),o.setTimeout(function(){G.ontimeout&&G.ontimeout()},1e4),G.src=y}else L(!1)}function ep(y,L){const B=new Jr,G=new AbortController,xe=setTimeout(()=>{G.abort(),ti(B,"TestPingServer: timeout",!1,L)},1e4);fetch(y,{signal:G.signal}).then(Pe=>{clearTimeout(xe),Pe.ok?ti(B,"TestPingServer: ok",!0,L):ti(B,"TestPingServer: server error",!1,L)}).catch(()=>{clearTimeout(xe),ti(B,"TestPingServer: error",!1,L)})}function ti(y,L,B,G,xe){try{xe&&(xe.onload=null,xe.onerror=null,xe.onabort=null,xe.ontimeout=null),G(B)}catch{}}function Fs(){this.g=new ht}function tp(y,L,B){const G=B||"";try{Ao(y,function(xe,Pe){let Be=xe;u(xe)&&(Be=bt(xe)),L.push(G+Pe+"="+encodeURIComponent(Be))})}catch(xe){throw L.push(G+"type="+encodeURIComponent("_badmap")),xe}}function lu(y){this.l=y.Ub||null,this.j=y.eb||!1}g(lu,Lt),lu.prototype.g=function(){return new Bs(this.l,this.j)},lu.prototype.i=function(y){return function(){return y}}({});function Bs(y,L){it.call(this),this.D=y,this.o=L,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.u=new Headers,this.h=null,this.B="GET",this.A="",this.g=!1,this.v=this.j=this.l=null}g(Bs,it),e=Bs.prototype,e.open=function(y,L){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.B=y,this.A=L,this.readyState=1,us(this)},e.send=function(y){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;const L={headers:this.u,method:this.B,credentials:this.m,cache:void 0};y&&(L.body=y),(this.D||o).fetch(new Request(this.A,L)).then(this.Sa.bind(this),this.ga.bind(this))},e.abort=function(){this.response=this.responseText="",this.u=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,Ra(this)),this.readyState=0},e.Sa=function(y){if(this.g&&(this.l=y,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=y.headers,this.readyState=2,us(this)),this.g&&(this.readyState=3,us(this),this.g)))if(this.responseType==="arraybuffer")y.arrayBuffer().then(this.Qa.bind(this),this.ga.bind(this));else if(typeof o.ReadableStream<"u"&&"body"in y){if(this.j=y.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.v=new TextDecoder;uu(this)}else y.text().then(this.Ra.bind(this),this.ga.bind(this))};function uu(y){y.j.read().then(y.Pa.bind(y)).catch(y.ga.bind(y))}e.Pa=function(y){if(this.g){if(this.o&&y.value)this.response.push(y.value);else if(!this.o){var L=y.value?y.value:new Uint8Array(0);(L=this.v.decode(L,{stream:!y.done}))&&(this.response=this.responseText+=L)}y.done?Ra(this):us(this),this.readyState==3&&uu(this)}},e.Ra=function(y){this.g&&(this.response=this.responseText=y,Ra(this))},e.Qa=function(y){this.g&&(this.response=y,Ra(this))},e.ga=function(){this.g&&Ra(this)};function Ra(y){y.readyState=4,y.l=null,y.j=null,y.v=null,us(y)}e.setRequestHeader=function(y,L){this.u.append(y,L)},e.getResponseHeader=function(y){return this.h&&this.h.get(y.toLowerCase())||""},e.getAllResponseHeaders=function(){if(!this.h)return"";const y=[],L=this.h.entries();for(var B=L.next();!B.done;)B=B.value,y.push(B[0]+": "+B[1]),B=L.next();return y.join(`\r
`)};function us(y){y.onreadystatechange&&y.onreadystatechange.call(y)}Object.defineProperty(Bs.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(y){this.m=y?"include":"same-origin"}});function ol(y){let L="";return D(y,function(B,G){L+=G,L+=":",L+=B,L+=`\r
`}),L}function Oc(y,L,B){e:{for(G in B){var G=!1;break e}G=!0}G||(B=ol(B),typeof y=="string"?B!=null&&encodeURIComponent(String(B)):Vt(y,L,B))}function xn(y){it.call(this),this.headers=new Map,this.o=y||null,this.h=!1,this.v=this.g=null,this.D="",this.m=0,this.l="",this.j=this.B=this.u=this.A=!1,this.I=null,this.H="",this.J=!1}g(xn,it);var Lc=/^https?$/i,ll=["POST","PUT"];e=xn.prototype,e.Ha=function(y){this.J=y},e.ea=function(y,L,B,G){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+y);L=L?L.toUpperCase():"GET",this.D=y,this.l="",this.m=0,this.A=!1,this.h=!0,this.g=this.o?this.o.g():Qi.g(),this.v=this.o?At(this.o):At(Qi),this.g.onreadystatechange=p(this.Ea,this);try{this.B=!0,this.g.open(L,String(y),!0),this.B=!1}catch(Pe){ko(this,Pe);return}if(y=B||"",B=new Map(this.headers),G)if(Object.getPrototypeOf(G)===Object.prototype)for(var xe in G)B.set(xe,G[xe]);else if(typeof G.keys=="function"&&typeof G.get=="function")for(const Pe of G.keys())B.set(Pe,G.get(Pe));else throw Error("Unknown input type for opt_headers: "+String(G));G=Array.from(B.keys()).find(Pe=>Pe.toLowerCase()=="content-type"),xe=o.FormData&&y instanceof o.FormData,!(0<=Array.prototype.indexOf.call(ll,L,void 0))||G||xe||B.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[Pe,Be]of B)this.g.setRequestHeader(Pe,Be);this.H&&(this.g.responseType=this.H),"withCredentials"in this.g&&this.g.withCredentials!==this.J&&(this.g.withCredentials=this.J);try{Co(this),this.u=!0,this.g.send(y),this.u=!1}catch(Pe){ko(this,Pe)}};function ko(y,L){y.h=!1,y.g&&(y.j=!0,y.g.abort(),y.j=!1),y.l=L,y.m=5,cu(y),To(y)}function cu(y){y.A||(y.A=!0,kt(y,"complete"),kt(y,"error"))}e.abort=function(y){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.m=y||7,kt(this,"complete"),kt(this,"abort"),To(this))},e.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),To(this,!0)),xn.aa.N.call(this)},e.Ea=function(){this.s||(this.B||this.u||this.j?ul(this):this.bb())},e.bb=function(){ul(this)};function ul(y){if(y.h&&typeof s<"u"&&(!y.v[1]||va(y)!=4||y.Z()!=2)){if(y.u&&va(y)==4)ot(y.Ea,0,y);else if(kt(y,"readystatechange"),va(y)==4){y.h=!1;try{const Be=y.Z();e:switch(Be){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var L=!0;break e;default:L=!1}var B;if(!(B=L)){var G;if(G=Be===0){var xe=String(y.D).match(pa)[1]||null;!xe&&o.self&&o.self.location&&(xe=o.self.location.protocol.slice(0,-1)),G=!Lc.test(xe?xe.toLowerCase():"")}B=G}if(B)kt(y,"complete"),kt(y,"success");else{y.m=6;try{var Pe=2<va(y)?y.g.statusText:""}catch{Pe=""}y.l=Pe+" ["+y.Z()+"]",cu(y)}}finally{To(y)}}}}function To(y,L){if(y.g){Co(y);const B=y.g,G=y.v[0]?()=>{}:null;y.g=null,y.v=null,L||kt(y,"ready");try{B.onreadystatechange=G}catch{}}}function Co(y){y.I&&(o.clearTimeout(y.I),y.I=null)}e.isActive=function(){return!!this.g};function va(y){return y.g?y.g.readyState:0}e.Z=function(){try{return 2<va(this)?this.g.status:-1}catch{return-1}},e.oa=function(){try{return this.g?this.g.responseText:""}catch{return""}},e.Oa=function(y){if(this.g){var L=this.g.responseText;return y&&L.indexOf(y)==0&&(L=L.substring(y.length)),ln(L)}};function Rc(y){try{if(!y.g)return null;if("response"in y.g)return y.g.response;switch(y.H){case"":case"text":return y.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in y.g)return y.g.mozResponseArrayBuffer}return null}catch{return null}}function Vs(y){const L={};y=(y.g&&2<=va(y)&&y.g.getAllResponseHeaders()||"").split(`\r
`);for(let G=0;G<y.length;G++){if(w(y[G]))continue;var B=N(y[G]);const xe=B[0];if(B=B[1],typeof B!="string")continue;B=B.trim();const Pe=L[xe]||[];L[xe]=Pe,Pe.push(B)}T(L,function(G){return G.join(", ")})}e.Ba=function(){return this.m},e.Ka=function(){return typeof this.l=="string"?this.l:String(this.l)};function Ji(y,L,B){return B&&B.internalChannelParams&&B.internalChannelParams[y]||L}function Mc(y){this.Aa=0,this.i=[],this.j=new Jr,this.ia=this.qa=this.I=this.W=this.g=this.ya=this.D=this.H=this.m=this.S=this.o=null,this.Ya=this.U=0,this.Va=Ji("failFast",!1,y),this.F=this.C=this.u=this.s=this.l=null,this.X=!0,this.za=this.T=-1,this.Y=this.v=this.B=0,this.Ta=Ji("baseRetryDelayMs",5e3,y),this.cb=Ji("retryDelaySeedMs",1e4,y),this.Wa=Ji("forwardChannelMaxRetries",2,y),this.wa=Ji("forwardChannelRequestTimeoutMs",2e4,y),this.pa=y&&y.xmlHttpFactory||void 0,this.Xa=y&&y.Tb||void 0,this.Ca=y&&y.useFetchStreams||!1,this.L=void 0,this.J=y&&y.supportsCrossDomainXhr||!1,this.K="",this.h=new Ec(y&&y.concurrentRequestLimit),this.Da=new Fs,this.P=y&&y.fastHandshake||!1,this.O=y&&y.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.Ua=y&&y.Rb||!1,y&&y.xa&&this.j.xa(),y&&y.forceLongPolling&&(this.X=!1),this.ba=!this.P&&this.X&&y&&y.detectBufferingProxy||!1,this.ja=void 0,y&&y.longPollingTimeout&&0<y.longPollingTimeout&&(this.ja=y.longPollingTimeout),this.ca=void 0,this.R=0,this.M=!1,this.ka=this.A=null}e=Mc.prototype,e.la=8,e.G=1,e.connect=function(y,L,B,G){On(0),this.W=y,this.H=L||{},B&&G!==void 0&&(this.H.OSID=B,this.H.OAID=G),this.F=this.X,this.I=cn(this,null,this.W),E(this)};function du(y){if(Dc(y),y.G==3){var L=y.U++,B=Zi(y.I);if(Vt(B,"SID",y.K),Vt(B,"RID",L),Vt(B,"TYPE","terminate"),ue(y,B),L=new yr(y,y.j,L),L.L=2,L.v=al(Zi(B)),B=!1,o.navigator&&o.navigator.sendBeacon)try{B=o.navigator.sendBeacon(L.v.toString(),"")}catch{}!B&&o.Image&&(new Image().src=L.v,B=!0),B||(L.g=sr(L.j,null),L.g.ea(L.v)),L.F=Date.now(),_o(L)}Xn(y)}function cs(y){y.g&&(He(y),y.g.cancel(),y.g=null)}function Dc(y){cs(y),y.u&&(o.clearTimeout(y.u),y.u=null),pt(y),y.h.cancel(),y.s&&(typeof y.s=="number"&&o.clearTimeout(y.s),y.s=null)}function E(y){if(!Nc(y.h)&&!y.s){y.s=!0;var L=y.Ga;ie||ye(),H||(ie(),H=!0),se.add(L,y),y.B=0}}function V(y,L){return kc(y.h)>=y.h.j-(y.s?1:0)?!1:y.s?(y.i=L.D.concat(y.i),!0):y.G==1||y.G==2||y.B>=(y.Va?0:y.Wa)?!1:(y.s=Zr(p(y.Ga,y,L),Ht(y,y.B)),y.B++,!0)}e.Ga=function(y){if(this.s)if(this.s=null,this.G==1){if(!y){this.U=Math.floor(1e5*Math.random()),y=this.U++;const xe=new yr(this,this.j,y);let Pe=this.o;if(this.S&&(Pe?(Pe=k(Pe),M(Pe,this.S)):Pe=this.S),this.m!==null||this.O||(xe.H=Pe,Pe=null),this.P)e:{for(var L=0,B=0;B<this.i.length;B++){t:{var G=this.i[B];if("__data__"in G.map&&(G=G.map.__data__,typeof G=="string")){G=G.length;break t}G=void 0}if(G===void 0)break;if(L+=G,4096<L){L=B;break e}if(L===4096||B===this.i.length-1){L=B+1;break e}}L=1e3}else L=1e3;L=ve(this,xe,L),B=Zi(this.I),Vt(B,"RID",y),Vt(B,"CVER",22),this.D&&Vt(B,"X-HTTP-Session-Id",this.D),ue(this,B),Pe&&(this.O?L="headers="+encodeURIComponent(String(ol(Pe)))+"&"+L:this.m&&Oc(B,this.m,Pe)),Tc(this.h,xe),this.Ua&&Vt(B,"TYPE","init"),this.P?(Vt(B,"$req",L),Vt(B,"SID","null"),xe.T=!0,wo(xe,B,null)):wo(xe,B,L),this.G=2}}else this.G==3&&(y?ee(this,y):this.i.length==0||Nc(this.h)||ee(this))};function ee(y,L){var B;L?B=L.l:B=y.U++;const G=Zi(y.I);Vt(G,"SID",y.K),Vt(G,"RID",B),Vt(G,"AID",y.T),ue(y,G),y.m&&y.o&&Oc(G,y.m,y.o),B=new yr(y,y.j,B,y.B+1),y.m===null&&(B.H=y.o),L&&(y.i=L.D.concat(y.i)),L=ve(y,B,1e3),B.I=Math.round(.5*y.wa)+Math.round(.5*y.wa*Math.random()),Tc(y.h,B),wo(B,G,L)}function ue(y,L){y.H&&D(y.H,function(B,G){Vt(L,G,B)}),y.l&&Ao({},function(B,G){Vt(L,G,B)})}function ve(y,L,B){B=Math.min(y.i.length,B);var G=y.l?p(y.l.Na,y.l,y):null;e:{var xe=y.i;let Pe=-1;for(;;){const Be=["count="+B];Pe==-1?0<B?(Pe=xe[0].g,Be.push("ofs="+Pe)):Pe=0:Be.push("ofs="+Pe);let Ut=!0;for(let Zn=0;Zn<B;Zn++){let Dt=xe[Zn].g;const Rt=xe[Zn].map;if(Dt-=Pe,0>Dt)Pe=Math.max(0,xe[Zn].g-100),Ut=!1;else try{tp(Rt,Be,"req"+Dt+"_")}catch{G&&G(Rt)}}if(Ut){G=Be.join("&");break e}}}return y=y.i.splice(0,B),L.D=y,G}function Te(y){if(!y.g&&!y.u){y.Y=1;var L=y.Fa;ie||ye(),H||(ie(),H=!0),se.add(L,y),y.v=0}}function Le(y){return y.g||y.u||3<=y.v?!1:(y.Y++,y.u=Zr(p(y.Fa,y),Ht(y,y.v)),y.v++,!0)}e.Fa=function(){if(this.u=null,Je(this),this.ba&&!(this.M||this.g==null||0>=this.R)){var y=2*this.R;this.j.info("BP detection timer enabled: "+y),this.A=Zr(p(this.ab,this),y)}},e.ab=function(){this.A&&(this.A=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.M=!0,On(10),cs(this),Je(this))};function He(y){y.A!=null&&(o.clearTimeout(y.A),y.A=null)}function Je(y){y.g=new yr(y,y.j,"rpc",y.Y),y.m===null&&(y.g.H=y.o),y.g.O=0;var L=Zi(y.qa);Vt(L,"RID","rpc"),Vt(L,"SID",y.K),Vt(L,"AID",y.T),Vt(L,"CI",y.F?"0":"1"),!y.F&&y.ja&&Vt(L,"TO",y.ja),Vt(L,"TYPE","xmlhttp"),ue(y,L),y.m&&y.o&&Oc(L,y.m,y.o),y.L&&(y.g.I=y.L);var B=y.g;y=y.ia,B.L=1,B.v=al(Zi(L)),B.m=null,B.P=!0,nl(B,y)}e.Za=function(){this.C!=null&&(this.C=null,cs(this),Le(this),On(19))};function pt(y){y.C!=null&&(o.clearTimeout(y.C),y.C=null)}function wt(y,L){var B=null;if(y.g==L){pt(y),He(y),y.g=null;var G=2}else if(So(y.h,L))B=L.D,Yn(y.h,L),G=1;else return;if(y.G!=0){if(L.o)if(G==1){B=L.m?L.m.length:0,L=Date.now()-L.F;var xe=y.B;G=vr(),kt(G,new os(G,B)),E(y)}else Te(y);else if(xe=L.s,xe==3||xe==0&&0<L.X||!(G==1&&V(y,L)||G==2&&Le(y)))switch(B&&0<B.length&&(L=y.h,L.i=L.i.concat(B)),xe){case 1:rn(y,5);break;case 4:rn(y,10);break;case 3:rn(y,6);break;default:rn(y,2)}}}function Ht(y,L){let B=y.Ta+Math.floor(Math.random()*y.cb);return y.isActive()||(B*=2),B*L}function rn(y,L){if(y.j.info("Error code "+L),L==2){var B=p(y.fb,y),G=y.Xa;const xe=!G;G=new un(G||"//www.google.com/images/cleardot.gif"),o.location&&o.location.protocol=="http"||au(G,"https"),al(G),xe?Jh(G.toString(),B):ep(G.toString(),B)}else On(2);y.G=0,y.l&&y.l.sa(L),Xn(y),Dc(y)}e.fb=function(y){y?(this.j.info("Successfully pinged google.com"),On(2)):(this.j.info("Failed to ping google.com"),On(1))};function Xn(y){if(y.G=0,y.ka=[],y.l){const L=Cc(y.h);(L.length!=0||y.i.length!=0)&&(b(y.ka,L),b(y.ka,y.i),y.h.i.length=0,v(y.i),y.i.length=0),y.l.ra()}}function cn(y,L,B){var G=B instanceof un?Zi(B):new un(B);if(G.g!="")L&&(G.g=L+"."+G.g),su(G,G.s);else{var xe=o.location;G=xe.protocol,L=L?L+"."+xe.hostname:xe.hostname,xe=+xe.port;var Pe=new un(null);G&&au(Pe,G),L&&(Pe.g=L),xe&&su(Pe,xe),B&&(Pe.l=B),G=Pe}return B=y.D,L=y.ya,B&&L&&Vt(G,B,L),Vt(G,"VER",y.la),ue(y,G),G}function sr(y,L,B){if(L&&!y.J)throw Error("Can't create secondary domain capable XhrIo object.");return L=y.Ca&&!y.pa?new xn(new lu({eb:B})):new xn(y.pa),L.Ha(y.J),L}e.isActive=function(){return!!this.l&&this.l.isActive(this)};function Qn(){}e=Qn.prototype,e.ua=function(){},e.ta=function(){},e.sa=function(){},e.ra=function(){},e.isActive=function(){return!0},e.Na=function(){};function or(){}or.prototype.g=function(y,L){return new Pn(y,L)};function Pn(y,L){it.call(this),this.g=new Mc(L),this.l=y,this.h=L&&L.messageUrlParams||null,y=L&&L.messageHeaders||null,L&&L.clientProtocolHeaderRequired&&(y?y["X-Client-Protocol"]="webchannel":y={"X-Client-Protocol":"webchannel"}),this.g.o=y,y=L&&L.initMessageHeaders||null,L&&L.messageContentType&&(y?y["X-WebChannel-Content-Type"]=L.messageContentType:y={"X-WebChannel-Content-Type":L.messageContentType}),L&&L.va&&(y?y["X-WebChannel-Client-Profile"]=L.va:y={"X-WebChannel-Client-Profile":L.va}),this.g.S=y,(y=L&&L.Sb)&&!w(y)&&(this.g.m=y),this.v=L&&L.supportsCrossDomainXhr||!1,this.u=L&&L.sendRawJson||!1,(L=L&&L.httpSessionIdParam)&&!w(L)&&(this.g.D=L,y=this.h,y!==null&&L in y&&(y=this.h,L in y&&delete y[L])),this.j=new Ma(this)}g(Pn,it),Pn.prototype.m=function(){this.g.l=this.j,this.v&&(this.g.J=!0),this.g.connect(this.l,this.h||void 0)},Pn.prototype.close=function(){du(this.g)},Pn.prototype.o=function(y){var L=this.g;if(typeof y=="string"){var B={};B.__data__=y,y=B}else this.u&&(B={},B.__data__=bt(y),y=B);L.i.push(new Pc(L.Ya++,y)),L.G==3&&E(L)},Pn.prototype.N=function(){this.g.l=null,delete this.j,du(this.g),delete this.g,Pn.aa.N.call(this)};function hi(y){nn.call(this),y.__headers__&&(this.headers=y.__headers__,this.statusCode=y.__status__,delete y.__headers__,delete y.__status__);var L=y.__sm__;if(L){e:{for(const B in L){y=B;break e}y=void 0}(this.i=y)&&(y=this.i,L=L!==null&&y in L?L[y]:void 0),this.data=L}else this.data=y}g(hi,nn);function Fc(){gt.call(this),this.status=1}g(Fc,gt);function Ma(y){this.g=y}g(Ma,Qn),Ma.prototype.ua=function(){kt(this.g,"a")},Ma.prototype.ta=function(y){kt(this.g,new hi(y))},Ma.prototype.sa=function(y){kt(this.g,new Fc)},Ma.prototype.ra=function(){kt(this.g,"b")},or.prototype.createWebChannel=or.prototype.g,Pn.prototype.send=Pn.prototype.o,Pn.prototype.open=Pn.prototype.m,Pn.prototype.close=Pn.prototype.close,$R=function(){return new or},zR=function(){return vr()},VR=Mt,f4={mb:0,pb:1,qb:2,Jb:3,Ob:4,Lb:5,Mb:6,Kb:7,Ib:8,Nb:9,PROXY:10,NOPROXY:11,Gb:12,Cb:13,Db:14,Bb:15,Eb:16,Fb:17,ib:18,hb:19,jb:20},Ci.NO_ERROR=0,Ci.TIMEOUT=8,Ci.HTTP_ERROR=6,z1=Ci,Ia.COMPLETE="complete",BR=Ia,Vn.EventType=In,In.OPEN="a",In.CLOSE="b",In.ERROR="c",In.MESSAGE="d",it.prototype.listen=it.prototype.K,Up=Vn,xn.prototype.listenOnce=xn.prototype.L,xn.prototype.getLastError=xn.prototype.Ka,xn.prototype.getLastErrorCode=xn.prototype.Ba,xn.prototype.getStatus=xn.prototype.Z,xn.prototype.getResponseJson=xn.prototype.Oa,xn.prototype.getResponseText=xn.prototype.oa,xn.prototype.send=xn.prototype.ea,xn.prototype.setWithCredentials=xn.prototype.Ha,FR=xn}).apply(typeof Gg<"u"?Gg:typeof self<"u"?self:typeof window<"u"?window:{});const ok="@firebase/firestore";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $i{constructor(t){this.uid=t}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(t){return t.uid===this.uid}}$i.UNAUTHENTICATED=new $i(null),$i.GOOGLE_CREDENTIALS=new $i("google-credentials-uid"),$i.FIRST_PARTY=new $i("first-party-uid"),$i.MOCK_USER=new $i("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Ih="10.14.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ad=new jR("@firebase/firestore");function Ap(){return Ad.logLevel}function et(e,...t){if(Ad.logLevel<=Xt.DEBUG){const n=t.map(oS);Ad.debug(`Firestore (${Ih}): ${e}`,...n)}}function Ml(e,...t){if(Ad.logLevel<=Xt.ERROR){const n=t.map(oS);Ad.error(`Firestore (${Ih}): ${e}`,...n)}}function sh(e,...t){if(Ad.logLevel<=Xt.WARN){const n=t.map(oS);Ad.warn(`Firestore (${Ih}): ${e}`,...n)}}function oS(e){if(typeof e=="string")return e;try{/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/return function(n){return JSON.stringify(n)}(e)}catch{return e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Pt(e="Unexpected state"){const t=`FIRESTORE (${Ih}) INTERNAL ASSERTION FAILED: `+e;throw Ml(t),new Error(t)}function on(e,t){e||Pt()}function Et(e,t){return e}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ie={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class qe extends jh{constructor(t,n){super(t,n),this.code=t,this.message=n,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Uo{constructor(){this.promise=new Promise((t,n)=>{this.resolve=t,this.reject=n})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class UR{constructor(t,n){this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${t}`)}}class nQ{getToken(){return Promise.resolve(null)}invalidateToken(){}start(t,n){t.enqueueRetryable(()=>n($i.UNAUTHENTICATED))}shutdown(){}}class rQ{constructor(t){this.token=t,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(t,n){this.changeListener=n,t.enqueueRetryable(()=>n(this.token.user))}shutdown(){this.changeListener=null}}class iQ{constructor(t){this.t=t,this.currentUser=$i.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(t,n){on(this.o===void 0);let r=this.i;const i=l=>this.i!==r?(r=this.i,n(l)):Promise.resolve();let a=new Uo;this.o=()=>{this.i++,this.currentUser=this.u(),a.resolve(),a=new Uo,t.enqueueRetryable(()=>i(this.currentUser))};const s=()=>{const l=a;t.enqueueRetryable(async()=>{await l.promise,await i(this.currentUser)})},o=l=>{et("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=l,this.o&&(this.auth.addAuthTokenListener(this.o),s())};this.t.onInit(l=>o(l)),setTimeout(()=>{if(!this.auth){const l=this.t.getImmediate({optional:!0});l?o(l):(et("FirebaseAuthCredentialsProvider","Auth not yet detected"),a.resolve(),a=new Uo)}},0),s()}getToken(){const t=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then(r=>this.i!==t?(et("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):r?(on(typeof r.accessToken=="string"),new UR(r.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const t=this.auth&&this.auth.getUid();return on(t===null||typeof t=="string"),new $i(t)}}class aQ{constructor(t,n,r){this.l=t,this.h=n,this.P=r,this.type="FirstParty",this.user=$i.FIRST_PARTY,this.I=new Map}T(){return this.P?this.P():null}get headers(){this.I.set("X-Goog-AuthUser",this.l);const t=this.T();return t&&this.I.set("Authorization",t),this.h&&this.I.set("X-Goog-Iam-Authorization-Token",this.h),this.I}}class sQ{constructor(t,n,r){this.l=t,this.h=n,this.P=r}getToken(){return Promise.resolve(new aQ(this.l,this.h,this.P))}start(t,n){t.enqueueRetryable(()=>n($i.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class oQ{constructor(t){this.value=t,this.type="AppCheck",this.headers=new Map,t&&t.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class lQ{constructor(t){this.A=t,this.forceRefresh=!1,this.appCheck=null,this.R=null}start(t,n){on(this.o===void 0);const r=a=>{a.error!=null&&et("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${a.error.message}`);const s=a.token!==this.R;return this.R=a.token,et("FirebaseAppCheckTokenProvider",`Received ${s?"new":"existing"} token.`),s?n(a.token):Promise.resolve()};this.o=a=>{t.enqueueRetryable(()=>r(a))};const i=a=>{et("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=a,this.o&&this.appCheck.addTokenListener(this.o)};this.A.onInit(a=>i(a)),setTimeout(()=>{if(!this.appCheck){const a=this.A.getImmediate({optional:!0});a?i(a):et("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){const t=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(t).then(n=>n?(on(typeof n.token=="string"),this.R=n.token,new oQ(n.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function uQ(e){const t=typeof self<"u"&&(self.crypto||self.msCrypto),n=new Uint8Array(e);if(t&&typeof t.getRandomValues=="function")t.getRandomValues(n);else for(let r=0;r<e;r++)n[r]=Math.floor(256*Math.random());return n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class WR{static newId(){const t="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n=Math.floor(256/t.length)*t.length;let r="";for(;r.length<20;){const i=uQ(40);for(let a=0;a<i.length;++a)r.length<20&&i[a]<n&&(r+=t.charAt(i[a]%t.length))}return r}}function Jt(e,t){return e<t?-1:e>t?1:0}function oh(e,t,n){return e.length===t.length&&e.every((r,i)=>n(r,t[i]))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gr{constructor(t,n){if(this.seconds=t,this.nanoseconds=n,n<0)throw new qe(Ie.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new qe(Ie.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(t<-62135596800)throw new qe(Ie.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t);if(t>=253402300800)throw new qe(Ie.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t)}static now(){return gr.fromMillis(Date.now())}static fromDate(t){return gr.fromMillis(t.getTime())}static fromMillis(t){const n=Math.floor(t/1e3),r=Math.floor(1e6*(t-1e3*n));return new gr(n,r)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/1e6}_compareTo(t){return this.seconds===t.seconds?Jt(this.nanoseconds,t.nanoseconds):Jt(this.seconds,t.seconds)}isEqual(t){return t.seconds===this.seconds&&t.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){const t=this.seconds- -62135596800;return String(t).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ct{constructor(t){this.timestamp=t}static fromTimestamp(t){return new Ct(t)}static min(){return new Ct(new gr(0,0))}static max(){return new Ct(new gr(253402300799,999999999))}compareTo(t){return this.timestamp._compareTo(t.timestamp)}isEqual(t){return this.timestamp.isEqual(t.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Bm{constructor(t,n,r){n===void 0?n=0:n>t.length&&Pt(),r===void 0?r=t.length-n:r>t.length-n&&Pt(),this.segments=t,this.offset=n,this.len=r}get length(){return this.len}isEqual(t){return Bm.comparator(this,t)===0}child(t){const n=this.segments.slice(this.offset,this.limit());return t instanceof Bm?t.forEach(r=>{n.push(r)}):n.push(t),this.construct(n)}limit(){return this.offset+this.length}popFirst(t){return t=t===void 0?1:t,this.construct(this.segments,this.offset+t,this.length-t)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(t){return this.segments[this.offset+t]}isEmpty(){return this.length===0}isPrefixOf(t){if(t.length<this.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==t.get(n))return!1;return!0}isImmediateParentOf(t){if(this.length+1!==t.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==t.get(n))return!1;return!0}forEach(t){for(let n=this.offset,r=this.limit();n<r;n++)t(this.segments[n])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(t,n){const r=Math.min(t.length,n.length);for(let i=0;i<r;i++){const a=t.get(i),s=n.get(i);if(a<s)return-1;if(a>s)return 1}return t.length<n.length?-1:t.length>n.length?1:0}}class Dn extends Bm{construct(t,n,r){return new Dn(t,n,r)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...t){const n=[];for(const r of t){if(r.indexOf("//")>=0)throw new qe(Ie.INVALID_ARGUMENT,`Invalid segment (${r}). Paths must not contain // in them.`);n.push(...r.split("/").filter(i=>i.length>0))}return new Dn(n)}static emptyPath(){return new Dn([])}}const cQ=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class _i extends Bm{construct(t,n,r){return new _i(t,n,r)}static isValidIdentifier(t){return cQ.test(t)}canonicalString(){return this.toArray().map(t=>(t=t.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),_i.isValidIdentifier(t)||(t="`"+t+"`"),t)).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)==="__name__"}static keyField(){return new _i(["__name__"])}static fromServerFormat(t){const n=[];let r="",i=0;const a=()=>{if(r.length===0)throw new qe(Ie.INVALID_ARGUMENT,`Invalid field path (${t}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);n.push(r),r=""};let s=!1;for(;i<t.length;){const o=t[i];if(o==="\\"){if(i+1===t.length)throw new qe(Ie.INVALID_ARGUMENT,"Path has trailing escape character: "+t);const l=t[i+1];if(l!=="\\"&&l!=="."&&l!=="`")throw new qe(Ie.INVALID_ARGUMENT,"Path has invalid escape sequence: "+t);r+=l,i+=2}else o==="`"?(s=!s,i++):o!=="."||s?(r+=o,i++):(a(),i++)}if(a(),s)throw new qe(Ie.INVALID_ARGUMENT,"Unterminated ` in path: "+t);return new _i(n)}static emptyPath(){return new _i([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dt{constructor(t){this.path=t}static fromPath(t){return new dt(Dn.fromString(t))}static fromName(t){return new dt(Dn.fromString(t).popFirst(5))}static empty(){return new dt(Dn.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(t){return this.path.length>=2&&this.path.get(this.path.length-2)===t}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(t){return t!==null&&Dn.comparator(this.path,t.path)===0}toString(){return this.path.toString()}static comparator(t,n){return Dn.comparator(t.path,n.path)}static isDocumentKey(t){return t.length%2==0}static fromSegments(t){return new dt(new Dn(t.slice()))}}function dQ(e,t){const n=e.toTimestamp().seconds,r=e.toTimestamp().nanoseconds+1,i=Ct.fromTimestamp(r===1e9?new gr(n+1,0):new gr(n,r));return new sc(i,dt.empty(),t)}function fQ(e){return new sc(e.readTime,e.key,-1)}class sc{constructor(t,n,r){this.readTime=t,this.documentKey=n,this.largestBatchId=r}static min(){return new sc(Ct.min(),dt.empty(),-1)}static max(){return new sc(Ct.max(),dt.empty(),-1)}}function hQ(e,t){let n=e.readTime.compareTo(t.readTime);return n!==0?n:(n=dt.comparator(e.documentKey,t.documentKey),n!==0?n:Jt(e.largestBatchId,t.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const pQ="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class mQ{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(t){this.onCommittedListeners.push(t)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(t=>t())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function A0(e){if(e.code!==Ie.FAILED_PRECONDITION||e.message!==pQ)throw e;et("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Me{constructor(t){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,t(n=>{this.isDone=!0,this.result=n,this.nextCallback&&this.nextCallback(n)},n=>{this.isDone=!0,this.error=n,this.catchCallback&&this.catchCallback(n)})}catch(t){return this.next(void 0,t)}next(t,n){return this.callbackAttached&&Pt(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(t,this.result):new Me((r,i)=>{this.nextCallback=a=>{this.wrapSuccess(t,a).next(r,i)},this.catchCallback=a=>{this.wrapFailure(n,a).next(r,i)}})}toPromise(){return new Promise((t,n)=>{this.next(t,n)})}wrapUserFunction(t){try{const n=t();return n instanceof Me?n:Me.resolve(n)}catch(n){return Me.reject(n)}}wrapSuccess(t,n){return t?this.wrapUserFunction(()=>t(n)):Me.resolve(n)}wrapFailure(t,n){return t?this.wrapUserFunction(()=>t(n)):Me.reject(n)}static resolve(t){return new Me((n,r)=>{n(t)})}static reject(t){return new Me((n,r)=>{r(t)})}static waitFor(t){return new Me((n,r)=>{let i=0,a=0,s=!1;t.forEach(o=>{++i,o.next(()=>{++a,s&&a===i&&n()},l=>r(l))}),s=!0,a===i&&n()})}static or(t){let n=Me.resolve(!1);for(const r of t)n=n.next(i=>i?Me.resolve(i):r());return n}static forEach(t,n){const r=[];return t.forEach((i,a)=>{r.push(n.call(this,i,a))}),this.waitFor(r)}static mapArray(t,n){return new Me((r,i)=>{const a=t.length,s=new Array(a);let o=0;for(let l=0;l<a;l++){const u=l;n(t[u]).next(c=>{s[u]=c,++o,o===a&&r(s)},c=>i(c))}})}static doWhile(t,n){return new Me((r,i)=>{const a=()=>{t()===!0?n().next(()=>{a()},i):r()};a()})}}function gQ(e){const t=e.match(/Android ([\d.]+)/i),n=t?t[1].split(".").slice(0,2).join("."):"-1";return Number(n)}function P0(e){return e.name==="IndexedDbTransactionError"}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lS{constructor(t,n){this.previousValue=t,n&&(n.sequenceNumberHandler=r=>this.ie(r),this.se=r=>n.writeSequenceNumber(r))}ie(t){return this.previousValue=Math.max(t,this.previousValue),this.previousValue}next(){const t=++this.previousValue;return this.se&&this.se(t),t}}lS.oe=-1;function A2(e){return e==null}function Bv(e){return e===0&&1/e==-1/0}function vQ(e){return typeof e=="number"&&Number.isInteger(e)&&!Bv(e)&&e<=Number.MAX_SAFE_INTEGER&&e>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function lk(e){let t=0;for(const n in e)Object.prototype.hasOwnProperty.call(e,n)&&t++;return t}function $d(e,t){for(const n in e)Object.prototype.hasOwnProperty.call(e,n)&&t(n,e[n])}function yQ(e,t){const n=[];for(const r in e)Object.prototype.hasOwnProperty.call(e,r)&&n.push(t(e[r],r,e));return n}function qR(e){for(const t in e)if(Object.prototype.hasOwnProperty.call(e,t))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ir{constructor(t,n){this.comparator=t,this.root=n||wi.EMPTY}insert(t,n){return new ir(this.comparator,this.root.insert(t,n,this.comparator).copy(null,null,wi.BLACK,null,null))}remove(t){return new ir(this.comparator,this.root.remove(t,this.comparator).copy(null,null,wi.BLACK,null,null))}get(t){let n=this.root;for(;!n.isEmpty();){const r=this.comparator(t,n.key);if(r===0)return n.value;r<0?n=n.left:r>0&&(n=n.right)}return null}indexOf(t){let n=0,r=this.root;for(;!r.isEmpty();){const i=this.comparator(t,r.key);if(i===0)return n+r.left.size;i<0?r=r.left:(n+=r.left.size+1,r=r.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(t){return this.root.inorderTraversal(t)}forEach(t){this.inorderTraversal((n,r)=>(t(n,r),!1))}toString(){const t=[];return this.inorderTraversal((n,r)=>(t.push(`${n}:${r}`),!1)),`{${t.join(", ")}}`}reverseTraversal(t){return this.root.reverseTraversal(t)}getIterator(){return new Yg(this.root,null,this.comparator,!1)}getIteratorFrom(t){return new Yg(this.root,t,this.comparator,!1)}getReverseIterator(){return new Yg(this.root,null,this.comparator,!0)}getReverseIteratorFrom(t){return new Yg(this.root,t,this.comparator,!0)}}class Yg{constructor(t,n,r,i){this.isReverse=i,this.nodeStack=[];let a=1;for(;!t.isEmpty();)if(a=n?r(t.key,n):1,n&&i&&(a*=-1),a<0)t=this.isReverse?t.left:t.right;else{if(a===0){this.nodeStack.push(t);break}this.nodeStack.push(t),t=this.isReverse?t.right:t.left}}getNext(){let t=this.nodeStack.pop();const n={key:t.key,value:t.value};if(this.isReverse)for(t=t.left;!t.isEmpty();)this.nodeStack.push(t),t=t.right;else for(t=t.right;!t.isEmpty();)this.nodeStack.push(t),t=t.left;return n}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const t=this.nodeStack[this.nodeStack.length-1];return{key:t.key,value:t.value}}}class wi{constructor(t,n,r,i,a){this.key=t,this.value=n,this.color=r??wi.RED,this.left=i??wi.EMPTY,this.right=a??wi.EMPTY,this.size=this.left.size+1+this.right.size}copy(t,n,r,i,a){return new wi(t??this.key,n??this.value,r??this.color,i??this.left,a??this.right)}isEmpty(){return!1}inorderTraversal(t){return this.left.inorderTraversal(t)||t(this.key,this.value)||this.right.inorderTraversal(t)}reverseTraversal(t){return this.right.reverseTraversal(t)||t(this.key,this.value)||this.left.reverseTraversal(t)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(t,n,r){let i=this;const a=r(t,i.key);return i=a<0?i.copy(null,null,null,i.left.insert(t,n,r),null):a===0?i.copy(null,n,null,null,null):i.copy(null,null,null,null,i.right.insert(t,n,r)),i.fixUp()}removeMin(){if(this.left.isEmpty())return wi.EMPTY;let t=this;return t.left.isRed()||t.left.left.isRed()||(t=t.moveRedLeft()),t=t.copy(null,null,null,t.left.removeMin(),null),t.fixUp()}remove(t,n){let r,i=this;if(n(t,i.key)<0)i.left.isEmpty()||i.left.isRed()||i.left.left.isRed()||(i=i.moveRedLeft()),i=i.copy(null,null,null,i.left.remove(t,n),null);else{if(i.left.isRed()&&(i=i.rotateRight()),i.right.isEmpty()||i.right.isRed()||i.right.left.isRed()||(i=i.moveRedRight()),n(t,i.key)===0){if(i.right.isEmpty())return wi.EMPTY;r=i.right.min(),i=i.copy(r.key,r.value,null,null,i.right.removeMin())}i=i.copy(null,null,null,null,i.right.remove(t,n))}return i.fixUp()}isRed(){return this.color}fixUp(){let t=this;return t.right.isRed()&&!t.left.isRed()&&(t=t.rotateLeft()),t.left.isRed()&&t.left.left.isRed()&&(t=t.rotateRight()),t.left.isRed()&&t.right.isRed()&&(t=t.colorFlip()),t}moveRedLeft(){let t=this.colorFlip();return t.right.left.isRed()&&(t=t.copy(null,null,null,null,t.right.rotateRight()),t=t.rotateLeft(),t=t.colorFlip()),t}moveRedRight(){let t=this.colorFlip();return t.left.left.isRed()&&(t=t.rotateRight(),t=t.colorFlip()),t}rotateLeft(){const t=this.copy(null,null,wi.RED,null,this.right.left);return this.right.copy(null,null,this.color,t,null)}rotateRight(){const t=this.copy(null,null,wi.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,t)}colorFlip(){const t=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,t,n)}checkMaxDepth(){const t=this.check();return Math.pow(2,t)<=this.size+1}check(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw Pt();const t=this.left.check();if(t!==this.right.check())throw Pt();return t+(this.isRed()?0:1)}}wi.EMPTY=null,wi.RED=!0,wi.BLACK=!1;wi.EMPTY=new class{constructor(){this.size=0}get key(){throw Pt()}get value(){throw Pt()}get color(){throw Pt()}get left(){throw Pt()}get right(){throw Pt()}copy(t,n,r,i,a){return this}insert(t,n,r){return new wi(t,n)}remove(t,n){return this}isEmpty(){return!0}inorderTraversal(t){return!1}reverseTraversal(t){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Pi{constructor(t){this.comparator=t,this.data=new ir(this.comparator)}has(t){return this.data.get(t)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(t){return this.data.indexOf(t)}forEach(t){this.data.inorderTraversal((n,r)=>(t(n),!1))}forEachInRange(t,n){const r=this.data.getIteratorFrom(t[0]);for(;r.hasNext();){const i=r.getNext();if(this.comparator(i.key,t[1])>=0)return;n(i.key)}}forEachWhile(t,n){let r;for(r=n!==void 0?this.data.getIteratorFrom(n):this.data.getIterator();r.hasNext();)if(!t(r.getNext().key))return}firstAfterOrEqual(t){const n=this.data.getIteratorFrom(t);return n.hasNext()?n.getNext().key:null}getIterator(){return new uk(this.data.getIterator())}getIteratorFrom(t){return new uk(this.data.getIteratorFrom(t))}add(t){return this.copy(this.data.remove(t).insert(t,!0))}delete(t){return this.has(t)?this.copy(this.data.remove(t)):this}isEmpty(){return this.data.isEmpty()}unionWith(t){let n=this;return n.size<t.size&&(n=t,t=this),t.forEach(r=>{n=n.add(r)}),n}isEqual(t){if(!(t instanceof Pi)||this.size!==t.size)return!1;const n=this.data.getIterator(),r=t.data.getIterator();for(;n.hasNext();){const i=n.getNext().key,a=r.getNext().key;if(this.comparator(i,a)!==0)return!1}return!0}toArray(){const t=[];return this.forEach(n=>{t.push(n)}),t}toString(){const t=[];return this.forEach(n=>t.push(n)),"SortedSet("+t.toString()+")"}copy(t){const n=new Pi(this.comparator);return n.data=t,n}}class uk{constructor(t){this.iter=t}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qa{constructor(t){this.fields=t,t.sort(_i.comparator)}static empty(){return new Qa([])}unionWith(t){let n=new Pi(_i.comparator);for(const r of this.fields)n=n.add(r);for(const r of t)n=n.add(r);return new Qa(n.toArray())}covers(t){for(const n of this.fields)if(n.isPrefixOf(t))return!0;return!1}isEqual(t){return oh(this.fields,t.fields,(n,r)=>n.isEqual(r))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class HR extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ni{constructor(t){this.binaryString=t}static fromBase64String(t){const n=function(i){try{return atob(i)}catch(a){throw typeof DOMException<"u"&&a instanceof DOMException?new HR("Invalid base64 string: "+a):a}}(t);return new Ni(n)}static fromUint8Array(t){const n=function(i){let a="";for(let s=0;s<i.length;++s)a+=String.fromCharCode(i[s]);return a}(t);return new Ni(n)}[Symbol.iterator](){let t=0;return{next:()=>t<this.binaryString.length?{value:this.binaryString.charCodeAt(t++),done:!1}:{value:void 0,done:!0}}}toBase64(){return function(n){return btoa(n)}(this.binaryString)}toUint8Array(){return function(n){const r=new Uint8Array(n.length);for(let i=0;i<n.length;i++)r[i]=n.charCodeAt(i);return r}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(t){return Jt(this.binaryString,t.binaryString)}isEqual(t){return this.binaryString===t.binaryString}}Ni.EMPTY_BYTE_STRING=new Ni("");const xQ=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function oc(e){if(on(!!e),typeof e=="string"){let t=0;const n=xQ.exec(e);if(on(!!n),n[1]){let i=n[1];i=(i+"000000000").substr(0,9),t=Number(i)}const r=new Date(e);return{seconds:Math.floor(r.getTime()/1e3),nanos:t}}return{seconds:Pr(e.seconds),nanos:Pr(e.nanos)}}function Pr(e){return typeof e=="number"?e:typeof e=="string"?Number(e):0}function Pd(e){return typeof e=="string"?Ni.fromBase64String(e):Ni.fromUint8Array(e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function uS(e){var t,n;return((n=(((t=e==null?void 0:e.mapValue)===null||t===void 0?void 0:t.fields)||{}).__type__)===null||n===void 0?void 0:n.stringValue)==="server_timestamp"}function cS(e){const t=e.mapValue.fields.__previous_value__;return uS(t)?cS(t):t}function Vm(e){const t=oc(e.mapValue.fields.__local_write_time__.timestampValue);return new gr(t.seconds,t.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bQ{constructor(t,n,r,i,a,s,o,l,u){this.databaseId=t,this.appId=n,this.persistenceKey=r,this.host=i,this.ssl=a,this.forceLongPolling=s,this.autoDetectLongPolling=o,this.longPollingOptions=l,this.useFetchStreams=u}}class zm{constructor(t,n){this.projectId=t,this.database=n||"(default)"}static empty(){return new zm("","")}get isDefaultDatabase(){return this.database==="(default)"}isEqual(t){return t instanceof zm&&t.projectId===this.projectId&&t.database===this.database}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Xg={mapValue:{}};function Ed(e){return"nullValue"in e?0:"booleanValue"in e?1:"integerValue"in e||"doubleValue"in e?2:"timestampValue"in e?3:"stringValue"in e?5:"bytesValue"in e?6:"referenceValue"in e?7:"geoPointValue"in e?8:"arrayValue"in e?9:"mapValue"in e?uS(e)?4:_Q(e)?9007199254740991:wQ(e)?10:11:Pt()}function Xo(e,t){if(e===t)return!0;const n=Ed(e);if(n!==Ed(t))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return e.booleanValue===t.booleanValue;case 4:return Vm(e).isEqual(Vm(t));case 3:return function(i,a){if(typeof i.timestampValue=="string"&&typeof a.timestampValue=="string"&&i.timestampValue.length===a.timestampValue.length)return i.timestampValue===a.timestampValue;const s=oc(i.timestampValue),o=oc(a.timestampValue);return s.seconds===o.seconds&&s.nanos===o.nanos}(e,t);case 5:return e.stringValue===t.stringValue;case 6:return function(i,a){return Pd(i.bytesValue).isEqual(Pd(a.bytesValue))}(e,t);case 7:return e.referenceValue===t.referenceValue;case 8:return function(i,a){return Pr(i.geoPointValue.latitude)===Pr(a.geoPointValue.latitude)&&Pr(i.geoPointValue.longitude)===Pr(a.geoPointValue.longitude)}(e,t);case 2:return function(i,a){if("integerValue"in i&&"integerValue"in a)return Pr(i.integerValue)===Pr(a.integerValue);if("doubleValue"in i&&"doubleValue"in a){const s=Pr(i.doubleValue),o=Pr(a.doubleValue);return s===o?Bv(s)===Bv(o):isNaN(s)&&isNaN(o)}return!1}(e,t);case 9:return oh(e.arrayValue.values||[],t.arrayValue.values||[],Xo);case 10:case 11:return function(i,a){const s=i.mapValue.fields||{},o=a.mapValue.fields||{};if(lk(s)!==lk(o))return!1;for(const l in s)if(s.hasOwnProperty(l)&&(o[l]===void 0||!Xo(s[l],o[l])))return!1;return!0}(e,t);default:return Pt()}}function $m(e,t){return(e.values||[]).find(n=>Xo(n,t))!==void 0}function lh(e,t){if(e===t)return 0;const n=Ed(e),r=Ed(t);if(n!==r)return Jt(n,r);switch(n){case 0:case 9007199254740991:return 0;case 1:return Jt(e.booleanValue,t.booleanValue);case 2:return function(a,s){const o=Pr(a.integerValue||a.doubleValue),l=Pr(s.integerValue||s.doubleValue);return o<l?-1:o>l?1:o===l?0:isNaN(o)?isNaN(l)?0:-1:1}(e,t);case 3:return ck(e.timestampValue,t.timestampValue);case 4:return ck(Vm(e),Vm(t));case 5:return Jt(e.stringValue,t.stringValue);case 6:return function(a,s){const o=Pd(a),l=Pd(s);return o.compareTo(l)}(e.bytesValue,t.bytesValue);case 7:return function(a,s){const o=a.split("/"),l=s.split("/");for(let u=0;u<o.length&&u<l.length;u++){const c=Jt(o[u],l[u]);if(c!==0)return c}return Jt(o.length,l.length)}(e.referenceValue,t.referenceValue);case 8:return function(a,s){const o=Jt(Pr(a.latitude),Pr(s.latitude));return o!==0?o:Jt(Pr(a.longitude),Pr(s.longitude))}(e.geoPointValue,t.geoPointValue);case 9:return dk(e.arrayValue,t.arrayValue);case 10:return function(a,s){var o,l,u,c;const d=a.fields||{},p=s.fields||{},f=(o=d.value)===null||o===void 0?void 0:o.arrayValue,g=(l=p.value)===null||l===void 0?void 0:l.arrayValue,v=Jt(((u=f==null?void 0:f.values)===null||u===void 0?void 0:u.length)||0,((c=g==null?void 0:g.values)===null||c===void 0?void 0:c.length)||0);return v!==0?v:dk(f,g)}(e.mapValue,t.mapValue);case 11:return function(a,s){if(a===Xg.mapValue&&s===Xg.mapValue)return 0;if(a===Xg.mapValue)return 1;if(s===Xg.mapValue)return-1;const o=a.fields||{},l=Object.keys(o),u=s.fields||{},c=Object.keys(u);l.sort(),c.sort();for(let d=0;d<l.length&&d<c.length;++d){const p=Jt(l[d],c[d]);if(p!==0)return p;const f=lh(o[l[d]],u[c[d]]);if(f!==0)return f}return Jt(l.length,c.length)}(e.mapValue,t.mapValue);default:throw Pt()}}function ck(e,t){if(typeof e=="string"&&typeof t=="string"&&e.length===t.length)return Jt(e,t);const n=oc(e),r=oc(t),i=Jt(n.seconds,r.seconds);return i!==0?i:Jt(n.nanos,r.nanos)}function dk(e,t){const n=e.values||[],r=t.values||[];for(let i=0;i<n.length&&i<r.length;++i){const a=lh(n[i],r[i]);if(a)return a}return Jt(n.length,r.length)}function uh(e){return h4(e)}function h4(e){return"nullValue"in e?"null":"booleanValue"in e?""+e.booleanValue:"integerValue"in e?""+e.integerValue:"doubleValue"in e?""+e.doubleValue:"timestampValue"in e?function(n){const r=oc(n);return`time(${r.seconds},${r.nanos})`}(e.timestampValue):"stringValue"in e?e.stringValue:"bytesValue"in e?function(n){return Pd(n).toBase64()}(e.bytesValue):"referenceValue"in e?function(n){return dt.fromName(n).toString()}(e.referenceValue):"geoPointValue"in e?function(n){return`geo(${n.latitude},${n.longitude})`}(e.geoPointValue):"arrayValue"in e?function(n){let r="[",i=!0;for(const a of n.values||[])i?i=!1:r+=",",r+=h4(a);return r+"]"}(e.arrayValue):"mapValue"in e?function(n){const r=Object.keys(n.fields||{}).sort();let i="{",a=!0;for(const s of r)a?a=!1:i+=",",i+=`${s}:${h4(n.fields[s])}`;return i+"}"}(e.mapValue):Pt()}function fk(e,t){return{referenceValue:`projects/${e.projectId}/databases/${e.database}/documents/${t.path.canonicalString()}`}}function p4(e){return!!e&&"integerValue"in e}function dS(e){return!!e&&"arrayValue"in e}function hk(e){return!!e&&"nullValue"in e}function pk(e){return!!e&&"doubleValue"in e&&isNaN(Number(e.doubleValue))}function $1(e){return!!e&&"mapValue"in e}function wQ(e){var t,n;return((n=(((t=e==null?void 0:e.mapValue)===null||t===void 0?void 0:t.fields)||{}).__type__)===null||n===void 0?void 0:n.stringValue)==="__vector__"}function am(e){if(e.geoPointValue)return{geoPointValue:Object.assign({},e.geoPointValue)};if(e.timestampValue&&typeof e.timestampValue=="object")return{timestampValue:Object.assign({},e.timestampValue)};if(e.mapValue){const t={mapValue:{fields:{}}};return $d(e.mapValue.fields,(n,r)=>t.mapValue.fields[n]=am(r)),t}if(e.arrayValue){const t={arrayValue:{values:[]}};for(let n=0;n<(e.arrayValue.values||[]).length;++n)t.arrayValue.values[n]=am(e.arrayValue.values[n]);return t}return Object.assign({},e)}function _Q(e){return(((e.mapValue||{}).fields||{}).__type__||{}).stringValue==="__max__"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _a{constructor(t){this.value=t}static empty(){return new _a({mapValue:{}})}field(t){if(t.isEmpty())return this.value;{let n=this.value;for(let r=0;r<t.length-1;++r)if(n=(n.mapValue.fields||{})[t.get(r)],!$1(n))return null;return n=(n.mapValue.fields||{})[t.lastSegment()],n||null}}set(t,n){this.getFieldsMap(t.popLast())[t.lastSegment()]=am(n)}setAll(t){let n=_i.emptyPath(),r={},i=[];t.forEach((s,o)=>{if(!n.isImmediateParentOf(o)){const l=this.getFieldsMap(n);this.applyChanges(l,r,i),r={},i=[],n=o.popLast()}s?r[o.lastSegment()]=am(s):i.push(o.lastSegment())});const a=this.getFieldsMap(n);this.applyChanges(a,r,i)}delete(t){const n=this.field(t.popLast());$1(n)&&n.mapValue.fields&&delete n.mapValue.fields[t.lastSegment()]}isEqual(t){return Xo(this.value,t.value)}getFieldsMap(t){let n=this.value;n.mapValue.fields||(n.mapValue={fields:{}});for(let r=0;r<t.length;++r){let i=n.mapValue.fields[t.get(r)];$1(i)&&i.mapValue.fields||(i={mapValue:{fields:{}}},n.mapValue.fields[t.get(r)]=i),n=i}return n.mapValue.fields}applyChanges(t,n,r){$d(n,(i,a)=>t[i]=a);for(const i of r)delete t[i]}clone(){return new _a(am(this.value))}}function KR(e){const t=[];return $d(e.fields,(n,r)=>{const i=new _i([n]);if($1(r)){const a=KR(r.mapValue).fields;if(a.length===0)t.push(i);else for(const s of a)t.push(i.child(s))}else t.push(i)}),new Qa(t)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wi{constructor(t,n,r,i,a,s,o){this.key=t,this.documentType=n,this.version=r,this.readTime=i,this.createTime=a,this.data=s,this.documentState=o}static newInvalidDocument(t){return new Wi(t,0,Ct.min(),Ct.min(),Ct.min(),_a.empty(),0)}static newFoundDocument(t,n,r,i){return new Wi(t,1,n,Ct.min(),r,i,0)}static newNoDocument(t,n){return new Wi(t,2,n,Ct.min(),Ct.min(),_a.empty(),0)}static newUnknownDocument(t,n){return new Wi(t,3,n,Ct.min(),Ct.min(),_a.empty(),2)}convertToFoundDocument(t,n){return!this.createTime.isEqual(Ct.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=t),this.version=t,this.documentType=1,this.data=n,this.documentState=0,this}convertToNoDocument(t){return this.version=t,this.documentType=2,this.data=_a.empty(),this.documentState=0,this}convertToUnknownDocument(t){return this.version=t,this.documentType=3,this.data=_a.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=Ct.min(),this}setReadTime(t){return this.readTime=t,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(t){return t instanceof Wi&&this.key.isEqual(t.key)&&this.version.isEqual(t.version)&&this.documentType===t.documentType&&this.documentState===t.documentState&&this.data.isEqual(t.data)}mutableCopy(){return new Wi(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vv{constructor(t,n){this.position=t,this.inclusive=n}}function mk(e,t,n){let r=0;for(let i=0;i<e.position.length;i++){const a=t[i],s=e.position[i];if(a.field.isKeyField()?r=dt.comparator(dt.fromName(s.referenceValue),n.key):r=lh(s,n.data.field(a.field)),a.dir==="desc"&&(r*=-1),r!==0)break}return r}function gk(e,t){if(e===null)return t===null;if(t===null||e.inclusive!==t.inclusive||e.position.length!==t.position.length)return!1;for(let n=0;n<e.position.length;n++)if(!Xo(e.position[n],t.position[n]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zv{constructor(t,n="asc"){this.field=t,this.dir=n}}function SQ(e,t){return e.dir===t.dir&&e.field.isEqual(t.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class GR{}class Mr extends GR{constructor(t,n,r){super(),this.field=t,this.op=n,this.value=r}static create(t,n,r){return t.isKeyField()?n==="in"||n==="not-in"?this.createKeyFieldInFilter(t,n,r):new PQ(t,n,r):n==="array-contains"?new kQ(t,r):n==="in"?new TQ(t,r):n==="not-in"?new CQ(t,r):n==="array-contains-any"?new jQ(t,r):new Mr(t,n,r)}static createKeyFieldInFilter(t,n,r){return n==="in"?new EQ(t,r):new NQ(t,r)}matches(t){const n=t.data.field(this.field);return this.op==="!="?n!==null&&this.matchesComparison(lh(n,this.value)):n!==null&&Ed(this.value)===Ed(n)&&this.matchesComparison(lh(n,this.value))}matchesComparison(t){switch(this.op){case"<":return t<0;case"<=":return t<=0;case"==":return t===0;case"!=":return t!==0;case">":return t>0;case">=":return t>=0;default:return Pt()}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class ao extends GR{constructor(t,n){super(),this.filters=t,this.op=n,this.ae=null}static create(t,n){return new ao(t,n)}matches(t){return YR(this)?this.filters.find(n=>!n.matches(t))===void 0:this.filters.find(n=>n.matches(t))!==void 0}getFlattenedFilters(){return this.ae!==null||(this.ae=this.filters.reduce((t,n)=>t.concat(n.getFlattenedFilters()),[])),this.ae}getFilters(){return Object.assign([],this.filters)}}function YR(e){return e.op==="and"}function XR(e){return AQ(e)&&YR(e)}function AQ(e){for(const t of e.filters)if(t instanceof ao)return!1;return!0}function m4(e){if(e instanceof Mr)return e.field.canonicalString()+e.op.toString()+uh(e.value);if(XR(e))return e.filters.map(t=>m4(t)).join(",");{const t=e.filters.map(n=>m4(n)).join(",");return`${e.op}(${t})`}}function QR(e,t){return e instanceof Mr?function(r,i){return i instanceof Mr&&r.op===i.op&&r.field.isEqual(i.field)&&Xo(r.value,i.value)}(e,t):e instanceof ao?function(r,i){return i instanceof ao&&r.op===i.op&&r.filters.length===i.filters.length?r.filters.reduce((a,s,o)=>a&&QR(s,i.filters[o]),!0):!1}(e,t):void Pt()}function ZR(e){return e instanceof Mr?function(n){return`${n.field.canonicalString()} ${n.op} ${uh(n.value)}`}(e):e instanceof ao?function(n){return n.op.toString()+" {"+n.getFilters().map(ZR).join(" ,")+"}"}(e):"Filter"}class PQ extends Mr{constructor(t,n,r){super(t,n,r),this.key=dt.fromName(r.referenceValue)}matches(t){const n=dt.comparator(t.key,this.key);return this.matchesComparison(n)}}class EQ extends Mr{constructor(t,n){super(t,"in",n),this.keys=JR("in",n)}matches(t){return this.keys.some(n=>n.isEqual(t.key))}}class NQ extends Mr{constructor(t,n){super(t,"not-in",n),this.keys=JR("not-in",n)}matches(t){return!this.keys.some(n=>n.isEqual(t.key))}}function JR(e,t){var n;return(((n=t.arrayValue)===null||n===void 0?void 0:n.values)||[]).map(r=>dt.fromName(r.referenceValue))}class kQ extends Mr{constructor(t,n){super(t,"array-contains",n)}matches(t){const n=t.data.field(this.field);return dS(n)&&$m(n.arrayValue,this.value)}}class TQ extends Mr{constructor(t,n){super(t,"in",n)}matches(t){const n=t.data.field(this.field);return n!==null&&$m(this.value.arrayValue,n)}}class CQ extends Mr{constructor(t,n){super(t,"not-in",n)}matches(t){if($m(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const n=t.data.field(this.field);return n!==null&&!$m(this.value.arrayValue,n)}}class jQ extends Mr{constructor(t,n){super(t,"array-contains-any",n)}matches(t){const n=t.data.field(this.field);return!(!dS(n)||!n.arrayValue.values)&&n.arrayValue.values.some(r=>$m(this.value.arrayValue,r))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class IQ{constructor(t,n=null,r=[],i=[],a=null,s=null,o=null){this.path=t,this.collectionGroup=n,this.orderBy=r,this.filters=i,this.limit=a,this.startAt=s,this.endAt=o,this.ue=null}}function vk(e,t=null,n=[],r=[],i=null,a=null,s=null){return new IQ(e,t,n,r,i,a,s)}function fS(e){const t=Et(e);if(t.ue===null){let n=t.path.canonicalString();t.collectionGroup!==null&&(n+="|cg:"+t.collectionGroup),n+="|f:",n+=t.filters.map(r=>m4(r)).join(","),n+="|ob:",n+=t.orderBy.map(r=>function(a){return a.field.canonicalString()+a.dir}(r)).join(","),A2(t.limit)||(n+="|l:",n+=t.limit),t.startAt&&(n+="|lb:",n+=t.startAt.inclusive?"b:":"a:",n+=t.startAt.position.map(r=>uh(r)).join(",")),t.endAt&&(n+="|ub:",n+=t.endAt.inclusive?"a:":"b:",n+=t.endAt.position.map(r=>uh(r)).join(",")),t.ue=n}return t.ue}function hS(e,t){if(e.limit!==t.limit||e.orderBy.length!==t.orderBy.length)return!1;for(let n=0;n<e.orderBy.length;n++)if(!SQ(e.orderBy[n],t.orderBy[n]))return!1;if(e.filters.length!==t.filters.length)return!1;for(let n=0;n<e.filters.length;n++)if(!QR(e.filters[n],t.filters[n]))return!1;return e.collectionGroup===t.collectionGroup&&!!e.path.isEqual(t.path)&&!!gk(e.startAt,t.startAt)&&gk(e.endAt,t.endAt)}function g4(e){return dt.isDocumentKey(e.path)&&e.collectionGroup===null&&e.filters.length===0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class E0{constructor(t,n=null,r=[],i=[],a=null,s="F",o=null,l=null){this.path=t,this.collectionGroup=n,this.explicitOrderBy=r,this.filters=i,this.limit=a,this.limitType=s,this.startAt=o,this.endAt=l,this.ce=null,this.le=null,this.he=null,this.startAt,this.endAt}}function OQ(e,t,n,r,i,a,s,o){return new E0(e,t,n,r,i,a,s,o)}function P2(e){return new E0(e)}function yk(e){return e.filters.length===0&&e.limit===null&&e.startAt==null&&e.endAt==null&&(e.explicitOrderBy.length===0||e.explicitOrderBy.length===1&&e.explicitOrderBy[0].field.isKeyField())}function eM(e){return e.collectionGroup!==null}function sm(e){const t=Et(e);if(t.ce===null){t.ce=[];const n=new Set;for(const a of t.explicitOrderBy)t.ce.push(a),n.add(a.field.canonicalString());const r=t.explicitOrderBy.length>0?t.explicitOrderBy[t.explicitOrderBy.length-1].dir:"asc";(function(s){let o=new Pi(_i.comparator);return s.filters.forEach(l=>{l.getFlattenedFilters().forEach(u=>{u.isInequality()&&(o=o.add(u.field))})}),o})(t).forEach(a=>{n.has(a.canonicalString())||a.isKeyField()||t.ce.push(new zv(a,r))}),n.has(_i.keyField().canonicalString())||t.ce.push(new zv(_i.keyField(),r))}return t.ce}function Wo(e){const t=Et(e);return t.le||(t.le=tM(t,sm(e))),t.le}function LQ(e){const t=Et(e);return t.he||(t.he=tM(t,e.explicitOrderBy)),t.he}function tM(e,t){if(e.limitType==="F")return vk(e.path,e.collectionGroup,t,e.filters,e.limit,e.startAt,e.endAt);{t=t.map(i=>{const a=i.dir==="desc"?"asc":"desc";return new zv(i.field,a)});const n=e.endAt?new Vv(e.endAt.position,e.endAt.inclusive):null,r=e.startAt?new Vv(e.startAt.position,e.startAt.inclusive):null;return vk(e.path,e.collectionGroup,t,e.filters,e.limit,n,r)}}function v4(e,t){const n=e.filters.concat([t]);return new E0(e.path,e.collectionGroup,e.explicitOrderBy.slice(),n,e.limit,e.limitType,e.startAt,e.endAt)}function y4(e,t,n){return new E0(e.path,e.collectionGroup,e.explicitOrderBy.slice(),e.filters.slice(),t,n,e.startAt,e.endAt)}function E2(e,t){return hS(Wo(e),Wo(t))&&e.limitType===t.limitType}function nM(e){return`${fS(Wo(e))}|lt:${e.limitType}`}function df(e){return`Query(target=${function(n){let r=n.path.canonicalString();return n.collectionGroup!==null&&(r+=" collectionGroup="+n.collectionGroup),n.filters.length>0&&(r+=`, filters: [${n.filters.map(i=>ZR(i)).join(", ")}]`),A2(n.limit)||(r+=", limit: "+n.limit),n.orderBy.length>0&&(r+=`, orderBy: [${n.orderBy.map(i=>function(s){return`${s.field.canonicalString()} (${s.dir})`}(i)).join(", ")}]`),n.startAt&&(r+=", startAt: ",r+=n.startAt.inclusive?"b:":"a:",r+=n.startAt.position.map(i=>uh(i)).join(",")),n.endAt&&(r+=", endAt: ",r+=n.endAt.inclusive?"a:":"b:",r+=n.endAt.position.map(i=>uh(i)).join(",")),`Target(${r})`}(Wo(e))}; limitType=${e.limitType})`}function N2(e,t){return t.isFoundDocument()&&function(r,i){const a=i.key.path;return r.collectionGroup!==null?i.key.hasCollectionId(r.collectionGroup)&&r.path.isPrefixOf(a):dt.isDocumentKey(r.path)?r.path.isEqual(a):r.path.isImmediateParentOf(a)}(e,t)&&function(r,i){for(const a of sm(r))if(!a.field.isKeyField()&&i.data.field(a.field)===null)return!1;return!0}(e,t)&&function(r,i){for(const a of r.filters)if(!a.matches(i))return!1;return!0}(e,t)&&function(r,i){return!(r.startAt&&!function(s,o,l){const u=mk(s,o,l);return s.inclusive?u<=0:u<0}(r.startAt,sm(r),i)||r.endAt&&!function(s,o,l){const u=mk(s,o,l);return s.inclusive?u>=0:u>0}(r.endAt,sm(r),i))}(e,t)}function RQ(e){return e.collectionGroup||(e.path.length%2==1?e.path.lastSegment():e.path.get(e.path.length-2))}function rM(e){return(t,n)=>{let r=!1;for(const i of sm(e)){const a=MQ(i,t,n);if(a!==0)return a;r=r||i.field.isKeyField()}return 0}}function MQ(e,t,n){const r=e.field.isKeyField()?dt.comparator(t.key,n.key):function(a,s,o){const l=s.data.field(a),u=o.data.field(a);return l!==null&&u!==null?lh(l,u):Pt()}(e.field,t,n);switch(e.dir){case"asc":return r;case"desc":return-1*r;default:return Pt()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Oh{constructor(t,n){this.mapKeyFn=t,this.equalsFn=n,this.inner={},this.innerSize=0}get(t){const n=this.mapKeyFn(t),r=this.inner[n];if(r!==void 0){for(const[i,a]of r)if(this.equalsFn(i,t))return a}}has(t){return this.get(t)!==void 0}set(t,n){const r=this.mapKeyFn(t),i=this.inner[r];if(i===void 0)return this.inner[r]=[[t,n]],void this.innerSize++;for(let a=0;a<i.length;a++)if(this.equalsFn(i[a][0],t))return void(i[a]=[t,n]);i.push([t,n]),this.innerSize++}delete(t){const n=this.mapKeyFn(t),r=this.inner[n];if(r===void 0)return!1;for(let i=0;i<r.length;i++)if(this.equalsFn(r[i][0],t))return r.length===1?delete this.inner[n]:r.splice(i,1),this.innerSize--,!0;return!1}forEach(t){$d(this.inner,(n,r)=>{for(const[i,a]of r)t(i,a)})}isEmpty(){return qR(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const DQ=new ir(dt.comparator);function Dl(){return DQ}const iM=new ir(dt.comparator);function Wp(...e){let t=iM;for(const n of e)t=t.insert(n.key,n);return t}function aM(e){let t=iM;return e.forEach((n,r)=>t=t.insert(n,r.overlayedDocument)),t}function id(){return om()}function sM(){return om()}function om(){return new Oh(e=>e.toString(),(e,t)=>e.isEqual(t))}const FQ=new ir(dt.comparator),BQ=new Pi(dt.comparator);function zt(...e){let t=BQ;for(const n of e)t=t.add(n);return t}const VQ=new Pi(Jt);function zQ(){return VQ}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function pS(e,t){if(e.useProto3Json){if(isNaN(t))return{doubleValue:"NaN"};if(t===1/0)return{doubleValue:"Infinity"};if(t===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:Bv(t)?"-0":t}}function oM(e){return{integerValue:""+e}}function $Q(e,t){return vQ(t)?oM(t):pS(e,t)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class k2{constructor(){this._=void 0}}function UQ(e,t,n){return e instanceof $v?function(i,a){const s={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:i.seconds,nanos:i.nanoseconds}}}};return a&&uS(a)&&(a=cS(a)),a&&(s.fields.__previous_value__=a),{mapValue:s}}(n,t):e instanceof Um?uM(e,t):e instanceof Wm?cM(e,t):function(i,a){const s=lM(i,a),o=xk(s)+xk(i.Pe);return p4(s)&&p4(i.Pe)?oM(o):pS(i.serializer,o)}(e,t)}function WQ(e,t,n){return e instanceof Um?uM(e,t):e instanceof Wm?cM(e,t):n}function lM(e,t){return e instanceof Uv?function(r){return p4(r)||function(a){return!!a&&"doubleValue"in a}(r)}(t)?t:{integerValue:0}:null}class $v extends k2{}class Um extends k2{constructor(t){super(),this.elements=t}}function uM(e,t){const n=dM(t);for(const r of e.elements)n.some(i=>Xo(i,r))||n.push(r);return{arrayValue:{values:n}}}class Wm extends k2{constructor(t){super(),this.elements=t}}function cM(e,t){let n=dM(t);for(const r of e.elements)n=n.filter(i=>!Xo(i,r));return{arrayValue:{values:n}}}class Uv extends k2{constructor(t,n){super(),this.serializer=t,this.Pe=n}}function xk(e){return Pr(e.integerValue||e.doubleValue)}function dM(e){return dS(e)&&e.arrayValue.values?e.arrayValue.values.slice():[]}function qQ(e,t){return e.field.isEqual(t.field)&&function(r,i){return r instanceof Um&&i instanceof Um||r instanceof Wm&&i instanceof Wm?oh(r.elements,i.elements,Xo):r instanceof Uv&&i instanceof Uv?Xo(r.Pe,i.Pe):r instanceof $v&&i instanceof $v}(e.transform,t.transform)}class HQ{constructor(t,n){this.version=t,this.transformResults=n}}class la{constructor(t,n){this.updateTime=t,this.exists=n}static none(){return new la}static exists(t){return new la(void 0,t)}static updateTime(t){return new la(t)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(t){return this.exists===t.exists&&(this.updateTime?!!t.updateTime&&this.updateTime.isEqual(t.updateTime):!t.updateTime)}}function U1(e,t){return e.updateTime!==void 0?t.isFoundDocument()&&t.version.isEqual(e.updateTime):e.exists===void 0||e.exists===t.isFoundDocument()}class T2{}function fM(e,t){if(!e.hasLocalMutations||t&&t.fields.length===0)return null;if(t===null)return e.isNoDocument()?new C2(e.key,la.none()):new N0(e.key,e.data,la.none());{const n=e.data,r=_a.empty();let i=new Pi(_i.comparator);for(let a of t.fields)if(!i.has(a)){let s=n.field(a);s===null&&a.length>1&&(a=a.popLast(),s=n.field(a)),s===null?r.delete(a):r.set(a,s),i=i.add(a)}return new xc(e.key,r,new Qa(i.toArray()),la.none())}}function KQ(e,t,n){e instanceof N0?function(i,a,s){const o=i.value.clone(),l=wk(i.fieldTransforms,a,s.transformResults);o.setAll(l),a.convertToFoundDocument(s.version,o).setHasCommittedMutations()}(e,t,n):e instanceof xc?function(i,a,s){if(!U1(i.precondition,a))return void a.convertToUnknownDocument(s.version);const o=wk(i.fieldTransforms,a,s.transformResults),l=a.data;l.setAll(hM(i)),l.setAll(o),a.convertToFoundDocument(s.version,l).setHasCommittedMutations()}(e,t,n):function(i,a,s){a.convertToNoDocument(s.version).setHasCommittedMutations()}(0,t,n)}function lm(e,t,n,r){return e instanceof N0?function(a,s,o,l){if(!U1(a.precondition,s))return o;const u=a.value.clone(),c=_k(a.fieldTransforms,l,s);return u.setAll(c),s.convertToFoundDocument(s.version,u).setHasLocalMutations(),null}(e,t,n,r):e instanceof xc?function(a,s,o,l){if(!U1(a.precondition,s))return o;const u=_k(a.fieldTransforms,l,s),c=s.data;return c.setAll(hM(a)),c.setAll(u),s.convertToFoundDocument(s.version,c).setHasLocalMutations(),o===null?null:o.unionWith(a.fieldMask.fields).unionWith(a.fieldTransforms.map(d=>d.field))}(e,t,n,r):function(a,s,o){return U1(a.precondition,s)?(s.convertToNoDocument(s.version).setHasLocalMutations(),null):o}(e,t,n)}function GQ(e,t){let n=null;for(const r of e.fieldTransforms){const i=t.data.field(r.field),a=lM(r.transform,i||null);a!=null&&(n===null&&(n=_a.empty()),n.set(r.field,a))}return n||null}function bk(e,t){return e.type===t.type&&!!e.key.isEqual(t.key)&&!!e.precondition.isEqual(t.precondition)&&!!function(r,i){return r===void 0&&i===void 0||!(!r||!i)&&oh(r,i,(a,s)=>qQ(a,s))}(e.fieldTransforms,t.fieldTransforms)&&(e.type===0?e.value.isEqual(t.value):e.type!==1||e.data.isEqual(t.data)&&e.fieldMask.isEqual(t.fieldMask))}class N0 extends T2{constructor(t,n,r,i=[]){super(),this.key=t,this.value=n,this.precondition=r,this.fieldTransforms=i,this.type=0}getFieldMask(){return null}}class xc extends T2{constructor(t,n,r,i,a=[]){super(),this.key=t,this.data=n,this.fieldMask=r,this.precondition=i,this.fieldTransforms=a,this.type=1}getFieldMask(){return this.fieldMask}}function hM(e){const t=new Map;return e.fieldMask.fields.forEach(n=>{if(!n.isEmpty()){const r=e.data.field(n);t.set(n,r)}}),t}function wk(e,t,n){const r=new Map;on(e.length===n.length);for(let i=0;i<n.length;i++){const a=e[i],s=a.transform,o=t.data.field(a.field);r.set(a.field,WQ(s,o,n[i]))}return r}function _k(e,t,n){const r=new Map;for(const i of e){const a=i.transform,s=n.data.field(i.field);r.set(i.field,UQ(a,s,t))}return r}class C2 extends T2{constructor(t,n){super(),this.key=t,this.precondition=n,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class YQ extends T2{constructor(t,n){super(),this.key=t,this.precondition=n,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class XQ{constructor(t,n,r,i){this.batchId=t,this.localWriteTime=n,this.baseMutations=r,this.mutations=i}applyToRemoteDocument(t,n){const r=n.mutationResults;for(let i=0;i<this.mutations.length;i++){const a=this.mutations[i];a.key.isEqual(t.key)&&KQ(a,t,r[i])}}applyToLocalView(t,n){for(const r of this.baseMutations)r.key.isEqual(t.key)&&(n=lm(r,t,n,this.localWriteTime));for(const r of this.mutations)r.key.isEqual(t.key)&&(n=lm(r,t,n,this.localWriteTime));return n}applyToLocalDocumentSet(t,n){const r=sM();return this.mutations.forEach(i=>{const a=t.get(i.key),s=a.overlayedDocument;let o=this.applyToLocalView(s,a.mutatedFields);o=n.has(i.key)?null:o;const l=fM(s,o);l!==null&&r.set(i.key,l),s.isValidDocument()||s.convertToNoDocument(Ct.min())}),r}keys(){return this.mutations.reduce((t,n)=>t.add(n.key),zt())}isEqual(t){return this.batchId===t.batchId&&oh(this.mutations,t.mutations,(n,r)=>bk(n,r))&&oh(this.baseMutations,t.baseMutations,(n,r)=>bk(n,r))}}class mS{constructor(t,n,r,i){this.batch=t,this.commitVersion=n,this.mutationResults=r,this.docVersions=i}static from(t,n,r){on(t.mutations.length===r.length);let i=function(){return FQ}();const a=t.mutations;for(let s=0;s<a.length;s++)i=i.insert(a[s].key,r[s].version);return new mS(t,n,r,i)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class QQ{constructor(t,n){this.largestBatchId=t,this.mutation=n}getKey(){return this.mutation.key}isEqual(t){return t!==null&&this.mutation===t.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ZQ{constructor(t,n,r){this.alias=t,this.aggregateType=n,this.fieldPath=r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class JQ{constructor(t,n){this.count=t,this.unchangedNames=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Ir,Gt;function eZ(e){switch(e){default:return Pt();case Ie.CANCELLED:case Ie.UNKNOWN:case Ie.DEADLINE_EXCEEDED:case Ie.RESOURCE_EXHAUSTED:case Ie.INTERNAL:case Ie.UNAVAILABLE:case Ie.UNAUTHENTICATED:return!1;case Ie.INVALID_ARGUMENT:case Ie.NOT_FOUND:case Ie.ALREADY_EXISTS:case Ie.PERMISSION_DENIED:case Ie.FAILED_PRECONDITION:case Ie.ABORTED:case Ie.OUT_OF_RANGE:case Ie.UNIMPLEMENTED:case Ie.DATA_LOSS:return!0}}function pM(e){if(e===void 0)return Ml("GRPC error has no .code"),Ie.UNKNOWN;switch(e){case Ir.OK:return Ie.OK;case Ir.CANCELLED:return Ie.CANCELLED;case Ir.UNKNOWN:return Ie.UNKNOWN;case Ir.DEADLINE_EXCEEDED:return Ie.DEADLINE_EXCEEDED;case Ir.RESOURCE_EXHAUSTED:return Ie.RESOURCE_EXHAUSTED;case Ir.INTERNAL:return Ie.INTERNAL;case Ir.UNAVAILABLE:return Ie.UNAVAILABLE;case Ir.UNAUTHENTICATED:return Ie.UNAUTHENTICATED;case Ir.INVALID_ARGUMENT:return Ie.INVALID_ARGUMENT;case Ir.NOT_FOUND:return Ie.NOT_FOUND;case Ir.ALREADY_EXISTS:return Ie.ALREADY_EXISTS;case Ir.PERMISSION_DENIED:return Ie.PERMISSION_DENIED;case Ir.FAILED_PRECONDITION:return Ie.FAILED_PRECONDITION;case Ir.ABORTED:return Ie.ABORTED;case Ir.OUT_OF_RANGE:return Ie.OUT_OF_RANGE;case Ir.UNIMPLEMENTED:return Ie.UNIMPLEMENTED;case Ir.DATA_LOSS:return Ie.DATA_LOSS;default:return Pt()}}(Gt=Ir||(Ir={}))[Gt.OK=0]="OK",Gt[Gt.CANCELLED=1]="CANCELLED",Gt[Gt.UNKNOWN=2]="UNKNOWN",Gt[Gt.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",Gt[Gt.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",Gt[Gt.NOT_FOUND=5]="NOT_FOUND",Gt[Gt.ALREADY_EXISTS=6]="ALREADY_EXISTS",Gt[Gt.PERMISSION_DENIED=7]="PERMISSION_DENIED",Gt[Gt.UNAUTHENTICATED=16]="UNAUTHENTICATED",Gt[Gt.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",Gt[Gt.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",Gt[Gt.ABORTED=10]="ABORTED",Gt[Gt.OUT_OF_RANGE=11]="OUT_OF_RANGE",Gt[Gt.UNIMPLEMENTED=12]="UNIMPLEMENTED",Gt[Gt.INTERNAL=13]="INTERNAL",Gt[Gt.UNAVAILABLE=14]="UNAVAILABLE",Gt[Gt.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function tZ(){return new TextEncoder}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const nZ=new fd([4294967295,4294967295],0);function Sk(e){const t=tZ().encode(e),n=new DR;return n.update(t),new Uint8Array(n.digest())}function Ak(e){const t=new DataView(e.buffer),n=t.getUint32(0,!0),r=t.getUint32(4,!0),i=t.getUint32(8,!0),a=t.getUint32(12,!0);return[new fd([n,r],0),new fd([i,a],0)]}class gS{constructor(t,n,r){if(this.bitmap=t,this.padding=n,this.hashCount=r,n<0||n>=8)throw new qp(`Invalid padding: ${n}`);if(r<0)throw new qp(`Invalid hash count: ${r}`);if(t.length>0&&this.hashCount===0)throw new qp(`Invalid hash count: ${r}`);if(t.length===0&&n!==0)throw new qp(`Invalid padding when bitmap length is 0: ${n}`);this.Ie=8*t.length-n,this.Te=fd.fromNumber(this.Ie)}Ee(t,n,r){let i=t.add(n.multiply(fd.fromNumber(r)));return i.compare(nZ)===1&&(i=new fd([i.getBits(0),i.getBits(1)],0)),i.modulo(this.Te).toNumber()}de(t){return(this.bitmap[Math.floor(t/8)]&1<<t%8)!=0}mightContain(t){if(this.Ie===0)return!1;const n=Sk(t),[r,i]=Ak(n);for(let a=0;a<this.hashCount;a++){const s=this.Ee(r,i,a);if(!this.de(s))return!1}return!0}static create(t,n,r){const i=t%8==0?0:8-t%8,a=new Uint8Array(Math.ceil(t/8)),s=new gS(a,i,n);return r.forEach(o=>s.insert(o)),s}insert(t){if(this.Ie===0)return;const n=Sk(t),[r,i]=Ak(n);for(let a=0;a<this.hashCount;a++){const s=this.Ee(r,i,a);this.Ae(s)}}Ae(t){const n=Math.floor(t/8),r=t%8;this.bitmap[n]|=1<<r}}class qp extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class j2{constructor(t,n,r,i,a){this.snapshotVersion=t,this.targetChanges=n,this.targetMismatches=r,this.documentUpdates=i,this.resolvedLimboDocuments=a}static createSynthesizedRemoteEventForCurrentChange(t,n,r){const i=new Map;return i.set(t,k0.createSynthesizedTargetChangeForCurrentChange(t,n,r)),new j2(Ct.min(),i,new ir(Jt),Dl(),zt())}}class k0{constructor(t,n,r,i,a){this.resumeToken=t,this.current=n,this.addedDocuments=r,this.modifiedDocuments=i,this.removedDocuments=a}static createSynthesizedTargetChangeForCurrentChange(t,n,r){return new k0(r,n,zt(),zt(),zt())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class W1{constructor(t,n,r,i){this.Re=t,this.removedTargetIds=n,this.key=r,this.Ve=i}}class mM{constructor(t,n){this.targetId=t,this.me=n}}class gM{constructor(t,n,r=Ni.EMPTY_BYTE_STRING,i=null){this.state=t,this.targetIds=n,this.resumeToken=r,this.cause=i}}class Pk{constructor(){this.fe=0,this.ge=Nk(),this.pe=Ni.EMPTY_BYTE_STRING,this.ye=!1,this.we=!0}get current(){return this.ye}get resumeToken(){return this.pe}get Se(){return this.fe!==0}get be(){return this.we}De(t){t.approximateByteSize()>0&&(this.we=!0,this.pe=t)}ve(){let t=zt(),n=zt(),r=zt();return this.ge.forEach((i,a)=>{switch(a){case 0:t=t.add(i);break;case 2:n=n.add(i);break;case 1:r=r.add(i);break;default:Pt()}}),new k0(this.pe,this.ye,t,n,r)}Ce(){this.we=!1,this.ge=Nk()}Fe(t,n){this.we=!0,this.ge=this.ge.insert(t,n)}Me(t){this.we=!0,this.ge=this.ge.remove(t)}xe(){this.fe+=1}Oe(){this.fe-=1,on(this.fe>=0)}Ne(){this.we=!0,this.ye=!0}}class rZ{constructor(t){this.Le=t,this.Be=new Map,this.ke=Dl(),this.qe=Ek(),this.Qe=new ir(Jt)}Ke(t){for(const n of t.Re)t.Ve&&t.Ve.isFoundDocument()?this.$e(n,t.Ve):this.Ue(n,t.key,t.Ve);for(const n of t.removedTargetIds)this.Ue(n,t.key,t.Ve)}We(t){this.forEachTarget(t,n=>{const r=this.Ge(n);switch(t.state){case 0:this.ze(n)&&r.De(t.resumeToken);break;case 1:r.Oe(),r.Se||r.Ce(),r.De(t.resumeToken);break;case 2:r.Oe(),r.Se||this.removeTarget(n);break;case 3:this.ze(n)&&(r.Ne(),r.De(t.resumeToken));break;case 4:this.ze(n)&&(this.je(n),r.De(t.resumeToken));break;default:Pt()}})}forEachTarget(t,n){t.targetIds.length>0?t.targetIds.forEach(n):this.Be.forEach((r,i)=>{this.ze(i)&&n(i)})}He(t){const n=t.targetId,r=t.me.count,i=this.Je(n);if(i){const a=i.target;if(g4(a))if(r===0){const s=new dt(a.path);this.Ue(n,s,Wi.newNoDocument(s,Ct.min()))}else on(r===1);else{const s=this.Ye(n);if(s!==r){const o=this.Ze(t),l=o?this.Xe(o,t,s):1;if(l!==0){this.je(n);const u=l===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Qe=this.Qe.insert(n,u)}}}}}Ze(t){const n=t.me.unchangedNames;if(!n||!n.bits)return null;const{bits:{bitmap:r="",padding:i=0},hashCount:a=0}=n;let s,o;try{s=Pd(r).toUint8Array()}catch(l){if(l instanceof HR)return sh("Decoding the base64 bloom filter in existence filter failed ("+l.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw l}try{o=new gS(s,i,a)}catch(l){return sh(l instanceof qp?"BloomFilter error: ":"Applying bloom filter failed: ",l),null}return o.Ie===0?null:o}Xe(t,n,r){return n.me.count===r-this.nt(t,n.targetId)?0:2}nt(t,n){const r=this.Le.getRemoteKeysForTarget(n);let i=0;return r.forEach(a=>{const s=this.Le.tt(),o=`projects/${s.projectId}/databases/${s.database}/documents/${a.path.canonicalString()}`;t.mightContain(o)||(this.Ue(n,a,null),i++)}),i}rt(t){const n=new Map;this.Be.forEach((a,s)=>{const o=this.Je(s);if(o){if(a.current&&g4(o.target)){const l=new dt(o.target.path);this.ke.get(l)!==null||this.it(s,l)||this.Ue(s,l,Wi.newNoDocument(l,t))}a.be&&(n.set(s,a.ve()),a.Ce())}});let r=zt();this.qe.forEach((a,s)=>{let o=!0;s.forEachWhile(l=>{const u=this.Je(l);return!u||u.purpose==="TargetPurposeLimboResolution"||(o=!1,!1)}),o&&(r=r.add(a))}),this.ke.forEach((a,s)=>s.setReadTime(t));const i=new j2(t,n,this.Qe,this.ke,r);return this.ke=Dl(),this.qe=Ek(),this.Qe=new ir(Jt),i}$e(t,n){if(!this.ze(t))return;const r=this.it(t,n.key)?2:0;this.Ge(t).Fe(n.key,r),this.ke=this.ke.insert(n.key,n),this.qe=this.qe.insert(n.key,this.st(n.key).add(t))}Ue(t,n,r){if(!this.ze(t))return;const i=this.Ge(t);this.it(t,n)?i.Fe(n,1):i.Me(n),this.qe=this.qe.insert(n,this.st(n).delete(t)),r&&(this.ke=this.ke.insert(n,r))}removeTarget(t){this.Be.delete(t)}Ye(t){const n=this.Ge(t).ve();return this.Le.getRemoteKeysForTarget(t).size+n.addedDocuments.size-n.removedDocuments.size}xe(t){this.Ge(t).xe()}Ge(t){let n=this.Be.get(t);return n||(n=new Pk,this.Be.set(t,n)),n}st(t){let n=this.qe.get(t);return n||(n=new Pi(Jt),this.qe=this.qe.insert(t,n)),n}ze(t){const n=this.Je(t)!==null;return n||et("WatchChangeAggregator","Detected inactive target",t),n}Je(t){const n=this.Be.get(t);return n&&n.Se?null:this.Le.ot(t)}je(t){this.Be.set(t,new Pk),this.Le.getRemoteKeysForTarget(t).forEach(n=>{this.Ue(t,n,null)})}it(t,n){return this.Le.getRemoteKeysForTarget(t).has(n)}}function Ek(){return new ir(dt.comparator)}function Nk(){return new ir(dt.comparator)}const iZ={asc:"ASCENDING",desc:"DESCENDING"},aZ={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},sZ={and:"AND",or:"OR"};class oZ{constructor(t,n){this.databaseId=t,this.useProto3Json=n}}function x4(e,t){return e.useProto3Json||A2(t)?t:{value:t}}function Wv(e,t){return e.useProto3Json?`${new Date(1e3*t.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+t.nanoseconds).slice(-9)}Z`:{seconds:""+t.seconds,nanos:t.nanoseconds}}function vM(e,t){return e.useProto3Json?t.toBase64():t.toUint8Array()}function lZ(e,t){return Wv(e,t.toTimestamp())}function qo(e){return on(!!e),Ct.fromTimestamp(function(n){const r=oc(n);return new gr(r.seconds,r.nanos)}(e))}function vS(e,t){return b4(e,t).canonicalString()}function b4(e,t){const n=function(i){return new Dn(["projects",i.projectId,"databases",i.database])}(e).child("documents");return t===void 0?n:n.child(t)}function yM(e){const t=Dn.fromString(e);return on(AM(t)),t}function w4(e,t){return vS(e.databaseId,t.path)}function Hb(e,t){const n=yM(t);if(n.get(1)!==e.databaseId.projectId)throw new qe(Ie.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+e.databaseId.projectId);if(n.get(3)!==e.databaseId.database)throw new qe(Ie.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+e.databaseId.database);return new dt(bM(n))}function xM(e,t){return vS(e.databaseId,t)}function uZ(e){const t=yM(e);return t.length===4?Dn.emptyPath():bM(t)}function _4(e){return new Dn(["projects",e.databaseId.projectId,"databases",e.databaseId.database]).canonicalString()}function bM(e){return on(e.length>4&&e.get(4)==="documents"),e.popFirst(5)}function kk(e,t,n){return{name:w4(e,t),fields:n.value.mapValue.fields}}function cZ(e,t){let n;if("targetChange"in t){t.targetChange;const r=function(u){return u==="NO_CHANGE"?0:u==="ADD"?1:u==="REMOVE"?2:u==="CURRENT"?3:u==="RESET"?4:Pt()}(t.targetChange.targetChangeType||"NO_CHANGE"),i=t.targetChange.targetIds||[],a=function(u,c){return u.useProto3Json?(on(c===void 0||typeof c=="string"),Ni.fromBase64String(c||"")):(on(c===void 0||c instanceof Buffer||c instanceof Uint8Array),Ni.fromUint8Array(c||new Uint8Array))}(e,t.targetChange.resumeToken),s=t.targetChange.cause,o=s&&function(u){const c=u.code===void 0?Ie.UNKNOWN:pM(u.code);return new qe(c,u.message||"")}(s);n=new gM(r,i,a,o||null)}else if("documentChange"in t){t.documentChange;const r=t.documentChange;r.document,r.document.name,r.document.updateTime;const i=Hb(e,r.document.name),a=qo(r.document.updateTime),s=r.document.createTime?qo(r.document.createTime):Ct.min(),o=new _a({mapValue:{fields:r.document.fields}}),l=Wi.newFoundDocument(i,a,s,o),u=r.targetIds||[],c=r.removedTargetIds||[];n=new W1(u,c,l.key,l)}else if("documentDelete"in t){t.documentDelete;const r=t.documentDelete;r.document;const i=Hb(e,r.document),a=r.readTime?qo(r.readTime):Ct.min(),s=Wi.newNoDocument(i,a),o=r.removedTargetIds||[];n=new W1([],o,s.key,s)}else if("documentRemove"in t){t.documentRemove;const r=t.documentRemove;r.document;const i=Hb(e,r.document),a=r.removedTargetIds||[];n=new W1([],a,i,null)}else{if(!("filter"in t))return Pt();{t.filter;const r=t.filter;r.targetId;const{count:i=0,unchangedNames:a}=r,s=new JQ(i,a),o=r.targetId;n=new mM(o,s)}}return n}function dZ(e,t){let n;if(t instanceof N0)n={update:kk(e,t.key,t.value)};else if(t instanceof C2)n={delete:w4(e,t.key)};else if(t instanceof xc)n={update:kk(e,t.key,t.data),updateMask:bZ(t.fieldMask)};else{if(!(t instanceof YQ))return Pt();n={verify:w4(e,t.key)}}return t.fieldTransforms.length>0&&(n.updateTransforms=t.fieldTransforms.map(r=>function(a,s){const o=s.transform;if(o instanceof $v)return{fieldPath:s.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(o instanceof Um)return{fieldPath:s.field.canonicalString(),appendMissingElements:{values:o.elements}};if(o instanceof Wm)return{fieldPath:s.field.canonicalString(),removeAllFromArray:{values:o.elements}};if(o instanceof Uv)return{fieldPath:s.field.canonicalString(),increment:o.Pe};throw Pt()}(0,r))),t.precondition.isNone||(n.currentDocument=function(i,a){return a.updateTime!==void 0?{updateTime:lZ(i,a.updateTime)}:a.exists!==void 0?{exists:a.exists}:Pt()}(e,t.precondition)),n}function fZ(e,t){return e&&e.length>0?(on(t!==void 0),e.map(n=>function(i,a){let s=i.updateTime?qo(i.updateTime):qo(a);return s.isEqual(Ct.min())&&(s=qo(a)),new HQ(s,i.transformResults||[])}(n,t))):[]}function hZ(e,t){return{documents:[xM(e,t.path)]}}function wM(e,t){const n={structuredQuery:{}},r=t.path;let i;t.collectionGroup!==null?(i=r,n.structuredQuery.from=[{collectionId:t.collectionGroup,allDescendants:!0}]):(i=r.popLast(),n.structuredQuery.from=[{collectionId:r.lastSegment()}]),n.parent=xM(e,i);const a=function(u){if(u.length!==0)return SM(ao.create(u,"and"))}(t.filters);a&&(n.structuredQuery.where=a);const s=function(u){if(u.length!==0)return u.map(c=>function(p){return{field:Mu(p.field),direction:vZ(p.dir)}}(c))}(t.orderBy);s&&(n.structuredQuery.orderBy=s);const o=x4(e,t.limit);return o!==null&&(n.structuredQuery.limit=o),t.startAt&&(n.structuredQuery.startAt=function(u){return{before:u.inclusive,values:u.position}}(t.startAt)),t.endAt&&(n.structuredQuery.endAt=function(u){return{before:!u.inclusive,values:u.position}}(t.endAt)),{_t:n,parent:i}}function pZ(e,t,n,r){const{_t:i,parent:a}=wM(e,t),s={},o=[];let l=0;return n.forEach(u=>{const c="aggregate_"+l++;s[c]=u.alias,u.aggregateType==="count"?o.push({alias:c,count:{}}):u.aggregateType==="avg"?o.push({alias:c,avg:{field:Mu(u.fieldPath)}}):u.aggregateType==="sum"&&o.push({alias:c,sum:{field:Mu(u.fieldPath)}})}),{request:{structuredAggregationQuery:{aggregations:o,structuredQuery:i.structuredQuery},parent:i.parent},ut:s,parent:a}}function mZ(e){let t=uZ(e.parent);const n=e.structuredQuery,r=n.from?n.from.length:0;let i=null;if(r>0){on(r===1);const c=n.from[0];c.allDescendants?i=c.collectionId:t=t.child(c.collectionId)}let a=[];n.where&&(a=function(d){const p=_M(d);return p instanceof ao&&XR(p)?p.getFilters():[p]}(n.where));let s=[];n.orderBy&&(s=function(d){return d.map(p=>function(g){return new zv(ff(g.field),function(b){switch(b){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(g.direction))}(p))}(n.orderBy));let o=null;n.limit&&(o=function(d){let p;return p=typeof d=="object"?d.value:d,A2(p)?null:p}(n.limit));let l=null;n.startAt&&(l=function(d){const p=!!d.before,f=d.values||[];return new Vv(f,p)}(n.startAt));let u=null;return n.endAt&&(u=function(d){const p=!d.before,f=d.values||[];return new Vv(f,p)}(n.endAt)),OQ(t,i,s,a,o,"F",l,u)}function gZ(e,t){const n=function(i){switch(i){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return Pt()}}(t.purpose);return n==null?null:{"goog-listen-tags":n}}function _M(e){return e.unaryFilter!==void 0?function(n){switch(n.unaryFilter.op){case"IS_NAN":const r=ff(n.unaryFilter.field);return Mr.create(r,"==",{doubleValue:NaN});case"IS_NULL":const i=ff(n.unaryFilter.field);return Mr.create(i,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const a=ff(n.unaryFilter.field);return Mr.create(a,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const s=ff(n.unaryFilter.field);return Mr.create(s,"!=",{nullValue:"NULL_VALUE"});default:return Pt()}}(e):e.fieldFilter!==void 0?function(n){return Mr.create(ff(n.fieldFilter.field),function(i){switch(i){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return Pt()}}(n.fieldFilter.op),n.fieldFilter.value)}(e):e.compositeFilter!==void 0?function(n){return ao.create(n.compositeFilter.filters.map(r=>_M(r)),function(i){switch(i){case"AND":return"and";case"OR":return"or";default:return Pt()}}(n.compositeFilter.op))}(e):Pt()}function vZ(e){return iZ[e]}function yZ(e){return aZ[e]}function xZ(e){return sZ[e]}function Mu(e){return{fieldPath:e.canonicalString()}}function ff(e){return _i.fromServerFormat(e.fieldPath)}function SM(e){return e instanceof Mr?function(n){if(n.op==="=="){if(pk(n.value))return{unaryFilter:{field:Mu(n.field),op:"IS_NAN"}};if(hk(n.value))return{unaryFilter:{field:Mu(n.field),op:"IS_NULL"}}}else if(n.op==="!="){if(pk(n.value))return{unaryFilter:{field:Mu(n.field),op:"IS_NOT_NAN"}};if(hk(n.value))return{unaryFilter:{field:Mu(n.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:Mu(n.field),op:yZ(n.op),value:n.value}}}(e):e instanceof ao?function(n){const r=n.getFilters().map(i=>SM(i));return r.length===1?r[0]:{compositeFilter:{op:xZ(n.op),filters:r}}}(e):Pt()}function bZ(e){const t=[];return e.fields.forEach(n=>t.push(n.canonicalString())),{fieldPaths:t}}function AM(e){return e.length>=4&&e.get(0)==="projects"&&e.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zu{constructor(t,n,r,i,a=Ct.min(),s=Ct.min(),o=Ni.EMPTY_BYTE_STRING,l=null){this.target=t,this.targetId=n,this.purpose=r,this.sequenceNumber=i,this.snapshotVersion=a,this.lastLimboFreeSnapshotVersion=s,this.resumeToken=o,this.expectedCount=l}withSequenceNumber(t){return new zu(this.target,this.targetId,this.purpose,t,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(t,n){return new zu(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,t,null)}withExpectedCount(t){return new zu(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,t)}withLastLimboFreeSnapshotVersion(t){return new zu(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,t,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wZ{constructor(t){this.ct=t}}function _Z(e){const t=mZ({parent:e.parent,structuredQuery:e.structuredQuery});return e.limitType==="LAST"?y4(t,t.limit,"L"):t}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class SZ{constructor(){this.un=new AZ}addToCollectionParentIndex(t,n){return this.un.add(n),Me.resolve()}getCollectionParents(t,n){return Me.resolve(this.un.getEntries(n))}addFieldIndex(t,n){return Me.resolve()}deleteFieldIndex(t,n){return Me.resolve()}deleteAllFieldIndexes(t){return Me.resolve()}createTargetIndexes(t,n){return Me.resolve()}getDocumentsMatchingTarget(t,n){return Me.resolve(null)}getIndexType(t,n){return Me.resolve(0)}getFieldIndexes(t,n){return Me.resolve([])}getNextCollectionGroupToUpdate(t){return Me.resolve(null)}getMinOffset(t,n){return Me.resolve(sc.min())}getMinOffsetFromCollectionGroup(t,n){return Me.resolve(sc.min())}updateCollectionGroup(t,n,r){return Me.resolve()}updateIndexEntries(t,n){return Me.resolve()}}class AZ{constructor(){this.index={}}add(t){const n=t.lastSegment(),r=t.popLast(),i=this.index[n]||new Pi(Dn.comparator),a=!i.has(r);return this.index[n]=i.add(r),a}has(t){const n=t.lastSegment(),r=t.popLast(),i=this.index[n];return i&&i.has(r)}getEntries(t){return(this.index[t]||new Pi(Dn.comparator)).toArray()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ch{constructor(t){this.Ln=t}next(){return this.Ln+=2,this.Ln}static Bn(){return new ch(0)}static kn(){return new ch(-1)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class PZ{constructor(){this.changes=new Oh(t=>t.toString(),(t,n)=>t.isEqual(n)),this.changesApplied=!1}addEntry(t){this.assertNotApplied(),this.changes.set(t.key,t)}removeEntry(t,n){this.assertNotApplied(),this.changes.set(t,Wi.newInvalidDocument(t).setReadTime(n))}getEntry(t,n){this.assertNotApplied();const r=this.changes.get(n);return r!==void 0?Me.resolve(r):this.getFromCache(t,n)}getEntries(t,n){return this.getAllFromCache(t,n)}apply(t){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(t)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class EZ{constructor(t,n){this.overlayedDocument=t,this.mutatedFields=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class NZ{constructor(t,n,r,i){this.remoteDocumentCache=t,this.mutationQueue=n,this.documentOverlayCache=r,this.indexManager=i}getDocument(t,n){let r=null;return this.documentOverlayCache.getOverlay(t,n).next(i=>(r=i,this.remoteDocumentCache.getEntry(t,n))).next(i=>(r!==null&&lm(r.mutation,i,Qa.empty(),gr.now()),i))}getDocuments(t,n){return this.remoteDocumentCache.getEntries(t,n).next(r=>this.getLocalViewOfDocuments(t,r,zt()).next(()=>r))}getLocalViewOfDocuments(t,n,r=zt()){const i=id();return this.populateOverlays(t,i,n).next(()=>this.computeViews(t,n,i,r).next(a=>{let s=Wp();return a.forEach((o,l)=>{s=s.insert(o,l.overlayedDocument)}),s}))}getOverlayedDocuments(t,n){const r=id();return this.populateOverlays(t,r,n).next(()=>this.computeViews(t,n,r,zt()))}populateOverlays(t,n,r){const i=[];return r.forEach(a=>{n.has(a)||i.push(a)}),this.documentOverlayCache.getOverlays(t,i).next(a=>{a.forEach((s,o)=>{n.set(s,o)})})}computeViews(t,n,r,i){let a=Dl();const s=om(),o=function(){return om()}();return n.forEach((l,u)=>{const c=r.get(u.key);i.has(u.key)&&(c===void 0||c.mutation instanceof xc)?a=a.insert(u.key,u):c!==void 0?(s.set(u.key,c.mutation.getFieldMask()),lm(c.mutation,u,c.mutation.getFieldMask(),gr.now())):s.set(u.key,Qa.empty())}),this.recalculateAndSaveOverlays(t,a).next(l=>(l.forEach((u,c)=>s.set(u,c)),n.forEach((u,c)=>{var d;return o.set(u,new EZ(c,(d=s.get(u))!==null&&d!==void 0?d:null))}),o))}recalculateAndSaveOverlays(t,n){const r=om();let i=new ir((s,o)=>s-o),a=zt();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(t,n).next(s=>{for(const o of s)o.keys().forEach(l=>{const u=n.get(l);if(u===null)return;let c=r.get(l)||Qa.empty();c=o.applyToLocalView(u,c),r.set(l,c);const d=(i.get(o.batchId)||zt()).add(l);i=i.insert(o.batchId,d)})}).next(()=>{const s=[],o=i.getReverseIterator();for(;o.hasNext();){const l=o.getNext(),u=l.key,c=l.value,d=sM();c.forEach(p=>{if(!a.has(p)){const f=fM(n.get(p),r.get(p));f!==null&&d.set(p,f),a=a.add(p)}}),s.push(this.documentOverlayCache.saveOverlays(t,u,d))}return Me.waitFor(s)}).next(()=>r)}recalculateAndSaveOverlaysForDocumentKeys(t,n){return this.remoteDocumentCache.getEntries(t,n).next(r=>this.recalculateAndSaveOverlays(t,r))}getDocumentsMatchingQuery(t,n,r,i){return function(s){return dt.isDocumentKey(s.path)&&s.collectionGroup===null&&s.filters.length===0}(n)?this.getDocumentsMatchingDocumentQuery(t,n.path):eM(n)?this.getDocumentsMatchingCollectionGroupQuery(t,n,r,i):this.getDocumentsMatchingCollectionQuery(t,n,r,i)}getNextDocuments(t,n,r,i){return this.remoteDocumentCache.getAllFromCollectionGroup(t,n,r,i).next(a=>{const s=i-a.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(t,n,r.largestBatchId,i-a.size):Me.resolve(id());let o=-1,l=a;return s.next(u=>Me.forEach(u,(c,d)=>(o<d.largestBatchId&&(o=d.largestBatchId),a.get(c)?Me.resolve():this.remoteDocumentCache.getEntry(t,c).next(p=>{l=l.insert(c,p)}))).next(()=>this.populateOverlays(t,u,a)).next(()=>this.computeViews(t,l,u,zt())).next(c=>({batchId:o,changes:aM(c)})))})}getDocumentsMatchingDocumentQuery(t,n){return this.getDocument(t,new dt(n)).next(r=>{let i=Wp();return r.isFoundDocument()&&(i=i.insert(r.key,r)),i})}getDocumentsMatchingCollectionGroupQuery(t,n,r,i){const a=n.collectionGroup;let s=Wp();return this.indexManager.getCollectionParents(t,a).next(o=>Me.forEach(o,l=>{const u=function(d,p){return new E0(p,null,d.explicitOrderBy.slice(),d.filters.slice(),d.limit,d.limitType,d.startAt,d.endAt)}(n,l.child(a));return this.getDocumentsMatchingCollectionQuery(t,u,r,i).next(c=>{c.forEach((d,p)=>{s=s.insert(d,p)})})}).next(()=>s))}getDocumentsMatchingCollectionQuery(t,n,r,i){let a;return this.documentOverlayCache.getOverlaysForCollection(t,n.path,r.largestBatchId).next(s=>(a=s,this.remoteDocumentCache.getDocumentsMatchingQuery(t,n,r,a,i))).next(s=>{a.forEach((l,u)=>{const c=u.getKey();s.get(c)===null&&(s=s.insert(c,Wi.newInvalidDocument(c)))});let o=Wp();return s.forEach((l,u)=>{const c=a.get(l);c!==void 0&&lm(c.mutation,u,Qa.empty(),gr.now()),N2(n,u)&&(o=o.insert(l,u))}),o})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kZ{constructor(t){this.serializer=t,this.hr=new Map,this.Pr=new Map}getBundleMetadata(t,n){return Me.resolve(this.hr.get(n))}saveBundleMetadata(t,n){return this.hr.set(n.id,function(i){return{id:i.id,version:i.version,createTime:qo(i.createTime)}}(n)),Me.resolve()}getNamedQuery(t,n){return Me.resolve(this.Pr.get(n))}saveNamedQuery(t,n){return this.Pr.set(n.name,function(i){return{name:i.name,query:_Z(i.bundledQuery),readTime:qo(i.readTime)}}(n)),Me.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class TZ{constructor(){this.overlays=new ir(dt.comparator),this.Ir=new Map}getOverlay(t,n){return Me.resolve(this.overlays.get(n))}getOverlays(t,n){const r=id();return Me.forEach(n,i=>this.getOverlay(t,i).next(a=>{a!==null&&r.set(i,a)})).next(()=>r)}saveOverlays(t,n,r){return r.forEach((i,a)=>{this.ht(t,n,a)}),Me.resolve()}removeOverlaysForBatchId(t,n,r){const i=this.Ir.get(r);return i!==void 0&&(i.forEach(a=>this.overlays=this.overlays.remove(a)),this.Ir.delete(r)),Me.resolve()}getOverlaysForCollection(t,n,r){const i=id(),a=n.length+1,s=new dt(n.child("")),o=this.overlays.getIteratorFrom(s);for(;o.hasNext();){const l=o.getNext().value,u=l.getKey();if(!n.isPrefixOf(u.path))break;u.path.length===a&&l.largestBatchId>r&&i.set(l.getKey(),l)}return Me.resolve(i)}getOverlaysForCollectionGroup(t,n,r,i){let a=new ir((u,c)=>u-c);const s=this.overlays.getIterator();for(;s.hasNext();){const u=s.getNext().value;if(u.getKey().getCollectionGroup()===n&&u.largestBatchId>r){let c=a.get(u.largestBatchId);c===null&&(c=id(),a=a.insert(u.largestBatchId,c)),c.set(u.getKey(),u)}}const o=id(),l=a.getIterator();for(;l.hasNext()&&(l.getNext().value.forEach((u,c)=>o.set(u,c)),!(o.size()>=i)););return Me.resolve(o)}ht(t,n,r){const i=this.overlays.get(r.key);if(i!==null){const s=this.Ir.get(i.largestBatchId).delete(r.key);this.Ir.set(i.largestBatchId,s)}this.overlays=this.overlays.insert(r.key,new QQ(n,r));let a=this.Ir.get(n);a===void 0&&(a=zt(),this.Ir.set(n,a)),this.Ir.set(n,a.add(r.key))}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class CZ{constructor(){this.sessionToken=Ni.EMPTY_BYTE_STRING}getSessionToken(t){return Me.resolve(this.sessionToken)}setSessionToken(t,n){return this.sessionToken=n,Me.resolve()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yS{constructor(){this.Tr=new Pi(ii.Er),this.dr=new Pi(ii.Ar)}isEmpty(){return this.Tr.isEmpty()}addReference(t,n){const r=new ii(t,n);this.Tr=this.Tr.add(r),this.dr=this.dr.add(r)}Rr(t,n){t.forEach(r=>this.addReference(r,n))}removeReference(t,n){this.Vr(new ii(t,n))}mr(t,n){t.forEach(r=>this.removeReference(r,n))}gr(t){const n=new dt(new Dn([])),r=new ii(n,t),i=new ii(n,t+1),a=[];return this.dr.forEachInRange([r,i],s=>{this.Vr(s),a.push(s.key)}),a}pr(){this.Tr.forEach(t=>this.Vr(t))}Vr(t){this.Tr=this.Tr.delete(t),this.dr=this.dr.delete(t)}yr(t){const n=new dt(new Dn([])),r=new ii(n,t),i=new ii(n,t+1);let a=zt();return this.dr.forEachInRange([r,i],s=>{a=a.add(s.key)}),a}containsKey(t){const n=new ii(t,0),r=this.Tr.firstAfterOrEqual(n);return r!==null&&t.isEqual(r.key)}}class ii{constructor(t,n){this.key=t,this.wr=n}static Er(t,n){return dt.comparator(t.key,n.key)||Jt(t.wr,n.wr)}static Ar(t,n){return Jt(t.wr,n.wr)||dt.comparator(t.key,n.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jZ{constructor(t,n){this.indexManager=t,this.referenceDelegate=n,this.mutationQueue=[],this.Sr=1,this.br=new Pi(ii.Er)}checkEmpty(t){return Me.resolve(this.mutationQueue.length===0)}addMutationBatch(t,n,r,i){const a=this.Sr;this.Sr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const s=new XQ(a,n,r,i);this.mutationQueue.push(s);for(const o of i)this.br=this.br.add(new ii(o.key,a)),this.indexManager.addToCollectionParentIndex(t,o.key.path.popLast());return Me.resolve(s)}lookupMutationBatch(t,n){return Me.resolve(this.Dr(n))}getNextMutationBatchAfterBatchId(t,n){const r=n+1,i=this.vr(r),a=i<0?0:i;return Me.resolve(this.mutationQueue.length>a?this.mutationQueue[a]:null)}getHighestUnacknowledgedBatchId(){return Me.resolve(this.mutationQueue.length===0?-1:this.Sr-1)}getAllMutationBatches(t){return Me.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(t,n){const r=new ii(n,0),i=new ii(n,Number.POSITIVE_INFINITY),a=[];return this.br.forEachInRange([r,i],s=>{const o=this.Dr(s.wr);a.push(o)}),Me.resolve(a)}getAllMutationBatchesAffectingDocumentKeys(t,n){let r=new Pi(Jt);return n.forEach(i=>{const a=new ii(i,0),s=new ii(i,Number.POSITIVE_INFINITY);this.br.forEachInRange([a,s],o=>{r=r.add(o.wr)})}),Me.resolve(this.Cr(r))}getAllMutationBatchesAffectingQuery(t,n){const r=n.path,i=r.length+1;let a=r;dt.isDocumentKey(a)||(a=a.child(""));const s=new ii(new dt(a),0);let o=new Pi(Jt);return this.br.forEachWhile(l=>{const u=l.key.path;return!!r.isPrefixOf(u)&&(u.length===i&&(o=o.add(l.wr)),!0)},s),Me.resolve(this.Cr(o))}Cr(t){const n=[];return t.forEach(r=>{const i=this.Dr(r);i!==null&&n.push(i)}),n}removeMutationBatch(t,n){on(this.Fr(n.batchId,"removed")===0),this.mutationQueue.shift();let r=this.br;return Me.forEach(n.mutations,i=>{const a=new ii(i.key,n.batchId);return r=r.delete(a),this.referenceDelegate.markPotentiallyOrphaned(t,i.key)}).next(()=>{this.br=r})}On(t){}containsKey(t,n){const r=new ii(n,0),i=this.br.firstAfterOrEqual(r);return Me.resolve(n.isEqual(i&&i.key))}performConsistencyCheck(t){return this.mutationQueue.length,Me.resolve()}Fr(t,n){return this.vr(t)}vr(t){return this.mutationQueue.length===0?0:t-this.mutationQueue[0].batchId}Dr(t){const n=this.vr(t);return n<0||n>=this.mutationQueue.length?null:this.mutationQueue[n]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class IZ{constructor(t){this.Mr=t,this.docs=function(){return new ir(dt.comparator)}(),this.size=0}setIndexManager(t){this.indexManager=t}addEntry(t,n){const r=n.key,i=this.docs.get(r),a=i?i.size:0,s=this.Mr(n);return this.docs=this.docs.insert(r,{document:n.mutableCopy(),size:s}),this.size+=s-a,this.indexManager.addToCollectionParentIndex(t,r.path.popLast())}removeEntry(t){const n=this.docs.get(t);n&&(this.docs=this.docs.remove(t),this.size-=n.size)}getEntry(t,n){const r=this.docs.get(n);return Me.resolve(r?r.document.mutableCopy():Wi.newInvalidDocument(n))}getEntries(t,n){let r=Dl();return n.forEach(i=>{const a=this.docs.get(i);r=r.insert(i,a?a.document.mutableCopy():Wi.newInvalidDocument(i))}),Me.resolve(r)}getDocumentsMatchingQuery(t,n,r,i){let a=Dl();const s=n.path,o=new dt(s.child("")),l=this.docs.getIteratorFrom(o);for(;l.hasNext();){const{key:u,value:{document:c}}=l.getNext();if(!s.isPrefixOf(u.path))break;u.path.length>s.length+1||hQ(fQ(c),r)<=0||(i.has(c.key)||N2(n,c))&&(a=a.insert(c.key,c.mutableCopy()))}return Me.resolve(a)}getAllFromCollectionGroup(t,n,r,i){Pt()}Or(t,n){return Me.forEach(this.docs,r=>n(r))}newChangeBuffer(t){return new OZ(this)}getSize(t){return Me.resolve(this.size)}}class OZ extends PZ{constructor(t){super(),this.cr=t}applyChanges(t){const n=[];return this.changes.forEach((r,i)=>{i.isValidDocument()?n.push(this.cr.addEntry(t,i)):this.cr.removeEntry(r)}),Me.waitFor(n)}getFromCache(t,n){return this.cr.getEntry(t,n)}getAllFromCache(t,n){return this.cr.getEntries(t,n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class LZ{constructor(t){this.persistence=t,this.Nr=new Oh(n=>fS(n),hS),this.lastRemoteSnapshotVersion=Ct.min(),this.highestTargetId=0,this.Lr=0,this.Br=new yS,this.targetCount=0,this.kr=ch.Bn()}forEachTarget(t,n){return this.Nr.forEach((r,i)=>n(i)),Me.resolve()}getLastRemoteSnapshotVersion(t){return Me.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(t){return Me.resolve(this.Lr)}allocateTargetId(t){return this.highestTargetId=this.kr.next(),Me.resolve(this.highestTargetId)}setTargetsMetadata(t,n,r){return r&&(this.lastRemoteSnapshotVersion=r),n>this.Lr&&(this.Lr=n),Me.resolve()}Kn(t){this.Nr.set(t.target,t);const n=t.targetId;n>this.highestTargetId&&(this.kr=new ch(n),this.highestTargetId=n),t.sequenceNumber>this.Lr&&(this.Lr=t.sequenceNumber)}addTargetData(t,n){return this.Kn(n),this.targetCount+=1,Me.resolve()}updateTargetData(t,n){return this.Kn(n),Me.resolve()}removeTargetData(t,n){return this.Nr.delete(n.target),this.Br.gr(n.targetId),this.targetCount-=1,Me.resolve()}removeTargets(t,n,r){let i=0;const a=[];return this.Nr.forEach((s,o)=>{o.sequenceNumber<=n&&r.get(o.targetId)===null&&(this.Nr.delete(s),a.push(this.removeMatchingKeysForTargetId(t,o.targetId)),i++)}),Me.waitFor(a).next(()=>i)}getTargetCount(t){return Me.resolve(this.targetCount)}getTargetData(t,n){const r=this.Nr.get(n)||null;return Me.resolve(r)}addMatchingKeys(t,n,r){return this.Br.Rr(n,r),Me.resolve()}removeMatchingKeys(t,n,r){this.Br.mr(n,r);const i=this.persistence.referenceDelegate,a=[];return i&&n.forEach(s=>{a.push(i.markPotentiallyOrphaned(t,s))}),Me.waitFor(a)}removeMatchingKeysForTargetId(t,n){return this.Br.gr(n),Me.resolve()}getMatchingKeysForTargetId(t,n){const r=this.Br.yr(n);return Me.resolve(r)}containsKey(t,n){return Me.resolve(this.Br.containsKey(n))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class RZ{constructor(t,n){this.qr={},this.overlays={},this.Qr=new lS(0),this.Kr=!1,this.Kr=!0,this.$r=new CZ,this.referenceDelegate=t(this),this.Ur=new LZ(this),this.indexManager=new SZ,this.remoteDocumentCache=function(i){return new IZ(i)}(r=>this.referenceDelegate.Wr(r)),this.serializer=new wZ(n),this.Gr=new kZ(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.Kr=!1,Promise.resolve()}get started(){return this.Kr}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(t){return this.indexManager}getDocumentOverlayCache(t){let n=this.overlays[t.toKey()];return n||(n=new TZ,this.overlays[t.toKey()]=n),n}getMutationQueue(t,n){let r=this.qr[t.toKey()];return r||(r=new jZ(n,this.referenceDelegate),this.qr[t.toKey()]=r),r}getGlobalsCache(){return this.$r}getTargetCache(){return this.Ur}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Gr}runTransaction(t,n,r){et("MemoryPersistence","Starting transaction:",t);const i=new MZ(this.Qr.next());return this.referenceDelegate.zr(),r(i).next(a=>this.referenceDelegate.jr(i).next(()=>a)).toPromise().then(a=>(i.raiseOnCommittedEvent(),a))}Hr(t,n){return Me.or(Object.values(this.qr).map(r=>()=>r.containsKey(t,n)))}}class MZ extends mQ{constructor(t){super(),this.currentSequenceNumber=t}}class xS{constructor(t){this.persistence=t,this.Jr=new yS,this.Yr=null}static Zr(t){return new xS(t)}get Xr(){if(this.Yr)return this.Yr;throw Pt()}addReference(t,n,r){return this.Jr.addReference(r,n),this.Xr.delete(r.toString()),Me.resolve()}removeReference(t,n,r){return this.Jr.removeReference(r,n),this.Xr.add(r.toString()),Me.resolve()}markPotentiallyOrphaned(t,n){return this.Xr.add(n.toString()),Me.resolve()}removeTarget(t,n){this.Jr.gr(n.targetId).forEach(i=>this.Xr.add(i.toString()));const r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(t,n.targetId).next(i=>{i.forEach(a=>this.Xr.add(a.toString()))}).next(()=>r.removeTargetData(t,n))}zr(){this.Yr=new Set}jr(t){const n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return Me.forEach(this.Xr,r=>{const i=dt.fromPath(r);return this.ei(t,i).next(a=>{a||n.removeEntry(i,Ct.min())})}).next(()=>(this.Yr=null,n.apply(t)))}updateLimboDocument(t,n){return this.ei(t,n).next(r=>{r?this.Xr.delete(n.toString()):this.Xr.add(n.toString())})}Wr(t){return 0}ei(t,n){return Me.or([()=>Me.resolve(this.Jr.containsKey(n)),()=>this.persistence.getTargetCache().containsKey(t,n),()=>this.persistence.Hr(t,n)])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bS{constructor(t,n,r,i){this.targetId=t,this.fromCache=n,this.$i=r,this.Ui=i}static Wi(t,n){let r=zt(),i=zt();for(const a of n.docChanges)switch(a.type){case 0:r=r.add(a.doc.key);break;case 1:i=i.add(a.doc.key)}return new bS(t,n.fromCache,r,i)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class DZ{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(t){this._documentReadCount+=t}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class FZ{constructor(){this.Gi=!1,this.zi=!1,this.ji=100,this.Hi=function(){return FY()?8:gQ(MY())>0?6:4}()}initialize(t,n){this.Ji=t,this.indexManager=n,this.Gi=!0}getDocumentsMatchingQuery(t,n,r,i){const a={result:null};return this.Yi(t,n).next(s=>{a.result=s}).next(()=>{if(!a.result)return this.Zi(t,n,i,r).next(s=>{a.result=s})}).next(()=>{if(a.result)return;const s=new DZ;return this.Xi(t,n,s).next(o=>{if(a.result=o,this.zi)return this.es(t,n,s,o.size)})}).next(()=>a.result)}es(t,n,r,i){return r.documentReadCount<this.ji?(Ap()<=Xt.DEBUG&&et("QueryEngine","SDK will not create cache indexes for query:",df(n),"since it only creates cache indexes for collection contains","more than or equal to",this.ji,"documents"),Me.resolve()):(Ap()<=Xt.DEBUG&&et("QueryEngine","Query:",df(n),"scans",r.documentReadCount,"local documents and returns",i,"documents as results."),r.documentReadCount>this.Hi*i?(Ap()<=Xt.DEBUG&&et("QueryEngine","The SDK decides to create cache indexes for query:",df(n),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(t,Wo(n))):Me.resolve())}Yi(t,n){if(yk(n))return Me.resolve(null);let r=Wo(n);return this.indexManager.getIndexType(t,r).next(i=>i===0?null:(n.limit!==null&&i===1&&(n=y4(n,null,"F"),r=Wo(n)),this.indexManager.getDocumentsMatchingTarget(t,r).next(a=>{const s=zt(...a);return this.Ji.getDocuments(t,s).next(o=>this.indexManager.getMinOffset(t,r).next(l=>{const u=this.ts(n,o);return this.ns(n,u,s,l.readTime)?this.Yi(t,y4(n,null,"F")):this.rs(t,u,n,l)}))})))}Zi(t,n,r,i){return yk(n)||i.isEqual(Ct.min())?Me.resolve(null):this.Ji.getDocuments(t,r).next(a=>{const s=this.ts(n,a);return this.ns(n,s,r,i)?Me.resolve(null):(Ap()<=Xt.DEBUG&&et("QueryEngine","Re-using previous result from %s to execute query: %s",i.toString(),df(n)),this.rs(t,s,n,dQ(i,-1)).next(o=>o))})}ts(t,n){let r=new Pi(rM(t));return n.forEach((i,a)=>{N2(t,a)&&(r=r.add(a))}),r}ns(t,n,r,i){if(t.limit===null)return!1;if(r.size!==n.size)return!0;const a=t.limitType==="F"?n.last():n.first();return!!a&&(a.hasPendingWrites||a.version.compareTo(i)>0)}Xi(t,n,r){return Ap()<=Xt.DEBUG&&et("QueryEngine","Using full collection scan to execute query:",df(n)),this.Ji.getDocumentsMatchingQuery(t,n,sc.min(),r)}rs(t,n,r,i){return this.Ji.getDocumentsMatchingQuery(t,r,i).next(a=>(n.forEach(s=>{a=a.insert(s.key,s)}),a))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class BZ{constructor(t,n,r,i){this.persistence=t,this.ss=n,this.serializer=i,this.os=new ir(Jt),this._s=new Oh(a=>fS(a),hS),this.us=new Map,this.cs=t.getRemoteDocumentCache(),this.Ur=t.getTargetCache(),this.Gr=t.getBundleCache(),this.ls(r)}ls(t){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(t),this.indexManager=this.persistence.getIndexManager(t),this.mutationQueue=this.persistence.getMutationQueue(t,this.indexManager),this.localDocuments=new NZ(this.cs,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.cs.setIndexManager(this.indexManager),this.ss.initialize(this.localDocuments,this.indexManager)}collectGarbage(t){return this.persistence.runTransaction("Collect garbage","readwrite-primary",n=>t.collect(n,this.os))}}function VZ(e,t,n,r){return new BZ(e,t,n,r)}async function PM(e,t){const n=Et(e);return await n.persistence.runTransaction("Handle user change","readonly",r=>{let i;return n.mutationQueue.getAllMutationBatches(r).next(a=>(i=a,n.ls(t),n.mutationQueue.getAllMutationBatches(r))).next(a=>{const s=[],o=[];let l=zt();for(const u of i){s.push(u.batchId);for(const c of u.mutations)l=l.add(c.key)}for(const u of a){o.push(u.batchId);for(const c of u.mutations)l=l.add(c.key)}return n.localDocuments.getDocuments(r,l).next(u=>({hs:u,removedBatchIds:s,addedBatchIds:o}))})})}function zZ(e,t){const n=Et(e);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",r=>{const i=t.batch.keys(),a=n.cs.newChangeBuffer({trackRemovals:!0});return function(o,l,u,c){const d=u.batch,p=d.keys();let f=Me.resolve();return p.forEach(g=>{f=f.next(()=>c.getEntry(l,g)).next(v=>{const b=u.docVersions.get(g);on(b!==null),v.version.compareTo(b)<0&&(d.applyToRemoteDocument(v,u),v.isValidDocument()&&(v.setReadTime(u.commitVersion),c.addEntry(v)))})}),f.next(()=>o.mutationQueue.removeMutationBatch(l,d))}(n,r,t,a).next(()=>a.apply(r)).next(()=>n.mutationQueue.performConsistencyCheck(r)).next(()=>n.documentOverlayCache.removeOverlaysForBatchId(r,i,t.batch.batchId)).next(()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(r,function(o){let l=zt();for(let u=0;u<o.mutationResults.length;++u)o.mutationResults[u].transformResults.length>0&&(l=l.add(o.batch.mutations[u].key));return l}(t))).next(()=>n.localDocuments.getDocuments(r,i))})}function EM(e){const t=Et(e);return t.persistence.runTransaction("Get last remote snapshot version","readonly",n=>t.Ur.getLastRemoteSnapshotVersion(n))}function $Z(e,t){const n=Et(e),r=t.snapshotVersion;let i=n.os;return n.persistence.runTransaction("Apply remote event","readwrite-primary",a=>{const s=n.cs.newChangeBuffer({trackRemovals:!0});i=n.os;const o=[];t.targetChanges.forEach((c,d)=>{const p=i.get(d);if(!p)return;o.push(n.Ur.removeMatchingKeys(a,c.removedDocuments,d).next(()=>n.Ur.addMatchingKeys(a,c.addedDocuments,d)));let f=p.withSequenceNumber(a.currentSequenceNumber);t.targetMismatches.get(d)!==null?f=f.withResumeToken(Ni.EMPTY_BYTE_STRING,Ct.min()).withLastLimboFreeSnapshotVersion(Ct.min()):c.resumeToken.approximateByteSize()>0&&(f=f.withResumeToken(c.resumeToken,r)),i=i.insert(d,f),function(v,b,x){return v.resumeToken.approximateByteSize()===0||b.snapshotVersion.toMicroseconds()-v.snapshotVersion.toMicroseconds()>=3e8?!0:x.addedDocuments.size+x.modifiedDocuments.size+x.removedDocuments.size>0}(p,f,c)&&o.push(n.Ur.updateTargetData(a,f))});let l=Dl(),u=zt();if(t.documentUpdates.forEach(c=>{t.resolvedLimboDocuments.has(c)&&o.push(n.persistence.referenceDelegate.updateLimboDocument(a,c))}),o.push(UZ(a,s,t.documentUpdates).next(c=>{l=c.Ps,u=c.Is})),!r.isEqual(Ct.min())){const c=n.Ur.getLastRemoteSnapshotVersion(a).next(d=>n.Ur.setTargetsMetadata(a,a.currentSequenceNumber,r));o.push(c)}return Me.waitFor(o).next(()=>s.apply(a)).next(()=>n.localDocuments.getLocalViewOfDocuments(a,l,u)).next(()=>l)}).then(a=>(n.os=i,a))}function UZ(e,t,n){let r=zt(),i=zt();return n.forEach(a=>r=r.add(a)),t.getEntries(e,r).next(a=>{let s=Dl();return n.forEach((o,l)=>{const u=a.get(o);l.isFoundDocument()!==u.isFoundDocument()&&(i=i.add(o)),l.isNoDocument()&&l.version.isEqual(Ct.min())?(t.removeEntry(o,l.readTime),s=s.insert(o,l)):!u.isValidDocument()||l.version.compareTo(u.version)>0||l.version.compareTo(u.version)===0&&u.hasPendingWrites?(t.addEntry(l),s=s.insert(o,l)):et("LocalStore","Ignoring outdated watch update for ",o,". Current version:",u.version," Watch version:",l.version)}),{Ps:s,Is:i}})}function WZ(e,t){const n=Et(e);return n.persistence.runTransaction("Get next mutation batch","readonly",r=>(t===void 0&&(t=-1),n.mutationQueue.getNextMutationBatchAfterBatchId(r,t)))}function qZ(e,t){const n=Et(e);return n.persistence.runTransaction("Allocate target","readwrite",r=>{let i;return n.Ur.getTargetData(r,t).next(a=>a?(i=a,Me.resolve(i)):n.Ur.allocateTargetId(r).next(s=>(i=new zu(t,s,"TargetPurposeListen",r.currentSequenceNumber),n.Ur.addTargetData(r,i).next(()=>i))))}).then(r=>{const i=n.os.get(r.targetId);return(i===null||r.snapshotVersion.compareTo(i.snapshotVersion)>0)&&(n.os=n.os.insert(r.targetId,r),n._s.set(t,r.targetId)),r})}async function S4(e,t,n){const r=Et(e),i=r.os.get(t),a=n?"readwrite":"readwrite-primary";try{n||await r.persistence.runTransaction("Release target",a,s=>r.persistence.referenceDelegate.removeTarget(s,i))}catch(s){if(!P0(s))throw s;et("LocalStore",`Failed to update sequence numbers for target ${t}: ${s}`)}r.os=r.os.remove(t),r._s.delete(i.target)}function Tk(e,t,n){const r=Et(e);let i=Ct.min(),a=zt();return r.persistence.runTransaction("Execute query","readwrite",s=>function(l,u,c){const d=Et(l),p=d._s.get(c);return p!==void 0?Me.resolve(d.os.get(p)):d.Ur.getTargetData(u,c)}(r,s,Wo(t)).next(o=>{if(o)return i=o.lastLimboFreeSnapshotVersion,r.Ur.getMatchingKeysForTargetId(s,o.targetId).next(l=>{a=l})}).next(()=>r.ss.getDocumentsMatchingQuery(s,t,n?i:Ct.min(),n?a:zt())).next(o=>(HZ(r,RQ(t),o),{documents:o,Ts:a})))}function HZ(e,t,n){let r=e.us.get(t)||Ct.min();n.forEach((i,a)=>{a.readTime.compareTo(r)>0&&(r=a.readTime)}),e.us.set(t,r)}class Ck{constructor(){this.activeTargetIds=zQ()}fs(t){this.activeTargetIds=this.activeTargetIds.add(t)}gs(t){this.activeTargetIds=this.activeTargetIds.delete(t)}Vs(){const t={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(t)}}class KZ{constructor(){this.so=new Ck,this.oo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(t){}updateMutationState(t,n,r){}addLocalQueryTarget(t,n=!0){return n&&this.so.fs(t),this.oo[t]||"not-current"}updateQueryState(t,n,r){this.oo[t]=n}removeLocalQueryTarget(t){this.so.gs(t)}isLocalQueryTarget(t){return this.so.activeTargetIds.has(t)}clearQueryState(t){delete this.oo[t]}getAllActiveQueryTargets(){return this.so.activeTargetIds}isActiveQueryTarget(t){return this.so.activeTargetIds.has(t)}start(){return this.so=new Ck,Promise.resolve()}handleUserChange(t,n,r){}setOnlineState(t){}shutdown(){}writeSequenceNumber(t){}notifyBundleLoaded(t){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class GZ{_o(t){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jk{constructor(){this.ao=()=>this.uo(),this.co=()=>this.lo(),this.ho=[],this.Po()}_o(t){this.ho.push(t)}shutdown(){window.removeEventListener("online",this.ao),window.removeEventListener("offline",this.co)}Po(){window.addEventListener("online",this.ao),window.addEventListener("offline",this.co)}uo(){et("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(const t of this.ho)t(0)}lo(){et("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(const t of this.ho)t(1)}static D(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Qg=null;function Kb(){return Qg===null?Qg=function(){return 268435456+Math.round(2147483648*Math.random())}():Qg++,"0x"+Qg.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const YZ={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class XZ{constructor(t){this.Io=t.Io,this.To=t.To}Eo(t){this.Ao=t}Ro(t){this.Vo=t}mo(t){this.fo=t}onMessage(t){this.po=t}close(){this.To()}send(t){this.Io(t)}yo(){this.Ao()}wo(){this.Vo()}So(t){this.fo(t)}bo(t){this.po(t)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Mi="WebChannelConnection";class QZ extends class{constructor(n){this.databaseInfo=n,this.databaseId=n.databaseId;const r=n.ssl?"https":"http",i=encodeURIComponent(this.databaseId.projectId),a=encodeURIComponent(this.databaseId.database);this.Do=r+"://"+n.host,this.vo=`projects/${i}/databases/${a}`,this.Co=this.databaseId.database==="(default)"?`project_id=${i}`:`project_id=${i}&database_id=${a}`}get Fo(){return!1}Mo(n,r,i,a,s){const o=Kb(),l=this.xo(n,r.toUriEncodedString());et("RestConnection",`Sending RPC '${n}' ${o}:`,l,i);const u={"google-cloud-resource-prefix":this.vo,"x-goog-request-params":this.Co};return this.Oo(u,a,s),this.No(n,l,u,i).then(c=>(et("RestConnection",`Received RPC '${n}' ${o}: `,c),c),c=>{throw sh("RestConnection",`RPC '${n}' ${o} failed with error: `,c,"url: ",l,"request:",i),c})}Lo(n,r,i,a,s,o){return this.Mo(n,r,i,a,s)}Oo(n,r,i){n["X-Goog-Api-Client"]=function(){return"gl-js/ fire/"+Ih}(),n["Content-Type"]="text/plain",this.databaseInfo.appId&&(n["X-Firebase-GMPID"]=this.databaseInfo.appId),r&&r.headers.forEach((a,s)=>n[s]=a),i&&i.headers.forEach((a,s)=>n[s]=a)}xo(n,r){const i=YZ[n];return`${this.Do}/v1/${r}:${i}`}terminate(){}}{constructor(t){super(t),this.forceLongPolling=t.forceLongPolling,this.autoDetectLongPolling=t.autoDetectLongPolling,this.useFetchStreams=t.useFetchStreams,this.longPollingOptions=t.longPollingOptions}No(t,n,r,i){const a=Kb();return new Promise((s,o)=>{const l=new FR;l.setWithCredentials(!0),l.listenOnce(BR.COMPLETE,()=>{try{switch(l.getLastErrorCode()){case z1.NO_ERROR:const c=l.getResponseJson();et(Mi,`XHR for RPC '${t}' ${a} received:`,JSON.stringify(c)),s(c);break;case z1.TIMEOUT:et(Mi,`RPC '${t}' ${a} timed out`),o(new qe(Ie.DEADLINE_EXCEEDED,"Request time out"));break;case z1.HTTP_ERROR:const d=l.getStatus();if(et(Mi,`RPC '${t}' ${a} failed with status:`,d,"response text:",l.getResponseText()),d>0){let p=l.getResponseJson();Array.isArray(p)&&(p=p[0]);const f=p==null?void 0:p.error;if(f&&f.status&&f.message){const g=function(b){const x=b.toLowerCase().replace(/_/g,"-");return Object.values(Ie).indexOf(x)>=0?x:Ie.UNKNOWN}(f.status);o(new qe(g,f.message))}else o(new qe(Ie.UNKNOWN,"Server responded with status "+l.getStatus()))}else o(new qe(Ie.UNAVAILABLE,"Connection failed."));break;default:Pt()}}finally{et(Mi,`RPC '${t}' ${a} completed.`)}});const u=JSON.stringify(i);et(Mi,`RPC '${t}' ${a} sending request:`,i),l.send(n,"POST",u,r,15)})}Bo(t,n,r){const i=Kb(),a=[this.Do,"/","google.firestore.v1.Firestore","/",t,"/channel"],s=$R(),o=zR(),l={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},u=this.longPollingOptions.timeoutSeconds;u!==void 0&&(l.longPollingTimeout=Math.round(1e3*u)),this.useFetchStreams&&(l.useFetchStreams=!0),this.Oo(l.initMessageHeaders,n,r),l.encodeInitMessageHeaders=!0;const c=a.join("");et(Mi,`Creating RPC '${t}' stream ${i}: ${c}`,l);const d=s.createWebChannel(c,l);let p=!1,f=!1;const g=new XZ({Io:b=>{f?et(Mi,`Not sending because RPC '${t}' stream ${i} is closed:`,b):(p||(et(Mi,`Opening RPC '${t}' stream ${i} transport.`),d.open(),p=!0),et(Mi,`RPC '${t}' stream ${i} sending:`,b),d.send(b))},To:()=>d.close()}),v=(b,x,w)=>{b.listen(x,A=>{try{w(A)}catch(P){setTimeout(()=>{throw P},0)}})};return v(d,Up.EventType.OPEN,()=>{f||(et(Mi,`RPC '${t}' stream ${i} transport opened.`),g.yo())}),v(d,Up.EventType.CLOSE,()=>{f||(f=!0,et(Mi,`RPC '${t}' stream ${i} transport closed`),g.So())}),v(d,Up.EventType.ERROR,b=>{f||(f=!0,sh(Mi,`RPC '${t}' stream ${i} transport errored:`,b),g.So(new qe(Ie.UNAVAILABLE,"The operation could not be completed")))}),v(d,Up.EventType.MESSAGE,b=>{var x;if(!f){const w=b.data[0];on(!!w);const A=w,P=A.error||((x=A[0])===null||x===void 0?void 0:x.error);if(P){et(Mi,`RPC '${t}' stream ${i} received error:`,P);const O=P.status;let D=function(I){const M=Ir[I];if(M!==void 0)return pM(M)}(O),T=P.message;D===void 0&&(D=Ie.INTERNAL,T="Unknown error status: "+O+" with message "+P.message),f=!0,g.So(new qe(D,T)),d.close()}else et(Mi,`RPC '${t}' stream ${i} received:`,w),g.bo(w)}}),v(o,VR.STAT_EVENT,b=>{b.stat===f4.PROXY?et(Mi,`RPC '${t}' stream ${i} detected buffering proxy`):b.stat===f4.NOPROXY&&et(Mi,`RPC '${t}' stream ${i} detected no buffering proxy`)}),setTimeout(()=>{g.wo()},0),g}}function Gb(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function I2(e){return new oZ(e,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class NM{constructor(t,n,r=1e3,i=1.5,a=6e4){this.ui=t,this.timerId=n,this.ko=r,this.qo=i,this.Qo=a,this.Ko=0,this.$o=null,this.Uo=Date.now(),this.reset()}reset(){this.Ko=0}Wo(){this.Ko=this.Qo}Go(t){this.cancel();const n=Math.floor(this.Ko+this.zo()),r=Math.max(0,Date.now()-this.Uo),i=Math.max(0,n-r);i>0&&et("ExponentialBackoff",`Backing off for ${i} ms (base delay: ${this.Ko} ms, delay with jitter: ${n} ms, last attempt: ${r} ms ago)`),this.$o=this.ui.enqueueAfterDelay(this.timerId,i,()=>(this.Uo=Date.now(),t())),this.Ko*=this.qo,this.Ko<this.ko&&(this.Ko=this.ko),this.Ko>this.Qo&&(this.Ko=this.Qo)}jo(){this.$o!==null&&(this.$o.skipDelay(),this.$o=null)}cancel(){this.$o!==null&&(this.$o.cancel(),this.$o=null)}zo(){return(Math.random()-.5)*this.Ko}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kM{constructor(t,n,r,i,a,s,o,l){this.ui=t,this.Ho=r,this.Jo=i,this.connection=a,this.authCredentialsProvider=s,this.appCheckCredentialsProvider=o,this.listener=l,this.state=0,this.Yo=0,this.Zo=null,this.Xo=null,this.stream=null,this.e_=0,this.t_=new NM(t,n)}n_(){return this.state===1||this.state===5||this.r_()}r_(){return this.state===2||this.state===3}start(){this.e_=0,this.state!==4?this.auth():this.i_()}async stop(){this.n_()&&await this.close(0)}s_(){this.state=0,this.t_.reset()}o_(){this.r_()&&this.Zo===null&&(this.Zo=this.ui.enqueueAfterDelay(this.Ho,6e4,()=>this.__()))}a_(t){this.u_(),this.stream.send(t)}async __(){if(this.r_())return this.close(0)}u_(){this.Zo&&(this.Zo.cancel(),this.Zo=null)}c_(){this.Xo&&(this.Xo.cancel(),this.Xo=null)}async close(t,n){this.u_(),this.c_(),this.t_.cancel(),this.Yo++,t!==4?this.t_.reset():n&&n.code===Ie.RESOURCE_EXHAUSTED?(Ml(n.toString()),Ml("Using maximum backoff delay to prevent overloading the backend."),this.t_.Wo()):n&&n.code===Ie.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.l_(),this.stream.close(),this.stream=null),this.state=t,await this.listener.mo(n)}l_(){}auth(){this.state=1;const t=this.h_(this.Yo),n=this.Yo;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([r,i])=>{this.Yo===n&&this.P_(r,i)},r=>{t(()=>{const i=new qe(Ie.UNKNOWN,"Fetching auth token failed: "+r.message);return this.I_(i)})})}P_(t,n){const r=this.h_(this.Yo);this.stream=this.T_(t,n),this.stream.Eo(()=>{r(()=>this.listener.Eo())}),this.stream.Ro(()=>{r(()=>(this.state=2,this.Xo=this.ui.enqueueAfterDelay(this.Jo,1e4,()=>(this.r_()&&(this.state=3),Promise.resolve())),this.listener.Ro()))}),this.stream.mo(i=>{r(()=>this.I_(i))}),this.stream.onMessage(i=>{r(()=>++this.e_==1?this.E_(i):this.onNext(i))})}i_(){this.state=5,this.t_.Go(async()=>{this.state=0,this.start()})}I_(t){return et("PersistentStream",`close with error: ${t}`),this.stream=null,this.close(4,t)}h_(t){return n=>{this.ui.enqueueAndForget(()=>this.Yo===t?n():(et("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class ZZ extends kM{constructor(t,n,r,i,a,s){super(t,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",n,r,i,s),this.serializer=a}T_(t,n){return this.connection.Bo("Listen",t,n)}E_(t){return this.onNext(t)}onNext(t){this.t_.reset();const n=cZ(this.serializer,t),r=function(a){if(!("targetChange"in a))return Ct.min();const s=a.targetChange;return s.targetIds&&s.targetIds.length?Ct.min():s.readTime?qo(s.readTime):Ct.min()}(t);return this.listener.d_(n,r)}A_(t){const n={};n.database=_4(this.serializer),n.addTarget=function(a,s){let o;const l=s.target;if(o=g4(l)?{documents:hZ(a,l)}:{query:wM(a,l)._t},o.targetId=s.targetId,s.resumeToken.approximateByteSize()>0){o.resumeToken=vM(a,s.resumeToken);const u=x4(a,s.expectedCount);u!==null&&(o.expectedCount=u)}else if(s.snapshotVersion.compareTo(Ct.min())>0){o.readTime=Wv(a,s.snapshotVersion.toTimestamp());const u=x4(a,s.expectedCount);u!==null&&(o.expectedCount=u)}return o}(this.serializer,t);const r=gZ(this.serializer,t);r&&(n.labels=r),this.a_(n)}R_(t){const n={};n.database=_4(this.serializer),n.removeTarget=t,this.a_(n)}}class JZ extends kM{constructor(t,n,r,i,a,s){super(t,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",n,r,i,s),this.serializer=a}get V_(){return this.e_>0}start(){this.lastStreamToken=void 0,super.start()}l_(){this.V_&&this.m_([])}T_(t,n){return this.connection.Bo("Write",t,n)}E_(t){return on(!!t.streamToken),this.lastStreamToken=t.streamToken,on(!t.writeResults||t.writeResults.length===0),this.listener.f_()}onNext(t){on(!!t.streamToken),this.lastStreamToken=t.streamToken,this.t_.reset();const n=fZ(t.writeResults,t.commitTime),r=qo(t.commitTime);return this.listener.g_(r,n)}p_(){const t={};t.database=_4(this.serializer),this.a_(t)}m_(t){const n={streamToken:this.lastStreamToken,writes:t.map(r=>dZ(this.serializer,r))};this.a_(n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class eJ extends class{}{constructor(t,n,r,i){super(),this.authCredentials=t,this.appCheckCredentials=n,this.connection=r,this.serializer=i,this.y_=!1}w_(){if(this.y_)throw new qe(Ie.FAILED_PRECONDITION,"The client has already been terminated.")}Mo(t,n,r,i){return this.w_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([a,s])=>this.connection.Mo(t,b4(n,r),i,a,s)).catch(a=>{throw a.name==="FirebaseError"?(a.code===Ie.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),a):new qe(Ie.UNKNOWN,a.toString())})}Lo(t,n,r,i,a){return this.w_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([s,o])=>this.connection.Lo(t,b4(n,r),i,s,o,a)).catch(s=>{throw s.name==="FirebaseError"?(s.code===Ie.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),s):new qe(Ie.UNKNOWN,s.toString())})}terminate(){this.y_=!0,this.connection.terminate()}}class tJ{constructor(t,n){this.asyncQueue=t,this.onlineStateHandler=n,this.state="Unknown",this.S_=0,this.b_=null,this.D_=!0}v_(){this.S_===0&&(this.C_("Unknown"),this.b_=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.b_=null,this.F_("Backend didn't respond within 10 seconds."),this.C_("Offline"),Promise.resolve())))}M_(t){this.state==="Online"?this.C_("Unknown"):(this.S_++,this.S_>=1&&(this.x_(),this.F_(`Connection failed 1 times. Most recent error: ${t.toString()}`),this.C_("Offline")))}set(t){this.x_(),this.S_=0,t==="Online"&&(this.D_=!1),this.C_(t)}C_(t){t!==this.state&&(this.state=t,this.onlineStateHandler(t))}F_(t){const n=`Could not reach Cloud Firestore backend. ${t}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.D_?(Ml(n),this.D_=!1):et("OnlineStateTracker",n)}x_(){this.b_!==null&&(this.b_.cancel(),this.b_=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nJ{constructor(t,n,r,i,a){this.localStore=t,this.datastore=n,this.asyncQueue=r,this.remoteSyncer={},this.O_=[],this.N_=new Map,this.L_=new Set,this.B_=[],this.k_=a,this.k_._o(s=>{r.enqueueAndForget(async()=>{Ud(this)&&(et("RemoteStore","Restarting streams for network reachability change."),await async function(l){const u=Et(l);u.L_.add(4),await T0(u),u.q_.set("Unknown"),u.L_.delete(4),await O2(u)}(this))})}),this.q_=new tJ(r,i)}}async function O2(e){if(Ud(e))for(const t of e.B_)await t(!0)}async function T0(e){for(const t of e.B_)await t(!1)}function TM(e,t){const n=Et(e);n.N_.has(t.targetId)||(n.N_.set(t.targetId,t),AS(n)?SS(n):Lh(n).r_()&&_S(n,t))}function wS(e,t){const n=Et(e),r=Lh(n);n.N_.delete(t),r.r_()&&CM(n,t),n.N_.size===0&&(r.r_()?r.o_():Ud(n)&&n.q_.set("Unknown"))}function _S(e,t){if(e.Q_.xe(t.targetId),t.resumeToken.approximateByteSize()>0||t.snapshotVersion.compareTo(Ct.min())>0){const n=e.remoteSyncer.getRemoteKeysForTarget(t.targetId).size;t=t.withExpectedCount(n)}Lh(e).A_(t)}function CM(e,t){e.Q_.xe(t),Lh(e).R_(t)}function SS(e){e.Q_=new rZ({getRemoteKeysForTarget:t=>e.remoteSyncer.getRemoteKeysForTarget(t),ot:t=>e.N_.get(t)||null,tt:()=>e.datastore.serializer.databaseId}),Lh(e).start(),e.q_.v_()}function AS(e){return Ud(e)&&!Lh(e).n_()&&e.N_.size>0}function Ud(e){return Et(e).L_.size===0}function jM(e){e.Q_=void 0}async function rJ(e){e.q_.set("Online")}async function iJ(e){e.N_.forEach((t,n)=>{_S(e,t)})}async function aJ(e,t){jM(e),AS(e)?(e.q_.M_(t),SS(e)):e.q_.set("Unknown")}async function sJ(e,t,n){if(e.q_.set("Online"),t instanceof gM&&t.state===2&&t.cause)try{await async function(i,a){const s=a.cause;for(const o of a.targetIds)i.N_.has(o)&&(await i.remoteSyncer.rejectListen(o,s),i.N_.delete(o),i.Q_.removeTarget(o))}(e,t)}catch(r){et("RemoteStore","Failed to remove targets %s: %s ",t.targetIds.join(","),r),await qv(e,r)}else if(t instanceof W1?e.Q_.Ke(t):t instanceof mM?e.Q_.He(t):e.Q_.We(t),!n.isEqual(Ct.min()))try{const r=await EM(e.localStore);n.compareTo(r)>=0&&await function(a,s){const o=a.Q_.rt(s);return o.targetChanges.forEach((l,u)=>{if(l.resumeToken.approximateByteSize()>0){const c=a.N_.get(u);c&&a.N_.set(u,c.withResumeToken(l.resumeToken,s))}}),o.targetMismatches.forEach((l,u)=>{const c=a.N_.get(l);if(!c)return;a.N_.set(l,c.withResumeToken(Ni.EMPTY_BYTE_STRING,c.snapshotVersion)),CM(a,l);const d=new zu(c.target,l,u,c.sequenceNumber);_S(a,d)}),a.remoteSyncer.applyRemoteEvent(o)}(e,n)}catch(r){et("RemoteStore","Failed to raise snapshot:",r),await qv(e,r)}}async function qv(e,t,n){if(!P0(t))throw t;e.L_.add(1),await T0(e),e.q_.set("Offline"),n||(n=()=>EM(e.localStore)),e.asyncQueue.enqueueRetryable(async()=>{et("RemoteStore","Retrying IndexedDB access"),await n(),e.L_.delete(1),await O2(e)})}function IM(e,t){return t().catch(n=>qv(e,n,t))}async function L2(e){const t=Et(e),n=lc(t);let r=t.O_.length>0?t.O_[t.O_.length-1].batchId:-1;for(;oJ(t);)try{const i=await WZ(t.localStore,r);if(i===null){t.O_.length===0&&n.o_();break}r=i.batchId,lJ(t,i)}catch(i){await qv(t,i)}OM(t)&&LM(t)}function oJ(e){return Ud(e)&&e.O_.length<10}function lJ(e,t){e.O_.push(t);const n=lc(e);n.r_()&&n.V_&&n.m_(t.mutations)}function OM(e){return Ud(e)&&!lc(e).n_()&&e.O_.length>0}function LM(e){lc(e).start()}async function uJ(e){lc(e).p_()}async function cJ(e){const t=lc(e);for(const n of e.O_)t.m_(n.mutations)}async function dJ(e,t,n){const r=e.O_.shift(),i=mS.from(r,t,n);await IM(e,()=>e.remoteSyncer.applySuccessfulWrite(i)),await L2(e)}async function fJ(e,t){t&&lc(e).V_&&await async function(r,i){if(function(s){return eZ(s)&&s!==Ie.ABORTED}(i.code)){const a=r.O_.shift();lc(r).s_(),await IM(r,()=>r.remoteSyncer.rejectFailedWrite(a.batchId,i)),await L2(r)}}(e,t),OM(e)&&LM(e)}async function Ik(e,t){const n=Et(e);n.asyncQueue.verifyOperationInProgress(),et("RemoteStore","RemoteStore received new credentials");const r=Ud(n);n.L_.add(3),await T0(n),r&&n.q_.set("Unknown"),await n.remoteSyncer.handleCredentialChange(t),n.L_.delete(3),await O2(n)}async function hJ(e,t){const n=Et(e);t?(n.L_.delete(2),await O2(n)):t||(n.L_.add(2),await T0(n),n.q_.set("Unknown"))}function Lh(e){return e.K_||(e.K_=function(n,r,i){const a=Et(n);return a.w_(),new ZZ(r,a.connection,a.authCredentials,a.appCheckCredentials,a.serializer,i)}(e.datastore,e.asyncQueue,{Eo:rJ.bind(null,e),Ro:iJ.bind(null,e),mo:aJ.bind(null,e),d_:sJ.bind(null,e)}),e.B_.push(async t=>{t?(e.K_.s_(),AS(e)?SS(e):e.q_.set("Unknown")):(await e.K_.stop(),jM(e))})),e.K_}function lc(e){return e.U_||(e.U_=function(n,r,i){const a=Et(n);return a.w_(),new JZ(r,a.connection,a.authCredentials,a.appCheckCredentials,a.serializer,i)}(e.datastore,e.asyncQueue,{Eo:()=>Promise.resolve(),Ro:uJ.bind(null,e),mo:fJ.bind(null,e),f_:cJ.bind(null,e),g_:dJ.bind(null,e)}),e.B_.push(async t=>{t?(e.U_.s_(),await L2(e)):(await e.U_.stop(),e.O_.length>0&&(et("RemoteStore",`Stopping write stream with ${e.O_.length} pending writes`),e.O_=[]))})),e.U_}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class PS{constructor(t,n,r,i,a){this.asyncQueue=t,this.timerId=n,this.targetTimeMs=r,this.op=i,this.removalCallback=a,this.deferred=new Uo,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(s=>{})}get promise(){return this.deferred.promise}static createAndSchedule(t,n,r,i,a){const s=Date.now()+r,o=new PS(t,n,s,i,a);return o.start(r),o}start(t){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),t)}skipDelay(){return this.handleDelayElapsed()}cancel(t){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new qe(Ie.CANCELLED,"Operation cancelled"+(t?": "+t:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(t=>this.deferred.resolve(t))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function ES(e,t){if(Ml("AsyncQueue",`${t}: ${e}`),P0(e))return new qe(Ie.UNAVAILABLE,`${t}: ${e}`);throw e}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wf{constructor(t){this.comparator=t?(n,r)=>t(n,r)||dt.comparator(n.key,r.key):(n,r)=>dt.comparator(n.key,r.key),this.keyedMap=Wp(),this.sortedSet=new ir(this.comparator)}static emptySet(t){return new Wf(t.comparator)}has(t){return this.keyedMap.get(t)!=null}get(t){return this.keyedMap.get(t)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(t){const n=this.keyedMap.get(t);return n?this.sortedSet.indexOf(n):-1}get size(){return this.sortedSet.size}forEach(t){this.sortedSet.inorderTraversal((n,r)=>(t(n),!1))}add(t){const n=this.delete(t.key);return n.copy(n.keyedMap.insert(t.key,t),n.sortedSet.insert(t,null))}delete(t){const n=this.get(t);return n?this.copy(this.keyedMap.remove(t),this.sortedSet.remove(n)):this}isEqual(t){if(!(t instanceof Wf)||this.size!==t.size)return!1;const n=this.sortedSet.getIterator(),r=t.sortedSet.getIterator();for(;n.hasNext();){const i=n.getNext().key,a=r.getNext().key;if(!i.isEqual(a))return!1}return!0}toString(){const t=[];return this.forEach(n=>{t.push(n.toString())}),t.length===0?"DocumentSet ()":`DocumentSet (
  `+t.join(`  
`)+`
)`}copy(t,n){const r=new Wf;return r.comparator=this.comparator,r.keyedMap=t,r.sortedSet=n,r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ok{constructor(){this.W_=new ir(dt.comparator)}track(t){const n=t.doc.key,r=this.W_.get(n);r?t.type!==0&&r.type===3?this.W_=this.W_.insert(n,t):t.type===3&&r.type!==1?this.W_=this.W_.insert(n,{type:r.type,doc:t.doc}):t.type===2&&r.type===2?this.W_=this.W_.insert(n,{type:2,doc:t.doc}):t.type===2&&r.type===0?this.W_=this.W_.insert(n,{type:0,doc:t.doc}):t.type===1&&r.type===0?this.W_=this.W_.remove(n):t.type===1&&r.type===2?this.W_=this.W_.insert(n,{type:1,doc:r.doc}):t.type===0&&r.type===1?this.W_=this.W_.insert(n,{type:2,doc:t.doc}):Pt():this.W_=this.W_.insert(n,t)}G_(){const t=[];return this.W_.inorderTraversal((n,r)=>{t.push(r)}),t}}class dh{constructor(t,n,r,i,a,s,o,l,u){this.query=t,this.docs=n,this.oldDocs=r,this.docChanges=i,this.mutatedKeys=a,this.fromCache=s,this.syncStateChanged=o,this.excludesMetadataChanges=l,this.hasCachedResults=u}static fromInitialDocuments(t,n,r,i,a){const s=[];return n.forEach(o=>{s.push({type:0,doc:o})}),new dh(t,n,Wf.emptySet(n),s,r,i,!0,!1,a)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(t){if(!(this.fromCache===t.fromCache&&this.hasCachedResults===t.hasCachedResults&&this.syncStateChanged===t.syncStateChanged&&this.mutatedKeys.isEqual(t.mutatedKeys)&&E2(this.query,t.query)&&this.docs.isEqual(t.docs)&&this.oldDocs.isEqual(t.oldDocs)))return!1;const n=this.docChanges,r=t.docChanges;if(n.length!==r.length)return!1;for(let i=0;i<n.length;i++)if(n[i].type!==r[i].type||!n[i].doc.isEqual(r[i].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pJ{constructor(){this.z_=void 0,this.j_=[]}H_(){return this.j_.some(t=>t.J_())}}class mJ{constructor(){this.queries=Lk(),this.onlineState="Unknown",this.Y_=new Set}terminate(){(function(n,r){const i=Et(n),a=i.queries;i.queries=Lk(),a.forEach((s,o)=>{for(const l of o.j_)l.onError(r)})})(this,new qe(Ie.ABORTED,"Firestore shutting down"))}}function Lk(){return new Oh(e=>nM(e),E2)}async function NS(e,t){const n=Et(e);let r=3;const i=t.query;let a=n.queries.get(i);a?!a.H_()&&t.J_()&&(r=2):(a=new pJ,r=t.J_()?0:1);try{switch(r){case 0:a.z_=await n.onListen(i,!0);break;case 1:a.z_=await n.onListen(i,!1);break;case 2:await n.onFirstRemoteStoreListen(i)}}catch(s){const o=ES(s,`Initialization of query '${df(t.query)}' failed`);return void t.onError(o)}n.queries.set(i,a),a.j_.push(t),t.Z_(n.onlineState),a.z_&&t.X_(a.z_)&&TS(n)}async function kS(e,t){const n=Et(e),r=t.query;let i=3;const a=n.queries.get(r);if(a){const s=a.j_.indexOf(t);s>=0&&(a.j_.splice(s,1),a.j_.length===0?i=t.J_()?0:1:!a.H_()&&t.J_()&&(i=2))}switch(i){case 0:return n.queries.delete(r),n.onUnlisten(r,!0);case 1:return n.queries.delete(r),n.onUnlisten(r,!1);case 2:return n.onLastRemoteStoreUnlisten(r);default:return}}function gJ(e,t){const n=Et(e);let r=!1;for(const i of t){const a=i.query,s=n.queries.get(a);if(s){for(const o of s.j_)o.X_(i)&&(r=!0);s.z_=i}}r&&TS(n)}function vJ(e,t,n){const r=Et(e),i=r.queries.get(t);if(i)for(const a of i.j_)a.onError(n);r.queries.delete(t)}function TS(e){e.Y_.forEach(t=>{t.next()})}var A4,Rk;(Rk=A4||(A4={})).ea="default",Rk.Cache="cache";class CS{constructor(t,n,r){this.query=t,this.ta=n,this.na=!1,this.ra=null,this.onlineState="Unknown",this.options=r||{}}X_(t){if(!this.options.includeMetadataChanges){const r=[];for(const i of t.docChanges)i.type!==3&&r.push(i);t=new dh(t.query,t.docs,t.oldDocs,r,t.mutatedKeys,t.fromCache,t.syncStateChanged,!0,t.hasCachedResults)}let n=!1;return this.na?this.ia(t)&&(this.ta.next(t),n=!0):this.sa(t,this.onlineState)&&(this.oa(t),n=!0),this.ra=t,n}onError(t){this.ta.error(t)}Z_(t){this.onlineState=t;let n=!1;return this.ra&&!this.na&&this.sa(this.ra,t)&&(this.oa(this.ra),n=!0),n}sa(t,n){if(!t.fromCache||!this.J_())return!0;const r=n!=="Offline";return(!this.options._a||!r)&&(!t.docs.isEmpty()||t.hasCachedResults||n==="Offline")}ia(t){if(t.docChanges.length>0)return!0;const n=this.ra&&this.ra.hasPendingWrites!==t.hasPendingWrites;return!(!t.syncStateChanged&&!n)&&this.options.includeMetadataChanges===!0}oa(t){t=dh.fromInitialDocuments(t.query,t.docs,t.mutatedKeys,t.fromCache,t.hasCachedResults),this.na=!0,this.ta.next(t)}J_(){return this.options.source!==A4.Cache}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class RM{constructor(t){this.key=t}}class MM{constructor(t){this.key=t}}class yJ{constructor(t,n){this.query=t,this.Ta=n,this.Ea=null,this.hasCachedResults=!1,this.current=!1,this.da=zt(),this.mutatedKeys=zt(),this.Aa=rM(t),this.Ra=new Wf(this.Aa)}get Va(){return this.Ta}ma(t,n){const r=n?n.fa:new Ok,i=n?n.Ra:this.Ra;let a=n?n.mutatedKeys:this.mutatedKeys,s=i,o=!1;const l=this.query.limitType==="F"&&i.size===this.query.limit?i.last():null,u=this.query.limitType==="L"&&i.size===this.query.limit?i.first():null;if(t.inorderTraversal((c,d)=>{const p=i.get(c),f=N2(this.query,d)?d:null,g=!!p&&this.mutatedKeys.has(p.key),v=!!f&&(f.hasLocalMutations||this.mutatedKeys.has(f.key)&&f.hasCommittedMutations);let b=!1;p&&f?p.data.isEqual(f.data)?g!==v&&(r.track({type:3,doc:f}),b=!0):this.ga(p,f)||(r.track({type:2,doc:f}),b=!0,(l&&this.Aa(f,l)>0||u&&this.Aa(f,u)<0)&&(o=!0)):!p&&f?(r.track({type:0,doc:f}),b=!0):p&&!f&&(r.track({type:1,doc:p}),b=!0,(l||u)&&(o=!0)),b&&(f?(s=s.add(f),a=v?a.add(c):a.delete(c)):(s=s.delete(c),a=a.delete(c)))}),this.query.limit!==null)for(;s.size>this.query.limit;){const c=this.query.limitType==="F"?s.last():s.first();s=s.delete(c.key),a=a.delete(c.key),r.track({type:1,doc:c})}return{Ra:s,fa:r,ns:o,mutatedKeys:a}}ga(t,n){return t.hasLocalMutations&&n.hasCommittedMutations&&!n.hasLocalMutations}applyChanges(t,n,r,i){const a=this.Ra;this.Ra=t.Ra,this.mutatedKeys=t.mutatedKeys;const s=t.fa.G_();s.sort((c,d)=>function(f,g){const v=b=>{switch(b){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return Pt()}};return v(f)-v(g)}(c.type,d.type)||this.Aa(c.doc,d.doc)),this.pa(r),i=i!=null&&i;const o=n&&!i?this.ya():[],l=this.da.size===0&&this.current&&!i?1:0,u=l!==this.Ea;return this.Ea=l,s.length!==0||u?{snapshot:new dh(this.query,t.Ra,a,s,t.mutatedKeys,l===0,u,!1,!!r&&r.resumeToken.approximateByteSize()>0),wa:o}:{wa:o}}Z_(t){return this.current&&t==="Offline"?(this.current=!1,this.applyChanges({Ra:this.Ra,fa:new Ok,mutatedKeys:this.mutatedKeys,ns:!1},!1)):{wa:[]}}Sa(t){return!this.Ta.has(t)&&!!this.Ra.has(t)&&!this.Ra.get(t).hasLocalMutations}pa(t){t&&(t.addedDocuments.forEach(n=>this.Ta=this.Ta.add(n)),t.modifiedDocuments.forEach(n=>{}),t.removedDocuments.forEach(n=>this.Ta=this.Ta.delete(n)),this.current=t.current)}ya(){if(!this.current)return[];const t=this.da;this.da=zt(),this.Ra.forEach(r=>{this.Sa(r.key)&&(this.da=this.da.add(r.key))});const n=[];return t.forEach(r=>{this.da.has(r)||n.push(new MM(r))}),this.da.forEach(r=>{t.has(r)||n.push(new RM(r))}),n}ba(t){this.Ta=t.Ts,this.da=zt();const n=this.ma(t.documents);return this.applyChanges(n,!0)}Da(){return dh.fromInitialDocuments(this.query,this.Ra,this.mutatedKeys,this.Ea===0,this.hasCachedResults)}}class xJ{constructor(t,n,r){this.query=t,this.targetId=n,this.view=r}}class bJ{constructor(t){this.key=t,this.va=!1}}class wJ{constructor(t,n,r,i,a,s){this.localStore=t,this.remoteStore=n,this.eventManager=r,this.sharedClientState=i,this.currentUser=a,this.maxConcurrentLimboResolutions=s,this.Ca={},this.Fa=new Oh(o=>nM(o),E2),this.Ma=new Map,this.xa=new Set,this.Oa=new ir(dt.comparator),this.Na=new Map,this.La=new yS,this.Ba={},this.ka=new Map,this.qa=ch.kn(),this.onlineState="Unknown",this.Qa=void 0}get isPrimaryClient(){return this.Qa===!0}}async function _J(e,t,n=!0){const r=$M(e);let i;const a=r.Fa.get(t);return a?(r.sharedClientState.addLocalQueryTarget(a.targetId),i=a.view.Da()):i=await DM(r,t,n,!0),i}async function SJ(e,t){const n=$M(e);await DM(n,t,!0,!1)}async function DM(e,t,n,r){const i=await qZ(e.localStore,Wo(t)),a=i.targetId,s=e.sharedClientState.addLocalQueryTarget(a,n);let o;return r&&(o=await AJ(e,t,a,s==="current",i.resumeToken)),e.isPrimaryClient&&n&&TM(e.remoteStore,i),o}async function AJ(e,t,n,r,i){e.Ka=(d,p,f)=>async function(v,b,x,w){let A=b.view.ma(x);A.ns&&(A=await Tk(v.localStore,b.query,!1).then(({documents:T})=>b.view.ma(T,A)));const P=w&&w.targetChanges.get(b.targetId),O=w&&w.targetMismatches.get(b.targetId)!=null,D=b.view.applyChanges(A,v.isPrimaryClient,P,O);return Dk(v,b.targetId,D.wa),D.snapshot}(e,d,p,f);const a=await Tk(e.localStore,t,!0),s=new yJ(t,a.Ts),o=s.ma(a.documents),l=k0.createSynthesizedTargetChangeForCurrentChange(n,r&&e.onlineState!=="Offline",i),u=s.applyChanges(o,e.isPrimaryClient,l);Dk(e,n,u.wa);const c=new xJ(t,n,s);return e.Fa.set(t,c),e.Ma.has(n)?e.Ma.get(n).push(t):e.Ma.set(n,[t]),u.snapshot}async function PJ(e,t,n){const r=Et(e),i=r.Fa.get(t),a=r.Ma.get(i.targetId);if(a.length>1)return r.Ma.set(i.targetId,a.filter(s=>!E2(s,t))),void r.Fa.delete(t);r.isPrimaryClient?(r.sharedClientState.removeLocalQueryTarget(i.targetId),r.sharedClientState.isActiveQueryTarget(i.targetId)||await S4(r.localStore,i.targetId,!1).then(()=>{r.sharedClientState.clearQueryState(i.targetId),n&&wS(r.remoteStore,i.targetId),P4(r,i.targetId)}).catch(A0)):(P4(r,i.targetId),await S4(r.localStore,i.targetId,!0))}async function EJ(e,t){const n=Et(e),r=n.Fa.get(t),i=n.Ma.get(r.targetId);n.isPrimaryClient&&i.length===1&&(n.sharedClientState.removeLocalQueryTarget(r.targetId),wS(n.remoteStore,r.targetId))}async function NJ(e,t,n){const r=LJ(e);try{const i=await function(s,o){const l=Et(s),u=gr.now(),c=o.reduce((f,g)=>f.add(g.key),zt());let d,p;return l.persistence.runTransaction("Locally write mutations","readwrite",f=>{let g=Dl(),v=zt();return l.cs.getEntries(f,c).next(b=>{g=b,g.forEach((x,w)=>{w.isValidDocument()||(v=v.add(x))})}).next(()=>l.localDocuments.getOverlayedDocuments(f,g)).next(b=>{d=b;const x=[];for(const w of o){const A=GQ(w,d.get(w.key).overlayedDocument);A!=null&&x.push(new xc(w.key,A,KR(A.value.mapValue),la.exists(!0)))}return l.mutationQueue.addMutationBatch(f,u,x,o)}).next(b=>{p=b;const x=b.applyToLocalDocumentSet(d,v);return l.documentOverlayCache.saveOverlays(f,b.batchId,x)})}).then(()=>({batchId:p.batchId,changes:aM(d)}))}(r.localStore,t);r.sharedClientState.addPendingMutation(i.batchId),function(s,o,l){let u=s.Ba[s.currentUser.toKey()];u||(u=new ir(Jt)),u=u.insert(o,l),s.Ba[s.currentUser.toKey()]=u}(r,i.batchId,n),await C0(r,i.changes),await L2(r.remoteStore)}catch(i){const a=ES(i,"Failed to persist write");n.reject(a)}}async function FM(e,t){const n=Et(e);try{const r=await $Z(n.localStore,t);t.targetChanges.forEach((i,a)=>{const s=n.Na.get(a);s&&(on(i.addedDocuments.size+i.modifiedDocuments.size+i.removedDocuments.size<=1),i.addedDocuments.size>0?s.va=!0:i.modifiedDocuments.size>0?on(s.va):i.removedDocuments.size>0&&(on(s.va),s.va=!1))}),await C0(n,r,t)}catch(r){await A0(r)}}function Mk(e,t,n){const r=Et(e);if(r.isPrimaryClient&&n===0||!r.isPrimaryClient&&n===1){const i=[];r.Fa.forEach((a,s)=>{const o=s.view.Z_(t);o.snapshot&&i.push(o.snapshot)}),function(s,o){const l=Et(s);l.onlineState=o;let u=!1;l.queries.forEach((c,d)=>{for(const p of d.j_)p.Z_(o)&&(u=!0)}),u&&TS(l)}(r.eventManager,t),i.length&&r.Ca.d_(i),r.onlineState=t,r.isPrimaryClient&&r.sharedClientState.setOnlineState(t)}}async function kJ(e,t,n){const r=Et(e);r.sharedClientState.updateQueryState(t,"rejected",n);const i=r.Na.get(t),a=i&&i.key;if(a){let s=new ir(dt.comparator);s=s.insert(a,Wi.newNoDocument(a,Ct.min()));const o=zt().add(a),l=new j2(Ct.min(),new Map,new ir(Jt),s,o);await FM(r,l),r.Oa=r.Oa.remove(a),r.Na.delete(t),jS(r)}else await S4(r.localStore,t,!1).then(()=>P4(r,t,n)).catch(A0)}async function TJ(e,t){const n=Et(e),r=t.batch.batchId;try{const i=await zZ(n.localStore,t);VM(n,r,null),BM(n,r),n.sharedClientState.updateMutationState(r,"acknowledged"),await C0(n,i)}catch(i){await A0(i)}}async function CJ(e,t,n){const r=Et(e);try{const i=await function(s,o){const l=Et(s);return l.persistence.runTransaction("Reject batch","readwrite-primary",u=>{let c;return l.mutationQueue.lookupMutationBatch(u,o).next(d=>(on(d!==null),c=d.keys(),l.mutationQueue.removeMutationBatch(u,d))).next(()=>l.mutationQueue.performConsistencyCheck(u)).next(()=>l.documentOverlayCache.removeOverlaysForBatchId(u,c,o)).next(()=>l.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(u,c)).next(()=>l.localDocuments.getDocuments(u,c))})}(r.localStore,t);VM(r,t,n),BM(r,t),r.sharedClientState.updateMutationState(t,"rejected",n),await C0(r,i)}catch(i){await A0(i)}}function BM(e,t){(e.ka.get(t)||[]).forEach(n=>{n.resolve()}),e.ka.delete(t)}function VM(e,t,n){const r=Et(e);let i=r.Ba[r.currentUser.toKey()];if(i){const a=i.get(t);a&&(n?a.reject(n):a.resolve(),i=i.remove(t)),r.Ba[r.currentUser.toKey()]=i}}function P4(e,t,n=null){e.sharedClientState.removeLocalQueryTarget(t);for(const r of e.Ma.get(t))e.Fa.delete(r),n&&e.Ca.$a(r,n);e.Ma.delete(t),e.isPrimaryClient&&e.La.gr(t).forEach(r=>{e.La.containsKey(r)||zM(e,r)})}function zM(e,t){e.xa.delete(t.path.canonicalString());const n=e.Oa.get(t);n!==null&&(wS(e.remoteStore,n),e.Oa=e.Oa.remove(t),e.Na.delete(n),jS(e))}function Dk(e,t,n){for(const r of n)r instanceof RM?(e.La.addReference(r.key,t),jJ(e,r)):r instanceof MM?(et("SyncEngine","Document no longer in limbo: "+r.key),e.La.removeReference(r.key,t),e.La.containsKey(r.key)||zM(e,r.key)):Pt()}function jJ(e,t){const n=t.key,r=n.path.canonicalString();e.Oa.get(n)||e.xa.has(r)||(et("SyncEngine","New document in limbo: "+n),e.xa.add(r),jS(e))}function jS(e){for(;e.xa.size>0&&e.Oa.size<e.maxConcurrentLimboResolutions;){const t=e.xa.values().next().value;e.xa.delete(t);const n=new dt(Dn.fromString(t)),r=e.qa.next();e.Na.set(r,new bJ(n)),e.Oa=e.Oa.insert(n,r),TM(e.remoteStore,new zu(Wo(P2(n.path)),r,"TargetPurposeLimboResolution",lS.oe))}}async function C0(e,t,n){const r=Et(e),i=[],a=[],s=[];r.Fa.isEmpty()||(r.Fa.forEach((o,l)=>{s.push(r.Ka(l,t,n).then(u=>{var c;if((u||n)&&r.isPrimaryClient){const d=u?!u.fromCache:(c=n==null?void 0:n.targetChanges.get(l.targetId))===null||c===void 0?void 0:c.current;r.sharedClientState.updateQueryState(l.targetId,d?"current":"not-current")}if(u){i.push(u);const d=bS.Wi(l.targetId,u);a.push(d)}}))}),await Promise.all(s),r.Ca.d_(i),await async function(l,u){const c=Et(l);try{await c.persistence.runTransaction("notifyLocalViewChanges","readwrite",d=>Me.forEach(u,p=>Me.forEach(p.$i,f=>c.persistence.referenceDelegate.addReference(d,p.targetId,f)).next(()=>Me.forEach(p.Ui,f=>c.persistence.referenceDelegate.removeReference(d,p.targetId,f)))))}catch(d){if(!P0(d))throw d;et("LocalStore","Failed to update sequence numbers: "+d)}for(const d of u){const p=d.targetId;if(!d.fromCache){const f=c.os.get(p),g=f.snapshotVersion,v=f.withLastLimboFreeSnapshotVersion(g);c.os=c.os.insert(p,v)}}}(r.localStore,a))}async function IJ(e,t){const n=Et(e);if(!n.currentUser.isEqual(t)){et("SyncEngine","User change. New user:",t.toKey());const r=await PM(n.localStore,t);n.currentUser=t,function(a,s){a.ka.forEach(o=>{o.forEach(l=>{l.reject(new qe(Ie.CANCELLED,s))})}),a.ka.clear()}(n,"'waitForPendingWrites' promise is rejected due to a user change."),n.sharedClientState.handleUserChange(t,r.removedBatchIds,r.addedBatchIds),await C0(n,r.hs)}}function OJ(e,t){const n=Et(e),r=n.Na.get(t);if(r&&r.va)return zt().add(r.key);{let i=zt();const a=n.Ma.get(t);if(!a)return i;for(const s of a){const o=n.Fa.get(s);i=i.unionWith(o.view.Va)}return i}}function $M(e){const t=Et(e);return t.remoteStore.remoteSyncer.applyRemoteEvent=FM.bind(null,t),t.remoteStore.remoteSyncer.getRemoteKeysForTarget=OJ.bind(null,t),t.remoteStore.remoteSyncer.rejectListen=kJ.bind(null,t),t.Ca.d_=gJ.bind(null,t.eventManager),t.Ca.$a=vJ.bind(null,t.eventManager),t}function LJ(e){const t=Et(e);return t.remoteStore.remoteSyncer.applySuccessfulWrite=TJ.bind(null,t),t.remoteStore.remoteSyncer.rejectFailedWrite=CJ.bind(null,t),t}class Hv{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(t){this.serializer=I2(t.databaseInfo.databaseId),this.sharedClientState=this.Wa(t),this.persistence=this.Ga(t),await this.persistence.start(),this.localStore=this.za(t),this.gcScheduler=this.ja(t,this.localStore),this.indexBackfillerScheduler=this.Ha(t,this.localStore)}ja(t,n){return null}Ha(t,n){return null}za(t){return VZ(this.persistence,new FZ,t.initialUser,this.serializer)}Ga(t){return new RZ(xS.Zr,this.serializer)}Wa(t){return new KZ}async terminate(){var t,n;(t=this.gcScheduler)===null||t===void 0||t.stop(),(n=this.indexBackfillerScheduler)===null||n===void 0||n.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}Hv.provider={build:()=>new Hv};class E4{async initialize(t,n){this.localStore||(this.localStore=t.localStore,this.sharedClientState=t.sharedClientState,this.datastore=this.createDatastore(n),this.remoteStore=this.createRemoteStore(n),this.eventManager=this.createEventManager(n),this.syncEngine=this.createSyncEngine(n,!t.synchronizeTabs),this.sharedClientState.onlineStateHandler=r=>Mk(this.syncEngine,r,1),this.remoteStore.remoteSyncer.handleCredentialChange=IJ.bind(null,this.syncEngine),await hJ(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(t){return function(){return new mJ}()}createDatastore(t){const n=I2(t.databaseInfo.databaseId),r=function(a){return new QZ(a)}(t.databaseInfo);return function(a,s,o,l){return new eJ(a,s,o,l)}(t.authCredentials,t.appCheckCredentials,r,n)}createRemoteStore(t){return function(r,i,a,s,o){return new nJ(r,i,a,s,o)}(this.localStore,this.datastore,t.asyncQueue,n=>Mk(this.syncEngine,n,0),function(){return jk.D()?new jk:new GZ}())}createSyncEngine(t,n){return function(i,a,s,o,l,u,c){const d=new wJ(i,a,s,o,l,u);return c&&(d.Qa=!0),d}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,t.initialUser,t.maxConcurrentLimboResolutions,n)}async terminate(){var t,n;await async function(i){const a=Et(i);et("RemoteStore","RemoteStore shutting down."),a.L_.add(5),await T0(a),a.k_.shutdown(),a.q_.set("Unknown")}(this.remoteStore),(t=this.datastore)===null||t===void 0||t.terminate(),(n=this.eventManager)===null||n===void 0||n.terminate()}}E4.provider={build:()=>new E4};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class IS{constructor(t){this.observer=t,this.muted=!1}next(t){this.muted||this.observer.next&&this.Ya(this.observer.next,t)}error(t){this.muted||(this.observer.error?this.Ya(this.observer.error,t):Ml("Uncaught Error in snapshot listener:",t.toString()))}Za(){this.muted=!0}Ya(t,n){setTimeout(()=>{this.muted||t(n)},0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class RJ{constructor(t,n,r,i,a){this.authCredentials=t,this.appCheckCredentials=n,this.asyncQueue=r,this.databaseInfo=i,this.user=$i.UNAUTHENTICATED,this.clientId=WR.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=a,this.authCredentials.start(r,async s=>{et("FirestoreClient","Received user=",s.uid),await this.authCredentialListener(s),this.user=s}),this.appCheckCredentials.start(r,s=>(et("FirestoreClient","Received new app check token=",s),this.appCheckCredentialListener(s,this.user)))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(t){this.authCredentialListener=t}setAppCheckTokenChangeListener(t){this.appCheckCredentialListener=t}terminate(){this.asyncQueue.enterRestrictedMode();const t=new Uo;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),t.resolve()}catch(n){const r=ES(n,"Failed to shutdown persistence");t.reject(r)}}),t.promise}}async function Yb(e,t){e.asyncQueue.verifyOperationInProgress(),et("FirestoreClient","Initializing OfflineComponentProvider");const n=e.configuration;await t.initialize(n);let r=n.initialUser;e.setCredentialChangeListener(async i=>{r.isEqual(i)||(await PM(t.localStore,i),r=i)}),t.persistence.setDatabaseDeletedListener(()=>e.terminate()),e._offlineComponents=t}async function Fk(e,t){e.asyncQueue.verifyOperationInProgress();const n=await MJ(e);et("FirestoreClient","Initializing OnlineComponentProvider"),await t.initialize(n,e.configuration),e.setCredentialChangeListener(r=>Ik(t.remoteStore,r)),e.setAppCheckTokenChangeListener((r,i)=>Ik(t.remoteStore,i)),e._onlineComponents=t}async function MJ(e){if(!e._offlineComponents)if(e._uninitializedComponentsProvider){et("FirestoreClient","Using user provided OfflineComponentProvider");try{await Yb(e,e._uninitializedComponentsProvider._offline)}catch(t){const n=t;if(!function(i){return i.name==="FirebaseError"?i.code===Ie.FAILED_PRECONDITION||i.code===Ie.UNIMPLEMENTED:!(typeof DOMException<"u"&&i instanceof DOMException)||i.code===22||i.code===20||i.code===11}(n))throw n;sh("Error using user provided cache. Falling back to memory cache: "+n),await Yb(e,new Hv)}}else et("FirestoreClient","Using default OfflineComponentProvider"),await Yb(e,new Hv);return e._offlineComponents}async function OS(e){return e._onlineComponents||(e._uninitializedComponentsProvider?(et("FirestoreClient","Using user provided OnlineComponentProvider"),await Fk(e,e._uninitializedComponentsProvider._online)):(et("FirestoreClient","Using default OnlineComponentProvider"),await Fk(e,new E4))),e._onlineComponents}function DJ(e){return OS(e).then(t=>t.syncEngine)}function FJ(e){return OS(e).then(t=>t.datastore)}async function Kv(e){const t=await OS(e),n=t.eventManager;return n.onListen=_J.bind(null,t.syncEngine),n.onUnlisten=PJ.bind(null,t.syncEngine),n.onFirstRemoteStoreListen=SJ.bind(null,t.syncEngine),n.onLastRemoteStoreUnlisten=EJ.bind(null,t.syncEngine),n}function BJ(e,t,n={}){const r=new Uo;return e.asyncQueue.enqueueAndForget(async()=>function(a,s,o,l,u){const c=new IS({next:p=>{c.Za(),s.enqueueAndForget(()=>kS(a,d));const f=p.docs.has(o);!f&&p.fromCache?u.reject(new qe(Ie.UNAVAILABLE,"Failed to get document because the client is offline.")):f&&p.fromCache&&l&&l.source==="server"?u.reject(new qe(Ie.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):u.resolve(p)},error:p=>u.reject(p)}),d=new CS(P2(o.path),c,{includeMetadataChanges:!0,_a:!0});return NS(a,d)}(await Kv(e),e.asyncQueue,t,n,r)),r.promise}function VJ(e,t,n={}){const r=new Uo;return e.asyncQueue.enqueueAndForget(async()=>function(a,s,o,l,u){const c=new IS({next:p=>{c.Za(),s.enqueueAndForget(()=>kS(a,d)),p.fromCache&&l.source==="server"?u.reject(new qe(Ie.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):u.resolve(p)},error:p=>u.reject(p)}),d=new CS(o,c,{includeMetadataChanges:!0,_a:!0});return NS(a,d)}(await Kv(e),e.asyncQueue,t,n,r)),r.promise}function zJ(e,t,n){const r=new Uo;return e.asyncQueue.enqueueAndForget(async()=>{try{const i=await FJ(e);r.resolve(async function(s,o,l){var u;const c=Et(s),{request:d,ut:p,parent:f}=pZ(c.serializer,LQ(o),l);c.connection.Fo||delete d.parent;const g=(await c.Lo("RunAggregationQuery",c.serializer.databaseId,f,d,1)).filter(b=>!!b.result);on(g.length===1);const v=(u=g[0].result)===null||u===void 0?void 0:u.aggregateFields;return Object.keys(v).reduce((b,x)=>(b[p[x]]=v[x],b),{})}(i,t,n))}catch(i){r.reject(i)}}),r.promise}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function UM(e){const t={};return e.timeoutSeconds!==void 0&&(t.timeoutSeconds=e.timeoutSeconds),t}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Bk=new Map;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function WM(e,t,n){if(!n)throw new qe(Ie.INVALID_ARGUMENT,`Function ${e}() cannot be called with an empty ${t}.`)}function $J(e,t,n,r){if(t===!0&&r===!0)throw new qe(Ie.INVALID_ARGUMENT,`${e} and ${n} cannot be used together.`)}function Vk(e){if(!dt.isDocumentKey(e))throw new qe(Ie.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${e} has ${e.length}.`)}function zk(e){if(dt.isDocumentKey(e))throw new qe(Ie.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${e} has ${e.length}.`)}function R2(e){if(e===void 0)return"undefined";if(e===null)return"null";if(typeof e=="string")return e.length>20&&(e=`${e.substring(0,20)}...`),JSON.stringify(e);if(typeof e=="number"||typeof e=="boolean")return""+e;if(typeof e=="object"){if(e instanceof Array)return"an array";{const t=function(r){return r.constructor?r.constructor.name:null}(e);return t?`a custom ${t} object`:"an object"}}return typeof e=="function"?"a function":Pt()}function Ki(e,t){if("_delegate"in e&&(e=e._delegate),!(e instanceof t)){if(t.name===e.constructor.name)throw new qe(Ie.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const n=R2(e);throw new qe(Ie.INVALID_ARGUMENT,`Expected type '${t.name}', but it was: ${n}`)}}return e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $k{constructor(t){var n,r;if(t.host===void 0){if(t.ssl!==void 0)throw new qe(Ie.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=t.host,this.ssl=(n=t.ssl)===null||n===void 0||n;if(this.credentials=t.credentials,this.ignoreUndefinedProperties=!!t.ignoreUndefinedProperties,this.localCache=t.localCache,t.cacheSizeBytes===void 0)this.cacheSizeBytes=41943040;else{if(t.cacheSizeBytes!==-1&&t.cacheSizeBytes<1048576)throw new qe(Ie.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=t.cacheSizeBytes}$J("experimentalForceLongPolling",t.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",t.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!t.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:t.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!t.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=UM((r=t.experimentalLongPollingOptions)!==null&&r!==void 0?r:{}),function(a){if(a.timeoutSeconds!==void 0){if(isNaN(a.timeoutSeconds))throw new qe(Ie.INVALID_ARGUMENT,`invalid long polling timeout: ${a.timeoutSeconds} (must not be NaN)`);if(a.timeoutSeconds<5)throw new qe(Ie.INVALID_ARGUMENT,`invalid long polling timeout: ${a.timeoutSeconds} (minimum allowed value is 5)`);if(a.timeoutSeconds>30)throw new qe(Ie.INVALID_ARGUMENT,`invalid long polling timeout: ${a.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!t.useFetchStreams}isEqual(t){return this.host===t.host&&this.ssl===t.ssl&&this.credentials===t.credentials&&this.cacheSizeBytes===t.cacheSizeBytes&&this.experimentalForceLongPolling===t.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===t.experimentalAutoDetectLongPolling&&function(r,i){return r.timeoutSeconds===i.timeoutSeconds}(this.experimentalLongPollingOptions,t.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===t.ignoreUndefinedProperties&&this.useFetchStreams===t.useFetchStreams}}class M2{constructor(t,n,r,i){this._authCredentials=t,this._appCheckCredentials=n,this._databaseId=r,this._app=i,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new $k({}),this._settingsFrozen=!1,this._terminateTask="notTerminated"}get app(){if(!this._app)throw new qe(Ie.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(t){if(this._settingsFrozen)throw new qe(Ie.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new $k(t),t.credentials!==void 0&&(this._authCredentials=function(r){if(!r)return new nQ;switch(r.type){case"firstParty":return new sQ(r.sessionIndex||"0",r.iamToken||null,r.authTokenFactory||null);case"provider":return r.client;default:throw new qe(Ie.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(t.credentials))}_getSettings(){return this._settings}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(n){const r=Bk.get(n);r&&(et("ComponentProvider","Removing Datastore"),Bk.delete(n),r.terminate())}(this),Promise.resolve()}}function UJ(e,t,n,r={}){var i;const a=(e=Ki(e,M2))._getSettings(),s=`${t}:${n}`;if(a.host!=="firestore.googleapis.com"&&a.host!==s&&sh("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used."),e._setSettings(Object.assign(Object.assign({},a),{host:s,ssl:!1})),r.mockUserToken){let o,l;if(typeof r.mockUserToken=="string")o=r.mockUserToken,l=$i.MOCK_USER;else{o=RY(r.mockUserToken,(i=e._app)===null||i===void 0?void 0:i.options.projectId);const u=r.mockUserToken.sub||r.mockUserToken.user_id;if(!u)throw new qe(Ie.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");l=new $i(u)}e._authCredentials=new rQ(new UR(o,l))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wd{constructor(t,n,r){this.converter=n,this._query=r,this.type="query",this.firestore=t}withConverter(t){return new Wd(this.firestore,t,this._query)}}class Gi{constructor(t,n,r){this.converter=n,this._key=r,this.type="document",this.firestore=t}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new nc(this.firestore,this.converter,this._key.path.popLast())}withConverter(t){return new Gi(this.firestore,t,this._key)}}class nc extends Wd{constructor(t,n,r){super(t,n,P2(r)),this._path=r,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const t=this._path.popLast();return t.isEmpty()?null:new Gi(this.firestore,null,new dt(t))}withConverter(t){return new nc(this.firestore,t,this._path)}}function no(e,t,...n){if(e=ks(e),WM("collection","path",t),e instanceof M2){const r=Dn.fromString(t,...n);return zk(r),new nc(e,null,r)}{if(!(e instanceof Gi||e instanceof nc))throw new qe(Ie.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=e._path.child(Dn.fromString(t,...n));return zk(r),new nc(e.firestore,null,r)}}function Os(e,t,...n){if(e=ks(e),arguments.length===1&&(t=WR.newId()),WM("doc","path",t),e instanceof M2){const r=Dn.fromString(t,...n);return Vk(r),new Gi(e,null,new dt(r))}{if(!(e instanceof Gi||e instanceof nc))throw new qe(Ie.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=e._path.child(Dn.fromString(t,...n));return Vk(r),new Gi(e.firestore,e instanceof nc?e.converter:null,new dt(r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Uk{constructor(t=Promise.resolve()){this.Pu=[],this.Iu=!1,this.Tu=[],this.Eu=null,this.du=!1,this.Au=!1,this.Ru=[],this.t_=new NM(this,"async_queue_retry"),this.Vu=()=>{const r=Gb();r&&et("AsyncQueue","Visibility state changed to "+r.visibilityState),this.t_.jo()},this.mu=t;const n=Gb();n&&typeof n.addEventListener=="function"&&n.addEventListener("visibilitychange",this.Vu)}get isShuttingDown(){return this.Iu}enqueueAndForget(t){this.enqueue(t)}enqueueAndForgetEvenWhileRestricted(t){this.fu(),this.gu(t)}enterRestrictedMode(t){if(!this.Iu){this.Iu=!0,this.Au=t||!1;const n=Gb();n&&typeof n.removeEventListener=="function"&&n.removeEventListener("visibilitychange",this.Vu)}}enqueue(t){if(this.fu(),this.Iu)return new Promise(()=>{});const n=new Uo;return this.gu(()=>this.Iu&&this.Au?Promise.resolve():(t().then(n.resolve,n.reject),n.promise)).then(()=>n.promise)}enqueueRetryable(t){this.enqueueAndForget(()=>(this.Pu.push(t),this.pu()))}async pu(){if(this.Pu.length!==0){try{await this.Pu[0](),this.Pu.shift(),this.t_.reset()}catch(t){if(!P0(t))throw t;et("AsyncQueue","Operation failed with retryable error: "+t)}this.Pu.length>0&&this.t_.Go(()=>this.pu())}}gu(t){const n=this.mu.then(()=>(this.du=!0,t().catch(r=>{this.Eu=r,this.du=!1;const i=function(s){let o=s.message||"";return s.stack&&(o=s.stack.includes(s.message)?s.stack:s.message+`
`+s.stack),o}(r);throw Ml("INTERNAL UNHANDLED ERROR: ",i),r}).then(r=>(this.du=!1,r))));return this.mu=n,n}enqueueAfterDelay(t,n,r){this.fu(),this.Ru.indexOf(t)>-1&&(n=0);const i=PS.createAndSchedule(this,t,n,r,a=>this.yu(a));return this.Tu.push(i),i}fu(){this.Eu&&Pt()}verifyOperationInProgress(){}async wu(){let t;do t=this.mu,await t;while(t!==this.mu)}Su(t){for(const n of this.Tu)if(n.timerId===t)return!0;return!1}bu(t){return this.wu().then(()=>{this.Tu.sort((n,r)=>n.targetTimeMs-r.targetTimeMs);for(const n of this.Tu)if(n.skipDelay(),t!=="all"&&n.timerId===t)break;return this.wu()})}Du(t){this.Ru.push(t)}yu(t){const n=this.Tu.indexOf(t);this.Tu.splice(n,1)}}function Wk(e){return function(n,r){if(typeof n!="object"||n===null)return!1;const i=n;for(const a of r)if(a in i&&typeof i[a]=="function")return!0;return!1}(e,["next","error","complete"])}class so extends M2{constructor(t,n,r,i){super(t,n,r,i),this.type="firestore",this._queue=new Uk,this._persistenceKey=(i==null?void 0:i.name)||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const t=this._firestoreClient.terminate();this._queue=new Uk(t),this._firestoreClient=void 0,await t}}}function WJ(e,t){const n=typeof e=="object"?e:WX(),r=typeof e=="string"?e:"(default)",i=VX(n,"firestore").getImmediate({identifier:r});if(!i._initialized){const a=OY("firestore");a&&UJ(i,...a)}return i}function Rh(e){if(e._terminated)throw new qe(Ie.FAILED_PRECONDITION,"The client has already been terminated.");return e._firestoreClient||qJ(e),e._firestoreClient}function qJ(e){var t,n,r;const i=e._freezeSettings(),a=function(o,l,u,c){return new bQ(o,l,u,c.host,c.ssl,c.experimentalForceLongPolling,c.experimentalAutoDetectLongPolling,UM(c.experimentalLongPollingOptions),c.useFetchStreams)}(e._databaseId,((t=e._app)===null||t===void 0?void 0:t.options.appId)||"",e._persistenceKey,i);e._componentsProvider||!((n=i.localCache)===null||n===void 0)&&n._offlineComponentProvider&&(!((r=i.localCache)===null||r===void 0)&&r._onlineComponentProvider)&&(e._componentsProvider={_offline:i.localCache._offlineComponentProvider,_online:i.localCache._onlineComponentProvider}),e._firestoreClient=new RJ(e._authCredentials,e._appCheckCredentials,e._queue,a,e._componentsProvider&&function(o){const l=o==null?void 0:o._online.build();return{_offline:o==null?void 0:o._offline.build(l),_online:l}}(e._componentsProvider))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class HJ{constructor(t="count",n){this._internalFieldPath=n,this.type="AggregateField",this.aggregateType=t}}class KJ{constructor(t,n,r){this._userDataWriter=n,this._data=r,this.type="AggregateQuerySnapshot",this.query=t}data(){return this._userDataWriter.convertObjectMap(this._data)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fh{constructor(t){this._byteString=t}static fromBase64String(t){try{return new fh(Ni.fromBase64String(t))}catch(n){throw new qe(Ie.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+n)}}static fromUint8Array(t){return new fh(Ni.fromUint8Array(t))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(t){return this._byteString.isEqual(t._byteString)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class j0{constructor(...t){for(let n=0;n<t.length;++n)if(t[n].length===0)throw new qe(Ie.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new _i(t)}isEqual(t){return this._internalPath.isEqual(t._internalPath)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class LS{constructor(t){this._methodName=t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class RS{constructor(t,n){if(!isFinite(t)||t<-90||t>90)throw new qe(Ie.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+t);if(!isFinite(n)||n<-180||n>180)throw new qe(Ie.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=t,this._long=n}get latitude(){return this._lat}get longitude(){return this._long}isEqual(t){return this._lat===t._lat&&this._long===t._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(t){return Jt(this._lat,t._lat)||Jt(this._long,t._long)}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class MS{constructor(t){this._values=(t||[]).map(n=>n)}toArray(){return this._values.map(t=>t)}isEqual(t){return function(r,i){if(r.length!==i.length)return!1;for(let a=0;a<r.length;++a)if(r[a]!==i[a])return!1;return!0}(this._values,t._values)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const GJ=/^__.*__$/;class YJ{constructor(t,n,r){this.data=t,this.fieldMask=n,this.fieldTransforms=r}toMutation(t,n){return this.fieldMask!==null?new xc(t,this.data,this.fieldMask,n,this.fieldTransforms):new N0(t,this.data,n,this.fieldTransforms)}}class qM{constructor(t,n,r){this.data=t,this.fieldMask=n,this.fieldTransforms=r}toMutation(t,n){return new xc(t,this.data,this.fieldMask,n,this.fieldTransforms)}}function HM(e){switch(e){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw Pt()}}class DS{constructor(t,n,r,i,a,s){this.settings=t,this.databaseId=n,this.serializer=r,this.ignoreUndefinedProperties=i,a===void 0&&this.vu(),this.fieldTransforms=a||[],this.fieldMask=s||[]}get path(){return this.settings.path}get Cu(){return this.settings.Cu}Fu(t){return new DS(Object.assign(Object.assign({},this.settings),t),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}Mu(t){var n;const r=(n=this.path)===null||n===void 0?void 0:n.child(t),i=this.Fu({path:r,xu:!1});return i.Ou(t),i}Nu(t){var n;const r=(n=this.path)===null||n===void 0?void 0:n.child(t),i=this.Fu({path:r,xu:!1});return i.vu(),i}Lu(t){return this.Fu({path:void 0,xu:!0})}Bu(t){return Gv(t,this.settings.methodName,this.settings.ku||!1,this.path,this.settings.qu)}contains(t){return this.fieldMask.find(n=>t.isPrefixOf(n))!==void 0||this.fieldTransforms.find(n=>t.isPrefixOf(n.field))!==void 0}vu(){if(this.path)for(let t=0;t<this.path.length;t++)this.Ou(this.path.get(t))}Ou(t){if(t.length===0)throw this.Bu("Document fields must not be empty");if(HM(this.Cu)&&GJ.test(t))throw this.Bu('Document fields cannot begin and end with "__"')}}class XJ{constructor(t,n,r){this.databaseId=t,this.ignoreUndefinedProperties=n,this.serializer=r||I2(t)}Qu(t,n,r,i=!1){return new DS({Cu:t,methodName:n,qu:r,path:_i.emptyPath(),xu:!1,ku:i},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function I0(e){const t=e._freezeSettings(),n=I2(e._databaseId);return new XJ(e._databaseId,!!t.ignoreUndefinedProperties,n)}function FS(e,t,n,r,i,a={}){const s=e.Qu(a.merge||a.mergeFields?2:0,t,n,i);BS("Data must be an object, but it was:",s,r);const o=YM(r,s);let l,u;if(a.merge)l=new Qa(s.fieldMask),u=s.fieldTransforms;else if(a.mergeFields){const c=[];for(const d of a.mergeFields){const p=N4(t,d,n);if(!s.contains(p))throw new qe(Ie.INVALID_ARGUMENT,`Field '${p}' is specified in your field mask but missing from your input data.`);QM(c,p)||c.push(p)}l=new Qa(c),u=s.fieldTransforms.filter(d=>l.covers(d.field))}else l=null,u=s.fieldTransforms;return new YJ(new _a(o),l,u)}class D2 extends LS{_toFieldTransform(t){if(t.Cu!==2)throw t.Cu===1?t.Bu(`${this._methodName}() can only appear at the top level of your update data`):t.Bu(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return t.fieldMask.push(t.path),null}isEqual(t){return t instanceof D2}}function KM(e,t,n,r){const i=e.Qu(1,t,n);BS("Data must be an object, but it was:",i,r);const a=[],s=_a.empty();$d(r,(l,u)=>{const c=VS(t,l,n);u=ks(u);const d=i.Nu(c);if(u instanceof D2)a.push(c);else{const p=O0(u,d);p!=null&&(a.push(c),s.set(c,p))}});const o=new Qa(a);return new qM(s,o,i.fieldTransforms)}function GM(e,t,n,r,i,a){const s=e.Qu(1,t,n),o=[N4(t,r,n)],l=[i];if(a.length%2!=0)throw new qe(Ie.INVALID_ARGUMENT,`Function ${t}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let p=0;p<a.length;p+=2)o.push(N4(t,a[p])),l.push(a[p+1]);const u=[],c=_a.empty();for(let p=o.length-1;p>=0;--p)if(!QM(u,o[p])){const f=o[p];let g=l[p];g=ks(g);const v=s.Nu(f);if(g instanceof D2)u.push(f);else{const b=O0(g,v);b!=null&&(u.push(f),c.set(f,b))}}const d=new Qa(u);return new qM(c,d,s.fieldTransforms)}function QJ(e,t,n,r=!1){return O0(n,e.Qu(r?4:3,t))}function O0(e,t){if(XM(e=ks(e)))return BS("Unsupported field value:",t,e),YM(e,t);if(e instanceof LS)return function(r,i){if(!HM(i.Cu))throw i.Bu(`${r._methodName}() can only be used with update() and set()`);if(!i.path)throw i.Bu(`${r._methodName}() is not currently supported inside arrays`);const a=r._toFieldTransform(i);a&&i.fieldTransforms.push(a)}(e,t),null;if(e===void 0&&t.ignoreUndefinedProperties)return null;if(t.path&&t.fieldMask.push(t.path),e instanceof Array){if(t.settings.xu&&t.Cu!==4)throw t.Bu("Nested arrays are not supported");return function(r,i){const a=[];let s=0;for(const o of r){let l=O0(o,i.Lu(s));l==null&&(l={nullValue:"NULL_VALUE"}),a.push(l),s++}return{arrayValue:{values:a}}}(e,t)}return function(r,i){if((r=ks(r))===null)return{nullValue:"NULL_VALUE"};if(typeof r=="number")return $Q(i.serializer,r);if(typeof r=="boolean")return{booleanValue:r};if(typeof r=="string")return{stringValue:r};if(r instanceof Date){const a=gr.fromDate(r);return{timestampValue:Wv(i.serializer,a)}}if(r instanceof gr){const a=new gr(r.seconds,1e3*Math.floor(r.nanoseconds/1e3));return{timestampValue:Wv(i.serializer,a)}}if(r instanceof RS)return{geoPointValue:{latitude:r.latitude,longitude:r.longitude}};if(r instanceof fh)return{bytesValue:vM(i.serializer,r._byteString)};if(r instanceof Gi){const a=i.databaseId,s=r.firestore._databaseId;if(!s.isEqual(a))throw i.Bu(`Document reference is for database ${s.projectId}/${s.database} but should be for database ${a.projectId}/${a.database}`);return{referenceValue:vS(r.firestore._databaseId||i.databaseId,r._key.path)}}if(r instanceof MS)return function(s,o){return{mapValue:{fields:{__type__:{stringValue:"__vector__"},value:{arrayValue:{values:s.toArray().map(l=>{if(typeof l!="number")throw o.Bu("VectorValues must only contain numeric values.");return pS(o.serializer,l)})}}}}}}(r,i);throw i.Bu(`Unsupported field value: ${R2(r)}`)}(e,t)}function YM(e,t){const n={};return qR(e)?t.path&&t.path.length>0&&t.fieldMask.push(t.path):$d(e,(r,i)=>{const a=O0(i,t.Mu(r));a!=null&&(n[r]=a)}),{mapValue:{fields:n}}}function XM(e){return!(typeof e!="object"||e===null||e instanceof Array||e instanceof Date||e instanceof gr||e instanceof RS||e instanceof fh||e instanceof Gi||e instanceof LS||e instanceof MS)}function BS(e,t,n){if(!XM(n)||!function(i){return typeof i=="object"&&i!==null&&(Object.getPrototypeOf(i)===Object.prototype||Object.getPrototypeOf(i)===null)}(n)){const r=R2(n);throw r==="an object"?t.Bu(e+" a custom object"):t.Bu(e+" "+r)}}function N4(e,t,n){if((t=ks(t))instanceof j0)return t._internalPath;if(typeof t=="string")return VS(e,t);throw Gv("Field path arguments must be of type string or ",e,!1,void 0,n)}const ZJ=new RegExp("[~\\*/\\[\\]]");function VS(e,t,n){if(t.search(ZJ)>=0)throw Gv(`Invalid field path (${t}). Paths must not contain '~', '*', '/', '[', or ']'`,e,!1,void 0,n);try{return new j0(...t.split("."))._internalPath}catch{throw Gv(`Invalid field path (${t}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,e,!1,void 0,n)}}function Gv(e,t,n,r,i){const a=r&&!r.isEmpty(),s=i!==void 0;let o=`Function ${t}() called with invalid data`;n&&(o+=" (via `toFirestore()`)"),o+=". ";let l="";return(a||s)&&(l+=" (found",a&&(l+=` in field ${r}`),s&&(l+=` in document ${i}`),l+=")"),new qe(Ie.INVALID_ARGUMENT,o+e+l)}function QM(e,t){return e.some(n=>n.isEqual(t))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ZM{constructor(t,n,r,i,a){this._firestore=t,this._userDataWriter=n,this._key=r,this._document=i,this._converter=a}get id(){return this._key.path.lastSegment()}get ref(){return new Gi(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const t=new JJ(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(t)}return this._userDataWriter.convertValue(this._document.data.value)}}get(t){if(this._document){const n=this._document.data.field(zS("DocumentSnapshot.get",t));if(n!==null)return this._userDataWriter.convertValue(n)}}}class JJ extends ZM{data(){return super.data()}}function zS(e,t){return typeof t=="string"?VS(e,t):t instanceof j0?t._internalPath:t._delegate._internalPath}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function JM(e){if(e.limitType==="L"&&e.explicitOrderBy.length===0)throw new qe(Ie.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class $S{}class eee extends $S{}function US(e,t,...n){let r=[];t instanceof $S&&r.push(t),r=r.concat(n),function(a){const s=a.filter(l=>l instanceof WS).length,o=a.filter(l=>l instanceof F2).length;if(s>1||s>0&&o>0)throw new qe(Ie.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")}(r);for(const i of r)e=i._apply(e);return e}class F2 extends eee{constructor(t,n,r){super(),this._field=t,this._op=n,this._value=r,this.type="where"}static _create(t,n,r){return new F2(t,n,r)}_apply(t){const n=this._parse(t);return eD(t._query,n),new Wd(t.firestore,t.converter,v4(t._query,n))}_parse(t){const n=I0(t.firestore);return function(a,s,o,l,u,c,d){let p;if(u.isKeyField()){if(c==="array-contains"||c==="array-contains-any")throw new qe(Ie.INVALID_ARGUMENT,`Invalid Query. You can't perform '${c}' queries on documentId().`);if(c==="in"||c==="not-in"){Hk(d,c);const f=[];for(const g of d)f.push(qk(l,a,g));p={arrayValue:{values:f}}}else p=qk(l,a,d)}else c!=="in"&&c!=="not-in"&&c!=="array-contains-any"||Hk(d,c),p=QJ(o,s,d,c==="in"||c==="not-in");return Mr.create(u,c,p)}(t._query,"where",n,t.firestore._databaseId,this._field,this._op,this._value)}}function Yv(e,t,n){const r=t,i=zS("where",e);return F2._create(i,r,n)}class WS extends $S{constructor(t,n){super(),this.type=t,this._queryConstraints=n}static _create(t,n){return new WS(t,n)}_parse(t){const n=this._queryConstraints.map(r=>r._parse(t)).filter(r=>r.getFilters().length>0);return n.length===1?n[0]:ao.create(n,this._getOperator())}_apply(t){const n=this._parse(t);return n.getFilters().length===0?t:(function(i,a){let s=i;const o=a.getFlattenedFilters();for(const l of o)eD(s,l),s=v4(s,l)}(t._query,n),new Wd(t.firestore,t.converter,v4(t._query,n)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}}function qk(e,t,n){if(typeof(n=ks(n))=="string"){if(n==="")throw new qe(Ie.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!eM(t)&&n.indexOf("/")!==-1)throw new qe(Ie.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${n}' contains a '/' character.`);const r=t.path.child(Dn.fromString(n));if(!dt.isDocumentKey(r))throw new qe(Ie.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${r}' is not because it has an odd number of segments (${r.length}).`);return fk(e,new dt(r))}if(n instanceof Gi)return fk(e,n._key);throw new qe(Ie.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${R2(n)}.`)}function Hk(e,t){if(!Array.isArray(e)||e.length===0)throw new qe(Ie.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${t.toString()}' filters.`)}function eD(e,t){const n=function(i,a){for(const s of i)for(const o of s.getFlattenedFilters())if(a.indexOf(o.op)>=0)return o.op;return null}(e.filters,function(i){switch(i){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}}(t.op));if(n!==null)throw n===t.op?new qe(Ie.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${t.op.toString()}' filter.`):new qe(Ie.INVALID_ARGUMENT,`Invalid query. You cannot use '${t.op.toString()}' filters with '${n.toString()}' filters.`)}class tee{convertValue(t,n="none"){switch(Ed(t)){case 0:return null;case 1:return t.booleanValue;case 2:return Pr(t.integerValue||t.doubleValue);case 3:return this.convertTimestamp(t.timestampValue);case 4:return this.convertServerTimestamp(t,n);case 5:return t.stringValue;case 6:return this.convertBytes(Pd(t.bytesValue));case 7:return this.convertReference(t.referenceValue);case 8:return this.convertGeoPoint(t.geoPointValue);case 9:return this.convertArray(t.arrayValue,n);case 11:return this.convertObject(t.mapValue,n);case 10:return this.convertVectorValue(t.mapValue);default:throw Pt()}}convertObject(t,n){return this.convertObjectMap(t.fields,n)}convertObjectMap(t,n="none"){const r={};return $d(t,(i,a)=>{r[i]=this.convertValue(a,n)}),r}convertVectorValue(t){var n,r,i;const a=(i=(r=(n=t.fields)===null||n===void 0?void 0:n.value.arrayValue)===null||r===void 0?void 0:r.values)===null||i===void 0?void 0:i.map(s=>Pr(s.doubleValue));return new MS(a)}convertGeoPoint(t){return new RS(Pr(t.latitude),Pr(t.longitude))}convertArray(t,n){return(t.values||[]).map(r=>this.convertValue(r,n))}convertServerTimestamp(t,n){switch(n){case"previous":const r=cS(t);return r==null?null:this.convertValue(r,n);case"estimate":return this.convertTimestamp(Vm(t));default:return null}}convertTimestamp(t){const n=oc(t);return new gr(n.seconds,n.nanos)}convertDocumentKey(t,n){const r=Dn.fromString(t);on(AM(r));const i=new zm(r.get(1),r.get(3)),a=new dt(r.popFirst(5));return i.isEqual(n)||Ml(`Document ${a} contains a document reference within a different database (${i.projectId}/${i.database}) which is not supported. It will be treated as a reference in the current database (${n.projectId}/${n.database}) instead.`),a}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function qS(e,t,n){let r;return r=e?n&&(n.merge||n.mergeFields)?e.toFirestore(t,n):e.toFirestore(t):t,r}function nee(){return new HJ("count")}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Hp{constructor(t,n){this.hasPendingWrites=t,this.fromCache=n}isEqual(t){return this.hasPendingWrites===t.hasPendingWrites&&this.fromCache===t.fromCache}}class tD extends ZM{constructor(t,n,r,i,a,s){super(t,n,r,i,s),this._firestore=t,this._firestoreImpl=t,this.metadata=a}exists(){return super.exists()}data(t={}){if(this._document){if(this._converter){const n=new q1(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(n,t)}return this._userDataWriter.convertValue(this._document.data.value,t.serverTimestamps)}}get(t,n={}){if(this._document){const r=this._document.data.field(zS("DocumentSnapshot.get",t));if(r!==null)return this._userDataWriter.convertValue(r,n.serverTimestamps)}}}class q1 extends tD{data(t={}){return super.data(t)}}class nD{constructor(t,n,r,i){this._firestore=t,this._userDataWriter=n,this._snapshot=i,this.metadata=new Hp(i.hasPendingWrites,i.fromCache),this.query=r}get docs(){const t=[];return this.forEach(n=>t.push(n)),t}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(t,n){this._snapshot.docs.forEach(r=>{t.call(n,new q1(this._firestore,this._userDataWriter,r.key,r,new Hp(this._snapshot.mutatedKeys.has(r.key),this._snapshot.fromCache),this.query.converter))})}docChanges(t={}){const n=!!t.includeMetadataChanges;if(n&&this._snapshot.excludesMetadataChanges)throw new qe(Ie.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===n||(this._cachedChanges=function(i,a){if(i._snapshot.oldDocs.isEmpty()){let s=0;return i._snapshot.docChanges.map(o=>{const l=new q1(i._firestore,i._userDataWriter,o.doc.key,o.doc,new Hp(i._snapshot.mutatedKeys.has(o.doc.key),i._snapshot.fromCache),i.query.converter);return o.doc,{type:"added",doc:l,oldIndex:-1,newIndex:s++}})}{let s=i._snapshot.oldDocs;return i._snapshot.docChanges.filter(o=>a||o.type!==3).map(o=>{const l=new q1(i._firestore,i._userDataWriter,o.doc.key,o.doc,new Hp(i._snapshot.mutatedKeys.has(o.doc.key),i._snapshot.fromCache),i.query.converter);let u=-1,c=-1;return o.type!==0&&(u=s.indexOf(o.doc.key),s=s.delete(o.doc.key)),o.type!==1&&(s=s.add(o.doc),c=s.indexOf(o.doc.key)),{type:ree(o.type),doc:l,oldIndex:u,newIndex:c}})}}(this,n),this._cachedChangesIncludeMetadataChanges=n),this._cachedChanges}}function ree(e){switch(e){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return Pt()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function iee(e){e=Ki(e,Gi);const t=Ki(e.firestore,so);return BJ(Rh(t),e._key).then(n=>iD(t,e,n))}class B2 extends tee{constructor(t){super(),this.firestore=t}convertBytes(t){return new fh(t)}convertReference(t){const n=this.convertDocumentKey(t,this.firestore._databaseId);return new Gi(this.firestore,null,n)}}function Nd(e){e=Ki(e,Wd);const t=Ki(e.firestore,so),n=Rh(t),r=new B2(t);return JM(e._query),VJ(n,e._query).then(i=>new nD(t,r,e,i))}function aee(e,t,n){e=Ki(e,Gi);const r=Ki(e.firestore,so),i=qS(e.converter,t,n);return R0(r,[FS(I0(r),"setDoc",e._key,i,e.converter!==null,n).toMutation(e._key,la.none())])}function HS(e,t,n,...r){e=Ki(e,Gi);const i=Ki(e.firestore,so),a=I0(i);let s;return s=typeof(t=ks(t))=="string"||t instanceof j0?GM(a,"updateDoc",e._key,t,n,r):KM(a,"updateDoc",e._key,t),R0(i,[s.toMutation(e._key,la.exists(!0))])}function rD(e){return R0(Ki(e.firestore,so),[new C2(e._key,la.none())])}function L0(e,t){const n=Ki(e.firestore,so),r=Os(e),i=qS(e.converter,t);return R0(n,[FS(I0(e.firestore),"addDoc",r._key,i,e.converter!==null,{}).toMutation(r._key,la.exists(!1))]).then(()=>r)}function V2(e,...t){var n,r,i;e=ks(e);let a={includeMetadataChanges:!1,source:"default"},s=0;typeof t[s]!="object"||Wk(t[s])||(a=t[s],s++);const o={includeMetadataChanges:a.includeMetadataChanges,source:a.source};if(Wk(t[s])){const d=t[s];t[s]=(n=d.next)===null||n===void 0?void 0:n.bind(d),t[s+1]=(r=d.error)===null||r===void 0?void 0:r.bind(d),t[s+2]=(i=d.complete)===null||i===void 0?void 0:i.bind(d)}let l,u,c;if(e instanceof Gi)u=Ki(e.firestore,so),c=P2(e._key.path),l={next:d=>{t[s]&&t[s](iD(u,e,d))},error:t[s+1],complete:t[s+2]};else{const d=Ki(e,Wd);u=Ki(d.firestore,so),c=d._query;const p=new B2(u);l={next:f=>{t[s]&&t[s](new nD(u,p,d,f))},error:t[s+1],complete:t[s+2]},JM(e._query)}return function(p,f,g,v){const b=new IS(v),x=new CS(f,b,g);return p.asyncQueue.enqueueAndForget(async()=>NS(await Kv(p),x)),()=>{b.Za(),p.asyncQueue.enqueueAndForget(async()=>kS(await Kv(p),x))}}(Rh(u),c,o,l)}function R0(e,t){return function(r,i){const a=new Uo;return r.asyncQueue.enqueueAndForget(async()=>NJ(await DJ(r),i,a)),a.promise}(Rh(e),t)}function iD(e,t,n){const r=n.docs.get(t._key),i=new B2(e);return new tD(e,i,t._key,r,new Hp(n.hasPendingWrites,n.fromCache),t.converter)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function see(e){return oee(e,{count:nee()})}function oee(e,t){const n=Ki(e.firestore,so),r=Rh(n),i=yQ(t,(a,s)=>new ZQ(s,a.aggregateType,a._internalFieldPath));return zJ(r,e._query,i).then(a=>function(o,l,u){const c=new B2(o);return new KJ(l,c,u)}(n,e,a))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lee{constructor(t,n){this._firestore=t,this._commitHandler=n,this._mutations=[],this._committed=!1,this._dataReader=I0(t)}set(t,n,r){this._verifyNotCommitted();const i=Xb(t,this._firestore),a=qS(i.converter,n,r),s=FS(this._dataReader,"WriteBatch.set",i._key,a,i.converter!==null,r);return this._mutations.push(s.toMutation(i._key,la.none())),this}update(t,n,r,...i){this._verifyNotCommitted();const a=Xb(t,this._firestore);let s;return s=typeof(n=ks(n))=="string"||n instanceof j0?GM(this._dataReader,"WriteBatch.update",a._key,n,r,i):KM(this._dataReader,"WriteBatch.update",a._key,n),this._mutations.push(s.toMutation(a._key,la.exists(!0))),this}delete(t){this._verifyNotCommitted();const n=Xb(t,this._firestore);return this._mutations=this._mutations.concat(new C2(n._key,la.none())),this}commit(){return this._verifyNotCommitted(),this._committed=!0,this._mutations.length>0?this._commitHandler(this._mutations):Promise.resolve()}_verifyNotCommitted(){if(this._committed)throw new qe(Ie.FAILED_PRECONDITION,"A write batch can no longer be used after commit() has been called.")}}function Xb(e,t){if((e=ks(e)).firestore!==t)throw new qe(Ie.INVALID_ARGUMENT,"Provided document reference is from a different Firestore instance.");return e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function M0(e){return Rh(e=Ki(e,so)),new lee(e,t=>R0(e,t))}(function(t,n=!0){(function(i){Ih=i})(UX),Fv(new Dm("firestore",(r,{instanceIdentifier:i,options:a})=>{const s=r.getProvider("app").getImmediate(),o=new so(new iQ(r.getProvider("auth-internal")),new lQ(r.getProvider("app-check-internal")),function(u,c){if(!Object.prototype.hasOwnProperty.apply(u.options,["projectId"]))throw new qe(Ie.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new zm(u.options.projectId,c)}(s,i),s);return a=Object.assign({useFetchStreams:n},a),o._setSettings(a),o},"PUBLIC").setMultipleInstances(!0)),Uf(ok,"4.7.3",t),Uf(ok,"4.7.3","esm2017")})();const uee={apiKey:"AIzaSyDXKdnkxtgKARc0fWiA1BD5ok3qc8AqCVc",authDomain:"syncserve-dev.firebaseapp.com",databaseURL:"https://syncserve-dev-default-rtdb.firebaseio.com",projectId:"syncserve-dev",storageBucket:"syncserve-dev.firebasestorage.app",messagingSenderId:"1029186931798",appId:"1:1029186931798:web:ec31db4513af2edc057ff7",measurementId:"G-LX9Z2Y6SN9"},cee=LR(uee),Cn=WJ(cee),KS=no(Cn,"tables"),GS=no(Cn,"menuItems"),aD=no(Cn,"staff"),YS=no(Cn,"orders");no(Cn,"settings");const sD=no(Cn,"salesRecords"),fo=async()=>{try{const e=Os(Cn,"settings","appSettings"),t=await iee(e);return t.exists()?t.data():(console.warn("Settings document 'appSettings' not found. Using defaults."),null)}catch(e){throw console.error("Error fetching settings:",e),e}},dee=async e=>{try{const t=Os(Cn,"settings","appSettings");await aee(t,e,{merge:!0})}catch(t){throw console.error("Error updating settings:",t),t}},Kk=async(e,t=4)=>{try{return{id:(await L0(KS,{name:e,capacity:Number(t),status:"available"})).id,name:e,capacity:Number(t),status:"available"}}catch(n){throw console.error("Error adding table:",n),n}},oD=async()=>{try{return(await Nd(KS)).docs.map(t=>({id:t.id,...t.data()}))}catch(e){throw console.error("Error fetching tables:",e),e}},lD=(e,t)=>V2(KS,n=>{const r=n.docs.map(i=>({id:i.id,...i.data()}));e(r)},n=>{console.error("onTablesRealtime error:",n),t&&t(n)}),fee=async(e,t)=>{if(!e)throw new Error("updateTableStatus: tableId is required");try{const n=Os(Cn,"tables",e);return await HS(n,{status:t}),!0}catch(n){throw console.error("Error updating table status:",n),n}},hee=async(e,t)=>{if(!(!e||e.length===0))try{const n=M0(Cn);e.forEach(r=>{const i=Os(Cn,"tables",r);n.update(i,{status:t})}),await n.commit()}catch(n){throw console.error("Error bulk updating table status:",n),n}},pee=async e=>{if(!e)throw new Error("deleteTable: tableId is required");try{return await rD(Os(Cn,"tables",e)),!0}catch(t){throw console.error("Error deleting table:",t),t}},mee=async e=>{if(!e||e.length===0)throw new Error("deleteTablesInBulk: tableIds array is required and cannot be empty.");try{const t=M0(Cn);e.forEach(n=>{const r=Os(Cn,"tables",n);t.delete(r)}),await t.commit()}catch(t){throw console.error("Error deleting tables in bulk:",t),t}},Gk=async e=>{try{if(!e||!e.name||e.fullPrice==null)throw new Error("addMenuItem: item must have a name and a fullPrice.");return{id:(await L0(GS,e)).id,...e}}catch(t){throw console.error("Error adding menu item:",t),t}},XS=async()=>{try{return(await Nd(GS)).docs.map(t=>({id:t.id,...t.data()}))}catch(e){throw console.error("Error fetching menu items:",e),e}},gee=async(e,t)=>{if(!e)throw new Error("updateMenuItem: id is required");try{const n=Os(Cn,"menuItems",e);return await HS(n,t),!0}catch(n){throw console.error("Error updating menu item:",n),n}},vee=async e=>{if(!e||e.length===0)throw new Error("deleteMenuItemsInBulk: itemIds array is required and cannot be empty.");try{const t=M0(Cn);e.forEach(n=>{const r=Os(Cn,"menuItems",n);t.delete(r)}),await t.commit()}catch(t){throw console.error("Error deleting menu items in bulk:",t),t}},yee=(e,t)=>V2(GS,n=>{const r=n.docs.map(i=>({id:i.id,...i.data()}));e(r)},n=>{console.error("onMenuItemsRealtime error:",n)}),xee=async e=>{try{if(!e||!e.name)throw new Error("addStaff: Staff data must include a name.");return{id:(await L0(aD,e)).id,...e}}catch(t){throw console.error("Error adding staff:",t),t}},bee=async e=>{if(!e||e.length===0)throw new Error("addStaffInBulk: staffArray is required and cannot be empty.");try{const t=M0(Cn);e.forEach(n=>{if(n.name&&n.name.trim()!==""){const r=Os(no(Cn,"staff"));t.set(r,{name:n.name||"",contact:n.contact||"",address:n.address||""})}}),await t.commit()}catch(t){throw console.error("Error adding staff in bulk:",t),t}},qm=async()=>{try{return(await Nd(aD)).docs.map(t=>({id:t.id,...t.data()}))}catch(e){throw console.error("Error fetching staff:",e),e}},wee=async e=>{try{const t={...e,status:"Pending"};return{id:(await L0(YS,t)).id,...t}}catch(t){throw console.error("Error adding order:",t),t}},_ee=async e=>{if(!e)throw new Error("deleteOrder: orderId is required");try{return await rD(Os(Cn,"orders",e)),!0}catch(t){throw console.error("Error deleting order:",t),t}},See=async(e,t)=>{if(!e||!t)throw new Error("updateOrderStatus: orderId and newStatus are required.");try{const n=Os(Cn,"orders",e);await HS(n,{status:t})}catch(n){throw console.error(`Error updating order status for order ${e}:`,n),n}},uD=(e,t)=>V2(YS,n=>{const r=n.docs.map(i=>({id:i.id,...i.data()}));e(r)},n=>{console.error("onOrdersRealtime error:",n),t&&t(n)}),Aee=async()=>{try{const e=await Nd(YS);if(e.empty){console.log("No orders to delete.");return}const t=M0(Cn);e.docs.forEach(n=>{t.delete(n.ref)}),await t.commit()}catch(e){throw console.error("Error clearing all orders:",e),e}},Pee=async e=>{try{const t={...e,finalizedAt:gr.now()};await L0(sD,t)}catch(t){throw console.error("Error adding sale record:",t),t}},Fl=async(e,t)=>{try{const n=new Date(t);n.setHours(23,59,59,999);const r=US(sD,Yv("finalizedAt",">=",gr.fromDate(e)),Yv("finalizedAt","<=",gr.fromDate(n)));return(await Nd(r)).docs.map(a=>{const s=a.data();return{id:a.id,...s,finalizedAt:s.finalizedAt.toDate()}})}catch(n){throw console.error("Error fetching sales by date range:",n),n}},$u=({isOpen:e,onClose:t,children:n,size:r="md"})=>{const i=S.useRef(null);S.useEffect(()=>{const o=l=>{l.key==="Escape"&&t()};return e&&(document.body.style.overflow="hidden",window.addEventListener("keydown",o)),()=>{document.body.style.overflow="unset",window.removeEventListener("keydown",o)}},[e,t]);const a=o=>{i.current&&!i.current.contains(o.target)&&t()},s={sm:"max-w-sm",md:"max-w-md",lg:"max-w-lg",xl:"max-w-xl","2xl":"max-w-2xl","3xl":"max-w-3xl","4xl":"max-w-4xl","5xl":"max-w-5xl","6xl":"max-w-6xl"};return h.jsxs("div",{className:`fixed inset-0 z-50 overflow-y-auto transition-opacity duration-300 ease-in-out ${e?"opacity-100":"opacity-0 pointer-events-none"}`,onClick:a,"aria-modal":"true",role:"dialog",children:[h.jsx("div",{className:"fixed inset-0 bg-gray-900 bg-opacity-75"}),h.jsx("div",{className:"flex min-h-full items-center justify-center p-4 text-center",children:h.jsxs("div",{ref:i,className:`relative w-full transform rounded-xl bg-white text-left shadow-xl transition-all duration-300 ease-in-out ${s[r]||s.md} ${e?"translate-y-0 scale-100 opacity-100":"translate-y-4 scale-95 opacity-0"}`,children:[h.jsx("button",{onClick:t,className:"absolute top-4 right-4 z-10 rounded-full p-1 text-gray-400 transition-colors hover:bg-gray-100 hover:text-gray-700","aria-label":"Close modal",children:h.jsx("svg",{className:"h-6 w-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg",children:h.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M6 18L18 6M6 6l12 12"})})}),h.jsx("div",{className:"p-6",children:n})]})})]})},cD=S.createContext({});function Eee(e){const t=S.useRef(null);return t.current===null&&(t.current=e()),t.current}const QS=typeof window<"u",Nee=QS?S.useLayoutEffect:S.useEffect,ZS=S.createContext(null);function JS(e,t){e.indexOf(t)===-1&&e.push(t)}function eA(e,t){const n=e.indexOf(t);n>-1&&e.splice(n,1)}const Bl=(e,t,n)=>n>t?t:n<e?e:n;let tA=()=>{};const Vl={},dD=e=>/^-?(?:\d+(?:\.\d+)?|\.\d+)$/u.test(e);function fD(e){return typeof e=="object"&&e!==null}const hD=e=>/^0[^.\s]+$/u.test(e);function nA(e){let t;return()=>(t===void 0&&(t=e()),t)}const Ps=e=>e,kee=(e,t)=>n=>t(e(n)),D0=(...e)=>e.reduce(kee),Hm=(e,t,n)=>{const r=t-e;return r===0?1:(n-e)/r};class rA{constructor(){this.subscriptions=[]}add(t){return JS(this.subscriptions,t),()=>eA(this.subscriptions,t)}notify(t,n,r){const i=this.subscriptions.length;if(i)if(i===1)this.subscriptions[0](t,n,r);else for(let a=0;a<i;a++){const s=this.subscriptions[a];s&&s(t,n,r)}}getSize(){return this.subscriptions.length}clear(){this.subscriptions.length=0}}const Ho=e=>e*1e3,Ko=e=>e/1e3;function pD(e,t){return t?e*(1e3/t):0}const mD=(e,t,n)=>(((1-3*n+3*t)*e+(3*n-6*t))*e+3*t)*e,Tee=1e-7,Cee=12;function jee(e,t,n,r,i){let a,s,o=0;do s=t+(n-t)/2,a=mD(s,r,i)-e,a>0?n=s:t=s;while(Math.abs(a)>Tee&&++o<Cee);return s}function F0(e,t,n,r){if(e===t&&n===r)return Ps;const i=a=>jee(a,0,1,e,n);return a=>a===0||a===1?a:mD(i(a),t,r)}const gD=e=>t=>t<=.5?e(2*t)/2:(2-e(2*(1-t)))/2,vD=e=>t=>1-e(1-t),yD=F0(.33,1.53,.69,.99),iA=vD(yD),xD=gD(iA),bD=e=>(e*=2)<1?.5*iA(e):.5*(2-Math.pow(2,-10*(e-1))),aA=e=>1-Math.sin(Math.acos(e)),wD=vD(aA),_D=gD(aA),Iee=F0(.42,0,1,1),Oee=F0(0,0,.58,1),SD=F0(.42,0,.58,1),Lee=e=>Array.isArray(e)&&typeof e[0]!="number",AD=e=>Array.isArray(e)&&typeof e[0]=="number",Ree={linear:Ps,easeIn:Iee,easeInOut:SD,easeOut:Oee,circIn:aA,circInOut:_D,circOut:wD,backIn:iA,backInOut:xD,backOut:yD,anticipate:bD},Mee=e=>typeof e=="string",Yk=e=>{if(AD(e)){tA(e.length===4);const[t,n,r,i]=e;return F0(t,n,r,i)}else if(Mee(e))return Ree[e];return e},Zg=["setup","read","resolveKeyframes","preUpdate","update","preRender","render","postRender"],Xk={value:null};function Dee(e,t){let n=new Set,r=new Set,i=!1,a=!1;const s=new WeakSet;let o={delta:0,timestamp:0,isProcessing:!1},l=0;function u(d){s.has(d)&&(c.schedule(d),e()),l++,d(o)}const c={schedule:(d,p=!1,f=!1)=>{const v=f&&i?n:r;return p&&s.add(d),v.has(d)||v.add(d),d},cancel:d=>{r.delete(d),s.delete(d)},process:d=>{if(o=d,i){a=!0;return}i=!0,[n,r]=[r,n],n.forEach(u),t&&Xk.value&&Xk.value.frameloop[t].push(l),l=0,n.clear(),i=!1,a&&(a=!1,c.process(d))}};return c}const Fee=40;function PD(e,t){let n=!1,r=!0;const i={delta:0,timestamp:0,isProcessing:!1},a=()=>n=!0,s=Zg.reduce((A,P)=>(A[P]=Dee(a,t?P:void 0),A),{}),{setup:o,read:l,resolveKeyframes:u,preUpdate:c,update:d,preRender:p,render:f,postRender:g}=s,v=()=>{const A=Vl.useManualTiming?i.timestamp:performance.now();n=!1,Vl.useManualTiming||(i.delta=r?1e3/60:Math.max(Math.min(A-i.timestamp,Fee),1)),i.timestamp=A,i.isProcessing=!0,o.process(i),l.process(i),u.process(i),c.process(i),d.process(i),p.process(i),f.process(i),g.process(i),i.isProcessing=!1,n&&t&&(r=!1,e(v))},b=()=>{n=!0,r=!0,i.isProcessing||e(v)};return{schedule:Zg.reduce((A,P)=>{const O=s[P];return A[P]=(D,T=!1,k=!1)=>(n||b(),O.schedule(D,T,k)),A},{}),cancel:A=>{for(let P=0;P<Zg.length;P++)s[Zg[P]].cancel(A)},state:i,steps:s}}const{schedule:nr,cancel:uc,state:bi,steps:Qb}=PD(typeof requestAnimationFrame<"u"?requestAnimationFrame:Ps,!0);let H1;function Bee(){H1=void 0}const Aa={now:()=>(H1===void 0&&Aa.set(bi.isProcessing||Vl.useManualTiming?bi.timestamp:performance.now()),H1),set:e=>{H1=e,queueMicrotask(Bee)}},ED=e=>t=>typeof t=="string"&&t.startsWith(e),sA=ED("--"),Vee=ED("var(--"),oA=e=>Vee(e)?zee.test(e.split("/*")[0].trim()):!1,zee=/var\(--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)$/iu,Mh={test:e=>typeof e=="number",parse:parseFloat,transform:e=>e},Km={...Mh,transform:e=>Bl(0,1,e)},Jg={...Mh,default:1},um=e=>Math.round(e*1e5)/1e5,lA=/-?(?:\d+(?:\.\d+)?|\.\d+)/gu;function $ee(e){return e==null}const Uee=/^(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))$/iu,uA=(e,t)=>n=>!!(typeof n=="string"&&Uee.test(n)&&n.startsWith(e)||t&&!$ee(n)&&Object.prototype.hasOwnProperty.call(n,t)),ND=(e,t,n)=>r=>{if(typeof r!="string")return r;const[i,a,s,o]=r.match(lA);return{[e]:parseFloat(i),[t]:parseFloat(a),[n]:parseFloat(s),alpha:o!==void 0?parseFloat(o):1}},Wee=e=>Bl(0,255,e),Zb={...Mh,transform:e=>Math.round(Wee(e))},ad={test:uA("rgb","red"),parse:ND("red","green","blue"),transform:({red:e,green:t,blue:n,alpha:r=1})=>"rgba("+Zb.transform(e)+", "+Zb.transform(t)+", "+Zb.transform(n)+", "+um(Km.transform(r))+")"};function qee(e){let t="",n="",r="",i="";return e.length>5?(t=e.substring(1,3),n=e.substring(3,5),r=e.substring(5,7),i=e.substring(7,9)):(t=e.substring(1,2),n=e.substring(2,3),r=e.substring(3,4),i=e.substring(4,5),t+=t,n+=n,r+=r,i+=i),{red:parseInt(t,16),green:parseInt(n,16),blue:parseInt(r,16),alpha:i?parseInt(i,16)/255:1}}const k4={test:uA("#"),parse:qee,transform:ad.transform},B0=e=>({test:t=>typeof t=="string"&&t.endsWith(e)&&t.split(" ").length===1,parse:parseFloat,transform:t=>`${t}${e}`}),Tu=B0("deg"),Go=B0("%"),yt=B0("px"),Hee=B0("vh"),Kee=B0("vw"),Qk={...Go,parse:e=>Go.parse(e)/100,transform:e=>Go.transform(e*100)},kf={test:uA("hsl","hue"),parse:ND("hue","saturation","lightness"),transform:({hue:e,saturation:t,lightness:n,alpha:r=1})=>"hsla("+Math.round(e)+", "+Go.transform(um(t))+", "+Go.transform(um(n))+", "+um(Km.transform(r))+")"},Or={test:e=>ad.test(e)||k4.test(e)||kf.test(e),parse:e=>ad.test(e)?ad.parse(e):kf.test(e)?kf.parse(e):k4.parse(e),transform:e=>typeof e=="string"?e:e.hasOwnProperty("red")?ad.transform(e):kf.transform(e),getAnimatableNone:e=>{const t=Or.parse(e);return t.alpha=0,Or.transform(t)}},Gee=/(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))/giu;function Yee(e){var t,n;return isNaN(e)&&typeof e=="string"&&(((t=e.match(lA))==null?void 0:t.length)||0)+(((n=e.match(Gee))==null?void 0:n.length)||0)>0}const kD="number",TD="color",Xee="var",Qee="var(",Zk="${}",Zee=/var\s*\(\s*--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)|#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\)|-?(?:\d+(?:\.\d+)?|\.\d+)/giu;function Gm(e){const t=e.toString(),n=[],r={color:[],number:[],var:[]},i=[];let a=0;const o=t.replace(Zee,l=>(Or.test(l)?(r.color.push(a),i.push(TD),n.push(Or.parse(l))):l.startsWith(Qee)?(r.var.push(a),i.push(Xee),n.push(l)):(r.number.push(a),i.push(kD),n.push(parseFloat(l))),++a,Zk)).split(Zk);return{values:n,split:o,indexes:r,types:i}}function CD(e){return Gm(e).values}function jD(e){const{split:t,types:n}=Gm(e),r=t.length;return i=>{let a="";for(let s=0;s<r;s++)if(a+=t[s],i[s]!==void 0){const o=n[s];o===kD?a+=um(i[s]):o===TD?a+=Or.transform(i[s]):a+=i[s]}return a}}const Jee=e=>typeof e=="number"?0:Or.test(e)?Or.getAnimatableNone(e):e;function ete(e){const t=CD(e);return jD(e)(t.map(Jee))}const cc={test:Yee,parse:CD,createTransformer:jD,getAnimatableNone:ete};function Jb(e,t,n){return n<0&&(n+=1),n>1&&(n-=1),n<1/6?e+(t-e)*6*n:n<1/2?t:n<2/3?e+(t-e)*(2/3-n)*6:e}function tte({hue:e,saturation:t,lightness:n,alpha:r}){e/=360,t/=100,n/=100;let i=0,a=0,s=0;if(!t)i=a=s=n;else{const o=n<.5?n*(1+t):n+t-n*t,l=2*n-o;i=Jb(l,o,e+1/3),a=Jb(l,o,e),s=Jb(l,o,e-1/3)}return{red:Math.round(i*255),green:Math.round(a*255),blue:Math.round(s*255),alpha:r}}function Xv(e,t){return n=>n>0?t:e}const er=(e,t,n)=>e+(t-e)*n,ew=(e,t,n)=>{const r=e*e,i=n*(t*t-r)+r;return i<0?0:Math.sqrt(i)},nte=[k4,ad,kf],rte=e=>nte.find(t=>t.test(e));function Jk(e){const t=rte(e);if(!t)return!1;let n=t.parse(e);return t===kf&&(n=tte(n)),n}const eT=(e,t)=>{const n=Jk(e),r=Jk(t);if(!n||!r)return Xv(e,t);const i={...n};return a=>(i.red=ew(n.red,r.red,a),i.green=ew(n.green,r.green,a),i.blue=ew(n.blue,r.blue,a),i.alpha=er(n.alpha,r.alpha,a),ad.transform(i))},T4=new Set(["none","hidden"]);function ite(e,t){return T4.has(e)?n=>n<=0?e:t:n=>n>=1?t:e}function ate(e,t){return n=>er(e,t,n)}function cA(e){return typeof e=="number"?ate:typeof e=="string"?oA(e)?Xv:Or.test(e)?eT:lte:Array.isArray(e)?ID:typeof e=="object"?Or.test(e)?eT:ste:Xv}function ID(e,t){const n=[...e],r=n.length,i=e.map((a,s)=>cA(a)(a,t[s]));return a=>{for(let s=0;s<r;s++)n[s]=i[s](a);return n}}function ste(e,t){const n={...e,...t},r={};for(const i in n)e[i]!==void 0&&t[i]!==void 0&&(r[i]=cA(e[i])(e[i],t[i]));return i=>{for(const a in r)n[a]=r[a](i);return n}}function ote(e,t){const n=[],r={color:0,var:0,number:0};for(let i=0;i<t.values.length;i++){const a=t.types[i],s=e.indexes[a][r[a]],o=e.values[s]??0;n[i]=o,r[a]++}return n}const lte=(e,t)=>{const n=cc.createTransformer(t),r=Gm(e),i=Gm(t);return r.indexes.var.length===i.indexes.var.length&&r.indexes.color.length===i.indexes.color.length&&r.indexes.number.length>=i.indexes.number.length?T4.has(e)&&!i.values.length||T4.has(t)&&!r.values.length?ite(e,t):D0(ID(ote(r,i),i.values),n):Xv(e,t)};function OD(e,t,n){return typeof e=="number"&&typeof t=="number"&&typeof n=="number"?er(e,t,n):cA(e)(e,t)}const ute=e=>{const t=({timestamp:n})=>e(n);return{start:(n=!0)=>nr.update(t,n),stop:()=>uc(t),now:()=>bi.isProcessing?bi.timestamp:Aa.now()}},LD=(e,t,n=10)=>{let r="";const i=Math.max(Math.round(t/n),2);for(let a=0;a<i;a++)r+=Math.round(e(a/(i-1))*1e4)/1e4+", ";return`linear(${r.substring(0,r.length-2)})`},Qv=2e4;function dA(e){let t=0;const n=50;let r=e.next(t);for(;!r.done&&t<Qv;)t+=n,r=e.next(t);return t>=Qv?1/0:t}function cte(e,t=100,n){const r=n({...e,keyframes:[0,t]}),i=Math.min(dA(r),Qv);return{type:"keyframes",ease:a=>r.next(i*a).value/t,duration:Ko(i)}}const dte=5;function RD(e,t,n){const r=Math.max(t-dte,0);return pD(n-e(r),t-r)}const fr={stiffness:100,damping:10,mass:1,velocity:0,duration:800,bounce:.3,visualDuration:.3,restSpeed:{granular:.01,default:2},restDelta:{granular:.005,default:.5},minDuration:.01,maxDuration:10,minDamping:.05,maxDamping:1},tw=.001;function fte({duration:e=fr.duration,bounce:t=fr.bounce,velocity:n=fr.velocity,mass:r=fr.mass}){let i,a,s=1-t;s=Bl(fr.minDamping,fr.maxDamping,s),e=Bl(fr.minDuration,fr.maxDuration,Ko(e)),s<1?(i=u=>{const c=u*s,d=c*e,p=c-n,f=C4(u,s),g=Math.exp(-d);return tw-p/f*g},a=u=>{const d=u*s*e,p=d*n+n,f=Math.pow(s,2)*Math.pow(u,2)*e,g=Math.exp(-d),v=C4(Math.pow(u,2),s);return(-i(u)+tw>0?-1:1)*((p-f)*g)/v}):(i=u=>{const c=Math.exp(-u*e),d=(u-n)*e+1;return-tw+c*d},a=u=>{const c=Math.exp(-u*e),d=(n-u)*(e*e);return c*d});const o=5/e,l=pte(i,a,o);if(e=Ho(e),isNaN(l))return{stiffness:fr.stiffness,damping:fr.damping,duration:e};{const u=Math.pow(l,2)*r;return{stiffness:u,damping:s*2*Math.sqrt(r*u),duration:e}}}const hte=12;function pte(e,t,n){let r=n;for(let i=1;i<hte;i++)r=r-e(r)/t(r);return r}function C4(e,t){return e*Math.sqrt(1-t*t)}const mte=["duration","bounce"],gte=["stiffness","damping","mass"];function tT(e,t){return t.some(n=>e[n]!==void 0)}function vte(e){let t={velocity:fr.velocity,stiffness:fr.stiffness,damping:fr.damping,mass:fr.mass,isResolvedFromDuration:!1,...e};if(!tT(e,gte)&&tT(e,mte))if(e.visualDuration){const n=e.visualDuration,r=2*Math.PI/(n*1.2),i=r*r,a=2*Bl(.05,1,1-(e.bounce||0))*Math.sqrt(i);t={...t,mass:fr.mass,stiffness:i,damping:a}}else{const n=fte(e);t={...t,...n,mass:fr.mass},t.isResolvedFromDuration=!0}return t}function Zv(e=fr.visualDuration,t=fr.bounce){const n=typeof e!="object"?{visualDuration:e,keyframes:[0,1],bounce:t}:e;let{restSpeed:r,restDelta:i}=n;const a=n.keyframes[0],s=n.keyframes[n.keyframes.length-1],o={done:!1,value:a},{stiffness:l,damping:u,mass:c,duration:d,velocity:p,isResolvedFromDuration:f}=vte({...n,velocity:-Ko(n.velocity||0)}),g=p||0,v=u/(2*Math.sqrt(l*c)),b=s-a,x=Ko(Math.sqrt(l/c)),w=Math.abs(b)<5;r||(r=w?fr.restSpeed.granular:fr.restSpeed.default),i||(i=w?fr.restDelta.granular:fr.restDelta.default);let A;if(v<1){const O=C4(x,v);A=D=>{const T=Math.exp(-v*x*D);return s-T*((g+v*x*b)/O*Math.sin(O*D)+b*Math.cos(O*D))}}else if(v===1)A=O=>s-Math.exp(-x*O)*(b+(g+x*b)*O);else{const O=x*Math.sqrt(v*v-1);A=D=>{const T=Math.exp(-v*x*D),k=Math.min(O*D,300);return s-T*((g+v*x*b)*Math.sinh(k)+O*b*Math.cosh(k))/O}}const P={calculatedDuration:f&&d||null,next:O=>{const D=A(O);if(f)o.done=O>=d;else{let T=O===0?g:0;v<1&&(T=O===0?Ho(g):RD(A,O,D));const k=Math.abs(T)<=r,I=Math.abs(s-D)<=i;o.done=k&&I}return o.value=o.done?s:D,o},toString:()=>{const O=Math.min(dA(P),Qv),D=LD(T=>P.next(O*T).value,O,30);return O+"ms "+D},toTransition:()=>{}};return P}Zv.applyToOptions=e=>{const t=cte(e,100,Zv);return e.ease=t.ease,e.duration=Ho(t.duration),e.type="keyframes",e};function j4({keyframes:e,velocity:t=0,power:n=.8,timeConstant:r=325,bounceDamping:i=10,bounceStiffness:a=500,modifyTarget:s,min:o,max:l,restDelta:u=.5,restSpeed:c}){const d=e[0],p={done:!1,value:d},f=k=>o!==void 0&&k<o||l!==void 0&&k>l,g=k=>o===void 0?l:l===void 0||Math.abs(o-k)<Math.abs(l-k)?o:l;let v=n*t;const b=d+v,x=s===void 0?b:s(b);x!==b&&(v=x-d);const w=k=>-v*Math.exp(-k/r),A=k=>x+w(k),P=k=>{const I=w(k),M=A(k);p.done=Math.abs(I)<=u,p.value=p.done?x:M};let O,D;const T=k=>{f(p.value)&&(O=k,D=Zv({keyframes:[p.value,g(p.value)],velocity:RD(A,k,p.value),damping:i,stiffness:a,restDelta:u,restSpeed:c}))};return T(0),{calculatedDuration:null,next:k=>{let I=!1;return!D&&O===void 0&&(I=!0,P(k),T(k)),O!==void 0&&k>=O?D.next(k-O):(!I&&P(k),p)}}}function yte(e,t,n){const r=[],i=n||Vl.mix||OD,a=e.length-1;for(let s=0;s<a;s++){let o=i(e[s],e[s+1]);if(t){const l=Array.isArray(t)?t[s]||Ps:t;o=D0(l,o)}r.push(o)}return r}function xte(e,t,{clamp:n=!0,ease:r,mixer:i}={}){const a=e.length;if(tA(a===t.length),a===1)return()=>t[0];if(a===2&&t[0]===t[1])return()=>t[1];const s=e[0]===e[1];e[0]>e[a-1]&&(e=[...e].reverse(),t=[...t].reverse());const o=yte(t,r,i),l=o.length,u=c=>{if(s&&c<e[0])return t[0];let d=0;if(l>1)for(;d<e.length-2&&!(c<e[d+1]);d++);const p=Hm(e[d],e[d+1],c);return o[d](p)};return n?c=>u(Bl(e[0],e[a-1],c)):u}function bte(e,t){const n=e[e.length-1];for(let r=1;r<=t;r++){const i=Hm(0,t,r);e.push(er(n,1,i))}}function wte(e){const t=[0];return bte(t,e.length-1),t}function _te(e,t){return e.map(n=>n*t)}function Ste(e,t){return e.map(()=>t||SD).splice(0,e.length-1)}function cm({duration:e=300,keyframes:t,times:n,ease:r="easeInOut"}){const i=Lee(r)?r.map(Yk):Yk(r),a={done:!1,value:t[0]},s=_te(n&&n.length===t.length?n:wte(t),e),o=xte(s,t,{ease:Array.isArray(i)?i:Ste(t,i)});return{calculatedDuration:e,next:l=>(a.value=o(l),a.done=l>=e,a)}}const Ate=e=>e!==null;function fA(e,{repeat:t,repeatType:n="loop"},r,i=1){const a=e.filter(Ate),o=i<0||t&&n!=="loop"&&t%2===1?0:a.length-1;return!o||r===void 0?a[o]:r}const Pte={decay:j4,inertia:j4,tween:cm,keyframes:cm,spring:Zv};function MD(e){typeof e.type=="string"&&(e.type=Pte[e.type])}class hA{constructor(){this.updateFinished()}get finished(){return this._finished}updateFinished(){this._finished=new Promise(t=>{this.resolve=t})}notifyFinished(){this.resolve()}then(t,n){return this.finished.then(t,n)}}const Ete=e=>e/100;class pA extends hA{constructor(t){super(),this.state="idle",this.startTime=null,this.isStopped=!1,this.currentTime=0,this.holdTime=null,this.playbackSpeed=1,this.stop=()=>{var r,i;const{motionValue:n}=this.options;n&&n.updatedAt!==Aa.now()&&this.tick(Aa.now()),this.isStopped=!0,this.state!=="idle"&&(this.teardown(),(i=(r=this.options).onStop)==null||i.call(r))},this.options=t,this.initAnimation(),this.play(),t.autoplay===!1&&this.pause()}initAnimation(){const{options:t}=this;MD(t);const{type:n=cm,repeat:r=0,repeatDelay:i=0,repeatType:a,velocity:s=0}=t;let{keyframes:o}=t;const l=n||cm;l!==cm&&typeof o[0]!="number"&&(this.mixKeyframes=D0(Ete,OD(o[0],o[1])),o=[0,100]);const u=l({...t,keyframes:o});a==="mirror"&&(this.mirroredGenerator=l({...t,keyframes:[...o].reverse(),velocity:-s})),u.calculatedDuration===null&&(u.calculatedDuration=dA(u));const{calculatedDuration:c}=u;this.calculatedDuration=c,this.resolvedDuration=c+i,this.totalDuration=this.resolvedDuration*(r+1)-i,this.generator=u}updateTime(t){const n=Math.round(t-this.startTime)*this.playbackSpeed;this.holdTime!==null?this.currentTime=this.holdTime:this.currentTime=n}tick(t,n=!1){const{generator:r,totalDuration:i,mixKeyframes:a,mirroredGenerator:s,resolvedDuration:o,calculatedDuration:l}=this;if(this.startTime===null)return r.next(0);const{delay:u=0,keyframes:c,repeat:d,repeatType:p,repeatDelay:f,type:g,onUpdate:v,finalKeyframe:b}=this.options;this.speed>0?this.startTime=Math.min(this.startTime,t):this.speed<0&&(this.startTime=Math.min(t-i/this.speed,this.startTime)),n?this.currentTime=t:this.updateTime(t);const x=this.currentTime-u*(this.playbackSpeed>=0?1:-1),w=this.playbackSpeed>=0?x<0:x>i;this.currentTime=Math.max(x,0),this.state==="finished"&&this.holdTime===null&&(this.currentTime=i);let A=this.currentTime,P=r;if(d){const k=Math.min(this.currentTime,i)/o;let I=Math.floor(k),M=k%1;!M&&k>=1&&(M=1),M===1&&I--,I=Math.min(I,d+1),!!(I%2)&&(p==="reverse"?(M=1-M,f&&(M-=f/o)):p==="mirror"&&(P=s)),A=Bl(0,1,M)*o}const O=w?{done:!1,value:c[0]}:P.next(A);a&&(O.value=a(O.value));let{done:D}=O;!w&&l!==null&&(D=this.playbackSpeed>=0?this.currentTime>=i:this.currentTime<=0);const T=this.holdTime===null&&(this.state==="finished"||this.state==="running"&&D);return T&&g!==j4&&(O.value=fA(c,this.options,b,this.speed)),v&&v(O.value),T&&this.finish(),O}then(t,n){return this.finished.then(t,n)}get duration(){return Ko(this.calculatedDuration)}get time(){return Ko(this.currentTime)}set time(t){var n;t=Ho(t),this.currentTime=t,this.startTime===null||this.holdTime!==null||this.playbackSpeed===0?this.holdTime=t:this.driver&&(this.startTime=this.driver.now()-t/this.playbackSpeed),(n=this.driver)==null||n.start(!1)}get speed(){return this.playbackSpeed}set speed(t){this.updateTime(Aa.now());const n=this.playbackSpeed!==t;this.playbackSpeed=t,n&&(this.time=Ko(this.currentTime))}play(){var i,a;if(this.isStopped)return;const{driver:t=ute,startTime:n}=this.options;this.driver||(this.driver=t(s=>this.tick(s))),(a=(i=this.options).onPlay)==null||a.call(i);const r=this.driver.now();this.state==="finished"?(this.updateFinished(),this.startTime=r):this.holdTime!==null?this.startTime=r-this.holdTime:this.startTime||(this.startTime=n??r),this.state==="finished"&&this.speed<0&&(this.startTime+=this.calculatedDuration),this.holdTime=null,this.state="running",this.driver.start()}pause(){this.state="paused",this.updateTime(Aa.now()),this.holdTime=this.currentTime}complete(){this.state!=="running"&&this.play(),this.state="finished",this.holdTime=null}finish(){var t,n;this.notifyFinished(),this.teardown(),this.state="finished",(n=(t=this.options).onComplete)==null||n.call(t)}cancel(){var t,n;this.holdTime=null,this.startTime=0,this.tick(0),this.teardown(),(n=(t=this.options).onCancel)==null||n.call(t)}teardown(){this.state="idle",this.stopDriver(),this.startTime=this.holdTime=null}stopDriver(){this.driver&&(this.driver.stop(),this.driver=void 0)}sample(t){return this.startTime=0,this.tick(t,!0)}attachTimeline(t){var n;return this.options.allowFlatten&&(this.options.type="keyframes",this.options.ease="linear",this.initAnimation()),(n=this.driver)==null||n.stop(),t.observe(this)}}function Nte(e){for(let t=1;t<e.length;t++)e[t]??(e[t]=e[t-1])}const sd=e=>e*180/Math.PI,I4=e=>{const t=sd(Math.atan2(e[1],e[0]));return O4(t)},kte={x:4,y:5,translateX:4,translateY:5,scaleX:0,scaleY:3,scale:e=>(Math.abs(e[0])+Math.abs(e[3]))/2,rotate:I4,rotateZ:I4,skewX:e=>sd(Math.atan(e[1])),skewY:e=>sd(Math.atan(e[2])),skew:e=>(Math.abs(e[1])+Math.abs(e[2]))/2},O4=e=>(e=e%360,e<0&&(e+=360),e),nT=I4,rT=e=>Math.sqrt(e[0]*e[0]+e[1]*e[1]),iT=e=>Math.sqrt(e[4]*e[4]+e[5]*e[5]),Tte={x:12,y:13,z:14,translateX:12,translateY:13,translateZ:14,scaleX:rT,scaleY:iT,scale:e=>(rT(e)+iT(e))/2,rotateX:e=>O4(sd(Math.atan2(e[6],e[5]))),rotateY:e=>O4(sd(Math.atan2(-e[2],e[0]))),rotateZ:nT,rotate:nT,skewX:e=>sd(Math.atan(e[4])),skewY:e=>sd(Math.atan(e[1])),skew:e=>(Math.abs(e[1])+Math.abs(e[4]))/2};function L4(e){return e.includes("scale")?1:0}function R4(e,t){if(!e||e==="none")return L4(t);const n=e.match(/^matrix3d\(([-\d.e\s,]+)\)$/u);let r,i;if(n)r=Tte,i=n;else{const o=e.match(/^matrix\(([-\d.e\s,]+)\)$/u);r=kte,i=o}if(!i)return L4(t);const a=r[t],s=i[1].split(",").map(jte);return typeof a=="function"?a(s):s[a]}const Cte=(e,t)=>{const{transform:n="none"}=getComputedStyle(e);return R4(n,t)};function jte(e){return parseFloat(e.trim())}const Dh=["transformPerspective","x","y","z","translateX","translateY","translateZ","scale","scaleX","scaleY","rotate","rotateX","rotateY","rotateZ","skew","skewX","skewY"],Fh=new Set(Dh),aT=e=>e===Mh||e===yt,Ite=new Set(["x","y","z"]),Ote=Dh.filter(e=>!Ite.has(e));function Lte(e){const t=[];return Ote.forEach(n=>{const r=e.getValue(n);r!==void 0&&(t.push([n,r.get()]),r.set(n.startsWith("scale")?1:0))}),t}const hd={width:({x:e},{paddingLeft:t="0",paddingRight:n="0"})=>e.max-e.min-parseFloat(t)-parseFloat(n),height:({y:e},{paddingTop:t="0",paddingBottom:n="0"})=>e.max-e.min-parseFloat(t)-parseFloat(n),top:(e,{top:t})=>parseFloat(t),left:(e,{left:t})=>parseFloat(t),bottom:({y:e},{top:t})=>parseFloat(t)+(e.max-e.min),right:({x:e},{left:t})=>parseFloat(t)+(e.max-e.min),x:(e,{transform:t})=>R4(t,"x"),y:(e,{transform:t})=>R4(t,"y")};hd.translateX=hd.x;hd.translateY=hd.y;const pd=new Set;let M4=!1,D4=!1,F4=!1;function DD(){if(D4){const e=Array.from(pd).filter(r=>r.needsMeasurement),t=new Set(e.map(r=>r.element)),n=new Map;t.forEach(r=>{const i=Lte(r);i.length&&(n.set(r,i),r.render())}),e.forEach(r=>r.measureInitialState()),t.forEach(r=>{r.render();const i=n.get(r);i&&i.forEach(([a,s])=>{var o;(o=r.getValue(a))==null||o.set(s)})}),e.forEach(r=>r.measureEndState()),e.forEach(r=>{r.suspendedScrollY!==void 0&&window.scrollTo(0,r.suspendedScrollY)})}D4=!1,M4=!1,pd.forEach(e=>e.complete(F4)),pd.clear()}function FD(){pd.forEach(e=>{e.readKeyframes(),e.needsMeasurement&&(D4=!0)})}function Rte(){F4=!0,FD(),DD(),F4=!1}class mA{constructor(t,n,r,i,a,s=!1){this.state="pending",this.isAsync=!1,this.needsMeasurement=!1,this.unresolvedKeyframes=[...t],this.onComplete=n,this.name=r,this.motionValue=i,this.element=a,this.isAsync=s}scheduleResolve(){this.state="scheduled",this.isAsync?(pd.add(this),M4||(M4=!0,nr.read(FD),nr.resolveKeyframes(DD))):(this.readKeyframes(),this.complete())}readKeyframes(){const{unresolvedKeyframes:t,name:n,element:r,motionValue:i}=this;if(t[0]===null){const a=i==null?void 0:i.get(),s=t[t.length-1];if(a!==void 0)t[0]=a;else if(r&&n){const o=r.readValue(n,s);o!=null&&(t[0]=o)}t[0]===void 0&&(t[0]=s),i&&a===void 0&&i.set(t[0])}Nte(t)}setFinalKeyframe(){}measureInitialState(){}renderEndStyles(){}measureEndState(){}complete(t=!1){this.state="complete",this.onComplete(this.unresolvedKeyframes,this.finalKeyframe,t),pd.delete(this)}cancel(){this.state==="scheduled"&&(pd.delete(this),this.state="pending")}resume(){this.state==="pending"&&this.scheduleResolve()}}const Mte=e=>e.startsWith("--");function Dte(e,t,n){Mte(t)?e.style.setProperty(t,n):e.style[t]=n}const Fte=nA(()=>window.ScrollTimeline!==void 0),Bte={};function Vte(e,t){const n=nA(e);return()=>Bte[t]??n()}const BD=Vte(()=>{try{document.createElement("div").animate({opacity:0},{easing:"linear(0, 1)"})}catch{return!1}return!0},"linearEasing"),Kp=([e,t,n,r])=>`cubic-bezier(${e}, ${t}, ${n}, ${r})`,sT={linear:"linear",ease:"ease",easeIn:"ease-in",easeOut:"ease-out",easeInOut:"ease-in-out",circIn:Kp([0,.65,.55,1]),circOut:Kp([.55,0,1,.45]),backIn:Kp([.31,.01,.66,-.59]),backOut:Kp([.33,1.53,.69,.99])};function VD(e,t){if(e)return typeof e=="function"?BD()?LD(e,t):"ease-out":AD(e)?Kp(e):Array.isArray(e)?e.map(n=>VD(n,t)||sT.easeOut):sT[e]}function zte(e,t,n,{delay:r=0,duration:i=300,repeat:a=0,repeatType:s="loop",ease:o="easeOut",times:l}={},u=void 0){const c={[t]:n};l&&(c.offset=l);const d=VD(o,i);Array.isArray(d)&&(c.easing=d);const p={delay:r,duration:i,easing:Array.isArray(d)?"linear":d,fill:"both",iterations:a+1,direction:s==="reverse"?"alternate":"normal"};return u&&(p.pseudoElement=u),e.animate(c,p)}function zD(e){return typeof e=="function"&&"applyToOptions"in e}function $te({type:e,...t}){return zD(e)&&BD()?e.applyToOptions(t):(t.duration??(t.duration=300),t.ease??(t.ease="easeOut"),t)}class Ute extends hA{constructor(t){if(super(),this.finishedTime=null,this.isStopped=!1,!t)return;const{element:n,name:r,keyframes:i,pseudoElement:a,allowFlatten:s=!1,finalKeyframe:o,onComplete:l}=t;this.isPseudoElement=!!a,this.allowFlatten=s,this.options=t,tA(typeof t.type!="string");const u=$te(t);this.animation=zte(n,r,i,u,a),u.autoplay===!1&&this.animation.pause(),this.animation.onfinish=()=>{if(this.finishedTime=this.time,!a){const c=fA(i,this.options,o,this.speed);this.updateMotionValue?this.updateMotionValue(c):Dte(n,r,c),this.animation.cancel()}l==null||l(),this.notifyFinished()}}play(){this.isStopped||(this.animation.play(),this.state==="finished"&&this.updateFinished())}pause(){this.animation.pause()}complete(){var t,n;(n=(t=this.animation).finish)==null||n.call(t)}cancel(){try{this.animation.cancel()}catch{}}stop(){if(this.isStopped)return;this.isStopped=!0;const{state:t}=this;t==="idle"||t==="finished"||(this.updateMotionValue?this.updateMotionValue():this.commitStyles(),this.isPseudoElement||this.cancel())}commitStyles(){var t,n;this.isPseudoElement||(n=(t=this.animation).commitStyles)==null||n.call(t)}get duration(){var n,r;const t=((r=(n=this.animation.effect)==null?void 0:n.getComputedTiming)==null?void 0:r.call(n).duration)||0;return Ko(Number(t))}get time(){return Ko(Number(this.animation.currentTime)||0)}set time(t){this.finishedTime=null,this.animation.currentTime=Ho(t)}get speed(){return this.animation.playbackRate}set speed(t){t<0&&(this.finishedTime=null),this.animation.playbackRate=t}get state(){return this.finishedTime!==null?"finished":this.animation.playState}get startTime(){return Number(this.animation.startTime)}set startTime(t){this.animation.startTime=t}attachTimeline({timeline:t,observe:n}){var r;return this.allowFlatten&&((r=this.animation.effect)==null||r.updateTiming({easing:"linear"})),this.animation.onfinish=null,t&&Fte()?(this.animation.timeline=t,Ps):n(this)}}const $D={anticipate:bD,backInOut:xD,circInOut:_D};function Wte(e){return e in $D}function qte(e){typeof e.ease=="string"&&Wte(e.ease)&&(e.ease=$D[e.ease])}const oT=10;class Hte extends Ute{constructor(t){qte(t),MD(t),super(t),t.startTime&&(this.startTime=t.startTime),this.options=t}updateMotionValue(t){const{motionValue:n,onUpdate:r,onComplete:i,element:a,...s}=this.options;if(!n)return;if(t!==void 0){n.set(t);return}const o=new pA({...s,autoplay:!1}),l=Ho(this.finishedTime??this.time);n.setWithVelocity(o.sample(l-oT).value,o.sample(l).value,oT),o.stop()}}const lT=(e,t)=>t==="zIndex"?!1:!!(typeof e=="number"||Array.isArray(e)||typeof e=="string"&&(cc.test(e)||e==="0")&&!e.startsWith("url("));function Kte(e){const t=e[0];if(e.length===1)return!0;for(let n=0;n<e.length;n++)if(e[n]!==t)return!0}function Gte(e,t,n,r){const i=e[0];if(i===null)return!1;if(t==="display"||t==="visibility")return!0;const a=e[e.length-1],s=lT(i,t),o=lT(a,t);return!s||!o?!1:Kte(e)||(n==="spring"||zD(n))&&r}function UD(e){return fD(e)&&"offsetHeight"in e}const Yte=new Set(["opacity","clipPath","filter","transform"]),Xte=nA(()=>Object.hasOwnProperty.call(Element.prototype,"animate"));function Qte(e){var u;const{motionValue:t,name:n,repeatDelay:r,repeatType:i,damping:a,type:s}=e;if(!UD((u=t==null?void 0:t.owner)==null?void 0:u.current))return!1;const{onUpdate:o,transformTemplate:l}=t.owner.getProps();return Xte()&&n&&Yte.has(n)&&(n!=="transform"||!l)&&!o&&!r&&i!=="mirror"&&a!==0&&s!=="inertia"}const Zte=40;class Jte extends hA{constructor({autoplay:t=!0,delay:n=0,type:r="keyframes",repeat:i=0,repeatDelay:a=0,repeatType:s="loop",keyframes:o,name:l,motionValue:u,element:c,...d}){var g;super(),this.stop=()=>{var v,b;this._animation&&(this._animation.stop(),(v=this.stopTimeline)==null||v.call(this)),(b=this.keyframeResolver)==null||b.cancel()},this.createdAt=Aa.now();const p={autoplay:t,delay:n,type:r,repeat:i,repeatDelay:a,repeatType:s,name:l,motionValue:u,element:c,...d},f=(c==null?void 0:c.KeyframeResolver)||mA;this.keyframeResolver=new f(o,(v,b,x)=>this.onKeyframesResolved(v,b,p,!x),l,u,c),(g=this.keyframeResolver)==null||g.scheduleResolve()}onKeyframesResolved(t,n,r,i){this.keyframeResolver=void 0;const{name:a,type:s,velocity:o,delay:l,isHandoff:u,onUpdate:c}=r;this.resolvedAt=Aa.now(),Gte(t,a,s,o)||((Vl.instantAnimations||!l)&&(c==null||c(fA(t,r,n))),t[0]=t[t.length-1],r.duration=0,r.repeat=0);const p={startTime:i?this.resolvedAt?this.resolvedAt-this.createdAt>Zte?this.resolvedAt:this.createdAt:this.createdAt:void 0,finalKeyframe:n,...r,keyframes:t},f=!u&&Qte(p)?new Hte({...p,element:p.motionValue.owner.current}):new pA(p);f.finished.then(()=>this.notifyFinished()).catch(Ps),this.pendingTimeline&&(this.stopTimeline=f.attachTimeline(this.pendingTimeline),this.pendingTimeline=void 0),this._animation=f}get finished(){return this._animation?this.animation.finished:this._finished}then(t,n){return this.finished.finally(t).then(()=>{})}get animation(){var t;return this._animation||((t=this.keyframeResolver)==null||t.resume(),Rte()),this._animation}get duration(){return this.animation.duration}get time(){return this.animation.time}set time(t){this.animation.time=t}get speed(){return this.animation.speed}get state(){return this.animation.state}set speed(t){this.animation.speed=t}get startTime(){return this.animation.startTime}attachTimeline(t){return this._animation?this.stopTimeline=this.animation.attachTimeline(t):this.pendingTimeline=t,()=>this.stop()}play(){this.animation.play()}pause(){this.animation.pause()}complete(){this.animation.complete()}cancel(){var t;this._animation&&this.animation.cancel(),(t=this.keyframeResolver)==null||t.cancel()}}const ene=/^var\(--(?:([\w-]+)|([\w-]+), ?([a-zA-Z\d ()%#.,-]+))\)/u;function tne(e){const t=ene.exec(e);if(!t)return[,];const[,n,r,i]=t;return[`--${n??r}`,i]}function WD(e,t,n=1){const[r,i]=tne(e);if(!r)return;const a=window.getComputedStyle(t).getPropertyValue(r);if(a){const s=a.trim();return dD(s)?parseFloat(s):s}return oA(i)?WD(i,t,n+1):i}function gA(e,t){return(e==null?void 0:e[t])??(e==null?void 0:e.default)??e}const qD=new Set(["width","height","top","left","right","bottom",...Dh]),nne={test:e=>e==="auto",parse:e=>e},HD=e=>t=>t.test(e),KD=[Mh,yt,Go,Tu,Kee,Hee,nne],uT=e=>KD.find(HD(e));function rne(e){return typeof e=="number"?e===0:e!==null?e==="none"||e==="0"||hD(e):!0}const ine=new Set(["brightness","contrast","saturate","opacity"]);function ane(e){const[t,n]=e.slice(0,-1).split("(");if(t==="drop-shadow")return e;const[r]=n.match(lA)||[];if(!r)return e;const i=n.replace(r,"");let a=ine.has(t)?1:0;return r!==n&&(a*=100),t+"("+a+i+")"}const sne=/\b([a-z-]*)\(.*?\)/gu,B4={...cc,getAnimatableNone:e=>{const t=e.match(sne);return t?t.map(ane).join(" "):e}},cT={...Mh,transform:Math.round},one={rotate:Tu,rotateX:Tu,rotateY:Tu,rotateZ:Tu,scale:Jg,scaleX:Jg,scaleY:Jg,scaleZ:Jg,skew:Tu,skewX:Tu,skewY:Tu,distance:yt,translateX:yt,translateY:yt,translateZ:yt,x:yt,y:yt,z:yt,perspective:yt,transformPerspective:yt,opacity:Km,originX:Qk,originY:Qk,originZ:yt},vA={borderWidth:yt,borderTopWidth:yt,borderRightWidth:yt,borderBottomWidth:yt,borderLeftWidth:yt,borderRadius:yt,radius:yt,borderTopLeftRadius:yt,borderTopRightRadius:yt,borderBottomRightRadius:yt,borderBottomLeftRadius:yt,width:yt,maxWidth:yt,height:yt,maxHeight:yt,top:yt,right:yt,bottom:yt,left:yt,padding:yt,paddingTop:yt,paddingRight:yt,paddingBottom:yt,paddingLeft:yt,margin:yt,marginTop:yt,marginRight:yt,marginBottom:yt,marginLeft:yt,backgroundPositionX:yt,backgroundPositionY:yt,...one,zIndex:cT,fillOpacity:Km,strokeOpacity:Km,numOctaves:cT},lne={...vA,color:Or,backgroundColor:Or,outlineColor:Or,fill:Or,stroke:Or,borderColor:Or,borderTopColor:Or,borderRightColor:Or,borderBottomColor:Or,borderLeftColor:Or,filter:B4,WebkitFilter:B4},GD=e=>lne[e];function YD(e,t){let n=GD(e);return n!==B4&&(n=cc),n.getAnimatableNone?n.getAnimatableNone(t):void 0}const une=new Set(["auto","none","0"]);function cne(e,t,n){let r=0,i;for(;r<e.length&&!i;){const a=e[r];typeof a=="string"&&!une.has(a)&&Gm(a).values.length&&(i=e[r]),r++}if(i&&n)for(const a of t)e[a]=YD(n,i)}class dne extends mA{constructor(t,n,r,i,a){super(t,n,r,i,a,!0)}readKeyframes(){const{unresolvedKeyframes:t,element:n,name:r}=this;if(!n||!n.current)return;super.readKeyframes();for(let l=0;l<t.length;l++){let u=t[l];if(typeof u=="string"&&(u=u.trim(),oA(u))){const c=WD(u,n.current);c!==void 0&&(t[l]=c),l===t.length-1&&(this.finalKeyframe=u)}}if(this.resolveNoneKeyframes(),!qD.has(r)||t.length!==2)return;const[i,a]=t,s=uT(i),o=uT(a);if(s!==o)if(aT(s)&&aT(o))for(let l=0;l<t.length;l++){const u=t[l];typeof u=="string"&&(t[l]=parseFloat(u))}else hd[r]&&(this.needsMeasurement=!0)}resolveNoneKeyframes(){const{unresolvedKeyframes:t,name:n}=this,r=[];for(let i=0;i<t.length;i++)(t[i]===null||rne(t[i]))&&r.push(i);r.length&&cne(t,r,n)}measureInitialState(){const{element:t,unresolvedKeyframes:n,name:r}=this;if(!t||!t.current)return;r==="height"&&(this.suspendedScrollY=window.pageYOffset),this.measuredOrigin=hd[r](t.measureViewportBox(),window.getComputedStyle(t.current)),n[0]=this.measuredOrigin;const i=n[n.length-1];i!==void 0&&t.getValue(r,i).jump(i,!1)}measureEndState(){var o;const{element:t,name:n,unresolvedKeyframes:r}=this;if(!t||!t.current)return;const i=t.getValue(n);i&&i.jump(this.measuredOrigin,!1);const a=r.length-1,s=r[a];r[a]=hd[n](t.measureViewportBox(),window.getComputedStyle(t.current)),s!==null&&this.finalKeyframe===void 0&&(this.finalKeyframe=s),(o=this.removedTransforms)!=null&&o.length&&this.removedTransforms.forEach(([l,u])=>{t.getValue(l).set(u)}),this.resolveNoneKeyframes()}}function fne(e,t,n){if(e instanceof EventTarget)return[e];if(typeof e=="string"){let r=document;const i=(n==null?void 0:n[e])??r.querySelectorAll(e);return i?Array.from(i):[]}return Array.from(e)}const XD=(e,t)=>t&&typeof e=="number"?t.transform(e):e,dT=30,hne=e=>!isNaN(parseFloat(e));class pne{constructor(t,n={}){this.canTrackVelocity=null,this.events={},this.updateAndNotify=(r,i=!0)=>{var s,o;const a=Aa.now();if(this.updatedAt!==a&&this.setPrevFrameValue(),this.prev=this.current,this.setCurrent(r),this.current!==this.prev&&((s=this.events.change)==null||s.notify(this.current),this.dependents))for(const l of this.dependents)l.dirty();i&&((o=this.events.renderRequest)==null||o.notify(this.current))},this.hasAnimated=!1,this.setCurrent(t),this.owner=n.owner}setCurrent(t){this.current=t,this.updatedAt=Aa.now(),this.canTrackVelocity===null&&t!==void 0&&(this.canTrackVelocity=hne(this.current))}setPrevFrameValue(t=this.current){this.prevFrameValue=t,this.prevUpdatedAt=this.updatedAt}onChange(t){return this.on("change",t)}on(t,n){this.events[t]||(this.events[t]=new rA);const r=this.events[t].add(n);return t==="change"?()=>{r(),nr.read(()=>{this.events.change.getSize()||this.stop()})}:r}clearListeners(){for(const t in this.events)this.events[t].clear()}attach(t,n){this.passiveEffect=t,this.stopPassiveEffect=n}set(t,n=!0){!n||!this.passiveEffect?this.updateAndNotify(t,n):this.passiveEffect(t,this.updateAndNotify)}setWithVelocity(t,n,r){this.set(n),this.prev=void 0,this.prevFrameValue=t,this.prevUpdatedAt=this.updatedAt-r}jump(t,n=!0){this.updateAndNotify(t),this.prev=t,this.prevUpdatedAt=this.prevFrameValue=void 0,n&&this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}dirty(){var t;(t=this.events.change)==null||t.notify(this.current)}addDependent(t){this.dependents||(this.dependents=new Set),this.dependents.add(t)}removeDependent(t){this.dependents&&this.dependents.delete(t)}get(){return this.current}getPrevious(){return this.prev}getVelocity(){const t=Aa.now();if(!this.canTrackVelocity||this.prevFrameValue===void 0||t-this.updatedAt>dT)return 0;const n=Math.min(this.updatedAt-this.prevUpdatedAt,dT);return pD(parseFloat(this.current)-parseFloat(this.prevFrameValue),n)}start(t){return this.stop(),new Promise(n=>{this.hasAnimated=!0,this.animation=t(n),this.events.animationStart&&this.events.animationStart.notify()}).then(()=>{this.events.animationComplete&&this.events.animationComplete.notify(),this.clearAnimation()})}stop(){this.animation&&(this.animation.stop(),this.events.animationCancel&&this.events.animationCancel.notify()),this.clearAnimation()}isAnimating(){return!!this.animation}clearAnimation(){delete this.animation}destroy(){var t,n;(t=this.dependents)==null||t.clear(),(n=this.events.destroy)==null||n.notify(),this.clearListeners(),this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}}function hh(e,t){return new pne(e,t)}const{schedule:yA}=PD(queueMicrotask,!1),Ks={x:!1,y:!1};function QD(){return Ks.x||Ks.y}function mne(e){return e==="x"||e==="y"?Ks[e]?null:(Ks[e]=!0,()=>{Ks[e]=!1}):Ks.x||Ks.y?null:(Ks.x=Ks.y=!0,()=>{Ks.x=Ks.y=!1})}function ZD(e,t){const n=fne(e),r=new AbortController,i={passive:!0,...t,signal:r.signal};return[n,i,()=>r.abort()]}function fT(e){return!(e.pointerType==="touch"||QD())}function gne(e,t,n={}){const[r,i,a]=ZD(e,n),s=o=>{if(!fT(o))return;const{target:l}=o,u=t(l,o);if(typeof u!="function"||!l)return;const c=d=>{fT(d)&&(u(d),l.removeEventListener("pointerleave",c))};l.addEventListener("pointerleave",c,i)};return r.forEach(o=>{o.addEventListener("pointerenter",s,i)}),a}const JD=(e,t)=>t?e===t?!0:JD(e,t.parentElement):!1,xA=e=>e.pointerType==="mouse"?typeof e.button!="number"||e.button<=0:e.isPrimary!==!1,vne=new Set(["BUTTON","INPUT","SELECT","TEXTAREA","A"]);function yne(e){return vne.has(e.tagName)||e.tabIndex!==-1}const K1=new WeakSet;function hT(e){return t=>{t.key==="Enter"&&e(t)}}function nw(e,t){e.dispatchEvent(new PointerEvent("pointer"+t,{isPrimary:!0,bubbles:!0}))}const xne=(e,t)=>{const n=e.currentTarget;if(!n)return;const r=hT(()=>{if(K1.has(n))return;nw(n,"down");const i=hT(()=>{nw(n,"up")}),a=()=>nw(n,"cancel");n.addEventListener("keyup",i,t),n.addEventListener("blur",a,t)});n.addEventListener("keydown",r,t),n.addEventListener("blur",()=>n.removeEventListener("keydown",r),t)};function pT(e){return xA(e)&&!QD()}function bne(e,t,n={}){const[r,i,a]=ZD(e,n),s=o=>{const l=o.currentTarget;if(!pT(o))return;K1.add(l);const u=t(l,o),c=(f,g)=>{window.removeEventListener("pointerup",d),window.removeEventListener("pointercancel",p),K1.has(l)&&K1.delete(l),pT(f)&&typeof u=="function"&&u(f,{success:g})},d=f=>{c(f,l===window||l===document||n.useGlobalTarget||JD(l,f.target))},p=f=>{c(f,!1)};window.addEventListener("pointerup",d,i),window.addEventListener("pointercancel",p,i)};return r.forEach(o=>{(n.useGlobalTarget?window:o).addEventListener("pointerdown",s,i),UD(o)&&(o.addEventListener("focus",u=>xne(u,i)),!yne(o)&&!o.hasAttribute("tabindex")&&(o.tabIndex=0))}),a}function e9(e){return fD(e)&&"ownerSVGElement"in e}function wne(e){return e9(e)&&e.tagName==="svg"}const Hi=e=>!!(e&&e.getVelocity),_ne=[...KD,Or,cc],Sne=e=>_ne.find(HD(e)),t9=S.createContext({transformPagePoint:e=>e,isStatic:!1,reducedMotion:"never"});function Ane(e=!0){const t=S.useContext(ZS);if(t===null)return[!0,null];const{isPresent:n,onExitComplete:r,register:i}=t,a=S.useId();S.useEffect(()=>{if(e)return i(a)},[e]);const s=S.useCallback(()=>e&&r&&r(a),[a,r,e]);return!n&&r?[!1,s]:[!0]}const n9=S.createContext({strict:!1}),mT={animation:["animate","variants","whileHover","whileTap","exit","whileInView","whileFocus","whileDrag"],exit:["exit"],drag:["drag","dragControls"],focus:["whileFocus"],hover:["whileHover","onHoverStart","onHoverEnd"],tap:["whileTap","onTap","onTapStart","onTapCancel"],pan:["onPan","onPanStart","onPanSessionStart","onPanEnd"],inView:["whileInView","onViewportEnter","onViewportLeave"],layout:["layout","layoutId"]},ph={};for(const e in mT)ph[e]={isEnabled:t=>mT[e].some(n=>!!t[n])};function Pne(e){for(const t in e)ph[t]={...ph[t],...e[t]}}const Ene=new Set(["animate","exit","variants","initial","style","values","variants","transition","transformTemplate","custom","inherit","onBeforeLayoutMeasure","onAnimationStart","onAnimationComplete","onUpdate","onDragStart","onDrag","onDragEnd","onMeasureDragConstraints","onDirectionLock","onDragTransitionEnd","_dragX","_dragY","onHoverStart","onHoverEnd","onViewportEnter","onViewportLeave","globalTapTarget","ignoreStrict","viewport"]);function Jv(e){return e.startsWith("while")||e.startsWith("drag")&&e!=="draggable"||e.startsWith("layout")||e.startsWith("onTap")||e.startsWith("onPan")||e.startsWith("onLayout")||Ene.has(e)}let r9=e=>!Jv(e);function Nne(e){typeof e=="function"&&(r9=t=>t.startsWith("on")?!Jv(t):e(t))}try{Nne(require("@emotion/is-prop-valid").default)}catch{}function kne(e,t,n){const r={};for(const i in e)i==="values"&&typeof e.values=="object"||(r9(i)||n===!0&&Jv(i)||!t&&!Jv(i)||e.draggable&&i.startsWith("onDrag"))&&(r[i]=e[i]);return r}function Tne(e){if(typeof Proxy>"u")return e;const t=new Map,n=(...r)=>e(...r);return new Proxy(n,{get:(r,i)=>i==="create"?e:(t.has(i)||t.set(i,e(i)),t.get(i))})}const z2=S.createContext({});function $2(e){return e!==null&&typeof e=="object"&&typeof e.start=="function"}function Ym(e){return typeof e=="string"||Array.isArray(e)}const bA=["animate","whileInView","whileFocus","whileHover","whileTap","whileDrag","exit"],wA=["initial",...bA];function U2(e){return $2(e.animate)||wA.some(t=>Ym(e[t]))}function i9(e){return!!(U2(e)||e.variants)}function Cne(e,t){if(U2(e)){const{initial:n,animate:r}=e;return{initial:n===!1||Ym(n)?n:void 0,animate:Ym(r)?r:void 0}}return e.inherit!==!1?t:{}}function jne(e){const{initial:t,animate:n}=Cne(e,S.useContext(z2));return S.useMemo(()=>({initial:t,animate:n}),[gT(t),gT(n)])}function gT(e){return Array.isArray(e)?e.join(" "):e}const Ine=Symbol.for("motionComponentSymbol");function Tf(e){return e&&typeof e=="object"&&Object.prototype.hasOwnProperty.call(e,"current")}function One(e,t,n){return S.useCallback(r=>{r&&e.onMount&&e.onMount(r),t&&(r?t.mount(r):t.unmount()),n&&(typeof n=="function"?n(r):Tf(n)&&(n.current=r))},[t])}const _A=e=>e.replace(/([a-z])([A-Z])/gu,"$1-$2").toLowerCase(),Lne="framerAppearId",a9="data-"+_A(Lne),s9=S.createContext({});function Rne(e,t,n,r,i){var v,b;const{visualElement:a}=S.useContext(z2),s=S.useContext(n9),o=S.useContext(ZS),l=S.useContext(t9).reducedMotion,u=S.useRef(null);r=r||s.renderer,!u.current&&r&&(u.current=r(e,{visualState:t,parent:a,props:n,presenceContext:o,blockInitialAnimation:o?o.initial===!1:!1,reducedMotionConfig:l}));const c=u.current,d=S.useContext(s9);c&&!c.projection&&i&&(c.type==="html"||c.type==="svg")&&Mne(u.current,n,i,d);const p=S.useRef(!1);S.useInsertionEffect(()=>{c&&p.current&&c.update(n,o)});const f=n[a9],g=S.useRef(!!f&&!((v=window.MotionHandoffIsComplete)!=null&&v.call(window,f))&&((b=window.MotionHasOptimisedAnimation)==null?void 0:b.call(window,f)));return Nee(()=>{c&&(p.current=!0,window.MotionIsMounted=!0,c.updateFeatures(),yA.render(c.render),g.current&&c.animationState&&c.animationState.animateChanges())}),S.useEffect(()=>{c&&(!g.current&&c.animationState&&c.animationState.animateChanges(),g.current&&(queueMicrotask(()=>{var x;(x=window.MotionHandoffMarkAsComplete)==null||x.call(window,f)}),g.current=!1))}),c}function Mne(e,t,n,r){const{layoutId:i,layout:a,drag:s,dragConstraints:o,layoutScroll:l,layoutRoot:u,layoutCrossfade:c}=t;e.projection=new n(e.latestValues,t["data-framer-portal-id"]?void 0:o9(e.parent)),e.projection.setOptions({layoutId:i,layout:a,alwaysMeasureLayout:!!s||o&&Tf(o),visualElement:e,animationType:typeof a=="string"?a:"both",initialPromotionConfig:r,crossfade:c,layoutScroll:l,layoutRoot:u})}function o9(e){if(e)return e.options.allowProjection!==!1?e.projection:o9(e.parent)}function Dne({preloadedFeatures:e,createVisualElement:t,useRender:n,useVisualState:r,Component:i}){e&&Pne(e);function a(o,l){let u;const c={...S.useContext(t9),...o,layoutId:Fne(o)},{isStatic:d}=c,p=jne(o),f=r(o,d);if(!d&&QS){Bne();const g=Vne(c);u=g.MeasureLayout,p.visualElement=Rne(i,f,c,t,g.ProjectionNode)}return h.jsxs(z2.Provider,{value:p,children:[u&&p.visualElement?h.jsx(u,{visualElement:p.visualElement,...c}):null,n(i,o,One(f,p.visualElement,l),f,d,p.visualElement)]})}a.displayName=`motion.${typeof i=="string"?i:`create(${i.displayName??i.name??""})`}`;const s=S.forwardRef(a);return s[Ine]=i,s}function Fne({layoutId:e}){const t=S.useContext(cD).id;return t&&e!==void 0?t+"-"+e:e}function Bne(e,t){S.useContext(n9).strict}function Vne(e){const{drag:t,layout:n}=ph;if(!t&&!n)return{};const r={...t,...n};return{MeasureLayout:t!=null&&t.isEnabled(e)||n!=null&&n.isEnabled(e)?r.MeasureLayout:void 0,ProjectionNode:r.ProjectionNode}}const Xm={};function zne(e){for(const t in e)Xm[t]=e[t],sA(t)&&(Xm[t].isCSSVariable=!0)}function l9(e,{layout:t,layoutId:n}){return Fh.has(e)||e.startsWith("origin")||(t||n!==void 0)&&(!!Xm[e]||e==="opacity")}const $ne={x:"translateX",y:"translateY",z:"translateZ",transformPerspective:"perspective"},Une=Dh.length;function Wne(e,t,n){let r="",i=!0;for(let a=0;a<Une;a++){const s=Dh[a],o=e[s];if(o===void 0)continue;let l=!0;if(typeof o=="number"?l=o===(s.startsWith("scale")?1:0):l=parseFloat(o)===0,!l||n){const u=XD(o,vA[s]);if(!l){i=!1;const c=$ne[s]||s;r+=`${c}(${u}) `}n&&(t[s]=u)}}return r=r.trim(),n?r=n(t,i?"":r):i&&(r="none"),r}function SA(e,t,n){const{style:r,vars:i,transformOrigin:a}=e;let s=!1,o=!1;for(const l in t){const u=t[l];if(Fh.has(l)){s=!0;continue}else if(sA(l)){i[l]=u;continue}else{const c=XD(u,vA[l]);l.startsWith("origin")?(o=!0,a[l]=c):r[l]=c}}if(t.transform||(s||n?r.transform=Wne(t,e.transform,n):r.transform&&(r.transform="none")),o){const{originX:l="50%",originY:u="50%",originZ:c=0}=a;r.transformOrigin=`${l} ${u} ${c}`}}const AA=()=>({style:{},transform:{},transformOrigin:{},vars:{}});function u9(e,t,n){for(const r in t)!Hi(t[r])&&!l9(r,n)&&(e[r]=t[r])}function qne({transformTemplate:e},t){return S.useMemo(()=>{const n=AA();return SA(n,t,e),Object.assign({},n.vars,n.style)},[t])}function Hne(e,t){const n=e.style||{},r={};return u9(r,n,e),Object.assign(r,qne(e,t)),r}function Kne(e,t){const n={},r=Hne(e,t);return e.drag&&e.dragListener!==!1&&(n.draggable=!1,r.userSelect=r.WebkitUserSelect=r.WebkitTouchCallout="none",r.touchAction=e.drag===!0?"none":`pan-${e.drag==="x"?"y":"x"}`),e.tabIndex===void 0&&(e.onTap||e.onTapStart||e.whileTap)&&(n.tabIndex=0),n.style=r,n}const Gne={offset:"stroke-dashoffset",array:"stroke-dasharray"},Yne={offset:"strokeDashoffset",array:"strokeDasharray"};function Xne(e,t,n=1,r=0,i=!0){e.pathLength=1;const a=i?Gne:Yne;e[a.offset]=yt.transform(-r);const s=yt.transform(t),o=yt.transform(n);e[a.array]=`${s} ${o}`}function c9(e,{attrX:t,attrY:n,attrScale:r,pathLength:i,pathSpacing:a=1,pathOffset:s=0,...o},l,u,c){if(SA(e,o,u),l){e.style.viewBox&&(e.attrs.viewBox=e.style.viewBox);return}e.attrs=e.style,e.style={};const{attrs:d,style:p}=e;d.transform&&(p.transform=d.transform,delete d.transform),(p.transform||d.transformOrigin)&&(p.transformOrigin=d.transformOrigin??"50% 50%",delete d.transformOrigin),p.transform&&(p.transformBox=(c==null?void 0:c.transformBox)??"fill-box",delete d.transformBox),t!==void 0&&(d.x=t),n!==void 0&&(d.y=n),r!==void 0&&(d.scale=r),i!==void 0&&Xne(d,i,a,s,!1)}const d9=()=>({...AA(),attrs:{}}),f9=e=>typeof e=="string"&&e.toLowerCase()==="svg";function Qne(e,t,n,r){const i=S.useMemo(()=>{const a=d9();return c9(a,t,f9(r),e.transformTemplate,e.style),{...a.attrs,style:{...a.style}}},[t]);if(e.style){const a={};u9(a,e.style,e),i.style={...a,...i.style}}return i}const Zne=["animate","circle","defs","desc","ellipse","g","image","line","filter","marker","mask","metadata","path","pattern","polygon","polyline","rect","stop","switch","symbol","svg","text","tspan","use","view"];function PA(e){return typeof e!="string"||e.includes("-")?!1:!!(Zne.indexOf(e)>-1||/[A-Z]/u.test(e))}function Jne(e=!1){return(n,r,i,{latestValues:a},s)=>{const l=(PA(n)?Qne:Kne)(r,a,s,n),u=kne(r,typeof n=="string",e),c=n!==S.Fragment?{...u,...l,ref:i}:{},{children:d}=r,p=S.useMemo(()=>Hi(d)?d.get():d,[d]);return S.createElement(n,{...c,children:p})}}function vT(e){const t=[{},{}];return e==null||e.values.forEach((n,r)=>{t[0][r]=n.get(),t[1][r]=n.getVelocity()}),t}function EA(e,t,n,r){if(typeof t=="function"){const[i,a]=vT(r);t=t(n!==void 0?n:e.custom,i,a)}if(typeof t=="string"&&(t=e.variants&&e.variants[t]),typeof t=="function"){const[i,a]=vT(r);t=t(n!==void 0?n:e.custom,i,a)}return t}function G1(e){return Hi(e)?e.get():e}function ere({scrapeMotionValuesFromProps:e,createRenderState:t},n,r,i){return{latestValues:tre(n,r,i,e),renderState:t()}}const h9=e=>(t,n)=>{const r=S.useContext(z2),i=S.useContext(ZS),a=()=>ere(e,t,r,i);return n?a():Eee(a)};function tre(e,t,n,r){const i={},a=r(e,{});for(const p in a)i[p]=G1(a[p]);let{initial:s,animate:o}=e;const l=U2(e),u=i9(e);t&&u&&!l&&e.inherit!==!1&&(s===void 0&&(s=t.initial),o===void 0&&(o=t.animate));let c=n?n.initial===!1:!1;c=c||s===!1;const d=c?o:s;if(d&&typeof d!="boolean"&&!$2(d)){const p=Array.isArray(d)?d:[d];for(let f=0;f<p.length;f++){const g=EA(e,p[f]);if(g){const{transitionEnd:v,transition:b,...x}=g;for(const w in x){let A=x[w];if(Array.isArray(A)){const P=c?A.length-1:0;A=A[P]}A!==null&&(i[w]=A)}for(const w in v)i[w]=v[w]}}}return i}function NA(e,t,n){var a;const{style:r}=e,i={};for(const s in r)(Hi(r[s])||t.style&&Hi(t.style[s])||l9(s,e)||((a=n==null?void 0:n.getValue(s))==null?void 0:a.liveStyle)!==void 0)&&(i[s]=r[s]);return i}const nre={useVisualState:h9({scrapeMotionValuesFromProps:NA,createRenderState:AA})};function p9(e,t,n){const r=NA(e,t,n);for(const i in e)if(Hi(e[i])||Hi(t[i])){const a=Dh.indexOf(i)!==-1?"attr"+i.charAt(0).toUpperCase()+i.substring(1):i;r[a]=e[i]}return r}const rre={useVisualState:h9({scrapeMotionValuesFromProps:p9,createRenderState:d9})};function ire(e,t){return function(r,{forwardMotionProps:i}={forwardMotionProps:!1}){const s={...PA(r)?rre:nre,preloadedFeatures:e,useRender:Jne(i),createVisualElement:t,Component:r};return Dne(s)}}function Qm(e,t,n){const r=e.getProps();return EA(r,t,n!==void 0?n:r.custom,e)}const V4=e=>Array.isArray(e);function are(e,t,n){e.hasValue(t)?e.getValue(t).set(n):e.addValue(t,hh(n))}function sre(e){return V4(e)?e[e.length-1]||0:e}function ore(e,t){const n=Qm(e,t);let{transitionEnd:r={},transition:i={},...a}=n||{};a={...a,...r};for(const s in a){const o=sre(a[s]);are(e,s,o)}}function lre(e){return!!(Hi(e)&&e.add)}function z4(e,t){const n=e.getValue("willChange");if(lre(n))return n.add(t);if(!n&&Vl.WillChange){const r=new Vl.WillChange("auto");e.addValue("willChange",r),r.add(t)}}function m9(e){return e.props[a9]}const ure=e=>e!==null;function cre(e,{repeat:t,repeatType:n="loop"},r){const i=e.filter(ure),a=t&&n!=="loop"&&t%2===1?0:i.length-1;return i[a]}const dre={type:"spring",stiffness:500,damping:25,restSpeed:10},fre=e=>({type:"spring",stiffness:550,damping:e===0?2*Math.sqrt(550):30,restSpeed:10}),hre={type:"keyframes",duration:.8},pre={type:"keyframes",ease:[.25,.1,.35,1],duration:.3},mre=(e,{keyframes:t})=>t.length>2?hre:Fh.has(e)?e.startsWith("scale")?fre(t[1]):dre:pre;function gre({when:e,delay:t,delayChildren:n,staggerChildren:r,staggerDirection:i,repeat:a,repeatType:s,repeatDelay:o,from:l,elapsed:u,...c}){return!!Object.keys(c).length}const kA=(e,t,n,r={},i,a)=>s=>{const o=gA(r,e)||{},l=o.delay||r.delay||0;let{elapsed:u=0}=r;u=u-Ho(l);const c={keyframes:Array.isArray(n)?n:[null,n],ease:"easeOut",velocity:t.getVelocity(),...o,delay:-u,onUpdate:p=>{t.set(p),o.onUpdate&&o.onUpdate(p)},onComplete:()=>{s(),o.onComplete&&o.onComplete()},name:e,motionValue:t,element:a?void 0:i};gre(o)||Object.assign(c,mre(e,c)),c.duration&&(c.duration=Ho(c.duration)),c.repeatDelay&&(c.repeatDelay=Ho(c.repeatDelay)),c.from!==void 0&&(c.keyframes[0]=c.from);let d=!1;if((c.type===!1||c.duration===0&&!c.repeatDelay)&&(c.duration=0,c.delay===0&&(d=!0)),(Vl.instantAnimations||Vl.skipAnimations)&&(d=!0,c.duration=0,c.delay=0),c.allowFlatten=!o.type&&!o.ease,d&&!a&&t.get()!==void 0){const p=cre(c.keyframes,o);if(p!==void 0){nr.update(()=>{c.onUpdate(p),c.onComplete()});return}}return o.isSync?new pA(c):new Jte(c)};function vre({protectedKeys:e,needsAnimating:t},n){const r=e.hasOwnProperty(n)&&t[n]!==!0;return t[n]=!1,r}function g9(e,t,{delay:n=0,transitionOverride:r,type:i}={}){let{transition:a=e.getDefaultTransition(),transitionEnd:s,...o}=t;r&&(a=r);const l=[],u=i&&e.animationState&&e.animationState.getState()[i];for(const c in o){const d=e.getValue(c,e.latestValues[c]??null),p=o[c];if(p===void 0||u&&vre(u,c))continue;const f={delay:n,...gA(a||{},c)},g=d.get();if(g!==void 0&&!d.isAnimating&&!Array.isArray(p)&&p===g&&!f.velocity)continue;let v=!1;if(window.MotionHandoffAnimation){const x=m9(e);if(x){const w=window.MotionHandoffAnimation(x,c,nr);w!==null&&(f.startTime=w,v=!0)}}z4(e,c),d.start(kA(c,d,p,e.shouldReduceMotion&&qD.has(c)?{type:!1}:f,e,v));const b=d.animation;b&&l.push(b)}return s&&Promise.all(l).then(()=>{nr.update(()=>{s&&ore(e,s)})}),l}function $4(e,t,n={}){var l;const r=Qm(e,t,n.type==="exit"?(l=e.presenceContext)==null?void 0:l.custom:void 0);let{transition:i=e.getDefaultTransition()||{}}=r||{};n.transitionOverride&&(i=n.transitionOverride);const a=r?()=>Promise.all(g9(e,r,n)):()=>Promise.resolve(),s=e.variantChildren&&e.variantChildren.size?(u=0)=>{const{delayChildren:c=0,staggerChildren:d,staggerDirection:p}=i;return yre(e,t,c+u,d,p,n)}:()=>Promise.resolve(),{when:o}=i;if(o){const[u,c]=o==="beforeChildren"?[a,s]:[s,a];return u().then(()=>c())}else return Promise.all([a(),s(n.delay)])}function yre(e,t,n=0,r=0,i=1,a){const s=[],o=(e.variantChildren.size-1)*r,l=i===1?(u=0)=>u*r:(u=0)=>o-u*r;return Array.from(e.variantChildren).sort(xre).forEach((u,c)=>{u.notify("AnimationStart",t),s.push($4(u,t,{...a,delay:n+l(c)}).then(()=>u.notify("AnimationComplete",t)))}),Promise.all(s)}function xre(e,t){return e.sortNodePosition(t)}function bre(e,t,n={}){e.notify("AnimationStart",t);let r;if(Array.isArray(t)){const i=t.map(a=>$4(e,a,n));r=Promise.all(i)}else if(typeof t=="string")r=$4(e,t,n);else{const i=typeof t=="function"?Qm(e,t,n.custom):t;r=Promise.all(g9(e,i,n))}return r.then(()=>{e.notify("AnimationComplete",t)})}function v9(e,t){if(!Array.isArray(t))return!1;const n=t.length;if(n!==e.length)return!1;for(let r=0;r<n;r++)if(t[r]!==e[r])return!1;return!0}const wre=wA.length;function y9(e){if(!e)return;if(!e.isControllingVariants){const n=e.parent?y9(e.parent)||{}:{};return e.props.initial!==void 0&&(n.initial=e.props.initial),n}const t={};for(let n=0;n<wre;n++){const r=wA[n],i=e.props[r];(Ym(i)||i===!1)&&(t[r]=i)}return t}const _re=[...bA].reverse(),Sre=bA.length;function Are(e){return t=>Promise.all(t.map(({animation:n,options:r})=>bre(e,n,r)))}function Pre(e){let t=Are(e),n=yT(),r=!0;const i=l=>(u,c)=>{var p;const d=Qm(e,c,l==="exit"?(p=e.presenceContext)==null?void 0:p.custom:void 0);if(d){const{transition:f,transitionEnd:g,...v}=d;u={...u,...v,...g}}return u};function a(l){t=l(e)}function s(l){const{props:u}=e,c=y9(e.parent)||{},d=[],p=new Set;let f={},g=1/0;for(let b=0;b<Sre;b++){const x=_re[b],w=n[x],A=u[x]!==void 0?u[x]:c[x],P=Ym(A),O=x===l?w.isActive:null;O===!1&&(g=b);let D=A===c[x]&&A!==u[x]&&P;if(D&&r&&e.manuallyAnimateOnMount&&(D=!1),w.protectedKeys={...f},!w.isActive&&O===null||!A&&!w.prevProp||$2(A)||typeof A=="boolean")continue;const T=Ere(w.prevProp,A);let k=T||x===l&&w.isActive&&!D&&P||b>g&&P,I=!1;const M=Array.isArray(A)?A:[A];let N=M.reduce(i(x),{});O===!1&&(N={});const{prevResolvedValues:C={}}=w,R={...C,...N},W=ie=>{k=!0,p.has(ie)&&(I=!0,p.delete(ie)),w.needsAnimating[ie]=!0;const H=e.getValue(ie);H&&(H.liveStyle=!1)};for(const ie in R){const H=N[ie],se=C[ie];if(f.hasOwnProperty(ie))continue;let ye=!1;V4(H)&&V4(se)?ye=!v9(H,se):ye=H!==se,ye?H!=null?W(ie):p.add(ie):H!==void 0&&p.has(ie)?W(ie):w.protectedKeys[ie]=!0}w.prevProp=A,w.prevResolvedValues=N,w.isActive&&(f={...f,...N}),r&&e.blockInitialAnimation&&(k=!1),k&&(!(D&&T)||I)&&d.push(...M.map(ie=>({animation:ie,options:{type:x}})))}if(p.size){const b={};if(typeof u.initial!="boolean"){const x=Qm(e,Array.isArray(u.initial)?u.initial[0]:u.initial);x&&x.transition&&(b.transition=x.transition)}p.forEach(x=>{const w=e.getBaseTarget(x),A=e.getValue(x);A&&(A.liveStyle=!0),b[x]=w??null}),d.push({animation:b})}let v=!!d.length;return r&&(u.initial===!1||u.initial===u.animate)&&!e.manuallyAnimateOnMount&&(v=!1),r=!1,v?t(d):Promise.resolve()}function o(l,u){var d;if(n[l].isActive===u)return Promise.resolve();(d=e.variantChildren)==null||d.forEach(p=>{var f;return(f=p.animationState)==null?void 0:f.setActive(l,u)}),n[l].isActive=u;const c=s(l);for(const p in n)n[p].protectedKeys={};return c}return{animateChanges:s,setActive:o,setAnimateFunction:a,getState:()=>n,reset:()=>{n=yT(),r=!0}}}function Ere(e,t){return typeof t=="string"?t!==e:Array.isArray(t)?!v9(t,e):!1}function Uc(e=!1){return{isActive:e,protectedKeys:{},needsAnimating:{},prevResolvedValues:{}}}function yT(){return{animate:Uc(!0),whileInView:Uc(),whileHover:Uc(),whileTap:Uc(),whileDrag:Uc(),whileFocus:Uc(),exit:Uc()}}class bc{constructor(t){this.isMounted=!1,this.node=t}update(){}}class Nre extends bc{constructor(t){super(t),t.animationState||(t.animationState=Pre(t))}updateAnimationControlsSubscription(){const{animate:t}=this.node.getProps();$2(t)&&(this.unmountControls=t.subscribe(this.node))}mount(){this.updateAnimationControlsSubscription()}update(){const{animate:t}=this.node.getProps(),{animate:n}=this.node.prevProps||{};t!==n&&this.updateAnimationControlsSubscription()}unmount(){var t;this.node.animationState.reset(),(t=this.unmountControls)==null||t.call(this)}}let kre=0;class Tre extends bc{constructor(){super(...arguments),this.id=kre++}update(){if(!this.node.presenceContext)return;const{isPresent:t,onExitComplete:n}=this.node.presenceContext,{isPresent:r}=this.node.prevPresenceContext||{};if(!this.node.animationState||t===r)return;const i=this.node.animationState.setActive("exit",!t);n&&!t&&i.then(()=>{n(this.id)})}mount(){const{register:t,onExitComplete:n}=this.node.presenceContext||{};n&&n(this.id),t&&(this.unmount=t(this.id))}unmount(){}}const Cre={animation:{Feature:Nre},exit:{Feature:Tre}};function Zm(e,t,n,r={passive:!0}){return e.addEventListener(t,n,r),()=>e.removeEventListener(t,n)}function V0(e){return{point:{x:e.pageX,y:e.pageY}}}const jre=e=>t=>xA(t)&&e(t,V0(t));function dm(e,t,n,r){return Zm(e,t,jre(n),r)}function x9({top:e,left:t,right:n,bottom:r}){return{x:{min:t,max:n},y:{min:e,max:r}}}function Ire({x:e,y:t}){return{top:t.min,right:e.max,bottom:t.max,left:e.min}}function Ore(e,t){if(!t)return e;const n=t({x:e.left,y:e.top}),r=t({x:e.right,y:e.bottom});return{top:n.y,left:n.x,bottom:r.y,right:r.x}}const b9=1e-4,Lre=1-b9,Rre=1+b9,w9=.01,Mre=0-w9,Dre=0+w9;function aa(e){return e.max-e.min}function Fre(e,t,n){return Math.abs(e-t)<=n}function xT(e,t,n,r=.5){e.origin=r,e.originPoint=er(t.min,t.max,e.origin),e.scale=aa(n)/aa(t),e.translate=er(n.min,n.max,e.origin)-e.originPoint,(e.scale>=Lre&&e.scale<=Rre||isNaN(e.scale))&&(e.scale=1),(e.translate>=Mre&&e.translate<=Dre||isNaN(e.translate))&&(e.translate=0)}function fm(e,t,n,r){xT(e.x,t.x,n.x,r?r.originX:void 0),xT(e.y,t.y,n.y,r?r.originY:void 0)}function bT(e,t,n){e.min=n.min+t.min,e.max=e.min+aa(t)}function Bre(e,t,n){bT(e.x,t.x,n.x),bT(e.y,t.y,n.y)}function wT(e,t,n){e.min=t.min-n.min,e.max=e.min+aa(t)}function hm(e,t,n){wT(e.x,t.x,n.x),wT(e.y,t.y,n.y)}const _T=()=>({translate:0,scale:1,origin:0,originPoint:0}),Cf=()=>({x:_T(),y:_T()}),ST=()=>({min:0,max:0}),Ar=()=>({x:ST(),y:ST()});function ys(e){return[e("x"),e("y")]}function rw(e){return e===void 0||e===1}function U4({scale:e,scaleX:t,scaleY:n}){return!rw(e)||!rw(t)||!rw(n)}function Gc(e){return U4(e)||_9(e)||e.z||e.rotate||e.rotateX||e.rotateY||e.skewX||e.skewY}function _9(e){return AT(e.x)||AT(e.y)}function AT(e){return e&&e!=="0%"}function ey(e,t,n){const r=e-n,i=t*r;return n+i}function PT(e,t,n,r,i){return i!==void 0&&(e=ey(e,i,r)),ey(e,n,r)+t}function W4(e,t=0,n=1,r,i){e.min=PT(e.min,t,n,r,i),e.max=PT(e.max,t,n,r,i)}function S9(e,{x:t,y:n}){W4(e.x,t.translate,t.scale,t.originPoint),W4(e.y,n.translate,n.scale,n.originPoint)}const ET=.999999999999,NT=1.0000000000001;function Vre(e,t,n,r=!1){const i=n.length;if(!i)return;t.x=t.y=1;let a,s;for(let o=0;o<i;o++){a=n[o],s=a.projectionDelta;const{visualElement:l}=a.options;l&&l.props.style&&l.props.style.display==="contents"||(r&&a.options.layoutScroll&&a.scroll&&a!==a.root&&If(e,{x:-a.scroll.offset.x,y:-a.scroll.offset.y}),s&&(t.x*=s.x.scale,t.y*=s.y.scale,S9(e,s)),r&&Gc(a.latestValues)&&If(e,a.latestValues))}t.x<NT&&t.x>ET&&(t.x=1),t.y<NT&&t.y>ET&&(t.y=1)}function jf(e,t){e.min=e.min+t,e.max=e.max+t}function kT(e,t,n,r,i=.5){const a=er(e.min,e.max,i);W4(e,t,n,a,r)}function If(e,t){kT(e.x,t.x,t.scaleX,t.scale,t.originX),kT(e.y,t.y,t.scaleY,t.scale,t.originY)}function A9(e,t){return x9(Ore(e.getBoundingClientRect(),t))}function zre(e,t,n){const r=A9(e,n),{scroll:i}=t;return i&&(jf(r.x,i.offset.x),jf(r.y,i.offset.y)),r}const P9=({current:e})=>e?e.ownerDocument.defaultView:null,TT=(e,t)=>Math.abs(e-t);function $re(e,t){const n=TT(e.x,t.x),r=TT(e.y,t.y);return Math.sqrt(n**2+r**2)}class E9{constructor(t,n,{transformPagePoint:r,contextWindow:i,dragSnapToOrigin:a=!1}={}){if(this.startEvent=null,this.lastMoveEvent=null,this.lastMoveEventInfo=null,this.handlers={},this.contextWindow=window,this.updatePoint=()=>{if(!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const d=aw(this.lastMoveEventInfo,this.history),p=this.startEvent!==null,f=$re(d.offset,{x:0,y:0})>=3;if(!p&&!f)return;const{point:g}=d,{timestamp:v}=bi;this.history.push({...g,timestamp:v});const{onStart:b,onMove:x}=this.handlers;p||(b&&b(this.lastMoveEvent,d),this.startEvent=this.lastMoveEvent),x&&x(this.lastMoveEvent,d)},this.handlePointerMove=(d,p)=>{this.lastMoveEvent=d,this.lastMoveEventInfo=iw(p,this.transformPagePoint),nr.update(this.updatePoint,!0)},this.handlePointerUp=(d,p)=>{this.end();const{onEnd:f,onSessionEnd:g,resumeAnimation:v}=this.handlers;if(this.dragSnapToOrigin&&v&&v(),!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const b=aw(d.type==="pointercancel"?this.lastMoveEventInfo:iw(p,this.transformPagePoint),this.history);this.startEvent&&f&&f(d,b),g&&g(d,b)},!xA(t))return;this.dragSnapToOrigin=a,this.handlers=n,this.transformPagePoint=r,this.contextWindow=i||window;const s=V0(t),o=iw(s,this.transformPagePoint),{point:l}=o,{timestamp:u}=bi;this.history=[{...l,timestamp:u}];const{onSessionStart:c}=n;c&&c(t,aw(o,this.history)),this.removeListeners=D0(dm(this.contextWindow,"pointermove",this.handlePointerMove),dm(this.contextWindow,"pointerup",this.handlePointerUp),dm(this.contextWindow,"pointercancel",this.handlePointerUp))}updateHandlers(t){this.handlers=t}end(){this.removeListeners&&this.removeListeners(),uc(this.updatePoint)}}function iw(e,t){return t?{point:t(e.point)}:e}function CT(e,t){return{x:e.x-t.x,y:e.y-t.y}}function aw({point:e},t){return{point:e,delta:CT(e,N9(t)),offset:CT(e,Ure(t)),velocity:Wre(t,.1)}}function Ure(e){return e[0]}function N9(e){return e[e.length-1]}function Wre(e,t){if(e.length<2)return{x:0,y:0};let n=e.length-1,r=null;const i=N9(e);for(;n>=0&&(r=e[n],!(i.timestamp-r.timestamp>Ho(t)));)n--;if(!r)return{x:0,y:0};const a=Ko(i.timestamp-r.timestamp);if(a===0)return{x:0,y:0};const s={x:(i.x-r.x)/a,y:(i.y-r.y)/a};return s.x===1/0&&(s.x=0),s.y===1/0&&(s.y=0),s}function qre(e,{min:t,max:n},r){return t!==void 0&&e<t?e=r?er(t,e,r.min):Math.max(e,t):n!==void 0&&e>n&&(e=r?er(n,e,r.max):Math.min(e,n)),e}function jT(e,t,n){return{min:t!==void 0?e.min+t:void 0,max:n!==void 0?e.max+n-(e.max-e.min):void 0}}function Hre(e,{top:t,left:n,bottom:r,right:i}){return{x:jT(e.x,n,i),y:jT(e.y,t,r)}}function IT(e,t){let n=t.min-e.min,r=t.max-e.max;return t.max-t.min<e.max-e.min&&([n,r]=[r,n]),{min:n,max:r}}function Kre(e,t){return{x:IT(e.x,t.x),y:IT(e.y,t.y)}}function Gre(e,t){let n=.5;const r=aa(e),i=aa(t);return i>r?n=Hm(t.min,t.max-r,e.min):r>i&&(n=Hm(e.min,e.max-i,t.min)),Bl(0,1,n)}function Yre(e,t){const n={};return t.min!==void 0&&(n.min=t.min-e.min),t.max!==void 0&&(n.max=t.max-e.min),n}const q4=.35;function Xre(e=q4){return e===!1?e=0:e===!0&&(e=q4),{x:OT(e,"left","right"),y:OT(e,"top","bottom")}}function OT(e,t,n){return{min:LT(e,t),max:LT(e,n)}}function LT(e,t){return typeof e=="number"?e:e[t]||0}const Qre=new WeakMap;class Zre{constructor(t){this.openDragLock=null,this.isDragging=!1,this.currentDirection=null,this.originPoint={x:0,y:0},this.constraints=!1,this.hasMutatedConstraints=!1,this.elastic=Ar(),this.visualElement=t}start(t,{snapToCursor:n=!1}={}){const{presenceContext:r}=this.visualElement;if(r&&r.isPresent===!1)return;const i=c=>{const{dragSnapToOrigin:d}=this.getProps();d?this.pauseAnimation():this.stopAnimation(),n&&this.snapToCursor(V0(c).point)},a=(c,d)=>{const{drag:p,dragPropagation:f,onDragStart:g}=this.getProps();if(p&&!f&&(this.openDragLock&&this.openDragLock(),this.openDragLock=mne(p),!this.openDragLock))return;this.isDragging=!0,this.currentDirection=null,this.resolveConstraints(),this.visualElement.projection&&(this.visualElement.projection.isAnimationBlocked=!0,this.visualElement.projection.target=void 0),ys(b=>{let x=this.getAxisMotionValue(b).get()||0;if(Go.test(x)){const{projection:w}=this.visualElement;if(w&&w.layout){const A=w.layout.layoutBox[b];A&&(x=aa(A)*(parseFloat(x)/100))}}this.originPoint[b]=x}),g&&nr.postRender(()=>g(c,d)),z4(this.visualElement,"transform");const{animationState:v}=this.visualElement;v&&v.setActive("whileDrag",!0)},s=(c,d)=>{const{dragPropagation:p,dragDirectionLock:f,onDirectionLock:g,onDrag:v}=this.getProps();if(!p&&!this.openDragLock)return;const{offset:b}=d;if(f&&this.currentDirection===null){this.currentDirection=Jre(b),this.currentDirection!==null&&g&&g(this.currentDirection);return}this.updateAxis("x",d.point,b),this.updateAxis("y",d.point,b),this.visualElement.render(),v&&v(c,d)},o=(c,d)=>this.stop(c,d),l=()=>ys(c=>{var d;return this.getAnimationState(c)==="paused"&&((d=this.getAxisMotionValue(c).animation)==null?void 0:d.play())}),{dragSnapToOrigin:u}=this.getProps();this.panSession=new E9(t,{onSessionStart:i,onStart:a,onMove:s,onSessionEnd:o,resumeAnimation:l},{transformPagePoint:this.visualElement.getTransformPagePoint(),dragSnapToOrigin:u,contextWindow:P9(this.visualElement)})}stop(t,n){const r=this.isDragging;if(this.cancel(),!r)return;const{velocity:i}=n;this.startAnimation(i);const{onDragEnd:a}=this.getProps();a&&nr.postRender(()=>a(t,n))}cancel(){this.isDragging=!1;const{projection:t,animationState:n}=this.visualElement;t&&(t.isAnimationBlocked=!1),this.panSession&&this.panSession.end(),this.panSession=void 0;const{dragPropagation:r}=this.getProps();!r&&this.openDragLock&&(this.openDragLock(),this.openDragLock=null),n&&n.setActive("whileDrag",!1)}updateAxis(t,n,r){const{drag:i}=this.getProps();if(!r||!e1(t,i,this.currentDirection))return;const a=this.getAxisMotionValue(t);let s=this.originPoint[t]+r[t];this.constraints&&this.constraints[t]&&(s=qre(s,this.constraints[t],this.elastic[t])),a.set(s)}resolveConstraints(){var a;const{dragConstraints:t,dragElastic:n}=this.getProps(),r=this.visualElement.projection&&!this.visualElement.projection.layout?this.visualElement.projection.measure(!1):(a=this.visualElement.projection)==null?void 0:a.layout,i=this.constraints;t&&Tf(t)?this.constraints||(this.constraints=this.resolveRefConstraints()):t&&r?this.constraints=Hre(r.layoutBox,t):this.constraints=!1,this.elastic=Xre(n),i!==this.constraints&&r&&this.constraints&&!this.hasMutatedConstraints&&ys(s=>{this.constraints!==!1&&this.getAxisMotionValue(s)&&(this.constraints[s]=Yre(r.layoutBox[s],this.constraints[s]))})}resolveRefConstraints(){const{dragConstraints:t,onMeasureDragConstraints:n}=this.getProps();if(!t||!Tf(t))return!1;const r=t.current,{projection:i}=this.visualElement;if(!i||!i.layout)return!1;const a=zre(r,i.root,this.visualElement.getTransformPagePoint());let s=Kre(i.layout.layoutBox,a);if(n){const o=n(Ire(s));this.hasMutatedConstraints=!!o,o&&(s=x9(o))}return s}startAnimation(t){const{drag:n,dragMomentum:r,dragElastic:i,dragTransition:a,dragSnapToOrigin:s,onDragTransitionEnd:o}=this.getProps(),l=this.constraints||{},u=ys(c=>{if(!e1(c,n,this.currentDirection))return;let d=l&&l[c]||{};s&&(d={min:0,max:0});const p=i?200:1e6,f=i?40:1e7,g={type:"inertia",velocity:r?t[c]:0,bounceStiffness:p,bounceDamping:f,timeConstant:750,restDelta:1,restSpeed:10,...a,...d};return this.startAxisValueAnimation(c,g)});return Promise.all(u).then(o)}startAxisValueAnimation(t,n){const r=this.getAxisMotionValue(t);return z4(this.visualElement,t),r.start(kA(t,r,0,n,this.visualElement,!1))}stopAnimation(){ys(t=>this.getAxisMotionValue(t).stop())}pauseAnimation(){ys(t=>{var n;return(n=this.getAxisMotionValue(t).animation)==null?void 0:n.pause()})}getAnimationState(t){var n;return(n=this.getAxisMotionValue(t).animation)==null?void 0:n.state}getAxisMotionValue(t){const n=`_drag${t.toUpperCase()}`,r=this.visualElement.getProps(),i=r[n];return i||this.visualElement.getValue(t,(r.initial?r.initial[t]:void 0)||0)}snapToCursor(t){ys(n=>{const{drag:r}=this.getProps();if(!e1(n,r,this.currentDirection))return;const{projection:i}=this.visualElement,a=this.getAxisMotionValue(n);if(i&&i.layout){const{min:s,max:o}=i.layout.layoutBox[n];a.set(t[n]-er(s,o,.5))}})}scalePositionWithinConstraints(){if(!this.visualElement.current)return;const{drag:t,dragConstraints:n}=this.getProps(),{projection:r}=this.visualElement;if(!Tf(n)||!r||!this.constraints)return;this.stopAnimation();const i={x:0,y:0};ys(s=>{const o=this.getAxisMotionValue(s);if(o&&this.constraints!==!1){const l=o.get();i[s]=Gre({min:l,max:l},this.constraints[s])}});const{transformTemplate:a}=this.visualElement.getProps();this.visualElement.current.style.transform=a?a({},""):"none",r.root&&r.root.updateScroll(),r.updateLayout(),this.resolveConstraints(),ys(s=>{if(!e1(s,t,null))return;const o=this.getAxisMotionValue(s),{min:l,max:u}=this.constraints[s];o.set(er(l,u,i[s]))})}addListeners(){if(!this.visualElement.current)return;Qre.set(this.visualElement,this);const t=this.visualElement.current,n=dm(t,"pointerdown",l=>{const{drag:u,dragListener:c=!0}=this.getProps();u&&c&&this.start(l)}),r=()=>{const{dragConstraints:l}=this.getProps();Tf(l)&&l.current&&(this.constraints=this.resolveRefConstraints())},{projection:i}=this.visualElement,a=i.addEventListener("measure",r);i&&!i.layout&&(i.root&&i.root.updateScroll(),i.updateLayout()),nr.read(r);const s=Zm(window,"resize",()=>this.scalePositionWithinConstraints()),o=i.addEventListener("didUpdate",({delta:l,hasLayoutChanged:u})=>{this.isDragging&&u&&(ys(c=>{const d=this.getAxisMotionValue(c);d&&(this.originPoint[c]+=l[c].translate,d.set(d.get()+l[c].translate))}),this.visualElement.render())});return()=>{s(),n(),a(),o&&o()}}getProps(){const t=this.visualElement.getProps(),{drag:n=!1,dragDirectionLock:r=!1,dragPropagation:i=!1,dragConstraints:a=!1,dragElastic:s=q4,dragMomentum:o=!0}=t;return{...t,drag:n,dragDirectionLock:r,dragPropagation:i,dragConstraints:a,dragElastic:s,dragMomentum:o}}}function e1(e,t,n){return(t===!0||t===e)&&(n===null||n===e)}function Jre(e,t=10){let n=null;return Math.abs(e.y)>t?n="y":Math.abs(e.x)>t&&(n="x"),n}class eie extends bc{constructor(t){super(t),this.removeGroupControls=Ps,this.removeListeners=Ps,this.controls=new Zre(t)}mount(){const{dragControls:t}=this.node.getProps();t&&(this.removeGroupControls=t.subscribe(this.controls)),this.removeListeners=this.controls.addListeners()||Ps}unmount(){this.removeGroupControls(),this.removeListeners()}}const RT=e=>(t,n)=>{e&&nr.postRender(()=>e(t,n))};class tie extends bc{constructor(){super(...arguments),this.removePointerDownListener=Ps}onPointerDown(t){this.session=new E9(t,this.createPanHandlers(),{transformPagePoint:this.node.getTransformPagePoint(),contextWindow:P9(this.node)})}createPanHandlers(){const{onPanSessionStart:t,onPanStart:n,onPan:r,onPanEnd:i}=this.node.getProps();return{onSessionStart:RT(t),onStart:RT(n),onMove:r,onEnd:(a,s)=>{delete this.session,i&&nr.postRender(()=>i(a,s))}}}mount(){this.removePointerDownListener=dm(this.node.current,"pointerdown",t=>this.onPointerDown(t))}update(){this.session&&this.session.updateHandlers(this.createPanHandlers())}unmount(){this.removePointerDownListener(),this.session&&this.session.end()}}const Y1={hasAnimatedSinceResize:!0,hasEverUpdated:!1};function MT(e,t){return t.max===t.min?0:e/(t.max-t.min)*100}const Pp={correct:(e,t)=>{if(!t.target)return e;if(typeof e=="string")if(yt.test(e))e=parseFloat(e);else return e;const n=MT(e,t.target.x),r=MT(e,t.target.y);return`${n}% ${r}%`}},nie={correct:(e,{treeScale:t,projectionDelta:n})=>{const r=e,i=cc.parse(e);if(i.length>5)return r;const a=cc.createTransformer(e),s=typeof i[0]!="number"?1:0,o=n.x.scale*t.x,l=n.y.scale*t.y;i[0+s]/=o,i[1+s]/=l;const u=er(o,l,.5);return typeof i[2+s]=="number"&&(i[2+s]/=u),typeof i[3+s]=="number"&&(i[3+s]/=u),a(i)}};class rie extends S.Component{componentDidMount(){const{visualElement:t,layoutGroup:n,switchLayoutGroup:r,layoutId:i}=this.props,{projection:a}=t;zne(iie),a&&(n.group&&n.group.add(a),r&&r.register&&i&&r.register(a),a.root.didUpdate(),a.addEventListener("animationComplete",()=>{this.safeToRemove()}),a.setOptions({...a.options,onExitComplete:()=>this.safeToRemove()})),Y1.hasEverUpdated=!0}getSnapshotBeforeUpdate(t){const{layoutDependency:n,visualElement:r,drag:i,isPresent:a}=this.props,{projection:s}=r;return s&&(s.isPresent=a,i||t.layoutDependency!==n||n===void 0||t.isPresent!==a?s.willUpdate():this.safeToRemove(),t.isPresent!==a&&(a?s.promote():s.relegate()||nr.postRender(()=>{const o=s.getStack();(!o||!o.members.length)&&this.safeToRemove()}))),null}componentDidUpdate(){const{projection:t}=this.props.visualElement;t&&(t.root.didUpdate(),yA.postRender(()=>{!t.currentAnimation&&t.isLead()&&this.safeToRemove()}))}componentWillUnmount(){const{visualElement:t,layoutGroup:n,switchLayoutGroup:r}=this.props,{projection:i}=t;i&&(i.scheduleCheckAfterUnmount(),n&&n.group&&n.group.remove(i),r&&r.deregister&&r.deregister(i))}safeToRemove(){const{safeToRemove:t}=this.props;t&&t()}render(){return null}}function k9(e){const[t,n]=Ane(),r=S.useContext(cD);return h.jsx(rie,{...e,layoutGroup:r,switchLayoutGroup:S.useContext(s9),isPresent:t,safeToRemove:n})}const iie={borderRadius:{...Pp,applyTo:["borderTopLeftRadius","borderTopRightRadius","borderBottomLeftRadius","borderBottomRightRadius"]},borderTopLeftRadius:Pp,borderTopRightRadius:Pp,borderBottomLeftRadius:Pp,borderBottomRightRadius:Pp,boxShadow:nie};function aie(e,t,n){const r=Hi(e)?e:hh(e);return r.start(kA("",r,t,n)),r.animation}const sie=(e,t)=>e.depth-t.depth;class oie{constructor(){this.children=[],this.isDirty=!1}add(t){JS(this.children,t),this.isDirty=!0}remove(t){eA(this.children,t),this.isDirty=!0}forEach(t){this.isDirty&&this.children.sort(sie),this.isDirty=!1,this.children.forEach(t)}}function lie(e,t){const n=Aa.now(),r=({timestamp:i})=>{const a=i-n;a>=t&&(uc(r),e(a-t))};return nr.setup(r,!0),()=>uc(r)}const T9=["TopLeft","TopRight","BottomLeft","BottomRight"],uie=T9.length,DT=e=>typeof e=="string"?parseFloat(e):e,FT=e=>typeof e=="number"||yt.test(e);function cie(e,t,n,r,i,a){i?(e.opacity=er(0,n.opacity??1,die(r)),e.opacityExit=er(t.opacity??1,0,fie(r))):a&&(e.opacity=er(t.opacity??1,n.opacity??1,r));for(let s=0;s<uie;s++){const o=`border${T9[s]}Radius`;let l=BT(t,o),u=BT(n,o);if(l===void 0&&u===void 0)continue;l||(l=0),u||(u=0),l===0||u===0||FT(l)===FT(u)?(e[o]=Math.max(er(DT(l),DT(u),r),0),(Go.test(u)||Go.test(l))&&(e[o]+="%")):e[o]=u}(t.rotate||n.rotate)&&(e.rotate=er(t.rotate||0,n.rotate||0,r))}function BT(e,t){return e[t]!==void 0?e[t]:e.borderRadius}const die=C9(0,.5,wD),fie=C9(.5,.95,Ps);function C9(e,t,n){return r=>r<e?0:r>t?1:n(Hm(e,t,r))}function VT(e,t){e.min=t.min,e.max=t.max}function ps(e,t){VT(e.x,t.x),VT(e.y,t.y)}function zT(e,t){e.translate=t.translate,e.scale=t.scale,e.originPoint=t.originPoint,e.origin=t.origin}function $T(e,t,n,r,i){return e-=t,e=ey(e,1/n,r),i!==void 0&&(e=ey(e,1/i,r)),e}function hie(e,t=0,n=1,r=.5,i,a=e,s=e){if(Go.test(t)&&(t=parseFloat(t),t=er(s.min,s.max,t/100)-s.min),typeof t!="number")return;let o=er(a.min,a.max,r);e===a&&(o-=t),e.min=$T(e.min,t,n,o,i),e.max=$T(e.max,t,n,o,i)}function UT(e,t,[n,r,i],a,s){hie(e,t[n],t[r],t[i],t.scale,a,s)}const pie=["x","scaleX","originX"],mie=["y","scaleY","originY"];function WT(e,t,n,r){UT(e.x,t,pie,n?n.x:void 0,r?r.x:void 0),UT(e.y,t,mie,n?n.y:void 0,r?r.y:void 0)}function qT(e){return e.translate===0&&e.scale===1}function j9(e){return qT(e.x)&&qT(e.y)}function HT(e,t){return e.min===t.min&&e.max===t.max}function gie(e,t){return HT(e.x,t.x)&&HT(e.y,t.y)}function KT(e,t){return Math.round(e.min)===Math.round(t.min)&&Math.round(e.max)===Math.round(t.max)}function I9(e,t){return KT(e.x,t.x)&&KT(e.y,t.y)}function GT(e){return aa(e.x)/aa(e.y)}function YT(e,t){return e.translate===t.translate&&e.scale===t.scale&&e.originPoint===t.originPoint}class vie{constructor(){this.members=[]}add(t){JS(this.members,t),t.scheduleRender()}remove(t){if(eA(this.members,t),t===this.prevLead&&(this.prevLead=void 0),t===this.lead){const n=this.members[this.members.length-1];n&&this.promote(n)}}relegate(t){const n=this.members.findIndex(i=>t===i);if(n===0)return!1;let r;for(let i=n;i>=0;i--){const a=this.members[i];if(a.isPresent!==!1){r=a;break}}return r?(this.promote(r),!0):!1}promote(t,n){const r=this.lead;if(t!==r&&(this.prevLead=r,this.lead=t,t.show(),r)){r.instance&&r.scheduleRender(),t.scheduleRender(),t.resumeFrom=r,n&&(t.resumeFrom.preserveOpacity=!0),r.snapshot&&(t.snapshot=r.snapshot,t.snapshot.latestValues=r.animationValues||r.latestValues),t.root&&t.root.isUpdating&&(t.isLayoutDirty=!0);const{crossfade:i}=t.options;i===!1&&r.hide()}}exitAnimationComplete(){this.members.forEach(t=>{const{options:n,resumingFrom:r}=t;n.onExitComplete&&n.onExitComplete(),r&&r.options.onExitComplete&&r.options.onExitComplete()})}scheduleRender(){this.members.forEach(t=>{t.instance&&t.scheduleRender(!1)})}removeLeadSnapshot(){this.lead&&this.lead.snapshot&&(this.lead.snapshot=void 0)}}function yie(e,t,n){let r="";const i=e.x.translate/t.x,a=e.y.translate/t.y,s=(n==null?void 0:n.z)||0;if((i||a||s)&&(r=`translate3d(${i}px, ${a}px, ${s}px) `),(t.x!==1||t.y!==1)&&(r+=`scale(${1/t.x}, ${1/t.y}) `),n){const{transformPerspective:u,rotate:c,rotateX:d,rotateY:p,skewX:f,skewY:g}=n;u&&(r=`perspective(${u}px) ${r}`),c&&(r+=`rotate(${c}deg) `),d&&(r+=`rotateX(${d}deg) `),p&&(r+=`rotateY(${p}deg) `),f&&(r+=`skewX(${f}deg) `),g&&(r+=`skewY(${g}deg) `)}const o=e.x.scale*t.x,l=e.y.scale*t.y;return(o!==1||l!==1)&&(r+=`scale(${o}, ${l})`),r||"none"}const sw=["","X","Y","Z"],xie={visibility:"hidden"},bie=1e3;let wie=0;function ow(e,t,n,r){const{latestValues:i}=t;i[e]&&(n[e]=i[e],t.setStaticValue(e,0),r&&(r[e]=0))}function O9(e){if(e.hasCheckedOptimisedAppear=!0,e.root===e)return;const{visualElement:t}=e.options;if(!t)return;const n=m9(t);if(window.MotionHasOptimisedAnimation(n,"transform")){const{layout:i,layoutId:a}=e.options;window.MotionCancelOptimisedAnimation(n,"transform",nr,!(i||a))}const{parent:r}=e;r&&!r.hasCheckedOptimisedAppear&&O9(r)}function L9({attachResizeListener:e,defaultParent:t,measureScroll:n,checkIsScrollRoot:r,resetTransform:i}){return class{constructor(s={},o=t==null?void 0:t()){this.id=wie++,this.animationId=0,this.children=new Set,this.options={},this.isTreeAnimating=!1,this.isAnimationBlocked=!1,this.isLayoutDirty=!1,this.isProjectionDirty=!1,this.isSharedProjectionDirty=!1,this.isTransformDirty=!1,this.updateManuallyBlocked=!1,this.updateBlockedByResize=!1,this.isUpdating=!1,this.isSVG=!1,this.needsReset=!1,this.shouldResetTransform=!1,this.hasCheckedOptimisedAppear=!1,this.treeScale={x:1,y:1},this.eventHandlers=new Map,this.hasTreeAnimated=!1,this.updateScheduled=!1,this.scheduleUpdate=()=>this.update(),this.projectionUpdateScheduled=!1,this.checkUpdateFailed=()=>{this.isUpdating&&(this.isUpdating=!1,this.clearAllSnapshots())},this.updateProjection=()=>{this.projectionUpdateScheduled=!1,this.nodes.forEach(Aie),this.nodes.forEach(Tie),this.nodes.forEach(Cie),this.nodes.forEach(Pie)},this.resolvedRelativeTargetAt=0,this.hasProjected=!1,this.isVisible=!0,this.animationProgress=0,this.sharedNodes=new Map,this.latestValues=s,this.root=o?o.root||o:this,this.path=o?[...o.path,o]:[],this.parent=o,this.depth=o?o.depth+1:0;for(let l=0;l<this.path.length;l++)this.path[l].shouldResetTransform=!0;this.root===this&&(this.nodes=new oie)}addEventListener(s,o){return this.eventHandlers.has(s)||this.eventHandlers.set(s,new rA),this.eventHandlers.get(s).add(o)}notifyListeners(s,...o){const l=this.eventHandlers.get(s);l&&l.notify(...o)}hasListeners(s){return this.eventHandlers.has(s)}mount(s){if(this.instance)return;this.isSVG=e9(s)&&!wne(s),this.instance=s;const{layoutId:o,layout:l,visualElement:u}=this.options;if(u&&!u.current&&u.mount(s),this.root.nodes.add(this),this.parent&&this.parent.children.add(this),this.root.hasTreeAnimated&&(l||o)&&(this.isLayoutDirty=!0),e){let c;const d=()=>this.root.updateBlockedByResize=!1;e(s,()=>{this.root.updateBlockedByResize=!0,c&&c(),c=lie(d,250),Y1.hasAnimatedSinceResize&&(Y1.hasAnimatedSinceResize=!1,this.nodes.forEach(QT))})}o&&this.root.registerSharedNode(o,this),this.options.animate!==!1&&u&&(o||l)&&this.addEventListener("didUpdate",({delta:c,hasLayoutChanged:d,hasRelativeLayoutChanged:p,layout:f})=>{if(this.isTreeAnimationBlocked()){this.target=void 0,this.relativeTarget=void 0;return}const g=this.options.transition||u.getDefaultTransition()||Rie,{onLayoutAnimationStart:v,onLayoutAnimationComplete:b}=u.getProps(),x=!this.targetLayout||!I9(this.targetLayout,f),w=!d&&p;if(this.options.layoutRoot||this.resumeFrom||w||d&&(x||!this.currentAnimation)){this.resumeFrom&&(this.resumingFrom=this.resumeFrom,this.resumingFrom.resumingFrom=void 0);const A={...gA(g,"layout"),onPlay:v,onComplete:b};(u.shouldReduceMotion||this.options.layoutRoot)&&(A.delay=0,A.type=!1),this.startAnimation(A),this.setAnimationOrigin(c,w)}else d||QT(this),this.isLead()&&this.options.onExitComplete&&this.options.onExitComplete();this.targetLayout=f})}unmount(){this.options.layoutId&&this.willUpdate(),this.root.nodes.remove(this);const s=this.getStack();s&&s.remove(this),this.parent&&this.parent.children.delete(this),this.instance=void 0,this.eventHandlers.clear(),uc(this.updateProjection)}blockUpdate(){this.updateManuallyBlocked=!0}unblockUpdate(){this.updateManuallyBlocked=!1}isUpdateBlocked(){return this.updateManuallyBlocked||this.updateBlockedByResize}isTreeAnimationBlocked(){return this.isAnimationBlocked||this.parent&&this.parent.isTreeAnimationBlocked()||!1}startUpdate(){this.isUpdateBlocked()||(this.isUpdating=!0,this.nodes&&this.nodes.forEach(jie),this.animationId++)}getTransformTemplate(){const{visualElement:s}=this.options;return s&&s.getProps().transformTemplate}willUpdate(s=!0){if(this.root.hasTreeAnimated=!0,this.root.isUpdateBlocked()){this.options.onExitComplete&&this.options.onExitComplete();return}if(window.MotionCancelOptimisedAnimation&&!this.hasCheckedOptimisedAppear&&O9(this),!this.root.isUpdating&&this.root.startUpdate(),this.isLayoutDirty)return;this.isLayoutDirty=!0;for(let c=0;c<this.path.length;c++){const d=this.path[c];d.shouldResetTransform=!0,d.updateScroll("snapshot"),d.options.layoutRoot&&d.willUpdate(!1)}const{layoutId:o,layout:l}=this.options;if(o===void 0&&!l)return;const u=this.getTransformTemplate();this.prevTransformTemplateValue=u?u(this.latestValues,""):void 0,this.updateSnapshot(),s&&this.notifyListeners("willUpdate")}update(){if(this.updateScheduled=!1,this.isUpdateBlocked()){this.unblockUpdate(),this.clearAllSnapshots(),this.nodes.forEach(XT);return}this.isUpdating||this.nodes.forEach(Nie),this.isUpdating=!1,this.nodes.forEach(kie),this.nodes.forEach(_ie),this.nodes.forEach(Sie),this.clearAllSnapshots();const o=Aa.now();bi.delta=Bl(0,1e3/60,o-bi.timestamp),bi.timestamp=o,bi.isProcessing=!0,Qb.update.process(bi),Qb.preRender.process(bi),Qb.render.process(bi),bi.isProcessing=!1}didUpdate(){this.updateScheduled||(this.updateScheduled=!0,yA.read(this.scheduleUpdate))}clearAllSnapshots(){this.nodes.forEach(Eie),this.sharedNodes.forEach(Iie)}scheduleUpdateProjection(){this.projectionUpdateScheduled||(this.projectionUpdateScheduled=!0,nr.preRender(this.updateProjection,!1,!0))}scheduleCheckAfterUnmount(){nr.postRender(()=>{this.isLayoutDirty?this.root.didUpdate():this.root.checkUpdateFailed()})}updateSnapshot(){this.snapshot||!this.instance||(this.snapshot=this.measure(),this.snapshot&&!aa(this.snapshot.measuredBox.x)&&!aa(this.snapshot.measuredBox.y)&&(this.snapshot=void 0))}updateLayout(){if(!this.instance||(this.updateScroll(),!(this.options.alwaysMeasureLayout&&this.isLead())&&!this.isLayoutDirty))return;if(this.resumeFrom&&!this.resumeFrom.instance)for(let l=0;l<this.path.length;l++)this.path[l].updateScroll();const s=this.layout;this.layout=this.measure(!1),this.layoutCorrected=Ar(),this.isLayoutDirty=!1,this.projectionDelta=void 0,this.notifyListeners("measure",this.layout.layoutBox);const{visualElement:o}=this.options;o&&o.notify("LayoutMeasure",this.layout.layoutBox,s?s.layoutBox:void 0)}updateScroll(s="measure"){let o=!!(this.options.layoutScroll&&this.instance);if(this.scroll&&this.scroll.animationId===this.root.animationId&&this.scroll.phase===s&&(o=!1),o&&this.instance){const l=r(this.instance);this.scroll={animationId:this.root.animationId,phase:s,isRoot:l,offset:n(this.instance),wasRoot:this.scroll?this.scroll.isRoot:l}}}resetTransform(){if(!i)return;const s=this.isLayoutDirty||this.shouldResetTransform||this.options.alwaysMeasureLayout,o=this.projectionDelta&&!j9(this.projectionDelta),l=this.getTransformTemplate(),u=l?l(this.latestValues,""):void 0,c=u!==this.prevTransformTemplateValue;s&&this.instance&&(o||Gc(this.latestValues)||c)&&(i(this.instance,u),this.shouldResetTransform=!1,this.scheduleRender())}measure(s=!0){const o=this.measurePageBox();let l=this.removeElementScroll(o);return s&&(l=this.removeTransform(l)),Mie(l),{animationId:this.root.animationId,measuredBox:o,layoutBox:l,latestValues:{},source:this.id}}measurePageBox(){var u;const{visualElement:s}=this.options;if(!s)return Ar();const o=s.measureViewportBox();if(!(((u=this.scroll)==null?void 0:u.wasRoot)||this.path.some(Die))){const{scroll:c}=this.root;c&&(jf(o.x,c.offset.x),jf(o.y,c.offset.y))}return o}removeElementScroll(s){var l;const o=Ar();if(ps(o,s),(l=this.scroll)!=null&&l.wasRoot)return o;for(let u=0;u<this.path.length;u++){const c=this.path[u],{scroll:d,options:p}=c;c!==this.root&&d&&p.layoutScroll&&(d.wasRoot&&ps(o,s),jf(o.x,d.offset.x),jf(o.y,d.offset.y))}return o}applyTransform(s,o=!1){const l=Ar();ps(l,s);for(let u=0;u<this.path.length;u++){const c=this.path[u];!o&&c.options.layoutScroll&&c.scroll&&c!==c.root&&If(l,{x:-c.scroll.offset.x,y:-c.scroll.offset.y}),Gc(c.latestValues)&&If(l,c.latestValues)}return Gc(this.latestValues)&&If(l,this.latestValues),l}removeTransform(s){const o=Ar();ps(o,s);for(let l=0;l<this.path.length;l++){const u=this.path[l];if(!u.instance||!Gc(u.latestValues))continue;U4(u.latestValues)&&u.updateSnapshot();const c=Ar(),d=u.measurePageBox();ps(c,d),WT(o,u.latestValues,u.snapshot?u.snapshot.layoutBox:void 0,c)}return Gc(this.latestValues)&&WT(o,this.latestValues),o}setTargetDelta(s){this.targetDelta=s,this.root.scheduleUpdateProjection(),this.isProjectionDirty=!0}setOptions(s){this.options={...this.options,...s,crossfade:s.crossfade!==void 0?s.crossfade:!0}}clearMeasurements(){this.scroll=void 0,this.layout=void 0,this.snapshot=void 0,this.prevTransformTemplateValue=void 0,this.targetDelta=void 0,this.target=void 0,this.isLayoutDirty=!1}forceRelativeParentToResolveTarget(){this.relativeParent&&this.relativeParent.resolvedRelativeTargetAt!==bi.timestamp&&this.relativeParent.resolveTargetDelta(!0)}resolveTargetDelta(s=!1){var p;const o=this.getLead();this.isProjectionDirty||(this.isProjectionDirty=o.isProjectionDirty),this.isTransformDirty||(this.isTransformDirty=o.isTransformDirty),this.isSharedProjectionDirty||(this.isSharedProjectionDirty=o.isSharedProjectionDirty);const l=!!this.resumingFrom||this!==o;if(!(s||l&&this.isSharedProjectionDirty||this.isProjectionDirty||(p=this.parent)!=null&&p.isProjectionDirty||this.attemptToResolveRelativeTarget||this.root.updateBlockedByResize))return;const{layout:c,layoutId:d}=this.options;if(!(!this.layout||!(c||d))){if(this.resolvedRelativeTargetAt=bi.timestamp,!this.targetDelta&&!this.relativeTarget){const f=this.getClosestProjectingParent();f&&f.layout&&this.animationProgress!==1?(this.relativeParent=f,this.forceRelativeParentToResolveTarget(),this.relativeTarget=Ar(),this.relativeTargetOrigin=Ar(),hm(this.relativeTargetOrigin,this.layout.layoutBox,f.layout.layoutBox),ps(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}if(!(!this.relativeTarget&&!this.targetDelta)&&(this.target||(this.target=Ar(),this.targetWithTransforms=Ar()),this.relativeTarget&&this.relativeTargetOrigin&&this.relativeParent&&this.relativeParent.target?(this.forceRelativeParentToResolveTarget(),Bre(this.target,this.relativeTarget,this.relativeParent.target)):this.targetDelta?(this.resumingFrom?this.target=this.applyTransform(this.layout.layoutBox):ps(this.target,this.layout.layoutBox),S9(this.target,this.targetDelta)):ps(this.target,this.layout.layoutBox),this.attemptToResolveRelativeTarget)){this.attemptToResolveRelativeTarget=!1;const f=this.getClosestProjectingParent();f&&!!f.resumingFrom==!!this.resumingFrom&&!f.options.layoutScroll&&f.target&&this.animationProgress!==1?(this.relativeParent=f,this.forceRelativeParentToResolveTarget(),this.relativeTarget=Ar(),this.relativeTargetOrigin=Ar(),hm(this.relativeTargetOrigin,this.target,f.target),ps(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}}}getClosestProjectingParent(){if(!(!this.parent||U4(this.parent.latestValues)||_9(this.parent.latestValues)))return this.parent.isProjecting()?this.parent:this.parent.getClosestProjectingParent()}isProjecting(){return!!((this.relativeTarget||this.targetDelta||this.options.layoutRoot)&&this.layout)}calcProjection(){var g;const s=this.getLead(),o=!!this.resumingFrom||this!==s;let l=!0;if((this.isProjectionDirty||(g=this.parent)!=null&&g.isProjectionDirty)&&(l=!1),o&&(this.isSharedProjectionDirty||this.isTransformDirty)&&(l=!1),this.resolvedRelativeTargetAt===bi.timestamp&&(l=!1),l)return;const{layout:u,layoutId:c}=this.options;if(this.isTreeAnimating=!!(this.parent&&this.parent.isTreeAnimating||this.currentAnimation||this.pendingAnimation),this.isTreeAnimating||(this.targetDelta=this.relativeTarget=void 0),!this.layout||!(u||c))return;ps(this.layoutCorrected,this.layout.layoutBox);const d=this.treeScale.x,p=this.treeScale.y;Vre(this.layoutCorrected,this.treeScale,this.path,o),s.layout&&!s.target&&(this.treeScale.x!==1||this.treeScale.y!==1)&&(s.target=s.layout.layoutBox,s.targetWithTransforms=Ar());const{target:f}=s;if(!f){this.prevProjectionDelta&&(this.createProjectionDeltas(),this.scheduleRender());return}!this.projectionDelta||!this.prevProjectionDelta?this.createProjectionDeltas():(zT(this.prevProjectionDelta.x,this.projectionDelta.x),zT(this.prevProjectionDelta.y,this.projectionDelta.y)),fm(this.projectionDelta,this.layoutCorrected,f,this.latestValues),(this.treeScale.x!==d||this.treeScale.y!==p||!YT(this.projectionDelta.x,this.prevProjectionDelta.x)||!YT(this.projectionDelta.y,this.prevProjectionDelta.y))&&(this.hasProjected=!0,this.scheduleRender(),this.notifyListeners("projectionUpdate",f))}hide(){this.isVisible=!1}show(){this.isVisible=!0}scheduleRender(s=!0){var o;if((o=this.options.visualElement)==null||o.scheduleRender(),s){const l=this.getStack();l&&l.scheduleRender()}this.resumingFrom&&!this.resumingFrom.instance&&(this.resumingFrom=void 0)}createProjectionDeltas(){this.prevProjectionDelta=Cf(),this.projectionDelta=Cf(),this.projectionDeltaWithTransform=Cf()}setAnimationOrigin(s,o=!1){const l=this.snapshot,u=l?l.latestValues:{},c={...this.latestValues},d=Cf();(!this.relativeParent||!this.relativeParent.options.layoutRoot)&&(this.relativeTarget=this.relativeTargetOrigin=void 0),this.attemptToResolveRelativeTarget=!o;const p=Ar(),f=l?l.source:void 0,g=this.layout?this.layout.source:void 0,v=f!==g,b=this.getStack(),x=!b||b.members.length<=1,w=!!(v&&!x&&this.options.crossfade===!0&&!this.path.some(Lie));this.animationProgress=0;let A;this.mixTargetDelta=P=>{const O=P/1e3;ZT(d.x,s.x,O),ZT(d.y,s.y,O),this.setTargetDelta(d),this.relativeTarget&&this.relativeTargetOrigin&&this.layout&&this.relativeParent&&this.relativeParent.layout&&(hm(p,this.layout.layoutBox,this.relativeParent.layout.layoutBox),Oie(this.relativeTarget,this.relativeTargetOrigin,p,O),A&&gie(this.relativeTarget,A)&&(this.isProjectionDirty=!1),A||(A=Ar()),ps(A,this.relativeTarget)),v&&(this.animationValues=c,cie(c,u,this.latestValues,O,w,x)),this.root.scheduleUpdateProjection(),this.scheduleRender(),this.animationProgress=O},this.mixTargetDelta(this.options.layoutRoot?1e3:0)}startAnimation(s){var o,l,u;this.notifyListeners("animationStart"),(o=this.currentAnimation)==null||o.stop(),(u=(l=this.resumingFrom)==null?void 0:l.currentAnimation)==null||u.stop(),this.pendingAnimation&&(uc(this.pendingAnimation),this.pendingAnimation=void 0),this.pendingAnimation=nr.update(()=>{Y1.hasAnimatedSinceResize=!0,this.motionValue||(this.motionValue=hh(0)),this.currentAnimation=aie(this.motionValue,[0,1e3],{...s,velocity:0,isSync:!0,onUpdate:c=>{this.mixTargetDelta(c),s.onUpdate&&s.onUpdate(c)},onStop:()=>{},onComplete:()=>{s.onComplete&&s.onComplete(),this.completeAnimation()}}),this.resumingFrom&&(this.resumingFrom.currentAnimation=this.currentAnimation),this.pendingAnimation=void 0})}completeAnimation(){this.resumingFrom&&(this.resumingFrom.currentAnimation=void 0,this.resumingFrom.preserveOpacity=void 0);const s=this.getStack();s&&s.exitAnimationComplete(),this.resumingFrom=this.currentAnimation=this.animationValues=void 0,this.notifyListeners("animationComplete")}finishAnimation(){this.currentAnimation&&(this.mixTargetDelta&&this.mixTargetDelta(bie),this.currentAnimation.stop()),this.completeAnimation()}applyTransformsToTarget(){const s=this.getLead();let{targetWithTransforms:o,target:l,layout:u,latestValues:c}=s;if(!(!o||!l||!u)){if(this!==s&&this.layout&&u&&R9(this.options.animationType,this.layout.layoutBox,u.layoutBox)){l=this.target||Ar();const d=aa(this.layout.layoutBox.x);l.x.min=s.target.x.min,l.x.max=l.x.min+d;const p=aa(this.layout.layoutBox.y);l.y.min=s.target.y.min,l.y.max=l.y.min+p}ps(o,l),If(o,c),fm(this.projectionDeltaWithTransform,this.layoutCorrected,o,c)}}registerSharedNode(s,o){this.sharedNodes.has(s)||this.sharedNodes.set(s,new vie),this.sharedNodes.get(s).add(o);const u=o.options.initialPromotionConfig;o.promote({transition:u?u.transition:void 0,preserveFollowOpacity:u&&u.shouldPreserveFollowOpacity?u.shouldPreserveFollowOpacity(o):void 0})}isLead(){const s=this.getStack();return s?s.lead===this:!0}getLead(){var o;const{layoutId:s}=this.options;return s?((o=this.getStack())==null?void 0:o.lead)||this:this}getPrevLead(){var o;const{layoutId:s}=this.options;return s?(o=this.getStack())==null?void 0:o.prevLead:void 0}getStack(){const{layoutId:s}=this.options;if(s)return this.root.sharedNodes.get(s)}promote({needsReset:s,transition:o,preserveFollowOpacity:l}={}){const u=this.getStack();u&&u.promote(this,l),s&&(this.projectionDelta=void 0,this.needsReset=!0),o&&this.setOptions({transition:o})}relegate(){const s=this.getStack();return s?s.relegate(this):!1}resetSkewAndRotation(){const{visualElement:s}=this.options;if(!s)return;let o=!1;const{latestValues:l}=s;if((l.z||l.rotate||l.rotateX||l.rotateY||l.rotateZ||l.skewX||l.skewY)&&(o=!0),!o)return;const u={};l.z&&ow("z",s,u,this.animationValues);for(let c=0;c<sw.length;c++)ow(`rotate${sw[c]}`,s,u,this.animationValues),ow(`skew${sw[c]}`,s,u,this.animationValues);s.render();for(const c in u)s.setStaticValue(c,u[c]),this.animationValues&&(this.animationValues[c]=u[c]);s.scheduleRender()}getProjectionStyles(s){if(!this.instance||this.isSVG)return;if(!this.isVisible)return xie;const o={visibility:""},l=this.getTransformTemplate();if(this.needsReset)return this.needsReset=!1,o.opacity="",o.pointerEvents=G1(s==null?void 0:s.pointerEvents)||"",o.transform=l?l(this.latestValues,""):"none",o;const u=this.getLead();if(!this.projectionDelta||!this.layout||!u.target){const f={};return this.options.layoutId&&(f.opacity=this.latestValues.opacity!==void 0?this.latestValues.opacity:1,f.pointerEvents=G1(s==null?void 0:s.pointerEvents)||""),this.hasProjected&&!Gc(this.latestValues)&&(f.transform=l?l({},""):"none",this.hasProjected=!1),f}const c=u.animationValues||u.latestValues;this.applyTransformsToTarget(),o.transform=yie(this.projectionDeltaWithTransform,this.treeScale,c),l&&(o.transform=l(c,o.transform));const{x:d,y:p}=this.projectionDelta;o.transformOrigin=`${d.origin*100}% ${p.origin*100}% 0`,u.animationValues?o.opacity=u===this?c.opacity??this.latestValues.opacity??1:this.preserveOpacity?this.latestValues.opacity:c.opacityExit:o.opacity=u===this?c.opacity!==void 0?c.opacity:"":c.opacityExit!==void 0?c.opacityExit:0;for(const f in Xm){if(c[f]===void 0)continue;const{correct:g,applyTo:v,isCSSVariable:b}=Xm[f],x=o.transform==="none"?c[f]:g(c[f],u);if(v){const w=v.length;for(let A=0;A<w;A++)o[v[A]]=x}else b?this.options.visualElement.renderState.vars[f]=x:o[f]=x}return this.options.layoutId&&(o.pointerEvents=u===this?G1(s==null?void 0:s.pointerEvents)||"":"none"),o}clearSnapshot(){this.resumeFrom=this.snapshot=void 0}resetTree(){this.root.nodes.forEach(s=>{var o;return(o=s.currentAnimation)==null?void 0:o.stop()}),this.root.nodes.forEach(XT),this.root.sharedNodes.clear()}}}function _ie(e){e.updateLayout()}function Sie(e){var n;const t=((n=e.resumeFrom)==null?void 0:n.snapshot)||e.snapshot;if(e.isLead()&&e.layout&&t&&e.hasListeners("didUpdate")){const{layoutBox:r,measuredBox:i}=e.layout,{animationType:a}=e.options,s=t.source!==e.layout.source;a==="size"?ys(d=>{const p=s?t.measuredBox[d]:t.layoutBox[d],f=aa(p);p.min=r[d].min,p.max=p.min+f}):R9(a,t.layoutBox,r)&&ys(d=>{const p=s?t.measuredBox[d]:t.layoutBox[d],f=aa(r[d]);p.max=p.min+f,e.relativeTarget&&!e.currentAnimation&&(e.isProjectionDirty=!0,e.relativeTarget[d].max=e.relativeTarget[d].min+f)});const o=Cf();fm(o,r,t.layoutBox);const l=Cf();s?fm(l,e.applyTransform(i,!0),t.measuredBox):fm(l,r,t.layoutBox);const u=!j9(o);let c=!1;if(!e.resumeFrom){const d=e.getClosestProjectingParent();if(d&&!d.resumeFrom){const{snapshot:p,layout:f}=d;if(p&&f){const g=Ar();hm(g,t.layoutBox,p.layoutBox);const v=Ar();hm(v,r,f.layoutBox),I9(g,v)||(c=!0),d.options.layoutRoot&&(e.relativeTarget=v,e.relativeTargetOrigin=g,e.relativeParent=d)}}}e.notifyListeners("didUpdate",{layout:r,snapshot:t,delta:l,layoutDelta:o,hasLayoutChanged:u,hasRelativeLayoutChanged:c})}else if(e.isLead()){const{onExitComplete:r}=e.options;r&&r()}e.options.transition=void 0}function Aie(e){e.parent&&(e.isProjecting()||(e.isProjectionDirty=e.parent.isProjectionDirty),e.isSharedProjectionDirty||(e.isSharedProjectionDirty=!!(e.isProjectionDirty||e.parent.isProjectionDirty||e.parent.isSharedProjectionDirty)),e.isTransformDirty||(e.isTransformDirty=e.parent.isTransformDirty))}function Pie(e){e.isProjectionDirty=e.isSharedProjectionDirty=e.isTransformDirty=!1}function Eie(e){e.clearSnapshot()}function XT(e){e.clearMeasurements()}function Nie(e){e.isLayoutDirty=!1}function kie(e){const{visualElement:t}=e.options;t&&t.getProps().onBeforeLayoutMeasure&&t.notify("BeforeLayoutMeasure"),e.resetTransform()}function QT(e){e.finishAnimation(),e.targetDelta=e.relativeTarget=e.target=void 0,e.isProjectionDirty=!0}function Tie(e){e.resolveTargetDelta()}function Cie(e){e.calcProjection()}function jie(e){e.resetSkewAndRotation()}function Iie(e){e.removeLeadSnapshot()}function ZT(e,t,n){e.translate=er(t.translate,0,n),e.scale=er(t.scale,1,n),e.origin=t.origin,e.originPoint=t.originPoint}function JT(e,t,n,r){e.min=er(t.min,n.min,r),e.max=er(t.max,n.max,r)}function Oie(e,t,n,r){JT(e.x,t.x,n.x,r),JT(e.y,t.y,n.y,r)}function Lie(e){return e.animationValues&&e.animationValues.opacityExit!==void 0}const Rie={duration:.45,ease:[.4,0,.1,1]},eC=e=>typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().includes(e),tC=eC("applewebkit/")&&!eC("chrome/")?Math.round:Ps;function nC(e){e.min=tC(e.min),e.max=tC(e.max)}function Mie(e){nC(e.x),nC(e.y)}function R9(e,t,n){return e==="position"||e==="preserve-aspect"&&!Fre(GT(t),GT(n),.2)}function Die(e){var t;return e!==e.root&&((t=e.scroll)==null?void 0:t.wasRoot)}const Fie=L9({attachResizeListener:(e,t)=>Zm(e,"resize",t),measureScroll:()=>({x:document.documentElement.scrollLeft||document.body.scrollLeft,y:document.documentElement.scrollTop||document.body.scrollTop}),checkIsScrollRoot:()=>!0}),lw={current:void 0},M9=L9({measureScroll:e=>({x:e.scrollLeft,y:e.scrollTop}),defaultParent:()=>{if(!lw.current){const e=new Fie({});e.mount(window),e.setOptions({layoutScroll:!0}),lw.current=e}return lw.current},resetTransform:(e,t)=>{e.style.transform=t!==void 0?t:"none"},checkIsScrollRoot:e=>window.getComputedStyle(e).position==="fixed"}),Bie={pan:{Feature:tie},drag:{Feature:eie,ProjectionNode:M9,MeasureLayout:k9}};function rC(e,t,n){const{props:r}=e;e.animationState&&r.whileHover&&e.animationState.setActive("whileHover",n==="Start");const i="onHover"+n,a=r[i];a&&nr.postRender(()=>a(t,V0(t)))}class Vie extends bc{mount(){const{current:t}=this.node;t&&(this.unmount=gne(t,(n,r)=>(rC(this.node,r,"Start"),i=>rC(this.node,i,"End"))))}unmount(){}}class zie extends bc{constructor(){super(...arguments),this.isActive=!1}onFocus(){let t=!1;try{t=this.node.current.matches(":focus-visible")}catch{t=!0}!t||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!0),this.isActive=!0)}onBlur(){!this.isActive||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!1),this.isActive=!1)}mount(){this.unmount=D0(Zm(this.node.current,"focus",()=>this.onFocus()),Zm(this.node.current,"blur",()=>this.onBlur()))}unmount(){}}function iC(e,t,n){const{props:r}=e;if(e.current instanceof HTMLButtonElement&&e.current.disabled)return;e.animationState&&r.whileTap&&e.animationState.setActive("whileTap",n==="Start");const i="onTap"+(n==="End"?"":n),a=r[i];a&&nr.postRender(()=>a(t,V0(t)))}class $ie extends bc{mount(){const{current:t}=this.node;t&&(this.unmount=bne(t,(n,r)=>(iC(this.node,r,"Start"),(i,{success:a})=>iC(this.node,i,a?"End":"Cancel")),{useGlobalTarget:this.node.props.globalTapTarget}))}unmount(){}}const H4=new WeakMap,uw=new WeakMap,Uie=e=>{const t=H4.get(e.target);t&&t(e)},Wie=e=>{e.forEach(Uie)};function qie({root:e,...t}){const n=e||document;uw.has(n)||uw.set(n,{});const r=uw.get(n),i=JSON.stringify(t);return r[i]||(r[i]=new IntersectionObserver(Wie,{root:e,...t})),r[i]}function Hie(e,t,n){const r=qie(t);return H4.set(e,n),r.observe(e),()=>{H4.delete(e),r.unobserve(e)}}const Kie={some:0,all:1};class Gie extends bc{constructor(){super(...arguments),this.hasEnteredView=!1,this.isInView=!1}startObserver(){this.unmount();const{viewport:t={}}=this.node.getProps(),{root:n,margin:r,amount:i="some",once:a}=t,s={root:n?n.current:void 0,rootMargin:r,threshold:typeof i=="number"?i:Kie[i]},o=l=>{const{isIntersecting:u}=l;if(this.isInView===u||(this.isInView=u,a&&!u&&this.hasEnteredView))return;u&&(this.hasEnteredView=!0),this.node.animationState&&this.node.animationState.setActive("whileInView",u);const{onViewportEnter:c,onViewportLeave:d}=this.node.getProps(),p=u?c:d;p&&p(l)};return Hie(this.node.current,s,o)}mount(){this.startObserver()}update(){if(typeof IntersectionObserver>"u")return;const{props:t,prevProps:n}=this.node;["amount","margin","root"].some(Yie(t,n))&&this.startObserver()}unmount(){}}function Yie({viewport:e={}},{viewport:t={}}={}){return n=>e[n]!==t[n]}const Xie={inView:{Feature:Gie},tap:{Feature:$ie},focus:{Feature:zie},hover:{Feature:Vie}},Qie={layout:{ProjectionNode:M9,MeasureLayout:k9}},K4={current:null},D9={current:!1};function Zie(){if(D9.current=!0,!!QS)if(window.matchMedia){const e=window.matchMedia("(prefers-reduced-motion)"),t=()=>K4.current=e.matches;e.addListener(t),t()}else K4.current=!1}const Jie=new WeakMap;function eae(e,t,n){for(const r in t){const i=t[r],a=n[r];if(Hi(i))e.addValue(r,i);else if(Hi(a))e.addValue(r,hh(i,{owner:e}));else if(a!==i)if(e.hasValue(r)){const s=e.getValue(r);s.liveStyle===!0?s.jump(i):s.hasAnimated||s.set(i)}else{const s=e.getStaticValue(r);e.addValue(r,hh(s!==void 0?s:i,{owner:e}))}}for(const r in n)t[r]===void 0&&e.removeValue(r);return t}const aC=["AnimationStart","AnimationComplete","Update","BeforeLayoutMeasure","LayoutMeasure","LayoutAnimationStart","LayoutAnimationComplete"];class tae{scrapeMotionValuesFromProps(t,n,r){return{}}constructor({parent:t,props:n,presenceContext:r,reducedMotionConfig:i,blockInitialAnimation:a,visualState:s},o={}){this.current=null,this.children=new Set,this.isVariantNode=!1,this.isControllingVariants=!1,this.shouldReduceMotion=null,this.values=new Map,this.KeyframeResolver=mA,this.features={},this.valueSubscriptions=new Map,this.prevMotionValues={},this.events={},this.propEventSubscriptions={},this.notifyUpdate=()=>this.notify("Update",this.latestValues),this.render=()=>{this.current&&(this.triggerBuild(),this.renderInstance(this.current,this.renderState,this.props.style,this.projection))},this.renderScheduledAt=0,this.scheduleRender=()=>{const p=Aa.now();this.renderScheduledAt<p&&(this.renderScheduledAt=p,nr.render(this.render,!1,!0))};const{latestValues:l,renderState:u}=s;this.latestValues=l,this.baseTarget={...l},this.initialValues=n.initial?{...l}:{},this.renderState=u,this.parent=t,this.props=n,this.presenceContext=r,this.depth=t?t.depth+1:0,this.reducedMotionConfig=i,this.options=o,this.blockInitialAnimation=!!a,this.isControllingVariants=U2(n),this.isVariantNode=i9(n),this.isVariantNode&&(this.variantChildren=new Set),this.manuallyAnimateOnMount=!!(t&&t.current);const{willChange:c,...d}=this.scrapeMotionValuesFromProps(n,{},this);for(const p in d){const f=d[p];l[p]!==void 0&&Hi(f)&&f.set(l[p],!1)}}mount(t){this.current=t,Jie.set(t,this),this.projection&&!this.projection.instance&&this.projection.mount(t),this.parent&&this.isVariantNode&&!this.isControllingVariants&&(this.removeFromVariantTree=this.parent.addVariantChild(this)),this.values.forEach((n,r)=>this.bindToMotionValue(r,n)),D9.current||Zie(),this.shouldReduceMotion=this.reducedMotionConfig==="never"?!1:this.reducedMotionConfig==="always"?!0:K4.current,this.parent&&this.parent.children.add(this),this.update(this.props,this.presenceContext)}unmount(){this.projection&&this.projection.unmount(),uc(this.notifyUpdate),uc(this.render),this.valueSubscriptions.forEach(t=>t()),this.valueSubscriptions.clear(),this.removeFromVariantTree&&this.removeFromVariantTree(),this.parent&&this.parent.children.delete(this);for(const t in this.events)this.events[t].clear();for(const t in this.features){const n=this.features[t];n&&(n.unmount(),n.isMounted=!1)}this.current=null}bindToMotionValue(t,n){this.valueSubscriptions.has(t)&&this.valueSubscriptions.get(t)();const r=Fh.has(t);r&&this.onBindTransform&&this.onBindTransform();const i=n.on("change",o=>{this.latestValues[t]=o,this.props.onUpdate&&nr.preRender(this.notifyUpdate),r&&this.projection&&(this.projection.isTransformDirty=!0)}),a=n.on("renderRequest",this.scheduleRender);let s;window.MotionCheckAppearSync&&(s=window.MotionCheckAppearSync(this,t,n)),this.valueSubscriptions.set(t,()=>{i(),a(),s&&s(),n.owner&&n.stop()})}sortNodePosition(t){return!this.current||!this.sortInstanceNodePosition||this.type!==t.type?0:this.sortInstanceNodePosition(this.current,t.current)}updateFeatures(){let t="animation";for(t in ph){const n=ph[t];if(!n)continue;const{isEnabled:r,Feature:i}=n;if(!this.features[t]&&i&&r(this.props)&&(this.features[t]=new i(this)),this.features[t]){const a=this.features[t];a.isMounted?a.update():(a.mount(),a.isMounted=!0)}}}triggerBuild(){this.build(this.renderState,this.latestValues,this.props)}measureViewportBox(){return this.current?this.measureInstanceViewportBox(this.current,this.props):Ar()}getStaticValue(t){return this.latestValues[t]}setStaticValue(t,n){this.latestValues[t]=n}update(t,n){(t.transformTemplate||this.props.transformTemplate)&&this.scheduleRender(),this.prevProps=this.props,this.props=t,this.prevPresenceContext=this.presenceContext,this.presenceContext=n;for(let r=0;r<aC.length;r++){const i=aC[r];this.propEventSubscriptions[i]&&(this.propEventSubscriptions[i](),delete this.propEventSubscriptions[i]);const a="on"+i,s=t[a];s&&(this.propEventSubscriptions[i]=this.on(i,s))}this.prevMotionValues=eae(this,this.scrapeMotionValuesFromProps(t,this.prevProps,this),this.prevMotionValues),this.handleChildMotionValue&&this.handleChildMotionValue()}getProps(){return this.props}getVariant(t){return this.props.variants?this.props.variants[t]:void 0}getDefaultTransition(){return this.props.transition}getTransformPagePoint(){return this.props.transformPagePoint}getClosestVariantNode(){return this.isVariantNode?this:this.parent?this.parent.getClosestVariantNode():void 0}addVariantChild(t){const n=this.getClosestVariantNode();if(n)return n.variantChildren&&n.variantChildren.add(t),()=>n.variantChildren.delete(t)}addValue(t,n){const r=this.values.get(t);n!==r&&(r&&this.removeValue(t),this.bindToMotionValue(t,n),this.values.set(t,n),this.latestValues[t]=n.get())}removeValue(t){this.values.delete(t);const n=this.valueSubscriptions.get(t);n&&(n(),this.valueSubscriptions.delete(t)),delete this.latestValues[t],this.removeValueFromRenderState(t,this.renderState)}hasValue(t){return this.values.has(t)}getValue(t,n){if(this.props.values&&this.props.values[t])return this.props.values[t];let r=this.values.get(t);return r===void 0&&n!==void 0&&(r=hh(n===null?void 0:n,{owner:this}),this.addValue(t,r)),r}readValue(t,n){let r=this.latestValues[t]!==void 0||!this.current?this.latestValues[t]:this.getBaseTargetFromProps(this.props,t)??this.readValueFromInstance(this.current,t,this.options);return r!=null&&(typeof r=="string"&&(dD(r)||hD(r))?r=parseFloat(r):!Sne(r)&&cc.test(n)&&(r=YD(t,n)),this.setBaseTarget(t,Hi(r)?r.get():r)),Hi(r)?r.get():r}setBaseTarget(t,n){this.baseTarget[t]=n}getBaseTarget(t){var a;const{initial:n}=this.props;let r;if(typeof n=="string"||typeof n=="object"){const s=EA(this.props,n,(a=this.presenceContext)==null?void 0:a.custom);s&&(r=s[t])}if(n&&r!==void 0)return r;const i=this.getBaseTargetFromProps(this.props,t);return i!==void 0&&!Hi(i)?i:this.initialValues[t]!==void 0&&r===void 0?void 0:this.baseTarget[t]}on(t,n){return this.events[t]||(this.events[t]=new rA),this.events[t].add(n)}notify(t,...n){this.events[t]&&this.events[t].notify(...n)}}class F9 extends tae{constructor(){super(...arguments),this.KeyframeResolver=dne}sortInstanceNodePosition(t,n){return t.compareDocumentPosition(n)&2?1:-1}getBaseTargetFromProps(t,n){return t.style?t.style[n]:void 0}removeValueFromRenderState(t,{vars:n,style:r}){delete n[t],delete r[t]}handleChildMotionValue(){this.childSubscription&&(this.childSubscription(),delete this.childSubscription);const{children:t}=this.props;Hi(t)&&(this.childSubscription=t.on("change",n=>{this.current&&(this.current.textContent=`${n}`)}))}}function B9(e,{style:t,vars:n},r,i){Object.assign(e.style,t,i&&i.getProjectionStyles(r));for(const a in n)e.style.setProperty(a,n[a])}function nae(e){return window.getComputedStyle(e)}class rae extends F9{constructor(){super(...arguments),this.type="html",this.renderInstance=B9}readValueFromInstance(t,n){var r;if(Fh.has(n))return(r=this.projection)!=null&&r.isProjecting?L4(n):Cte(t,n);{const i=nae(t),a=(sA(n)?i.getPropertyValue(n):i[n])||0;return typeof a=="string"?a.trim():a}}measureInstanceViewportBox(t,{transformPagePoint:n}){return A9(t,n)}build(t,n,r){SA(t,n,r.transformTemplate)}scrapeMotionValuesFromProps(t,n,r){return NA(t,n,r)}}const V9=new Set(["baseFrequency","diffuseConstant","kernelMatrix","kernelUnitLength","keySplines","keyTimes","limitingConeAngle","markerHeight","markerWidth","numOctaves","targetX","targetY","surfaceScale","specularConstant","specularExponent","stdDeviation","tableValues","viewBox","gradientTransform","pathLength","startOffset","textLength","lengthAdjust"]);function iae(e,t,n,r){B9(e,t,void 0,r);for(const i in t.attrs)e.setAttribute(V9.has(i)?i:_A(i),t.attrs[i])}class aae extends F9{constructor(){super(...arguments),this.type="svg",this.isSVGTag=!1,this.measureInstanceViewportBox=Ar}getBaseTargetFromProps(t,n){return t[n]}readValueFromInstance(t,n){if(Fh.has(n)){const r=GD(n);return r&&r.default||0}return n=V9.has(n)?n:_A(n),t.getAttribute(n)}scrapeMotionValuesFromProps(t,n,r){return p9(t,n,r)}build(t,n,r){c9(t,n,this.isSVGTag,r.transformTemplate,r.style)}renderInstance(t,n,r,i){iae(t,n,r,i)}mount(t){this.isSVGTag=f9(t.tagName),super.mount(t)}}const sae=(e,t)=>PA(e)?new aae(t):new rae(t,{allowProjection:e!==S.Fragment}),oae=ire({...Cre,...Xie,...Bie,...Qie},sae),sC=Tne(oae),lae=300,oC=({table:e,isSelected:t,isAddButton:n,onClick:r,onDoubleClick:i,onEnterSelectionMode:a,onDelete:s,isSelectionMode:o})=>{const l=S.useRef(null),u=S.useRef(0),[c,d]=S.useState(!1),p=S.useRef(null);S.useEffect(()=>{const w=A=>{p.current&&!p.current.contains(A.target)&&d(!1)};return document.addEventListener("mousedown",w),()=>{document.removeEventListener("mousedown",w)}},[]),S.useEffect(()=>{const w=l.current;if(!w)return;const A=P=>{var T;const O=Date.now(),D=O-(u.current||0);if(D>0&&D<=lae){P.preventDefault(),(T=P.stopPropagation)==null||T.call(P),i==null||i(),u.current=0;return}u.current=O};return w.addEventListener("touchend",A,{passive:!1}),()=>{w.removeEventListener("touchend",A)}},[i]);const f=w=>{w.stopPropagation(),d(A=>!A)},g=w=>{w.stopPropagation(),a==null||a(),d(!1)},v=w=>{w.stopPropagation(),s==null||s(),d(!1)};if(n)return h.jsx(sC.button,{onClick:r,whileHover:{scale:1.03},whileTap:{scale:.97},className:"h-40 rounded-2xl border-2 border-dashed border-gray-300 flex items-center justify-center transition hover:border-[#10B981] hover:text-[#10B981] bg-white shadow-sm focus:outline-none focus:ring-2 focus:ring-[#10B981]","aria-label":"Add Table",children:h.jsx("span",{className:"text-gray-500 font-medium text-lg",children:"+ Add Table"})});const b=(e==null?void 0:e.status)==="occupied",x=(e==null?void 0:e.capacity)&&e.capacity>0;return h.jsxs(sC.div,{ref:l,role:"button",tabIndex:0,whileHover:{scale:1.02},whileTap:{scale:.98},onClick:r,onDoubleClick:()=>i==null?void 0:i(),onKeyDown:w=>{w.key==="Enter"&&(i==null||i())},className:`relative h-40 rounded-2xl shadow-md hover:shadow-lg transition cursor-pointer flex flex-col items-center justify-center border p-4
        ${t?"border-[#10B981] border-2 ring-2 ring-[#10B981] bg-[#ECFDF5]":b?"bg-red-50 border-red-200 text-red-900":"bg-white border-gray-200 text-gray-800"}`,"aria-pressed":t||b,children:[t&&h.jsx("div",{className:"absolute top-2 right-2 bg-[#10B981] text-white rounded-full h-6 w-6 flex items-center justify-center z-20",children:h.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-4 w-4",viewBox:"0 0 20 20",fill:"currentColor",children:h.jsx("path",{fillRule:"evenodd",d:"M16.707 5.293a1 1 0 010 1.414l-8 8a1 1 0 01-1.414 0l-4-4a1 1 0 011.414-1.414L8 12.586l7.293-7.293a1 1 0 011.414 0z",clipRule:"evenodd"})})}),!x&&!t&&h.jsx("div",{className:"absolute top-2 right-8 z-10",title:"Smart Assign Disabled: No Capacity Set",children:h.jsx("div",{className:"bg-amber-100 text-amber-600 rounded-full w-6 h-6 flex items-center justify-center font-bold border border-amber-200 text-xs animate-pulse",children:"!"})}),(s||a)&&!t&&h.jsxs("div",{ref:p,className:"absolute top-1 right-1 z-10",children:[h.jsx("button",{onClick:f,className:"p-2 rounded-full hover:bg-black/10 transition-colors","aria-label":"Table options",children:h.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-5 w-5",viewBox:"0 0 20 20",fill:"currentColor",children:h.jsx("path",{d:"M10 6a2 2 0 110-4 2 2 0 010 4zM10 12a2 2 0 110-4 2 2 0 010 4zM10 18a2 2 0 110-4 2 2 0 010 4z"})})}),c&&h.jsx("div",{className:"absolute right-0 mt-2 w-40 bg-white rounded-md shadow-lg ring-1 ring-black ring-opacity-5",children:h.jsxs("div",{className:"py-1",children:[!o&&a&&h.jsxs("button",{onClick:g,className:"w-full text-left px-4 py-2 text-sm text-gray-700 hover:bg-gray-100 flex items-center gap-2",children:[h.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-4 w-4",viewBox:"0 0 20 20",fill:"currentColor",children:h.jsx("path",{fillRule:"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zm3.707-10.707a1 1 0 00-1.414-1.414L9 9.586 7.707 8.293a1 1 0 00-1.414 1.414l2 2a1 1 0 001.414 0l4-4z",clipRule:"evenodd"})}),"Select"]}),s&&h.jsxs("button",{onClick:v,className:"w-full text-left px-4 py-2 text-sm text-red-700 hover:bg-red-50 hover:text-red-800 flex items-center gap-2",children:[h.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-4 w-4",viewBox:"0 0 20 20",fill:"currentColor",children:h.jsx("path",{fillRule:"evenodd",d:"M9 2a1 1 0 00-.894.553L7.382 4H4a1 1 0 000 2v10a2 2 0 002 2h8a2 2 0 002-2V6a1 1 0 100-2h-3.382l-.724-1.447A1 1 0 0011 2H9zM7 8a1 1 0 012 0v6a1 1 0 11-2 0V8zm4 0a1 1 0 012 0v6a1 1 0 11-2 0V8z",clipRule:"evenodd"})}),"Delete Table"]})]})})]}),(e==null?void 0:e.status)&&h.jsx("div",{className:`absolute top-2 left-2 h-3 w-3 rounded-full ${e.status==="available"?"bg-[#10B981]":e.status==="occupied"?"bg-red-500":"bg-yellow-400"}`,title:e.status}),h.jsx("span",{className:"text-xl font-semibold",children:(e==null?void 0:e.name)??"Table"}),h.jsxs("div",{className:"flex items-center gap-2 mt-2",children:[(e==null?void 0:e.status)&&h.jsx("span",{className:"text-xs font-medium uppercase text-gray-400 tracking-wider",children:e.status}),x&&h.jsxs("span",{className:"text-xs bg-gray-100 px-2 py-0.5 rounded-md text-gray-600 font-medium flex items-center gap-1",children:[h.jsx("svg",{className:"w-3 h-3",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:h.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M17 20h5v-2a3 3 0 00-5.356-1.857M17 20H7m10 0v-2c0-.656-.126-1.283-.356-1.857M7 20H2v-2a3 3 0 015.356-1.857M7 20v-2c0-.656.126-1.283.356-1.857m0 0a5.002 5.002 0 019.288 0M15 7a3 3 0 11-6 0 3 3 0 016 0zm6 3a2 2 0 11-4 0 2 2 0 014 0zM7 10a2 2 0 11-4 0 2 2 0 014 0z"})}),e.capacity]})]}),!x&&!n&&h.jsx("div",{className:"mt-2 text-[10px] text-amber-600 bg-amber-50 px-2 py-0.5 rounded border border-amber-100 font-medium",children:"Set Capacity for Smart Assign"})]})},uae=()=>{const[e,t]=S.useState([]),[n,r]=S.useState(!1),[i,a]=S.useState(!0),[s,o]=S.useState(!1),[l,u]=S.useState(""),[c,d]=S.useState("all"),p=S0(),[f,g]=S.useState(!1),[v,b]=S.useState(new Set),[x,w]=S.useState("single"),[A,P]=S.useState(""),[O,D]=S.useState(""),[T,k]=S.useState(""),[I,M]=S.useState("T"),[N,C]=S.useState("setup"),[R,W]=S.useState([]);S.useEffect(()=>{a(!0);const ce=lD(J=>{t(J||[]),a(!1)},J=>{console.error("Error fetching tables in real-time:",J),a(!1)});return()=>ce()},[]);const Y=S.useMemo(()=>{const ce=e.length,J=e.filter(Ee=>Ee.status==="available").length,pe=e.filter(Ee=>Ee.status==="occupied").length;return{total:ce,available:J,occupied:pe}},[e]),ae=S.useMemo(()=>e.filter(ce=>!(c!=="all"&&ce.status!==c||l&&!ce.name.toLowerCase().includes(l.toLowerCase()))).sort((ce,J)=>{const pe=parseInt(ce.name.replace(/\D/g,""),10)||1/0,Ee=parseInt(J.name.replace(/\D/g,""),10)||1/0;return pe!==Ee?pe-Ee:ce.name.localeCompare(J.name)}),[e,c,l]),ie=ce=>{f||!ce||p(`/order?tableId=${encodeURIComponent(ce)}`)},H=()=>{r(!1),w("single"),P(""),D(""),k(""),M("T"),C("setup"),W([])},se=ce=>{g(!0),b(J=>new Set(J).add(ce))},ye=ce=>{f&&b(J=>{const pe=new Set(J);return pe.has(ce)?pe.delete(ce):pe.add(ce),pe.size===0&&g(!1),pe})},be=()=>{b(new Set),g(!1)},$=async()=>{if(v.size===0)return;if(window.confirm(`Are you sure you want to delete ${v.size} selected table(s)? This action cannot be undone.`))try{await mee(Array.from(v)),be()}catch(J){console.error("Error deleting selected tables:",J),alert("Failed to delete the selected tables. Please try again.")}},X=async()=>{const ce=A.trim();if(!ce)return;if(e.some(pe=>pe.name.toLowerCase()===ce.toLowerCase())){alert(`A table with the name "${ce}" already exists.`);return}let J=parseInt(O);isNaN(J)&&(J=4),o(!0);try{await Kk(ce,J),H()}catch(pe){console.error("Error adding table:",pe),alert("Failed to add table.")}finally{o(!1)}},re=()=>{const ce=T.trim();if(!ce)return;const J=4;let pe=[];const Ee=ce.match(/^(\d+)-(\d+)$/);if(Ee){const fe=parseInt(Ee[1],10),Z=parseInt(Ee[2],10);if(isNaN(fe)||isNaN(Z)||fe>Z){alert("Invalid range.");return}if(Z-fe>100&&!window.confirm("You are about to generate over 100 tables. Continue?"))return;for(let Ve=fe;Ve<=Z;Ve++)pe.push(`${I.trim()}${Ve}`)}else{const fe=ce.split(",").map(Z=>Z.trim()).filter(Boolean);pe.push(...fe)}if(pe.length===0){alert("No valid table names found.");return}const le=new Set(e.map(fe=>fe.name.toLowerCase())),Ne=[];if(pe.forEach(fe=>{le.has(fe.toLowerCase())||Ne.push({name:fe,capacity:J})}),Ne.length===0){alert("All specified tables already exist.");return}W(Ne),C("review")},oe=(ce,J)=>{const pe=[...R];pe[ce].capacity=parseInt(J)||0,W(pe)},de=async()=>{o(!0);try{const ce=R.map(J=>Kk(J.name,J.capacity));await Promise.all(ce),H()}catch(ce){console.error("Error adding bulk tables:",ce),alert("Failed to add some tables.")}finally{o(!1)}},ge=async ce=>{if(!ce)return;if(window.confirm("Are you sure you want to delete this table? This action cannot be undone.")){v.has(ce)&&b(pe=>{const Ee=new Set(pe);return Ee.delete(ce),Ee.size===0&&g(!1),Ee});try{await pee(ce)}catch(pe){console.error("Error deleting table:",pe),alert("Failed to delete table.")}}};return h.jsxs("div",{className:"min-h-screen bg-gray-50 px-4 py-8 md:px-8",children:[h.jsxs("div",{className:"max-w-7xl mx-auto space-y-8",children:[h.jsxs("div",{className:"flex flex-col md:flex-row md:items-center justify-between gap-4",children:[h.jsxs("div",{children:[h.jsx("h1",{className:"text-3xl font-bold text-gray-900 tracking-tight",children:"Floor Plan"}),h.jsx("p",{className:"text-gray-500 mt-1",children:"Manage tables and live status"})]}),h.jsx("div",{className:"flex items-center gap-3",children:h.jsxs("button",{onClick:()=>r(!0),className:"flex items-center gap-2 bg-[#10B981] text-white px-5 py-2.5 rounded-xl font-semibold shadow-lg shadow-emerald-200 hover:bg-[#059669] transition-all transform hover:scale-105",children:[h.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-5 w-5",viewBox:"0 0 20 20",fill:"currentColor",children:h.jsx("path",{fillRule:"evenodd",d:"M10 3a1 1 0 011 1v5h5a1 1 0 110 2h-5v5a1 1 0 11-2 0v-5H4a1 1 0 110-2h5V4a1 1 0 011-1z",clipRule:"evenodd"})}),"Add Table"]})})]}),h.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[h.jsxs("div",{className:"bg-white p-5 rounded-2xl shadow-sm border border-gray-100 flex items-center justify-between",children:[h.jsxs("div",{children:[h.jsx("p",{className:"text-sm font-medium text-gray-500",children:"Total Tables"}),h.jsx("p",{className:"text-3xl font-bold text-gray-800",children:Y.total})]}),h.jsx("div",{className:"p-3 bg-gray-100 rounded-xl text-gray-600",children:h.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-6 w-6",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:h.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M4 6h16M4 12h16M4 18h16"})})})]}),h.jsxs("div",{className:"bg-white p-5 rounded-2xl shadow-sm border border-gray-100 flex items-center justify-between",children:[h.jsxs("div",{children:[h.jsx("p",{className:"text-sm font-medium text-gray-500",children:"Available"}),h.jsx("p",{className:"text-3xl font-bold text-[#10B981]",children:Y.available})]}),h.jsx("div",{className:"p-3 bg-emerald-50 rounded-xl text-[#10B981]",children:h.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-6 w-6",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:h.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 12l2 2 4-4m6 2a9 9 0 11-18 0 9 9 0 0118 0z"})})})]}),h.jsxs("div",{className:"bg-white p-5 rounded-2xl shadow-sm border border-gray-100 flex items-center justify-between",children:[h.jsxs("div",{children:[h.jsx("p",{className:"text-sm font-medium text-gray-500",children:"Occupied"}),h.jsx("p",{className:"text-3xl font-bold text-red-500",children:Y.occupied})]}),h.jsx("div",{className:"p-3 bg-red-50 rounded-xl text-red-500",children:h.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-6 w-6",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:h.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 8v4m0 4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"})})})]})]}),h.jsxs("div",{className:"space-y-6",children:[h.jsxs("div",{className:"flex flex-col sm:flex-row gap-4 items-center justify-between bg-white p-2 rounded-2xl shadow-sm border border-gray-100",children:[h.jsx("div",{className:"flex p-1 bg-gray-100 rounded-xl w-full sm:w-auto",children:["all","available","occupied"].map(ce=>h.jsx("button",{onClick:()=>d(ce),className:`flex-1 sm:flex-none px-6 py-2 rounded-lg text-sm font-semibold capitalize transition-all duration-200 ${c===ce?"bg-white text-gray-800 shadow-sm":"text-gray-500 hover:text-gray-700"}`,children:ce},ce))}),h.jsxs("div",{className:"relative w-full sm:w-64 md:w-80",children:[h.jsx("div",{className:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none",children:h.jsx("svg",{className:"h-5 w-5 text-gray-400",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",children:h.jsx("path",{fillRule:"evenodd",d:"M8 4a4 4 0 100 8 4 4 0 000-8zM2 8a6 6 0 1110.89 3.476l4.817 4.817a1 1 0 01-1.414 1.414l-4.816-4.816A6 6 0 012 8z",clipRule:"evenodd"})})}),h.jsx("input",{type:"text",placeholder:"Search tables...",value:l,onChange:ce=>u(ce.target.value),className:"w-full pl-10 pr-4 py-2.5 bg-gray-50 border-transparent focus:bg-white focus:border-gray-300 rounded-xl text-sm focus:ring-0 transition-colors"})]})]}),f&&h.jsxs("div",{className:"bg-[#10B981] bg-opacity-10 border border-[#10B981] p-4 rounded-xl flex items-center justify-between animate-fade-in-up",children:[h.jsxs("div",{className:"flex items-center gap-3",children:[h.jsx("span",{className:"flex items-center justify-center w-8 h-8 rounded-full bg-[#10B981] text-white font-bold text-sm",children:v.size}),h.jsx("span",{className:"font-medium text-[#065F46]",children:"Tables Selected"})]}),h.jsxs("div",{className:"flex gap-3",children:[h.jsx("button",{onClick:be,className:"px-4 py-2 text-sm font-medium text-gray-600 hover:text-gray-800",children:"Cancel"}),h.jsx("button",{onClick:$,className:"px-4 py-2 text-sm font-medium bg-red-500 text-white rounded-lg hover:bg-red-600 shadow-sm",children:"Delete Selected"})]})]}),i?h.jsx("div",{className:"text-center py-20 text-gray-400",children:"Loading tables..."}):ae.length===0?h.jsx("div",{className:"text-center py-20 text-gray-400 bg-white rounded-3xl border border-dashed border-gray-200",children:l?"No tables match your search.":"No tables found. Add one to get started!"}):h.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-3 xl:grid-cols-4 gap-4 sm:gap-6",children:[ae.map(ce=>{const J=ce.id??ce.name;return h.jsx(oC,{table:ce,isSelected:v.has(J),isSelectionMode:f,onClick:()=>ye(J),onDoubleClick:()=>ie(J),onEnterSelectionMode:()=>se(J),onDelete:()=>ge(J)},J)}),h.jsx(oC,{isAddButton:!0,onClick:()=>r(!0)})]})]})]}),h.jsx($u,{isOpen:n,onClose:H,children:h.jsxs("div",{className:"p-4",children:[h.jsx("h2",{className:"text-xl font-bold text-gray-800 mb-1",children:"Add Table(s)"}),h.jsx("p",{className:"text-sm text-gray-500 mb-6",children:"Create new seating areas for your floor plan."}),h.jsxs("div",{className:"flex border-b mb-6",children:[h.jsxs("button",{onClick:()=>{w("single"),C("setup")},className:`flex-1 pb-3 text-sm font-medium transition-colors relative ${x==="single"?"text-[#10B981]":"text-gray-400 hover:text-gray-600"}`,children:["Single Table",x==="single"&&h.jsx("div",{className:"absolute bottom-0 left-0 w-full h-0.5 bg-[#10B981] rounded-t-full"})]}),h.jsxs("button",{onClick:()=>w("bulk"),className:`flex-1 pb-3 text-sm font-medium transition-colors relative ${x==="bulk"?"text-[#10B981]":"text-gray-400 hover:text-gray-600"}`,children:["Bulk Add",x==="bulk"&&h.jsx("div",{className:"absolute bottom-0 left-0 w-full h-0.5 bg-[#10B981] rounded-t-full"})]})]}),h.jsxs("div",{className:"space-y-5",children:[x==="single"&&h.jsxs(h.Fragment,{children:[h.jsxs("div",{children:[h.jsx("label",{className:"block text-xs font-bold text-gray-700 uppercase tracking-wider mb-2",children:"Table Name"}),h.jsx("input",{type:"text",value:A,onChange:ce=>P(ce.target.value),placeholder:"e.g. T1",className:"w-full px-4 py-3 bg-gray-50 border border-gray-200 rounded-xl focus:outline-none focus:ring-2 focus:ring-[#10B981] focus:bg-white transition-all",onKeyDown:ce=>ce.key==="Enter"&&X()})]}),h.jsxs("div",{children:[h.jsx("label",{className:"block text-xs font-bold text-gray-700 uppercase tracking-wider mb-2",children:"Seating Capacity"}),h.jsx("input",{type:"number",min:"0",value:O,onChange:ce=>D(ce.target.value),placeholder:"Default: 4",className:"w-full px-4 py-3 bg-gray-50 border border-gray-200 rounded-xl focus:outline-none focus:ring-2 focus:ring-[#10B981] focus:bg-white transition-all"})]})]}),x==="bulk"&&h.jsxs(h.Fragment,{children:[N==="setup"&&h.jsxs("div",{className:"space-y-4",children:[h.jsxs("div",{className:"p-4 bg-blue-50 rounded-xl border border-blue-100",children:[h.jsx("p",{className:"text-sm text-blue-800 font-medium mb-1",children:"How to use Bulk Add:"}),h.jsxs("ul",{className:"text-xs text-blue-600 space-y-1 list-disc list-inside",children:[h.jsxs("li",{children:["Use ranges like ",h.jsx("b",{children:"1-10"})," to create T1 through T10."]}),h.jsxs("li",{children:["Or use a list like ",h.jsx("b",{children:"A1, B2, C3"}),"."]})]})]}),h.jsxs("div",{className:"flex gap-3",children:[h.jsxs("div",{className:"w-1/3",children:[h.jsx("label",{className:"block text-xs font-bold text-gray-700 uppercase tracking-wider mb-2",children:"Prefix"}),h.jsx("input",{type:"text",value:I,onChange:ce=>M(ce.target.value),placeholder:"T",className:"w-full px-4 py-3 bg-gray-50 border border-gray-200 rounded-xl focus:outline-none focus:ring-2 focus:ring-[#10B981]"})]}),h.jsxs("div",{className:"flex-1",children:[h.jsx("label",{className:"block text-xs font-bold text-gray-700 uppercase tracking-wider mb-2",children:"Range / List"}),h.jsx("input",{type:"text",value:T,onChange:ce=>k(ce.target.value),placeholder:"1-10",className:"w-full px-4 py-3 bg-gray-50 border border-gray-200 rounded-xl focus:outline-none focus:ring-2 focus:ring-[#10B981]",onKeyDown:ce=>ce.key==="Enter"&&re()})]})]})]}),N==="review"&&h.jsxs("div",{className:"flex flex-col h-72",children:[h.jsxs("div",{className:"flex justify-between items-center mb-2 border-b pb-2 px-1",children:[h.jsx("span",{className:"text-xs font-bold text-gray-400 uppercase",children:"Table"}),h.jsx("span",{className:"text-xs font-bold text-gray-400 uppercase mr-4",children:"Capacity"})]}),h.jsx("div",{className:"flex-1 overflow-y-auto space-y-2 pr-2 custom-scrollbar",children:R.map((ce,J)=>h.jsxs("div",{className:"flex justify-between items-center bg-gray-50 p-3 rounded-lg border border-gray-100 hover:border-gray-300 transition-colors",children:[h.jsx("span",{className:"font-bold text-gray-700",children:ce.name}),h.jsx("input",{type:"number",min:"1",value:ce.capacity,onChange:pe=>oe(J,pe.target.value),className:"w-20 px-2 py-1.5 bg-white border rounded-md text-center focus:ring-2 focus:ring-[#10B981] focus:outline-none text-sm font-medium"})]},J))}),h.jsx("div",{className:"text-center pt-4",children:h.jsxs("span",{className:"text-xs font-medium px-3 py-1 bg-gray-100 text-gray-600 rounded-full",children:["Adding ",R.length," tables"]})})]})]})]}),h.jsxs("div",{className:"flex justify-end gap-3 mt-8 pt-4 border-t border-gray-100",children:[h.jsx("button",{onClick:H,className:"px-5 py-2.5 rounded-xl text-gray-600 font-medium hover:bg-gray-100 transition-colors",disabled:s,children:"Cancel"}),x==="single"&&h.jsx("button",{onClick:X,className:"bg-[#10B981] text-white px-6 py-2.5 rounded-xl font-bold shadow-lg shadow-emerald-200 hover:bg-[#059669] transition-all disabled:opacity-50 disabled:cursor-not-allowed",disabled:s,children:s?"Adding...":"Add Table"}),x==="bulk"&&N==="setup"&&h.jsx("button",{onClick:re,className:"bg-[#10B981] text-white px-6 py-2.5 rounded-xl font-bold shadow-lg shadow-emerald-200 hover:bg-[#059669] transition-all",children:"Preview List"}),x==="bulk"&&N==="review"&&h.jsxs(h.Fragment,{children:[h.jsx("button",{onClick:()=>C("setup"),className:"px-5 py-2.5 text-gray-600 font-medium hover:bg-gray-100 rounded-xl transition-colors",children:"Back"}),h.jsx("button",{onClick:de,className:"bg-[#10B981] text-white px-6 py-2.5 rounded-xl font-bold shadow-lg shadow-emerald-200 hover:bg-[#059669] transition-all disabled:opacity-50",disabled:s,children:s?"Adding...":"Confirm All"})]})]})]})})]})},cae=()=>{const[e,t]=S.useState("today"),[n,r]=S.useState({totalRevenue:0,activeOrders:0,occupiedTables:0,totalTables:0,totalTransactions:0,avgOrderValue:0}),[i,a]=S.useState([]),[s,o]=S.useState(!0),l=c=>{const d=new Date,p=new Date;return d.setHours(23,59,59,999),c==="today"?p.setHours(0,0,0,0):c==="yesterday"?(p.setDate(p.getDate()-1),p.setHours(0,0,0,0),d.setDate(d.getDate()-1),d.setHours(23,59,59,999)):c==="7days"?(p.setDate(p.getDate()-6),p.setHours(0,0,0,0)):c==="30days"&&(p.setDate(p.getDate()-29),p.setHours(0,0,0,0)),{start:p,end:d}};S.useEffect(()=>{(async()=>{o(!0);try{const{start:d,end:p}=l(e),f=Nd(no(Cn,"tables")),g=Fl(d,p),v=US(no(Cn,"orders"),Yv("status","in",["Pending","Preparing","Ready"])),b=see(v).then(N=>N.data().count).catch(async()=>(console.warn("Optimization fallback: Fetching orders for client-side filter"),(await Nd(no(Cn,"orders"))).docs.filter(C=>{const R=C.data().status;return R==="Pending"||R==="Preparing"||R==="Ready"}).length)),[x,w,A]=await Promise.all([f,g,b]),P=x.docs.map(N=>N.data()),O=P.filter(N=>N.status==="occupied").length;let D=0;const T=new Map;if(e==="today"||e==="yesterday")for(let N=8;N<=22;N++){const C=N<10?`0${N}`:`${N}`;T.set(`${C}:00`,0)}else{const N=e==="30days"?30:7;for(let C=0;C<N;C++){const R=new Date;R.setDate(p.getDate()-C);const W=R.toLocaleDateString("en-US",{month:"short",day:"numeric"});T.set(W,0)}}w.forEach(N=>{const C=N.grandTotal||0;D+=C;const R=N.finalizedAt;let W;if(e==="today"||e==="yesterday"){const Y=R.getHours();W=`${Y<10?`0${Y}`:`${Y}`}:00`,T.has(W)||T.set(W,0)}else W=R.toLocaleDateString("en-US",{month:"short",day:"numeric"}),T.has(W)||T.set(W,0);T.set(W,(T.get(W)||0)+C)});let k=[];if(e==="today"||e==="yesterday")k=Array.from(T.entries()).sort((N,C)=>parseInt(N[0])-parseInt(C[0])).map(([N,C])=>({date:N,amount:C}));else{const N=e==="30days"?30:7,C=[];for(let R=N-1;R>=0;R--){const W=new Date;W.setDate(p.getDate()-R);const Y=W.toLocaleDateString("en-US",{month:"short",day:"numeric"});C.push({date:Y,amount:T.get(Y)||0})}k=C}const I=w.length,M=I>0?Math.round(D/I):0;r({totalRevenue:D,activeOrders:A,occupiedTables:O,totalTables:P.length,totalTransactions:I,avgOrderValue:M}),a(k)}catch(d){console.error("Error fetching dashboard data:",d)}finally{o(!1)}})()},[e]);const u=({data:c})=>{if(!c||c.length===0)return h.jsx("div",{className:"h-64 flex items-center justify-center text-gray-400 bg-gray-50 rounded-xl border border-dashed",children:"No Sales Data Available"});const d=250,p=800,f=40,g=Math.max(...c.map(w=>w.amount),1e3),v=c.map((w,A)=>{const P=f+A*((p-f*2)/Math.max(c.length-1,1)),O=d-f-w.amount/g*(d-f*2);return`${P},${O}`}).join(" "),b=`${f},${d-f} ${v} ${p-f},${d-f}`,x=Math.ceil(c.length/8);return h.jsx("div",{className:"w-full overflow-x-auto custom-scrollbar",children:h.jsx("div",{className:"min-w-[600px]",children:h.jsxs("svg",{viewBox:`0 0 ${p} ${d}`,className:"w-full h-auto drop-shadow-sm select-none",children:[h.jsx("line",{x1:f,y1:d-f,x2:p-f,y2:d-f,stroke:"#e5e7eb",strokeWidth:"1"}),h.jsx("line",{x1:f,y1:f,x2:p-f,y2:f,stroke:"#f3f4f6",strokeWidth:"1",strokeDasharray:"4"}),h.jsx("defs",{children:h.jsxs("linearGradient",{id:"chartGradient",x1:"0",x2:"0",y1:"0",y2:"1",children:[h.jsx("stop",{offset:"0%",stopColor:"#10B981",stopOpacity:"0.2"}),h.jsx("stop",{offset:"100%",stopColor:"#10B981",stopOpacity:"0"})]})}),h.jsx("polygon",{points:b,fill:"url(#chartGradient)"}),h.jsx("polyline",{points:v,fill:"none",stroke:"#10B981",strokeWidth:"3",strokeLinecap:"round",strokeLinejoin:"round"}),c.map((w,A)=>{const P=f+A*((p-f*2)/Math.max(c.length-1,1)),O=d-f-w.amount/g*(d-f*2),D=A%x===0;return h.jsxs("g",{className:"group cursor-pointer",children:[h.jsx("circle",{cx:P,cy:O,r:"12",fill:"transparent"}),h.jsx("circle",{cx:P,cy:O,r:"4",fill:"white",stroke:"#10B981",strokeWidth:"2",className:"transition-all duration-200 group-hover:r-6 group-hover:stroke-[3px]"}),D&&h.jsx("text",{x:P,y:d-15,textAnchor:"middle",fontSize:"11",fill:"#9CA3AF",fontWeight:"500",children:w.date}),h.jsxs("g",{className:"opacity-0 group-hover:opacity-100 transition-opacity duration-200 pointer-events-none",children:[h.jsx("rect",{x:P-35,y:O-45,width:"70",height:"35",rx:"6",fill:"#1F2937"}),h.jsx("path",{d:`M${P-6},${O-11} L${P+6},${O-11} L${P},${O-5} Z`,fill:"#1F2937"}),h.jsx("text",{x:P,y:O-25,textAnchor:"middle",fontSize:"10",fill:"#9CA3AF",children:w.date}),h.jsxs("text",{x:P,y:O-14,textAnchor:"middle",fontSize:"11",fill:"white",fontWeight:"bold",children:["",w.amount.toLocaleString()]})]})]},A)})]})})})};return h.jsxs("div",{className:"max-w-7xl mx-auto space-y-6 animate-fade-in-up",children:[h.jsxs("div",{className:"flex flex-col md:flex-row md:items-center justify-between gap-4",children:[h.jsxs("div",{children:[h.jsx("h1",{className:"text-3xl font-bold text-gray-900",children:"Dashboard"}),h.jsxs("p",{className:"text-gray-500 mt-1",children:["Performance Overview  ",h.jsx("span",{className:"font-medium text-[#10B981] capitalize",children:e.replace("7","Last 7 ").replace("30","Last 30 ")})]})]}),h.jsx("div",{className:"flex bg-white p-1 rounded-xl shadow-sm border border-gray-200 self-start md:self-auto overflow-x-auto max-w-full",children:["today","yesterday","7days","30days"].map(c=>h.jsx("button",{onClick:()=>!s&&t(c),disabled:s,className:`px-4 py-2 text-sm font-semibold rounded-lg transition-all duration-200 whitespace-nowrap ${e===c?"bg-[#10B981] text-white shadow-md":"text-gray-500 hover:bg-gray-50 hover:text-gray-900"}`,children:c==="today"?"Today":c==="yesterday"?"Yesterday":c==="7days"?"7 Days":"30 Days"},c))})]}),s?h.jsxs("div",{className:"h-64 flex flex-col items-center justify-center text-gray-400 bg-white rounded-2xl border border-dashed border-gray-200",children:[h.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-[#10B981] mb-3"}),h.jsx("span",{children:"Syncing Analytics..."})]}):h.jsxs(h.Fragment,{children:[h.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-4",children:[h.jsxs("div",{className:"bg-white p-5 rounded-2xl shadow-sm border border-gray-100 relative overflow-hidden group hover:shadow-md transition-shadow",children:[h.jsx("div",{className:"absolute top-0 right-0 p-4 opacity-10 group-hover:opacity-20 transition-opacity",children:h.jsx("svg",{className:"w-16 h-16 text-[#10B981]",fill:"currentColor",viewBox:"0 0 20 20",children:h.jsx("path",{d:"M10 2a8 8 0 100 16 8 8 0 000-16zm1 11H9v2h2v-2zm0-8h2v6h-2V5z"})})}),h.jsx("p",{className:"text-xs font-bold text-gray-400 uppercase tracking-wider",children:"Total Revenue"}),h.jsxs("h2",{className:"text-3xl font-bold text-gray-900 mt-1",children:["",n.totalRevenue.toLocaleString()]}),h.jsxs("div",{className:"mt-3 flex items-center text-sm font-medium text-emerald-600",children:[n.totalTransactions," transactions"]})]}),h.jsxs("div",{className:"bg-white p-5 rounded-2xl shadow-sm border border-gray-100 hover:shadow-md transition-shadow",children:[h.jsx("p",{className:"text-xs font-bold text-gray-400 uppercase tracking-wider",children:"Active Orders"}),h.jsx("div",{className:"flex justify-between items-end mt-1",children:h.jsx("h2",{className:"text-3xl font-bold text-gray-900",children:n.activeOrders})}),h.jsx("p",{className:"mt-3 text-xs text-gray-400",children:"Orders in kitchen / pending"})]}),h.jsxs("div",{className:"bg-white p-5 rounded-2xl shadow-sm border border-gray-100 hover:shadow-md transition-shadow",children:[h.jsx("p",{className:"text-xs font-bold text-gray-400 uppercase tracking-wider",children:"Avg. Order Value"}),h.jsxs("h2",{className:"text-3xl font-bold text-gray-900 mt-1",children:["",n.avgOrderValue.toLocaleString()]}),h.jsx("p",{className:"mt-3 text-xs text-gray-400",children:"Revenue / Transactions"})]}),h.jsxs("div",{className:"bg-white p-5 rounded-2xl shadow-sm border border-gray-100 hover:shadow-md transition-shadow",children:[h.jsxs("div",{className:"flex justify-between items-start",children:[h.jsxs("div",{children:[h.jsx("p",{className:"text-xs font-bold text-gray-400 uppercase tracking-wider",children:"Occupancy"}),h.jsxs("h2",{className:"text-3xl font-bold text-gray-900 mt-1",children:[n.occupiedTables," ",h.jsxs("span",{className:"text-lg text-gray-400 font-normal",children:["/ ",n.totalTables]})]})]}),h.jsx("div",{className:`p-2 rounded-lg ${n.occupiedTables>0?"bg-orange-100 text-orange-600":"bg-gray-100 text-gray-400"}`,children:h.jsx("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:h.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M17 20h5v-2a3 3 0 00-5.356-1.857M17 20H7m10 0v-2c0-.656-.126-1.283-.356-1.857M7 20H2v-2a3 3 0 015.356-1.857M7 20v-2c0-.656.126-1.283.356-1.857m0 0a5.002 5.002 0 019.288 0M15 7a3 3 0 11-6 0 3 3 0 016 0zm6 3a2 2 0 11-4 0 2 2 0 014 0zM7 10a2 2 0 11-4 0 2 2 0 014 0z"})})})]}),h.jsx("div",{className:"w-full bg-gray-100 rounded-full h-1.5 mt-4 overflow-hidden",children:h.jsx("div",{className:"bg-orange-500 h-1.5 rounded-full transition-all duration-1000 ease-out",style:{width:n.totalTables>0?`${n.occupiedTables/n.totalTables*100}%`:"0%"}})})]})]}),h.jsxs("div",{className:"bg-white p-6 rounded-2xl shadow-sm border border-gray-100",children:[h.jsx("div",{className:"flex items-center justify-between mb-6",children:h.jsxs("h2",{className:"text-lg font-bold text-gray-800 flex items-center gap-2",children:[h.jsx("svg",{className:"w-5 h-5 text-[#10B981]",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:h.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M7 12l3-3 3 3 4-4M8 21l4-4 4 4M3 4h18M4 4h16v12a1 1 0 01-1 1H5a1 1 0 01-1-1V4z"})}),"Sales Trend"]})}),h.jsx(u,{data:i})]}),h.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[h.jsxs("div",{className:"bg-[#10B981] p-6 rounded-2xl shadow-lg shadow-emerald-100 text-white flex flex-col justify-between items-start",children:[h.jsxs("div",{children:[h.jsx("h3",{className:"text-lg font-bold",children:"Refresh Data"}),h.jsx("p",{className:"text-emerald-50 text-sm opacity-90 mt-1",children:"Dashboard only updates on reload to save data usage."})]}),h.jsx("button",{onClick:()=>window.location.reload(),className:"mt-4 bg-white text-[#10B981] px-5 py-2 rounded-lg font-bold text-sm hover:bg-emerald-50 transition w-full md:w-auto",children:"Sync Now"})]}),h.jsxs("div",{className:"bg-white p-6 rounded-2xl shadow-sm border border-gray-100 flex flex-col justify-center items-center text-center",children:[h.jsx("h3",{className:"text-gray-900 font-bold mb-1",children:"Need a Report?"}),h.jsx("p",{className:"text-gray-500 text-xs mb-3",children:"Download detailed PDF reports for accounting."}),h.jsx("a",{href:"/reports/sales",className:"text-[#10B981] font-semibold text-sm hover:underline",children:"Go to Sales Reports "})]})]})]})]})},Uu={Chevron:({className:e})=>h.jsx("svg",{className:e,fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:h.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M19 9l-7 7-7-7"})}),Minus:()=>h.jsx("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:h.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2.5",d:"M20 12H4"})}),Plus:()=>h.jsx("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:h.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2.5",d:"M12 4v16m8-8H4"})}),Table:()=>h.jsx("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:h.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M19 21V5a2 2 0 00-2-2H7a2 2 0 00-2 2v16m14 0h2m-2 0h-5m-9 0H3m2 0h5M9 7h1m-1 4h1m4-4h1m-1 4h1m-5 10v-5a1 1 0 011-1h2a1 1 0 011 1v5m-4 0h4"})}),User:()=>h.jsx("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:h.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M16 7a4 4 0 11-8 0 4 4 0 018 0zM12 14a7 7 0 00-7 7h14a7 7 0 00-7-7z"})}),Check:()=>h.jsx("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:h.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M5 13l4 4L19 7"})}),Alert:()=>h.jsx("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:h.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M12 9v2m0 4h.01m-6.938 4h13.856c1.54 0 2.502-1.667 1.732-3L13.732 4c-.77-1.333-2.694-1.333-3.464 0L3.34 16c-.77 1.333.192 3 1.732 3z"})}),Link:()=>h.jsx("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:h.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M13.828 10.172a4 4 0 00-5.656 0l-4 4a4 4 0 105.656 5.656l1.102-1.101m-.758-4.899a4 4 0 005.656 0l4-4a4 4 0 00-5.656-5.656l-1.1 1.1"})})},dae=({notification:e})=>{if(!e)return null;const t={success:"bg-green-50 text-green-800 border-green-200",error:"bg-red-50 text-red-800 border-red-200",warning:"bg-yellow-50 text-yellow-800 border-yellow-200"},n=e.type==="success"?Uu.Check:Uu.Alert;return h.jsxs("div",{className:`fixed top-6 left-1/2 transform -translate-x-1/2 z-50 flex items-center gap-3 px-4 py-3 rounded-xl border shadow-lg animate-fade-in-down ${t[e.type]}`,children:[h.jsx(n,{}),h.jsx("span",{className:"font-medium text-sm",children:e.message})]})},fae=()=>h.jsx("div",{className:"space-y-3 animate-pulse",children:[1,2,3,4].map(e=>h.jsx("div",{className:"h-20 bg-gray-100 rounded-xl w-full border border-gray-200"},e))}),hae=pn.memo(({quantity:e,onDecrease:t,onIncrease:n})=>h.jsxs("div",{className:"flex items-center bg-gray-100 rounded-full p-1 shadow-inner shrink-0",children:[h.jsx("button",{onClick:r=>{r.stopPropagation(),t()},disabled:e<=0,className:"w-8 h-8 flex items-center justify-center rounded-full bg-white text-gray-700 shadow-sm hover:bg-red-50 hover:text-red-600 disabled:opacity-50 transition-all touch-manipulation",children:h.jsx(Uu.Minus,{})}),h.jsx("span",{className:"w-8 text-center font-bold text-gray-800 text-sm leading-none",children:e}),h.jsx("button",{onClick:r=>{r.stopPropagation(),n()},className:"w-8 h-8 flex items-center justify-center rounded-full bg-blue-600 text-white shadow-md hover:bg-blue-700 active:scale-95 transition-all touch-manipulation",children:h.jsx(Uu.Plus,{})})]})),pae=()=>{var g;const e=Ch(),[t,n]=S.useState({tables:[],staff:[],menu:[],settings:{currencySymbol:""}}),[r,i]=S.useState({tableId:"",staffId:"",linkedTableIds:[]}),[a,s]=S.useState({items:{},expandedId:null,loading:!1,submitting:!1}),[o,l]=S.useState({isModalOpen:!0,notification:null}),u=S.useCallback((v,b="success")=>{l(x=>({...x,notification:{message:v,type:b}})),setTimeout(()=>l(x=>({...x,notification:null})),3e3)},[]);S.useEffect(()=>{let v=!0;return(async()=>{s(x=>({...x,loading:!0}));try{const[x,w,A,P]=await Promise.all([oD(),qm(),XS(),fo()]);if(v){n({tables:x||[],staff:w||[],menu:A||[],settings:P||{currencySymbol:""}});const O=new URLSearchParams(e.search),D=O.get("tableId"),T=O.get("linked");D?(i(k=>({...k,tableId:D,linkedTableIds:T?T.split(","):[]})),l(k=>({...k,isModalOpen:!0}))):l(k=>({...k,isModalOpen:!0}))}}catch{u("Failed to load menu data","error")}finally{v&&s(x=>({...x,loading:!1}))}})(),()=>{v=!1}},[e.search,u]);const c=S.useMemo(()=>{if(!r.tableId||t.tables.length===0)return"Table ?";const v=t.tables.find(x=>x.id===r.tableId);let b=(v==null?void 0:v.name)||"Unknown";if(r.linkedTableIds.length>0){const x=r.linkedTableIds.map(w=>{const A=t.tables.find(P=>P.id===w);return A?A.name:""}).filter(Boolean);x.length>0&&(b+=` + ${x.join(" + ")}`)}return b},[r.tableId,r.linkedTableIds,t.tables]),d=S.useCallback((v,b,x)=>{s(w=>{const A={...w.items};return A[v]||(A[v]={full:0,half:0,quarter:0}),A[v][b]=Math.max(0,(A[v][b]||0)+x),!A[v].full&&!A[v].half&&!A[v].quarter&&delete A[v],{...w,items:A}})},[]),p=S.useMemo(()=>Object.entries(a.items).reduce((v,[b,x])=>{const w=t.menu.find(A=>(A.id??A._id)===b);return w?v+x.full*(w.fullPrice??w.price??0)+x.half*(w.halfPrice??0)+x.quarter*(w.quarterPrice??0):v},0),[a.items,t.menu]),f=async()=>{if(!r.tableId)return l(b=>({...b,isModalOpen:!0}));if(!r.staffId)return l(b=>({...b,isModalOpen:!0})),u("Please select a staff member","warning");const v=[];if(Object.entries(a.items).forEach(([b,x])=>{const w=t.menu.find(A=>(A.id??A._id)===b);w&&(x.full>0&&v.push({itemId:b,quantity:x.full,portion:"full",price:w.fullPrice??w.price}),x.half>0&&v.push({itemId:b,quantity:x.half,portion:"half",price:w.halfPrice}),x.quarter>0&&v.push({itemId:b,quantity:x.quarter,portion:"quarter",price:w.quarterPrice}))}),v.length===0)return u("Please add items first","warning");s(b=>({...b,submitting:!0}));try{await wee({tableId:r.tableId,linkedTableIds:r.linkedTableIds,staffId:r.staffId,items:v,total:p,createdAt:new Date().toISOString()});const b=[r.tableId,...r.linkedTableIds];await hee(b,"occupied"),window.dispatchEvent(new CustomEvent("tablesUpdated")),u("Order submitted successfully!","success"),s(x=>({...x,items:{},expandedId:null}))}catch(b){console.error(b),u("Failed to submit order","error")}finally{s(b=>({...b,submitting:!1}))}};return h.jsxs("div",{className:"min-h-screen bg-gray-50 font-sans text-gray-900",children:[h.jsx(dae,{notification:o.notification}),h.jsxs("div",{className:"container mx-auto px-4 md:px-6 pt-24 pb-40 max-w-3xl",children:[h.jsxs("div",{className:"flex justify-between items-end mb-6",children:[h.jsxs("div",{children:[h.jsx("h1",{className:"text-2xl font-bold tracking-tight text-gray-900",children:"New Order"}),h.jsx("p",{className:"text-gray-500 text-xs mt-0.5",children:"Select items from menu"})]}),r.tableId&&h.jsxs("div",{onClick:()=>l(v=>({...v,isModalOpen:!0})),className:"flex flex-col items-end cursor-pointer bg-white px-3 py-2 rounded-xl border border-gray-200 shadow-sm active:bg-gray-50 transition-colors touch-manipulation",children:[h.jsxs("div",{className:"flex items-center gap-1.5 text-blue-600 font-bold text-sm",children:[h.jsx(Uu.Table,{}),h.jsx("span",{className:"truncate max-w-[150px]",children:c})]}),h.jsxs("div",{className:"flex items-center gap-1 text-gray-400 text-[10px] font-medium uppercase tracking-wide",children:[h.jsx(Uu.User,{}),h.jsx("span",{className:"truncate max-w-[80px]",children:((g=t.staff.find(v=>(v.id??v._id)===r.staffId))==null?void 0:g.name)||"No Staff"})]})]})]}),h.jsx($u,{isOpen:o.isModalOpen,onClose:()=>l(v=>({...v,isModalOpen:!1})),children:h.jsxs("div",{className:"max-h-[70vh] overflow-y-auto px-1 py-1 scrollbar-hide",children:[h.jsx("h2",{className:"text-xl font-bold mb-6 text-gray-800 sticky top-0 bg-white pb-2",children:"Start Session"}),h.jsxs("div",{className:"space-y-5",children:[h.jsxs("div",{className:"space-y-1.5",children:[h.jsx("label",{className:"text-xs font-semibold text-gray-500 uppercase ml-1",children:"Table"}),r.linkedTableIds&&r.linkedTableIds.length>0?h.jsxs("div",{className:"w-full p-3.5 bg-blue-50 border border-blue-200 rounded-xl text-blue-800 text-sm font-bold flex items-center justify-between shadow-sm",children:[h.jsxs("div",{className:"flex items-center gap-2",children:[h.jsx(Uu.Link,{}),h.jsx("span",{children:c})]}),h.jsx("button",{onClick:()=>i(v=>({...v,tableId:"",linkedTableIds:[]})),className:"text-xs text-blue-600 underline hover:text-blue-800 font-medium",children:"Change"})]}):h.jsxs("select",{value:r.tableId,onChange:v=>i({...r,tableId:v.target.value,linkedTableIds:[]}),className:"w-full p-3.5 bg-gray-50 border border-gray-200 rounded-xl focus:ring-2 focus:ring-blue-500 outline-none text-sm font-medium appearance-none",children:[h.jsx("option",{value:"",children:"Select Table"}),t.tables.map(v=>h.jsxs("option",{value:v.id??v._id,children:[v.name," (Cap: ",v.capacity||0,")"]},v.id??v._id))]})]}),h.jsxs("div",{className:"space-y-1.5",children:[h.jsx("label",{className:"text-xs font-semibold text-gray-500 uppercase ml-1",children:"Staff"}),h.jsxs("select",{value:r.staffId,onChange:v=>i({...r,staffId:v.target.value}),className:"w-full p-3.5 bg-gray-50 border border-gray-200 rounded-xl focus:ring-2 focus:ring-blue-500 outline-none text-sm font-medium appearance-none",children:[h.jsx("option",{value:"",children:"Select Staff"}),t.staff.map(v=>h.jsx("option",{value:v.id??v._id,children:v.name},v.id??v._id))]})]})]}),h.jsx("button",{onClick:()=>l(v=>({...v,isModalOpen:!1})),disabled:!r.tableId||!r.staffId,className:`mt-8 w-full py-3.5 rounded-xl font-bold text-sm shadow-md transition-all touch-manipulation ${!r.tableId||!r.staffId?"bg-gray-200 text-gray-400":"bg-blue-600 text-white hover:bg-blue-700 active:scale-95"}`,children:"Start Order"})]})}),a.loading?h.jsx(fae,{}):h.jsx("div",{className:"space-y-3",children:t.menu.map(v=>{const b=v.id??v._id,x=a.expandedId===b,w=a.items[b],A=((w==null?void 0:w.full)||0)+((w==null?void 0:w.half)||0)+((w==null?void 0:w.quarter)||0);return h.jsxs("div",{className:`bg-white rounded-xl border transition-all duration-200 overflow-hidden ${x?"ring-1 ring-blue-500 border-blue-500 shadow-md":"border-gray-100 shadow-sm"}`,children:[h.jsxs("div",{onClick:()=>s(P=>({...P,expandedId:P.expandedId===b?null:b})),className:"p-4 flex justify-between items-center cursor-pointer active:bg-gray-50 touch-manipulation select-none",children:[h.jsxs("div",{className:"min-w-0 flex-1 mr-4",children:[h.jsx("h3",{className:"font-bold text-gray-800 text-base truncate",children:v.name}),h.jsxs("span",{className:"text-xs text-gray-500 font-medium",children:[t.settings.currencySymbol,(v.fullPrice??v.price).toFixed(2)]})]}),h.jsxs("div",{className:"flex items-center gap-3 shrink-0",children:[A>0&&h.jsx("span",{className:"bg-blue-600 text-white text-xs font-bold px-2 py-0.5 rounded-md",children:A}),h.jsx(Uu.Chevron,{className:`w-5 h-5 text-gray-400 transition-transform duration-300 ${x?"rotate-180 text-blue-600":""}`})]})]}),h.jsx("div",{className:`transition-[max-height] duration-300 ease-in-out overflow-hidden ${x?"max-h-[600px]":"max-h-0"}`,children:h.jsx("div",{className:"px-4 pb-4 pt-1 bg-gray-50 space-y-2 border-t border-gray-100",children:[{label:"Full",price:v.fullPrice??v.price,key:"full"},v.halfPrice&&{label:"Half",price:v.halfPrice,key:"half"},v.quarterPrice&&{label:"Quarter",price:v.quarterPrice,key:"quarter"}].filter(Boolean).map(P=>h.jsxs("div",{className:"flex justify-between items-center bg-white p-2 rounded-lg border border-gray-100 shadow-sm",children:[h.jsxs("div",{children:[h.jsx("div",{className:"text-xs font-semibold text-gray-600",children:P.label}),h.jsxs("div",{className:"text-xs font-bold text-blue-600",children:[t.settings.currencySymbol,P.price.toFixed(2)]})]}),h.jsx(hae,{quantity:(w==null?void 0:w[P.key])||0,onDecrease:()=>d(b,P.key,-1),onIncrease:()=>d(b,P.key,1)})]},P.key))})})]},b)})})]}),h.jsx("div",{className:"fixed bottom-20 right-0 w-full z-40 transition-all duration-300 md:pl-64",style:{paddingBottom:"env(safe-area-inset-bottom)"},children:h.jsx("div",{className:"mx-4 max-w-3xl md:mx-auto",children:h.jsxs("div",{className:"bg-gray-900/95 backdrop-blur-md shadow-2xl rounded-xl p-3 flex items-center justify-between border border-gray-800",children:[h.jsxs("div",{className:"pl-2",children:[h.jsx("div",{className:"text-gray-400 text-[10px] font-bold uppercase tracking-wider",children:"Total"}),h.jsxs("div",{className:"text-xl font-bold text-white font-mono leading-none",children:[t.settings.currencySymbol,p.toFixed(2)]})]}),h.jsx("button",{onClick:f,disabled:a.submitting,className:`px-6 py-2.5 rounded-lg font-bold text-sm shadow transition-transform active:scale-95 flex items-center gap-2 touch-manipulation ${!r.tableId||!r.staffId?"bg-gray-700 text-gray-500":"bg-white text-gray-900 hover:bg-gray-100"}`,children:a.submitting?h.jsx("span",{className:"animate-pulse",children:"Sending..."}):h.jsx("span",{children:"Place Order"})})]})})})]})},mae=({item:e,currencySymbol:t="",quantity:n=0,onCardClick:r,selectionMode:i=!1,isSelected:a=!1,onSelect:s})=>{if(!e)return null;const o=()=>{i?s==null||s():r==null||r(e)},l=["bg-white rounded-xl shadow-md p-4 flex flex-col justify-between transition-all duration-200 relative border",r||i?"cursor-pointer":"",a?"ring-2 ring-[#10B981] border-[#10B981] shadow-lg":"border-gray-200 hover:shadow-lg"].join(" ");return h.jsxs("div",{className:l,onClick:o,children:[n>0&&!i&&h.jsx("div",{className:"absolute top-[-10px] right-[-10px] bg-[#10B981] text-white text-xs font-bold w-6 h-6 rounded-full flex items-center justify-center shadow-lg z-10",children:n}),i&&a&&h.jsx("div",{className:"absolute inset-0 bg-[#10B981] bg-opacity-10 rounded-xl pointer-events-none flex items-center justify-center",children:h.jsx("div",{className:"bg-white rounded-full p-1 shadow",children:h.jsx("svg",{className:"w-6 h-6 text-[#10B981]",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg",children:h.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M5 13l4 4L19 7"})})})}),h.jsxs("div",{className:"flex-grow",children:[h.jsx("h3",{className:"text-lg font-bold text-gray-800 mb-2 truncate",children:e.name}),h.jsx("div",{className:"text-sm font-semibold mb-3",children:e.fullPrice||e.halfPrice||e.quarterPrice?h.jsxs("div",{className:"grid grid-cols-[auto_1fr] gap-x-3 gap-y-1 text-gray-700",children:[e.fullPrice!=null&&h.jsxs(h.Fragment,{children:[h.jsx("span",{className:"font-medium text-gray-500",children:"Full:"}),h.jsxs("span",{children:[t,e.fullPrice.toFixed(2)]})]}),e.halfPrice!=null&&h.jsxs(h.Fragment,{children:[h.jsx("span",{className:"font-medium text-gray-500",children:"Half:"}),h.jsxs("span",{children:[t,e.halfPrice.toFixed(2)]})]}),e.quarterPrice!=null&&h.jsxs(h.Fragment,{children:[h.jsx("span",{className:"font-medium text-gray-500",children:"Qtr:"}),h.jsxs("span",{children:[t,e.quarterPrice.toFixed(2)]})]})]}):e.price&&h.jsxs("div",{className:"text-gray-700",children:[t,e.price.toFixed(2)]})}),e.ingredients&&h.jsx("p",{className:"text-xs text-gray-600 mb-2",children:e.ingredients})]}),e.specialNote&&h.jsxs("p",{className:"text-xs italic text-[#10B981] mt-auto pt-2 border-t border-gray-100",children:["Note: ",e.specialNote]})]})},cw={en:{menuTitle:"Menu",menuSubtitle:"Manage your restaurant's menu items.",selected:"selected",selectSubtitle:"Select items to delete.",selectAll:"Select All",deselectAll:"Deselect All",delete:"Delete",cancel:"Cancel",bulkActions:"Bulk Actions",selectItems:"Select Items",addNewItem:"Add New Item",confirmDeleteTitle:"Confirm Deletion",confirmDeleteMsg:"Are you sure you want to permanently delete",items:"item(s)?",deleting:"Deleting...",addItemTitle:"Add New Menu Item",itemName:"Item Name",fullPrice:"Full Portion Price",halfPrice:"Half Portion Price",quarterPrice:"Quarter Portion Price",ingredients:"Ingredients (comma-separated)",specialNote:"Special Note (optional)",done:"Done",bulkActionTitle:"Bulk Actions",bulkActionSubtitle:"Add or update multiple items quickly.",addNewItemsBtn:"Add New Items",updateExistingBtn:"Update Existing Items",bulkAddTitle:"Bulk Add New Items",bulkAddSubtitle:"Use arrow keys. Rows missing name/price skipped.",bulkUpdateTitle:"Bulk Update Existing Items",bulkUpdateSubtitle:"Edit multiple items. Match by name.",status:"Status",matchStatus:"Match",matched:"Matched",notMatched:"Not Found",willUpdate:"Will Update",addRow:"+ Add Row",clearAll:"Clear All",addItems:"Add Items",updateItems:"Update Items",adding:"Adding...",updating:"Updating...",updatedCount:"items updated successfully.",noMatches:"No items matched.",partialUpdate:"Some updated, others not found."},hi:{menuTitle:" (Menu)",menuSubtitle:"   ",selected:"",selectSubtitle:"    ",selectAll:" ",deselectAll:"  ",delete:"",cancel:" ",bulkActions:" ",selectItems:" ",addNewItem:" ",confirmDeleteTitle:"  ",confirmDeleteMsg:"    ",items:"?",deleting:"  ...",addItemTitle:"  ",itemName:"  ",fullPrice:" ",halfPrice:" ",quarterPrice:" ",ingredients:"",specialNote:" ",done:" ",bulkActionTitle:" ",bulkActionSubtitle:"  / ",addNewItemsBtn:"  ",updateExistingBtn:"  ",bulkAddTitle:"  ",bulkAddSubtitle:"    ",bulkUpdateTitle:" ",bulkUpdateSubtitle:"   ",status:"",matchStatus:"",matched:"",notMatched:" ",willUpdate:" ",addRow:"+ ",clearAll:" ",addItems:"",updateItems:" ",adding:"  ...",updating:"...",updatedCount:"",noMatches:"  ",partialUpdate:" ,  "},es:{menuTitle:"Men",menuSubtitle:"Administra el men.",selected:"seleccionado",selectSubtitle:"Selecciona para eliminar.",selectAll:"Todos",deselectAll:"Ninguno",delete:"Eliminar",cancel:"Cancelar",bulkActions:"Acciones masivas",selectItems:"Seleccionar",addNewItem:"Nuevo artculo",confirmDeleteTitle:"Confirmar",confirmDeleteMsg:"Eliminar",items:"elemento(s)?",deleting:"Eliminando...",addItemTitle:"Nuevo elemento",itemName:"Nombre",fullPrice:"Precio completo",halfPrice:"Precio media",quarterPrice:"Precio cuarto",ingredients:"Ingredientes",specialNote:"Nota",done:"Hecho",bulkActionTitle:"Acciones masivas",bulkActionSubtitle:"Gestiona mltiples elementos.",addNewItemsBtn:"Agregar nuevos",updateExistingBtn:"Actualizar existentes",bulkAddTitle:"Agregar masivo",bulkAddSubtitle:"Usa flechas.",bulkUpdateTitle:"Actualizacin masiva",bulkUpdateSubtitle:"Coincidencia por nombre.",status:"Estado",matchStatus:"Coincidencia",matched:"Coincide",notMatched:"No encontrado",willUpdate:"Actualizar",addRow:"+ Fila",clearAll:"Borrar",addItems:"Agregar",updateItems:"Actualizar",adding:"Agregando...",updating:"Actualizando...",updatedCount:"actualizados.",noMatches:"Sin coincidencias.",partialUpdate:"Parcialmente actualizado."},ar:{menuTitle:"",menuSubtitle:" .",selected:"",selectSubtitle:" .",selectAll:" ",deselectAll:" ",delete:"",cancel:"",bulkActions:" ",selectItems:"",addNewItem:" ",confirmDeleteTitle:" ",confirmDeleteMsg:"  ",items:"",deleting:"...",addItemTitle:" ",itemName:"",fullPrice:" ",halfPrice:" ",quarterPrice:" ",ingredients:"",specialNote:"",done:"",bulkActionTitle:" ",bulkActionSubtitle:"/ .",addNewItemsBtn:" ",updateExistingBtn:" ",bulkAddTitle:" ",bulkAddSubtitle:" .",bulkUpdateTitle:" ",bulkUpdateSubtitle:" .",status:"",matchStatus:"",matched:"",notMatched:" ",willUpdate:"",addRow:"+ ",clearAll:"",addItems:"",updateItems:"",adding:"...",updating:"...",updatedCount:" .",noMatches:"  .",partialUpdate:" ."},fr:{menuTitle:"Menu",menuSubtitle:"Grez le menu.",selected:"slectionn",selectSubtitle:"Slectionnez pour supprimer.",selectAll:"Tout",deselectAll:"Rien",delete:"Supprimer",cancel:"Annuler",bulkActions:"Actions en masse",selectItems:"Slectionner",addNewItem:"Nouvel lment",confirmDeleteTitle:"Confirmer",confirmDeleteMsg:"Supprimer",items:"lment(s)?",deleting:"Suppression...",addItemTitle:"Ajouter lment",itemName:"Nom",fullPrice:"Prix complet",halfPrice:"Prix demi",quarterPrice:"Prix quart",ingredients:"Ingrdients",specialNote:"Note",done:"Fait",bulkActionTitle:"Actions en masse",bulkActionSubtitle:"Ajoutez/Modifiez rapidement.",addNewItemsBtn:"Ajouter nouveaux",updateExistingBtn:"Mettre  jour",bulkAddTitle:"Ajout en masse",bulkAddSubtitle:"Utilisez les flches.",bulkUpdateTitle:"Mise  jour en masse",bulkUpdateSubtitle:"Match par nom.",status:"Statut",matchStatus:"Match",matched:"Trouv",notMatched:"Non trouv",willUpdate:"Sera maj",addRow:"+ Ligne",clearAll:"Effacer",addItems:"Ajouter",updateItems:"MAJ",adding:"Ajout...",updating:"MAJ...",updatedCount:"succs.",noMatches:"Aucun trouv.",partialUpdate:"MAJ partielle."}},gae=({msg:e,type:t,onClose:n})=>{if(!e)return null;const r=t==="error"?"bg-red-100 text-red-800 border-red-200":"bg-green-100 text-green-800 border-green-200";return h.jsxs("div",{className:`fixed top-4 right-4 z-50 px-4 py-3 rounded-lg border shadow-lg flex items-center gap-3 ${r} animate-fade-in-down`,children:[h.jsx("span",{className:"font-medium",children:e}),h.jsx("button",{onClick:n,className:"opacity-60 hover:opacity-100 font-bold text-lg leading-none",children:""})]})},vae=()=>{const[e,t]=S.useState({currencySymbol:"",language:"en"}),[n,r]=S.useState(cw.en),[i,a]=S.useState([]),[s,o]=S.useState(null),[l,u]=S.useState({single:!1,bulkSelect:!1,bulkAdd:!1,bulkUpdate:!1,confirm:!1}),[c,d]=S.useState({active:!1,items:[],deleting:!1}),[p,f]=S.useState({name:"",fullPrice:"",halfPrice:"",quarterPrice:"",ingredients:"",specialNote:""}),[g,v]=S.useState([]),[b,x]=S.useState(!1),w=S.useRef([]),A=e.language==="ar",P=S.useCallback((Y,ae="success")=>{o({msg:Y,type:ae}),setTimeout(()=>o(null),3e3)},[]);S.useEffect(()=>(fo().then(Y=>{Y&&(t({currencySymbol:Y.currencySymbol||"",language:Y.language||"en"}),r(cw[Y.language]||cw.en))}),yee(Y=>a(Y||[]))),[]);const O=(Y,ae=!0)=>u(ie=>({...ie,[Y]:ae})),D=Y=>d(ae=>({...ae,items:ae.items.includes(Y)?ae.items.filter(ie=>ie!==Y):[...ae.items,Y]})),T=async()=>{if(c.items.length){d(Y=>({...Y,deleting:!0}));try{await vee(c.items),l.bulkUpdate&&v(Y=>Y.filter(ae=>!c.items.includes(ae.id))),P("Item(s) deleted successfully.")}catch(Y){console.error(Y),P("Error deleting items.","error")}d({active:!1,items:[],deleting:!1}),O("confirm",!1)}},k=(Y,ae)=>{if(l.bulkUpdate){const ie=i.find(H=>{var se;return H.name.trim().toLowerCase()===((se=ae.name)==null?void 0:se.trim().toLowerCase())});ie?(d({active:!1,items:[ie.id],deleting:!1}),O("confirm",!0)):v(H=>H.filter((se,ye)=>ye!==Y))}else v(ie=>ie.filter((H,se)=>se!==Y))},I=async()=>{var Y;if(!((Y=p.name)!=null&&Y.trim())||!p.fullPrice||isNaN(parseFloat(p.fullPrice)))return P("Name and valid Full Price are required.","error");await Gk({...p,fullPrice:parseFloat(p.fullPrice),halfPrice:parseFloat(p.halfPrice)||null,quarterPrice:parseFloat(p.quarterPrice)||null}),f({name:"",fullPrice:"",halfPrice:"",quarterPrice:"",ingredients:"",specialNote:""}),O("single",!1),P("Item added successfully!")},M=Y=>{O("bulkSelect",!1),O(Y,!0),w.current=[],v(Y==="bulkAdd"?[{name:"",fullPrice:"",halfPrice:"",quarterPrice:"",ingredients:"",specialNote:""}]:i.length?i.map(ae=>({...ae,id:ae.id,fullPrice:"",halfPrice:"",quarterPrice:""})):[{name:""}])},N=(Y,ae,ie)=>{v(H=>{const se=[...H];return se[Y]={...se[Y],[ae]:ie},se})},C=async Y=>{const ae=g.filter(ie=>{var H;return(H=ie.name)==null?void 0:H.trim()});if(!ae.length)return P("No valid items to process.","error");x(!0);try{if(Y){const ie=ae.map(ye=>{const be=i.find(oe=>oe.name.trim().toLowerCase()===ye.name.trim().toLowerCase());if(!be)return null;const $={},X=(oe,de)=>{de&&parseFloat(de)!==be[oe]&&($[oe]=parseFloat(de))},re=(oe,de)=>{de&&de!==be[oe]&&($[oe]=de)};return X("fullPrice",ye.fullPrice),X("halfPrice",ye.halfPrice),X("quarterPrice",ye.quarterPrice),re("ingredients",ye.ingredients),re("specialNote",ye.specialNote),Object.keys($).length?gee(be.id,$):null}).filter(Boolean);await Promise.all(ie);const H=ie.length,se=H===1?"1 item updated successfully.":H?`${H} ${n.updatedCount}`:"No items required updates.";P(se,H?"success":"error")}else{const ie=ae.filter(H=>H.fullPrice&&!isNaN(parseFloat(H.fullPrice)));if(!ie.length)throw new Error("No rows with valid Name and Price.");await Promise.all(ie.map(H=>Gk({...H,fullPrice:parseFloat(H.fullPrice),halfPrice:parseFloat(H.halfPrice)||null,quarterPrice:parseFloat(H.quarterPrice)||null}))),P(`${ie.length} items added.`)}Y&&ae.some(ie=>ie)?O("bulkUpdate",!1):Y||O("bulkAdd",!1)}catch(ie){P(ie.message,"error")}x(!1)},R=(Y,ae,ie)=>{var ye,be;if(!["ArrowUp","ArrowDown","ArrowLeft","ArrowRight"].includes(Y.key))return;Y.preventDefault();let H=ae,se=ie;Y.key==="ArrowUp"&&(H=Math.max(0,ae-1)),Y.key==="ArrowDown"&&(H=Math.min(g.length-1,ae+1)),(be=(ye=w.current[H])==null?void 0:ye[se])==null||be.focus()},W=Y=>h.jsx("div",{className:"flex-grow overflow-hidden rounded-lg border border-gray-200",children:h.jsx("div",{className:"max-h-[55vh] overflow-y-auto",children:h.jsxs("table",{className:"w-full text-sm text-left text-gray-500",children:[h.jsx("thead",{className:"text-xs text-gray-700 uppercase bg-gray-100 sticky top-0 z-10",children:h.jsxs("tr",{children:[h.jsx("th",{className:"px-4 py-3 text-center",children:Y?n.matchStatus:n.status}),[n.itemName,n.fullPrice,n.halfPrice,n.quarterPrice,n.ingredients,n.specialNote].map(ae=>h.jsx("th",{className:"px-4 py-3",children:ae},ae)),h.jsx("th",{className:"px-4 py-3"})]})}),h.jsx("tbody",{children:g.map((ae,ie)=>{const H=Y&&i.some(be=>{var $;return be.name.trim().toLowerCase()===(($=ae.name)==null?void 0:$.trim().toLowerCase())}),se=!Y&&ae.name&&ae.fullPrice&&!isNaN(parseFloat(ae.fullPrice)),ye=Y?H?ae.fullPrice?"bg-yellow-500":"bg-green-500":"bg-red-500":se?"bg-green-500":ae.name?"bg-red-500":"bg-gray-300";return w.current[ie]||(w.current[ie]=[]),h.jsxs("tr",{className:"border-b hover:bg-gray-50",children:[h.jsx("td",{className:"px-4 py-2 text-center",children:h.jsx("span",{className:`inline-block w-3 h-3 rounded-full ${ye}`})}),["name","fullPrice","halfPrice","quarterPrice","ingredients","specialNote"].map((be,$)=>h.jsx("td",{children:h.jsx("input",{ref:X=>w.current[ie][$]=X,type:"text",value:ae[be]||"",placeholder:Y&&H&&be!=="name"?"no change":be.includes("Price")?"0.00":"",onChange:X=>N(ie,be,X.target.value),onKeyDown:X=>R(X,ie,$),className:"w-full p-2 bg-transparent focus:outline-none focus:ring-2 focus:ring-blue-300 rounded"})},be)),h.jsx("td",{className:"text-center",children:h.jsx("button",{onClick:()=>k(ie,ae),className:"text-red-500 hover:bg-red-100 px-2 rounded",children:""})})]},ie)})})]})})});return h.jsxs("div",{className:`bg-gray-50 min-h-screen ${A?"rtl":"ltr"}`,dir:A?"rtl":"ltr",children:[h.jsx(gae,{...s,onClose:()=>o(null)}),h.jsxs("div",{className:"container mx-auto px-4 lg:px-8 py-8",children:[h.jsxs("header",{className:"flex flex-col sm:flex-row justify-between items-center mb-8 gap-4",children:[h.jsxs("div",{children:[h.jsx("h1",{className:`text-2xl sm:text-4xl font-bold ${c.active?"text-blue-700":"text-gray-800"}`,children:c.active?`${c.items.length} ${n.selected}`:n.menuTitle}),h.jsx("p",{className:"mt-1 text-gray-500",children:c.active?n.selectSubtitle:n.menuSubtitle})]}),h.jsx("div",{className:"flex gap-2",children:c.active?h.jsxs(h.Fragment,{children:[h.jsx("button",{onClick:()=>d(Y=>({...Y,items:Y.items.length===i.length?[]:i.map(ae=>ae.id)})),className:"btn-secondary",children:c.items.length===i.length?n.deselectAll:n.selectAll}),h.jsx("button",{onClick:()=>O("confirm"),disabled:!c.items.length,className:"px-4 py-2 bg-red-600 text-white rounded-lg hover:bg-red-700 disabled:opacity-50",children:n.delete}),h.jsx("button",{onClick:()=>d({active:!1,items:[],deleting:!1}),className:"btn-secondary",children:n.cancel})]}):h.jsxs(h.Fragment,{children:[h.jsx("button",{onClick:()=>O("bulkSelect"),className:"px-5 py-2.5 bg-white border border-gray-300 rounded-lg hover:bg-gray-50 font-semibold text-gray-800",children:n.bulkActions}),h.jsx("button",{onClick:()=>d({active:!0,items:[],deleting:!1}),className:"px-5 py-2.5 bg-blue-600 text-white rounded-lg hover:bg-blue-700 font-semibold",children:n.selectItems})]})})]}),h.jsxs("main",{className:"grid grid-cols-1 sm:grid-cols-2 md:grid-cols-3 lg:grid-cols-4 gap-6",children:[!c.active&&h.jsxs("button",{onClick:()=>O("single"),className:"group border-2 border-dashed border-gray-300 rounded-xl flex flex-col items-center justify-center min-h-[180px] hover:border-blue-500 hover:bg-blue-50 transition-all",children:[h.jsx("div",{className:"w-12 h-12 bg-gray-200 rounded-full flex items-center justify-center group-hover:bg-blue-200 text-2xl text-gray-500 group-hover:text-blue-600",children:"+"}),h.jsx("span",{className:"mt-3 text-gray-600 font-semibold group-hover:text-blue-700",children:n.addNewItem})]}),i.map(Y=>h.jsx(mae,{item:Y,selectionMode:c.active,isSelected:c.items.includes(Y.id),onSelect:()=>D(Y.id),currency:e.currencySymbol},Y.id))]})]}),h.jsxs($u,{isOpen:l.confirm,onClose:()=>O("confirm",!1),children:[h.jsx("h2",{className:"text-2xl font-bold mb-4",children:n.confirmDeleteTitle}),h.jsxs("p",{className:"text-gray-600 mb-6",children:[n.confirmDeleteMsg," ",c.items.length," ",n.items]}),h.jsxs("div",{className:"flex justify-end gap-4",children:[h.jsx("button",{onClick:()=>O("confirm",!1),className:"px-6 py-2 bg-gray-200 rounded-lg",children:n.cancel}),h.jsx("button",{onClick:T,disabled:c.deleting,className:"px-6 py-2 bg-red-600 text-white rounded-lg hover:bg-red-700 disabled:opacity-50",children:c.deleting?n.deleting:n.delete})]})]}),h.jsxs($u,{isOpen:l.single,onClose:()=>O("single",!1),children:[h.jsx("h2",{className:"text-2xl font-bold mb-5",children:n.addItemTitle}),h.jsx("div",{className:"space-y-4",children:[{n:"name",p:n.itemName},{n:"fullPrice",p:n.fullPrice,pre:e.currencySymbol},{n:"halfPrice",p:n.halfPrice,pre:e.currencySymbol},{n:"quarterPrice",p:n.quarterPrice,pre:e.currencySymbol},{n:"ingredients",p:n.ingredients},{n:"specialNote",p:n.specialNote}].map(Y=>h.jsxs("div",{className:"relative",children:[Y.pre&&h.jsx("span",{className:"absolute left-3 top-2.5 text-gray-500",children:Y.pre}),h.jsx("input",{name:Y.n,value:p[Y.n],onChange:ae=>f(ie=>({...ie,[ae.target.name]:ae.target.value})),placeholder:Y.p,className:`w-full p-2.5 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 ${Y.pre?"pl-8":""}`})]},Y.n))}),h.jsx("div",{className:"flex justify-end mt-6",children:h.jsx("button",{onClick:I,className:"bg-blue-600 text-white px-6 py-2 rounded-lg hover:bg-blue-700 font-semibold",children:n.done})})]}),h.jsxs($u,{isOpen:l.bulkSelect,onClose:()=>O("bulkSelect",!1),children:[h.jsx("h2",{className:"text-2xl font-bold mb-4",children:n.bulkActionTitle}),h.jsx("p",{className:"text-gray-600 mb-6",children:n.bulkActionSubtitle}),h.jsxs("div",{className:"space-y-4",children:[h.jsx("button",{onClick:()=>M("bulkAdd"),className:"w-full bg-blue-600 text-white px-6 py-3 rounded-lg hover:bg-blue-700",children:n.addNewItemsBtn}),h.jsx("button",{onClick:()=>M("bulkUpdate"),className:"w-full bg-green-600 text-white px-6 py-3 rounded-lg hover:bg-green-700",children:n.updateExistingBtn})]})]}),(l.bulkAdd||l.bulkUpdate)&&h.jsx($u,{isOpen:!0,onClose:()=>{O("bulkAdd",!1),O("bulkUpdate",!1)},size:"5xl",children:h.jsxs("div",{className:"flex flex-col h-full",children:[h.jsxs("div",{className:"mb-4",children:[h.jsx("h2",{className:"text-2xl font-bold",children:l.bulkAdd?n.bulkAddTitle:n.bulkUpdateTitle}),h.jsx("p",{className:"text-gray-600 mt-1",children:l.bulkAdd?n.bulkAddSubtitle:n.bulkUpdateSubtitle})]}),W(l.bulkUpdate),h.jsxs("div",{className:"flex flex-col sm:flex-row items-center justify-between mt-6",children:[h.jsxs("div",{className:"flex gap-2",children:[h.jsx("button",{onClick:()=>v(Y=>[...Y,{name:"",fullPrice:"",halfPrice:"",quarterPrice:"",ingredients:"",specialNote:""}]),className:"bg-green-100 text-green-800 px-4 py-2 rounded-lg hover:bg-green-200 font-semibold",children:n.addRow}),h.jsx("button",{onClick:()=>v(l.bulkAdd?[{name:"",fullPrice:""}]:[]),className:"bg-gray-200 px-4 py-2 rounded-lg hover:bg-gray-300",children:n.clearAll})]}),h.jsx("button",{onClick:()=>C(l.bulkUpdate),disabled:b,className:`px-6 py-2.5 rounded-lg text-white font-semibold w-32 ${b?"bg-gray-400":"bg-blue-600 hover:bg-blue-700"}`,children:b?l.bulkUpdate?n.updating:n.adding:l.bulkUpdate?n.updateItems:n.addItems})]})]})})]})},yae=()=>h.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-5 w-5 mr-3 text-slate-400",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",strokeWidth:2,children:h.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M16 7a4 4 0 11-8 0 4 4 0 018 0zM12 14a7 7 0 00-7 7h14a7 7 0 00-7-7z"})}),xae=()=>h.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-5 w-5 mr-3 text-slate-400 flex-shrink-0",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",strokeWidth:2,children:h.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M3 5a2 2 0 012-2h3.28a1 1 0 01.948.684l1.498 4.493a1 1 0 01-.502 1.21l-2.257 1.13a11.042 11.042 0 005.516 5.516l1.13-2.257a1 1 0 011.21-.502l4.493 1.498a1 1 0 01.684.949V19a2 2 0 01-2 2h-1C9.716 21 3 14.284 3 6V5z"})}),bae=()=>h.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-5 w-5 mr-3 text-slate-400 flex-shrink-0",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",strokeWidth:2,children:[h.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M17.657 16.657l-4.243 4.243a2 2 0 01-2.828 0l-4.242-4.242a8 8 0 1111.313 0z"}),h.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M15 11a3 3 0 11-6 0 3 3 0 016 0z"})]}),lC=()=>h.jsxs("svg",{className:"animate-spin -ml-1 mr-3 h-5 w-5 text-white",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",children:[h.jsx("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),h.jsx("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})]}),wae=()=>h.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-6 w-6",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",strokeWidth:2,children:h.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M5 7a4 4 0 1 0 8 0a4 4 0 0 0 -8 0 M3 21v-2a4 4 0 0 1 4 -4h4c.96 0 1.84 .338 2.53 .901 M16 3.13a4 4 0 0 1 0 7.75 M16 19h6 M19 16v6"})}),uC={name:"",contact:"",address:""},dw={name:"",contact:"",address:""},_ae=()=>{const[e,t]=S.useState([]),[n,r]=S.useState(!1),[i,a]=S.useState(uC),[s,o]=S.useState(!1),[l,u]=S.useState([dw]),[c,d]=S.useState(!1);S.useEffect(()=>{(async()=>{try{const A=await qm();t(A)}catch(A){console.error("Error loading staff:",A)}})()},[]);const p=w=>{const{name:A,value:P}=w.target;a(O=>({...O,[A]:P}))},f=async()=>{if(!i.name.trim()){alert("Staff name is required.");return}d(!0);try{const w=await xee(i);t([...e,w]),a(uC),r(!1)}catch(w){console.error("Error adding staff:",w),alert("Failed to add staff member.")}finally{d(!1)}},g=(w,A)=>{const{name:P,value:O}=A.target,D=[...l];D[w][P]=O,u(D)},v=()=>{u([...l,{...dw}])},b=async()=>{const w=l.filter(A=>A.name.trim()!=="");if(w.length===0){alert("Please enter a name for at least one staff member.");return}d(!0);try{await bee(w);const A=await qm();t(A),u([dw]),o(!1)}catch(A){console.error("Error adding staff in bulk:",A),alert("Failed to add staff members in bulk.")}finally{d(!1)}},x=(w,A,P)=>{const{key:O,shiftKey:D}=w,T={ArrowDown:{r:1,c:0},Enter:{r:1,c:0,cond:!D},ArrowUp:{r:-1,c:0},ArrowRight:{r:0,c:1},Tab:{r:0,c:1,cond:!D},ArrowLeft:{r:0,c:-1}};let k=null;if(O==="Tab"&&D?k={r:0,c:-1}:T[O]&&T[O].cond!==!1&&(k=T[O]),!k)return;w.preventDefault();let I=A+k.r,M=P+k.c;if(M>2&&(M=0,I++),M<0&&(M=2,I--),(O==="ArrowDown"||O==="Enter"&&!D)&&A===l.length-1){v(),setTimeout(()=>{var C;(C=document.querySelector(`[data-row='${I}'][data-col='${P}']`))==null||C.focus()},0);return}const N=document.querySelector(`[data-row='${I}'][data-col='${M}']`);N&&(N.focus(),N.select())};return h.jsx("div",{className:"bg-slate-50 min-h-full p-4 sm:p-6 lg:p-8",children:h.jsxs("div",{className:"container mx-auto",children:[h.jsxs("div",{className:"mb-8",children:[h.jsx("h1",{className:"text-4xl font-bold text-slate-800",children:"Staff Management"}),h.jsx("p",{className:"text-slate-500 mt-1",children:"Add, view, and manage your team members."})]}),h.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 md:grid-cols-3 lg:grid-cols-4 gap-6",children:[h.jsxs("button",{onClick:()=>r(!0),className:"group bg-white border-2 border-dashed border-slate-300 rounded-xl flex flex-col items-center justify-center min-h-[16rem] text-center p-6 hover:border-indigo-500 hover:text-indigo-600 transition-all duration-300",children:[h.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-12 w-12 text-slate-400 group-hover:text-indigo-500 transition-colors",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",strokeWidth:1.5,children:h.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M12 4v16m8-8H4"})}),h.jsx("span",{className:"font-semibold mt-2",children:"Add New Staff"})]}),e.map(w=>h.jsxs("div",{className:"bg-white rounded-xl shadow-md min-h-[16rem] p-6 flex flex-col justify-between transition-all duration-300 hover:shadow-xl hover:-translate-y-1",children:[h.jsxs("div",{className:"flex items-center",children:[h.jsx("div",{className:"flex-shrink-0 h-12 w-12 rounded-full bg-slate-100 flex items-center justify-center",children:h.jsx(yae,{})}),h.jsx("div",{className:"ml-4",children:h.jsx("h3",{className:"text-xl font-bold text-slate-800 break-words",children:w.name})})]}),h.jsxs("div",{className:"space-y-3 text-sm text-slate-600 mt-4",children:[w.contact&&h.jsxs("p",{className:"flex items-center break-all",children:[h.jsx(xae,{}),w.contact]}),w.address&&h.jsxs("p",{className:"flex items-start break-all",children:[h.jsx(bae,{}),w.address]})]})]},w.id))]}),h.jsxs($u,{isOpen:n,onClose:()=>!c&&r(!1),children:[h.jsxs("div",{className:"flex justify-between items-center pb-3 border-b border-slate-200",children:[h.jsx("h2",{className:"text-2xl font-bold text-slate-800",children:"Add New Staff"}),h.jsx("button",{onClick:()=>r(!1),className:"text-slate-400 hover:text-slate-600 disabled:opacity-50",disabled:c,children:""})]}),h.jsxs("div",{className:"mt-6 space-y-4",children:[h.jsx("input",{type:"text",name:"name",value:i.name,onChange:p,placeholder:"Enter staff name *",className:"w-full p-3 border border-slate-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-indigo-500 disabled:bg-slate-100",disabled:c}),h.jsx("input",{type:"text",name:"contact",value:i.contact,onChange:p,placeholder:"Contact Details (e.g., phone)",className:"w-full p-3 border border-slate-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-indigo-500 disabled:bg-slate-100",disabled:c}),h.jsx("input",{type:"text",name:"address",value:i.address,onChange:p,placeholder:"Address",className:"w-full p-3 border border-slate-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-indigo-500 disabled:bg-slate-100",disabled:c})]}),h.jsxs("div",{className:"flex justify-end mt-6 space-x-4",children:[h.jsx("button",{onClick:()=>r(!1),className:"px-4 py-2 rounded-lg text-slate-600 bg-slate-100 hover:bg-slate-200 transition-colors disabled:opacity-50",disabled:c,children:"Cancel"}),h.jsx("button",{onClick:f,className:"bg-indigo-600 text-white font-semibold px-4 py-2 rounded-lg hover:bg-indigo-700 transition-colors shadow-sm flex items-center disabled:bg-indigo-400",disabled:c,children:c?h.jsxs(h.Fragment,{children:[h.jsx(lC,{})," Saving..."]}):"Save Staff"})]})]}),h.jsxs($u,{isOpen:s,onClose:()=>!c&&o(!1),size:"xl",children:[h.jsxs("div",{className:"flex justify-between items-center pb-3 border-b border-slate-200",children:[h.jsx("h2",{className:"text-2xl font-bold text-slate-800",children:"Bulk Add Staff"}),h.jsx("button",{onClick:()=>o(!1),className:"text-slate-400 hover:text-slate-600 disabled:opacity-50",disabled:c,children:""})]}),h.jsx("p",{className:"text-sm text-slate-500 my-4",children:"Use Arrow Keys, Tab, or Enter to navigate. A new row is added automatically."}),h.jsx("div",{className:"w-full max-h-[60vh] overflow-auto border border-slate-200 rounded-lg",children:h.jsxs("table",{className:"w-full text-sm",children:[h.jsx("thead",{className:"sticky top-0 bg-slate-100 z-10",children:h.jsxs("tr",{children:[h.jsx("th",{className:"p-3 font-semibold text-left text-slate-600",children:"Name *"}),h.jsx("th",{className:"p-3 font-semibold text-left text-slate-600",children:"Contact Details"}),h.jsx("th",{className:"p-3 font-semibold text-left text-slate-600",children:"Address"})]})}),h.jsx("tbody",{children:l.map((w,A)=>h.jsxs("tr",{className:"even:bg-slate-50",children:[h.jsx("td",{children:h.jsx("input",{type:"text",name:"name",value:w.name,onChange:P=>g(A,P),onKeyDown:P=>x(P,A,0),"data-row":A,"data-col":0,placeholder:`Staff ${A+1}`,className:"w-full p-3 bg-transparent focus:outline-none focus:bg-white focus:ring-1 focus:ring-indigo-500 disabled:bg-slate-100",disabled:c})}),h.jsx("td",{children:h.jsx("input",{type:"text",name:"contact",value:w.contact,onChange:P=>g(A,P),onKeyDown:P=>x(P,A,1),"data-row":A,"data-col":1,placeholder:"Contact",className:"w-full p-3 bg-transparent focus:outline-none focus:bg-white focus:ring-1 focus:ring-indigo-500 disabled:bg-slate-100",disabled:c})}),h.jsx("td",{children:h.jsx("input",{type:"text",name:"address",value:w.address,onChange:P=>g(A,P),onKeyDown:P=>x(P,A,2),"data-row":A,"data-col":2,placeholder:"Address",className:"w-full p-3 bg-transparent focus:outline-none focus:bg-white focus:ring-1 focus:ring-indigo-500 disabled:bg-slate-100",disabled:c})})]},A))})]})}),h.jsxs("div",{className:"flex justify-between items-center mt-6",children:[h.jsx("button",{onClick:v,className:"text-indigo-600 font-semibold hover:text-indigo-800 transition-colors disabled:opacity-50",disabled:c,children:"+ Add Row"}),h.jsxs("div",{className:"flex space-x-4",children:[h.jsx("button",{onClick:()=>o(!1),className:"px-6 py-2 rounded-lg text-slate-600 bg-slate-100 hover:bg-slate-200 transition-colors disabled:opacity-50",disabled:c,children:"Cancel"}),h.jsx("button",{onClick:b,className:"bg-indigo-600 text-white font-semibold px-6 py-2 rounded-lg hover:bg-indigo-700 transition-colors shadow-sm flex items-center disabled:bg-indigo-400",disabled:c,children:c?h.jsxs(h.Fragment,{children:[h.jsx(lC,{})," Saving..."]}):"Save All"})]})]})]}),h.jsx("button",{onClick:()=>o(!0),className:"fixed bottom-8 right-8 bg-indigo-600 text-white p-4 rounded-full shadow-lg hover:bg-indigo-700 transition-transform transform hover:scale-110",children:h.jsx(wae,{})})]})})},Sae=()=>h.jsx("svg",{className:"w-5 h-5",fill:"currentColor",viewBox:"0 0 20 20",xmlns:"http://www.w3.org/2000/svg",children:h.jsx("path",{fillRule:"evenodd",d:"M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-7-4a1 1 0 11-2 0 1 1 0 012 0zM9 9a1 1 0 000 2v3a1 1 0 001 1h1a1 1 0 100-2v-3a1 1 0 00-1-1H9z",clipRule:"evenodd"})}),t1=()=>h.jsxs("svg",{className:"animate-spin -ml-1 mr-3 h-5 w-5 text-white",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",children:[h.jsx("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),h.jsx("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})]}),cC=()=>h.jsx("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg",children:h.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M5 13l4 4L19 7"})}),Aae=()=>h.jsx("svg",{className:"w-5 h-5 mr-1",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor",children:h.jsx("path",{d:"M15.362 5.214A8.252 8.252 0 0012 3a8.25 8.25 0 00-3.362 2.214c-1.121 2.3-.11 4.701 2.362 7.048-2.472 2.347-3.483 4.749-2.362 7.048A8.252 8.252 0 0012 21a8.25 8.25 0 003.362-2.214c1.121-2.3.11-4.701-2.362-7.048 2.472-2.347 3.483-4.749 2.362-7.048z"})}),Pae=({onComplete:e,holdTime:t=2e3,children:n})=>{const[r,i]=S.useState(0),a=S.useRef(null),s=S.useRef(null),o=()=>{s.current=Date.now();const c=()=>{const d=Date.now()-s.current,p=Math.min(d/t*100,100);i(p),p<100?a.current=requestAnimationFrame(c):(e(),setTimeout(()=>i(0),500))};a.current=requestAnimationFrame(c)},l=()=>{a.current&&cancelAnimationFrame(a.current),i(0)},u={background:`linear-gradient(to right, #b91c1c ${r}%, #ef4444 ${r}%)`,transition:"background 0.1s linear"};return h.jsx("button",{onMouseDown:o,onMouseUp:l,onMouseLeave:l,onTouchStart:o,onTouchEnd:l,className:"bg-red-600 text-white font-bold py-2 px-4 rounded shadow-md select-none focus:outline-none",style:u,children:n})},Eae=()=>{const[e,t]=S.useState([]),[n,r]=S.useState([]),[i,a]=S.useState([]),[s,o]=S.useState([]),[l,u]=S.useState({currencySymbol:""}),[c,d]=S.useState(null),[p,f]=S.useState(!1),[g,v]=S.useState(!1),[b,x]=S.useState(null),w=S.useCallback(async()=>{if(!(!p||g)){v(!0);try{await Aee(),d({type:"success",message:"All orders have been cleared successfully."})}catch(M){console.error("Failed to clear orders:",M),d({type:"error",message:"An error occurred while clearing orders."})}finally{v(!1),f(!1)}}},[p,g]),A=async(M,N)=>{if(!b){x(M);try{await See(M,N)}catch(C){console.error(`Failed to update order ${M} to ${N}:`,C),d({type:"error",message:"Failed to update order status."})}finally{x(null)}}};S.useEffect(()=>{if(c){const M=setTimeout(()=>d(null),5e3);return()=>clearTimeout(M)}},[c]),S.useEffect(()=>{(async()=>{try{const[C,R,W,Y]=await Promise.all([oD(),XS(),qm(),fo()]);r(C||[]),a(R||[]),o(W||[]),Y&&u(Y)}catch(C){console.error("Error fetching static data:",C),d({type:"error",message:"Could not load initial app data."})}})();const N=uD(C=>{const W=C.filter(Y=>Y.status!=="Served").map(Y=>({...Y,createdAt:new Date(Y.createdAt),status:Y.status||"Pending"})).sort((Y,ae)=>new Date(Y.createdAt)-new Date(ae.createdAt));t(W)},C=>{console.error("Realtime orders error:",C),d({type:"error",message:"Error connecting to real-time orders."})});return()=>N()},[]);const P=M=>{var N;return((N=n.find(C=>(C.id??C._id)===M))==null?void 0:N.name)||"Unknown"},O=M=>{var N;return((N=i.find(C=>(C.id??C._id)===M))==null?void 0:N.name)||"Unknown"},D=M=>{var N;return((N=s.find(C=>(C.id??C._id)===M))==null?void 0:N.name)||"N/A"},T=M=>{switch(M){case"Preparing":return{borderColor:"border-yellow-400",badgeBg:"bg-yellow-100",badgeText:"text-yellow-800"};case"Ready":return{borderColor:"border-green-400",badgeBg:"bg-green-100",badgeText:"text-green-800"};case"Pending":default:return{borderColor:"border-blue-400",badgeBg:"bg-blue-100",badgeText:"text-blue-800"}}},k=()=>{if(!c)return null;const M=c.type==="error";return h.jsxs("div",{className:`fixed top-5 right-5 flex items-center p-4 mb-4 text-sm rounded-lg shadow-lg z-50 ${M?"text-red-800 bg-red-50":"text-green-800 bg-green-50"}`,role:"alert",children:[h.jsx(Sae,{}),h.jsx("span",{className:"sr-only",children:M?"Error":"Success"}),h.jsx("div",{className:"ml-3 font-medium",children:c.message})]})},I=()=>p?h.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex justify-center items-center z-50",children:h.jsxs("div",{className:"bg-white p-6 rounded-lg shadow-xl",children:[h.jsx("h2",{className:"text-xl font-bold mb-4",children:"Confirm Action"}),h.jsx("p",{className:"mb-6",children:"Are you sure you want to clear all orders? This action cannot be undone."}),h.jsxs("div",{className:"flex justify-end gap-4",children:[h.jsx("button",{onClick:()=>f(!1),className:"px-4 py-2 bg-gray-200 rounded-lg hover:bg-gray-300",children:"Cancel"}),h.jsxs("button",{onClick:w,disabled:g,className:"px-4 py-2 bg-red-600 text-white rounded-lg hover:bg-red-700 disabled:bg-red-400 flex items-center",children:[g&&h.jsx(t1,{}),g?"Clearing...":"Clear All"]})]})]})}):null;return h.jsxs(h.Fragment,{children:[h.jsx(I,{}),h.jsxs("div",{className:"container mx-auto py-6 px-4",children:[h.jsx(k,{}),h.jsxs("div",{className:"flex justify-between items-center mb-6",children:[h.jsx("h1",{className:"text-3xl font-bold text-gray-800",children:"Kitchen Orders"}),e.length>0&&h.jsxs("div",{className:"text-right",children:[h.jsx(Pae,{onComplete:()=>f(!0),children:"Press & Hold to Clear Orders"}),h.jsxs("div",{className:"flex items-center justify-end mt-2 text-red-600",children:[h.jsx("div",{className:"w-4 h-4 mr-1",children:h.jsx("svg",{fill:"currentColor",viewBox:"0 0 20 20",xmlns:"http://www.w3.org/2000/svg",children:h.jsx("path",{fillRule:"evenodd",d:"M8.257 3.099c.636-1.21 2.273-1.21 2.91 0l5.396 10.297c.63 1.202-.288 2.653-1.64 2.653H4.5c-1.352 0-2.27-1.451-1.64-2.653l5.396-10.297zM9 8a1 1 0 011 1v3a1 1 0 11-2 0V9a1 1 0 011-1zm1 8a1 1 0 100-2 1 1 0 000 2z",clipRule:"evenodd"})})}),h.jsx("p",{className:"text-xs font-semibold",children:"Warning: This will permanently delete all active orders."})]})]})]}),e.length===0?h.jsx("p",{className:"text-gray-600 text-center text-lg mt-8",children:"No active orders."}):h.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 md:grid-cols-3 lg:grid-cols-4 gap-6",children:e.map(M=>{const N=T(M.status),C=b===M.id;return h.jsxs("div",{className:`bg-white p-4 rounded-lg shadow-md border-l-4 ${N.borderColor} flex flex-col`,children:[h.jsxs("div",{className:"flex justify-between items-center mb-2 pb-2 border-b",children:[h.jsxs("h3",{className:"text-lg font-semibold text-gray-900",children:["Table: ",P(M.tableId)]}),h.jsx("span",{className:`px-2 py-1 text-xs font-semibold rounded-full ${N.badgeBg} ${N.badgeText}`,children:M.status})]}),h.jsx("ul",{className:"text-gray-700 mb-3 space-y-1 flex-grow",children:M.items.map((R,W)=>h.jsxs("li",{className:"flex justify-between items-start",children:[h.jsxs("span",{className:"flex-1 pr-2",children:[O(R.itemId),R.portion&&h.jsxs("span",{className:"text-sm text-gray-500 capitalize ml-1",children:["(",R.portion,")"]})]}),h.jsxs("span",{className:"font-semibold",children:["x ",R.quantity]})]},W))}),h.jsxs("div",{className:"mt-auto pt-2 border-t",children:[h.jsxs("p",{className:"text-gray-800 font-semibold",children:["Total: ",l.currencySymbol,M.total.toFixed(2)]}),M.staffId&&h.jsxs("p",{className:"text-sm text-gray-500 mt-1",children:["Staff: ",D(M.staffId)]}),h.jsxs("div",{className:"mt-4 flex flex-col gap-2",children:[M.status==="Pending"&&h.jsxs("button",{onClick:()=>A(M.id,"Preparing"),disabled:C,className:"w-full flex justify-center items-center px-4 py-2 bg-yellow-500 text-white rounded-lg hover:bg-yellow-600 disabled:bg-yellow-300 font-semibold",children:[C?h.jsx(t1,{}):h.jsx(Aae,{}),C?"Starting...":"Start Cooking"]}),M.status==="Preparing"&&h.jsxs("button",{onClick:()=>A(M.id,"Ready"),disabled:C,className:"w-full flex justify-center items-center px-4 py-2 bg-green-500 text-white rounded-lg hover:bg-green-600 disabled:bg-green-300 font-semibold",children:[C?h.jsx(t1,{}):h.jsx(cC,{}),C?"Finishing...":"Mark as Ready"]}),M.status==="Ready"&&h.jsxs("button",{onClick:()=>A(M.id,"Served"),disabled:C,className:"w-full flex justify-center items-center px-4 py-2 bg-gray-600 text-white rounded-lg hover:bg-gray-700 disabled:bg-gray-400 font-semibold",children:[C?h.jsx(t1,{}):h.jsx(cC,{}),C?"Serving...":"Mark as Served"]})]})]})]},M.id)})})]})]})};var Nae=Object.defineProperty,ty=Object.getOwnPropertySymbols,z9=Object.prototype.hasOwnProperty,$9=Object.prototype.propertyIsEnumerable,dC=(e,t,n)=>t in e?Nae(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,G4=(e,t)=>{for(var n in t||(t={}))z9.call(t,n)&&dC(e,n,t[n]);if(ty)for(var n of ty(t))$9.call(t,n)&&dC(e,n,t[n]);return e},Y4=(e,t)=>{var n={};for(var r in e)z9.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&ty)for(var r of ty(e))t.indexOf(r)<0&&$9.call(e,r)&&(n[r]=e[r]);return n};/**
 * @license QR Code generator library (TypeScript)
 * Copyright (c) Project Nayuki.
 * SPDX-License-Identifier: MIT
 */var kd;(e=>{const t=class Ft{constructor(l,u,c,d){if(this.version=l,this.errorCorrectionLevel=u,this.modules=[],this.isFunction=[],l<Ft.MIN_VERSION||l>Ft.MAX_VERSION)throw new RangeError("Version value out of range");if(d<-1||d>7)throw new RangeError("Mask value out of range");this.size=l*4+17;let p=[];for(let g=0;g<this.size;g++)p.push(!1);for(let g=0;g<this.size;g++)this.modules.push(p.slice()),this.isFunction.push(p.slice());this.drawFunctionPatterns();const f=this.addEccAndInterleave(c);if(this.drawCodewords(f),d==-1){let g=1e9;for(let v=0;v<8;v++){this.applyMask(v),this.drawFormatBits(v);const b=this.getPenaltyScore();b<g&&(d=v,g=b),this.applyMask(v)}}i(0<=d&&d<=7),this.mask=d,this.applyMask(d),this.drawFormatBits(d),this.isFunction=[]}static encodeText(l,u){const c=e.QrSegment.makeSegments(l);return Ft.encodeSegments(c,u)}static encodeBinary(l,u){const c=e.QrSegment.makeBytes(l);return Ft.encodeSegments([c],u)}static encodeSegments(l,u,c=1,d=40,p=-1,f=!0){if(!(Ft.MIN_VERSION<=c&&c<=d&&d<=Ft.MAX_VERSION)||p<-1||p>7)throw new RangeError("Invalid value");let g,v;for(g=c;;g++){const A=Ft.getNumDataCodewords(g,u)*8,P=s.getTotalBits(l,g);if(P<=A){v=P;break}if(g>=d)throw new RangeError("Data too long")}for(const A of[Ft.Ecc.MEDIUM,Ft.Ecc.QUARTILE,Ft.Ecc.HIGH])f&&v<=Ft.getNumDataCodewords(g,A)*8&&(u=A);let b=[];for(const A of l){n(A.mode.modeBits,4,b),n(A.numChars,A.mode.numCharCountBits(g),b);for(const P of A.getData())b.push(P)}i(b.length==v);const x=Ft.getNumDataCodewords(g,u)*8;i(b.length<=x),n(0,Math.min(4,x-b.length),b),n(0,(8-b.length%8)%8,b),i(b.length%8==0);for(let A=236;b.length<x;A^=253)n(A,8,b);let w=[];for(;w.length*8<b.length;)w.push(0);return b.forEach((A,P)=>w[P>>>3]|=A<<7-(P&7)),new Ft(g,u,w,p)}getModule(l,u){return 0<=l&&l<this.size&&0<=u&&u<this.size&&this.modules[u][l]}getModules(){return this.modules}drawFunctionPatterns(){for(let c=0;c<this.size;c++)this.setFunctionModule(6,c,c%2==0),this.setFunctionModule(c,6,c%2==0);this.drawFinderPattern(3,3),this.drawFinderPattern(this.size-4,3),this.drawFinderPattern(3,this.size-4);const l=this.getAlignmentPatternPositions(),u=l.length;for(let c=0;c<u;c++)for(let d=0;d<u;d++)c==0&&d==0||c==0&&d==u-1||c==u-1&&d==0||this.drawAlignmentPattern(l[c],l[d]);this.drawFormatBits(0),this.drawVersion()}drawFormatBits(l){const u=this.errorCorrectionLevel.formatBits<<3|l;let c=u;for(let p=0;p<10;p++)c=c<<1^(c>>>9)*1335;const d=(u<<10|c)^21522;i(d>>>15==0);for(let p=0;p<=5;p++)this.setFunctionModule(8,p,r(d,p));this.setFunctionModule(8,7,r(d,6)),this.setFunctionModule(8,8,r(d,7)),this.setFunctionModule(7,8,r(d,8));for(let p=9;p<15;p++)this.setFunctionModule(14-p,8,r(d,p));for(let p=0;p<8;p++)this.setFunctionModule(this.size-1-p,8,r(d,p));for(let p=8;p<15;p++)this.setFunctionModule(8,this.size-15+p,r(d,p));this.setFunctionModule(8,this.size-8,!0)}drawVersion(){if(this.version<7)return;let l=this.version;for(let c=0;c<12;c++)l=l<<1^(l>>>11)*7973;const u=this.version<<12|l;i(u>>>18==0);for(let c=0;c<18;c++){const d=r(u,c),p=this.size-11+c%3,f=Math.floor(c/3);this.setFunctionModule(p,f,d),this.setFunctionModule(f,p,d)}}drawFinderPattern(l,u){for(let c=-4;c<=4;c++)for(let d=-4;d<=4;d++){const p=Math.max(Math.abs(d),Math.abs(c)),f=l+d,g=u+c;0<=f&&f<this.size&&0<=g&&g<this.size&&this.setFunctionModule(f,g,p!=2&&p!=4)}}drawAlignmentPattern(l,u){for(let c=-2;c<=2;c++)for(let d=-2;d<=2;d++)this.setFunctionModule(l+d,u+c,Math.max(Math.abs(d),Math.abs(c))!=1)}setFunctionModule(l,u,c){this.modules[u][l]=c,this.isFunction[u][l]=!0}addEccAndInterleave(l){const u=this.version,c=this.errorCorrectionLevel;if(l.length!=Ft.getNumDataCodewords(u,c))throw new RangeError("Invalid argument");const d=Ft.NUM_ERROR_CORRECTION_BLOCKS[c.ordinal][u],p=Ft.ECC_CODEWORDS_PER_BLOCK[c.ordinal][u],f=Math.floor(Ft.getNumRawDataModules(u)/8),g=d-f%d,v=Math.floor(f/d);let b=[];const x=Ft.reedSolomonComputeDivisor(p);for(let A=0,P=0;A<d;A++){let O=l.slice(P,P+v-p+(A<g?0:1));P+=O.length;const D=Ft.reedSolomonComputeRemainder(O,x);A<g&&O.push(0),b.push(O.concat(D))}let w=[];for(let A=0;A<b[0].length;A++)b.forEach((P,O)=>{(A!=v-p||O>=g)&&w.push(P[A])});return i(w.length==f),w}drawCodewords(l){if(l.length!=Math.floor(Ft.getNumRawDataModules(this.version)/8))throw new RangeError("Invalid argument");let u=0;for(let c=this.size-1;c>=1;c-=2){c==6&&(c=5);for(let d=0;d<this.size;d++)for(let p=0;p<2;p++){const f=c-p,v=(c+1&2)==0?this.size-1-d:d;!this.isFunction[v][f]&&u<l.length*8&&(this.modules[v][f]=r(l[u>>>3],7-(u&7)),u++)}}i(u==l.length*8)}applyMask(l){if(l<0||l>7)throw new RangeError("Mask value out of range");for(let u=0;u<this.size;u++)for(let c=0;c<this.size;c++){let d;switch(l){case 0:d=(c+u)%2==0;break;case 1:d=u%2==0;break;case 2:d=c%3==0;break;case 3:d=(c+u)%3==0;break;case 4:d=(Math.floor(c/3)+Math.floor(u/2))%2==0;break;case 5:d=c*u%2+c*u%3==0;break;case 6:d=(c*u%2+c*u%3)%2==0;break;case 7:d=((c+u)%2+c*u%3)%2==0;break;default:throw new Error("Unreachable")}!this.isFunction[u][c]&&d&&(this.modules[u][c]=!this.modules[u][c])}}getPenaltyScore(){let l=0;for(let p=0;p<this.size;p++){let f=!1,g=0,v=[0,0,0,0,0,0,0];for(let b=0;b<this.size;b++)this.modules[p][b]==f?(g++,g==5?l+=Ft.PENALTY_N1:g>5&&l++):(this.finderPenaltyAddHistory(g,v),f||(l+=this.finderPenaltyCountPatterns(v)*Ft.PENALTY_N3),f=this.modules[p][b],g=1);l+=this.finderPenaltyTerminateAndCount(f,g,v)*Ft.PENALTY_N3}for(let p=0;p<this.size;p++){let f=!1,g=0,v=[0,0,0,0,0,0,0];for(let b=0;b<this.size;b++)this.modules[b][p]==f?(g++,g==5?l+=Ft.PENALTY_N1:g>5&&l++):(this.finderPenaltyAddHistory(g,v),f||(l+=this.finderPenaltyCountPatterns(v)*Ft.PENALTY_N3),f=this.modules[b][p],g=1);l+=this.finderPenaltyTerminateAndCount(f,g,v)*Ft.PENALTY_N3}for(let p=0;p<this.size-1;p++)for(let f=0;f<this.size-1;f++){const g=this.modules[p][f];g==this.modules[p][f+1]&&g==this.modules[p+1][f]&&g==this.modules[p+1][f+1]&&(l+=Ft.PENALTY_N2)}let u=0;for(const p of this.modules)u=p.reduce((f,g)=>f+(g?1:0),u);const c=this.size*this.size,d=Math.ceil(Math.abs(u*20-c*10)/c)-1;return i(0<=d&&d<=9),l+=d*Ft.PENALTY_N4,i(0<=l&&l<=2568888),l}getAlignmentPatternPositions(){if(this.version==1)return[];{const l=Math.floor(this.version/7)+2,u=this.version==32?26:Math.ceil((this.version*4+4)/(l*2-2))*2;let c=[6];for(let d=this.size-7;c.length<l;d-=u)c.splice(1,0,d);return c}}static getNumRawDataModules(l){if(l<Ft.MIN_VERSION||l>Ft.MAX_VERSION)throw new RangeError("Version number out of range");let u=(16*l+128)*l+64;if(l>=2){const c=Math.floor(l/7)+2;u-=(25*c-10)*c-55,l>=7&&(u-=36)}return i(208<=u&&u<=29648),u}static getNumDataCodewords(l,u){return Math.floor(Ft.getNumRawDataModules(l)/8)-Ft.ECC_CODEWORDS_PER_BLOCK[u.ordinal][l]*Ft.NUM_ERROR_CORRECTION_BLOCKS[u.ordinal][l]}static reedSolomonComputeDivisor(l){if(l<1||l>255)throw new RangeError("Degree out of range");let u=[];for(let d=0;d<l-1;d++)u.push(0);u.push(1);let c=1;for(let d=0;d<l;d++){for(let p=0;p<u.length;p++)u[p]=Ft.reedSolomonMultiply(u[p],c),p+1<u.length&&(u[p]^=u[p+1]);c=Ft.reedSolomonMultiply(c,2)}return u}static reedSolomonComputeRemainder(l,u){let c=u.map(d=>0);for(const d of l){const p=d^c.shift();c.push(0),u.forEach((f,g)=>c[g]^=Ft.reedSolomonMultiply(f,p))}return c}static reedSolomonMultiply(l,u){if(l>>>8||u>>>8)throw new RangeError("Byte out of range");let c=0;for(let d=7;d>=0;d--)c=c<<1^(c>>>7)*285,c^=(u>>>d&1)*l;return i(c>>>8==0),c}finderPenaltyCountPatterns(l){const u=l[1];i(u<=this.size*3);const c=u>0&&l[2]==u&&l[3]==u*3&&l[4]==u&&l[5]==u;return(c&&l[0]>=u*4&&l[6]>=u?1:0)+(c&&l[6]>=u*4&&l[0]>=u?1:0)}finderPenaltyTerminateAndCount(l,u,c){return l&&(this.finderPenaltyAddHistory(u,c),u=0),u+=this.size,this.finderPenaltyAddHistory(u,c),this.finderPenaltyCountPatterns(c)}finderPenaltyAddHistory(l,u){u[0]==0&&(l+=this.size),u.pop(),u.unshift(l)}};t.MIN_VERSION=1,t.MAX_VERSION=40,t.PENALTY_N1=3,t.PENALTY_N2=3,t.PENALTY_N3=40,t.PENALTY_N4=10,t.ECC_CODEWORDS_PER_BLOCK=[[-1,7,10,15,20,26,18,20,24,30,18,20,24,26,30,22,24,28,30,28,28,28,28,30,30,26,28,30,30,30,30,30,30,30,30,30,30,30,30,30,30],[-1,10,16,26,18,24,16,18,22,22,26,30,22,22,24,24,28,28,26,26,26,26,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28],[-1,13,22,18,26,18,24,18,22,20,24,28,26,24,20,30,24,28,28,26,30,28,30,30,30,30,28,30,30,30,30,30,30,30,30,30,30,30,30,30,30],[-1,17,28,22,16,22,28,26,26,24,28,24,28,22,24,24,30,28,28,26,28,30,24,30,30,30,30,30,30,30,30,30,30,30,30,30,30,30,30,30,30]],t.NUM_ERROR_CORRECTION_BLOCKS=[[-1,1,1,1,1,1,2,2,2,2,4,4,4,4,4,6,6,6,6,7,8,8,9,9,10,12,12,12,13,14,15,16,17,18,19,19,20,21,22,24,25],[-1,1,1,1,2,2,4,4,4,5,5,5,8,9,9,10,10,11,13,14,16,17,17,18,20,21,23,25,26,28,29,31,33,35,37,38,40,43,45,47,49],[-1,1,1,2,2,4,4,6,6,8,8,8,10,12,16,12,17,16,18,21,20,23,23,25,27,29,34,34,35,38,40,43,45,48,51,53,56,59,62,65,68],[-1,1,1,2,4,4,4,5,6,8,8,11,11,16,16,18,16,19,21,25,25,25,34,30,32,35,37,40,42,45,48,51,54,57,60,63,66,70,74,77,81]],e.QrCode=t;function n(o,l,u){if(l<0||l>31||o>>>l)throw new RangeError("Value out of range");for(let c=l-1;c>=0;c--)u.push(o>>>c&1)}function r(o,l){return(o>>>l&1)!=0}function i(o){if(!o)throw new Error("Assertion error")}const a=class cr{constructor(l,u,c){if(this.mode=l,this.numChars=u,this.bitData=c,u<0)throw new RangeError("Invalid argument");this.bitData=c.slice()}static makeBytes(l){let u=[];for(const c of l)n(c,8,u);return new cr(cr.Mode.BYTE,l.length,u)}static makeNumeric(l){if(!cr.isNumeric(l))throw new RangeError("String contains non-numeric characters");let u=[];for(let c=0;c<l.length;){const d=Math.min(l.length-c,3);n(parseInt(l.substring(c,c+d),10),d*3+1,u),c+=d}return new cr(cr.Mode.NUMERIC,l.length,u)}static makeAlphanumeric(l){if(!cr.isAlphanumeric(l))throw new RangeError("String contains unencodable characters in alphanumeric mode");let u=[],c;for(c=0;c+2<=l.length;c+=2){let d=cr.ALPHANUMERIC_CHARSET.indexOf(l.charAt(c))*45;d+=cr.ALPHANUMERIC_CHARSET.indexOf(l.charAt(c+1)),n(d,11,u)}return c<l.length&&n(cr.ALPHANUMERIC_CHARSET.indexOf(l.charAt(c)),6,u),new cr(cr.Mode.ALPHANUMERIC,l.length,u)}static makeSegments(l){return l==""?[]:cr.isNumeric(l)?[cr.makeNumeric(l)]:cr.isAlphanumeric(l)?[cr.makeAlphanumeric(l)]:[cr.makeBytes(cr.toUtf8ByteArray(l))]}static makeEci(l){let u=[];if(l<0)throw new RangeError("ECI assignment value out of range");if(l<128)n(l,8,u);else if(l<16384)n(2,2,u),n(l,14,u);else if(l<1e6)n(6,3,u),n(l,21,u);else throw new RangeError("ECI assignment value out of range");return new cr(cr.Mode.ECI,0,u)}static isNumeric(l){return cr.NUMERIC_REGEX.test(l)}static isAlphanumeric(l){return cr.ALPHANUMERIC_REGEX.test(l)}getData(){return this.bitData.slice()}static getTotalBits(l,u){let c=0;for(const d of l){const p=d.mode.numCharCountBits(u);if(d.numChars>=1<<p)return 1/0;c+=4+p+d.bitData.length}return c}static toUtf8ByteArray(l){l=encodeURI(l);let u=[];for(let c=0;c<l.length;c++)l.charAt(c)!="%"?u.push(l.charCodeAt(c)):(u.push(parseInt(l.substring(c+1,c+3),16)),c+=2);return u}};a.NUMERIC_REGEX=/^[0-9]*$/,a.ALPHANUMERIC_REGEX=/^[A-Z0-9 $%*+.\/:-]*$/,a.ALPHANUMERIC_CHARSET="0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ $%*+-./:";let s=a;e.QrSegment=a})(kd||(kd={}));(e=>{(t=>{const n=class{constructor(i,a){this.ordinal=i,this.formatBits=a}};n.LOW=new n(0,1),n.MEDIUM=new n(1,0),n.QUARTILE=new n(2,3),n.HIGH=new n(3,2),t.Ecc=n})(e.QrCode||(e.QrCode={}))})(kd||(kd={}));(e=>{(t=>{const n=class{constructor(i,a){this.modeBits=i,this.numBitsCharCount=a}numCharCountBits(i){return this.numBitsCharCount[Math.floor((i+7)/17)]}};n.NUMERIC=new n(1,[10,12,14]),n.ALPHANUMERIC=new n(2,[9,11,13]),n.BYTE=new n(4,[8,16,16]),n.KANJI=new n(8,[8,10,12]),n.ECI=new n(7,[0,0,0]),t.Mode=n})(e.QrSegment||(e.QrSegment={}))})(kd||(kd={}));var Of=kd;/**
 * @license qrcode.react
 * Copyright (c) Paul O'Shannessy
 * SPDX-License-Identifier: ISC
 */var kae={L:Of.QrCode.Ecc.LOW,M:Of.QrCode.Ecc.MEDIUM,Q:Of.QrCode.Ecc.QUARTILE,H:Of.QrCode.Ecc.HIGH},U9=128,W9="L",q9="#FFFFFF",H9="#000000",K9=!1,G9=1,Tae=4,Cae=0,jae=.1;function Y9(e,t=0){const n=[];return e.forEach(function(r,i){let a=null;r.forEach(function(s,o){if(!s&&a!==null){n.push(`M${a+t} ${i+t}h${o-a}v1H${a+t}z`),a=null;return}if(o===r.length-1){if(!s)return;a===null?n.push(`M${o+t},${i+t} h1v1H${o+t}z`):n.push(`M${a+t},${i+t} h${o+1-a}v1H${a+t}z`);return}s&&a===null&&(a=o)})}),n.join("")}function X9(e,t){return e.slice().map((n,r)=>r<t.y||r>=t.y+t.h?n:n.map((i,a)=>a<t.x||a>=t.x+t.w?i:!1))}function Iae(e,t,n,r){if(r==null)return null;const i=e.length+n*2,a=Math.floor(t*jae),s=i/t,o=(r.width||a)*s,l=(r.height||a)*s,u=r.x==null?e.length/2-o/2:r.x*s,c=r.y==null?e.length/2-l/2:r.y*s,d=r.opacity==null?1:r.opacity;let p=null;if(r.excavate){let g=Math.floor(u),v=Math.floor(c),b=Math.ceil(o+u-g),x=Math.ceil(l+c-v);p={x:g,y:v,w:b,h:x}}const f=r.crossOrigin;return{x:u,y:c,h:l,w:o,excavation:p,opacity:d,crossOrigin:f}}function Oae(e,t){return t!=null?Math.max(Math.floor(t),0):e?Tae:Cae}function Q9({value:e,level:t,minVersion:n,includeMargin:r,marginSize:i,imageSettings:a,size:s,boostLevel:o}){let l=pn.useMemo(()=>{const g=(Array.isArray(e)?e:[e]).reduce((v,b)=>(v.push(...Of.QrSegment.makeSegments(b)),v),[]);return Of.QrCode.encodeSegments(g,kae[t],n,void 0,void 0,o)},[e,t,n,o]);const{cells:u,margin:c,numCells:d,calculatedImageSettings:p}=pn.useMemo(()=>{let f=l.getModules();const g=Oae(r,i),v=f.length+g*2,b=Iae(f,s,g,a);return{cells:f,margin:g,numCells:v,calculatedImageSettings:b}},[l,s,a,r,i]);return{qrcode:l,margin:c,cells:u,numCells:d,calculatedImageSettings:p}}var Lae=function(){try{new Path2D().addPath(new Path2D)}catch{return!1}return!0}(),Rae=pn.forwardRef(function(t,n){const r=t,{value:i,size:a=U9,level:s=W9,bgColor:o=q9,fgColor:l=H9,includeMargin:u=K9,minVersion:c=G9,boostLevel:d,marginSize:p,imageSettings:f}=r,v=Y4(r,["value","size","level","bgColor","fgColor","includeMargin","minVersion","boostLevel","marginSize","imageSettings"]),{style:b}=v,x=Y4(v,["style"]),w=f==null?void 0:f.src,A=pn.useRef(null),P=pn.useRef(null),O=pn.useCallback(W=>{A.current=W,typeof n=="function"?n(W):n&&(n.current=W)},[n]),[D,T]=pn.useState(!1),{margin:k,cells:I,numCells:M,calculatedImageSettings:N}=Q9({value:i,level:s,minVersion:c,boostLevel:d,includeMargin:u,marginSize:p,imageSettings:f,size:a});pn.useEffect(()=>{if(A.current!=null){const W=A.current,Y=W.getContext("2d");if(!Y)return;let ae=I;const ie=P.current,H=N!=null&&ie!==null&&ie.complete&&ie.naturalHeight!==0&&ie.naturalWidth!==0;H&&N.excavation!=null&&(ae=X9(I,N.excavation));const se=window.devicePixelRatio||1;W.height=W.width=a*se;const ye=a/M*se;Y.scale(ye,ye),Y.fillStyle=o,Y.fillRect(0,0,M,M),Y.fillStyle=l,Lae?Y.fill(new Path2D(Y9(ae,k))):I.forEach(function(be,$){be.forEach(function(X,re){X&&Y.fillRect(re+k,$+k,1,1)})}),N&&(Y.globalAlpha=N.opacity),H&&Y.drawImage(ie,N.x+k,N.y+k,N.w,N.h)}}),pn.useEffect(()=>{T(!1)},[w]);const C=G4({height:a,width:a},b);let R=null;return w!=null&&(R=pn.createElement("img",{src:w,key:w,style:{display:"none"},onLoad:()=>{T(!0)},ref:P,crossOrigin:N==null?void 0:N.crossOrigin})),pn.createElement(pn.Fragment,null,pn.createElement("canvas",G4({style:C,height:a,width:a,ref:O,role:"img"},x)),R)});Rae.displayName="QRCodeCanvas";var Z9=pn.forwardRef(function(t,n){const r=t,{value:i,size:a=U9,level:s=W9,bgColor:o=q9,fgColor:l=H9,includeMargin:u=K9,minVersion:c=G9,boostLevel:d,title:p,marginSize:f,imageSettings:g}=r,v=Y4(r,["value","size","level","bgColor","fgColor","includeMargin","minVersion","boostLevel","title","marginSize","imageSettings"]),{margin:b,cells:x,numCells:w,calculatedImageSettings:A}=Q9({value:i,level:s,minVersion:c,boostLevel:d,includeMargin:u,marginSize:f,imageSettings:g,size:a});let P=x,O=null;g!=null&&A!=null&&(A.excavation!=null&&(P=X9(x,A.excavation)),O=pn.createElement("image",{href:g.src,height:A.h,width:A.w,x:A.x+b,y:A.y+b,preserveAspectRatio:"none",opacity:A.opacity,crossOrigin:A.crossOrigin}));const D=Y9(P,b);return pn.createElement("svg",G4({height:a,width:a,viewBox:`0 0 ${w} ${w}`,ref:n,role:"img"},v),!!p&&pn.createElement("title",null,p),pn.createElement("path",{fill:o,d:`M0,0 h${w}v${w}H0z`,shapeRendering:"crispEdges"}),pn.createElement("path",{fill:l,d:D,shapeRendering:"crispEdges"}),O)});Z9.displayName="QRCodeSVG";const Mae=S.forwardRef(({details:e,settings:t,discount:n=0,onDiscountChange:r,onPrint:i},a)=>{if(!e)return null;const{order:s={},items:o=[],tableName:l="N/A",staffName:u="N/A"}=e,c=(t==null?void 0:t.restaurantName)||"SyncServe Restaurant",d=(t==null?void 0:t.address)||"123 Culinary Lane, Edakkara, Kerala",p=(t==null?void 0:t.upiId)||"your-upi@id",f=(t==null?void 0:t.currencySymbol)||"",g=(t==null?void 0:t.currencyCode)||"INR",v=S.useMemo(()=>(Array.isArray(o)?o:[]).map(D=>{const T=Number(D.quantity??D.qty??1),k=Number(D.price??D.rate??0);return{itemId:D.itemId??Math.random(),name:String(D.name??D.itemName??"Item"),notes:String(D.notes??D.modifiers??D.description??""),quantity:Number.isFinite(T)?T:1,price:Number.isFinite(k)?k:0,amount:Number.isFinite(T)&&Number.isFinite(k)?T*k:0}}),[o]),{subTotal:b,grandTotal:x}=S.useMemo(()=>{const O=v.reduce((I,M)=>I+M.amount,0),D=Number(s.total??O),T=Number(n||0),k=Math.max(0,D-T);return{subTotal:D,grandTotal:k}},[v,s.total,n]),{dateStr:w,timeStr:A}=S.useMemo(()=>{const O=new Date;try{const D=new Date(s.createdAt??s.date);return isNaN(D.getTime())?{dateStr:O.toLocaleDateString("en-IN"),timeStr:O.toLocaleTimeString("en-IN",{hour:"2-digit",minute:"2-digit"})}:{dateStr:D.toLocaleDateString("en-IN"),timeStr:D.toLocaleTimeString("en-IN",{hour:"2-digit",minute:"2-digit"})}}catch{return{dateStr:O.toLocaleDateString("en-IN"),timeStr:O.toLocaleTimeString("en-IN",{hour:"2-digit",minute:"2-digit"})}}},[s.createdAt,s.date]),P=S.useMemo(()=>{const O=c.replace(/\s/g,"%20"),D=`Bill%20for%20${l}`.replace(/\s/g,"%20");return`upi://pay?pa=${p}&pn=${O}&am=${x.toFixed(2)}&cu=${g}&tn=${D}`},[x,l,c,p,g]);return h.jsxs("div",{ref:a,className:"thermal-print","aria-label":`Bill for ${l}`,children:[h.jsxs("header",{className:"header",children:[h.jsx("div",{className:"logo-placeholder",children:"[Your Logo Here]"}),h.jsx("h1",{className:"business-name",children:c}),h.jsx("p",{className:"business-details",children:d}),h.jsx("p",{className:"invoice-title",children:"--- INVOICE ---"})]}),h.jsxs("section",{className:"meta-info",children:[h.jsxs("div",{className:"meta-row",children:[h.jsxs("span",{children:["Table: ",h.jsx("strong",{children:l})]}),h.jsxs("span",{children:["Date: ",w]})]}),h.jsxs("div",{className:"meta-row",children:[h.jsxs("span",{children:["Staff: ",h.jsx("strong",{children:u})]}),h.jsxs("span",{children:["Time: ",A]})]})]}),h.jsxs("table",{className:"items-table",children:[h.jsx("thead",{children:h.jsxs("tr",{children:[h.jsx("th",{className:"col-sno",children:"#"}),h.jsx("th",{className:"col-item",children:"ITEM"}),h.jsx("th",{className:"col-qty",children:"QTY"}),h.jsx("th",{className:"col-price",children:"RATE"}),h.jsx("th",{className:"col-total",children:"TOTAL"})]})}),h.jsx("tbody",{children:v.length===0?h.jsx("tr",{children:h.jsx("td",{colSpan:"5",className:"no-items",children:"No items in this order."})}):v.map((O,D)=>h.jsxs("tr",{children:[h.jsx("td",{className:"col-sno",children:D+1}),h.jsxs("td",{className:"col-item",children:[h.jsx("span",{className:"item-name",children:O.name}),O.notes&&h.jsx("span",{className:"item-notes",children:O.notes})]}),h.jsx("td",{className:"col-qty",children:O.quantity}),h.jsx("td",{className:"col-price",children:O.price.toFixed(2)}),h.jsx("td",{className:"col-total",children:O.amount.toFixed(2)})]},O.itemId))})]}),h.jsxs("section",{className:"totals",children:[h.jsxs("div",{className:"total-row",children:[h.jsx("span",{children:"Sub Total"}),h.jsxs("span",{children:[f,b.toFixed(2)]})]}),h.jsxs("div",{className:"total-row no-print",children:[h.jsx("span",{children:"Discount"}),h.jsxs("div",{className:"discount-control",children:[h.jsxs("span",{children:[f,Number(n).toFixed(2)]}),h.jsx("input",{type:"number",value:n,onChange:r,className:"discount-input","aria-label":"Discount amount"})]})]}),h.jsxs("div",{className:"total-row print-only",children:[h.jsx("span",{children:"Discount"}),h.jsxs("span",{children:[f,Number(n).toFixed(2)]})]}),h.jsxs("div",{className:"total-row grand-total",children:[h.jsx("span",{children:"Grand Total"}),h.jsxs("span",{children:[f,x.toFixed(2)]})]})]}),h.jsx("div",{className:"actions no-print",children:h.jsx("button",{onClick:i,className:"print-button",children:"Print / Finalize Bill"})}),h.jsxs("footer",{className:"footer",children:[h.jsx("div",{className:"qr-code-container",children:x>0&&p?h.jsx(Z9,{value:P,size:110,bgColor:"#ffffff",fgColor:"#000000",level:"L",includeMargin:!1}):h.jsx("div",{className:"qr-placeholder",children:"[QR Code Here]"})}),h.jsx("p",{className:"footer-message",children:"Thank you for your visit!"}),s.id&&h.jsxs("p",{className:"order-id",children:["Order ID: ",String(s.id)]})]})]})}),Dae=".thermal-print{width:100%;max-width:76mm;margin:0 auto;padding:12px;background-color:#fff;color:#000;font-family:Courier New,Courier,monospace;font-size:12px;line-height:1.4;box-sizing:border-box}.thermal-print *{box-sizing:border-box}.header{text-align:center;margin-bottom:10px}.logo-placeholder{font-size:10px;color:#888;margin-bottom:8px}.business-name{font-size:16px;font-weight:700;margin:0}.business-details{font-size:10px;margin:2px 0}.invoice-title{font-size:10px;margin:8px 0 0;font-weight:700}.meta-info{font-size:10px;margin-bottom:10px;border-top:1px dashed #000;border-bottom:1px dashed #000;padding:5px 0}.meta-row{display:flex;justify-content:space-between}.items-table{width:100%;border-collapse:collapse;margin-bottom:10px}.items-table thead{border-bottom:1px solid #000}.items-table th{font-size:10px;font-weight:700;padding:5px 2px}.items-table td{padding:5px 2px;vertical-align:top;border-bottom:1px dotted #888}.no-items{text-align:center;padding:15px 0;color:#888}.item-name{display:block}.item-notes{display:block;font-size:9px;color:#555;padding-left:5px}.col-sno{width:8%;text-align:left;padding-right:4px}.col-item{width:37%;text-align:left}.col-qty,.col-price,.col-total{text-align:right;white-space:nowrap;font-variant-numeric:tabular-nums}.col-qty{width:15%}.col-price,.col-total{width:20%}.totals{font-size:12px;border-top:1px solid #000;padding-top:5px}.total-row{display:flex;justify-content:space-between;margin-bottom:3px}.grand-total{font-weight:700;font-size:15px;margin-top:5px;padding-top:5px;border-top:1px dashed #000}.discount-control{display:flex;align-items:center;gap:8px}.discount-input{width:70px;border:1px solid #ccc;text-align:right;padding:2px}.actions{margin:15px 0}.print-button{width:100%;padding:10px;background-color:#333;color:#fff;border:none;cursor:pointer;font-family:inherit;font-size:14px}.footer{text-align:center;margin-top:15px;border-top:1px dashed #000;padding-top:10px}.qr-placeholder{width:90px;height:90px;border:1px solid #888;margin:0 auto 10px;display:flex;align-items:center;justify-content:center;font-size:9px;color:#888}.footer-message{font-weight:700}.order-id{font-size:9px;color:#555;margin-top:5px}.qr-code-container{margin:0 auto 10px;width:110px;height:110px}.print-only{display:none}@media print{.no-print{display:none!important}.print-only{display:flex}.thermal-print{max-width:100%;padding:0;box-shadow:none}.qr-code-container{display:block}}",fC={success:h.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M9 12l2 2 4-4m6 2a9 9 0 11-18 0 9 9 0 0118 0z"}),error:h.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M12 8v4m0 4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"}),warning:h.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M12 9v2m0 4h.01m-6.938 4h13.856c1.54 0 2.502-1.667 1.732-3L13.732 4c-.77-1.333-2.694-1.333-3.464 0L3.34 16c-.77 1.333.192 3 1.732 3z"}),info:h.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M13 16h-1v-4h-1m1-4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"})},Fae=S.memo(({show:e,message:t,type:n,onClose:r})=>{if(!e)return null;const i={success:"bg-green-50 text-green-800 border-green-200",error:"bg-red-50 text-red-800 border-red-200",warning:"bg-orange-50 text-orange-800 border-orange-200",info:"bg-gray-50 text-gray-600 border-gray-200"};return h.jsxs("div",{className:`fixed top-5 left-4 right-4 md:left-auto md:right-5 md:w-96 z-50 flex items-center p-4 rounded-lg border shadow-lg transition-all duration-300 ${i[n]||i.info}`,children:[h.jsx("svg",{className:"w-5 h-5 mr-3 flex-shrink-0",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:fC[n]||fC.info}),h.jsx("div",{className:"text-sm font-medium",children:t}),h.jsx("button",{onClick:r,className:"ml-auto -mx-1.5 -my-1.5 rounded-lg p-1.5 inline-flex h-8 w-8 opacity-70 hover:opacity-100 focus:ring-2",children:h.jsx("svg",{className:"w-4 h-4",fill:"currentColor",viewBox:"0 0 20 20",children:h.jsx("path",{fillRule:"evenodd",d:"M4.293 4.293a1 1 0 011.414 0L10 8.586l4.293-4.293a1 1 0 111.414 1.414L11.414 10l4.293 4.293a1 1 0 01-1.414 1.414L10 11.414l-4.293 4.293a1 1 0 01-1.414-1.414L8.586 10 4.293 5.707a1 1 0 010-1.414z",clipRule:"evenodd"})})})]})}),Ep=({active:e,label:t,onClick:n,color:r})=>h.jsx("button",{onClick:n,className:`w-full transition-colors duration-200 px-4 py-2 rounded-lg text-sm font-semibold ${e?`bg-${r}-600 text-white shadow`:"bg-gray-200 hover:bg-gray-300 text-gray-700"}`,children:t}),Bae=()=>{var f;const[e,t]=S.useState({tables:[],orders:[],menuItems:[],staff:[],settings:{}}),[n,r]=S.useState({loading:!1,selectedTableId:"",highlightedIndex:-1,discount:0,orderType:"Dine-In",paymentMode:"Cash"}),[i,a]=S.useState(null),[s,o]=S.useState({show:!1,message:"",type:"info"}),l=S.useRef(null),u=S.useRef(null),c=e.tables.filter(g=>g.status==="occupied"),d=S.useCallback((g,v="success")=>{o({show:!0,message:g,type:v}),setTimeout(()=>o(b=>({...b,show:!1})),2500)},[]);S.useEffect(()=>{var x;(async()=>{r(w=>({...w,loading:!0}));try{const[w,A,P]=await Promise.all([XS(),qm(),fo()]);t(O=>({...O,menuItems:w||[],staff:A||[],settings:P||{}}))}catch{d("Failed to load data. Please refresh.","error")}finally{r(w=>({...w,loading:!1}))}})(),(x=l.current)==null||x.focus();const v=lD(w=>t(A=>({...A,tables:w||[]})),()=>d("Table sync error","error")),b=uD(w=>t(A=>({...A,orders:w||[]})),()=>d("Order sync error","error"));return()=>{v&&v(),b&&b()}},[d]);const p=S.useCallback(async()=>{var b,x;if(!i){if(c.length===0)return d("No active bills to process.","info");const w=(b=c[n.highlightedIndex])==null?void 0:b.id;return w&&w!==n.selectedTableId?d("Press ENTER to confirm table selection first.","warning"):d("Please select a table first.","warning")}if(!u.current)return;const g=document.createElement("iframe");Object.assign(g.style,{position:"fixed",right:"0",bottom:"0",width:"0",height:"0",border:"0",visibility:"hidden"}),document.body.appendChild(g);const v=g.contentWindow.document;v.open(),v.write(`<!doctype html><html><head><style>${Dae}</style></head><body><div class="receipt-print-container"><div class="receipt">${u.current.innerHTML}</div></div></body></html>`),v.close(),g.onload=()=>{const w=g.contentWindow;w.focus(),setTimeout(()=>{try{w.print()}catch(A){console.error(A)}setTimeout(()=>document.body.removeChild(g),500)},250)};try{const w=i.items.reduce((A,P)=>A+P.price*P.quantity,0);await Pee({tableName:i.tableName,staffName:i.staffName,subTotal:w,discount:Number(n.discount)||0,grandTotal:w-(Number(n.discount)||0),items:i.items,originalOrderId:i.order.id,orderType:n.orderType,paymentMode:n.paymentMode}),await fee(n.selectedTableId,"available"),await _ee(i.order.id),d(`Saved: ${i.tableName} (${n.orderType} / ${n.paymentMode})`,"success"),a(null),r(A=>({...A,selectedTableId:"",highlightedIndex:-1,discount:0,orderType:"Dine-In",paymentMode:"Cash"})),(x=l.current)==null||x.focus()}catch{d("Finalize failed. Check console.","error")}},[i,n,c,d]);return S.useEffect(()=>{const g=v=>{if(v.ctrlKey&&v.key.toLowerCase()==="p"){v.preventDefault(),p();return}const b={F3:["orderType","Dine-In"],F4:["orderType","Takeaway"],F7:["paymentMode","Cash"],F8:["paymentMode","Card"],F9:["paymentMode","UPI"]};if(b[v.key]){v.preventDefault(),r(x=>({...x,[b[v.key][0]]:b[v.key][1]})),d(`${b[v.key][1]} Mode`,"info");return}if(v.key==="ArrowDown"||v.key==="ArrowUp"){if(v.preventDefault(),c.length===0){s.show||d("No active bills to select.","info");return}r(x=>{const w=v.key==="ArrowDown"?(x.highlightedIndex+1)%c.length:(x.highlightedIndex-1+c.length)%c.length;return{...x,highlightedIndex:w}})}if(v.key==="Enter"&&(v.preventDefault(),n.highlightedIndex>=0&&n.highlightedIndex<c.length)){const x=c[n.highlightedIndex].id;r(w=>({...w,selectedTableId:x}))}};return document.addEventListener("keydown",g),()=>document.removeEventListener("keydown",g)},[c,n.highlightedIndex,p,d,s.show]),S.useEffect(()=>{var v,b;if(!n.selectedTableId){a(null);return}const g=e.orders.filter(x=>x.tableId===n.selectedTableId).sort((x,w)=>new Date(w.createdAt)-new Date(x.createdAt))[0];if(!g){a(null);return}a({order:g,tableName:((v=e.tables.find(x=>x.id===g.tableId))==null?void 0:v.name)||"N/A",staffName:((b=e.staff.find(x=>x.id===g.staffId))==null?void 0:b.name)||"N/A",items:(g.items||[]).map(x=>{const w=e.menuItems.find(A=>A.id===x.itemId);return{...x,name:(w==null?void 0:w.name)||x.name,price:Number((w==null?void 0:w.price)??x.price??0)}})}),r(x=>({...x,discount:0}))},[n.selectedTableId,e.orders,e.menuItems,e.staff,e.tables]),h.jsxs("div",{className:"container mx-auto py-6 px-4 relative",children:[h.jsx(Fae,{...s,onClose:()=>o(g=>({...g,show:!1}))}),h.jsx("h1",{className:"text-3xl font-bold mb-6 text-gray-800",children:"Billing"}),h.jsxs("div",{className:"bg-white p-4 rounded-lg shadow-md mb-6 no-print",children:[h.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[h.jsxs("div",{children:[h.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Order Type"}),h.jsxs("div",{className:"flex space-x-2",children:[h.jsx(Ep,{label:"Dine-In (F3)",active:n.orderType==="Dine-In",onClick:()=>{r(g=>({...g,orderType:"Dine-In"})),d("Dine-In Mode","info")},color:"blue"}),h.jsx(Ep,{label:"Takeaway (F4)",active:n.orderType==="Takeaway",onClick:()=>{r(g=>({...g,orderType:"Takeaway"})),d("Takeaway Mode","info")},color:"blue"})]})]}),h.jsxs("div",{children:[h.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Payment Mode"}),h.jsxs("div",{className:"flex space-x-2",children:[h.jsx(Ep,{label:"Cash (F7)",active:n.paymentMode==="Cash",onClick:()=>{r(g=>({...g,paymentMode:"Cash"})),d("Cash Payment","info")},color:"green"}),h.jsx(Ep,{label:"Card (F8)",active:n.paymentMode==="Card",onClick:()=>{r(g=>({...g,paymentMode:"Card"})),d("Card Payment","info")},color:"green"}),h.jsx(Ep,{label:"UPI (F9)",active:n.paymentMode==="UPI",onClick:()=>{r(g=>({...g,paymentMode:"UPI"})),d("UPI Payment","info")},color:"green"})]})]})]}),h.jsxs("div",{className:"mt-6 pt-6 border-t",children:[h.jsx("label",{htmlFor:"table-select",className:"block text-sm font-medium text-gray-700 mb-1",children:"Select Occupied Table (Use  & Enter)"}),h.jsxs("select",{id:"table-select",ref:l,value:((f=c[n.highlightedIndex])==null?void 0:f.id)||"",onChange:g=>{const v=g.target.value,b=c.findIndex(x=>x.id===v);r(x=>({...x,highlightedIndex:b,selectedTableId:v}))},className:"w-full md:w-1/2 p-2 border rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500",disabled:n.loading,children:[h.jsx("option",{value:"",children:n.loading?"Loading tables...":"Select a Table"}),c.map(g=>h.jsx("option",{value:g.id,children:g.name},g.id))]})]})]}),i&&h.jsx(Mae,{ref:u,details:{...i,orderType:n.orderType,paymentMode:n.paymentMode},settings:e.settings,discount:n.discount,onDiscountChange:g=>r(v=>({...v,discount:g.target.value})),onPrint:p})]})};/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Vae=e=>e.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),zae=e=>e.replace(/^([A-Z])|[\s-_]+(\w)/g,(t,n,r)=>r?r.toUpperCase():n.toLowerCase()),hC=e=>{const t=zae(e);return t.charAt(0).toUpperCase()+t.slice(1)},J9=(...e)=>e.filter((t,n,r)=>!!t&&t.trim()!==""&&r.indexOf(t)===n).join(" ").trim(),$ae=e=>{for(const t in e)if(t.startsWith("aria-")||t==="role"||t==="title")return!0};/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var Uae={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Wae=S.forwardRef(({color:e="currentColor",size:t=24,strokeWidth:n=2,absoluteStrokeWidth:r,className:i="",children:a,iconNode:s,...o},l)=>S.createElement("svg",{ref:l,...Uae,width:t,height:t,stroke:e,strokeWidth:r?Number(n)*24/Number(t):n,className:J9("lucide",i),...!a&&!$ae(o)&&{"aria-hidden":"true"},...o},[...s.map(([u,c])=>S.createElement(u,c)),...Array.isArray(a)?a:[a]]));/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ha=(e,t)=>{const n=S.forwardRef(({className:r,...i},a)=>S.createElement(Wae,{ref:a,iconNode:t,className:J9(`lucide-${Vae(hC(e))}`,`lucide-${e}`,r),...i}));return n.displayName=hC(e),n};/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const qae=[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]],Hae=ha("arrow-left",qae);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Kae=[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}]],Gae=ha("calendar",Kae);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Yae=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]],Xae=ha("circle-alert",Yae);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Qae=[["path",{d:"M21.801 10A10 10 0 1 1 17 3.335",key:"yps3ct"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]],Zae=ha("circle-check-big",Qae);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Jae=[["path",{d:"M12 15V3",key:"m9g1x1"}],["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["path",{d:"m7 10 5 5 5-5",key:"brsn70"}]],ese=ha("download",Jae);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const tse=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 2a14.5 14.5 0 0 0 0 20 14.5 14.5 0 0 0 0-20",key:"13o1zl"}],["path",{d:"M2 12h20",key:"9i4pu4"}]],pC=ha("globe",tse);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const nse=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 16v-4",key:"1dtifu"}],["path",{d:"M12 8h.01",key:"e9boi3"}]],rse=ha("info",nse);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ise=[["path",{d:"M10 8h.01",key:"1r9ogq"}],["path",{d:"M12 12h.01",key:"1mp3jc"}],["path",{d:"M14 8h.01",key:"1primd"}],["path",{d:"M16 12h.01",key:"1l6xoz"}],["path",{d:"M18 8h.01",key:"emo2bl"}],["path",{d:"M6 8h.01",key:"x9i8wu"}],["path",{d:"M7 16h10",key:"wp8him"}],["path",{d:"M8 12h.01",key:"czm47f"}],["rect",{width:"20",height:"16",x:"2",y:"4",rx:"2",key:"18n3k1"}]],mC=ha("keyboard",ise);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ase=[["path",{d:"M6 18H4a2 2 0 0 1-2-2v-5a2 2 0 0 1 2-2h16a2 2 0 0 1 2 2v5a2 2 0 0 1-2 2h-2",key:"143wyd"}],["path",{d:"M6 9V3a1 1 0 0 1 1-1h10a1 1 0 0 1 1 1v6",key:"1itne7"}],["rect",{x:"6",y:"14",width:"12",height:"8",rx:"1",key:"1ue0tg"}]],X1=ha("printer",ase);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const sse=[["path",{d:"M3 12a9 9 0 0 1 9-9 9.75 9.75 0 0 1 6.74 2.74L21 8",key:"v9h5vc"}],["path",{d:"M21 3v5h-5",key:"1q7to0"}],["path",{d:"M21 12a9 9 0 0 1-9 9 9.75 9.75 0 0 1-6.74-2.74L3 16",key:"3uifl3"}],["path",{d:"M8 16H3v5",key:"1cv678"}]],ose=ha("refresh-cw",sse);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const lse=[["path",{d:"M15.2 3a2 2 0 0 1 1.4.6l3.8 3.8a2 2 0 0 1 .6 1.4V19a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2z",key:"1c8476"}],["path",{d:"M17 21v-7a1 1 0 0 0-1-1H8a1 1 0 0 0-1 1v7",key:"1ydtos"}],["path",{d:"M7 3v4a1 1 0 0 0 1 1h7",key:"t51u73"}]],use=ha("save",lse);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const cse=[["path",{d:"M16 10a4 4 0 0 1-8 0",key:"1ltviw"}],["path",{d:"M3.103 6.034h17.794",key:"awc11p"}],["path",{d:"M3.4 5.467a2 2 0 0 0-.4 1.2V20a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2V6.667a2 2 0 0 0-.4-1.2l-2-2.667A2 2 0 0 0 17 2H7a2 2 0 0 0-1.6.8z",key:"o988cm"}]],dse=ha("shopping-bag",cse);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const fse=[["path",{d:"M15 21v-5a1 1 0 0 0-1-1h-4a1 1 0 0 0-1 1v5",key:"slp6dd"}],["path",{d:"M17.774 10.31a1.12 1.12 0 0 0-1.549 0 2.5 2.5 0 0 1-3.451 0 1.12 1.12 0 0 0-1.548 0 2.5 2.5 0 0 1-3.452 0 1.12 1.12 0 0 0-1.549 0 2.5 2.5 0 0 1-3.77-3.248l2.889-4.184A2 2 0 0 1 7 2h10a2 2 0 0 1 1.653.873l2.895 4.192a2.5 2.5 0 0 1-3.774 3.244",key:"o0xfot"}],["path",{d:"M4 10.95V19a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2v-8.05",key:"wn3emo"}]],gC=ha("store",fse);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const hse=[["path",{d:"M16 7h6v6",key:"box55l"}],["path",{d:"m22 7-8.5 8.5-5-5L2 17",key:"1t1m79"}]],pse=ha("trending-up",hse);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const mse=[["path",{d:"M3 2v7c0 1.1.9 2 2 2h4a2 2 0 0 0 2-2V2",key:"cjf0a3"}],["path",{d:"M7 2v20",key:"1473qp"}],["path",{d:"M21 15V2a5 5 0 0 0-5 5v6c0 1.1.9 2 2 2h3Zm0 0v7",key:"j28e5"}]],gse=ha("utensils",mse),vse=[{code:"en",name:"English"},{code:"hi",name:"Hindi ()"},{code:"es",name:"Spanish (Espaol)"},{code:"ar",name:"Arabic ()"},{code:"fr",name:"French (Franais)"}],yse=[{symbol:"",code:"INR",name:"Indian Rupee"},{symbol:"$",code:"USD",name:"US Dollar"},{symbol:"",code:"EUR",name:"Euro"},{symbol:"",code:"GBP",name:"British Pound"},{symbol:"",code:"JPY",name:"Japanese Yen"},{symbol:"AED",code:"AED",name:"UAE Dirham"}],xse=[{category:"Orders",keys:"F3",action:"New Dine-In Order"},{category:"Orders",keys:"F4",action:"New Takeaway Order"},{category:"Payment",keys:"F7",action:"Set Payment: Cash"},{category:"Payment",keys:"F8",action:"Set Payment: Card"},{category:"Payment",keys:"F9",action:"Set Payment: UPI"},{category:"System",keys:"Ctrl + P",action:"Finalize & Print Bill"},{category:"Navigation",keys:" / ",action:"Navigate Tables"},{category:"Navigation",keys:"Enter",action:"Select Table"}],bse=()=>{const[e,t]=S.useState("general"),[n,r]=S.useState(!0),[i,a]=S.useState(!1),[s,o]=S.useState(null),[l,u]=S.useState({restaurantName:"",address:"",upiId:"",currencySymbol:"",currencyCode:"INR",language:"en",printWidth:"80mm",printFontSize:"normal",receiptFooter:"Thank you for visiting!",showLogo:!0}),c=(v,b="success")=>{o({message:v,type:b}),setTimeout(()=>o(null),3e3)};S.useEffect(()=>{(async()=>{try{const b=await fo();b&&u(x=>({...x,...b}))}catch(b){console.error("Error loading settings:",b),c("Failed to load settings from database.","error")}finally{r(!1)}})()},[]);const d=v=>{const{name:b,value:x,type:w,checked:A}=v.target;if(b==="currency"){try{const{symbol:P,code:O}=JSON.parse(x);u(D=>({...D,currencySymbol:P,currencyCode:O}))}catch(P){console.error("Currency parse error",P)}return}u(P=>({...P,[b]:w==="checkbox"?A:x}))},p=async()=>{a(!0);try{await dee(l),c("Settings saved permanently!","success")}catch(v){console.error("Error saving settings:",v),c("Failed to save settings. Check internet connection.","error")}finally{a(!1)}},f=[{id:"general",label:"General",icon:gC},{id:"localization",label:"Language & Currency",icon:pC},{id:"printing",label:"Print & Receipt",icon:X1},{id:"shortcuts",label:"Keyboard Shortcuts",icon:mC},{id:"about",label:"About App",icon:rse}],g=({label:v,subLabel:b,children:x})=>h.jsxs("div",{className:"mb-6",children:[h.jsx("label",{className:"block text-sm font-bold text-gray-700 mb-1",children:v}),b&&h.jsx("p",{className:"text-xs text-gray-500 mb-2",children:b}),x]});return n?h.jsx("div",{className:"flex h-screen w-full items-center justify-center bg-gray-50",children:h.jsxs("div",{className:"flex flex-col items-center",children:[h.jsx("div",{className:"w-8 h-8 border-4 border-blue-600 border-t-transparent rounded-full animate-spin mb-4"}),h.jsx("p",{className:"text-gray-500 font-medium",children:"Loading Preferences..."})]})}):h.jsxs("div",{className:"container mx-auto max-w-6xl py-8 px-4",children:[h.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center justify-between mb-8 gap-4",children:[h.jsxs("div",{children:[h.jsx("h1",{className:"text-3xl font-bold text-gray-800",children:"Settings"}),h.jsx("p",{className:"text-gray-500 text-sm mt-1",children:"Configure your POS system parameters"})]}),h.jsx("button",{onClick:p,disabled:i,className:`flex items-center justify-center px-6 py-3 rounded-lg font-bold text-white shadow-lg transition-all ${i?"bg-gray-400 cursor-not-allowed":"bg-blue-600 hover:bg-blue-700 hover:shadow-xl active:scale-95"}`,children:i?h.jsxs("span",{className:"flex items-center",children:[h.jsx("div",{className:"w-4 h-4 border-2 border-white border-t-transparent rounded-full animate-spin mr-2"})," Saving..."]}):h.jsxs(h.Fragment,{children:[h.jsx(use,{className:"w-5 h-5 mr-2"})," Save Changes"]})})]}),s&&h.jsxs("div",{className:`fixed top-5 right-5 z-50 flex items-center p-4 rounded-lg shadow-xl border ${s.type==="success"?"bg-green-50 border-green-200 text-green-800":"bg-red-50 border-red-200 text-red-800"} animate-in fade-in slide-in-from-top-5 duration-300`,children:[s.type==="success"?h.jsx(Zae,{className:"w-5 h-5 mr-3"}):h.jsx(Xae,{className:"w-5 h-5 mr-3"}),h.jsx("span",{className:"font-medium",children:s.message})]}),h.jsxs("div",{className:"flex flex-col lg:flex-row gap-8",children:[h.jsx("div",{className:"lg:w-64 flex-shrink-0",children:h.jsx("div",{className:"bg-white rounded-xl shadow-sm border border-gray-200 overflow-hidden sticky top-8",children:f.map(v=>{const b=v.icon,x=e===v.id;return h.jsxs("button",{onClick:()=>t(v.id),className:`w-full flex items-center px-5 py-4 text-left transition-all duration-200 border-l-4 ${x?"bg-blue-50 text-blue-700 border-blue-600 font-bold":"text-gray-600 hover:bg-gray-50 border-transparent hover:text-gray-900"}`,children:[h.jsx(b,{className:`w-5 h-5 mr-3 ${x?"text-blue-600":"text-gray-400"}`}),v.label]},v.id)})})}),h.jsxs("div",{className:"flex-1 bg-white rounded-xl shadow-sm border border-gray-200 p-6 lg:p-8 min-h-[600px]",children:[e==="general"&&h.jsxs("div",{className:"animate-in fade-in zoom-in-95 duration-300",children:[h.jsxs("div",{className:"flex items-center mb-6 pb-4 border-b border-gray-100",children:[h.jsx(gC,{className:"w-6 h-6 text-blue-600 mr-3"}),h.jsx("h2",{className:"text-xl font-bold text-gray-800",children:"General Information"})]}),h.jsxs("div",{className:"grid grid-cols-1 gap-6",children:[h.jsx(g,{label:"Restaurant Name",children:h.jsx("input",{type:"text",name:"restaurantName",value:l.restaurantName,onChange:d,className:"w-full p-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 outline-none transition-all",placeholder:"e.g. The Grand Kitchen"})}),h.jsx(g,{label:"Address",subLabel:"This address will appear on printed receipts.",children:h.jsx("textarea",{name:"address",value:l.address,onChange:d,rows:"3",className:"w-full p-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 outline-none transition-all",placeholder:"Full street address..."})}),h.jsx(g,{label:"UPI ID",subLabel:"Used to generate QR codes for customer payments.",children:h.jsxs("div",{className:"relative",children:[h.jsx("input",{type:"text",name:"upiId",value:l.upiId,onChange:d,className:"w-full p-3 pl-10 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 outline-none transition-all",placeholder:"username@bank"}),h.jsx("div",{className:"absolute left-3 top-3.5 text-gray-400 font-bold",children:"@"})]})})]})]}),e==="localization"&&h.jsxs("div",{className:"animate-in fade-in zoom-in-95 duration-300",children:[h.jsxs("div",{className:"flex items-center mb-6 pb-4 border-b border-gray-100",children:[h.jsx(pC,{className:"w-6 h-6 text-blue-600 mr-3"}),h.jsx("h2",{className:"text-xl font-bold text-gray-800",children:"Language & Currency"})]}),h.jsxs("div",{className:"max-w-lg",children:[h.jsx(g,{label:"Application Language",subLabel:"Select your preferred interface language.",children:h.jsx("select",{name:"language",value:l.language,onChange:d,className:"w-full p-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 bg-white outline-none",children:vse.map(v=>h.jsx("option",{value:v.code,children:v.name},v.code))})}),h.jsx(g,{label:"Default Currency",subLabel:"This symbol will be used for all pricing.",children:h.jsx("select",{name:"currency",value:JSON.stringify({symbol:l.currencySymbol,code:l.currencyCode}),onChange:d,className:"w-full p-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 bg-white outline-none",children:yse.map(({symbol:v,code:b,name:x})=>h.jsxs("option",{value:JSON.stringify({symbol:v,code:b}),children:[x," (",v,")"]},b))})})]})]}),e==="printing"&&h.jsxs("div",{className:"animate-in fade-in zoom-in-95 duration-300",children:[h.jsxs("div",{className:"flex items-center mb-6 pb-4 border-b border-gray-100",children:[h.jsx(X1,{className:"w-6 h-6 text-blue-600 mr-3"}),h.jsx("h2",{className:"text-xl font-bold text-gray-800",children:"Receipt Printing Config"})]}),h.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-8",children:[h.jsx("div",{children:h.jsx(g,{label:"Paper Size",subLabel:"Width of your thermal paper roll.",children:h.jsx("div",{className:"flex gap-4 mt-2",children:["58mm","80mm"].map(v=>h.jsxs("label",{className:`flex-1 flex flex-col items-center p-4 border-2 rounded-xl cursor-pointer transition-all ${l.printWidth===v?"border-blue-600 bg-blue-50":"border-gray-200 hover:border-gray-300"}`,children:[h.jsx("input",{type:"radio",name:"printWidth",value:v,checked:l.printWidth===v,onChange:d,className:"hidden"}),h.jsx(X1,{className:`w-8 h-8 mb-2 ${l.printWidth===v?"text-blue-600":"text-gray-400"}`}),h.jsx("span",{className:`font-bold ${l.printWidth===v?"text-blue-800":"text-gray-600"}`,children:v})]},v))})})}),h.jsx("div",{children:h.jsxs(g,{label:"Font Density",subLabel:"Adjust text size on the receipt.",children:[h.jsx("div",{className:"flex gap-2 mt-2 bg-gray-100 p-1 rounded-lg",children:["small","normal","large"].map(v=>h.jsx("button",{onClick:()=>u(b=>({...b,printFontSize:v})),className:`flex-1 py-2 rounded-md text-sm font-medium capitalize transition-all ${l.printFontSize===v?"bg-white text-blue-600 shadow-sm":"text-gray-500 hover:text-gray-700"}`,children:v},v))}),h.jsxs("div",{className:"mt-3 p-3 border border-dashed rounded text-center text-gray-400 text-xs",children:["Preview: ",h.jsx("span",{className:l.printFontSize==="large"?"text-lg":l.printFontSize==="small"?"text-xs":"text-sm",children:"Total: 150.00"})]})]})}),h.jsx("div",{className:"md:col-span-2",children:h.jsx(g,{label:"Footer Message",subLabel:"Appears at the very bottom of the receipt.",children:h.jsx("input",{type:"text",name:"receiptFooter",value:l.receiptFooter,onChange:d,className:"w-full p-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 outline-none"})})}),h.jsx("div",{className:"md:col-span-2",children:h.jsxs("label",{className:"flex items-center p-4 border border-gray-200 rounded-xl cursor-pointer hover:bg-gray-50 transition-colors",children:[h.jsx("input",{type:"checkbox",name:"showLogo",checked:l.showLogo,onChange:d,className:"w-5 h-5 text-blue-600 rounded focus:ring-blue-500"}),h.jsxs("div",{className:"ml-4",children:[h.jsx("span",{className:"block font-bold text-gray-800",children:"Show Header Logo/Name"}),h.jsx("span",{className:"block text-sm text-gray-500",children:"Include the restaurant name at the top of the receipt."})]})]})})]})]}),e==="shortcuts"&&h.jsxs("div",{className:"animate-in fade-in zoom-in-95 duration-300",children:[h.jsxs("div",{className:"flex items-center mb-6 pb-4 border-b border-gray-100",children:[h.jsx(mC,{className:"w-6 h-6 text-blue-600 mr-3"}),h.jsx("h2",{className:"text-xl font-bold text-gray-800",children:"Keyboard Cheat Sheet"})]}),h.jsx("div",{className:"overflow-hidden rounded-xl border border-gray-200",children:h.jsxs("table",{className:"w-full text-left border-collapse",children:[h.jsx("thead",{className:"bg-gray-50",children:h.jsxs("tr",{children:[h.jsx("th",{className:"p-4 text-xs font-bold text-gray-500 uppercase tracking-wider border-b",children:"Key"}),h.jsx("th",{className:"p-4 text-xs font-bold text-gray-500 uppercase tracking-wider border-b",children:"Action"}),h.jsx("th",{className:"p-4 text-xs font-bold text-gray-500 uppercase tracking-wider border-b",children:"Category"})]})}),h.jsx("tbody",{className:"divide-y divide-gray-100",children:xse.map((v,b)=>h.jsxs("tr",{className:"hover:bg-blue-50 transition-colors",children:[h.jsx("td",{className:"p-4",children:h.jsx("span",{className:"inline-block px-2 py-1 bg-gray-100 border border-gray-300 rounded text-xs font-mono font-bold text-gray-700 shadow-sm",children:v.keys})}),h.jsx("td",{className:"p-4 text-sm font-medium text-gray-800",children:v.action}),h.jsx("td",{className:"p-4 text-sm text-gray-500",children:v.category})]},b))})]})})]}),e==="about"&&h.jsxs("div",{className:"animate-in fade-in zoom-in-95 duration-300 flex flex-col items-center justify-center py-10",children:[h.jsx("div",{className:"w-32 h-32 bg-white rounded-2xl shadow-2xl flex items-center justify-center mb-6 transform rotate-3 border border-gray-100 overflow-hidden",children:h.jsx("img",{src:"/favicon.ico",alt:"App Icon",className:"w-full h-full object-contain p-4"})}),h.jsx("h2",{className:"text-3xl font-extrabold text-gray-900",children:"MealiX POS"}),h.jsx("span",{className:"inline-block px-3 py-1 mt-3 text-xs font-bold text-blue-800 bg-blue-100 rounded-full",children:"Version 3.6.0"}),h.jsx("p",{className:"text-gray-500 mt-6 max-w-md text-center leading-relaxed",children:"Designed to simplify restaurant management. From billing to settings, everything you need is right here."}),h.jsxs("div",{className:"mt-10 p-6 bg-blue-50 rounded-xl border border-blue-100 max-w-lg text-center",children:[h.jsx("p",{className:"text-lg font-serif italic text-blue-900",children:'"Palestine is the anvil of our consciousness."'}),h.jsx("p",{className:"text-sm text-blue-600 mt-3 font-semibold",children:" Edward Said"})]}),h.jsx("div",{className:"mt-12 pt-8 border-t border-gray-100 w-full text-center",children:h.jsxs("p",{className:"text-xs text-gray-400",children:["System ID: ",Math.random().toString(36).substr(2,9).toUpperCase()," ",h.jsx("br",{})," ",new Date().getFullYear()," All Rights Reserved."]})})]})]})]})]})};function wse({title:e,titleId:t,...n},r){return S.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:r,"aria-labelledby":t},n),e?S.createElement("title",{id:t},e):null,S.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M3 16.5v2.25A2.25 2.25 0 0 0 5.25 21h13.5A2.25 2.25 0 0 0 21 18.75V16.5M16.5 12 12 16.5m0 0L7.5 12m4.5 4.5V3"}))}const X4=S.forwardRef(wse);function _se({title:e,titleId:t,...n},r){return S.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:r,"aria-labelledby":t},n),e?S.createElement("title",{id:t},e):null,S.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M10.5 19.5 3 12m0 0 7.5-7.5M3 12h18"}))}const Sse=S.forwardRef(_se);function Ase({title:e,titleId:t,...n},r){return S.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:r,"aria-labelledby":t},n),e?S.createElement("title",{id:t},e):null,S.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M2.25 18 9 11.25l4.306 4.306a11.95 11.95 0 0 1 5.814-5.518l2.74-1.22m0 0-5.94-2.281m5.94 2.28-2.28 5.941"}))}const eF=S.forwardRef(Ase);function Pse({title:e,titleId:t,...n},r){return S.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:r,"aria-labelledby":t},n),e?S.createElement("title",{id:t},e):null,S.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M2.25 18.75a60.07 60.07 0 0 1 15.797 2.101c.727.198 1.453-.342 1.453-1.096V18.75M3.75 4.5v.75A.75.75 0 0 1 3 6h-.75m0 0v-.375c0-.621.504-1.125 1.125-1.125H20.25M2.25 6v9m18-10.5v.75c0 .414.336.75.75.75h.75m-1.5-1.5h.375c.621 0 1.125.504 1.125 1.125v9.75c0 .621-.504 1.125-1.125 1.125h-.375m1.5-1.5H21a.75.75 0 0 0-.75.75v.75m0 0H3.75m0 0h-.375a1.125 1.125 0 0 1-1.125-1.125V15m1.5 1.5v-.75A.75.75 0 0 0 3 15h-.75M15 10.5a3 3 0 1 1-6 0 3 3 0 0 1 6 0Zm3 0h.008v.008H18V10.5Zm-12 0h.008v.008H6V10.5Z"}))}const Ese=S.forwardRef(Pse);function Nse({title:e,titleId:t,...n},r){return S.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:r,"aria-labelledby":t},n),e?S.createElement("title",{id:t},e):null,S.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M12 6v6h4.5m4.5 0a9 9 0 1 1-18 0 9 9 0 0 1 18 0Z"}))}const tF=S.forwardRef(Nse);function kse({title:e,titleId:t,...n},r){return S.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:r,"aria-labelledby":t},n),e?S.createElement("title",{id:t},e):null,S.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M2.25 8.25h19.5M2.25 9h19.5m-16.5 5.25h6m-6 2.25h3m-3.75 3h15a2.25 2.25 0 0 0 2.25-2.25V6.75A2.25 2.25 0 0 0 19.5 4.5h-15a2.25 2.25 0 0 0-2.25 2.25v10.5A2.25 2.25 0 0 0 4.5 19.5Z"}))}const Tse=S.forwardRef(kse);function Cse({title:e,titleId:t,...n},r){return S.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:r,"aria-labelledby":t},n),e?S.createElement("title",{id:t},e):null,S.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M15 8.25H9m6 3H9m3 6-3-3h1.5a3 3 0 1 0 0-6M21 12a9 9 0 1 1-18 0 9 9 0 0 1 18 0Z"}))}const nF=S.forwardRef(Cse);function jse({title:e,titleId:t,...n},r){return S.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:r,"aria-labelledby":t},n),e?S.createElement("title",{id:t},e):null,S.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M19.5 14.25v-2.625a3.375 3.375 0 0 0-3.375-3.375h-1.5A1.125 1.125 0 0 1 13.5 7.125v-1.5a3.375 3.375 0 0 0-3.375-3.375H8.25M9 16.5v.75m3-3v3M15 12v5.25m-4.5-15H5.625c-.621 0-1.125.504-1.125 1.125v17.25c0 .621.504 1.125 1.125 1.125h12.75c.621 0 1.125-.504 1.125-1.125V11.25a9 9 0 0 0-9-9Z"}))}const Ise=S.forwardRef(jse);function Ose({title:e,titleId:t,...n},r){return S.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:r,"aria-labelledby":t},n),e?S.createElement("title",{id:t},e):null,S.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M12 9v3.75m-9.303 3.376c-.866 1.5.217 3.374 1.948 3.374h14.71c1.73 0 2.813-1.874 1.948-3.374L13.949 3.378c-.866-1.5-3.032-1.5-3.898 0L2.697 16.126ZM12 15.75h.007v.008H12v-.008Z"}))}const Lse=S.forwardRef(Ose);function Rse({title:e,titleId:t,...n},r){return S.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:r,"aria-labelledby":t},n),e?S.createElement("title",{id:t},e):null,S.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M12 3c2.755 0 5.455.232 8.083.678.533.09.917.556.917 1.096v1.044a2.25 2.25 0 0 1-.659 1.591l-5.432 5.432a2.25 2.25 0 0 0-.659 1.591v2.927a2.25 2.25 0 0 1-1.244 2.013L9.75 21v-6.568a2.25 2.25 0 0 0-.659-1.591L3.659 7.409A2.25 2.25 0 0 1 3 5.818V4.774c0-.54.384-1.006.917-1.096A48.32 48.32 0 0 1 12 3Z"}))}const rF=S.forwardRef(Rse);function Mse({title:e,titleId:t,...n},r){return S.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:r,"aria-labelledby":t},n),e?S.createElement("title",{id:t},e):null,S.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M6.72 13.829c-.24.03-.48.062-.72.096m.72-.096a42.415 42.415 0 0 1 10.56 0m-10.56 0L6.34 18m10.94-4.171c.24.03.48.062.72.096m-.72-.096L17.66 18m0 0 .229 2.523a1.125 1.125 0 0 1-1.12 1.227H7.231c-.662 0-1.18-.568-1.12-1.227L6.34 18m11.318 0h1.091A2.25 2.25 0 0 0 21 15.75V9.456c0-1.081-.768-2.015-1.837-2.175a48.055 48.055 0 0 0-1.913-.247M6.34 18H5.25A2.25 2.25 0 0 1 3 15.75V9.456c0-1.081.768-2.015 1.837-2.175a48.041 48.041 0 0 1 1.913-.247m10.5 0a48.536 48.536 0 0 0-10.5 0m10.5 0V3.375c0-.621-.504-1.125-1.125-1.125h-8.25c-.621 0-1.125.504-1.125 1.125v3.659M18 10.5h.008v.008H18V10.5Zm-3 0h.008v.008H15V10.5Z"}))}const iF=S.forwardRef(Mse);function Dse({title:e,titleId:t,...n},r){return S.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:r,"aria-labelledby":t},n),e?S.createElement("title",{id:t},e):null,S.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M15.75 10.5V6a3.75 3.75 0 1 0-7.5 0v4.5m11.356-1.993 1.263 12c.07.665-.45 1.243-1.119 1.243H4.25a1.125 1.125 0 0 1-1.12-1.243l1.264-12A1.125 1.125 0 0 1 5.513 7.5h12.974c.576 0 1.059.435 1.119 1.007ZM8.625 10.5a.375.375 0 1 1-.75 0 .375.375 0 0 1 .75 0Zm7.5 0a.375.375 0 1 1-.75 0 .375.375 0 0 1 .75 0Z"}))}const Fse=S.forwardRef(Dse);function Bse({title:e,titleId:t,...n},r){return S.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:r,"aria-labelledby":t},n),e?S.createElement("title",{id:t},e):null,S.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M3.75 6A2.25 2.25 0 0 1 6 3.75h2.25A2.25 2.25 0 0 1 10.5 6v2.25a2.25 2.25 0 0 1-2.25 2.25H6a2.25 2.25 0 0 1-2.25-2.25V6ZM3.75 15.75A2.25 2.25 0 0 1 6 13.5h2.25a2.25 2.25 0 0 1 2.25 2.25V18a2.25 2.25 0 0 1-2.25 2.25H6A2.25 2.25 0 0 1 3.75 18v-2.25ZM13.5 6a2.25 2.25 0 0 1 2.25-2.25H18A2.25 2.25 0 0 1 20.25 6v2.25A2.25 2.25 0 0 1 18 10.5h-2.25a2.25 2.25 0 0 1-2.25-2.25V6ZM13.5 15.75a2.25 2.25 0 0 1 2.25-2.25H18a2.25 2.25 0 0 1 2.25 2.25V18A2.25 2.25 0 0 1 18 20.25h-2.25A2.25 2.25 0 0 1 13.5 18v-2.25Z"}))}const Vse=S.forwardRef(Bse);function zse({title:e,titleId:t,...n},r){return S.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:r,"aria-labelledby":t},n),e?S.createElement("title",{id:t},e):null,S.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M13.5 16.875h3.375m0 0h3.375m-3.375 0V13.5m0 3.375v3.375M6 10.5h2.25a2.25 2.25 0 0 0 2.25-2.25V6a2.25 2.25 0 0 0-2.25-2.25H6A2.25 2.25 0 0 0 3.75 6v2.25A2.25 2.25 0 0 0 6 10.5Zm0 9.75h2.25A2.25 2.25 0 0 0 10.5 18v-2.25a2.25 2.25 0 0 0-2.25-2.25H6a2.25 2.25 0 0 0-2.25 2.25V18A2.25 2.25 0 0 0 6 20.25Zm9.75-9.75H18a2.25 2.25 0 0 0 2.25-2.25V6A2.25 2.25 0 0 0 18 3.75h-2.25A2.25 2.25 0 0 0 13.5 6v2.25a2.25 2.25 0 0 0 2.25 2.25Z"}))}const $se=S.forwardRef(zse);function Use({title:e,titleId:t,...n},r){return S.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:r,"aria-labelledby":t},n),e?S.createElement("title",{id:t},e):null,S.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M9.568 3H5.25A2.25 2.25 0 0 0 3 5.25v4.318c0 .597.237 1.17.659 1.591l9.581 9.581c.699.699 1.78.872 2.607.33a18.095 18.095 0 0 0 5.223-5.223c.542-.827.369-1.908-.33-2.607L11.16 3.66A2.25 2.25 0 0 0 9.568 3Z"}),S.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M6 6h.008v.008H6V6Z"}))}const aF=S.forwardRef(Use);function Wse({title:e,titleId:t,...n},r){return S.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:r,"aria-labelledby":t},n),e?S.createElement("title",{id:t},e):null,S.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M16.5 6v.75m0 3v.75m0 3v.75m0 3V18m-9-5.25h5.25M7.5 15h3M3.375 5.25c-.621 0-1.125.504-1.125 1.125v3.026a2.999 2.999 0 0 1 0 5.198v3.026c0 .621.504 1.125 1.125 1.125h17.25c.621 0 1.125-.504 1.125-1.125v-3.026a2.999 2.999 0 0 1 0-5.198V6.375c0-.621-.504-1.125-1.125-1.125H3.375Z"}))}const qse=S.forwardRef(Wse);function Hse({title:e,titleId:t,...n},r){return S.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:r,"aria-labelledby":t},n),e?S.createElement("title",{id:t},e):null,S.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M18 18.72a9.094 9.094 0 0 0 3.741-.479 3 3 0 0 0-4.682-2.72m.94 3.198.001.031c0 .225-.012.447-.037.666A11.944 11.944 0 0 1 12 21c-2.17 0-4.207-.576-5.963-1.584A6.062 6.062 0 0 1 6 18.719m12 0a5.971 5.971 0 0 0-.941-3.197m0 0A5.995 5.995 0 0 0 12 12.75a5.995 5.995 0 0 0-5.058 2.772m0 0a3 3 0 0 0-4.681 2.72 8.986 8.986 0 0 0 3.74.477m.94-3.197a5.971 5.971 0 0 0-.94 3.197M15 6.75a3 3 0 1 1-6 0 3 3 0 0 1 6 0Zm6 3a2.25 2.25 0 1 1-4.5 0 2.25 2.25 0 0 1 4.5 0Zm-13.5 0a2.25 2.25 0 1 1-4.5 0 2.25 2.25 0 0 1 4.5 0Z"}))}const Kse=S.forwardRef(Hse);function Gse({title:e,titleId:t,...n},r){return S.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:r,"aria-labelledby":t},n),e?S.createElement("title",{id:t},e):null,S.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M15 19.128a9.38 9.38 0 0 0 2.625.372 9.337 9.337 0 0 0 4.121-.952 4.125 4.125 0 0 0-7.533-2.493M15 19.128v-.003c0-1.113-.285-2.16-.786-3.07M15 19.128v.106A12.318 12.318 0 0 1 8.624 21c-2.331 0-4.512-.645-6.374-1.766l-.001-.109a6.375 6.375 0 0 1 11.964-3.07M12 6.375a3.375 3.375 0 1 1-6.75 0 3.375 3.375 0 0 1 6.75 0Zm8.25 2.25a2.625 2.625 0 1 1-5.25 0 2.625 2.625 0 0 1 5.25 0Z"}))}const Yse=S.forwardRef(Gse),Xse=[{isLink:!0,to:"/reports/sales-and-revenue",title:"Sales & Revenue Reports",description:"Track daily, weekly, and monthly sales performance and revenue streams.",icon:h.jsx(eF,{className:"h-8 w-8 text-blue-500"}),color:"blue"},{title:"Profit & Financial Reports",description:"Analyze profit margins, costs of goods sold, and overall financial health.",icon:h.jsx(Ese,{className:"h-8 w-8 text-green-500"}),color:"green"},{title:"Customer Reports",description:"Gain insights into customer behavior, order frequency, and popular items.",icon:h.jsx(Yse,{className:"h-8 w-8 text-purple-500"}),color:"purple"},{title:"Staff & HR Reports",description:"Monitor staff performance, work hours, tips, and payroll data.",icon:h.jsx(Kse,{className:"h-8 w-8 text-red-500"}),color:"red"},{title:"Analytical & Comparative Reports",description:"Compare performance across different time periods or menu items.",icon:h.jsx(Ise,{className:"h-8 w-8 text-indigo-500"}),color:"indigo"}],Qse=()=>h.jsxs("div",{className:"p-6 bg-gray-50 min-h-full",children:[h.jsxs("div",{className:"mb-8",children:[h.jsx("h1",{className:"text-3xl font-bold text-gray-800",children:"Reports Dashboard"}),h.jsx("p",{className:"text-gray-500 mt-1",children:"Select a category to view detailed reports."})]}),h.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4 gap-6",children:Xse.map(e=>e.isLink?h.jsxs(S2,{to:e.to,className:"group bg-white rounded-xl shadow-md p-6 flex flex-col justify-between hover:shadow-xl hover:-translate-y-1 transition-all duration-300 cursor-pointer border border-gray-200",children:[h.jsxs("div",{children:[h.jsx("div",{className:"mb-4",children:e.icon}),h.jsx("h3",{className:"text-xl font-semibold text-gray-800 mb-2",children:e.title}),h.jsx("p",{className:"text-gray-600 text-sm",children:e.description})]}),h.jsx("div",{className:"mt-6",children:h.jsx("span",{className:`font-semibold text-${e.color}-600 group-hover:text-${e.color}-800 transition-colors`,children:"View Reports "})})]},e.title):h.jsxs("div",{className:"group bg-white rounded-xl shadow-md p-6 flex flex-col justify-between border border-gray-200",children:[h.jsxs("div",{children:[h.jsx("div",{className:"mb-4",children:e.icon}),h.jsx("h3",{className:"text-xl font-semibold text-gray-800 mb-2",children:e.title}),h.jsx("p",{className:"text-gray-600 text-sm",children:e.description})]}),h.jsx("div",{className:"mt-6",children:h.jsx("span",{className:"font-semibold text-gray-400",children:"Coming Soon"})})]},e.title))})]}),Zse="modulepreload",Jse=function(e){return"/"+e},vC={},fw=function(t,n,r){let i=Promise.resolve();if(n&&n.length>0){document.getElementsByTagName("link");const s=document.querySelector("meta[property=csp-nonce]"),o=(s==null?void 0:s.nonce)||(s==null?void 0:s.getAttribute("nonce"));i=Promise.allSettled(n.map(l=>{if(l=Jse(l),l in vC)return;vC[l]=!0;const u=l.endsWith(".css"),c=u?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${l}"]${c}`))return;const d=document.createElement("link");if(d.rel=u?"stylesheet":Zse,u||(d.as="script"),d.crossOrigin="",d.href=l,o&&d.setAttribute("nonce",o),document.head.appendChild(d),u)return new Promise((p,f)=>{d.addEventListener("load",p),d.addEventListener("error",()=>f(new Error(`Unable to preload CSS for ${l}`)))})}))}function a(s){const o=new Event("vite:preloadError",{cancelable:!0});if(o.payload=s,window.dispatchEvent(o),!o.defaultPrevented)throw s}return i.then(s=>{for(const o of s||[])o.status==="rejected"&&a(o.reason);return t().catch(a)})};function gn(e){"@babel/helpers - typeof";return gn=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},gn(e)}var oo=Uint8Array,Za=Uint16Array,TA=Int32Array,CA=new oo([0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0,0,0,0]),jA=new oo([0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13,0,0]),yC=new oo([16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15]),sF=function(e,t){for(var n=new Za(31),r=0;r<31;++r)n[r]=t+=1<<e[r-1];for(var i=new TA(n[30]),r=1;r<30;++r)for(var a=n[r];a<n[r+1];++a)i[a]=a-n[r]<<5|r;return{b:n,r:i}},oF=sF(CA,2),eoe=oF.b,Q4=oF.r;eoe[28]=258,Q4[258]=28;var toe=sF(jA,0),xC=toe.r,Z4=new Za(32768);for(var Fn=0;Fn<32768;++Fn){var Eu=(Fn&43690)>>1|(Fn&21845)<<1;Eu=(Eu&52428)>>2|(Eu&13107)<<2,Eu=(Eu&61680)>>4|(Eu&3855)<<4,Z4[Fn]=((Eu&65280)>>8|(Eu&255)<<8)>>1}var pm=function(e,t,n){for(var r=e.length,i=0,a=new Za(t);i<r;++i)e[i]&&++a[e[i]-1];var s=new Za(t);for(i=1;i<t;++i)s[i]=s[i-1]+a[i-1]<<1;var o;if(n){o=new Za(1<<t);var l=15-t;for(i=0;i<r;++i)if(e[i])for(var u=i<<4|e[i],c=t-e[i],d=s[e[i]-1]++<<c,p=d|(1<<c)-1;d<=p;++d)o[Z4[d]>>l]=u}else for(o=new Za(r),i=0;i<r;++i)e[i]&&(o[i]=Z4[s[e[i]-1]++]>>15-e[i]);return o},Td=new oo(288);for(var Fn=0;Fn<144;++Fn)Td[Fn]=8;for(var Fn=144;Fn<256;++Fn)Td[Fn]=9;for(var Fn=256;Fn<280;++Fn)Td[Fn]=7;for(var Fn=280;Fn<288;++Fn)Td[Fn]=8;var ny=new oo(32);for(var Fn=0;Fn<32;++Fn)ny[Fn]=5;var noe=pm(Td,9,0),roe=pm(ny,5,0),lF=function(e){return(e+7)/8|0},ioe=function(e,t,n){return(n==null||n>e.length)&&(n=e.length),new oo(e.subarray(t,n))},ml=function(e,t,n){n<<=t&7;var r=t/8|0;e[r]|=n,e[r+1]|=n>>8},Np=function(e,t,n){n<<=t&7;var r=t/8|0;e[r]|=n,e[r+1]|=n>>8,e[r+2]|=n>>16},hw=function(e,t){for(var n=[],r=0;r<e.length;++r)e[r]&&n.push({s:r,f:e[r]});var i=n.length,a=n.slice();if(!i)return{t:cF,l:0};if(i==1){var s=new oo(n[0].s+1);return s[n[0].s]=1,{t:s,l:1}}n.sort(function(O,D){return O.f-D.f}),n.push({s:-1,f:25001});var o=n[0],l=n[1],u=0,c=1,d=2;for(n[0]={s:-1,f:o.f+l.f,l:o,r:l};c!=i-1;)o=n[n[u].f<n[d].f?u++:d++],l=n[u!=c&&n[u].f<n[d].f?u++:d++],n[c++]={s:-1,f:o.f+l.f,l:o,r:l};for(var p=a[0].s,r=1;r<i;++r)a[r].s>p&&(p=a[r].s);var f=new Za(p+1),g=J4(n[c-1],f,0);if(g>t){var r=0,v=0,b=g-t,x=1<<b;for(a.sort(function(D,T){return f[T.s]-f[D.s]||D.f-T.f});r<i;++r){var w=a[r].s;if(f[w]>t)v+=x-(1<<g-f[w]),f[w]=t;else break}for(v>>=b;v>0;){var A=a[r].s;f[A]<t?v-=1<<t-f[A]++-1:++r}for(;r>=0&&v;--r){var P=a[r].s;f[P]==t&&(--f[P],++v)}g=t}return{t:new oo(f),l:g}},J4=function(e,t,n){return e.s==-1?Math.max(J4(e.l,t,n+1),J4(e.r,t,n+1)):t[e.s]=n},bC=function(e){for(var t=e.length;t&&!e[--t];);for(var n=new Za(++t),r=0,i=e[0],a=1,s=function(l){n[r++]=l},o=1;o<=t;++o)if(e[o]==i&&o!=t)++a;else{if(!i&&a>2){for(;a>138;a-=138)s(32754);a>2&&(s(a>10?a-11<<5|28690:a-3<<5|12305),a=0)}else if(a>3){for(s(i),--a;a>6;a-=6)s(8304);a>2&&(s(a-3<<5|8208),a=0)}for(;a--;)s(i);a=1,i=e[o]}return{c:n.subarray(0,r),n:t}},kp=function(e,t){for(var n=0,r=0;r<t.length;++r)n+=e[r]*t[r];return n},uF=function(e,t,n){var r=n.length,i=lF(t+2);e[i]=r&255,e[i+1]=r>>8,e[i+2]=e[i]^255,e[i+3]=e[i+1]^255;for(var a=0;a<r;++a)e[i+a+4]=n[a];return(i+4+r)*8},wC=function(e,t,n,r,i,a,s,o,l,u,c){ml(t,c++,n),++i[256];for(var d=hw(i,15),p=d.t,f=d.l,g=hw(a,15),v=g.t,b=g.l,x=bC(p),w=x.c,A=x.n,P=bC(v),O=P.c,D=P.n,T=new Za(19),k=0;k<w.length;++k)++T[w[k]&31];for(var k=0;k<O.length;++k)++T[O[k]&31];for(var I=hw(T,7),M=I.t,N=I.l,C=19;C>4&&!M[yC[C-1]];--C);var R=u+5<<3,W=kp(i,Td)+kp(a,ny)+s,Y=kp(i,p)+kp(a,v)+s+14+3*C+kp(T,M)+2*T[16]+3*T[17]+7*T[18];if(l>=0&&R<=W&&R<=Y)return uF(t,c,e.subarray(l,l+u));var ae,ie,H,se;if(ml(t,c,1+(Y<W)),c+=2,Y<W){ae=pm(p,f,0),ie=p,H=pm(v,b,0),se=v;var ye=pm(M,N,0);ml(t,c,A-257),ml(t,c+5,D-1),ml(t,c+10,C-4),c+=14;for(var k=0;k<C;++k)ml(t,c+3*k,M[yC[k]]);c+=3*C;for(var be=[w,O],$=0;$<2;++$)for(var X=be[$],k=0;k<X.length;++k){var re=X[k]&31;ml(t,c,ye[re]),c+=M[re],re>15&&(ml(t,c,X[k]>>5&127),c+=X[k]>>12)}}else ae=noe,ie=Td,H=roe,se=ny;for(var k=0;k<o;++k){var oe=r[k];if(oe>255){var re=oe>>18&31;Np(t,c,ae[re+257]),c+=ie[re+257],re>7&&(ml(t,c,oe>>23&31),c+=CA[re]);var de=oe&31;Np(t,c,H[de]),c+=se[de],de>3&&(Np(t,c,oe>>5&8191),c+=jA[de])}else Np(t,c,ae[oe]),c+=ie[oe]}return Np(t,c,ae[256]),c+ie[256]},aoe=new TA([65540,131080,131088,131104,262176,1048704,1048832,2114560,2117632]),cF=new oo(0),soe=function(e,t,n,r,i,a){var s=a.z||e.length,o=new oo(r+s+5*(1+Math.ceil(s/7e3))+i),l=o.subarray(r,o.length-i),u=a.l,c=(a.r||0)&7;if(t){c&&(l[0]=a.r>>3);for(var d=aoe[t-1],p=d>>13,f=d&8191,g=(1<<n)-1,v=a.p||new Za(32768),b=a.h||new Za(g+1),x=Math.ceil(n/3),w=2*x,A=function(fe){return(e[fe]^e[fe+1]<<x^e[fe+2]<<w)&g},P=new TA(25e3),O=new Za(288),D=new Za(32),T=0,k=0,I=a.i||0,M=0,N=a.w||0,C=0;I+2<s;++I){var R=A(I),W=I&32767,Y=b[R];if(v[W]=Y,b[R]=W,N<=I){var ae=s-I;if((T>7e3||M>24576)&&(ae>423||!u)){c=wC(e,l,0,P,O,D,k,M,C,I-C,c),M=T=k=0,C=I;for(var ie=0;ie<286;++ie)O[ie]=0;for(var ie=0;ie<30;++ie)D[ie]=0}var H=2,se=0,ye=f,be=W-Y&32767;if(ae>2&&R==A(I-be))for(var $=Math.min(p,ae)-1,X=Math.min(32767,I),re=Math.min(258,ae);be<=X&&--ye&&W!=Y;){if(e[I+H]==e[I+H-be]){for(var oe=0;oe<re&&e[I+oe]==e[I+oe-be];++oe);if(oe>H){if(H=oe,se=be,oe>$)break;for(var de=Math.min(be,oe-2),ge=0,ie=0;ie<de;++ie){var ce=I-be+ie&32767,J=v[ce],pe=ce-J&32767;pe>ge&&(ge=pe,Y=ce)}}}W=Y,Y=v[W],be+=W-Y&32767}if(se){P[M++]=268435456|Q4[H]<<18|xC[se];var Ee=Q4[H]&31,le=xC[se]&31;k+=CA[Ee]+jA[le],++O[257+Ee],++D[le],N=I+H,++T}else P[M++]=e[I],++O[e[I]]}}for(I=Math.max(I,N);I<s;++I)P[M++]=e[I],++O[e[I]];c=wC(e,l,u,P,O,D,k,M,C,I-C,c),u||(a.r=c&7|l[c/8|0]<<3,c-=7,a.h=b,a.p=v,a.i=I,a.w=N)}else{for(var I=a.w||0;I<s+u;I+=65535){var Ne=I+65535;Ne>=s&&(l[c/8|0]=u,Ne=s),c=uF(l,c+1,e.subarray(I,Ne))}a.i=s}return ioe(o,0,r+lF(c)+i)},dF=function(){var e=1,t=0;return{p:function(n){for(var r=e,i=t,a=n.length|0,s=0;s!=a;){for(var o=Math.min(s+2655,a);s<o;++s)i+=r+=n[s];r=(r&65535)+15*(r>>16),i=(i&65535)+15*(i>>16)}e=r,t=i},d:function(){return e%=65521,t%=65521,(e&255)<<24|(e&65280)<<8|(t&255)<<8|t>>8}}},ooe=function(e,t,n,r,i){if(!i&&(i={l:1},t.dictionary)){var a=t.dictionary.subarray(-32768),s=new oo(a.length+e.length);s.set(a),s.set(e,a.length),e=s,i.w=a.length}return soe(e,t.level==null?6:t.level,t.mem==null?i.l?Math.ceil(Math.max(8,Math.min(13,Math.log(e.length)))*1.5):20:12+t.mem,n,r,i)},fF=function(e,t,n){for(;n;++t)e[t]=n,n>>>=8},loe=function(e,t){var n=t.level,r=n==0?0:n<6?1:n==9?3:2;if(e[0]=120,e[1]=r<<6|(t.dictionary&&32),e[1]|=31-(e[0]<<8|e[1])%31,t.dictionary){var i=dF();i.p(t.dictionary),fF(e,2,i.d())}};function e3(e,t){t||(t={});var n=dF();n.p(e);var r=ooe(e,t,t.dictionary?6:2,4);return loe(r,t),fF(r,r.length-4,n.d()),r}var uoe=typeof TextDecoder<"u"&&new TextDecoder,coe=0;try{uoe.decode(cF,{stream:!0}),coe=1}catch{}function doe(e){if(Array.isArray(e))return e}function foe(e,t){var n=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(n!=null){var r,i,a,s,o=[],l=!0,u=!1;try{if(a=(n=n.call(e)).next,t!==0)for(;!(l=(r=a.call(n)).done)&&(o.push(r.value),o.length!==t);l=!0);}catch(c){u=!0,i=c}finally{try{if(!l&&n.return!=null&&(s=n.return(),Object(s)!==s))return}finally{if(u)throw i}}return o}}function _C(e,t){(t==null||t>e.length)&&(t=e.length);for(var n=0,r=Array(t);n<t;n++)r[n]=e[n];return r}function hoe(e,t){if(e){if(typeof e=="string")return _C(e,t);var n={}.toString.call(e).slice(8,-1);return n==="Object"&&e.constructor&&(n=e.constructor.name),n==="Map"||n==="Set"?Array.from(e):n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?_C(e,t):void 0}}function poe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function SC(e,t){return doe(e)||foe(e,t)||hoe(e,t)||poe()}function AC(e,t="utf8"){return new TextDecoder(t).decode(e)}const moe=new TextEncoder;function goe(e){return moe.encode(e)}const voe=1024*8,yoe=(()=>{const e=new Uint8Array(4),t=new Uint32Array(e.buffer);return!((t[0]=1)&e[0])})(),pw={int8:globalThis.Int8Array,uint8:globalThis.Uint8Array,int16:globalThis.Int16Array,uint16:globalThis.Uint16Array,int32:globalThis.Int32Array,uint32:globalThis.Uint32Array,uint64:globalThis.BigUint64Array,int64:globalThis.BigInt64Array,float32:globalThis.Float32Array,float64:globalThis.Float64Array};class IA{constructor(t=voe,n={}){an(this,"buffer");an(this,"byteLength");an(this,"byteOffset");an(this,"length");an(this,"offset");an(this,"lastWrittenByte");an(this,"littleEndian");an(this,"_data");an(this,"_mark");an(this,"_marks");let r=!1;typeof t=="number"?t=new ArrayBuffer(t):(r=!0,this.lastWrittenByte=t.byteLength);const i=n.offset?n.offset>>>0:0,a=t.byteLength-i;let s=i;(ArrayBuffer.isView(t)||t instanceof IA)&&(t.byteLength!==t.buffer.byteLength&&(s=t.byteOffset+i),t=t.buffer),r?this.lastWrittenByte=a:this.lastWrittenByte=0,this.buffer=t,this.length=a,this.byteLength=a,this.byteOffset=s,this.offset=0,this.littleEndian=!0,this._data=new DataView(this.buffer,s,a),this._mark=0,this._marks=[]}available(t=1){return this.offset+t<=this.length}isLittleEndian(){return this.littleEndian}setLittleEndian(){return this.littleEndian=!0,this}isBigEndian(){return!this.littleEndian}setBigEndian(){return this.littleEndian=!1,this}skip(t=1){return this.offset+=t,this}back(t=1){return this.offset-=t,this}seek(t){return this.offset=t,this}mark(){return this._mark=this.offset,this}reset(){return this.offset=this._mark,this}pushMark(){return this._marks.push(this.offset),this}popMark(){const t=this._marks.pop();if(t===void 0)throw new Error("Mark stack empty");return this.seek(t),this}rewind(){return this.offset=0,this}ensureAvailable(t=1){if(!this.available(t)){const r=(this.offset+t)*2,i=new Uint8Array(r);i.set(new Uint8Array(this.buffer)),this.buffer=i.buffer,this.length=r,this.byteLength=r,this._data=new DataView(this.buffer)}return this}readBoolean(){return this.readUint8()!==0}readInt8(){return this._data.getInt8(this.offset++)}readUint8(){return this._data.getUint8(this.offset++)}readByte(){return this.readUint8()}readBytes(t=1){return this.readArray(t,"uint8")}readArray(t,n){const r=pw[n].BYTES_PER_ELEMENT*t,i=this.byteOffset+this.offset,a=this.buffer.slice(i,i+r);if(this.littleEndian===yoe&&n!=="uint8"&&n!=="int8"){const o=new Uint8Array(this.buffer.slice(i,i+r));o.reverse();const l=new pw[n](o.buffer);return this.offset+=r,l.reverse(),l}const s=new pw[n](a);return this.offset+=r,s}readInt16(){const t=this._data.getInt16(this.offset,this.littleEndian);return this.offset+=2,t}readUint16(){const t=this._data.getUint16(this.offset,this.littleEndian);return this.offset+=2,t}readInt32(){const t=this._data.getInt32(this.offset,this.littleEndian);return this.offset+=4,t}readUint32(){const t=this._data.getUint32(this.offset,this.littleEndian);return this.offset+=4,t}readFloat32(){const t=this._data.getFloat32(this.offset,this.littleEndian);return this.offset+=4,t}readFloat64(){const t=this._data.getFloat64(this.offset,this.littleEndian);return this.offset+=8,t}readBigInt64(){const t=this._data.getBigInt64(this.offset,this.littleEndian);return this.offset+=8,t}readBigUint64(){const t=this._data.getBigUint64(this.offset,this.littleEndian);return this.offset+=8,t}readChar(){return String.fromCharCode(this.readInt8())}readChars(t=1){let n="";for(let r=0;r<t;r++)n+=this.readChar();return n}readUtf8(t=1){return AC(this.readBytes(t))}decodeText(t=1,n="utf8"){return AC(this.readBytes(t),n)}writeBoolean(t){return this.writeUint8(t?255:0),this}writeInt8(t){return this.ensureAvailable(1),this._data.setInt8(this.offset++,t),this._updateLastWrittenByte(),this}writeUint8(t){return this.ensureAvailable(1),this._data.setUint8(this.offset++,t),this._updateLastWrittenByte(),this}writeByte(t){return this.writeUint8(t)}writeBytes(t){this.ensureAvailable(t.length);for(let n=0;n<t.length;n++)this._data.setUint8(this.offset++,t[n]);return this._updateLastWrittenByte(),this}writeInt16(t){return this.ensureAvailable(2),this._data.setInt16(this.offset,t,this.littleEndian),this.offset+=2,this._updateLastWrittenByte(),this}writeUint16(t){return this.ensureAvailable(2),this._data.setUint16(this.offset,t,this.littleEndian),this.offset+=2,this._updateLastWrittenByte(),this}writeInt32(t){return this.ensureAvailable(4),this._data.setInt32(this.offset,t,this.littleEndian),this.offset+=4,this._updateLastWrittenByte(),this}writeUint32(t){return this.ensureAvailable(4),this._data.setUint32(this.offset,t,this.littleEndian),this.offset+=4,this._updateLastWrittenByte(),this}writeFloat32(t){return this.ensureAvailable(4),this._data.setFloat32(this.offset,t,this.littleEndian),this.offset+=4,this._updateLastWrittenByte(),this}writeFloat64(t){return this.ensureAvailable(8),this._data.setFloat64(this.offset,t,this.littleEndian),this.offset+=8,this._updateLastWrittenByte(),this}writeBigInt64(t){return this.ensureAvailable(8),this._data.setBigInt64(this.offset,t,this.littleEndian),this.offset+=8,this._updateLastWrittenByte(),this}writeBigUint64(t){return this.ensureAvailable(8),this._data.setBigUint64(this.offset,t,this.littleEndian),this.offset+=8,this._updateLastWrittenByte(),this}writeChar(t){return this.writeUint8(t.charCodeAt(0))}writeChars(t){for(let n=0;n<t.length;n++)this.writeUint8(t.charCodeAt(n));return this}writeUtf8(t){return this.writeBytes(goe(t))}toArray(){return new Uint8Array(this.buffer,this.byteOffset,this.lastWrittenByte)}getWrittenByteLength(){return this.lastWrittenByte-this.byteOffset}_updateLastWrittenByte(){this.offset>this.lastWrittenByte&&(this.lastWrittenByte=this.offset)}}function Bh(e){let t=e.length;for(;--t>=0;)e[t]=0}const xoe=3,boe=258,hF=29,woe=256,_oe=woe+1+hF,pF=30,Soe=512,Aoe=new Array((_oe+2)*2);Bh(Aoe);const Poe=new Array(pF*2);Bh(Poe);const Eoe=new Array(Soe);Bh(Eoe);const Noe=new Array(boe-xoe+1);Bh(Noe);const koe=new Array(hF);Bh(koe);const Toe=new Array(pF);Bh(Toe);const Coe=(e,t,n,r)=>{let i=e&65535|0,a=e>>>16&65535|0,s=0;for(;n!==0;){s=n>2e3?2e3:n,n-=s;do i=i+t[r++]|0,a=a+i|0;while(--s);i%=65521,a%=65521}return i|a<<16|0};var t3=Coe;const joe=()=>{let e,t=[];for(var n=0;n<256;n++){e=n;for(var r=0;r<8;r++)e=e&1?3988292384^e>>>1:e>>>1;t[n]=e}return t},Ioe=new Uint32Array(joe()),Ooe=(e,t,n,r)=>{const i=Ioe,a=r+n;e^=-1;for(let s=r;s<a;s++)e=e>>>8^i[(e^t[s])&255];return e^-1};var Ro=Ooe,n3={2:"need dictionary",1:"stream end",0:"","-1":"file error","-2":"stream error","-3":"data error","-4":"insufficient memory","-5":"buffer error","-6":"incompatible version"},mF={Z_NO_FLUSH:0,Z_FINISH:4,Z_BLOCK:5,Z_TREES:6,Z_OK:0,Z_STREAM_END:1,Z_NEED_DICT:2,Z_STREAM_ERROR:-2,Z_DATA_ERROR:-3,Z_MEM_ERROR:-4,Z_BUF_ERROR:-5,Z_DEFLATED:8};const Loe=(e,t)=>Object.prototype.hasOwnProperty.call(e,t);var Roe=function(e){const t=Array.prototype.slice.call(arguments,1);for(;t.length;){const n=t.shift();if(n){if(typeof n!="object")throw new TypeError(n+"must be non-object");for(const r in n)Loe(n,r)&&(e[r]=n[r])}}return e},Moe=e=>{let t=0;for(let r=0,i=e.length;r<i;r++)t+=e[r].length;const n=new Uint8Array(t);for(let r=0,i=0,a=e.length;r<a;r++){let s=e[r];n.set(s,i),i+=s.length}return n},gF={assign:Roe,flattenChunks:Moe};let vF=!0;try{String.fromCharCode.apply(null,new Uint8Array(1))}catch{vF=!1}const Jm=new Uint8Array(256);for(let e=0;e<256;e++)Jm[e]=e>=252?6:e>=248?5:e>=240?4:e>=224?3:e>=192?2:1;Jm[254]=Jm[254]=1;var Doe=e=>{if(typeof TextEncoder=="function"&&TextEncoder.prototype.encode)return new TextEncoder().encode(e);let t,n,r,i,a,s=e.length,o=0;for(i=0;i<s;i++)n=e.charCodeAt(i),(n&64512)===55296&&i+1<s&&(r=e.charCodeAt(i+1),(r&64512)===56320&&(n=65536+(n-55296<<10)+(r-56320),i++)),o+=n<128?1:n<2048?2:n<65536?3:4;for(t=new Uint8Array(o),a=0,i=0;a<o;i++)n=e.charCodeAt(i),(n&64512)===55296&&i+1<s&&(r=e.charCodeAt(i+1),(r&64512)===56320&&(n=65536+(n-55296<<10)+(r-56320),i++)),n<128?t[a++]=n:n<2048?(t[a++]=192|n>>>6,t[a++]=128|n&63):n<65536?(t[a++]=224|n>>>12,t[a++]=128|n>>>6&63,t[a++]=128|n&63):(t[a++]=240|n>>>18,t[a++]=128|n>>>12&63,t[a++]=128|n>>>6&63,t[a++]=128|n&63);return t};const Foe=(e,t)=>{if(t<65534&&e.subarray&&vF)return String.fromCharCode.apply(null,e.length===t?e:e.subarray(0,t));let n="";for(let r=0;r<t;r++)n+=String.fromCharCode(e[r]);return n};var Boe=(e,t)=>{const n=t||e.length;if(typeof TextDecoder=="function"&&TextDecoder.prototype.decode)return new TextDecoder().decode(e.subarray(0,t));let r,i;const a=new Array(n*2);for(i=0,r=0;r<n;){let s=e[r++];if(s<128){a[i++]=s;continue}let o=Jm[s];if(o>4){a[i++]=65533,r+=o-1;continue}for(s&=o===2?31:o===3?15:7;o>1&&r<n;)s=s<<6|e[r++]&63,o--;if(o>1){a[i++]=65533;continue}s<65536?a[i++]=s:(s-=65536,a[i++]=55296|s>>10&1023,a[i++]=56320|s&1023)}return Foe(a,i)},Voe=(e,t)=>{t=t||e.length,t>e.length&&(t=e.length);let n=t-1;for(;n>=0&&(e[n]&192)===128;)n--;return n<0||n===0?t:n+Jm[e[n]]>t?n:t},r3={string2buf:Doe,buf2string:Boe,utf8border:Voe};function zoe(){this.input=null,this.next_in=0,this.avail_in=0,this.total_in=0,this.output=null,this.next_out=0,this.avail_out=0,this.total_out=0,this.msg="",this.state=null,this.data_type=2,this.adler=0}var $oe=zoe;const n1=16209,Uoe=16191;var Woe=function(t,n){let r,i,a,s,o,l,u,c,d,p,f,g,v,b,x,w,A,P,O,D,T,k,I,M;const N=t.state;r=t.next_in,I=t.input,i=r+(t.avail_in-5),a=t.next_out,M=t.output,s=a-(n-t.avail_out),o=a+(t.avail_out-257),l=N.dmax,u=N.wsize,c=N.whave,d=N.wnext,p=N.window,f=N.hold,g=N.bits,v=N.lencode,b=N.distcode,x=(1<<N.lenbits)-1,w=(1<<N.distbits)-1;e:do{g<15&&(f+=I[r++]<<g,g+=8,f+=I[r++]<<g,g+=8),A=v[f&x];t:for(;;){if(P=A>>>24,f>>>=P,g-=P,P=A>>>16&255,P===0)M[a++]=A&65535;else if(P&16){O=A&65535,P&=15,P&&(g<P&&(f+=I[r++]<<g,g+=8),O+=f&(1<<P)-1,f>>>=P,g-=P),g<15&&(f+=I[r++]<<g,g+=8,f+=I[r++]<<g,g+=8),A=b[f&w];n:for(;;){if(P=A>>>24,f>>>=P,g-=P,P=A>>>16&255,P&16){if(D=A&65535,P&=15,g<P&&(f+=I[r++]<<g,g+=8,g<P&&(f+=I[r++]<<g,g+=8)),D+=f&(1<<P)-1,D>l){t.msg="invalid distance too far back",N.mode=n1;break e}if(f>>>=P,g-=P,P=a-s,D>P){if(P=D-P,P>c&&N.sane){t.msg="invalid distance too far back",N.mode=n1;break e}if(T=0,k=p,d===0){if(T+=u-P,P<O){O-=P;do M[a++]=p[T++];while(--P);T=a-D,k=M}}else if(d<P){if(T+=u+d-P,P-=d,P<O){O-=P;do M[a++]=p[T++];while(--P);if(T=0,d<O){P=d,O-=P;do M[a++]=p[T++];while(--P);T=a-D,k=M}}}else if(T+=d-P,P<O){O-=P;do M[a++]=p[T++];while(--P);T=a-D,k=M}for(;O>2;)M[a++]=k[T++],M[a++]=k[T++],M[a++]=k[T++],O-=3;O&&(M[a++]=k[T++],O>1&&(M[a++]=k[T++]))}else{T=a-D;do M[a++]=M[T++],M[a++]=M[T++],M[a++]=M[T++],O-=3;while(O>2);O&&(M[a++]=M[T++],O>1&&(M[a++]=M[T++]))}}else if(P&64){t.msg="invalid distance code",N.mode=n1;break e}else{A=b[(A&65535)+(f&(1<<P)-1)];continue n}break}}else if(P&64)if(P&32){N.mode=Uoe;break e}else{t.msg="invalid literal/length code",N.mode=n1;break e}else{A=v[(A&65535)+(f&(1<<P)-1)];continue t}break}}while(r<i&&a<o);O=g>>3,r-=O,g-=O<<3,f&=(1<<g)-1,t.next_in=r,t.next_out=a,t.avail_in=r<i?5+(i-r):5-(r-i),t.avail_out=a<o?257+(o-a):257-(a-o),N.hold=f,N.bits=g};const rf=15,PC=852,EC=592,NC=0,mw=1,kC=2,qoe=new Uint16Array([3,4,5,6,7,8,9,10,11,13,15,17,19,23,27,31,35,43,51,59,67,83,99,115,131,163,195,227,258,0,0]),Hoe=new Uint8Array([16,16,16,16,16,16,16,16,17,17,17,17,18,18,18,18,19,19,19,19,20,20,20,20,21,21,21,21,16,72,78]),Koe=new Uint16Array([1,2,3,4,5,7,9,13,17,25,33,49,65,97,129,193,257,385,513,769,1025,1537,2049,3073,4097,6145,8193,12289,16385,24577,0,0]),Goe=new Uint8Array([16,16,16,16,17,17,18,18,19,19,20,20,21,21,22,22,23,23,24,24,25,25,26,26,27,27,28,28,29,29,64,64]),Yoe=(e,t,n,r,i,a,s,o)=>{const l=o.bits;let u=0,c=0,d=0,p=0,f=0,g=0,v=0,b=0,x=0,w=0,A,P,O,D,T,k=null,I;const M=new Uint16Array(rf+1),N=new Uint16Array(rf+1);let C=null,R,W,Y;for(u=0;u<=rf;u++)M[u]=0;for(c=0;c<r;c++)M[t[n+c]]++;for(f=l,p=rf;p>=1&&M[p]===0;p--);if(f>p&&(f=p),p===0)return i[a++]=1<<24|64<<16|0,i[a++]=1<<24|64<<16|0,o.bits=1,0;for(d=1;d<p&&M[d]===0;d++);for(f<d&&(f=d),b=1,u=1;u<=rf;u++)if(b<<=1,b-=M[u],b<0)return-1;if(b>0&&(e===NC||p!==1))return-1;for(N[1]=0,u=1;u<rf;u++)N[u+1]=N[u]+M[u];for(c=0;c<r;c++)t[n+c]!==0&&(s[N[t[n+c]]++]=c);if(e===NC?(k=C=s,I=20):e===mw?(k=qoe,C=Hoe,I=257):(k=Koe,C=Goe,I=0),w=0,c=0,u=d,T=a,g=f,v=0,O=-1,x=1<<f,D=x-1,e===mw&&x>PC||e===kC&&x>EC)return 1;for(;;){R=u-v,s[c]+1<I?(W=0,Y=s[c]):s[c]>=I?(W=C[s[c]-I],Y=k[s[c]-I]):(W=96,Y=0),A=1<<u-v,P=1<<g,d=P;do P-=A,i[T+(w>>v)+P]=R<<24|W<<16|Y|0;while(P!==0);for(A=1<<u-1;w&A;)A>>=1;if(A!==0?(w&=A-1,w+=A):w=0,c++,--M[u]===0){if(u===p)break;u=t[n+s[c]]}if(u>f&&(w&D)!==O){for(v===0&&(v=f),T+=d,g=u-v,b=1<<g;g+v<p&&(b-=M[g+v],!(b<=0));)g++,b<<=1;if(x+=1<<g,e===mw&&x>PC||e===kC&&x>EC)return 1;O=w&D,i[O]=f<<24|g<<16|T-a|0}}return w!==0&&(i[T+w]=u-v<<24|64<<16|0),o.bits=f,0};var mm=Yoe;const Xoe=0,yF=1,xF=2,{Z_FINISH:TC,Z_BLOCK:Qoe,Z_TREES:r1,Z_OK:Cd,Z_STREAM_END:Zoe,Z_NEED_DICT:Joe,Z_STREAM_ERROR:Ts,Z_DATA_ERROR:bF,Z_MEM_ERROR:wF,Z_BUF_ERROR:ele,Z_DEFLATED:CC}=mF,W2=16180,jC=16181,IC=16182,OC=16183,LC=16184,RC=16185,MC=16186,DC=16187,FC=16188,BC=16189,ry=16190,gl=16191,gw=16192,VC=16193,vw=16194,zC=16195,$C=16196,UC=16197,WC=16198,i1=16199,a1=16200,qC=16201,HC=16202,KC=16203,GC=16204,YC=16205,yw=16206,XC=16207,QC=16208,Un=16209,_F=16210,SF=16211,tle=852,nle=592,rle=15,ile=rle,ZC=e=>(e>>>24&255)+(e>>>8&65280)+((e&65280)<<8)+((e&255)<<24);function ale(){this.strm=null,this.mode=0,this.last=!1,this.wrap=0,this.havedict=!1,this.flags=0,this.dmax=0,this.check=0,this.total=0,this.head=null,this.wbits=0,this.wsize=0,this.whave=0,this.wnext=0,this.window=null,this.hold=0,this.bits=0,this.length=0,this.offset=0,this.extra=0,this.lencode=null,this.distcode=null,this.lenbits=0,this.distbits=0,this.ncode=0,this.nlen=0,this.ndist=0,this.have=0,this.next=null,this.lens=new Uint16Array(320),this.work=new Uint16Array(288),this.lendyn=null,this.distdyn=null,this.sane=0,this.back=0,this.was=0}const qd=e=>{if(!e)return 1;const t=e.state;return!t||t.strm!==e||t.mode<W2||t.mode>SF?1:0},AF=e=>{if(qd(e))return Ts;const t=e.state;return e.total_in=e.total_out=t.total=0,e.msg="",t.wrap&&(e.adler=t.wrap&1),t.mode=W2,t.last=0,t.havedict=0,t.flags=-1,t.dmax=32768,t.head=null,t.hold=0,t.bits=0,t.lencode=t.lendyn=new Int32Array(tle),t.distcode=t.distdyn=new Int32Array(nle),t.sane=1,t.back=-1,Cd},PF=e=>{if(qd(e))return Ts;const t=e.state;return t.wsize=0,t.whave=0,t.wnext=0,AF(e)},EF=(e,t)=>{let n;if(qd(e))return Ts;const r=e.state;return t<0?(n=0,t=-t):(n=(t>>4)+5,t<48&&(t&=15)),t&&(t<8||t>15)?Ts:(r.window!==null&&r.wbits!==t&&(r.window=null),r.wrap=n,r.wbits=t,PF(e))},NF=(e,t)=>{if(!e)return Ts;const n=new ale;e.state=n,n.strm=e,n.window=null,n.mode=W2;const r=EF(e,t);return r!==Cd&&(e.state=null),r},sle=e=>NF(e,ile);let JC=!0,xw,bw;const ole=e=>{if(JC){xw=new Int32Array(512),bw=new Int32Array(32);let t=0;for(;t<144;)e.lens[t++]=8;for(;t<256;)e.lens[t++]=9;for(;t<280;)e.lens[t++]=7;for(;t<288;)e.lens[t++]=8;for(mm(yF,e.lens,0,288,xw,0,e.work,{bits:9}),t=0;t<32;)e.lens[t++]=5;mm(xF,e.lens,0,32,bw,0,e.work,{bits:5}),JC=!1}e.lencode=xw,e.lenbits=9,e.distcode=bw,e.distbits=5},kF=(e,t,n,r)=>{let i;const a=e.state;return a.window===null&&(a.wsize=1<<a.wbits,a.wnext=0,a.whave=0,a.window=new Uint8Array(a.wsize)),r>=a.wsize?(a.window.set(t.subarray(n-a.wsize,n),0),a.wnext=0,a.whave=a.wsize):(i=a.wsize-a.wnext,i>r&&(i=r),a.window.set(t.subarray(n-r,n-r+i),a.wnext),r-=i,r?(a.window.set(t.subarray(n-r,n),0),a.wnext=r,a.whave=a.wsize):(a.wnext+=i,a.wnext===a.wsize&&(a.wnext=0),a.whave<a.wsize&&(a.whave+=i))),0},lle=(e,t)=>{let n,r,i,a,s,o,l,u,c,d,p,f,g,v,b=0,x,w,A,P,O,D,T,k;const I=new Uint8Array(4);let M,N;const C=new Uint8Array([16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15]);if(qd(e)||!e.output||!e.input&&e.avail_in!==0)return Ts;n=e.state,n.mode===gl&&(n.mode=gw),s=e.next_out,i=e.output,l=e.avail_out,a=e.next_in,r=e.input,o=e.avail_in,u=n.hold,c=n.bits,d=o,p=l,k=Cd;e:for(;;)switch(n.mode){case W2:if(n.wrap===0){n.mode=gw;break}for(;c<16;){if(o===0)break e;o--,u+=r[a++]<<c,c+=8}if(n.wrap&2&&u===35615){n.wbits===0&&(n.wbits=15),n.check=0,I[0]=u&255,I[1]=u>>>8&255,n.check=Ro(n.check,I,2,0),u=0,c=0,n.mode=jC;break}if(n.head&&(n.head.done=!1),!(n.wrap&1)||(((u&255)<<8)+(u>>8))%31){e.msg="incorrect header check",n.mode=Un;break}if((u&15)!==CC){e.msg="unknown compression method",n.mode=Un;break}if(u>>>=4,c-=4,T=(u&15)+8,n.wbits===0&&(n.wbits=T),T>15||T>n.wbits){e.msg="invalid window size",n.mode=Un;break}n.dmax=1<<n.wbits,n.flags=0,e.adler=n.check=1,n.mode=u&512?BC:gl,u=0,c=0;break;case jC:for(;c<16;){if(o===0)break e;o--,u+=r[a++]<<c,c+=8}if(n.flags=u,(n.flags&255)!==CC){e.msg="unknown compression method",n.mode=Un;break}if(n.flags&57344){e.msg="unknown header flags set",n.mode=Un;break}n.head&&(n.head.text=u>>8&1),n.flags&512&&n.wrap&4&&(I[0]=u&255,I[1]=u>>>8&255,n.check=Ro(n.check,I,2,0)),u=0,c=0,n.mode=IC;case IC:for(;c<32;){if(o===0)break e;o--,u+=r[a++]<<c,c+=8}n.head&&(n.head.time=u),n.flags&512&&n.wrap&4&&(I[0]=u&255,I[1]=u>>>8&255,I[2]=u>>>16&255,I[3]=u>>>24&255,n.check=Ro(n.check,I,4,0)),u=0,c=0,n.mode=OC;case OC:for(;c<16;){if(o===0)break e;o--,u+=r[a++]<<c,c+=8}n.head&&(n.head.xflags=u&255,n.head.os=u>>8),n.flags&512&&n.wrap&4&&(I[0]=u&255,I[1]=u>>>8&255,n.check=Ro(n.check,I,2,0)),u=0,c=0,n.mode=LC;case LC:if(n.flags&1024){for(;c<16;){if(o===0)break e;o--,u+=r[a++]<<c,c+=8}n.length=u,n.head&&(n.head.extra_len=u),n.flags&512&&n.wrap&4&&(I[0]=u&255,I[1]=u>>>8&255,n.check=Ro(n.check,I,2,0)),u=0,c=0}else n.head&&(n.head.extra=null);n.mode=RC;case RC:if(n.flags&1024&&(f=n.length,f>o&&(f=o),f&&(n.head&&(T=n.head.extra_len-n.length,n.head.extra||(n.head.extra=new Uint8Array(n.head.extra_len)),n.head.extra.set(r.subarray(a,a+f),T)),n.flags&512&&n.wrap&4&&(n.check=Ro(n.check,r,f,a)),o-=f,a+=f,n.length-=f),n.length))break e;n.length=0,n.mode=MC;case MC:if(n.flags&2048){if(o===0)break e;f=0;do T=r[a+f++],n.head&&T&&n.length<65536&&(n.head.name+=String.fromCharCode(T));while(T&&f<o);if(n.flags&512&&n.wrap&4&&(n.check=Ro(n.check,r,f,a)),o-=f,a+=f,T)break e}else n.head&&(n.head.name=null);n.length=0,n.mode=DC;case DC:if(n.flags&4096){if(o===0)break e;f=0;do T=r[a+f++],n.head&&T&&n.length<65536&&(n.head.comment+=String.fromCharCode(T));while(T&&f<o);if(n.flags&512&&n.wrap&4&&(n.check=Ro(n.check,r,f,a)),o-=f,a+=f,T)break e}else n.head&&(n.head.comment=null);n.mode=FC;case FC:if(n.flags&512){for(;c<16;){if(o===0)break e;o--,u+=r[a++]<<c,c+=8}if(n.wrap&4&&u!==(n.check&65535)){e.msg="header crc mismatch",n.mode=Un;break}u=0,c=0}n.head&&(n.head.hcrc=n.flags>>9&1,n.head.done=!0),e.adler=n.check=0,n.mode=gl;break;case BC:for(;c<32;){if(o===0)break e;o--,u+=r[a++]<<c,c+=8}e.adler=n.check=ZC(u),u=0,c=0,n.mode=ry;case ry:if(n.havedict===0)return e.next_out=s,e.avail_out=l,e.next_in=a,e.avail_in=o,n.hold=u,n.bits=c,Joe;e.adler=n.check=1,n.mode=gl;case gl:if(t===Qoe||t===r1)break e;case gw:if(n.last){u>>>=c&7,c-=c&7,n.mode=yw;break}for(;c<3;){if(o===0)break e;o--,u+=r[a++]<<c,c+=8}switch(n.last=u&1,u>>>=1,c-=1,u&3){case 0:n.mode=VC;break;case 1:if(ole(n),n.mode=i1,t===r1){u>>>=2,c-=2;break e}break;case 2:n.mode=$C;break;case 3:e.msg="invalid block type",n.mode=Un}u>>>=2,c-=2;break;case VC:for(u>>>=c&7,c-=c&7;c<32;){if(o===0)break e;o--,u+=r[a++]<<c,c+=8}if((u&65535)!==(u>>>16^65535)){e.msg="invalid stored block lengths",n.mode=Un;break}if(n.length=u&65535,u=0,c=0,n.mode=vw,t===r1)break e;case vw:n.mode=zC;case zC:if(f=n.length,f){if(f>o&&(f=o),f>l&&(f=l),f===0)break e;i.set(r.subarray(a,a+f),s),o-=f,a+=f,l-=f,s+=f,n.length-=f;break}n.mode=gl;break;case $C:for(;c<14;){if(o===0)break e;o--,u+=r[a++]<<c,c+=8}if(n.nlen=(u&31)+257,u>>>=5,c-=5,n.ndist=(u&31)+1,u>>>=5,c-=5,n.ncode=(u&15)+4,u>>>=4,c-=4,n.nlen>286||n.ndist>30){e.msg="too many length or distance symbols",n.mode=Un;break}n.have=0,n.mode=UC;case UC:for(;n.have<n.ncode;){for(;c<3;){if(o===0)break e;o--,u+=r[a++]<<c,c+=8}n.lens[C[n.have++]]=u&7,u>>>=3,c-=3}for(;n.have<19;)n.lens[C[n.have++]]=0;if(n.lencode=n.lendyn,n.lenbits=7,M={bits:n.lenbits},k=mm(Xoe,n.lens,0,19,n.lencode,0,n.work,M),n.lenbits=M.bits,k){e.msg="invalid code lengths set",n.mode=Un;break}n.have=0,n.mode=WC;case WC:for(;n.have<n.nlen+n.ndist;){for(;b=n.lencode[u&(1<<n.lenbits)-1],x=b>>>24,w=b>>>16&255,A=b&65535,!(x<=c);){if(o===0)break e;o--,u+=r[a++]<<c,c+=8}if(A<16)u>>>=x,c-=x,n.lens[n.have++]=A;else{if(A===16){for(N=x+2;c<N;){if(o===0)break e;o--,u+=r[a++]<<c,c+=8}if(u>>>=x,c-=x,n.have===0){e.msg="invalid bit length repeat",n.mode=Un;break}T=n.lens[n.have-1],f=3+(u&3),u>>>=2,c-=2}else if(A===17){for(N=x+3;c<N;){if(o===0)break e;o--,u+=r[a++]<<c,c+=8}u>>>=x,c-=x,T=0,f=3+(u&7),u>>>=3,c-=3}else{for(N=x+7;c<N;){if(o===0)break e;o--,u+=r[a++]<<c,c+=8}u>>>=x,c-=x,T=0,f=11+(u&127),u>>>=7,c-=7}if(n.have+f>n.nlen+n.ndist){e.msg="invalid bit length repeat",n.mode=Un;break}for(;f--;)n.lens[n.have++]=T}}if(n.mode===Un)break;if(n.lens[256]===0){e.msg="invalid code -- missing end-of-block",n.mode=Un;break}if(n.lenbits=9,M={bits:n.lenbits},k=mm(yF,n.lens,0,n.nlen,n.lencode,0,n.work,M),n.lenbits=M.bits,k){e.msg="invalid literal/lengths set",n.mode=Un;break}if(n.distbits=6,n.distcode=n.distdyn,M={bits:n.distbits},k=mm(xF,n.lens,n.nlen,n.ndist,n.distcode,0,n.work,M),n.distbits=M.bits,k){e.msg="invalid distances set",n.mode=Un;break}if(n.mode=i1,t===r1)break e;case i1:n.mode=a1;case a1:if(o>=6&&l>=258){e.next_out=s,e.avail_out=l,e.next_in=a,e.avail_in=o,n.hold=u,n.bits=c,Woe(e,p),s=e.next_out,i=e.output,l=e.avail_out,a=e.next_in,r=e.input,o=e.avail_in,u=n.hold,c=n.bits,n.mode===gl&&(n.back=-1);break}for(n.back=0;b=n.lencode[u&(1<<n.lenbits)-1],x=b>>>24,w=b>>>16&255,A=b&65535,!(x<=c);){if(o===0)break e;o--,u+=r[a++]<<c,c+=8}if(w&&!(w&240)){for(P=x,O=w,D=A;b=n.lencode[D+((u&(1<<P+O)-1)>>P)],x=b>>>24,w=b>>>16&255,A=b&65535,!(P+x<=c);){if(o===0)break e;o--,u+=r[a++]<<c,c+=8}u>>>=P,c-=P,n.back+=P}if(u>>>=x,c-=x,n.back+=x,n.length=A,w===0){n.mode=YC;break}if(w&32){n.back=-1,n.mode=gl;break}if(w&64){e.msg="invalid literal/length code",n.mode=Un;break}n.extra=w&15,n.mode=qC;case qC:if(n.extra){for(N=n.extra;c<N;){if(o===0)break e;o--,u+=r[a++]<<c,c+=8}n.length+=u&(1<<n.extra)-1,u>>>=n.extra,c-=n.extra,n.back+=n.extra}n.was=n.length,n.mode=HC;case HC:for(;b=n.distcode[u&(1<<n.distbits)-1],x=b>>>24,w=b>>>16&255,A=b&65535,!(x<=c);){if(o===0)break e;o--,u+=r[a++]<<c,c+=8}if(!(w&240)){for(P=x,O=w,D=A;b=n.distcode[D+((u&(1<<P+O)-1)>>P)],x=b>>>24,w=b>>>16&255,A=b&65535,!(P+x<=c);){if(o===0)break e;o--,u+=r[a++]<<c,c+=8}u>>>=P,c-=P,n.back+=P}if(u>>>=x,c-=x,n.back+=x,w&64){e.msg="invalid distance code",n.mode=Un;break}n.offset=A,n.extra=w&15,n.mode=KC;case KC:if(n.extra){for(N=n.extra;c<N;){if(o===0)break e;o--,u+=r[a++]<<c,c+=8}n.offset+=u&(1<<n.extra)-1,u>>>=n.extra,c-=n.extra,n.back+=n.extra}if(n.offset>n.dmax){e.msg="invalid distance too far back",n.mode=Un;break}n.mode=GC;case GC:if(l===0)break e;if(f=p-l,n.offset>f){if(f=n.offset-f,f>n.whave&&n.sane){e.msg="invalid distance too far back",n.mode=Un;break}f>n.wnext?(f-=n.wnext,g=n.wsize-f):g=n.wnext-f,f>n.length&&(f=n.length),v=n.window}else v=i,g=s-n.offset,f=n.length;f>l&&(f=l),l-=f,n.length-=f;do i[s++]=v[g++];while(--f);n.length===0&&(n.mode=a1);break;case YC:if(l===0)break e;i[s++]=n.length,l--,n.mode=a1;break;case yw:if(n.wrap){for(;c<32;){if(o===0)break e;o--,u|=r[a++]<<c,c+=8}if(p-=l,e.total_out+=p,n.total+=p,n.wrap&4&&p&&(e.adler=n.check=n.flags?Ro(n.check,i,p,s-p):t3(n.check,i,p,s-p)),p=l,n.wrap&4&&(n.flags?u:ZC(u))!==n.check){e.msg="incorrect data check",n.mode=Un;break}u=0,c=0}n.mode=XC;case XC:if(n.wrap&&n.flags){for(;c<32;){if(o===0)break e;o--,u+=r[a++]<<c,c+=8}if(n.wrap&4&&u!==(n.total&4294967295)){e.msg="incorrect length check",n.mode=Un;break}u=0,c=0}n.mode=QC;case QC:k=Zoe;break e;case Un:k=bF;break e;case _F:return wF;case SF:default:return Ts}return e.next_out=s,e.avail_out=l,e.next_in=a,e.avail_in=o,n.hold=u,n.bits=c,(n.wsize||p!==e.avail_out&&n.mode<Un&&(n.mode<yw||t!==TC))&&kF(e,e.output,e.next_out,p-e.avail_out),d-=e.avail_in,p-=e.avail_out,e.total_in+=d,e.total_out+=p,n.total+=p,n.wrap&4&&p&&(e.adler=n.check=n.flags?Ro(n.check,i,p,e.next_out-p):t3(n.check,i,p,e.next_out-p)),e.data_type=n.bits+(n.last?64:0)+(n.mode===gl?128:0)+(n.mode===i1||n.mode===vw?256:0),(d===0&&p===0||t===TC)&&k===Cd&&(k=ele),k},ule=e=>{if(qd(e))return Ts;let t=e.state;return t.window&&(t.window=null),e.state=null,Cd},cle=(e,t)=>{if(qd(e))return Ts;const n=e.state;return n.wrap&2?(n.head=t,t.done=!1,Cd):Ts},dle=(e,t)=>{const n=t.length;let r,i,a;return qd(e)||(r=e.state,r.wrap!==0&&r.mode!==ry)?Ts:r.mode===ry&&(i=1,i=t3(i,t,n,0),i!==r.check)?bF:(a=kF(e,t,n,n),a?(r.mode=_F,wF):(r.havedict=1,Cd))};var fle=PF,hle=EF,ple=AF,mle=sle,gle=NF,vle=lle,yle=ule,xle=cle,ble=dle,wle="pako inflate (from Nodeca project)",xl={inflateReset:fle,inflateReset2:hle,inflateResetKeep:ple,inflateInit:mle,inflateInit2:gle,inflate:vle,inflateEnd:yle,inflateGetHeader:xle,inflateSetDictionary:ble,inflateInfo:wle};function _le(){this.text=0,this.time=0,this.xflags=0,this.os=0,this.extra=null,this.extra_len=0,this.name="",this.comment="",this.hcrc=0,this.done=!1}var Sle=_le;const TF=Object.prototype.toString,{Z_NO_FLUSH:Ale,Z_FINISH:Ple,Z_OK:e0,Z_STREAM_END:ww,Z_NEED_DICT:_w,Z_STREAM_ERROR:Ele,Z_DATA_ERROR:e8,Z_MEM_ERROR:Nle}=mF;function z0(e){this.options=gF.assign({chunkSize:1024*64,windowBits:15,to:""},e||{});const t=this.options;t.raw&&t.windowBits>=0&&t.windowBits<16&&(t.windowBits=-t.windowBits,t.windowBits===0&&(t.windowBits=-15)),t.windowBits>=0&&t.windowBits<16&&!(e&&e.windowBits)&&(t.windowBits+=32),t.windowBits>15&&t.windowBits<48&&(t.windowBits&15||(t.windowBits|=15)),this.err=0,this.msg="",this.ended=!1,this.chunks=[],this.strm=new $oe,this.strm.avail_out=0;let n=xl.inflateInit2(this.strm,t.windowBits);if(n!==e0)throw new Error(n3[n]);if(this.header=new Sle,xl.inflateGetHeader(this.strm,this.header),t.dictionary&&(typeof t.dictionary=="string"?t.dictionary=r3.string2buf(t.dictionary):TF.call(t.dictionary)==="[object ArrayBuffer]"&&(t.dictionary=new Uint8Array(t.dictionary)),t.raw&&(n=xl.inflateSetDictionary(this.strm,t.dictionary),n!==e0)))throw new Error(n3[n])}z0.prototype.push=function(e,t){const n=this.strm,r=this.options.chunkSize,i=this.options.dictionary;let a,s,o;if(this.ended)return!1;for(t===~~t?s=t:s=t===!0?Ple:Ale,TF.call(e)==="[object ArrayBuffer]"?n.input=new Uint8Array(e):n.input=e,n.next_in=0,n.avail_in=n.input.length;;){for(n.avail_out===0&&(n.output=new Uint8Array(r),n.next_out=0,n.avail_out=r),a=xl.inflate(n,s),a===_w&&i&&(a=xl.inflateSetDictionary(n,i),a===e0?a=xl.inflate(n,s):a===e8&&(a=_w));n.avail_in>0&&a===ww&&n.state.wrap>0&&e[n.next_in]!==0;)xl.inflateReset(n),a=xl.inflate(n,s);switch(a){case Ele:case e8:case _w:case Nle:return this.onEnd(a),this.ended=!0,!1}if(o=n.avail_out,n.next_out&&(n.avail_out===0||a===ww))if(this.options.to==="string"){let l=r3.utf8border(n.output,n.next_out),u=n.next_out-l,c=r3.buf2string(n.output,l);n.next_out=u,n.avail_out=r-u,u&&n.output.set(n.output.subarray(l,l+u),0),this.onData(c)}else this.onData(n.output.length===n.next_out?n.output:n.output.subarray(0,n.next_out));if(!(a===e0&&o===0)){if(a===ww)return a=xl.inflateEnd(this.strm),this.onEnd(a),this.ended=!0,!0;if(n.avail_in===0)break}}return!0};z0.prototype.onData=function(e){this.chunks.push(e)};z0.prototype.onEnd=function(e){e===e0&&(this.options.to==="string"?this.result=this.chunks.join(""):this.result=gF.flattenChunks(this.chunks)),this.chunks=[],this.err=e,this.msg=this.strm.msg};function kle(e,t){const n=new z0(t);if(n.push(e),n.err)throw n.msg||n3[n.err];return n.result}var Tle=z0,Cle=kle,jle={Inflate:Tle,inflate:Cle};const{Inflate:Ile,inflate:Ole}=jle;var t8=Ile,Lle=Ole;const CF=[];for(let e=0;e<256;e++){let t=e;for(let n=0;n<8;n++)t&1?t=3988292384^t>>>1:t=t>>>1;CF[e]=t}const n8=4294967295;function Rle(e,t,n){let r=e;for(let i=0;i<n;i++)r=CF[(r^t[i])&255]^r>>>8;return r}function Mle(e,t){return(Rle(n8,e,t)^n8)>>>0}function r8(e,t,n){const r=e.readUint32(),i=Mle(new Uint8Array(e.buffer,e.byteOffset+e.offset-t-4,t),t);if(i!==r)throw new Error(`CRC mismatch for chunk ${n}. Expected ${r}, found ${i}`)}function jF(e,t,n){for(let r=0;r<n;r++)t[r]=e[r]}function IF(e,t,n,r){let i=0;for(;i<r;i++)t[i]=e[i];for(;i<n;i++)t[i]=e[i]+t[i-r]&255}function OF(e,t,n,r){let i=0;if(n.length===0)for(;i<r;i++)t[i]=e[i];else for(;i<r;i++)t[i]=e[i]+n[i]&255}function LF(e,t,n,r,i){let a=0;if(n.length===0){for(;a<i;a++)t[a]=e[a];for(;a<r;a++)t[a]=e[a]+(t[a-i]>>1)&255}else{for(;a<i;a++)t[a]=e[a]+(n[a]>>1)&255;for(;a<r;a++)t[a]=e[a]+(t[a-i]+n[a]>>1)&255}}function RF(e,t,n,r,i){let a=0;if(n.length===0){for(;a<i;a++)t[a]=e[a];for(;a<r;a++)t[a]=e[a]+t[a-i]&255}else{for(;a<i;a++)t[a]=e[a]+n[a]&255;for(;a<r;a++)t[a]=e[a]+Dle(t[a-i],n[a],n[a-i])&255}}function Dle(e,t,n){const r=e+t-n,i=Math.abs(r-e),a=Math.abs(r-t),s=Math.abs(r-n);return i<=a&&i<=s?e:a<=s?t:n}function Fle(e,t,n,r,i,a){switch(e){case 0:jF(t,n,i);break;case 1:IF(t,n,i,a);break;case 2:OF(t,n,r,i);break;case 3:LF(t,n,r,i,a);break;case 4:RF(t,n,r,i,a);break;default:throw new Error(`Unsupported filter: ${e}`)}}const Ble=new Uint16Array([255]),Vle=new Uint8Array(Ble.buffer),zle=Vle[0]===255;function $le(e){const{data:t,width:n,height:r,channels:i,depth:a}=e,s=[{x:0,y:0,xStep:8,yStep:8},{x:4,y:0,xStep:8,yStep:8},{x:0,y:4,xStep:4,yStep:8},{x:2,y:0,xStep:4,yStep:4},{x:0,y:2,xStep:2,yStep:4},{x:1,y:0,xStep:2,yStep:2},{x:0,y:1,xStep:1,yStep:2}],o=Math.ceil(a/8)*i,l=new Uint8Array(r*n*o);let u=0;for(let c=0;c<7;c++){const d=s[c],p=Math.ceil((n-d.x)/d.xStep),f=Math.ceil((r-d.y)/d.yStep);if(p<=0||f<=0)continue;const g=p*o,v=new Uint8Array(g);for(let b=0;b<f;b++){const x=t[u++],w=t.subarray(u,u+g);u+=g;const A=new Uint8Array(g);Fle(x,w,A,v,g,o),v.set(A);for(let P=0;P<p;P++){const O=d.x+P*d.xStep,D=d.y+b*d.yStep;if(!(O>=n||D>=r))for(let T=0;T<o;T++)l[(D*n+O)*o+T]=A[P*o+T]}}}if(a===16){const c=new Uint16Array(l.buffer);if(zle)for(let d=0;d<c.length;d++)c[d]=Ule(c[d]);return c}else return l}function Ule(e){return(e&255)<<8|e>>8&255}const Wle=new Uint16Array([255]),qle=new Uint8Array(Wle.buffer),Hle=qle[0]===255,Kle=new Uint8Array(0);function i8(e){const{data:t,width:n,height:r,channels:i,depth:a}=e,s=Math.ceil(a/8)*i,o=Math.ceil(a/8*i*n),l=new Uint8Array(r*o);let u=Kle,c=0,d,p;for(let f=0;f<r;f++){switch(d=t.subarray(c+1,c+1+o),p=l.subarray(f*o,(f+1)*o),t[c]){case 0:jF(d,p,o);break;case 1:IF(d,p,o,s);break;case 2:OF(d,p,u,o);break;case 3:LF(d,p,u,o,s);break;case 4:RF(d,p,u,o,s);break;default:throw new Error(`Unsupported filter: ${t[c]}`)}u=p,c+=o+1}if(a===16){const f=new Uint16Array(l.buffer);if(Hle)for(let g=0;g<f.length;g++)f[g]=Gle(f[g]);return f}else return l}function Gle(e){return(e&255)<<8|e>>8&255}const Q1=Uint8Array.of(137,80,78,71,13,10,26,10);function a8(e){if(!Yle(e.readBytes(Q1.length)))throw new Error("wrong PNG signature")}function Yle(e){if(e.length<Q1.length)return!1;for(let t=0;t<Q1.length;t++)if(e[t]!==Q1[t])return!1;return!0}const Xle="tEXt",Qle=0,MF=new TextDecoder("latin1");function Zle(e){if(eue(e),e.length===0||e.length>79)throw new Error("keyword length must be between 1 and 79")}const Jle=/^[\u0000-\u00FF]*$/;function eue(e){if(!Jle.test(e))throw new Error("invalid latin1 text")}function tue(e,t,n){const r=DF(t);e[r]=nue(t,n-r.length-1)}function DF(e){for(e.mark();e.readByte()!==Qle;);const t=e.offset;e.reset();const n=MF.decode(e.readBytes(t-e.offset-1));return e.skip(1),Zle(n),n}function nue(e,t){return MF.decode(e.readBytes(t))}const Ha={UNKNOWN:-1,GREYSCALE:0,TRUECOLOUR:2,INDEXED_COLOUR:3,GREYSCALE_ALPHA:4,TRUECOLOUR_ALPHA:6},Sw={UNKNOWN:-1,DEFLATE:0},s8={UNKNOWN:-1,ADAPTIVE:0},Aw={UNKNOWN:-1,NO_INTERLACE:0,ADAM7:1},s1={NONE:0,BACKGROUND:1,PREVIOUS:2},Pw={SOURCE:0,OVER:1};class rue extends IA{constructor(n,r={}){super(n);an(this,"_checkCrc");an(this,"_inflator");an(this,"_png");an(this,"_apng");an(this,"_end");an(this,"_hasPalette");an(this,"_palette");an(this,"_hasTransparency");an(this,"_transparency");an(this,"_compressionMethod");an(this,"_filterMethod");an(this,"_interlaceMethod");an(this,"_colorType");an(this,"_isAnimated");an(this,"_numberOfFrames");an(this,"_numberOfPlays");an(this,"_frames");an(this,"_writingDataChunks");const{checkCrc:i=!1}=r;this._checkCrc=i,this._inflator=new t8,this._png={width:-1,height:-1,channels:-1,data:new Uint8Array(0),depth:1,text:{}},this._apng={width:-1,height:-1,channels:-1,depth:1,numberOfFrames:1,numberOfPlays:0,text:{},frames:[]},this._end=!1,this._hasPalette=!1,this._palette=[],this._hasTransparency=!1,this._transparency=new Uint16Array(0),this._compressionMethod=Sw.UNKNOWN,this._filterMethod=s8.UNKNOWN,this._interlaceMethod=Aw.UNKNOWN,this._colorType=Ha.UNKNOWN,this._isAnimated=!1,this._numberOfFrames=1,this._numberOfPlays=0,this._frames=[],this._writingDataChunks=!1,this.setBigEndian()}decode(){for(a8(this);!this._end;){const n=this.readUint32(),r=this.readChars(4);this.decodeChunk(n,r)}return this.decodeImage(),this._png}decodeApng(){for(a8(this);!this._end;){const n=this.readUint32(),r=this.readChars(4);this.decodeApngChunk(n,r)}return this.decodeApngImage(),this._apng}decodeChunk(n,r){const i=this.offset;switch(r){case"IHDR":this.decodeIHDR();break;case"PLTE":this.decodePLTE(n);break;case"IDAT":this.decodeIDAT(n);break;case"IEND":this._end=!0;break;case"tRNS":this.decodetRNS(n);break;case"iCCP":this.decodeiCCP(n);break;case Xle:tue(this._png.text,this,n);break;case"pHYs":this.decodepHYs();break;default:this.skip(n);break}if(this.offset-i!==n)throw new Error(`Length mismatch while decoding chunk ${r}`);this._checkCrc?r8(this,n+4,r):this.skip(4)}decodeApngChunk(n,r){const i=this.offset;switch(r!=="fdAT"&&r!=="IDAT"&&this._writingDataChunks&&this.pushDataToFrame(),r){case"acTL":this.decodeACTL();break;case"fcTL":this.decodeFCTL();break;case"fdAT":this.decodeFDAT(n);break;default:this.decodeChunk(n,r),this.offset=i+n;break}if(this.offset-i!==n)throw new Error(`Length mismatch while decoding chunk ${r}`);this._checkCrc?r8(this,n+4,r):this.skip(4)}decodeIHDR(){const n=this._png;n.width=this.readUint32(),n.height=this.readUint32(),n.depth=iue(this.readUint8());const r=this.readUint8();this._colorType=r;let i;switch(r){case Ha.GREYSCALE:i=1;break;case Ha.TRUECOLOUR:i=3;break;case Ha.INDEXED_COLOUR:i=1;break;case Ha.GREYSCALE_ALPHA:i=2;break;case Ha.TRUECOLOUR_ALPHA:i=4;break;case Ha.UNKNOWN:default:throw new Error(`Unknown color type: ${r}`)}if(this._png.channels=i,this._compressionMethod=this.readUint8(),this._compressionMethod!==Sw.DEFLATE)throw new Error(`Unsupported compression method: ${this._compressionMethod}`);this._filterMethod=this.readUint8(),this._interlaceMethod=this.readUint8()}decodeACTL(){this._numberOfFrames=this.readUint32(),this._numberOfPlays=this.readUint32(),this._isAnimated=!0}decodeFCTL(){const n={sequenceNumber:this.readUint32(),width:this.readUint32(),height:this.readUint32(),xOffset:this.readUint32(),yOffset:this.readUint32(),delayNumber:this.readUint16(),delayDenominator:this.readUint16(),disposeOp:this.readUint8(),blendOp:this.readUint8(),data:new Uint8Array(0)};this._frames.push(n)}decodePLTE(n){if(n%3!==0)throw new RangeError(`PLTE field length must be a multiple of 3. Got ${n}`);const r=n/3;this._hasPalette=!0;const i=[];this._palette=i;for(let a=0;a<r;a++)i.push([this.readUint8(),this.readUint8(),this.readUint8()])}decodeIDAT(n){this._writingDataChunks=!0;const r=n,i=this.offset+this.byteOffset;if(this._inflator.push(new Uint8Array(this.buffer,i,r)),this._inflator.err)throw new Error(`Error while decompressing the data: ${this._inflator.err}`);this.skip(n)}decodeFDAT(n){this._writingDataChunks=!0;let r=n,i=this.offset+this.byteOffset;if(i+=4,r-=4,this._inflator.push(new Uint8Array(this.buffer,i,r)),this._inflator.err)throw new Error(`Error while decompressing the data: ${this._inflator.err}`);this.skip(n)}decodetRNS(n){switch(this._colorType){case Ha.GREYSCALE:case Ha.TRUECOLOUR:{if(n%2!==0)throw new RangeError(`tRNS chunk length must be a multiple of 2. Got ${n}`);if(n/2>this._png.width*this._png.height)throw new Error(`tRNS chunk contains more alpha values than there are pixels (${n/2} vs ${this._png.width*this._png.height})`);this._hasTransparency=!0,this._transparency=new Uint16Array(n/2);for(let r=0;r<n/2;r++)this._transparency[r]=this.readUint16();break}case Ha.INDEXED_COLOUR:{if(n>this._palette.length)throw new Error(`tRNS chunk contains more alpha values than there are palette colors (${n} vs ${this._palette.length})`);let r=0;for(;r<n;r++){const i=this.readByte();this._palette[r].push(i)}for(;r<this._palette.length;r++)this._palette[r].push(255);break}case Ha.UNKNOWN:case Ha.GREYSCALE_ALPHA:case Ha.TRUECOLOUR_ALPHA:default:throw new Error(`tRNS chunk is not supported for color type ${this._colorType}`)}}decodeiCCP(n){const r=DF(this),i=this.readUint8();if(i!==Sw.DEFLATE)throw new Error(`Unsupported iCCP compression method: ${i}`);const a=this.readBytes(n-r.length-2);this._png.iccEmbeddedProfile={name:r,profile:Lle(a)}}decodepHYs(){const n=this.readUint32(),r=this.readUint32(),i=this.readByte();this._png.resolution={x:n,y:r,unit:i}}decodeApngImage(){this._apng.width=this._png.width,this._apng.height=this._png.height,this._apng.channels=this._png.channels,this._apng.depth=this._png.depth,this._apng.numberOfFrames=this._numberOfFrames,this._apng.numberOfPlays=this._numberOfPlays,this._apng.text=this._png.text,this._apng.resolution=this._png.resolution;for(let n=0;n<this._numberOfFrames;n++){const r={sequenceNumber:this._frames[n].sequenceNumber,delayNumber:this._frames[n].delayNumber,delayDenominator:this._frames[n].delayDenominator,data:this._apng.depth===8?new Uint8Array(this._apng.width*this._apng.height*this._apng.channels):new Uint16Array(this._apng.width*this._apng.height*this._apng.channels)},i=this._frames.at(n);if(i){if(i.data=i8({data:i.data,width:i.width,height:i.height,channels:this._apng.channels,depth:this._apng.depth}),this._hasPalette&&(this._apng.palette=this._palette),this._hasTransparency&&(this._apng.transparency=this._transparency),n===0||i.xOffset===0&&i.yOffset===0&&i.width===this._png.width&&i.height===this._png.height)r.data=i.data;else{const a=this._apng.frames.at(n-1);this.disposeFrame(i,a,r),this.addFrameDataToCanvas(r,i)}this._apng.frames.push(r)}}return this._apng}disposeFrame(n,r,i){switch(n.disposeOp){case s1.NONE:break;case s1.BACKGROUND:for(let a=0;a<this._png.height;a++)for(let s=0;s<this._png.width;s++){const o=(a*n.width+s)*this._png.channels;for(let l=0;l<this._png.channels;l++)i.data[o+l]=0}break;case s1.PREVIOUS:i.data.set(r.data);break;default:throw new Error("Unknown disposeOp")}}addFrameDataToCanvas(n,r){const i=1<<this._png.depth,a=(s,o)=>{const l=((s+r.yOffset)*this._png.width+r.xOffset+o)*this._png.channels,u=(s*r.width+o)*this._png.channels;return{index:l,frameIndex:u}};switch(r.blendOp){case Pw.SOURCE:for(let s=0;s<r.height;s++)for(let o=0;o<r.width;o++){const{index:l,frameIndex:u}=a(s,o);for(let c=0;c<this._png.channels;c++)n.data[l+c]=r.data[u+c]}break;case Pw.OVER:for(let s=0;s<r.height;s++)for(let o=0;o<r.width;o++){const{index:l,frameIndex:u}=a(s,o);for(let c=0;c<this._png.channels;c++){const d=r.data[u+this._png.channels-1]/i,p=c%(this._png.channels-1)===0?1:r.data[u+c],f=Math.floor(d*p+(1-d)*n.data[l+c]);n.data[l+c]+=f}}break;default:throw new Error("Unknown blendOp")}}decodeImage(){var r;if(this._inflator.err)throw new Error(`Error while decompressing the data: ${this._inflator.err}`);const n=this._isAnimated?((r=this._frames)==null?void 0:r.at(0)).data:this._inflator.result;if(this._filterMethod!==s8.ADAPTIVE)throw new Error(`Filter method ${this._filterMethod} not supported`);if(this._interlaceMethod===Aw.NO_INTERLACE)this._png.data=i8({data:n,width:this._png.width,height:this._png.height,channels:this._png.channels,depth:this._png.depth});else if(this._interlaceMethod===Aw.ADAM7)this._png.data=$le({data:n,width:this._png.width,height:this._png.height,channels:this._png.channels,depth:this._png.depth});else throw new Error(`Interlace method ${this._interlaceMethod} not supported`);this._hasPalette&&(this._png.palette=this._palette),this._hasTransparency&&(this._png.transparency=this._transparency)}pushDataToFrame(){const n=this._inflator.result,r=this._frames.at(-1);r?r.data=n:this._frames.push({sequenceNumber:0,width:this._png.width,height:this._png.height,xOffset:0,yOffset:0,delayNumber:0,delayDenominator:0,disposeOp:s1.NONE,blendOp:Pw.SOURCE,data:n}),this._inflator=new t8,this._writingDataChunks=!1}}function iue(e){if(e!==1&&e!==2&&e!==4&&e!==8&&e!==16)throw new Error(`invalid bit depth: ${e}`);return e}var o8;(function(e){e[e.UNKNOWN=0]="UNKNOWN",e[e.METRE=1]="METRE"})(o8||(o8={}));function aue(e,t){return new rue(e,t).decode()}var _t=function(){return typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:this}();function Ew(){_t.console&&typeof _t.console.log=="function"&&_t.console.log.apply(_t.console,arguments)}var _n={log:Ew,warn:function(e){_t.console&&(typeof _t.console.warn=="function"?_t.console.warn.apply(_t.console,arguments):Ew.call(null,arguments))},error:function(e){_t.console&&(typeof _t.console.error=="function"?_t.console.error.apply(_t.console,arguments):Ew(e))}};function Nw(e,t,n){var r=new XMLHttpRequest;r.open("GET",e),r.responseType="blob",r.onload=function(){Yc(r.response,t,n)},r.onerror=function(){_n.error("could not download file")},r.send()}function l8(e){var t=new XMLHttpRequest;t.open("HEAD",e,!1);try{t.send()}catch{}return t.status>=200&&t.status<=299}function o1(e){try{e.dispatchEvent(new MouseEvent("click"))}catch{var t=document.createEvent("MouseEvents");t.initMouseEvent("click",!0,!0,window,0,0,0,80,20,!1,!1,!1,!1,0,null),e.dispatchEvent(t)}}var Yc=_t.saveAs||((typeof window>"u"?"undefined":gn(window))!=="object"||window!==_t?function(){}:typeof HTMLAnchorElement<"u"&&"download"in HTMLAnchorElement.prototype?function(e,t,n){var r=_t.URL||_t.webkitURL,i=document.createElement("a");t=t||e.name||"download",i.download=t,i.rel="noopener",typeof e=="string"?(i.href=e,i.origin!==location.origin?l8(i.href)?Nw(e,t,n):o1(i,i.target="_blank"):o1(i)):(i.href=r.createObjectURL(e),setTimeout(function(){r.revokeObjectURL(i.href)},4e4),setTimeout(function(){o1(i)},0))}:"msSaveOrOpenBlob"in navigator?function(e,t,n){if(t=t||e.name||"download",typeof e=="string")if(l8(e))Nw(e,t,n);else{var r=document.createElement("a");r.href=e,r.target="_blank",setTimeout(function(){o1(r)})}else navigator.msSaveOrOpenBlob(function(i,a){return a===void 0?a={autoBom:!1}:gn(a)!=="object"&&(_n.warn("Deprecated: Expected third argument to be a object"),a={autoBom:!a}),a.autoBom&&/^\s*(?:text\/\S*|application\/xml|\S*\/\S*\+xml)\s*;.*charset\s*=\s*utf-8/i.test(i.type)?new Blob(["\uFEFF",i],{type:i.type}):i}(e,n),t)}:function(e,t,n,r){if((r=r||open("","_blank"))&&(r.document.title=r.document.body.innerText="downloading..."),typeof e=="string")return Nw(e,t,n);var i=e.type==="application/octet-stream",a=/constructor/i.test(_t.HTMLElement)||_t.safari,s=/CriOS\/[\d]+/.test(navigator.userAgent);if((s||i&&a)&&(typeof FileReader>"u"?"undefined":gn(FileReader))==="object"){var o=new FileReader;o.onloadend=function(){var c=o.result;c=s?c:c.replace(/^data:[^;]*;/,"data:attachment/file;"),r?r.location.href=c:location=c,r=null},o.readAsDataURL(e)}else{var l=_t.URL||_t.webkitURL,u=l.createObjectURL(e);r?r.location=u:location.href=u,r=null,setTimeout(function(){l.revokeObjectURL(u)},4e4)}});/**
 * A class to parse color values
 * @author Stoyan Stefanov <sstoo@gmail.com>
 * {@link   http://www.phpied.com/rgb-color-parser-in-javascript/}
 * @license Use it if you like it
 */function FF(e){var t;e=e||"",this.ok=!1,e.charAt(0)=="#"&&(e=e.substr(1,6)),e={aliceblue:"f0f8ff",antiquewhite:"faebd7",aqua:"00ffff",aquamarine:"7fffd4",azure:"f0ffff",beige:"f5f5dc",bisque:"ffe4c4",black:"000000",blanchedalmond:"ffebcd",blue:"0000ff",blueviolet:"8a2be2",brown:"a52a2a",burlywood:"deb887",cadetblue:"5f9ea0",chartreuse:"7fff00",chocolate:"d2691e",coral:"ff7f50",cornflowerblue:"6495ed",cornsilk:"fff8dc",crimson:"dc143c",cyan:"00ffff",darkblue:"00008b",darkcyan:"008b8b",darkgoldenrod:"b8860b",darkgray:"a9a9a9",darkgreen:"006400",darkkhaki:"bdb76b",darkmagenta:"8b008b",darkolivegreen:"556b2f",darkorange:"ff8c00",darkorchid:"9932cc",darkred:"8b0000",darksalmon:"e9967a",darkseagreen:"8fbc8f",darkslateblue:"483d8b",darkslategray:"2f4f4f",darkturquoise:"00ced1",darkviolet:"9400d3",deeppink:"ff1493",deepskyblue:"00bfff",dimgray:"696969",dodgerblue:"1e90ff",feldspar:"d19275",firebrick:"b22222",floralwhite:"fffaf0",forestgreen:"228b22",fuchsia:"ff00ff",gainsboro:"dcdcdc",ghostwhite:"f8f8ff",gold:"ffd700",goldenrod:"daa520",gray:"808080",green:"008000",greenyellow:"adff2f",honeydew:"f0fff0",hotpink:"ff69b4",indianred:"cd5c5c",indigo:"4b0082",ivory:"fffff0",khaki:"f0e68c",lavender:"e6e6fa",lavenderblush:"fff0f5",lawngreen:"7cfc00",lemonchiffon:"fffacd",lightblue:"add8e6",lightcoral:"f08080",lightcyan:"e0ffff",lightgoldenrodyellow:"fafad2",lightgrey:"d3d3d3",lightgreen:"90ee90",lightpink:"ffb6c1",lightsalmon:"ffa07a",lightseagreen:"20b2aa",lightskyblue:"87cefa",lightslateblue:"8470ff",lightslategray:"778899",lightsteelblue:"b0c4de",lightyellow:"ffffe0",lime:"00ff00",limegreen:"32cd32",linen:"faf0e6",magenta:"ff00ff",maroon:"800000",mediumaquamarine:"66cdaa",mediumblue:"0000cd",mediumorchid:"ba55d3",mediumpurple:"9370d8",mediumseagreen:"3cb371",mediumslateblue:"7b68ee",mediumspringgreen:"00fa9a",mediumturquoise:"48d1cc",mediumvioletred:"c71585",midnightblue:"191970",mintcream:"f5fffa",mistyrose:"ffe4e1",moccasin:"ffe4b5",navajowhite:"ffdead",navy:"000080",oldlace:"fdf5e6",olive:"808000",olivedrab:"6b8e23",orange:"ffa500",orangered:"ff4500",orchid:"da70d6",palegoldenrod:"eee8aa",palegreen:"98fb98",paleturquoise:"afeeee",palevioletred:"d87093",papayawhip:"ffefd5",peachpuff:"ffdab9",peru:"cd853f",pink:"ffc0cb",plum:"dda0dd",powderblue:"b0e0e6",purple:"800080",red:"ff0000",rosybrown:"bc8f8f",royalblue:"4169e1",saddlebrown:"8b4513",salmon:"fa8072",sandybrown:"f4a460",seagreen:"2e8b57",seashell:"fff5ee",sienna:"a0522d",silver:"c0c0c0",skyblue:"87ceeb",slateblue:"6a5acd",slategray:"708090",snow:"fffafa",springgreen:"00ff7f",steelblue:"4682b4",tan:"d2b48c",teal:"008080",thistle:"d8bfd8",tomato:"ff6347",turquoise:"40e0d0",violet:"ee82ee",violetred:"d02090",wheat:"f5deb3",white:"ffffff",whitesmoke:"f5f5f5",yellow:"ffff00",yellowgreen:"9acd32"}[e=(e=e.replace(/ /g,"")).toLowerCase()]||e;for(var n=[{re:/^rgb\((\d{1,3}),\s*(\d{1,3}),\s*(\d{1,3})\)$/,example:["rgb(123, 234, 45)","rgb(255,234,245)"],process:function(o){return[parseInt(o[1]),parseInt(o[2]),parseInt(o[3])]}},{re:/^(\w{2})(\w{2})(\w{2})$/,example:["#00ff00","336699"],process:function(o){return[parseInt(o[1],16),parseInt(o[2],16),parseInt(o[3],16)]}},{re:/^(\w{1})(\w{1})(\w{1})$/,example:["#fb0","f0f"],process:function(o){return[parseInt(o[1]+o[1],16),parseInt(o[2]+o[2],16),parseInt(o[3]+o[3],16)]}}],r=0;r<n.length;r++){var i=n[r].re,a=n[r].process,s=i.exec(e);s&&(t=a(s),this.r=t[0],this.g=t[1],this.b=t[2],this.ok=!0)}this.r=this.r<0||isNaN(this.r)?0:this.r>255?255:this.r,this.g=this.g<0||isNaN(this.g)?0:this.g>255?255:this.g,this.b=this.b<0||isNaN(this.b)?0:this.b>255?255:this.b,this.toRGB=function(){return"rgb("+this.r+", "+this.g+", "+this.b+")"},this.toHex=function(){var o=this.r.toString(16),l=this.g.toString(16),u=this.b.toString(16);return o.length==1&&(o="0"+o),l.length==1&&(l="0"+l),u.length==1&&(u="0"+u),"#"+o+l+u}}var Z1=_t.atob.bind(_t),u8=_t.btoa.bind(_t);/**
 * @license
 * Joseph Myers does not specify a particular license for his work.
 *
 * Author: Joseph Myers
 * Accessed from: http://www.myersdaily.org/joseph/javascript/md5.js
 *
 * Modified by: Owen Leong
 */function kw(e,t){var n=e[0],r=e[1],i=e[2],a=e[3];n=Di(n,r,i,a,t[0],7,-680876936),a=Di(a,n,r,i,t[1],12,-389564586),i=Di(i,a,n,r,t[2],17,606105819),r=Di(r,i,a,n,t[3],22,-1044525330),n=Di(n,r,i,a,t[4],7,-176418897),a=Di(a,n,r,i,t[5],12,1200080426),i=Di(i,a,n,r,t[6],17,-1473231341),r=Di(r,i,a,n,t[7],22,-45705983),n=Di(n,r,i,a,t[8],7,1770035416),a=Di(a,n,r,i,t[9],12,-1958414417),i=Di(i,a,n,r,t[10],17,-42063),r=Di(r,i,a,n,t[11],22,-1990404162),n=Di(n,r,i,a,t[12],7,1804603682),a=Di(a,n,r,i,t[13],12,-40341101),i=Di(i,a,n,r,t[14],17,-1502002290),n=Fi(n,r=Di(r,i,a,n,t[15],22,1236535329),i,a,t[1],5,-165796510),a=Fi(a,n,r,i,t[6],9,-1069501632),i=Fi(i,a,n,r,t[11],14,643717713),r=Fi(r,i,a,n,t[0],20,-373897302),n=Fi(n,r,i,a,t[5],5,-701558691),a=Fi(a,n,r,i,t[10],9,38016083),i=Fi(i,a,n,r,t[15],14,-660478335),r=Fi(r,i,a,n,t[4],20,-405537848),n=Fi(n,r,i,a,t[9],5,568446438),a=Fi(a,n,r,i,t[14],9,-1019803690),i=Fi(i,a,n,r,t[3],14,-187363961),r=Fi(r,i,a,n,t[8],20,1163531501),n=Fi(n,r,i,a,t[13],5,-1444681467),a=Fi(a,n,r,i,t[2],9,-51403784),i=Fi(i,a,n,r,t[7],14,1735328473),n=Bi(n,r=Fi(r,i,a,n,t[12],20,-1926607734),i,a,t[5],4,-378558),a=Bi(a,n,r,i,t[8],11,-2022574463),i=Bi(i,a,n,r,t[11],16,1839030562),r=Bi(r,i,a,n,t[14],23,-35309556),n=Bi(n,r,i,a,t[1],4,-1530992060),a=Bi(a,n,r,i,t[4],11,1272893353),i=Bi(i,a,n,r,t[7],16,-155497632),r=Bi(r,i,a,n,t[10],23,-1094730640),n=Bi(n,r,i,a,t[13],4,681279174),a=Bi(a,n,r,i,t[0],11,-358537222),i=Bi(i,a,n,r,t[3],16,-722521979),r=Bi(r,i,a,n,t[6],23,76029189),n=Bi(n,r,i,a,t[9],4,-640364487),a=Bi(a,n,r,i,t[12],11,-421815835),i=Bi(i,a,n,r,t[15],16,530742520),n=Vi(n,r=Bi(r,i,a,n,t[2],23,-995338651),i,a,t[0],6,-198630844),a=Vi(a,n,r,i,t[7],10,1126891415),i=Vi(i,a,n,r,t[14],15,-1416354905),r=Vi(r,i,a,n,t[5],21,-57434055),n=Vi(n,r,i,a,t[12],6,1700485571),a=Vi(a,n,r,i,t[3],10,-1894986606),i=Vi(i,a,n,r,t[10],15,-1051523),r=Vi(r,i,a,n,t[1],21,-2054922799),n=Vi(n,r,i,a,t[8],6,1873313359),a=Vi(a,n,r,i,t[15],10,-30611744),i=Vi(i,a,n,r,t[6],15,-1560198380),r=Vi(r,i,a,n,t[13],21,1309151649),n=Vi(n,r,i,a,t[4],6,-145523070),a=Vi(a,n,r,i,t[11],10,-1120210379),i=Vi(i,a,n,r,t[2],15,718787259),r=Vi(r,i,a,n,t[9],21,-343485551),e[0]=Wu(n,e[0]),e[1]=Wu(r,e[1]),e[2]=Wu(i,e[2]),e[3]=Wu(a,e[3])}function q2(e,t,n,r,i,a){return t=Wu(Wu(t,e),Wu(r,a)),Wu(t<<i|t>>>32-i,n)}function Di(e,t,n,r,i,a,s){return q2(t&n|~t&r,e,t,i,a,s)}function Fi(e,t,n,r,i,a,s){return q2(t&r|n&~r,e,t,i,a,s)}function Bi(e,t,n,r,i,a,s){return q2(t^n^r,e,t,i,a,s)}function Vi(e,t,n,r,i,a,s){return q2(n^(t|~r),e,t,i,a,s)}function BF(e){var t,n=e.length,r=[1732584193,-271733879,-1732584194,271733878];for(t=64;t<=e.length;t+=64)kw(r,sue(e.substring(t-64,t)));e=e.substring(t-64);var i=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0];for(t=0;t<e.length;t++)i[t>>2]|=e.charCodeAt(t)<<(t%4<<3);if(i[t>>2]|=128<<(t%4<<3),t>55)for(kw(r,i),t=0;t<16;t++)i[t]=0;return i[14]=8*n,kw(r,i),r}function sue(e){var t,n=[];for(t=0;t<64;t+=4)n[t>>2]=e.charCodeAt(t)+(e.charCodeAt(t+1)<<8)+(e.charCodeAt(t+2)<<16)+(e.charCodeAt(t+3)<<24);return n}var c8="0123456789abcdef".split("");function oue(e){for(var t="",n=0;n<4;n++)t+=c8[e>>8*n+4&15]+c8[e>>8*n&15];return t}function lue(e){return String.fromCharCode(255&e,(65280&e)>>8,(16711680&e)>>16,(4278190080&e)>>24)}function i3(e){return BF(e).map(lue).join("")}var uue=function(e){for(var t=0;t<e.length;t++)e[t]=oue(e[t]);return e.join("")}(BF("hello"))!="5d41402abc4b2a76b9719d911017c592";function Wu(e,t){if(uue){var n=(65535&e)+(65535&t);return(e>>16)+(t>>16)+(n>>16)<<16|65535&n}return e+t&4294967295}/**
 * @license
 * FPDF is released under a permissive license: there is no usage restriction.
 * You may embed it freely in your application (commercial or not), with or
 * without modifications.
 *
 * Reference: http://www.fpdf.org/en/script/script37.php
 */function a3(e,t){var n,r,i,a;if(e!==n){for(var s=(i=e,a=1+(256/e.length|0),new Array(a+1).join(i)),o=[],l=0;l<256;l++)o[l]=l;var u=0;for(l=0;l<256;l++){var c=o[l];u=(u+c+s.charCodeAt(l))%256,o[l]=o[u],o[u]=c}n=e,r=o}else o=r;var d=t.length,p=0,f=0,g="";for(l=0;l<d;l++)f=(f+(c=o[p=(p+1)%256]))%256,o[p]=o[f],o[f]=c,s=o[(o[p]+o[f])%256],g+=String.fromCharCode(t.charCodeAt(l)^s);return g}/**
 * @license
 * Licensed under the MIT License.
 * http://opensource.org/licenses/mit-license
 * Author: Owen Leong (@owenl131)
 * Date: 15 Oct 2020
 * References:
 * https://www.cs.cmu.edu/~dst/Adobe/Gallery/anon21jul01-pdf-encryption.txt
 * https://github.com/foliojs/pdfkit/blob/master/lib/security.js
 * http://www.fpdf.org/en/script/script37.php
 */var d8={print:4,modify:8,copy:16,"annot-forms":32};function hf(e,t,n,r){this.v=1,this.r=2;var i=192;e.forEach(function(o){if(d8.perm!==void 0)throw new Error("Invalid permission: "+o);i+=d8[o]}),this.padding="(N^NuAd\0NV\b..\0h>/\fdSiz";var a=(t+this.padding).substr(0,32),s=(n+this.padding).substr(0,32);this.O=this.processOwnerPassword(a,s),this.P=-(1+(255^i)),this.encryptionKey=i3(a+this.O+this.lsbFirstWord(this.P)+this.hexToBytes(r)).substr(0,5),this.U=a3(this.encryptionKey,this.padding)}function pf(e){if(/[^\u0000-\u00ff]/.test(e))throw new Error("Invalid PDF Name Object: "+e+", Only accept ASCII characters.");for(var t="",n=e.length,r=0;r<n;r++){var i=e.charCodeAt(r);t+=i<33||i===35||i===37||i===40||i===41||i===47||i===60||i===62||i===91||i===93||i===123||i===125||i>126?"#"+("0"+i.toString(16)).slice(-2):e[r]}return t}function f8(e){if(gn(e)!=="object")throw new Error("Invalid Context passed to initialize PubSub (jsPDF-module)");var t={};this.subscribe=function(n,r,i){if(i=i||!1,typeof n!="string"||typeof r!="function"||typeof i!="boolean")throw new Error("Invalid arguments passed to PubSub.subscribe (jsPDF-module)");t.hasOwnProperty(n)||(t[n]={});var a=Math.random().toString(35);return t[n][a]=[r,!!i],a},this.unsubscribe=function(n){for(var r in t)if(t[r][n])return delete t[r][n],Object.keys(t[r]).length===0&&delete t[r],!0;return!1},this.publish=function(n){if(t.hasOwnProperty(n)){var r=Array.prototype.slice.call(arguments,1),i=[];for(var a in t[n]){var s=t[n][a];try{s[0].apply(e,r)}catch(o){_t.console&&_n.error("jsPDF PubSub Error",o.message,o)}s[1]&&i.push(a)}i.length&&i.forEach(this.unsubscribe)}},this.getTopics=function(){return t}}function iy(e){if(!(this instanceof iy))return new iy(e);var t="opacity,stroke-opacity".split(",");for(var n in e)e.hasOwnProperty(n)&&t.indexOf(n)>=0&&(this[n]=e[n]);this.id="",this.objectNumber=-1}function VF(e,t){this.gState=e,this.matrix=t,this.id="",this.objectNumber=-1}function ed(e,t,n,r,i){if(!(this instanceof ed))return new ed(e,t,n,r,i);this.type=e==="axial"?2:3,this.coords=t,this.colors=n,VF.call(this,r,i)}function Lf(e,t,n,r,i){if(!(this instanceof Lf))return new Lf(e,t,n,r,i);this.boundingBox=e,this.xStep=t,this.yStep=n,this.stream="",this.cloneIndex=0,VF.call(this,r,i)}function ut(e){var t,n=typeof arguments[0]=="string"?arguments[0]:"p",r=arguments[1],i=arguments[2],a=arguments[3],s=[],o=1,l=16,u="S",c=null;gn(e=e||{})==="object"&&(n=e.orientation,r=e.unit||r,i=e.format||i,a=e.compress||e.compressPdf||a,(c=e.encryption||null)!==null&&(c.userPassword=c.userPassword||"",c.ownerPassword=c.ownerPassword||"",c.userPermissions=c.userPermissions||[]),o=typeof e.userUnit=="number"?Math.abs(e.userUnit):1,e.precision!==void 0&&(t=e.precision),e.floatPrecision!==void 0&&(l=e.floatPrecision),u=e.defaultPathOperation||"S"),s=e.filters||(a===!0?["FlateEncode"]:s),r=r||"mm",n=(""+(n||"P")).toLowerCase();var d=e.putOnlyUsedFonts||!1,p={},f={internal:{},__private__:{}};f.__private__.PubSub=f8;var g="1.3",v=f.__private__.getPdfVersion=function(){return g};f.__private__.setPdfVersion=function(E){g=E};var b={a0:[2383.94,3370.39],a1:[1683.78,2383.94],a2:[1190.55,1683.78],a3:[841.89,1190.55],a4:[595.28,841.89],a5:[419.53,595.28],a6:[297.64,419.53],a7:[209.76,297.64],a8:[147.4,209.76],a9:[104.88,147.4],a10:[73.7,104.88],b0:[2834.65,4008.19],b1:[2004.09,2834.65],b2:[1417.32,2004.09],b3:[1000.63,1417.32],b4:[708.66,1000.63],b5:[498.9,708.66],b6:[354.33,498.9],b7:[249.45,354.33],b8:[175.75,249.45],b9:[124.72,175.75],b10:[87.87,124.72],c0:[2599.37,3676.54],c1:[1836.85,2599.37],c2:[1298.27,1836.85],c3:[918.43,1298.27],c4:[649.13,918.43],c5:[459.21,649.13],c6:[323.15,459.21],c7:[229.61,323.15],c8:[161.57,229.61],c9:[113.39,161.57],c10:[79.37,113.39],dl:[311.81,623.62],letter:[612,792],"government-letter":[576,756],legal:[612,1008],"junior-legal":[576,360],ledger:[1224,792],tabloid:[792,1224],"credit-card":[153,243]};f.__private__.getPageFormats=function(){return b};var x=f.__private__.getPageFormat=function(E){return b[E]};i=i||"a4";var w="compat",A="advanced",P=w;function O(){this.saveGraphicsState(),Z(new ft(mt,0,0,-mt,0,cs()*mt).toString()+" cm"),this.setFontSize(this.getFontSize()/mt),u="n",P=A}function D(){this.restoreGraphicsState(),u="S",P=w}var T=f.__private__.combineFontStyleAndFontWeight=function(E,V){if(E=="bold"&&V=="normal"||E=="bold"&&V==400||E=="normal"&&V=="italic"||E=="bold"&&V=="italic")throw new Error("Invalid Combination of fontweight and fontstyle");return V&&(E=V==400||V==="normal"?E==="italic"?"italic":"normal":V!=700&&V!=="bold"||E!=="normal"?(V==700?"bold":V)+""+E:"bold"),E};f.advancedAPI=function(E){var V=P===w;return V&&O.call(this),typeof E!="function"||(E(this),V&&D.call(this)),this},f.compatAPI=function(E){var V=P===A;return V&&D.call(this),typeof E!="function"||(E(this),V&&O.call(this)),this},f.isAdvancedAPI=function(){return P===A};var k,I=function(E){if(P!==A)throw new Error(E+" is only available in 'advanced' API mode. You need to call advancedAPI() first.")},M=f.roundToPrecision=f.__private__.roundToPrecision=function(E,V){var ee=t||V;if(isNaN(E)||isNaN(ee))throw new Error("Invalid argument passed to jsPDF.roundToPrecision");return E.toFixed(ee).replace(/0+$/,"")};k=f.hpf=f.__private__.hpf=typeof l=="number"?function(E){if(isNaN(E))throw new Error("Invalid argument passed to jsPDF.hpf");return M(E,l)}:l==="smart"?function(E){if(isNaN(E))throw new Error("Invalid argument passed to jsPDF.hpf");return M(E,E>-1&&E<1?16:5)}:function(E){if(isNaN(E))throw new Error("Invalid argument passed to jsPDF.hpf");return M(E,16)};var N=f.f2=f.__private__.f2=function(E){if(isNaN(E))throw new Error("Invalid argument passed to jsPDF.f2");return M(E,2)},C=f.__private__.f3=function(E){if(isNaN(E))throw new Error("Invalid argument passed to jsPDF.f3");return M(E,3)},R=f.scale=f.__private__.scale=function(E){if(isNaN(E))throw new Error("Invalid argument passed to jsPDF.scale");return P===w?E*mt:P===A?E:void 0},W=function(E){return R(function(V){return P===w?cs()-V:P===A?V:void 0}(E))};f.__private__.setPrecision=f.setPrecision=function(E){typeof parseInt(E,10)=="number"&&(t=parseInt(E,10))};var Y,ae="00000000000000000000000000000000",ie=f.__private__.getFileId=function(){return ae},H=f.__private__.setFileId=function(E){return ae=E!==void 0&&/^[a-fA-F0-9]{32}$/.test(E)?E.toUpperCase():ae.split("").map(function(){return"ABCDEF0123456789".charAt(Math.floor(16*Math.random()))}).join(""),c!==null&&(un=new hf(c.userPermissions,c.userPassword,c.ownerPassword,ae)),ae};f.setFileId=function(E){return H(E),this},f.getFileId=function(){return ie()};var se=f.__private__.convertDateToPDFDate=function(E){var V=E.getTimezoneOffset(),ee=V<0?"+":"-",ue=Math.floor(Math.abs(V/60)),ve=Math.abs(V%60),Te=[ee,re(ue),"'",re(ve),"'"].join("");return["D:",E.getFullYear(),re(E.getMonth()+1),re(E.getDate()),re(E.getHours()),re(E.getMinutes()),re(E.getSeconds()),Te].join("")},ye=f.__private__.convertPDFDateToDate=function(E){var V=parseInt(E.substr(2,4),10),ee=parseInt(E.substr(6,2),10)-1,ue=parseInt(E.substr(8,2),10),ve=parseInt(E.substr(10,2),10),Te=parseInt(E.substr(12,2),10),Le=parseInt(E.substr(14,2),10);return new Date(V,ee,ue,ve,Te,Le,0)},be=f.__private__.setCreationDate=function(E){var V;if(E===void 0&&(E=new Date),E instanceof Date)V=se(E);else{if(!/^D:(20[0-2][0-9]|203[0-7]|19[7-9][0-9])(0[0-9]|1[0-2])([0-2][0-9]|3[0-1])(0[0-9]|1[0-9]|2[0-3])(0[0-9]|[1-5][0-9])(0[0-9]|[1-5][0-9])(\+0[0-9]|\+1[0-4]|-0[0-9]|-1[0-1])'(0[0-9]|[1-5][0-9])'?$/.test(E))throw new Error("Invalid argument passed to jsPDF.setCreationDate");V=E}return Y=V},$=f.__private__.getCreationDate=function(E){var V=Y;return E==="jsDate"&&(V=ye(Y)),V};f.setCreationDate=function(E){return be(E),this},f.getCreationDate=function(E){return $(E)};var X,re=f.__private__.padd2=function(E){return("0"+parseInt(E)).slice(-2)},oe=f.__private__.padd2Hex=function(E){return("00"+(E=E.toString())).substr(E.length)},de=0,ge=[],ce=[],J=0,pe=[],Ee=[],le=!1,Ne=ce;f.__private__.setCustomOutputDestination=function(E){le=!0,Ne=E};var fe=function(E){le||(Ne=E)};f.__private__.resetCustomOutputDestination=function(){le=!1,Ne=ce};var Z=f.__private__.out=function(E){return E=E.toString(),J+=E.length+1,Ne.push(E),Ne},Ve=f.__private__.write=function(E){return Z(arguments.length===1?E.toString():Array.prototype.join.call(arguments," "))},Xe=f.__private__.getArrayBuffer=function(E){for(var V=E.length,ee=new ArrayBuffer(V),ue=new Uint8Array(ee);V--;)ue[V]=E.charCodeAt(V);return ee},Ue=[["Helvetica","helvetica","normal","WinAnsiEncoding"],["Helvetica-Bold","helvetica","bold","WinAnsiEncoding"],["Helvetica-Oblique","helvetica","italic","WinAnsiEncoding"],["Helvetica-BoldOblique","helvetica","bolditalic","WinAnsiEncoding"],["Courier","courier","normal","WinAnsiEncoding"],["Courier-Bold","courier","bold","WinAnsiEncoding"],["Courier-Oblique","courier","italic","WinAnsiEncoding"],["Courier-BoldOblique","courier","bolditalic","WinAnsiEncoding"],["Times-Roman","times","normal","WinAnsiEncoding"],["Times-Bold","times","bold","WinAnsiEncoding"],["Times-Italic","times","italic","WinAnsiEncoding"],["Times-BoldItalic","times","bolditalic","WinAnsiEncoding"],["ZapfDingbats","zapfdingbats","normal",null],["Symbol","symbol","normal",null]];f.__private__.getStandardFonts=function(){return Ue};var Oe=e.fontSize||16;f.__private__.setFontSize=f.setFontSize=function(E){return Oe=P===A?E/mt:E,this};var We,$e=f.__private__.getFontSize=f.getFontSize=function(){return P===w?Oe:Oe*mt},Nt=e.R2L||!1;f.__private__.setR2L=f.setR2L=function(E){return Nt=E,this},f.__private__.getR2L=f.getR2L=function(){return Nt};var st,$t=f.__private__.setZoomMode=function(E){if(/^(?:\d+\.\d*|\d*\.\d+|\d+)%$/.test(E))We=E;else if(isNaN(E)){if([void 0,null,"fullwidth","fullheight","fullpage","original"].indexOf(E)===-1)throw new Error('zoom must be Integer (e.g. 2), a percentage Value (e.g. 300%) or fullwidth, fullheight, fullpage, original. "'+E+'" is not recognized.');We=E}else We=parseInt(E,10)};f.__private__.getZoomMode=function(){return We};var St,it=f.__private__.setPageMode=function(E){if([void 0,null,"UseNone","UseOutlines","UseThumbs","FullScreen"].indexOf(E)==-1)throw new Error('Page mode must be one of UseNone, UseOutlines, UseThumbs, or FullScreen. "'+E+'" is not recognized.');st=E};f.__private__.getPageMode=function(){return st};var kt=f.__private__.setLayoutMode=function(E){if([void 0,null,"continuous","single","twoleft","tworight","two"].indexOf(E)==-1)throw new Error('Layout mode must be one of continuous, single, twoleft, tworight. "'+E+'" is not recognized.');St=E};f.__private__.getLayoutMode=function(){return St},f.__private__.setDisplayMode=f.setDisplayMode=function(E,V,ee){return $t(E),kt(V),it(ee),this};var xt={title:"",subject:"",author:"",keywords:"",creator:""};f.__private__.getDocumentProperty=function(E){if(Object.keys(xt).indexOf(E)===-1)throw new Error("Invalid argument passed to jsPDF.getDocumentProperty");return xt[E]},f.__private__.getDocumentProperties=function(){return xt},f.__private__.setDocumentProperties=f.setProperties=f.setDocumentProperties=function(E){for(var V in xt)xt.hasOwnProperty(V)&&E[V]&&(xt[V]=E[V]);return this},f.__private__.setDocumentProperty=function(E,V){if(Object.keys(xt).indexOf(E)===-1)throw new Error("Invalid arguments passed to jsPDF.setDocumentProperty");return xt[E]=V};var ot,mt,ct,Zt,qt,tt={},bt={},ln=[],ht={},Lt={},At={},Vn={},In=null,nn=0,gt=[],Mt=new f8(f),yo=e.hotfixes||[],vr={},ss={},Ti=[],ft=function E(V,ee,ue,ve,Te,Le){if(!(this instanceof E))return new E(V,ee,ue,ve,Te,Le);isNaN(V)&&(V=1),isNaN(ee)&&(ee=0),isNaN(ue)&&(ue=0),isNaN(ve)&&(ve=1),isNaN(Te)&&(Te=0),isNaN(Le)&&(Le=0),this._matrix=[V,ee,ue,ve,Te,Le]};Object.defineProperty(ft.prototype,"sx",{get:function(){return this._matrix[0]},set:function(E){this._matrix[0]=E}}),Object.defineProperty(ft.prototype,"shy",{get:function(){return this._matrix[1]},set:function(E){this._matrix[1]=E}}),Object.defineProperty(ft.prototype,"shx",{get:function(){return this._matrix[2]},set:function(E){this._matrix[2]=E}}),Object.defineProperty(ft.prototype,"sy",{get:function(){return this._matrix[3]},set:function(E){this._matrix[3]=E}}),Object.defineProperty(ft.prototype,"tx",{get:function(){return this._matrix[4]},set:function(E){this._matrix[4]=E}}),Object.defineProperty(ft.prototype,"ty",{get:function(){return this._matrix[5]},set:function(E){this._matrix[5]=E}}),Object.defineProperty(ft.prototype,"a",{get:function(){return this._matrix[0]},set:function(E){this._matrix[0]=E}}),Object.defineProperty(ft.prototype,"b",{get:function(){return this._matrix[1]},set:function(E){this._matrix[1]=E}}),Object.defineProperty(ft.prototype,"c",{get:function(){return this._matrix[2]},set:function(E){this._matrix[2]=E}}),Object.defineProperty(ft.prototype,"d",{get:function(){return this._matrix[3]},set:function(E){this._matrix[3]=E}}),Object.defineProperty(ft.prototype,"e",{get:function(){return this._matrix[4]},set:function(E){this._matrix[4]=E}}),Object.defineProperty(ft.prototype,"f",{get:function(){return this._matrix[5]},set:function(E){this._matrix[5]=E}}),Object.defineProperty(ft.prototype,"rotation",{get:function(){return Math.atan2(this.shx,this.sx)}}),Object.defineProperty(ft.prototype,"scaleX",{get:function(){return this.decompose().scale.sx}}),Object.defineProperty(ft.prototype,"scaleY",{get:function(){return this.decompose().scale.sy}}),Object.defineProperty(ft.prototype,"isIdentity",{get:function(){return this.sx===1&&this.shy===0&&this.shx===0&&this.sy===1&&this.tx===0&&this.ty===0}}),ft.prototype.join=function(E){return[this.sx,this.shy,this.shx,this.sy,this.tx,this.ty].map(k).join(E)},ft.prototype.multiply=function(E){var V=E.sx*this.sx+E.shy*this.shx,ee=E.sx*this.shy+E.shy*this.sy,ue=E.shx*this.sx+E.sy*this.shx,ve=E.shx*this.shy+E.sy*this.sy,Te=E.tx*this.sx+E.ty*this.shx+this.tx,Le=E.tx*this.shy+E.ty*this.sy+this.ty;return new ft(V,ee,ue,ve,Te,Le)},ft.prototype.decompose=function(){var E=this.sx,V=this.shy,ee=this.shx,ue=this.sy,ve=this.tx,Te=this.ty,Le=Math.sqrt(E*E+V*V),He=(E/=Le)*ee+(V/=Le)*ue;ee-=E*He,ue-=V*He;var Je=Math.sqrt(ee*ee+ue*ue);return He/=Je,E*(ue/=Je)<V*(ee/=Je)&&(E=-E,V=-V,He=-He,Le=-Le),{scale:new ft(Le,0,0,Je,0,0),translate:new ft(1,0,0,1,ve,Te),rotate:new ft(E,V,-V,E,0,0),skew:new ft(1,0,He,1,0,0)}},ft.prototype.toString=function(E){return this.join(" ")},ft.prototype.inversed=function(){var E=this.sx,V=this.shy,ee=this.shx,ue=this.sy,ve=this.tx,Te=this.ty,Le=1/(E*ue-V*ee),He=ue*Le,Je=-V*Le,pt=-ee*Le,wt=E*Le;return new ft(He,Je,pt,wt,-He*ve-pt*Te,-Je*ve-wt*Te)},ft.prototype.applyToPoint=function(E){var V=E.x*this.sx+E.y*this.shx+this.tx,ee=E.x*this.shy+E.y*this.sy+this.ty;return new ko(V,ee)},ft.prototype.applyToRectangle=function(E){var V=this.applyToPoint(E),ee=this.applyToPoint(new ko(E.x+E.w,E.y+E.h));return new cu(V.x,V.y,ee.x-V.x,ee.y-V.y)},ft.prototype.clone=function(){var E=this.sx,V=this.shy,ee=this.shx,ue=this.sy,ve=this.tx,Te=this.ty;return new ft(E,V,ee,ue,ve,Te)},f.Matrix=ft;var On=f.matrixMult=function(E,V){return V.multiply(E)},os=new ft(1,0,0,1,0,0);f.unitMatrix=f.identityMatrix=os;var Zr=function(E,V){if(!Lt[E]){var ee=(V instanceof ed?"Sh":"P")+(Object.keys(ht).length+1).toString(10);V.id=ee,Lt[E]=ee,ht[ee]=V,Mt.publish("addPattern",V)}};f.ShadingPattern=ed,f.TilingPattern=Lf,f.addShadingPattern=function(E,V){return I("addShadingPattern()"),Zr(E,V),this},f.beginTilingPattern=function(E){I("beginTilingPattern()"),To(E.boundingBox[0],E.boundingBox[1],E.boundingBox[2]-E.boundingBox[0],E.boundingBox[3]-E.boundingBox[1],E.matrix)},f.endTilingPattern=function(E,V){I("endTilingPattern()"),V.stream=Ee[X].join(`
`),Zr(E,V),Mt.publish("endTilingPattern",V),Ti.pop().restore()};var Jr,zn=f.__private__.newObject=function(){var E=jr();return $n(E,!0),E},jr=f.__private__.newObjectDeferred=function(){return de++,ge[de]=function(){return J},de},$n=function(E,V){return V=typeof V=="boolean"&&V,ge[E]=J,V&&Z(E+" 0 obj"),E},tl=f.__private__.newAdditionalObject=function(){var E={objId:jr(),content:""};return pe.push(E),E},xo=jr(),Ci=jr(),Ia=f.__private__.decodeColorString=function(E){var V=E.split(" ");if(V.length!==2||V[1]!=="g"&&V[1]!=="G")V.length!==5||V[4]!=="k"&&V[4]!=="K"||(V=[(1-V[0])*(1-V[3]),(1-V[1])*(1-V[3]),(1-V[2])*(1-V[3]),"r"]);else{var ee=parseFloat(V[0]);V=[ee,ee,ee,"r"]}for(var ue="#",ve=0;ve<3;ve++)ue+=("0"+Math.floor(255*parseFloat(V[ve])).toString(16)).slice(-2);return ue},Qi=f.__private__.encodeColorString=function(E){var V;typeof E=="string"&&(E={ch1:E});var ee=E.ch1,ue=E.ch2,ve=E.ch3,Te=E.ch4,Le=E.pdfColorType==="draw"?["G","RG","K"]:["g","rg","k"];if(typeof ee=="string"&&ee.charAt(0)!=="#"){var He=new FF(ee);if(He.ok)ee=He.toHex();else if(!/^\d*\.?\d*$/.test(ee))throw new Error('Invalid color "'+ee+'" passed to jsPDF.encodeColorString.')}if(typeof ee=="string"&&/^#[0-9A-Fa-f]{3}$/.test(ee)&&(ee="#"+ee[1]+ee[1]+ee[2]+ee[2]+ee[3]+ee[3]),typeof ee=="string"&&/^#[0-9A-Fa-f]{6}$/.test(ee)){var Je=parseInt(ee.substr(1),16);ee=Je>>16&255,ue=Je>>8&255,ve=255&Je}if(ue===void 0||Te===void 0&&ee===ue&&ue===ve)V=typeof ee=="string"?ee+" "+Le[0]:E.precision===2?N(ee/255)+" "+Le[0]:C(ee/255)+" "+Le[0];else if(Te===void 0||gn(Te)==="object"){if(Te&&!isNaN(Te.a)&&Te.a===0)return["1.","1.","1.",Le[1]].join(" ");V=typeof ee=="string"?[ee,ue,ve,Le[1]].join(" "):E.precision===2?[N(ee/255),N(ue/255),N(ve/255),Le[1]].join(" "):[C(ee/255),C(ue/255),C(ve/255),Le[1]].join(" ")}else V=typeof ee=="string"?[ee,ue,ve,Te,Le[2]].join(" "):E.precision===2?[N(ee),N(ue),N(ve),N(Te),Le[2]].join(" "):[C(ee),C(ue),C(ve),C(Te),Le[2]].join(" ");return V},ji=f.__private__.getFilters=function(){return s},yr=f.__private__.putStream=function(E){var V=(E=E||{}).data||"",ee=E.filters||ji(),ue=E.alreadyAppliedFilters||[],ve=E.addLength1||!1,Te=V.length,Le=E.objectId,He=function(sr){return sr};if(c!==null&&Le===void 0)throw new Error("ObjectId must be passed to putStream for file encryption");c!==null&&(He=un.encryptor(Le,0));var Je={};ee===!0&&(ee=["FlateEncode"]);var pt=E.additionalKeyValues||[],wt=(Je=ut.API.processDataByFilters!==void 0?ut.API.processDataByFilters(V,ee):{data:V,reverseChain:[]}).reverseChain+(Array.isArray(ue)?ue.join(" "):ue.toString());if(Je.data.length!==0&&(pt.push({key:"Length",value:Je.data.length}),ve===!0&&pt.push({key:"Length1",value:Te})),wt.length!=0)if(wt.split("/").length-1==1)pt.push({key:"Filter",value:wt});else{pt.push({key:"Filter",value:"["+wt+"]"});for(var Ht=0;Ht<pt.length;Ht+=1)if(pt[Ht].key==="DecodeParms"){for(var rn=[],Xn=0;Xn<Je.reverseChain.split("/").length-1;Xn+=1)rn.push("null");rn.push(pt[Ht].value),pt[Ht].value="["+rn.join(" ")+"]"}}Z("<<");for(var cn=0;cn<pt.length;cn++)Z("/"+pt[cn].key+" "+pt[cn].value);Z(">>"),Je.data.length!==0&&(Z("stream"),Z(He(Je.data)),Z("endstream"))},bo=f.__private__.putPage=function(E){var V=E.number,ee=E.data,ue=E.objId,ve=E.contentsObjId;$n(ue,!0),Z("<</Type /Page"),Z("/Parent "+E.rootDictionaryObjId+" 0 R"),Z("/Resources "+E.resourceDictionaryObjId+" 0 R"),Z("/MediaBox ["+parseFloat(k(E.mediaBox.bottomLeftX))+" "+parseFloat(k(E.mediaBox.bottomLeftY))+" "+k(E.mediaBox.topRightX)+" "+k(E.mediaBox.topRightY)+"]"),E.cropBox!==null&&Z("/CropBox ["+k(E.cropBox.bottomLeftX)+" "+k(E.cropBox.bottomLeftY)+" "+k(E.cropBox.topRightX)+" "+k(E.cropBox.topRightY)+"]"),E.bleedBox!==null&&Z("/BleedBox ["+k(E.bleedBox.bottomLeftX)+" "+k(E.bleedBox.bottomLeftY)+" "+k(E.bleedBox.topRightX)+" "+k(E.bleedBox.topRightY)+"]"),E.trimBox!==null&&Z("/TrimBox ["+k(E.trimBox.bottomLeftX)+" "+k(E.trimBox.bottomLeftY)+" "+k(E.trimBox.topRightX)+" "+k(E.trimBox.topRightY)+"]"),E.artBox!==null&&Z("/ArtBox ["+k(E.artBox.bottomLeftX)+" "+k(E.artBox.bottomLeftY)+" "+k(E.artBox.topRightX)+" "+k(E.artBox.topRightY)+"]"),typeof E.userUnit=="number"&&E.userUnit!==1&&Z("/UserUnit "+E.userUnit),Mt.publish("putPage",{objId:ue,pageContext:gt[V],pageNumber:V,page:ee}),Z("/Contents "+ve+" 0 R"),Z(">>"),Z("endobj");var Te=ee.join(`
`);return P===A&&(Te+=`
Q`),$n(ve,!0),yr({data:Te,filters:ji(),objectId:ve}),Z("endobj"),ue},Oa=f.__private__.putPages=function(){var E,V,ee=[];for(E=1;E<=nn;E++)gt[E].objId=jr(),gt[E].contentsObjId=jr();for(E=1;E<=nn;E++)ee.push(bo({number:E,data:Ee[E],objId:gt[E].objId,contentsObjId:gt[E].contentsObjId,mediaBox:gt[E].mediaBox,cropBox:gt[E].cropBox,bleedBox:gt[E].bleedBox,trimBox:gt[E].trimBox,artBox:gt[E].artBox,userUnit:gt[E].userUnit,rootDictionaryObjId:xo,resourceDictionaryObjId:Ci}));$n(xo,!0),Z("<</Type /Pages");var ue="/Kids [";for(V=0;V<nn;V++)ue+=ee[V]+" 0 R ";Z(ue+"]"),Z("/Count "+nn),Z(">>"),Z("endobj"),Mt.publish("postPutPages")},Ms=function(E){Mt.publish("putFont",{font:E,out:Z,newObject:zn,putStream:yr}),E.isAlreadyPutted!==!0&&(E.objectNumber=zn(),Z("<<"),Z("/Type /Font"),Z("/BaseFont /"+pf(E.postScriptName)),Z("/Subtype /Type1"),typeof E.encoding=="string"&&Z("/Encoding /"+E.encoding),Z("/FirstChar 32"),Z("/LastChar 255"),Z(">>"),Z("endobj"))},wo=function(E){E.objectNumber=zn();var V=[];V.push({key:"Type",value:"/XObject"}),V.push({key:"Subtype",value:"/Form"}),V.push({key:"BBox",value:"["+[k(E.x),k(E.y),k(E.x+E.width),k(E.y+E.height)].join(" ")+"]"}),V.push({key:"Matrix",value:"["+E.matrix.toString()+"]"});var ee=E.pages[1].join(`
`);yr({data:ee,additionalKeyValues:V,objectId:E.objectNumber}),Z("endobj")},nl=function(E,V){V||(V=21);var ee=zn(),ue=function(Le,He){var Je,pt=[],wt=1/(He-1);for(Je=0;Je<1;Je+=wt)pt.push(Je);if(pt.push(1),Le[0].offset!=0){var Ht={offset:0,color:Le[0].color};Le.unshift(Ht)}if(Le[Le.length-1].offset!=1){var rn={offset:1,color:Le[Le.length-1].color};Le.push(rn)}for(var Xn="",cn=0,sr=0;sr<pt.length;sr++){for(Je=pt[sr];Je>Le[cn+1].offset;)cn++;var Qn=Le[cn].offset,or=(Je-Qn)/(Le[cn+1].offset-Qn),Pn=Le[cn].color,hi=Le[cn+1].color;Xn+=oe(Math.round((1-or)*Pn[0]+or*hi[0]).toString(16))+oe(Math.round((1-or)*Pn[1]+or*hi[1]).toString(16))+oe(Math.round((1-or)*Pn[2]+or*hi[2]).toString(16))}return Xn.trim()}(E.colors,V),ve=[];ve.push({key:"FunctionType",value:"0"}),ve.push({key:"Domain",value:"[0.0 1.0]"}),ve.push({key:"Size",value:"["+V+"]"}),ve.push({key:"BitsPerSample",value:"8"}),ve.push({key:"Range",value:"[0.0 1.0 0.0 1.0 0.0 1.0]"}),ve.push({key:"Decode",value:"[0.0 1.0 0.0 1.0 0.0 1.0]"}),yr({data:ue,additionalKeyValues:ve,alreadyAppliedFilters:["/ASCIIHexDecode"],objectId:ee}),Z("endobj"),E.objectNumber=zn(),Z("<< /ShadingType "+E.type),Z("/ColorSpace /DeviceRGB");var Te="/Coords ["+k(parseFloat(E.coords[0]))+" "+k(parseFloat(E.coords[1]))+" ";E.type===2?Te+=k(parseFloat(E.coords[2]))+" "+k(parseFloat(E.coords[3])):Te+=k(parseFloat(E.coords[2]))+" "+k(parseFloat(E.coords[3]))+" "+k(parseFloat(E.coords[4]))+" "+k(parseFloat(E.coords[5])),Z(Te+="]"),E.matrix&&Z("/Matrix ["+E.matrix.toString()+"]"),Z("/Function "+ee+" 0 R"),Z("/Extend [true true]"),Z(">>"),Z("endobj")},rl=function(E,V){var ee=jr(),ue=zn();V.push({resourcesOid:ee,objectOid:ue}),E.objectNumber=ue;var ve=[];ve.push({key:"Type",value:"/Pattern"}),ve.push({key:"PatternType",value:"1"}),ve.push({key:"PaintType",value:"1"}),ve.push({key:"TilingType",value:"1"}),ve.push({key:"BBox",value:"["+E.boundingBox.map(k).join(" ")+"]"}),ve.push({key:"XStep",value:k(E.xStep)}),ve.push({key:"YStep",value:k(E.yStep)}),ve.push({key:"Resources",value:ee+" 0 R"}),E.matrix&&ve.push({key:"Matrix",value:"["+E.matrix.toString()+"]"}),yr({data:E.stream,additionalKeyValues:ve,objectId:E.objectNumber}),Z("endobj")},Yh=function(E){for(var V in E.objectNumber=zn(),Z("<<"),E)switch(V){case"opacity":Z("/ca "+N(E[V]));break;case"stroke-opacity":Z("/CA "+N(E[V]))}Z(">>"),Z("endobj")},_o=function(E){$n(E.resourcesOid,!0),Z("<<"),Z("/ProcSet [/PDF /Text /ImageB /ImageC /ImageI]"),function(){for(var V in Z("/Font <<"),tt)tt.hasOwnProperty(V)&&(d===!1||d===!0&&p.hasOwnProperty(V))&&Z("/"+V+" "+tt[V].objectNumber+" 0 R");Z(">>")}(),function(){if(Object.keys(ht).length>0){for(var V in Z("/Shading <<"),ht)ht.hasOwnProperty(V)&&ht[V]instanceof ed&&ht[V].objectNumber>=0&&Z("/"+V+" "+ht[V].objectNumber+" 0 R");Mt.publish("putShadingPatternDict"),Z(">>")}}(),function(V){if(Object.keys(ht).length>0){for(var ee in Z("/Pattern <<"),ht)ht.hasOwnProperty(ee)&&ht[ee]instanceof f.TilingPattern&&ht[ee].objectNumber>=0&&ht[ee].objectNumber<V&&Z("/"+ee+" "+ht[ee].objectNumber+" 0 R");Mt.publish("putTilingPatternDict"),Z(">>")}}(E.objectOid),function(){if(Object.keys(At).length>0){var V;for(V in Z("/ExtGState <<"),At)At.hasOwnProperty(V)&&At[V].objectNumber>=0&&Z("/"+V+" "+At[V].objectNumber+" 0 R");Mt.publish("putGStateDict"),Z(">>")}}(),function(){for(var V in Z("/XObject <<"),vr)vr.hasOwnProperty(V)&&vr[V].objectNumber>=0&&Z("/"+V+" "+vr[V].objectNumber+" 0 R");Mt.publish("putXobjectDict"),Z(">>")}(),Z(">>"),Z("endobj")},Ac=function(E){bt[E.fontName]=bt[E.fontName]||{},bt[E.fontName][E.fontStyle]=E.id},ru=function(E,V,ee,ue,ve){var Te={id:"F"+(Object.keys(tt).length+1).toString(10),postScriptName:E,fontName:V,fontStyle:ee,encoding:ue,isStandardFont:ve||!1,metadata:{}};return Mt.publish("addFont",{font:Te,instance:this}),tt[Te.id]=Te,Ac(Te),Te.id},ei=f.__private__.pdfEscape=f.pdfEscape=function(E,V){return function(ee,ue){var ve,Te,Le,He,Je,pt,wt,Ht,rn;if(Le=(ue=ue||{}).sourceEncoding||"Unicode",Je=ue.outputEncoding,(ue.autoencode||Je)&&tt[ot].metadata&&tt[ot].metadata[Le]&&tt[ot].metadata[Le].encoding&&(He=tt[ot].metadata[Le].encoding,!Je&&tt[ot].encoding&&(Je=tt[ot].encoding),!Je&&He.codePages&&(Je=He.codePages[0]),typeof Je=="string"&&(Je=He[Je]),Je)){for(wt=!1,pt=[],ve=0,Te=ee.length;ve<Te;ve++)(Ht=Je[ee.charCodeAt(ve)])?pt.push(String.fromCharCode(Ht)):pt.push(ee[ve]),pt[ve].charCodeAt(0)>>8&&(wt=!0);ee=pt.join("")}for(ve=ee.length;wt===void 0&&ve!==0;)ee.charCodeAt(ve-1)>>8&&(wt=!0),ve--;if(!wt)return ee;for(pt=ue.noBOM?[]:[254,255],ve=0,Te=ee.length;ve<Te;ve++){if((rn=(Ht=ee.charCodeAt(ve))>>8)>>8)throw new Error("Character at position "+ve+" of string '"+ee+"' exceeds 16bits. Cannot be encoded into UCS-2 BE");pt.push(rn),pt.push(Ht-(rn<<8))}return String.fromCharCode.apply(void 0,pt)}(E,V).replace(/\\/g,"\\\\").replace(/\(/g,"\\(").replace(/\)/g,"\\)")},La=f.__private__.beginPage=function(E){Ee[++nn]=[],gt[nn]={objId:0,contentsObjId:0,userUnit:Number(o),artBox:null,bleedBox:null,cropBox:null,trimBox:null,mediaBox:{bottomLeftX:0,bottomLeftY:0,topRightX:Number(E[0]),topRightY:Number(E[1])}},Ec(nn),fe(Ee[X])},iu=function(E,V){var ee,ue,ve;switch(n=V||n,typeof E=="string"&&(ee=x(E.toLowerCase()),Array.isArray(ee)&&(ue=ee[0],ve=ee[1])),Array.isArray(E)&&(ue=E[0]*mt,ve=E[1]*mt),isNaN(ue)&&(ue=i[0],ve=i[1]),(ue>14400||ve>14400)&&(_n.warn("A page in a PDF can not be wider or taller than 14400 userUnit. jsPDF limits the width/height to 14400"),ue=Math.min(14400,ue),ve=Math.min(14400,ve)),i=[ue,ve],n.substr(0,1)){case"l":ve>ue&&(i=[ve,ue]);break;case"p":ue>ve&&(i=[ve,ue])}La(i),No(ou),Z(Bs),xn!==0&&Z(xn+" J"),Lc!==0&&Z(Lc+" j"),Mt.publish("addPage",{pageNumber:nn})},Pc=function(E){E>0&&E<=nn&&(Ee.splice(E,1),gt.splice(E,1),nn--,X>nn&&(X=nn),this.setPage(X))},Ec=function(E){E>0&&E<=nn&&(X=E)},Nc=f.__private__.getNumberOfPages=f.getNumberOfPages=function(){return Ee.length-1},kc=function(E,V,ee){var ue,ve=void 0;return ee=ee||{},E=E!==void 0?E:tt[ot].fontName,V=V!==void 0?V:tt[ot].fontStyle,ue=E.toLowerCase(),bt[ue]!==void 0&&bt[ue][V]!==void 0?ve=bt[ue][V]:bt[E]!==void 0&&bt[E][V]!==void 0?ve=bt[E][V]:ee.disableWarning===!1&&_n.warn("Unable to look up font label for font '"+E+"', '"+V+"'. Refer to getFontList() for available fonts."),ve||ee.noFallback||(ve=bt.times[V])==null&&(ve=bt.times.normal),ve},So=f.__private__.putInfo=function(){var E=zn(),V=function(ue){return ue};for(var ee in c!==null&&(V=un.encryptor(E,0)),Z("<<"),Z("/Producer ("+ei(V("jsPDF "+ut.version))+")"),xt)xt.hasOwnProperty(ee)&&xt[ee]&&Z("/"+ee.substr(0,1).toUpperCase()+ee.substr(1)+" ("+ei(V(xt[ee]))+")");Z("/CreationDate ("+ei(V(Y))+")"),Z(">>"),Z("endobj")},Tc=f.__private__.putCatalog=function(E){var V=(E=E||{}).rootDictionaryObjId||xo;switch(zn(),Z("<<"),Z("/Type /Catalog"),Z("/Pages "+V+" 0 R"),We||(We="fullwidth"),We){case"fullwidth":Z("/OpenAction [3 0 R /FitH null]");break;case"fullheight":Z("/OpenAction [3 0 R /FitV null]");break;case"fullpage":Z("/OpenAction [3 0 R /Fit]");break;case"original":Z("/OpenAction [3 0 R /XYZ null null 1]");break;default:var ee=""+We;ee.substr(ee.length-1)==="%"&&(We=parseInt(We)/100),typeof We=="number"&&Z("/OpenAction [3 0 R /XYZ null null "+N(We)+"]")}switch(St||(St="continuous"),St){case"continuous":Z("/PageLayout /OneColumn");break;case"single":Z("/PageLayout /SinglePage");break;case"two":case"twoleft":Z("/PageLayout /TwoColumnLeft");break;case"tworight":Z("/PageLayout /TwoColumnRight")}st&&Z("/PageMode /"+st),Mt.publish("putCatalog"),Z(">>"),Z("endobj")},Yn=f.__private__.putTrailer=function(){Z("trailer"),Z("<<"),Z("/Size "+(de+1)),Z("/Root "+de+" 0 R"),Z("/Info "+(de-1)+" 0 R"),c!==null&&Z("/Encrypt "+un.oid+" 0 R"),Z("/ID [ <"+ae+"> <"+ae+"> ]"),Z(">>")},Cc=f.__private__.putHeader=function(){Z("%PDF-"+g),Z("%")},Xd=f.__private__.putXRef=function(){var E="0000000000";Z("xref"),Z("0 "+(de+1)),Z("0000000000 65535 f ");for(var V=1;V<=de;V++)typeof ge[V]=="function"?Z((E+ge[V]()).slice(-10)+" 00000 n "):ge[V]!==void 0?Z((E+ge[V]).slice(-10)+" 00000 n "):Z("0000000000 00000 n ")},Ds=f.__private__.buildDocument=function(){var E;de=0,J=0,ce=[],ge=[],pe=[],xo=jr(),Ci=jr(),fe(ce),Mt.publish("buildDocument"),Cc(),Oa(),function(){Mt.publish("putAdditionalObjects");for(var ee=0;ee<pe.length;ee++){var ue=pe[ee];$n(ue.objId,!0),Z(ue.content),Z("endobj")}Mt.publish("postPutAdditionalObjects")}(),E=[],function(){for(var ee in tt)tt.hasOwnProperty(ee)&&(d===!1||d===!0&&p.hasOwnProperty(ee))&&Ms(tt[ee])}(),function(){var ee;for(ee in At)At.hasOwnProperty(ee)&&Yh(At[ee])}(),function(){for(var ee in vr)vr.hasOwnProperty(ee)&&wo(vr[ee])}(),function(ee){var ue;for(ue in ht)ht.hasOwnProperty(ue)&&(ht[ue]instanceof ed?nl(ht[ue]):ht[ue]instanceof Lf&&rl(ht[ue],ee))}(E),Mt.publish("putResources"),E.forEach(_o),_o({resourcesOid:Ci,objectOid:Number.MAX_SAFE_INTEGER}),Mt.publish("postPutResources"),c!==null&&(un.oid=zn(),Z("<<"),Z("/Filter /Standard"),Z("/V "+un.v),Z("/R "+un.r),Z("/U <"+un.toHexString(un.U)+">"),Z("/O <"+un.toHexString(un.O)+">"),Z("/P "+un.P),Z(">>"),Z("endobj")),So(),Tc();var V=J;return Xd(),Yn(),Z("startxref"),Z(""+V),Z("%%EOF"),fe(Ee[X]),ce.join(`
`)},Ao=f.__private__.getBlob=function(E){return new Blob([Xe(E)],{type:"application/pdf"})},pa=f.output=f.__private__.output=(Jr=function(E,V){switch(typeof(V=V||{})=="string"?V={filename:V}:V.filename=V.filename||"generated.pdf",E){case void 0:return Ds();case"save":f.save(V.filename);break;case"arraybuffer":return Xe(Ds());case"blob":return Ao(Ds());case"bloburi":case"bloburl":if(_t.URL!==void 0&&typeof _t.URL.createObjectURL=="function")return _t.URL&&_t.URL.createObjectURL(Ao(Ds()))||void 0;_n.warn("bloburl is not supported by your system, because URL.createObjectURL is not supported by your browser.");break;case"datauristring":case"dataurlstring":var ee="",ue=Ds();try{ee=u8(ue)}catch{ee=u8(unescape(encodeURIComponent(ue)))}return"data:application/pdf;filename="+V.filename+";base64,"+ee;case"pdfobjectnewwindow":if(Object.prototype.toString.call(_t)==="[object Window]"){var ve="https://cdnjs.cloudflare.com/ajax/libs/pdfobject/2.1.1/pdfobject.min.js",Te=' integrity="sha512-4ze/a9/4jqu+tX9dfOqJYSvyYd5M6qum/3HpCLr+/Jqf0whc37VUbkpNGHR7/8pSnCFw47T1fmIpwBV7UySh3g==" crossorigin="anonymous"';V.pdfObjectUrl&&(ve=V.pdfObjectUrl,Te="");var Le='<html><style>html, body { padding: 0; margin: 0; } iframe { width: 100%; height: 100%; border: 0;}  </style><body><script src="'+ve+'"'+Te+'><\/script><script >PDFObject.embed("'+this.output("dataurlstring")+'", '+JSON.stringify(V)+");<\/script></body></html>",He=_t.open();return He!==null&&He.document.write(Le),He}throw new Error("The option pdfobjectnewwindow just works in a browser-environment.");case"pdfjsnewwindow":if(Object.prototype.toString.call(_t)==="[object Window]"){var Je='<html><style>html, body { padding: 0; margin: 0; } iframe { width: 100%; height: 100%; border: 0;}  </style><body><iframe id="pdfViewer" src="'+(V.pdfJsUrl||"examples/PDF.js/web/viewer.html")+"?file=&downloadName="+V.filename+'" width="500px" height="400px" /></body></html>',pt=_t.open();if(pt!==null){pt.document.write(Je);var wt=this;pt.document.documentElement.querySelector("#pdfViewer").onload=function(){pt.document.title=V.filename,pt.document.documentElement.querySelector("#pdfViewer").contentWindow.PDFViewerApplication.open(wt.output("bloburl"))}}return pt}throw new Error("The option pdfjsnewwindow just works in a browser-environment.");case"dataurlnewwindow":if(Object.prototype.toString.call(_t)!=="[object Window]")throw new Error("The option dataurlnewwindow just works in a browser-environment.");var Ht='<html><style>html, body { padding: 0; margin: 0; } iframe { width: 100%; height: 100%; border: 0;}  </style><body><iframe src="'+this.output("datauristring",V)+'"></iframe></body></html>',rn=_t.open();if(rn!==null&&(rn.document.write(Ht),rn.document.title=V.filename),rn||typeof safari>"u")return rn;break;case"datauri":case"dataurl":return _t.document.location.href=this.output("datauristring",V);default:return null}},Jr.foo=function(){try{return Jr.apply(this,arguments)}catch(ee){var E=ee.stack||"";~E.indexOf(" at ")&&(E=E.split(" at ")[1]);var V="Error in function "+E.split(`
`)[0].split("<")[0]+": "+ee.message;if(!_t.console)throw new Error(V);_t.console.error(V,ee),_t.alert&&alert(V)}},Jr.foo.bar=Jr,Jr.foo),il=function(E){return Array.isArray(yo)===!0&&yo.indexOf(E)>-1};switch(r){case"pt":mt=1;break;case"mm":mt=72/25.4;break;case"cm":mt=72/2.54;break;case"in":mt=72;break;case"px":mt=il("px_scaling")==1?.75:96/72;break;case"pc":case"em":mt=12;break;case"ex":mt=6;break;default:if(typeof r!="number")throw new Error("Invalid unit: "+r);mt=r}var un=null;be(),H();var Zi=f.__private__.getPageInfo=f.getPageInfo=function(E){if(isNaN(E)||E%1!=0)throw new Error("Invalid argument passed to jsPDF.getPageInfo");return{objId:gt[E].objId,pageNumber:E,pageContext:gt[E]}},au=f.__private__.getPageInfoByObjId=function(E){if(isNaN(E)||E%1!=0)throw new Error("Invalid argument passed to jsPDF.getPageInfoByObjId");for(var V in gt)if(gt[V].objId===E)break;return Zi(V)},su=f.__private__.getCurrentPageInfo=f.getCurrentPageInfo=function(){return{objId:gt[X].objId,pageNumber:X,pageContext:gt[X]}};f.addPage=function(){return iu.apply(this,arguments),this},f.setPage=function(){return Ec.apply(this,arguments),fe.call(this,Ee[X]),this},f.insertPage=function(E){return this.addPage(),this.movePage(X,E),this},f.movePage=function(E,V){var ee,ue;if(E>V){ee=Ee[E],ue=gt[E];for(var ve=E;ve>V;ve--)Ee[ve]=Ee[ve-1],gt[ve]=gt[ve-1];Ee[V]=ee,gt[V]=ue,this.setPage(V)}else if(E<V){ee=Ee[E],ue=gt[E];for(var Te=E;Te<V;Te++)Ee[Te]=Ee[Te+1],gt[Te]=gt[Te+1];Ee[V]=ee,gt[V]=ue,this.setPage(V)}return this},f.deletePage=function(){return Pc.apply(this,arguments),this},f.__private__.text=f.text=function(E,V,ee,ue,ve){var Te,Le,He,Je,pt,wt,Ht,rn,Xn,cn=(ue=ue||{}).scope||this;if(typeof E=="number"&&typeof V=="number"&&(typeof ee=="string"||Array.isArray(ee))){var sr=ee;ee=V,V=E,E=sr}if(arguments[3]instanceof ft==0?(He=arguments[4],Je=arguments[5],gn(Ht=arguments[3])==="object"&&Ht!==null||(typeof He=="string"&&(Je=He,He=null),typeof Ht=="string"&&(Je=Ht,Ht=null),typeof Ht=="number"&&(He=Ht,Ht=null),ue={flags:Ht,angle:He,align:Je})):(I("The transform parameter of text() with a Matrix value"),Xn=ve),isNaN(V)||isNaN(ee)||E==null)throw new Error("Invalid arguments passed to jsPDF.text");if(E.length===0)return cn;var Qn,or="",Pn=typeof ue.lineHeightFactor=="number"?ue.lineHeightFactor:Eo,hi=cn.internal.scaleFactor;function Fc(sn){return sn=sn.split("	").join(Array(ue.TabLen||9).join(" ")),ei(sn,Ht)}function Ma(sn){for(var bn,br=sn.concat(),Br=[],dl=br.length;dl--;)typeof(bn=br.shift())=="string"?Br.push(bn):Array.isArray(sn)&&(bn.length===1||bn[1]===void 0&&bn[2]===void 0)?Br.push(bn[0]):Br.push([bn[0],bn[1],bn[2]]);return Br}function y(sn,bn){var br;if(typeof sn=="string")br=bn(sn)[0];else if(Array.isArray(sn)){for(var Br,dl,up=sn.concat(),ef=[],pg=up.length;pg--;)typeof(Br=up.shift())=="string"?ef.push(bn(Br)[0]):Array.isArray(Br)&&typeof Br[0]=="string"&&(dl=bn(Br[0],Br[1],Br[2]),ef.push([dl[0],dl[1],dl[2]]));br=ef}return br}var L=!1,B=!0;if(typeof E=="string")L=!0;else if(Array.isArray(E)){var G=E.concat();Le=[];for(var xe,Pe=G.length;Pe--;)(typeof(xe=G.shift())!="string"||Array.isArray(xe)&&typeof xe[0]!="string")&&(B=!1);L=B}if(L===!1)throw new Error('Type of text must be string or Array. "'+E+'" is not recognized.');typeof E=="string"&&(E=E.match(/[\r?\n]/)?E.split(/\r\n|\r|\n/g):[E]);var Be=Oe/cn.internal.scaleFactor,Ut=Be*(Pn-1);switch(ue.baseline){case"bottom":ee-=Ut;break;case"top":ee+=Be-Ut;break;case"hanging":ee+=Be-2*Ut;break;case"middle":ee+=Be/2-Ut}if((wt=ue.maxWidth||0)>0&&(typeof E=="string"?E=cn.splitTextToSize(E,wt):Object.prototype.toString.call(E)==="[object Array]"&&(E=E.reduce(function(sn,bn){return sn.concat(cn.splitTextToSize(bn,wt))},[]))),Te={text:E,x:V,y:ee,options:ue,mutex:{pdfEscape:ei,activeFontKey:ot,fonts:tt,activeFontSize:Oe}},Mt.publish("preProcessText",Te),E=Te.text,He=(ue=Te.options).angle,Xn instanceof ft==0&&He&&typeof He=="number"){He*=Math.PI/180,ue.rotationDirection===0&&(He=-He),P===A&&(He=-He);var Zn=Math.cos(He),Dt=Math.sin(He);Xn=new ft(Zn,Dt,-Dt,Zn,0,0)}else He&&He instanceof ft&&(Xn=He);P!==A||Xn||(Xn=os),(pt=ue.charSpace||ol)!==void 0&&(or+=k(R(pt))+` Tc
`,this.setCharSpace(this.getCharSpace()||0)),(rn=ue.horizontalScale)!==void 0&&(or+=k(100*rn)+` Tz
`),ue.lang;var Rt=-1,En=ue.renderingMode!==void 0?ue.renderingMode:ue.stroke,Da=cn.internal.getCurrentPageInfo().pageContext;switch(En){case 0:case!1:case"fill":Rt=0;break;case 1:case!0:case"stroke":Rt=1;break;case 2:case"fillThenStroke":Rt=2;break;case 3:case"invisible":Rt=3;break;case 4:case"fillAndAddForClipping":Rt=4;break;case 5:case"strokeAndAddPathForClipping":Rt=5;break;case 6:case"fillThenStrokeAndAddToPathForClipping":Rt=6;break;case 7:case"addToPathForClipping":Rt=7}var Ii=Da.usedRenderingMode!==void 0?Da.usedRenderingMode:-1;Rt!==-1?or+=Rt+` Tr
`:Ii!==-1&&(or+=`0 Tr
`),Rt!==-1&&(Da.usedRenderingMode=Rt),Je=ue.align||"left";var pi,zs=Oe*Pn,np=cn.internal.pageSize.getWidth(),rp=tt[ot];pt=ue.charSpace||ol,wt=ue.maxWidth||0,Ht=Object.assign({autoencode:!0,noBOM:!0},ue.flags);var fu=[],Bc=function(sn){return cn.getStringUnitWidth(sn,{font:rp,charSpace:pt,fontSize:Oe,doKerning:!1})*Oe/hi};if(Object.prototype.toString.call(E)==="[object Array]"){var Fa;Le=Ma(E),Je!=="left"&&(pi=Le.map(Bc));var Ba,hu=0;if(Je==="right"){V-=pi[0],E=[],Pe=Le.length;for(var cl=0;cl<Pe;cl++)cl===0?(Ba=ti(V),Fa=Fs(ee)):(Ba=R(hu-pi[cl]),Fa=-zs),E.push([Le[cl],Ba,Fa]),hu=pi[cl]}else if(Je==="center"){V-=pi[0]/2,E=[],Pe=Le.length;for(var pu=0;pu<Pe;pu++)pu===0?(Ba=ti(V),Fa=Fs(ee)):(Ba=R((hu-pi[pu])/2),Fa=-zs),E.push([Le[pu],Ba,Fa]),hu=pi[pu]}else if(Je==="left"){E=[],Pe=Le.length;for(var ip=0;ip<Pe;ip++)E.push(Le[ip])}else if(Je==="justify"&&rp.encoding==="Identity-H"){E=[],Pe=Le.length,wt=wt!==0?wt:np;for(var Jd=0,xr=0;xr<Pe;xr++)if(Fa=xr===0?Fs(ee):-zs,Ba=xr===0?ti(V):Jd,xr<Pe-1){var hg=R((wt-pi[xr])/(Le[xr].split(" ").length-1)),jo=Le[xr].split(" ");E.push([jo[0]+" ",Ba,Fa]),Jd=0;for(var Io=1;Io<jo.length;Io++){var ap=(Bc(jo[Io-1]+" "+jo[Io])-Bc(jo[Io]))*hi+hg;Io==jo.length-1?E.push([jo[Io],ap,0]):E.push([jo[Io]+" ",ap,0]),Jd-=ap}}else E.push([Le[xr],Ba,Fa]);E.push(["",Jd,0])}else{if(Je!=="justify")throw new Error('Unrecognized alignment option, use "left", "center", "right" or "justify".');for(E=[],Pe=Le.length,wt=wt!==0?wt:np,xr=0;xr<Pe;xr++){Fa=xr===0?Fs(ee):-zs,Ba=xr===0?ti(V):0;var sp=Le[xr].split(" ").length-1,op=sp>0?(wt-pi[xr])/sp:0;xr<Pe-1?fu.push(k(R(op))):fu.push(0),E.push([Le[xr],Ba,Fa])}}}(typeof ue.R2L=="boolean"?ue.R2L:Nt)===!0&&(E=y(E,function(sn,bn,br){return[sn.split("").reverse().join(""),bn,br]})),Te={text:E,x:V,y:ee,options:ue,mutex:{pdfEscape:ei,activeFontKey:ot,fonts:tt,activeFontSize:Oe}},Mt.publish("postProcessText",Te),E=Te.text,Qn=Te.mutex.isHex||!1;var lp=tt[ot].encoding;lp!=="WinAnsiEncoding"&&lp!=="StandardEncoding"||(E=y(E,function(sn,bn,br){return[Fc(sn),bn,br]})),Le=Ma(E),E=[];for(var mu,gu,vu,Vc=Array.isArray(Le[0])?1:0,yu="",zc=function(sn,bn,br){var Br="";return br instanceof ft?(br=typeof ue.angle=="number"?On(br,new ft(1,0,0,1,sn,bn)):On(new ft(1,0,0,1,sn,bn),br),P===A&&(br=On(new ft(1,0,0,-1,0,0),br)),Br=br.join(" ")+` Tm
`):Br=k(sn)+" "+k(bn)+` Td
`,Br},ds=0;ds<Le.length;ds++){switch(yu="",Vc){case 1:vu=(Qn?"<":"(")+Le[ds][0]+(Qn?">":")"),mu=parseFloat(Le[ds][1]),gu=parseFloat(Le[ds][2]);break;case 0:vu=(Qn?"<":"(")+Le[ds]+(Qn?">":")"),mu=ti(V),gu=Fs(ee)}fu!==void 0&&fu[ds]!==void 0&&(yu=fu[ds]+` Tw
`),ds===0?E.push(yu+zc(mu,gu,Xn)+vu):Vc===0?E.push(yu+vu):Vc===1&&E.push(yu+zc(mu,gu,Xn)+vu)}E=Vc===0?E.join(` Tj
T* `):E.join(` Tj
`),E+=` Tj
`;var Oo=`BT
/`;return Oo+=ot+" "+Oe+` Tf
`,Oo+=k(Oe*Pn)+` TL
`,Oo+=Ra+`
`,Oo+=or,Oo+=E,Z(Oo+="ET"),p[ot]=!0,cn};var Qd=f.__private__.clip=f.clip=function(E){return Z(E==="evenodd"?"W*":"W"),this};f.clipEvenOdd=function(){return Qd("evenodd")},f.__private__.discardPath=f.discardPath=function(){return Z("n"),this};var Vt=f.__private__.isValidStyle=function(E){var V=!1;return[void 0,null,"S","D","F","DF","FD","f","f*","B","B*","n"].indexOf(E)!==-1&&(V=!0),V};f.__private__.setDefaultPathOperation=f.setDefaultPathOperation=function(E){return Vt(E)&&(u=E),this};var al=f.__private__.getStyle=f.getStyle=function(E){var V=u;switch(E){case"D":case"S":V="S";break;case"F":V="f";break;case"FD":case"DF":V="B";break;case"f":case"f*":case"B":case"B*":V=E}return V},Po=f.close=function(){return Z("h"),this};f.stroke=function(){return Z("S"),this},f.fill=function(E){return ma("f",E),this},f.fillEvenOdd=function(E){return ma("f*",E),this},f.fillStroke=function(E){return ma("B",E),this},f.fillStrokeEvenOdd=function(E){return ma("B*",E),this};var ma=function(E,V){gn(V)==="object"?Xh(V,E):Z(E)},jc=function(E){E===null||P===A&&E===void 0||(E=al(E),Z(E))};function Zd(E,V,ee,ue,ve){var Te=new Lf(V||this.boundingBox,ee||this.xStep,ue||this.yStep,this.gState,ve||this.matrix);Te.stream=this.stream;var Le=E+"$$"+this.cloneIndex+++"$$";return Zr(Le,Te),Te}var Xh=function(E,V){var ee=Lt[E.key],ue=ht[ee];if(ue instanceof ed)Z("q"),Z(Qh(V)),ue.gState&&f.setGState(ue.gState),Z(E.matrix.toString()+" cm"),Z("/"+ee+" sh"),Z("Q");else if(ue instanceof Lf){var ve=new ft(1,0,0,-1,0,cs());E.matrix&&(ve=ve.multiply(E.matrix||os),ee=Zd.call(ue,E.key,E.boundingBox,E.xStep,E.yStep,ve).id),Z("q"),Z("/Pattern cs"),Z("/"+ee+" scn"),ue.gState&&f.setGState(ue.gState),Z(V),Z("Q")}},Qh=function(E){switch(E){case"f":case"F":case"n":return"W n";case"f*":return"W* n";case"B":case"S":return"W S";case"B*":return"W* S"}},Ic=f.moveTo=function(E,V){return Z(k(R(E))+" "+k(W(V))+" m"),this},sl=f.lineTo=function(E,V){return Z(k(R(E))+" "+k(W(V))+" l"),this},ga=f.curveTo=function(E,V,ee,ue,ve,Te){return Z([k(R(E)),k(W(V)),k(R(ee)),k(W(ue)),k(R(ve)),k(W(Te)),"c"].join(" ")),this};f.__private__.line=f.line=function(E,V,ee,ue,ve){if(isNaN(E)||isNaN(V)||isNaN(ee)||isNaN(ue)||!Vt(ve))throw new Error("Invalid arguments passed to jsPDF.line");return P===w?this.lines([[ee-E,ue-V]],E,V,[1,1],ve||"S"):this.lines([[ee-E,ue-V]],E,V,[1,1]).stroke()},f.__private__.lines=f.lines=function(E,V,ee,ue,ve,Te){var Le,He,Je,pt,wt,Ht,rn,Xn,cn,sr,Qn,or;if(typeof E=="number"&&(or=ee,ee=V,V=E,E=or),ue=ue||[1,1],Te=Te||!1,isNaN(V)||isNaN(ee)||!Array.isArray(E)||!Array.isArray(ue)||!Vt(ve)||typeof Te!="boolean")throw new Error("Invalid arguments passed to jsPDF.lines");for(Ic(V,ee),Le=ue[0],He=ue[1],pt=E.length,sr=V,Qn=ee,Je=0;Je<pt;Je++)(wt=E[Je]).length===2?(sr=wt[0]*Le+sr,Qn=wt[1]*He+Qn,sl(sr,Qn)):(Ht=wt[0]*Le+sr,rn=wt[1]*He+Qn,Xn=wt[2]*Le+sr,cn=wt[3]*He+Qn,sr=wt[4]*Le+sr,Qn=wt[5]*He+Qn,ga(Ht,rn,Xn,cn,sr,Qn));return Te&&Po(),jc(ve),this},f.path=function(E){for(var V=0;V<E.length;V++){var ee=E[V],ue=ee.c;switch(ee.op){case"m":Ic(ue[0],ue[1]);break;case"l":sl(ue[0],ue[1]);break;case"c":ga.apply(this,ue);break;case"h":Po()}}return this},f.__private__.rect=f.rect=function(E,V,ee,ue,ve){if(isNaN(E)||isNaN(V)||isNaN(ee)||isNaN(ue)||!Vt(ve))throw new Error("Invalid arguments passed to jsPDF.rect");return P===w&&(ue=-ue),Z([k(R(E)),k(W(V)),k(R(ee)),k(R(ue)),"re"].join(" ")),jc(ve),this},f.__private__.triangle=f.triangle=function(E,V,ee,ue,ve,Te,Le){if(isNaN(E)||isNaN(V)||isNaN(ee)||isNaN(ue)||isNaN(ve)||isNaN(Te)||!Vt(Le))throw new Error("Invalid arguments passed to jsPDF.triangle");return this.lines([[ee-E,ue-V],[ve-ee,Te-ue],[E-ve,V-Te]],E,V,[1,1],Le,!0),this},f.__private__.roundedRect=f.roundedRect=function(E,V,ee,ue,ve,Te,Le){if(isNaN(E)||isNaN(V)||isNaN(ee)||isNaN(ue)||isNaN(ve)||isNaN(Te)||!Vt(Le))throw new Error("Invalid arguments passed to jsPDF.roundedRect");var He=4/3*(Math.SQRT2-1);return ve=Math.min(ve,.5*ee),Te=Math.min(Te,.5*ue),this.lines([[ee-2*ve,0],[ve*He,0,ve,Te-Te*He,ve,Te],[0,ue-2*Te],[0,Te*He,-ve*He,Te,-ve,Te],[2*ve-ee,0],[-ve*He,0,-ve,-Te*He,-ve,-Te],[0,2*Te-ue],[0,-Te*He,ve*He,-Te,ve,-Te]],E+ve,V,[1,1],Le,!0),this},f.__private__.ellipse=f.ellipse=function(E,V,ee,ue,ve){if(isNaN(E)||isNaN(V)||isNaN(ee)||isNaN(ue)||!Vt(ve))throw new Error("Invalid arguments passed to jsPDF.ellipse");var Te=4/3*(Math.SQRT2-1)*ee,Le=4/3*(Math.SQRT2-1)*ue;return Ic(E+ee,V),ga(E+ee,V-Le,E+Te,V-ue,E,V-ue),ga(E-Te,V-ue,E-ee,V-Le,E-ee,V),ga(E-ee,V+Le,E-Te,V+ue,E,V+ue),ga(E+Te,V+ue,E+ee,V+Le,E+ee,V),jc(ve),this},f.__private__.circle=f.circle=function(E,V,ee,ue){if(isNaN(E)||isNaN(V)||isNaN(ee)||!Vt(ue))throw new Error("Invalid arguments passed to jsPDF.circle");return this.ellipse(E,V,ee,ee,ue)},f.setFont=function(E,V,ee){return ee&&(V=T(V,ee)),ot=kc(E,V,{disableWarning:!1}),this};var ls=f.__private__.getFont=f.getFont=function(){return tt[kc.apply(f,arguments)]};f.__private__.getFontList=f.getFontList=function(){var E,V,ee={};for(E in bt)if(bt.hasOwnProperty(E))for(V in ee[E]=[],bt[E])bt[E].hasOwnProperty(V)&&ee[E].push(V);return ee},f.addFont=function(E,V,ee,ue,ve){var Te=["StandardEncoding","MacRomanEncoding","Identity-H","WinAnsiEncoding"];return arguments[3]&&Te.indexOf(arguments[3])!==-1?ve=arguments[3]:arguments[3]&&Te.indexOf(arguments[3])==-1&&(ee=T(ee,ue)),ru.call(this,E,V,ee,ve=ve||"Identity-H")};var Eo,ou=e.lineWidth||.200025,vt=f.__private__.getLineWidth=f.getLineWidth=function(){return ou},No=f.__private__.setLineWidth=f.setLineWidth=function(E){return ou=E,Z(k(R(E))+" w"),this};f.__private__.setLineDash=ut.API.setLineDash=ut.API.setLineDashPattern=function(E,V){if(E=E||[],V=V||0,isNaN(V)||!Array.isArray(E))throw new Error("Invalid arguments passed to jsPDF.setLineDash");return E=E.map(function(ee){return k(R(ee))}).join(" "),V=k(R(V)),Z("["+E+"] "+V+" d"),this};var Zh=f.__private__.getLineHeight=f.getLineHeight=function(){return Oe*Eo};f.__private__.getLineHeight=f.getLineHeight=function(){return Oe*Eo};var Jh=f.__private__.setLineHeightFactor=f.setLineHeightFactor=function(E){return typeof(E=E||1.15)=="number"&&(Eo=E),this},ep=f.__private__.getLineHeightFactor=f.getLineHeightFactor=function(){return Eo};Jh(e.lineHeight);var ti=f.__private__.getHorizontalCoordinate=function(E){return R(E)},Fs=f.__private__.getVerticalCoordinate=function(E){return P===A?E:gt[X].mediaBox.topRightY-gt[X].mediaBox.bottomLeftY-R(E)},tp=f.__private__.getHorizontalCoordinateString=f.getHorizontalCoordinateString=function(E){return k(ti(E))},lu=f.__private__.getVerticalCoordinateString=f.getVerticalCoordinateString=function(E){return k(Fs(E))},Bs=e.strokeColor||"0 G";f.__private__.getStrokeColor=f.getDrawColor=function(){return Ia(Bs)},f.__private__.setStrokeColor=f.setDrawColor=function(E,V,ee,ue){return Bs=Qi({ch1:E,ch2:V,ch3:ee,ch4:ue,pdfColorType:"draw",precision:2}),Z(Bs),this};var uu=e.fillColor||"0 g";f.__private__.getFillColor=f.getFillColor=function(){return Ia(uu)},f.__private__.setFillColor=f.setFillColor=function(E,V,ee,ue){return uu=Qi({ch1:E,ch2:V,ch3:ee,ch4:ue,pdfColorType:"fill",precision:2}),Z(uu),this};var Ra=e.textColor||"0 g",us=f.__private__.getTextColor=f.getTextColor=function(){return Ia(Ra)};f.__private__.setTextColor=f.setTextColor=function(E,V,ee,ue){return Ra=Qi({ch1:E,ch2:V,ch3:ee,ch4:ue,pdfColorType:"text",precision:3}),this};var ol=e.charSpace,Oc=f.__private__.getCharSpace=f.getCharSpace=function(){return parseFloat(ol||0)};f.__private__.setCharSpace=f.setCharSpace=function(E){if(isNaN(E))throw new Error("Invalid argument passed to jsPDF.setCharSpace");return ol=E,this};var xn=0;f.CapJoinStyles={0:0,butt:0,but:0,miter:0,1:1,round:1,rounded:1,circle:1,2:2,projecting:2,project:2,square:2,bevel:2},f.__private__.setLineCap=f.setLineCap=function(E){var V=f.CapJoinStyles[E];if(V===void 0)throw new Error("Line cap style of '"+E+"' is not recognized. See or extend .CapJoinStyles property for valid styles");return xn=V,Z(V+" J"),this};var Lc=0;f.__private__.setLineJoin=f.setLineJoin=function(E){var V=f.CapJoinStyles[E];if(V===void 0)throw new Error("Line join style of '"+E+"' is not recognized. See or extend .CapJoinStyles property for valid styles");return Lc=V,Z(V+" j"),this},f.__private__.setLineMiterLimit=f.__private__.setMiterLimit=f.setLineMiterLimit=f.setMiterLimit=function(E){if(E=E||0,isNaN(E))throw new Error("Invalid argument passed to jsPDF.setLineMiterLimit");return Z(k(R(E))+" M"),this},f.GState=iy,f.setGState=function(E){(E=typeof E=="string"?At[Vn[E]]:ll(null,E)).equals(In)||(Z("/"+E.id+" gs"),In=E)};var ll=function(E,V){if(!E||!Vn[E]){var ee=!1;for(var ue in At)if(At.hasOwnProperty(ue)&&At[ue].equals(V)){ee=!0;break}if(ee)V=At[ue];else{var ve="GS"+(Object.keys(At).length+1).toString(10);At[ve]=V,V.id=ve}return E&&(Vn[E]=V.id),Mt.publish("addGState",V),V}};f.addGState=function(E,V){return ll(E,V),this},f.saveGraphicsState=function(){return Z("q"),ln.push({key:ot,size:Oe,color:Ra}),this},f.restoreGraphicsState=function(){Z("Q");var E=ln.pop();return ot=E.key,Oe=E.size,Ra=E.color,In=null,this},f.setCurrentTransformationMatrix=function(E){return Z(E.toString()+" cm"),this},f.comment=function(E){return Z("#"+E),this};var ko=function(E,V){var ee=E||0;Object.defineProperty(this,"x",{enumerable:!0,get:function(){return ee},set:function(Te){isNaN(Te)||(ee=parseFloat(Te))}});var ue=V||0;Object.defineProperty(this,"y",{enumerable:!0,get:function(){return ue},set:function(Te){isNaN(Te)||(ue=parseFloat(Te))}});var ve="pt";return Object.defineProperty(this,"type",{enumerable:!0,get:function(){return ve},set:function(Te){ve=Te.toString()}}),this},cu=function(E,V,ee,ue){ko.call(this,E,V),this.type="rect";var ve=ee||0;Object.defineProperty(this,"w",{enumerable:!0,get:function(){return ve},set:function(Le){isNaN(Le)||(ve=parseFloat(Le))}});var Te=ue||0;return Object.defineProperty(this,"h",{enumerable:!0,get:function(){return Te},set:function(Le){isNaN(Le)||(Te=parseFloat(Le))}}),this},ul=function(){this.page=nn,this.currentPage=X,this.pages=Ee.slice(0),this.pagesContext=gt.slice(0),this.x=ct,this.y=Zt,this.matrix=qt,this.width=va(X),this.height=Vs(X),this.outputDestination=Ne,this.id="",this.objectNumber=-1};ul.prototype.restore=function(){nn=this.page,X=this.currentPage,gt=this.pagesContext,Ee=this.pages,ct=this.x,Zt=this.y,qt=this.matrix,Rc(X,this.width),Ji(X,this.height),Ne=this.outputDestination};var To=function(E,V,ee,ue,ve){Ti.push(new ul),nn=X=0,Ee=[],ct=E,Zt=V,qt=ve,La([ee,ue])};for(var Co in f.beginFormObject=function(E,V,ee,ue,ve){return To(E,V,ee,ue,ve),this},f.endFormObject=function(E){return function(V){if(ss[V])Ti.pop().restore();else{var ee=new ul,ue="Xo"+(Object.keys(vr).length+1).toString(10);ee.id=ue,ss[V]=ue,vr[ue]=ee,Mt.publish("addFormObject",ee),Ti.pop().restore()}}(E),this},f.doFormObject=function(E,V){var ee=vr[ss[E]];return Z("q"),Z(V.toString()+" cm"),Z("/"+ee.id+" Do"),Z("Q"),this},f.getFormObject=function(E){var V=vr[ss[E]];return{x:V.x,y:V.y,width:V.width,height:V.height,matrix:V.matrix}},f.save=function(E,V){return E=E||"generated.pdf",(V=V||{}).returnPromise=V.returnPromise||!1,V.returnPromise===!1?(Yc(Ao(Ds()),E),typeof Yc.unload=="function"&&_t.setTimeout&&setTimeout(Yc.unload,911),this):new Promise(function(ee,ue){try{var ve=Yc(Ao(Ds()),E);typeof Yc.unload=="function"&&_t.setTimeout&&setTimeout(Yc.unload,911),ee(ve)}catch(Te){ue(Te.message)}})},ut.API)ut.API.hasOwnProperty(Co)&&(Co==="events"&&ut.API.events.length?function(E,V){var ee,ue,ve;for(ve=V.length-1;ve!==-1;ve--)ee=V[ve][0],ue=V[ve][1],E.subscribe.apply(E,[ee].concat(typeof ue=="function"?[ue]:ue))}(Mt,ut.API.events):f[Co]=ut.API[Co]);function va(E){return gt[E].mediaBox.topRightX-gt[E].mediaBox.bottomLeftX}function Rc(E,V){gt[E].mediaBox.topRightX=V+gt[E].mediaBox.bottomLeftX}function Vs(E){return gt[E].mediaBox.topRightY-gt[E].mediaBox.bottomLeftY}function Ji(E,V){gt[E].mediaBox.topRightY=V+gt[E].mediaBox.bottomLeftY}var Mc=f.getPageWidth=function(E){return va(E=E||X)/mt},du=f.setPageWidth=function(E,V){Rc(E,V*mt)},cs=f.getPageHeight=function(E){return Vs(E=E||X)/mt},Dc=f.setPageHeight=function(E,V){Ji(E,V*mt)};return f.internal={pdfEscape:ei,getStyle:al,getFont:ls,getFontSize:$e,getCharSpace:Oc,getTextColor:us,getLineHeight:Zh,getLineHeightFactor:ep,getLineWidth:vt,write:Ve,getHorizontalCoordinate:ti,getVerticalCoordinate:Fs,getCoordinateString:tp,getVerticalCoordinateString:lu,collections:{},newObject:zn,newAdditionalObject:tl,newObjectDeferred:jr,newObjectDeferredBegin:$n,getFilters:ji,putStream:yr,events:Mt,scaleFactor:mt,pageSize:{getWidth:function(){return Mc(X)},setWidth:function(E){du(X,E)},getHeight:function(){return cs(X)},setHeight:function(E){Dc(X,E)}},encryptionOptions:c,encryption:un,getEncryptor:function(E){return c!==null?un.encryptor(E,0):function(V){return V}},output:pa,getNumberOfPages:Nc,pages:Ee,out:Z,f2:N,f3:C,getPageInfo:Zi,getPageInfoByObjId:au,getCurrentPageInfo:su,getPDFVersion:v,Point:ko,Rectangle:cu,Matrix:ft,hasHotfix:il},Object.defineProperty(f.internal.pageSize,"width",{get:function(){return Mc(X)},set:function(E){du(X,E)},enumerable:!0,configurable:!0}),Object.defineProperty(f.internal.pageSize,"height",{get:function(){return cs(X)},set:function(E){Dc(X,E)},enumerable:!0,configurable:!0}),(function(E){for(var V=0,ee=Ue.length;V<ee;V++){var ue=ru.call(this,E[V][0],E[V][1],E[V][2],Ue[V][3],!0);d===!1&&(p[ue]=!0);var ve=E[V][0].split("-");Ac({id:ue,fontName:ve[0],fontStyle:ve[1]||""})}Mt.publish("addFonts",{fonts:tt,dictionary:bt})}).call(f,Ue),ot="F1",iu(i,n),Mt.publish("initialized"),f}hf.prototype.lsbFirstWord=function(e){return String.fromCharCode(255&e,e>>8&255,e>>16&255,e>>24&255)},hf.prototype.toHexString=function(e){return e.split("").map(function(t){return("0"+(255&t.charCodeAt(0)).toString(16)).slice(-2)}).join("")},hf.prototype.hexToBytes=function(e){for(var t=[],n=0;n<e.length;n+=2)t.push(String.fromCharCode(parseInt(e.substr(n,2),16)));return t.join("")},hf.prototype.processOwnerPassword=function(e,t){return a3(i3(t).substr(0,5),e)},hf.prototype.encryptor=function(e,t){var n=i3(this.encryptionKey+String.fromCharCode(255&e,e>>8&255,e>>16&255,255&t,t>>8&255)).substr(0,10);return function(r){return a3(n,r)}},iy.prototype.equals=function(e){var t,n="id,objectNumber,equals";if(!e||gn(e)!==gn(this))return!1;var r=0;for(t in this)if(!(n.indexOf(t)>=0)){if(this.hasOwnProperty(t)&&!e.hasOwnProperty(t)||this[t]!==e[t])return!1;r++}for(t in e)e.hasOwnProperty(t)&&n.indexOf(t)<0&&r--;return r===0},ut.API={events:[]},ut.version="3.0.3";var dr=ut.API,OA=1,Hd=function(e){return e.replace(/\\/g,"\\\\").replace(/\(/g,"\\(").replace(/\)/g,"\\)")},af=function(e){return e.replace(/\\\\/g,"\\").replace(/\\\(/g,"(").replace(/\\\)/g,")")},Tt=function(e){return e.toFixed(2)},Nu=function(e){return e.toFixed(5)};dr.__acroform__={};var Ta=function(e,t){e.prototype=Object.create(t.prototype),e.prototype.constructor=e},h8=function(e){return e*OA},Mo=function(e){var t=new $F,n=Qe.internal.getHeight(e)||0,r=Qe.internal.getWidth(e)||0;return t.BBox=[0,0,Number(Tt(r)),Number(Tt(n))],t},cue=dr.__acroform__.setBit=function(e,t){if(e=e||0,t=t||0,isNaN(e)||isNaN(t))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.setBit");return e|1<<t},due=dr.__acroform__.clearBit=function(e,t){if(e=e||0,t=t||0,isNaN(e)||isNaN(t))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.clearBit");return e&~(1<<t)},fue=dr.__acroform__.getBit=function(e,t){if(isNaN(e)||isNaN(t))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.getBit");return e&1<<t?1:0},Nr=dr.__acroform__.getBitForPdf=function(e,t){if(isNaN(e)||isNaN(t))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.getBitForPdf");return fue(e,t-1)},kr=dr.__acroform__.setBitForPdf=function(e,t){if(isNaN(e)||isNaN(t))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.setBitForPdf");return cue(e,t-1)},Tr=dr.__acroform__.clearBitForPdf=function(e,t){if(isNaN(e)||isNaN(t))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.clearBitForPdf");return due(e,t-1)},hue=dr.__acroform__.calculateCoordinates=function(e,t){var n=t.internal.getHorizontalCoordinate,r=t.internal.getVerticalCoordinate,i=e[0],a=e[1],s=e[2],o=e[3],l={};return l.lowerLeft_X=n(i)||0,l.lowerLeft_Y=r(a+o)||0,l.upperRight_X=n(i+s)||0,l.upperRight_Y=r(a)||0,[Number(Tt(l.lowerLeft_X)),Number(Tt(l.lowerLeft_Y)),Number(Tt(l.upperRight_X)),Number(Tt(l.upperRight_Y))]},pue=function(e){if(e.appearanceStreamContent)return e.appearanceStreamContent;if(e.V||e.DV){var t=[],n=e._V||e.DV,r=s3(e,n),i=e.scope.internal.getFont(e.fontName,e.fontStyle).id;t.push("/Tx BMC"),t.push("q"),t.push("BT"),t.push(e.scope.__private__.encodeColorString(e.color)),t.push("/"+i+" "+Tt(r.fontSize)+" Tf"),t.push("1 0 0 1 0 0 Tm"),t.push(r.text),t.push("ET"),t.push("Q"),t.push("EMC");var a=Mo(e);return a.scope=e.scope,a.stream=t.join(`
`),a}},s3=function(e,t){var n=e.fontSize===0?e.maxFontSize:e.fontSize,r={text:"",fontSize:""},i=(t=(t=t.substr(0,1)=="("?t.substr(1):t).substr(t.length-1)==")"?t.substr(0,t.length-1):t).split(" ");i=e.multiline?i.map(function(N){return N.split(`
`)}):i.map(function(N){return[N]});var a=n,s=Qe.internal.getHeight(e)||0;s=s<0?-s:s;var o=Qe.internal.getWidth(e)||0;o=o<0?-o:o;var l=function(N,C,R){if(N+1<i.length){var W=C+" "+i[N+1][0];return l1(W,e,R).width<=o-4}return!1};a++;e:for(;a>0;){t="",a--;var u,c,d=l1("3",e,a).height,p=e.multiline?s-a:(s-d)/2,f=p+=2,g=0,v=0,b=0;if(a<=0){t=`(...) Tj
`,t+="% Width of Text: "+l1(t,e,a=12).width+", FieldWidth:"+o+`
`;break}for(var x="",w=0,A=0;A<i.length;A++)if(i.hasOwnProperty(A)){var P=!1;if(i[A].length!==1&&b!==i[A].length-1){if((d+2)*(w+2)+2>s)continue e;x+=i[A][b],P=!0,v=A,A--}else{x=(x+=i[A][b]+" ").substr(x.length-1)==" "?x.substr(0,x.length-1):x;var O=parseInt(A),D=l(O,x,a),T=A>=i.length-1;if(D&&!T){x+=" ",b=0;continue}if(D||T){if(T)v=O;else if(e.multiline&&(d+2)*(w+2)+2>s)continue e}else{if(!e.multiline||(d+2)*(w+2)+2>s)continue e;v=O}}for(var k="",I=g;I<=v;I++){var M=i[I];if(e.multiline){if(I===v){k+=M[b]+" ",b=(b+1)%M.length;continue}if(I===g){k+=M[M.length-1]+" ";continue}}k+=M[0]+" "}switch(k=k.substr(k.length-1)==" "?k.substr(0,k.length-1):k,c=l1(k,e,a).width,e.textAlign){case"right":u=o-c-2;break;case"center":u=(o-c)/2;break;default:u=2}t+=Tt(u)+" "+Tt(f)+` Td
`,t+="("+Hd(k)+`) Tj
`,t+=-Tt(u)+` 0 Td
`,f=-(a+2),c=0,g=P?v:v+1,w++,x=""}break}return r.text=t,r.fontSize=a,r},l1=function(e,t,n){var r=t.scope.internal.getFont(t.fontName,t.fontStyle),i=t.scope.getStringUnitWidth(e,{font:r,fontSize:parseFloat(n),charSpace:0})*parseFloat(n);return{height:t.scope.getStringUnitWidth("3",{font:r,fontSize:parseFloat(n),charSpace:0})*parseFloat(n)*1.5,width:i}},mue={fields:[],xForms:[],acroFormDictionaryRoot:null,printedOut:!1,internal:null,isInitialized:!1},gue=function(e,t){var n={type:"reference",object:e};t.internal.getPageInfo(e.page).pageContext.annotations.find(function(r){return r.type===n.type&&r.object===n.object})===void 0&&t.internal.getPageInfo(e.page).pageContext.annotations.push(n)},vue=function(e,t){if(t.scope=e,e.internal!==void 0&&(e.internal.acroformPlugin===void 0||e.internal.acroformPlugin.isInitialized===!1)){if(ho.FieldNum=0,e.internal.acroformPlugin=JSON.parse(JSON.stringify(mue)),e.internal.acroformPlugin.acroFormDictionaryRoot)throw new Error("Exception while creating AcroformDictionary");OA=e.internal.scaleFactor,e.internal.acroformPlugin.acroFormDictionaryRoot=new UF,e.internal.acroformPlugin.acroFormDictionaryRoot.scope=e,e.internal.acroformPlugin.acroFormDictionaryRoot._eventID=e.internal.events.subscribe("postPutResources",function(){(function(n){n.internal.events.unsubscribe(n.internal.acroformPlugin.acroFormDictionaryRoot._eventID),delete n.internal.acroformPlugin.acroFormDictionaryRoot._eventID,n.internal.acroformPlugin.printedOut=!0})(e)}),e.internal.events.subscribe("buildDocument",function(){(function(n){n.internal.acroformPlugin.acroFormDictionaryRoot.objId=void 0;var r=n.internal.acroformPlugin.acroFormDictionaryRoot.Fields;for(var i in r)if(r.hasOwnProperty(i)){var a=r[i];a.objId=void 0,a.hasAnnotation&&gue(a,n)}})(e)}),e.internal.events.subscribe("putCatalog",function(){(function(n){if(n.internal.acroformPlugin.acroFormDictionaryRoot===void 0)throw new Error("putCatalogCallback: Root missing.");n.internal.write("/AcroForm "+n.internal.acroformPlugin.acroFormDictionaryRoot.objId+" 0 R")})(e)}),e.internal.events.subscribe("postPutPages",function(n){(function(r,i){var a=!r;for(var s in r||(i.internal.newObjectDeferredBegin(i.internal.acroformPlugin.acroFormDictionaryRoot.objId,!0),i.internal.acroformPlugin.acroFormDictionaryRoot.putStream()),r=r||i.internal.acroformPlugin.acroFormDictionaryRoot.Kids)if(r.hasOwnProperty(s)){var o=r[s],l=[],u=o.Rect;if(o.Rect&&(o.Rect=hue(o.Rect,i)),i.internal.newObjectDeferredBegin(o.objId,!0),o.DA=Qe.createDefaultAppearanceStream(o),gn(o)==="object"&&typeof o.getKeyValueListForStream=="function"&&(l=o.getKeyValueListForStream()),o.Rect=u,o.hasAppearanceStream&&!o.appearanceStreamContent){var c=pue(o);l.push({key:"AP",value:"<</N "+c+">>"}),i.internal.acroformPlugin.xForms.push(c)}if(o.appearanceStreamContent){var d="";for(var p in o.appearanceStreamContent)if(o.appearanceStreamContent.hasOwnProperty(p)){var f=o.appearanceStreamContent[p];if(d+="/"+p+" ",d+="<<",Object.keys(f).length>=1||Array.isArray(f)){for(var s in f)if(f.hasOwnProperty(s)){var g=f[s];typeof g=="function"&&(g=g.call(i,o)),d+="/"+s+" "+g+" ",i.internal.acroformPlugin.xForms.indexOf(g)>=0||i.internal.acroformPlugin.xForms.push(g)}}else typeof(g=f)=="function"&&(g=g.call(i,o)),d+="/"+s+" "+g,i.internal.acroformPlugin.xForms.indexOf(g)>=0||i.internal.acroformPlugin.xForms.push(g);d+=">>"}l.push({key:"AP",value:`<<
`+d+">>"})}i.internal.putStream({additionalKeyValues:l,objectId:o.objId}),i.internal.out("endobj")}a&&function(v,b){for(var x in v)if(v.hasOwnProperty(x)){var w=x,A=v[x];b.internal.newObjectDeferredBegin(A.objId,!0),gn(A)==="object"&&typeof A.putStream=="function"&&A.putStream(),delete v[w]}}(i.internal.acroformPlugin.xForms,i)})(n,e)}),e.internal.acroformPlugin.isInitialized=!0}},zF=dr.__acroform__.arrayToPdfArray=function(e,t,n){var r=function(s){return s};if(Array.isArray(e)){for(var i="[",a=0;a<e.length;a++)switch(a!==0&&(i+=" "),gn(e[a])){case"boolean":case"number":case"object":i+=e[a].toString();break;case"string":e[a].substr(0,1)!=="/"?(t!==void 0&&n&&(r=n.internal.getEncryptor(t)),i+="("+Hd(r(e[a].toString()))+")"):i+=e[a].toString()}return i+"]"}throw new Error("Invalid argument passed to jsPDF.__acroform__.arrayToPdfArray")},Tw=function(e,t,n){var r=function(i){return i};return t!==void 0&&n&&(r=n.internal.getEncryptor(t)),(e=e||"").toString(),"("+Hd(r(e))+")"},Bo=function(){this._objId=void 0,this._scope=void 0,Object.defineProperty(this,"objId",{get:function(){if(this._objId===void 0){if(this.scope===void 0)return;this._objId=this.scope.internal.newObjectDeferred()}return this._objId},set:function(e){this._objId=e}}),Object.defineProperty(this,"scope",{value:this._scope,writable:!0})};Bo.prototype.toString=function(){return this.objId+" 0 R"},Bo.prototype.putStream=function(){var e=this.getKeyValueListForStream();this.scope.internal.putStream({data:this.stream,additionalKeyValues:e,objectId:this.objId}),this.scope.internal.out("endobj")},Bo.prototype.getKeyValueListForStream=function(){var e=[],t=Object.getOwnPropertyNames(this).filter(function(a){return a!="content"&&a!="appearanceStreamContent"&&a!="scope"&&a!="objId"&&a.substring(0,1)!="_"});for(var n in t)if(Object.getOwnPropertyDescriptor(this,t[n]).configurable===!1){var r=t[n],i=this[r];i&&(Array.isArray(i)?e.push({key:r,value:zF(i,this.objId,this.scope)}):i instanceof Bo?(i.scope=this.scope,e.push({key:r,value:i.objId+" 0 R"})):typeof i!="function"&&e.push({key:r,value:i}))}return e};var $F=function(){Bo.call(this),Object.defineProperty(this,"Type",{value:"/XObject",configurable:!1,writable:!0}),Object.defineProperty(this,"Subtype",{value:"/Form",configurable:!1,writable:!0}),Object.defineProperty(this,"FormType",{value:1,configurable:!1,writable:!0});var e,t=[];Object.defineProperty(this,"BBox",{configurable:!1,get:function(){return t},set:function(n){t=n}}),Object.defineProperty(this,"Resources",{value:"2 0 R",configurable:!1,writable:!0}),Object.defineProperty(this,"stream",{enumerable:!1,configurable:!0,set:function(n){e=n.trim()},get:function(){return e||null}})};Ta($F,Bo);var UF=function(){Bo.call(this);var e,t=[];Object.defineProperty(this,"Kids",{enumerable:!1,configurable:!0,get:function(){return t.length>0?t:void 0}}),Object.defineProperty(this,"Fields",{enumerable:!1,configurable:!1,get:function(){return t}}),Object.defineProperty(this,"DA",{enumerable:!1,configurable:!1,get:function(){if(e){var n=function(r){return r};return this.scope&&(n=this.scope.internal.getEncryptor(this.objId)),"("+Hd(n(e))+")"}},set:function(n){e=n}})};Ta(UF,Bo);var ho=function e(){Bo.call(this);var t=4;Object.defineProperty(this,"F",{enumerable:!1,configurable:!1,get:function(){return t},set:function(x){if(isNaN(x))throw new Error('Invalid value "'+x+'" for attribute F supplied.');t=x}}),Object.defineProperty(this,"showWhenPrinted",{enumerable:!0,configurable:!0,get:function(){return!!Nr(t,3)},set:function(x){x?this.F=kr(t,3):this.F=Tr(t,3)}});var n=0;Object.defineProperty(this,"Ff",{enumerable:!1,configurable:!1,get:function(){return n},set:function(x){if(isNaN(x))throw new Error('Invalid value "'+x+'" for attribute Ff supplied.');n=x}});var r=[];Object.defineProperty(this,"Rect",{enumerable:!1,configurable:!1,get:function(){if(r.length!==0)return r},set:function(x){r=x!==void 0?x:[]}}),Object.defineProperty(this,"x",{enumerable:!0,configurable:!0,get:function(){return!r||isNaN(r[0])?0:r[0]},set:function(x){r[0]=x}}),Object.defineProperty(this,"y",{enumerable:!0,configurable:!0,get:function(){return!r||isNaN(r[1])?0:r[1]},set:function(x){r[1]=x}}),Object.defineProperty(this,"width",{enumerable:!0,configurable:!0,get:function(){return!r||isNaN(r[2])?0:r[2]},set:function(x){r[2]=x}}),Object.defineProperty(this,"height",{enumerable:!0,configurable:!0,get:function(){return!r||isNaN(r[3])?0:r[3]},set:function(x){r[3]=x}});var i="";Object.defineProperty(this,"FT",{enumerable:!0,configurable:!1,get:function(){return i},set:function(x){switch(x){case"/Btn":case"/Tx":case"/Ch":case"/Sig":i=x;break;default:throw new Error('Invalid value "'+x+'" for attribute FT supplied.')}}});var a=null;Object.defineProperty(this,"T",{enumerable:!0,configurable:!1,get:function(){if(!a||a.length<1){if(this instanceof ay)return;a="FieldObject"+e.FieldNum++}var x=function(w){return w};return this.scope&&(x=this.scope.internal.getEncryptor(this.objId)),"("+Hd(x(a))+")"},set:function(x){a=x.toString()}}),Object.defineProperty(this,"fieldName",{configurable:!0,enumerable:!0,get:function(){return a},set:function(x){a=x}});var s="helvetica";Object.defineProperty(this,"fontName",{enumerable:!0,configurable:!0,get:function(){return s},set:function(x){s=x}});var o="normal";Object.defineProperty(this,"fontStyle",{enumerable:!0,configurable:!0,get:function(){return o},set:function(x){o=x}});var l=0;Object.defineProperty(this,"fontSize",{enumerable:!0,configurable:!0,get:function(){return l},set:function(x){l=x}});var u=void 0;Object.defineProperty(this,"maxFontSize",{enumerable:!0,configurable:!0,get:function(){return u===void 0?50/OA:u},set:function(x){u=x}});var c="black";Object.defineProperty(this,"color",{enumerable:!0,configurable:!0,get:function(){return c},set:function(x){c=x}});var d="/F1 0 Tf 0 g";Object.defineProperty(this,"DA",{enumerable:!0,configurable:!1,get:function(){if(!(!d||this instanceof ay||this instanceof md))return Tw(d,this.objId,this.scope)},set:function(x){x=x.toString(),d=x}});var p=null;Object.defineProperty(this,"DV",{enumerable:!1,configurable:!1,get:function(){if(p)return this instanceof oi==0?Tw(p,this.objId,this.scope):p},set:function(x){x=x.toString(),p=this instanceof oi==0?x.substr(0,1)==="("?af(x.substr(1,x.length-2)):af(x):x}}),Object.defineProperty(this,"defaultValue",{enumerable:!0,configurable:!0,get:function(){return this instanceof oi==1?af(p.substr(1,p.length-1)):p},set:function(x){x=x.toString(),p=this instanceof oi==1?"/"+x:x}});var f=null;Object.defineProperty(this,"_V",{enumerable:!1,configurable:!1,get:function(){if(f)return f},set:function(x){this.V=x}}),Object.defineProperty(this,"V",{enumerable:!1,configurable:!1,get:function(){if(f)return this instanceof oi==0?Tw(f,this.objId,this.scope):f},set:function(x){x=x.toString(),f=this instanceof oi==0?x.substr(0,1)==="("?af(x.substr(1,x.length-2)):af(x):x}}),Object.defineProperty(this,"value",{enumerable:!0,configurable:!0,get:function(){return this instanceof oi==1?af(f.substr(1,f.length-1)):f},set:function(x){x=x.toString(),f=this instanceof oi==1?"/"+x:x}}),Object.defineProperty(this,"hasAnnotation",{enumerable:!0,configurable:!0,get:function(){return this.Rect}}),Object.defineProperty(this,"Type",{enumerable:!0,configurable:!1,get:function(){return this.hasAnnotation?"/Annot":null}}),Object.defineProperty(this,"Subtype",{enumerable:!0,configurable:!1,get:function(){return this.hasAnnotation?"/Widget":null}});var g,v=!1;Object.defineProperty(this,"hasAppearanceStream",{enumerable:!0,configurable:!0,get:function(){return v},set:function(x){x=!!x,v=x}}),Object.defineProperty(this,"page",{enumerable:!0,configurable:!0,get:function(){if(g)return g},set:function(x){g=x}}),Object.defineProperty(this,"readOnly",{enumerable:!0,configurable:!0,get:function(){return!!Nr(this.Ff,1)},set:function(x){x?this.Ff=kr(this.Ff,1):this.Ff=Tr(this.Ff,1)}}),Object.defineProperty(this,"required",{enumerable:!0,configurable:!0,get:function(){return!!Nr(this.Ff,2)},set:function(x){x?this.Ff=kr(this.Ff,2):this.Ff=Tr(this.Ff,2)}}),Object.defineProperty(this,"noExport",{enumerable:!0,configurable:!0,get:function(){return!!Nr(this.Ff,3)},set:function(x){x?this.Ff=kr(this.Ff,3):this.Ff=Tr(this.Ff,3)}});var b=null;Object.defineProperty(this,"Q",{enumerable:!0,configurable:!1,get:function(){if(b!==null)return b},set:function(x){if([0,1,2].indexOf(x)===-1)throw new Error('Invalid value "'+x+'" for attribute Q supplied.');b=x}}),Object.defineProperty(this,"textAlign",{get:function(){var x;switch(b){case 0:default:x="left";break;case 1:x="center";break;case 2:x="right"}return x},configurable:!0,enumerable:!0,set:function(x){switch(x){case"right":case 2:b=2;break;case"center":case 1:b=1;break;default:b=0}}})};Ta(ho,Bo);var qf=function(){ho.call(this),this.FT="/Ch",this.V="()",this.fontName="zapfdingbats";var e=0;Object.defineProperty(this,"TI",{enumerable:!0,configurable:!1,get:function(){return e},set:function(n){e=n}}),Object.defineProperty(this,"topIndex",{enumerable:!0,configurable:!0,get:function(){return e},set:function(n){e=n}});var t=[];Object.defineProperty(this,"Opt",{enumerable:!0,configurable:!1,get:function(){return zF(t,this.objId,this.scope)},set:function(n){var r,i;i=[],typeof(r=n)=="string"&&(i=function(a,s,o){o||(o=1);for(var l,u=[];l=s.exec(a);)u.push(l[o]);return u}(r,/\((.*?)\)/g)),t=i}}),this.getOptions=function(){return t},this.setOptions=function(n){t=n,this.sort&&t.sort()},this.addOption=function(n){n=(n=n||"").toString(),t.push(n),this.sort&&t.sort()},this.removeOption=function(n,r){for(r=r||!1,n=(n=n||"").toString();t.indexOf(n)!==-1&&(t.splice(t.indexOf(n),1),r!==!1););},Object.defineProperty(this,"combo",{enumerable:!0,configurable:!0,get:function(){return!!Nr(this.Ff,18)},set:function(n){n?this.Ff=kr(this.Ff,18):this.Ff=Tr(this.Ff,18)}}),Object.defineProperty(this,"edit",{enumerable:!0,configurable:!0,get:function(){return!!Nr(this.Ff,19)},set:function(n){this.combo===!0&&(n?this.Ff=kr(this.Ff,19):this.Ff=Tr(this.Ff,19))}}),Object.defineProperty(this,"sort",{enumerable:!0,configurable:!0,get:function(){return!!Nr(this.Ff,20)},set:function(n){n?(this.Ff=kr(this.Ff,20),t.sort()):this.Ff=Tr(this.Ff,20)}}),Object.defineProperty(this,"multiSelect",{enumerable:!0,configurable:!0,get:function(){return!!Nr(this.Ff,22)},set:function(n){n?this.Ff=kr(this.Ff,22):this.Ff=Tr(this.Ff,22)}}),Object.defineProperty(this,"doNotSpellCheck",{enumerable:!0,configurable:!0,get:function(){return!!Nr(this.Ff,23)},set:function(n){n?this.Ff=kr(this.Ff,23):this.Ff=Tr(this.Ff,23)}}),Object.defineProperty(this,"commitOnSelChange",{enumerable:!0,configurable:!0,get:function(){return!!Nr(this.Ff,27)},set:function(n){n?this.Ff=kr(this.Ff,27):this.Ff=Tr(this.Ff,27)}}),this.hasAppearanceStream=!1};Ta(qf,ho);var Hf=function(){qf.call(this),this.fontName="helvetica",this.combo=!1};Ta(Hf,qf);var Kf=function(){Hf.call(this),this.combo=!0};Ta(Kf,Hf);var J1=function(){Kf.call(this),this.edit=!0};Ta(J1,Kf);var oi=function(){ho.call(this),this.FT="/Btn",Object.defineProperty(this,"noToggleToOff",{enumerable:!0,configurable:!0,get:function(){return!!Nr(this.Ff,15)},set:function(n){n?this.Ff=kr(this.Ff,15):this.Ff=Tr(this.Ff,15)}}),Object.defineProperty(this,"radio",{enumerable:!0,configurable:!0,get:function(){return!!Nr(this.Ff,16)},set:function(n){n?this.Ff=kr(this.Ff,16):this.Ff=Tr(this.Ff,16)}}),Object.defineProperty(this,"pushButton",{enumerable:!0,configurable:!0,get:function(){return!!Nr(this.Ff,17)},set:function(n){n?this.Ff=kr(this.Ff,17):this.Ff=Tr(this.Ff,17)}}),Object.defineProperty(this,"radioIsUnison",{enumerable:!0,configurable:!0,get:function(){return!!Nr(this.Ff,26)},set:function(n){n?this.Ff=kr(this.Ff,26):this.Ff=Tr(this.Ff,26)}});var e,t={};Object.defineProperty(this,"MK",{enumerable:!1,configurable:!1,get:function(){var n=function(a){return a};if(this.scope&&(n=this.scope.internal.getEncryptor(this.objId)),Object.keys(t).length!==0){var r,i=[];for(r in i.push("<<"),t)i.push("/"+r+" ("+Hd(n(t[r]))+")");return i.push(">>"),i.join(`
`)}},set:function(n){gn(n)==="object"&&(t=n)}}),Object.defineProperty(this,"caption",{enumerable:!0,configurable:!0,get:function(){return t.CA||""},set:function(n){typeof n=="string"&&(t.CA=n)}}),Object.defineProperty(this,"AS",{enumerable:!1,configurable:!1,get:function(){return e},set:function(n){e=n}}),Object.defineProperty(this,"appearanceState",{enumerable:!0,configurable:!0,get:function(){return e.substr(1,e.length-1)},set:function(n){e="/"+n}})};Ta(oi,ho);var ev=function(){oi.call(this),this.pushButton=!0};Ta(ev,oi);var Gf=function(){oi.call(this),this.radio=!0,this.pushButton=!1;var e=[];Object.defineProperty(this,"Kids",{enumerable:!0,configurable:!1,get:function(){return e},set:function(t){e=t!==void 0?t:[]}})};Ta(Gf,oi);var ay=function(){var e,t;ho.call(this),Object.defineProperty(this,"Parent",{enumerable:!1,configurable:!1,get:function(){return e},set:function(i){e=i}}),Object.defineProperty(this,"optionName",{enumerable:!1,configurable:!0,get:function(){return t},set:function(i){t=i}});var n,r={};Object.defineProperty(this,"MK",{enumerable:!1,configurable:!1,get:function(){var i=function(o){return o};this.scope&&(i=this.scope.internal.getEncryptor(this.objId));var a,s=[];for(a in s.push("<<"),r)s.push("/"+a+" ("+Hd(i(r[a]))+")");return s.push(">>"),s.join(`
`)},set:function(i){gn(i)==="object"&&(r=i)}}),Object.defineProperty(this,"caption",{enumerable:!0,configurable:!0,get:function(){return r.CA||""},set:function(i){typeof i=="string"&&(r.CA=i)}}),Object.defineProperty(this,"AS",{enumerable:!1,configurable:!1,get:function(){return n},set:function(i){n=i}}),Object.defineProperty(this,"appearanceState",{enumerable:!0,configurable:!0,get:function(){return n.substr(1,n.length-1)},set:function(i){n="/"+i}}),this.caption="l",this.appearanceState="Off",this._AppearanceType=Qe.RadioButton.Circle,this.appearanceStreamContent=this._AppearanceType.createAppearanceStream(this.optionName)};Ta(ay,ho),Gf.prototype.setAppearance=function(e){if(!("createAppearanceStream"in e)||!("getCA"in e))throw new Error("Couldn't assign Appearance to RadioButton. Appearance was Invalid!");for(var t in this.Kids)if(this.Kids.hasOwnProperty(t)){var n=this.Kids[t];n.appearanceStreamContent=e.createAppearanceStream(n.optionName),n.caption=e.getCA()}},Gf.prototype.createOption=function(e){var t=new ay;return t.Parent=this,t.optionName=e,this.Kids.push(t),yue.call(this.scope,t),t};var tv=function(){oi.call(this),this.fontName="zapfdingbats",this.caption="3",this.appearanceState="On",this.value="On",this.textAlign="center",this.appearanceStreamContent=Qe.CheckBox.createAppearanceStream()};Ta(tv,oi);var md=function(){ho.call(this),this.FT="/Tx",Object.defineProperty(this,"multiline",{enumerable:!0,configurable:!0,get:function(){return!!Nr(this.Ff,13)},set:function(t){t?this.Ff=kr(this.Ff,13):this.Ff=Tr(this.Ff,13)}}),Object.defineProperty(this,"fileSelect",{enumerable:!0,configurable:!0,get:function(){return!!Nr(this.Ff,21)},set:function(t){t?this.Ff=kr(this.Ff,21):this.Ff=Tr(this.Ff,21)}}),Object.defineProperty(this,"doNotSpellCheck",{enumerable:!0,configurable:!0,get:function(){return!!Nr(this.Ff,23)},set:function(t){t?this.Ff=kr(this.Ff,23):this.Ff=Tr(this.Ff,23)}}),Object.defineProperty(this,"doNotScroll",{enumerable:!0,configurable:!0,get:function(){return!!Nr(this.Ff,24)},set:function(t){t?this.Ff=kr(this.Ff,24):this.Ff=Tr(this.Ff,24)}}),Object.defineProperty(this,"comb",{enumerable:!0,configurable:!0,get:function(){return!!Nr(this.Ff,25)},set:function(t){t?this.Ff=kr(this.Ff,25):this.Ff=Tr(this.Ff,25)}}),Object.defineProperty(this,"richText",{enumerable:!0,configurable:!0,get:function(){return!!Nr(this.Ff,26)},set:function(t){t?this.Ff=kr(this.Ff,26):this.Ff=Tr(this.Ff,26)}});var e=null;Object.defineProperty(this,"MaxLen",{enumerable:!0,configurable:!1,get:function(){return e},set:function(t){e=t}}),Object.defineProperty(this,"maxLength",{enumerable:!0,configurable:!0,get:function(){return e},set:function(t){Number.isInteger(t)&&(e=t)}}),Object.defineProperty(this,"hasAppearanceStream",{enumerable:!0,configurable:!0,get:function(){return this.V||this.DV}})};Ta(md,ho);var nv=function(){md.call(this),Object.defineProperty(this,"password",{enumerable:!0,configurable:!0,get:function(){return!!Nr(this.Ff,14)},set:function(e){e?this.Ff=kr(this.Ff,14):this.Ff=Tr(this.Ff,14)}}),this.password=!0};Ta(nv,md);var Qe={CheckBox:{createAppearanceStream:function(){return{N:{On:Qe.CheckBox.YesNormal},D:{On:Qe.CheckBox.YesPushDown,Off:Qe.CheckBox.OffPushDown}}},YesPushDown:function(e){var t=Mo(e);t.scope=e.scope;var n=[],r=e.scope.internal.getFont(e.fontName,e.fontStyle).id,i=e.scope.__private__.encodeColorString(e.color),a=s3(e,e.caption);return n.push("0.749023 g"),n.push("0 0 "+Tt(Qe.internal.getWidth(e))+" "+Tt(Qe.internal.getHeight(e))+" re"),n.push("f"),n.push("BMC"),n.push("q"),n.push("0 0 1 rg"),n.push("/"+r+" "+Tt(a.fontSize)+" Tf "+i),n.push("BT"),n.push(a.text),n.push("ET"),n.push("Q"),n.push("EMC"),t.stream=n.join(`
`),t},YesNormal:function(e){var t=Mo(e);t.scope=e.scope;var n=e.scope.internal.getFont(e.fontName,e.fontStyle).id,r=e.scope.__private__.encodeColorString(e.color),i=[],a=Qe.internal.getHeight(e),s=Qe.internal.getWidth(e),o=s3(e,e.caption);return i.push("1 g"),i.push("0 0 "+Tt(s)+" "+Tt(a)+" re"),i.push("f"),i.push("q"),i.push("0 0 1 rg"),i.push("0 0 "+Tt(s-1)+" "+Tt(a-1)+" re"),i.push("W"),i.push("n"),i.push("0 g"),i.push("BT"),i.push("/"+n+" "+Tt(o.fontSize)+" Tf "+r),i.push(o.text),i.push("ET"),i.push("Q"),t.stream=i.join(`
`),t},OffPushDown:function(e){var t=Mo(e);t.scope=e.scope;var n=[];return n.push("0.749023 g"),n.push("0 0 "+Tt(Qe.internal.getWidth(e))+" "+Tt(Qe.internal.getHeight(e))+" re"),n.push("f"),t.stream=n.join(`
`),t}},RadioButton:{Circle:{createAppearanceStream:function(e){var t={D:{Off:Qe.RadioButton.Circle.OffPushDown},N:{}};return t.N[e]=Qe.RadioButton.Circle.YesNormal,t.D[e]=Qe.RadioButton.Circle.YesPushDown,t},getCA:function(){return"l"},YesNormal:function(e){var t=Mo(e);t.scope=e.scope;var n=[],r=Qe.internal.getWidth(e)<=Qe.internal.getHeight(e)?Qe.internal.getWidth(e)/4:Qe.internal.getHeight(e)/4;r=Number((.9*r).toFixed(5));var i=Qe.internal.Bezier_C,a=Number((r*i).toFixed(5));return n.push("q"),n.push("1 0 0 1 "+Nu(Qe.internal.getWidth(e)/2)+" "+Nu(Qe.internal.getHeight(e)/2)+" cm"),n.push(r+" 0 m"),n.push(r+" "+a+" "+a+" "+r+" 0 "+r+" c"),n.push("-"+a+" "+r+" -"+r+" "+a+" -"+r+" 0 c"),n.push("-"+r+" -"+a+" -"+a+" -"+r+" 0 -"+r+" c"),n.push(a+" -"+r+" "+r+" -"+a+" "+r+" 0 c"),n.push("f"),n.push("Q"),t.stream=n.join(`
`),t},YesPushDown:function(e){var t=Mo(e);t.scope=e.scope;var n=[],r=Qe.internal.getWidth(e)<=Qe.internal.getHeight(e)?Qe.internal.getWidth(e)/4:Qe.internal.getHeight(e)/4;r=Number((.9*r).toFixed(5));var i=Number((2*r).toFixed(5)),a=Number((i*Qe.internal.Bezier_C).toFixed(5)),s=Number((r*Qe.internal.Bezier_C).toFixed(5));return n.push("0.749023 g"),n.push("q"),n.push("1 0 0 1 "+Nu(Qe.internal.getWidth(e)/2)+" "+Nu(Qe.internal.getHeight(e)/2)+" cm"),n.push(i+" 0 m"),n.push(i+" "+a+" "+a+" "+i+" 0 "+i+" c"),n.push("-"+a+" "+i+" -"+i+" "+a+" -"+i+" 0 c"),n.push("-"+i+" -"+a+" -"+a+" -"+i+" 0 -"+i+" c"),n.push(a+" -"+i+" "+i+" -"+a+" "+i+" 0 c"),n.push("f"),n.push("Q"),n.push("0 g"),n.push("q"),n.push("1 0 0 1 "+Nu(Qe.internal.getWidth(e)/2)+" "+Nu(Qe.internal.getHeight(e)/2)+" cm"),n.push(r+" 0 m"),n.push(r+" "+s+" "+s+" "+r+" 0 "+r+" c"),n.push("-"+s+" "+r+" -"+r+" "+s+" -"+r+" 0 c"),n.push("-"+r+" -"+s+" -"+s+" -"+r+" 0 -"+r+" c"),n.push(s+" -"+r+" "+r+" -"+s+" "+r+" 0 c"),n.push("f"),n.push("Q"),t.stream=n.join(`
`),t},OffPushDown:function(e){var t=Mo(e);t.scope=e.scope;var n=[],r=Qe.internal.getWidth(e)<=Qe.internal.getHeight(e)?Qe.internal.getWidth(e)/4:Qe.internal.getHeight(e)/4;r=Number((.9*r).toFixed(5));var i=Number((2*r).toFixed(5)),a=Number((i*Qe.internal.Bezier_C).toFixed(5));return n.push("0.749023 g"),n.push("q"),n.push("1 0 0 1 "+Nu(Qe.internal.getWidth(e)/2)+" "+Nu(Qe.internal.getHeight(e)/2)+" cm"),n.push(i+" 0 m"),n.push(i+" "+a+" "+a+" "+i+" 0 "+i+" c"),n.push("-"+a+" "+i+" -"+i+" "+a+" -"+i+" 0 c"),n.push("-"+i+" -"+a+" -"+a+" -"+i+" 0 -"+i+" c"),n.push(a+" -"+i+" "+i+" -"+a+" "+i+" 0 c"),n.push("f"),n.push("Q"),t.stream=n.join(`
`),t}},Cross:{createAppearanceStream:function(e){var t={D:{Off:Qe.RadioButton.Cross.OffPushDown},N:{}};return t.N[e]=Qe.RadioButton.Cross.YesNormal,t.D[e]=Qe.RadioButton.Cross.YesPushDown,t},getCA:function(){return"8"},YesNormal:function(e){var t=Mo(e);t.scope=e.scope;var n=[],r=Qe.internal.calculateCross(e);return n.push("q"),n.push("1 1 "+Tt(Qe.internal.getWidth(e)-2)+" "+Tt(Qe.internal.getHeight(e)-2)+" re"),n.push("W"),n.push("n"),n.push(Tt(r.x1.x)+" "+Tt(r.x1.y)+" m"),n.push(Tt(r.x2.x)+" "+Tt(r.x2.y)+" l"),n.push(Tt(r.x4.x)+" "+Tt(r.x4.y)+" m"),n.push(Tt(r.x3.x)+" "+Tt(r.x3.y)+" l"),n.push("s"),n.push("Q"),t.stream=n.join(`
`),t},YesPushDown:function(e){var t=Mo(e);t.scope=e.scope;var n=Qe.internal.calculateCross(e),r=[];return r.push("0.749023 g"),r.push("0 0 "+Tt(Qe.internal.getWidth(e))+" "+Tt(Qe.internal.getHeight(e))+" re"),r.push("f"),r.push("q"),r.push("1 1 "+Tt(Qe.internal.getWidth(e)-2)+" "+Tt(Qe.internal.getHeight(e)-2)+" re"),r.push("W"),r.push("n"),r.push(Tt(n.x1.x)+" "+Tt(n.x1.y)+" m"),r.push(Tt(n.x2.x)+" "+Tt(n.x2.y)+" l"),r.push(Tt(n.x4.x)+" "+Tt(n.x4.y)+" m"),r.push(Tt(n.x3.x)+" "+Tt(n.x3.y)+" l"),r.push("s"),r.push("Q"),t.stream=r.join(`
`),t},OffPushDown:function(e){var t=Mo(e);t.scope=e.scope;var n=[];return n.push("0.749023 g"),n.push("0 0 "+Tt(Qe.internal.getWidth(e))+" "+Tt(Qe.internal.getHeight(e))+" re"),n.push("f"),t.stream=n.join(`
`),t}}},createDefaultAppearanceStream:function(e){var t=e.scope.internal.getFont(e.fontName,e.fontStyle).id,n=e.scope.__private__.encodeColorString(e.color);return"/"+t+" "+e.fontSize+" Tf "+n}};Qe.internal={Bezier_C:.551915024494,calculateCross:function(e){var t=Qe.internal.getWidth(e),n=Qe.internal.getHeight(e),r=Math.min(t,n);return{x1:{x:(t-r)/2,y:(n-r)/2+r},x2:{x:(t-r)/2+r,y:(n-r)/2},x3:{x:(t-r)/2,y:(n-r)/2},x4:{x:(t-r)/2+r,y:(n-r)/2+r}}}},Qe.internal.getWidth=function(e){var t=0;return gn(e)==="object"&&(t=h8(e.Rect[2])),t},Qe.internal.getHeight=function(e){var t=0;return gn(e)==="object"&&(t=h8(e.Rect[3])),t};var yue=dr.addField=function(e){if(vue(this,e),!(e instanceof ho))throw new Error("Invalid argument passed to jsPDF.addField.");var t;return(t=e).scope.internal.acroformPlugin.printedOut&&(t.scope.internal.acroformPlugin.printedOut=!1,t.scope.internal.acroformPlugin.acroFormDictionaryRoot=null),t.scope.internal.acroformPlugin.acroFormDictionaryRoot.Fields.push(t),e.page=e.scope.internal.getCurrentPageInfo().pageNumber,this};dr.AcroFormChoiceField=qf,dr.AcroFormListBox=Hf,dr.AcroFormComboBox=Kf,dr.AcroFormEditBox=J1,dr.AcroFormButton=oi,dr.AcroFormPushButton=ev,dr.AcroFormRadioButton=Gf,dr.AcroFormCheckBox=tv,dr.AcroFormTextField=md,dr.AcroFormPasswordField=nv,dr.AcroFormAppearance=Qe,dr.AcroForm={ChoiceField:qf,ListBox:Hf,ComboBox:Kf,EditBox:J1,Button:oi,PushButton:ev,RadioButton:Gf,CheckBox:tv,TextField:md,PasswordField:nv,Appearance:Qe},ut.AcroForm={ChoiceField:qf,ListBox:Hf,ComboBox:Kf,EditBox:J1,Button:oi,PushButton:ev,RadioButton:Gf,CheckBox:tv,TextField:md,PasswordField:nv,Appearance:Qe};ut.AcroForm;function WF(e){return e.reduce(function(t,n,r){return t[n]=r,t},{})}(function(e){var t="addImage_";e.__addimage__={};var n="UNKNOWN",r={PNG:[[137,80,78,71]],TIFF:[[77,77,0,42],[73,73,42,0]],JPEG:[[255,216,255,224,void 0,void 0,74,70,73,70,0],[255,216,255,225,void 0,void 0,69,120,105,102,0,0],[255,216,255,219],[255,216,255,238]],JPEG2000:[[0,0,0,12,106,80,32,32]],GIF87a:[[71,73,70,56,55,97]],GIF89a:[[71,73,70,56,57,97]],WEBP:[[82,73,70,70,void 0,void 0,void 0,void 0,87,69,66,80]],BMP:[[66,77],[66,65],[67,73],[67,80],[73,67],[80,84]]},i=e.__addimage__.getImageFileTypeByImageData=function(N,C){var R,W,Y,ae,ie,H=n;if((C=C||n)==="RGBA"||N.data!==void 0&&N.data instanceof Uint8ClampedArray&&"height"in N&&"width"in N)return"RGBA";if(D(N))for(ie in r)for(Y=r[ie],R=0;R<Y.length;R+=1){for(ae=!0,W=0;W<Y[R].length;W+=1)if(Y[R][W]!==void 0&&Y[R][W]!==N[W]){ae=!1;break}if(ae===!0){H=ie;break}}else for(ie in r)for(Y=r[ie],R=0;R<Y.length;R+=1){for(ae=!0,W=0;W<Y[R].length;W+=1)if(Y[R][W]!==void 0&&Y[R][W]!==N.charCodeAt(W)){ae=!1;break}if(ae===!0){H=ie;break}}return H===n&&C!==n&&(H=C),H},a=function N(C){for(var R=this.internal.write,W=this.internal.putStream,Y=(0,this.internal.getFilters)();Y.indexOf("FlateEncode")!==-1;)Y.splice(Y.indexOf("FlateEncode"),1);C.objectId=this.internal.newObject();var ae=[];if(ae.push({key:"Type",value:"/XObject"}),ae.push({key:"Subtype",value:"/Image"}),ae.push({key:"Width",value:C.width}),ae.push({key:"Height",value:C.height}),C.colorSpace===x.INDEXED?ae.push({key:"ColorSpace",value:"[/Indexed /DeviceRGB "+(C.palette.length/3-1)+" "+("sMask"in C&&C.sMask!==void 0?C.objectId+2:C.objectId+1)+" 0 R]"}):(ae.push({key:"ColorSpace",value:"/"+C.colorSpace}),C.colorSpace===x.DEVICE_CMYK&&ae.push({key:"Decode",value:"[1 0 1 0 1 0 1 0]"})),ae.push({key:"BitsPerComponent",value:C.bitsPerComponent}),"decodeParameters"in C&&C.decodeParameters!==void 0&&ae.push({key:"DecodeParms",value:"<<"+C.decodeParameters+">>"}),"transparency"in C&&Array.isArray(C.transparency)&&C.transparency.length>0){for(var ie="",H=0,se=C.transparency.length;H<se;H++)ie+=C.transparency[H]+" "+C.transparency[H]+" ";ae.push({key:"Mask",value:"["+ie+"]"})}C.sMask!==void 0&&ae.push({key:"SMask",value:C.objectId+1+" 0 R"});var ye=C.filter!==void 0?["/"+C.filter]:void 0;if(W({data:C.data,additionalKeyValues:ae,alreadyAppliedFilters:ye,objectId:C.objectId}),R("endobj"),"sMask"in C&&C.sMask!==void 0){var be,$=(be=C.sMaskBitsPerComponent)!==null&&be!==void 0?be:C.bitsPerComponent,X={width:C.width,height:C.height,colorSpace:"DeviceGray",bitsPerComponent:$,data:C.sMask};"filter"in C&&(X.decodeParameters="/Predictor ".concat(C.predictor," /Colors 1 /BitsPerComponent ").concat($," /Columns ").concat(C.width),X.filter=C.filter),N.call(this,X)}if(C.colorSpace===x.INDEXED){var re=this.internal.newObject();W({data:k(new Uint8Array(C.palette)),objectId:re}),R("endobj")}},s=function(){var N=this.internal.collections[t+"images"];for(var C in N)a.call(this,N[C])},o=function(){var N,C=this.internal.collections[t+"images"],R=this.internal.write;for(var W in C)R("/I"+(N=C[W]).index,N.objectId,"0","R")},l=function(){this.internal.collections[t+"images"]||(this.internal.collections[t+"images"]={},this.internal.events.subscribe("putResources",s),this.internal.events.subscribe("putXobjectDict",o))},u=function(){var N=this.internal.collections[t+"images"];return l.call(this),N},c=function(){return Object.keys(this.internal.collections[t+"images"]).length},d=function(N){return typeof e["process"+N.toUpperCase()]=="function"},p=function(N){return gn(N)==="object"&&N.nodeType===1},f=function(N,C){if(N.nodeName==="IMG"&&N.hasAttribute("src")){var R=""+N.getAttribute("src");if(R.indexOf("data:image/")===0)return Z1(unescape(R).split("base64,").pop());var W=e.loadFile(R,!0);if(W!==void 0)return W}if(N.nodeName==="CANVAS"){if(N.width===0||N.height===0)throw new Error("Given canvas must have data. Canvas width: "+N.width+", height: "+N.height);var Y;switch(C){case"PNG":Y="image/png";break;case"WEBP":Y="image/webp";break;default:Y="image/jpeg"}return Z1(N.toDataURL(Y,1).split("base64,").pop())}},g=function(N){var C=this.internal.collections[t+"images"];if(C){for(var R in C)if(N===C[R].alias)return C[R]}},v=function(N,C,R){return N||C||(N=-96,C=-96),N<0&&(N=-1*R.width*72/N/this.internal.scaleFactor),C<0&&(C=-1*R.height*72/C/this.internal.scaleFactor),N===0&&(N=C*R.width/R.height),C===0&&(C=N*R.height/R.width),[N,C]},b=function(N,C,R,W,Y,ae){var ie=v.call(this,R,W,Y),H=this.internal.getCoordinateString,se=this.internal.getVerticalCoordinateString,ye=u.call(this);if(R=ie[0],W=ie[1],ye[Y.index]=Y,ae){ae*=Math.PI/180;var be=Math.cos(ae),$=Math.sin(ae),X=function(oe){return oe.toFixed(4)},re=[X(be),X($),X(-1*$),X(be),0,0,"cm"]}this.internal.write("q"),ae?(this.internal.write([1,"0","0",1,H(N),se(C+W),"cm"].join(" ")),this.internal.write(re.join(" ")),this.internal.write([H(R),"0","0",H(W),"0","0","cm"].join(" "))):this.internal.write([H(R),"0","0",H(W),H(N),se(C+W),"cm"].join(" ")),this.isAdvancedAPI()&&this.internal.write([1,0,0,-1,0,0,"cm"].join(" ")),this.internal.write("/I"+Y.index+" Do"),this.internal.write("Q")},x=e.color_spaces={DEVICE_RGB:"DeviceRGB",DEVICE_GRAY:"DeviceGray",DEVICE_CMYK:"DeviceCMYK",CAL_GREY:"CalGray",CAL_RGB:"CalRGB",LAB:"Lab",ICC_BASED:"ICCBased",INDEXED:"Indexed",PATTERN:"Pattern",SEPARATION:"Separation",DEVICE_N:"DeviceN"};e.decode={DCT_DECODE:"DCTDecode",FLATE_DECODE:"FlateDecode",LZW_DECODE:"LZWDecode",JPX_DECODE:"JPXDecode",JBIG2_DECODE:"JBIG2Decode",ASCII85_DECODE:"ASCII85Decode",ASCII_HEX_DECODE:"ASCIIHexDecode",RUN_LENGTH_DECODE:"RunLengthDecode",CCITT_FAX_DECODE:"CCITTFaxDecode"};var w=e.image_compression={NONE:"NONE",FAST:"FAST",MEDIUM:"MEDIUM",SLOW:"SLOW"},A=e.__addimage__.sHashCode=function(N){var C,R,W=0;if(typeof N=="string")for(R=N.length,C=0;C<R;C++)W=(W<<5)-W+N.charCodeAt(C),W|=0;else if(D(N))for(R=N.byteLength/2,C=0;C<R;C++)W=(W<<5)-W+N[C],W|=0;return W},P=e.__addimage__.validateStringAsBase64=function(N){(N=N||"").toString().trim();var C=!0;return N.length===0&&(C=!1),N.length%4!=0&&(C=!1),/^[A-Za-z0-9+/]+$/.test(N.substr(0,N.length-2))===!1&&(C=!1),/^[A-Za-z0-9/][A-Za-z0-9+/]|[A-Za-z0-9+/]=|==$/.test(N.substr(-2))===!1&&(C=!1),C},O=e.__addimage__.extractImageFromDataUrl=function(N){if(N==null||!(N=N.trim()).startsWith("data:"))return null;var C=N.indexOf(",");return C<0?null:N.substring(0,C).trim().endsWith("base64")?N.substring(C+1):null};e.__addimage__.isArrayBuffer=function(N){return N instanceof ArrayBuffer};var D=e.__addimage__.isArrayBufferView=function(N){return N instanceof Int8Array||N instanceof Uint8Array||N instanceof Uint8ClampedArray||N instanceof Int16Array||N instanceof Uint16Array||N instanceof Int32Array||N instanceof Uint32Array||N instanceof Float32Array||N instanceof Float64Array},T=e.__addimage__.binaryStringToUint8Array=function(N){for(var C=N.length,R=new Uint8Array(C),W=0;W<C;W++)R[W]=N.charCodeAt(W);return R},k=e.__addimage__.arrayBufferToBinaryString=function(N){for(var C="",R=D(N)?N:new Uint8Array(N),W=0;W<R.length;W+=8192)C+=String.fromCharCode.apply(null,R.subarray(W,W+8192));return C};e.addImage=function(){var N,C,R,W,Y,ae,ie,H,se;if(typeof arguments[1]=="number"?(C=n,R=arguments[1],W=arguments[2],Y=arguments[3],ae=arguments[4],ie=arguments[5],H=arguments[6],se=arguments[7]):(C=arguments[1],R=arguments[2],W=arguments[3],Y=arguments[4],ae=arguments[5],ie=arguments[6],H=arguments[7],se=arguments[8]),gn(N=arguments[0])==="object"&&!p(N)&&"imageData"in N){var ye=N;N=ye.imageData,C=ye.format||C||n,R=ye.x||R||0,W=ye.y||W||0,Y=ye.w||ye.width||Y,ae=ye.h||ye.height||ae,ie=ye.alias||ie,H=ye.compression||H,se=ye.rotation||ye.angle||se}var be=this.internal.getFilters();if(H===void 0&&be.indexOf("FlateEncode")!==-1&&(H="SLOW"),isNaN(R)||isNaN(W))throw new Error("Invalid coordinates passed to jsPDF.addImage");l.call(this);var $=I.call(this,N,C,ie,H);return b.call(this,R,W,Y,ae,$,se),this};var I=function(N,C,R,W){var Y,ae,ie;if(typeof N=="string"&&i(N)===n){N=unescape(N);var H=M(N,!1);(H!==""||(H=e.loadFile(N,!0))!==void 0)&&(N=H)}if(p(N)&&(N=f(N,C)),C=i(N,C),!d(C))throw new Error("addImage does not support files of type '"+C+"', please ensure that a plugin for '"+C+"' support is added.");if(((ie=R)==null||ie.length===0)&&(R=function(se){return typeof se=="string"||D(se)?A(se):D(se.data)?A(se.data):null}(N)),(Y=g.call(this,R))||(N instanceof Uint8Array||C==="RGBA"||(ae=N,N=T(N)),Y=this["process"+C.toUpperCase()](N,c.call(this),R,function(se){return se&&typeof se=="string"&&(se=se.toUpperCase()),se in e.image_compression?se:w.NONE}(W),ae)),!Y)throw new Error("An unknown error occurred whilst processing the image.");return Y},M=e.__addimage__.convertBase64ToBinaryString=function(N,C){C=typeof C!="boolean"||C;var R,W="";if(typeof N=="string"){var Y;R=(Y=O(N))!==null&&Y!==void 0?Y:N;try{W=Z1(R)}catch(ae){if(C)throw P(R)?new Error("atob-Error in jsPDF.convertBase64ToBinaryString "+ae.message):new Error("Supplied Data is not a valid base64-String jsPDF.convertBase64ToBinaryString ")}}return W};e.getImageProperties=function(N){var C,R,W="";if(p(N)&&(N=f(N)),typeof N=="string"&&i(N)===n&&((W=M(N,!1))===""&&(W=e.loadFile(N)||""),N=W),R=i(N),!d(R))throw new Error("addImage does not support files of type '"+R+"', please ensure that a plugin for '"+R+"' support is added.");if(N instanceof Uint8Array||(N=T(N)),!(C=this["process"+R.toUpperCase()](N)))throw new Error("An unknown error occurred whilst processing the image");return C.fileType=R,C}})(ut.API),function(e){var t=function(n){if(n!==void 0&&n!="")return!0};ut.API.events.push(["addPage",function(n){this.internal.getPageInfo(n.pageNumber).pageContext.annotations=[]}]),e.events.push(["putPage",function(n){for(var r,i,a,s=this.internal.getCoordinateString,o=this.internal.getVerticalCoordinateString,l=this.internal.getPageInfoByObjId(n.objId),u=n.pageContext.annotations,c=!1,d=0;d<u.length&&!c;d++)switch((r=u[d]).type){case"link":(t(r.options.url)||t(r.options.pageNumber))&&(c=!0);break;case"reference":case"text":case"freetext":c=!0}if(c!=0){this.internal.write("/Annots [");for(var p=0;p<u.length;p++){r=u[p];var f=this.internal.pdfEscape,g=this.internal.getEncryptor(n.objId);switch(r.type){case"reference":this.internal.write(" "+r.object.objId+" 0 R ");break;case"text":var v=this.internal.newAdditionalObject(),b=this.internal.newAdditionalObject(),x=this.internal.getEncryptor(v.objId),w=r.title||"Note";a="<</Type /Annot /Subtype /Text "+(i="/Rect ["+s(r.bounds.x)+" "+o(r.bounds.y+r.bounds.h)+" "+s(r.bounds.x+r.bounds.w)+" "+o(r.bounds.y)+"] ")+"/Contents ("+f(x(r.contents))+")",a+=" /Popup "+b.objId+" 0 R",a+=" /P "+l.objId+" 0 R",a+=" /T ("+f(x(w))+") >>",v.content=a;var A=v.objId+" 0 R";a="<</Type /Annot /Subtype /Popup "+(i="/Rect ["+s(r.bounds.x+30)+" "+o(r.bounds.y+r.bounds.h)+" "+s(r.bounds.x+r.bounds.w+30)+" "+o(r.bounds.y)+"] ")+" /Parent "+A,r.open&&(a+=" /Open true"),a+=" >>",b.content=a,this.internal.write(v.objId,"0 R",b.objId,"0 R");break;case"freetext":i="/Rect ["+s(r.bounds.x)+" "+o(r.bounds.y)+" "+s(r.bounds.x+r.bounds.w)+" "+o(r.bounds.y+r.bounds.h)+"] ";var P=r.color||"#000000";a="<</Type /Annot /Subtype /FreeText "+i+"/Contents ("+f(g(r.contents))+")",a+=" /DS(font: Helvetica,sans-serif 12.0pt; text-align:left; color:#"+P+")",a+=" /Border [0 0 0]",a+=" >>",this.internal.write(a);break;case"link":if(r.options.name){var O=this.annotations._nameMap[r.options.name];r.options.pageNumber=O.page,r.options.top=O.y}else r.options.top||(r.options.top=0);if(i="/Rect ["+r.finalBounds.x+" "+r.finalBounds.y+" "+r.finalBounds.w+" "+r.finalBounds.h+"] ",a="",r.options.url)a="<</Type /Annot /Subtype /Link "+i+"/Border [0 0 0] /A <</S /URI /URI ("+f(g(r.options.url))+") >>";else if(r.options.pageNumber)switch(a="<</Type /Annot /Subtype /Link "+i+"/Border [0 0 0] /Dest ["+this.internal.getPageInfo(r.options.pageNumber).objId+" 0 R",r.options.magFactor=r.options.magFactor||"XYZ",r.options.magFactor){case"Fit":a+=" /Fit]";break;case"FitH":a+=" /FitH "+r.options.top+"]";break;case"FitV":r.options.left=r.options.left||0,a+=" /FitV "+r.options.left+"]";break;default:var D=o(r.options.top);r.options.left=r.options.left||0,r.options.zoom===void 0&&(r.options.zoom=0),a+=" /XYZ "+r.options.left+" "+D+" "+r.options.zoom+"]"}a!=""&&(a+=" >>",this.internal.write(a))}}this.internal.write("]")}}]),e.createAnnotation=function(n){var r=this.internal.getCurrentPageInfo();switch(n.type){case"link":this.link(n.bounds.x,n.bounds.y,n.bounds.w,n.bounds.h,n);break;case"text":case"freetext":r.pageContext.annotations.push(n)}},e.link=function(n,r,i,a,s){var o=this.internal.getCurrentPageInfo(),l=this.internal.getCoordinateString,u=this.internal.getVerticalCoordinateString;o.pageContext.annotations.push({finalBounds:{x:l(n),y:u(r),w:l(n+i),h:u(r+a)},options:s,type:"link"})},e.textWithLink=function(n,r,i,a){var s,o,l=this.getTextWidth(n),u=this.internal.getLineHeight()/this.internal.scaleFactor;if(a.maxWidth!==void 0){o=a.maxWidth;var c=this.splitTextToSize(n,o).length;s=Math.ceil(u*c)}else o=l,s=u;return this.text(n,r,i,a),i+=.2*u,a.align==="center"&&(r-=l/2),a.align==="right"&&(r-=l),this.link(r,i-u,o,s,a),l},e.getTextWidth=function(n){var r=this.internal.getFontSize();return this.getStringUnitWidth(n)*r/this.internal.scaleFactor}}(ut.API),function(e){var t={1569:[65152],1570:[65153,65154],1571:[65155,65156],1572:[65157,65158],1573:[65159,65160],1574:[65161,65162,65163,65164],1575:[65165,65166],1576:[65167,65168,65169,65170],1577:[65171,65172],1578:[65173,65174,65175,65176],1579:[65177,65178,65179,65180],1580:[65181,65182,65183,65184],1581:[65185,65186,65187,65188],1582:[65189,65190,65191,65192],1583:[65193,65194],1584:[65195,65196],1585:[65197,65198],1586:[65199,65200],1587:[65201,65202,65203,65204],1588:[65205,65206,65207,65208],1589:[65209,65210,65211,65212],1590:[65213,65214,65215,65216],1591:[65217,65218,65219,65220],1592:[65221,65222,65223,65224],1593:[65225,65226,65227,65228],1594:[65229,65230,65231,65232],1601:[65233,65234,65235,65236],1602:[65237,65238,65239,65240],1603:[65241,65242,65243,65244],1604:[65245,65246,65247,65248],1605:[65249,65250,65251,65252],1606:[65253,65254,65255,65256],1607:[65257,65258,65259,65260],1608:[65261,65262],1609:[65263,65264,64488,64489],1610:[65265,65266,65267,65268],1649:[64336,64337],1655:[64477],1657:[64358,64359,64360,64361],1658:[64350,64351,64352,64353],1659:[64338,64339,64340,64341],1662:[64342,64343,64344,64345],1663:[64354,64355,64356,64357],1664:[64346,64347,64348,64349],1667:[64374,64375,64376,64377],1668:[64370,64371,64372,64373],1670:[64378,64379,64380,64381],1671:[64382,64383,64384,64385],1672:[64392,64393],1676:[64388,64389],1677:[64386,64387],1678:[64390,64391],1681:[64396,64397],1688:[64394,64395],1700:[64362,64363,64364,64365],1702:[64366,64367,64368,64369],1705:[64398,64399,64400,64401],1709:[64467,64468,64469,64470],1711:[64402,64403,64404,64405],1713:[64410,64411,64412,64413],1715:[64406,64407,64408,64409],1722:[64414,64415],1723:[64416,64417,64418,64419],1726:[64426,64427,64428,64429],1728:[64420,64421],1729:[64422,64423,64424,64425],1733:[64480,64481],1734:[64473,64474],1735:[64471,64472],1736:[64475,64476],1737:[64482,64483],1739:[64478,64479],1740:[64508,64509,64510,64511],1744:[64484,64485,64486,64487],1746:[64430,64431],1747:[64432,64433]},n={65247:{65154:65269,65156:65271,65160:65273,65166:65275},65248:{65154:65270,65156:65272,65160:65274,65166:65276},65165:{65247:{65248:{65258:65010}}},1617:{1612:64606,1613:64607,1614:64608,1615:64609,1616:64610}},r={1612:64606,1613:64607,1614:64608,1615:64609,1616:64610},i=[1570,1571,1573,1575];e.__arabicParser__={};var a=e.__arabicParser__.isInArabicSubstitutionA=function(v){return t[v.charCodeAt(0)]!==void 0},s=e.__arabicParser__.isArabicLetter=function(v){return typeof v=="string"&&/^[\u0600-\u06FF\u0750-\u077F\u08A0-\u08FF\uFB50-\uFDFF\uFE70-\uFEFF]+$/.test(v)},o=e.__arabicParser__.isArabicEndLetter=function(v){return s(v)&&a(v)&&t[v.charCodeAt(0)].length<=2},l=e.__arabicParser__.isArabicAlfLetter=function(v){return s(v)&&i.indexOf(v.charCodeAt(0))>=0};e.__arabicParser__.arabicLetterHasIsolatedForm=function(v){return s(v)&&a(v)&&t[v.charCodeAt(0)].length>=1};var u=e.__arabicParser__.arabicLetterHasFinalForm=function(v){return s(v)&&a(v)&&t[v.charCodeAt(0)].length>=2};e.__arabicParser__.arabicLetterHasInitialForm=function(v){return s(v)&&a(v)&&t[v.charCodeAt(0)].length>=3};var c=e.__arabicParser__.arabicLetterHasMedialForm=function(v){return s(v)&&a(v)&&t[v.charCodeAt(0)].length==4},d=e.__arabicParser__.resolveLigatures=function(v){var b=0,x=n,w="",A=0;for(b=0;b<v.length;b+=1)x[v.charCodeAt(b)]!==void 0?(A++,typeof(x=x[v.charCodeAt(b)])=="number"&&(w+=String.fromCharCode(x),x=n,A=0),b===v.length-1&&(x=n,w+=v.charAt(b-(A-1)),b-=A-1,A=0)):(x=n,w+=v.charAt(b-A),b-=A,A=0);return w};e.__arabicParser__.isArabicDiacritic=function(v){return v!==void 0&&r[v.charCodeAt(0)]!==void 0};var p=e.__arabicParser__.getCorrectForm=function(v,b,x){return s(v)?a(v)===!1?-1:!u(v)||!s(b)&&!s(x)||!s(x)&&o(b)||o(v)&&!s(b)||o(v)&&l(b)||o(v)&&o(b)?0:c(v)&&s(b)&&!o(b)&&s(x)&&u(x)?3:o(v)||!s(x)?1:2:-1},f=function(v){var b=0,x=0,w=0,A="",P="",O="",D=(v=v||"").split("\\s+"),T=[];for(b=0;b<D.length;b+=1){for(T.push(""),x=0;x<D[b].length;x+=1)A=D[b][x],P=D[b][x-1],O=D[b][x+1],s(A)?(w=p(A,P,O),T[b]+=w!==-1?String.fromCharCode(t[A.charCodeAt(0)][w]):A):T[b]+=A;T[b]=d(T[b])}return T.join(" ")},g=e.__arabicParser__.processArabic=e.processArabic=function(){var v,b=typeof arguments[0]=="string"?arguments[0]:arguments[0].text,x=[];if(Array.isArray(b)){var w=0;for(x=[],w=0;w<b.length;w+=1)Array.isArray(b[w])?x.push([f(b[w][0]),b[w][1],b[w][2]]):x.push([f(b[w])]);v=x}else v=f(b);return typeof arguments[0]=="string"?v:(arguments[0].text=v,arguments[0])};e.events.push(["preProcessText",g])}(ut.API),ut.API.autoPrint=function(e){var t;return(e=e||{}).variant=e.variant||"non-conform",e.variant==="javascript"?this.addJS("print({});"):(this.internal.events.subscribe("postPutResources",function(){t=this.internal.newObject(),this.internal.out("<<"),this.internal.out("/S /Named"),this.internal.out("/Type /Action"),this.internal.out("/N /Print"),this.internal.out(">>"),this.internal.out("endobj")}),this.internal.events.subscribe("putCatalog",function(){this.internal.out("/OpenAction "+t+" 0 R")})),this},function(e){var t=function(){var n=void 0;Object.defineProperty(this,"pdf",{get:function(){return n},set:function(o){n=o}});var r=150;Object.defineProperty(this,"width",{get:function(){return r},set:function(o){r=isNaN(o)||Number.isInteger(o)===!1||o<0?150:o,this.getContext("2d").pageWrapXEnabled&&(this.getContext("2d").pageWrapX=r+1)}});var i=300;Object.defineProperty(this,"height",{get:function(){return i},set:function(o){i=isNaN(o)||Number.isInteger(o)===!1||o<0?300:o,this.getContext("2d").pageWrapYEnabled&&(this.getContext("2d").pageWrapY=i+1)}});var a=[];Object.defineProperty(this,"childNodes",{get:function(){return a},set:function(o){a=o}});var s={};Object.defineProperty(this,"style",{get:function(){return s},set:function(o){s=o}}),Object.defineProperty(this,"parentNode",{})};t.prototype.getContext=function(n,r){var i;if((n=n||"2d")!=="2d")return null;for(i in r)this.pdf.context2d.hasOwnProperty(i)&&(this.pdf.context2d[i]=r[i]);return this.pdf.context2d._canvas=this,this.pdf.context2d},t.prototype.toDataURL=function(){throw new Error("toDataURL is not implemented.")},e.events.push(["initialized",function(){this.canvas=new t,this.canvas.pdf=this}])}(ut.API),function(e){var t={left:0,top:0,bottom:0,right:0},n=!1,r=function(){this.internal.__cell__===void 0&&(this.internal.__cell__={},this.internal.__cell__.padding=3,this.internal.__cell__.headerFunction=void 0,this.internal.__cell__.margins=Object.assign({},t),this.internal.__cell__.margins.width=this.getPageWidth(),i.call(this))},i=function(){this.internal.__cell__.lastCell=new a,this.internal.__cell__.pages=1},a=function(){var l=arguments[0];Object.defineProperty(this,"x",{enumerable:!0,get:function(){return l},set:function(v){l=v}});var u=arguments[1];Object.defineProperty(this,"y",{enumerable:!0,get:function(){return u},set:function(v){u=v}});var c=arguments[2];Object.defineProperty(this,"width",{enumerable:!0,get:function(){return c},set:function(v){c=v}});var d=arguments[3];Object.defineProperty(this,"height",{enumerable:!0,get:function(){return d},set:function(v){d=v}});var p=arguments[4];Object.defineProperty(this,"text",{enumerable:!0,get:function(){return p},set:function(v){p=v}});var f=arguments[5];Object.defineProperty(this,"lineNumber",{enumerable:!0,get:function(){return f},set:function(v){f=v}});var g=arguments[6];return Object.defineProperty(this,"align",{enumerable:!0,get:function(){return g},set:function(v){g=v}}),this};a.prototype.clone=function(){return new a(this.x,this.y,this.width,this.height,this.text,this.lineNumber,this.align)},a.prototype.toArray=function(){return[this.x,this.y,this.width,this.height,this.text,this.lineNumber,this.align]},e.setHeaderFunction=function(l){return r.call(this),this.internal.__cell__.headerFunction=typeof l=="function"?l:void 0,this},e.getTextDimensions=function(l,u){r.call(this);var c=(u=u||{}).fontSize||this.getFontSize(),d=u.font||this.getFont(),p=u.scaleFactor||this.internal.scaleFactor,f=0,g=0,v=0,b=this;if(!Array.isArray(l)&&typeof l!="string"){if(typeof l!="number")throw new Error("getTextDimensions expects text-parameter to be of type String or type Number or an Array of Strings.");l=String(l)}var x=u.maxWidth;x>0?typeof l=="string"?l=this.splitTextToSize(l,x):Object.prototype.toString.call(l)==="[object Array]"&&(l=l.reduce(function(A,P){return A.concat(b.splitTextToSize(P,x))},[])):l=Array.isArray(l)?l:[l];for(var w=0;w<l.length;w++)f<(v=this.getStringUnitWidth(l[w],{font:d})*c)&&(f=v);return f!==0&&(g=l.length),{w:f/=p,h:Math.max((g*c*this.getLineHeightFactor()-c*(this.getLineHeightFactor()-1))/p,0)}},e.cellAddPage=function(){r.call(this),this.addPage();var l=this.internal.__cell__.margins||t;return this.internal.__cell__.lastCell=new a(l.left,l.top,void 0,void 0),this.internal.__cell__.pages+=1,this};var s=e.cell=function(){var l;l=arguments[0]instanceof a?arguments[0]:new a(arguments[0],arguments[1],arguments[2],arguments[3],arguments[4],arguments[5]),r.call(this);var u=this.internal.__cell__.lastCell,c=this.internal.__cell__.padding,d=this.internal.__cell__.margins||t,p=this.internal.__cell__.tableHeaderRow,f=this.internal.__cell__.printHeaders;return u.lineNumber!==void 0&&(u.lineNumber===l.lineNumber?(l.x=(u.x||0)+(u.width||0),l.y=u.y||0):u.y+u.height+l.height+d.bottom>this.getPageHeight()?(this.cellAddPage(),l.y=d.top,f&&p&&(this.printHeaderRow(l.lineNumber,!0),l.y+=p[0].height)):l.y=u.y+u.height||l.y),l.text[0]!==void 0&&(this.rect(l.x,l.y,l.width,l.height,n===!0?"FD":void 0),l.align==="right"?this.text(l.text,l.x+l.width-c,l.y+c,{align:"right",baseline:"top"}):l.align==="center"?this.text(l.text,l.x+l.width/2,l.y+c,{align:"center",baseline:"top",maxWidth:l.width-c-c}):this.text(l.text,l.x+c,l.y+c,{align:"left",baseline:"top",maxWidth:l.width-c-c})),this.internal.__cell__.lastCell=l,this};e.table=function(l,u,c,d,p){if(r.call(this),!c)throw new Error("No data for PDF table.");var f,g,v,b,x=[],w=[],A=[],P={},O={},D=[],T=[],k=(p=p||{}).autoSize||!1,I=p.printHeaders!==!1,M=p.css&&p.css["font-size"]!==void 0?16*p.css["font-size"]:p.fontSize||12,N=p.margins||Object.assign({width:this.getPageWidth()},t),C=typeof p.padding=="number"?p.padding:3,R=p.headerBackgroundColor||"#c8c8c8",W=p.headerTextColor||"#000";if(i.call(this),this.internal.__cell__.printHeaders=I,this.internal.__cell__.margins=N,this.internal.__cell__.table_font_size=M,this.internal.__cell__.padding=C,this.internal.__cell__.headerBackgroundColor=R,this.internal.__cell__.headerTextColor=W,this.setFontSize(M),d==null)w=x=Object.keys(c[0]),A=x.map(function(){return"left"});else if(Array.isArray(d)&&gn(d[0])==="object")for(x=d.map(function(ye){return ye.name}),w=d.map(function(ye){return ye.prompt||ye.name||""}),A=d.map(function(ye){return ye.align||"left"}),f=0;f<d.length;f+=1)O[d[f].name]=.7499990551181103*d[f].width;else Array.isArray(d)&&typeof d[0]=="string"&&(w=x=d,A=x.map(function(){return"left"}));if(k||Array.isArray(d)&&typeof d[0]=="string")for(f=0;f<x.length;f+=1){for(P[b=x[f]]=c.map(function(ye){return ye[b]}),this.setFont(void 0,"bold"),D.push(this.getTextDimensions(w[f],{fontSize:this.internal.__cell__.table_font_size,scaleFactor:this.internal.scaleFactor}).w),g=P[b],this.setFont(void 0,"normal"),v=0;v<g.length;v+=1)D.push(this.getTextDimensions(g[v],{fontSize:this.internal.__cell__.table_font_size,scaleFactor:this.internal.scaleFactor}).w);O[b]=Math.max.apply(null,D)+C+C,D=[]}if(I){var Y={};for(f=0;f<x.length;f+=1)Y[x[f]]={},Y[x[f]].text=w[f],Y[x[f]].align=A[f];var ae=o.call(this,Y,O);T=x.map(function(ye){return new a(l,u,O[ye],ae,Y[ye].text,void 0,Y[ye].align)}),this.setTableHeaderRow(T),this.printHeaderRow(1,!1)}var ie=d.reduce(function(ye,be){return ye[be.name]=be.align,ye},{});for(f=0;f<c.length;f+=1){"rowStart"in p&&p.rowStart instanceof Function&&p.rowStart({row:f,data:c[f]},this);var H=o.call(this,c[f],O);for(v=0;v<x.length;v+=1){var se=c[f][x[v]];"cellStart"in p&&p.cellStart instanceof Function&&p.cellStart({row:f,col:v,data:se},this),s.call(this,new a(l,u,O[x[v]],H,se,f+2,ie[x[v]]))}}return this.internal.__cell__.table_x=l,this.internal.__cell__.table_y=u,this};var o=function(l,u){var c=this.internal.__cell__.padding,d=this.internal.__cell__.table_font_size,p=this.internal.scaleFactor;return Object.keys(l).map(function(f){var g=l[f];return this.splitTextToSize(g.hasOwnProperty("text")?g.text:g,u[f]-c-c)},this).map(function(f){return this.getLineHeightFactor()*f.length*d/p+c+c},this).reduce(function(f,g){return Math.max(f,g)},0)};e.setTableHeaderRow=function(l){r.call(this),this.internal.__cell__.tableHeaderRow=l},e.printHeaderRow=function(l,u){if(r.call(this),!this.internal.__cell__.tableHeaderRow)throw new Error("Property tableHeaderRow does not exist.");var c;if(n=!0,typeof this.internal.__cell__.headerFunction=="function"){var d=this.internal.__cell__.headerFunction(this,this.internal.__cell__.pages);this.internal.__cell__.lastCell=new a(d[0],d[1],d[2],d[3],void 0,-1)}this.setFont(void 0,"bold");for(var p=[],f=0;f<this.internal.__cell__.tableHeaderRow.length;f+=1){c=this.internal.__cell__.tableHeaderRow[f].clone(),u&&(c.y=this.internal.__cell__.margins.top||0,p.push(c)),c.lineNumber=l;var g=this.getTextColor();this.setTextColor(this.internal.__cell__.headerTextColor),this.setFillColor(this.internal.__cell__.headerBackgroundColor),s.call(this,c),this.setTextColor(g)}p.length>0&&this.setTableHeaderRow(p),this.setFont(void 0,"normal"),n=!1}}(ut.API);var qF={italic:["italic","oblique","normal"],oblique:["oblique","italic","normal"],normal:["normal","oblique","italic"]},HF=["ultra-condensed","extra-condensed","condensed","semi-condensed","normal","semi-expanded","expanded","extra-expanded","ultra-expanded"],o3=WF(HF),KF=[100,200,300,400,500,600,700,800,900],xue=WF(KF);function Cw(e){var t=e.family.replace(/"|'/g,"").toLowerCase(),n=function(a){return qF[a=a||"normal"]?a:"normal"}(e.style),r=function(a){return a?typeof a=="number"?a>=100&&a<=900&&a%100==0?a:400:/^\d00$/.test(a)?parseInt(a):a==="bold"?700:400:400}(e.weight),i=function(a){return typeof o3[a=a||"normal"]=="number"?a:"normal"}(e.stretch);return{family:t,style:n,weight:r,stretch:i,src:e.src||[],ref:e.ref||{name:t,style:[i,n,r].join(" ")}}}function p8(e,t,n,r){var i;for(i=n;i>=0&&i<t.length;i+=r)if(e[t[i]])return e[t[i]];for(i=n;i>=0&&i<t.length;i-=r)if(e[t[i]])return e[t[i]]}var bue={"sans-serif":"helvetica",fixed:"courier",monospace:"courier",terminal:"courier",cursive:"times",fantasy:"times",serif:"times"},m8={caption:"times",icon:"times",menu:"times","message-box":"times","small-caption":"times","status-bar":"times"};function g8(e){return[e.stretch,e.style,e.weight,e.family].join(" ")}function v8(e){return e.trimLeft()}function wue(e,t){for(var n=0;n<e.length;){if(e.charAt(n)===t)return[e.substring(0,n),e.substring(n+1)];n+=1}return null}function _ue(e){var t=e.match(/^(-[a-z_]|[a-z_])[a-z0-9_-]*/i);return t===null?null:[t[0],e.substring(t[0].length)]}var u1,y8,x8,sf,c1,b8,w8,_8,jw=["times"];function S8(e,t,n,r,i){var a=4,s=P8;switch(i){case ut.API.image_compression.FAST:a=1,s=A8;break;case ut.API.image_compression.MEDIUM:a=6,s=E8;break;case ut.API.image_compression.SLOW:a=9,s=N8}e=function(l,u,c,d){for(var p,f=l.length/u,g=new Uint8Array(l.length+f),v=[Sue,A8,P8,E8,N8],b=0;b<f;b+=1){var x=b*u,w=l.subarray(x,x+u);if(d)g.set(d(w,c,p),x+b);else{for(var A=v.length,P=[],O=0;O<A;O+=1)P[O]=v[O](w,c,p);var D=Pue(P.concat());g.set(P[D],x+b)}p=w}return g}(e,t,Math.ceil(n*r/8),s);var o=e3(e,{level:a});return ut.API.__addimage__.arrayBufferToBinaryString(o)}function Sue(e){var t=Array.apply([],e);return t.unshift(0),t}function A8(e,t){var n=e.length,r=[];r[0]=1;for(var i=0;i<n;i+=1){var a=e[i-t]||0;r[i+1]=e[i]-a+256&255}return r}function P8(e,t,n){var r=e.length,i=[];i[0]=2;for(var a=0;a<r;a+=1){var s=n&&n[a]||0;i[a+1]=e[a]-s+256&255}return i}function E8(e,t,n){var r=e.length,i=[];i[0]=3;for(var a=0;a<r;a+=1){var s=e[a-t]||0,o=n&&n[a]||0;i[a+1]=e[a]+256-(s+o>>>1)&255}return i}function N8(e,t,n){var r=e.length,i=[];i[0]=4;for(var a=0;a<r;a+=1){var s=Aue(e[a-t]||0,n&&n[a]||0,n&&n[a-t]||0);i[a+1]=e[a]-s+256&255}return i}function Aue(e,t,n){if(e===t&&t===n)return e;var r=Math.abs(t-n),i=Math.abs(e-n),a=Math.abs(e+t-n-n);return r<=i&&r<=a?e:i<=a?t:n}function Pue(e){var t=e.map(function(n){return n.reduce(function(r,i){return r+Math.abs(i)},0)});return t.indexOf(Math.min.apply(null,t))}function Iw(e,t,n){var r=t*n,i=Math.floor(r/8),a=16-(r-8*i+n),s=(1<<n)-1;return GF(e,i)>>a&s}function k8(e,t,n,r){var i=n*r,a=Math.floor(i/8),s=16-(i-8*a+r),o=(1<<r)-1,l=(t&o)<<s;(function(u,c,d){if(c+1<u.byteLength)u.setUint16(c,d,!1);else{var p=d>>8&255;u.setUint8(c,p)}})(e,a,GF(e,a)&~(o<<s)&65535|l)}function GF(e,t){return t+1<e.byteLength?e.getUint16(t,!1):e.getUint8(t)<<8}function Eue(e){var t=0;if(e[t++]!==71||e[t++]!==73||e[t++]!==70||e[t++]!==56||(e[t++]+1&253)!=56||e[t++]!==97)throw new Error("Invalid GIF 87a/89a header.");var n=e[t++]|e[t++]<<8,r=e[t++]|e[t++]<<8,i=e[t++],a=i>>7,s=1<<1+(7&i);e[t++],e[t++];var o=null,l=null;a&&(o=t,l=s,t+=3*s);var u=!0,c=[],d=0,p=null,f=0,g=null;for(this.width=n,this.height=r;u&&t<e.length;)switch(e[t++]){case 33:switch(e[t++]){case 255:if(e[t]!==11||e[t+1]==78&&e[t+2]==69&&e[t+3]==84&&e[t+4]==83&&e[t+5]==67&&e[t+6]==65&&e[t+7]==80&&e[t+8]==69&&e[t+9]==50&&e[t+10]==46&&e[t+11]==48&&e[t+12]==3&&e[t+13]==1&&e[t+16]==0)t+=14,g=e[t++]|e[t++]<<8,t++;else for(t+=12;;){if(!((N=e[t++])>=0))throw Error("Invalid block size");if(N===0)break;t+=N}break;case 249:if(e[t++]!==4||e[t+4]!==0)throw new Error("Invalid graphics extension block.");var v=e[t++];d=e[t++]|e[t++]<<8,p=e[t++],1&v||(p=null),f=v>>2&7,t++;break;case 254:for(;;){if(!((N=e[t++])>=0))throw Error("Invalid block size");if(N===0)break;t+=N}break;default:throw new Error("Unknown graphic control label: 0x"+e[t-1].toString(16))}break;case 44:var b=e[t++]|e[t++]<<8,x=e[t++]|e[t++]<<8,w=e[t++]|e[t++]<<8,A=e[t++]|e[t++]<<8,P=e[t++],O=P>>6&1,D=1<<1+(7&P),T=o,k=l,I=!1;P>>7&&(I=!0,T=t,k=D,t+=3*D);var M=t;for(t++;;){var N;if(!((N=e[t++])>=0))throw Error("Invalid block size");if(N===0)break;t+=N}c.push({x:b,y:x,width:w,height:A,has_local_palette:I,palette_offset:T,palette_size:k,data_offset:M,data_length:t-M,transparent_index:p,interlaced:!!O,delay:d,disposal:f});break;case 59:u=!1;break;default:throw new Error("Unknown gif block: 0x"+e[t-1].toString(16))}this.numFrames=function(){return c.length},this.loopCount=function(){return g},this.frameInfo=function(C){if(C<0||C>=c.length)throw new Error("Frame index out of range.");return c[C]},this.decodeAndBlitFrameBGRA=function(C,R){var W=this.frameInfo(C),Y=W.width*W.height,ae=new Uint8Array(Y);T8(e,W.data_offset,ae,Y);var ie=W.palette_offset,H=W.transparent_index;H===null&&(H=256);var se=W.width,ye=n-se,be=se,$=4*(W.y*n+W.x),X=4*((W.y+W.height)*n+W.x),re=$,oe=4*ye;W.interlaced===!0&&(oe+=4*n*7);for(var de=8,ge=0,ce=ae.length;ge<ce;++ge){var J=ae[ge];if(be===0&&(be=se,(re+=oe)>=X&&(oe=4*ye+4*n*(de-1),re=$+(se+ye)*(de<<1),de>>=1)),J===H)re+=4;else{var pe=e[ie+3*J],Ee=e[ie+3*J+1],le=e[ie+3*J+2];R[re++]=le,R[re++]=Ee,R[re++]=pe,R[re++]=255}--be}},this.decodeAndBlitFrameRGBA=function(C,R){var W=this.frameInfo(C),Y=W.width*W.height,ae=new Uint8Array(Y);T8(e,W.data_offset,ae,Y);var ie=W.palette_offset,H=W.transparent_index;H===null&&(H=256);var se=W.width,ye=n-se,be=se,$=4*(W.y*n+W.x),X=4*((W.y+W.height)*n+W.x),re=$,oe=4*ye;W.interlaced===!0&&(oe+=4*n*7);for(var de=8,ge=0,ce=ae.length;ge<ce;++ge){var J=ae[ge];if(be===0&&(be=se,(re+=oe)>=X&&(oe=4*ye+4*n*(de-1),re=$+(se+ye)*(de<<1),de>>=1)),J===H)re+=4;else{var pe=e[ie+3*J],Ee=e[ie+3*J+1],le=e[ie+3*J+2];R[re++]=pe,R[re++]=Ee,R[re++]=le,R[re++]=255}--be}}}function T8(e,t,n,r){for(var i=e[t++],a=1<<i,s=a+1,o=s+1,l=i+1,u=(1<<l)-1,c=0,d=0,p=0,f=e[t++],g=new Int32Array(4096),v=null;;){for(;c<16&&f!==0;)d|=e[t++]<<c,c+=8,f===1?f=e[t++]:--f;if(c<l)break;var b=d&u;if(d>>=l,c-=l,b!==a){if(b===s)break;for(var x=b<o?b:v,w=0,A=x;A>a;)A=g[A]>>8,++w;var P=A;if(p+w+(x!==b?1:0)>r)return void _n.log("Warning, gif stream longer than expected.");n[p++]=P;var O=p+=w;for(x!==b&&(n[p++]=P),A=x;w--;)A=g[A],n[--O]=255&A,A>>=8;v!==null&&o<4096&&(g[o++]=v<<8|P,o>=u+1&&l<12&&(++l,u=u<<1|1)),v=b}else o=s+1,u=(1<<(l=i+1))-1,v=null}return p!==r&&_n.log("Warning, gif stream shorter than expected."),n}/**
 * @license
  Copyright (c) 2008, Adobe Systems Incorporated
  All rights reserved.

  Redistribution and use in source and binary forms, with or without 
  modification, are permitted provided that the following conditions are
  met:

  * Redistributions of source code must retain the above copyright notice, 
    this list of conditions and the following disclaimer.
  
  * Redistributions in binary form must reproduce the above copyright
    notice, this list of conditions and the following disclaimer in the 
    documentation and/or other materials provided with the distribution.
  
  * Neither the name of Adobe Systems Incorporated nor the names of its 
    contributors may be used to endorse or promote products derived from 
    this software without specific prior written permission.

  THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS "AS
  IS" AND ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT LIMITED TO,
  THE IMPLIED WARRANTIES OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR
  PURPOSE ARE DISCLAIMED. IN NO EVENT SHALL THE COPYRIGHT OWNER OR 
  CONTRIBUTORS BE LIABLE FOR ANY DIRECT, INDIRECT, INCIDENTAL, SPECIAL,
  EXEMPLARY, OR CONSEQUENTIAL DAMAGES (INCLUDING, BUT NOT LIMITED TO,
  PROCUREMENT OF SUBSTITUTE GOODS OR SERVICES; LOSS OF USE, DATA, OR
  PROFITS; OR BUSINESS INTERRUPTION) HOWEVER CAUSED AND ON ANY THEORY OF
  LIABILITY, WHETHER IN CONTRACT, STRICT LIABILITY, OR TORT (INCLUDING
  NEGLIGENCE OR OTHERWISE) ARISING IN ANY WAY OUT OF THE USE OF THIS
  SOFTWARE, EVEN IF ADVISED OF THE POSSIBILITY OF SUCH DAMAGE.
*/function Ow(e){var t,n,r,i,a,s=Math.floor,o=new Array(64),l=new Array(64),u=new Array(64),c=new Array(64),d=new Array(65535),p=new Array(65535),f=new Array(64),g=new Array(64),v=[],b=0,x=7,w=new Array(64),A=new Array(64),P=new Array(64),O=new Array(256),D=new Array(2048),T=[0,1,5,6,14,15,27,28,2,4,7,13,16,26,29,42,3,8,12,17,25,30,41,43,9,11,18,24,31,40,44,53,10,19,23,32,39,45,52,54,20,22,33,38,46,51,55,60,21,34,37,47,50,56,59,61,35,36,48,49,57,58,62,63],k=[0,0,1,5,1,1,1,1,1,1,0,0,0,0,0,0,0],I=[0,1,2,3,4,5,6,7,8,9,10,11],M=[0,0,2,1,3,3,2,4,3,5,5,4,4,0,0,1,125],N=[1,2,3,0,4,17,5,18,33,49,65,6,19,81,97,7,34,113,20,50,129,145,161,8,35,66,177,193,21,82,209,240,36,51,98,114,130,9,10,22,23,24,25,26,37,38,39,40,41,42,52,53,54,55,56,57,58,67,68,69,70,71,72,73,74,83,84,85,86,87,88,89,90,99,100,101,102,103,104,105,106,115,116,117,118,119,120,121,122,131,132,133,134,135,136,137,138,146,147,148,149,150,151,152,153,154,162,163,164,165,166,167,168,169,170,178,179,180,181,182,183,184,185,186,194,195,196,197,198,199,200,201,202,210,211,212,213,214,215,216,217,218,225,226,227,228,229,230,231,232,233,234,241,242,243,244,245,246,247,248,249,250],C=[0,0,3,1,1,1,1,1,1,1,1,1,0,0,0,0,0],R=[0,1,2,3,4,5,6,7,8,9,10,11],W=[0,0,2,1,2,4,4,3,4,7,5,4,4,0,1,2,119],Y=[0,1,2,3,17,4,5,33,49,6,18,65,81,7,97,113,19,34,50,129,8,20,66,145,161,177,193,9,35,51,82,240,21,98,114,209,10,22,36,52,225,37,241,23,24,25,26,38,39,40,41,42,53,54,55,56,57,58,67,68,69,70,71,72,73,74,83,84,85,86,87,88,89,90,99,100,101,102,103,104,105,106,115,116,117,118,119,120,121,122,130,131,132,133,134,135,136,137,138,146,147,148,149,150,151,152,153,154,162,163,164,165,166,167,168,169,170,178,179,180,181,182,183,184,185,186,194,195,196,197,198,199,200,201,202,210,211,212,213,214,215,216,217,218,226,227,228,229,230,231,232,233,234,242,243,244,245,246,247,248,249,250];function ae($,X){for(var re=0,oe=0,de=new Array,ge=1;ge<=16;ge++){for(var ce=1;ce<=$[ge];ce++)de[X[oe]]=[],de[X[oe]][0]=re,de[X[oe]][1]=ge,oe++,re++;re*=2}return de}function ie($){for(var X=$[0],re=$[1]-1;re>=0;)X&1<<re&&(b|=1<<x),re--,--x<0&&(b==255?(H(255),H(0)):H(b),x=7,b=0)}function H($){v.push($)}function se($){H($>>8&255),H(255&$)}function ye($,X,re,oe,de){for(var ge,ce=de[0],J=de[240],pe=function(Oe,We){var $e,Nt,st,$t,St,it,kt,xt,ot,mt,ct=0;for(ot=0;ot<8;++ot){$e=Oe[ct],Nt=Oe[ct+1],st=Oe[ct+2],$t=Oe[ct+3],St=Oe[ct+4],it=Oe[ct+5],kt=Oe[ct+6];var Zt=$e+(xt=Oe[ct+7]),qt=$e-xt,tt=Nt+kt,bt=Nt-kt,ln=st+it,ht=st-it,Lt=$t+St,At=$t-St,Vn=Zt+Lt,In=Zt-Lt,nn=tt+ln,gt=tt-ln;Oe[ct]=Vn+nn,Oe[ct+4]=Vn-nn;var Mt=.707106781*(gt+In);Oe[ct+2]=In+Mt,Oe[ct+6]=In-Mt;var yo=.382683433*((Vn=At+ht)-(gt=bt+qt)),vr=.5411961*Vn+yo,ss=1.306562965*gt+yo,Ti=.707106781*(nn=ht+bt),ft=qt+Ti,On=qt-Ti;Oe[ct+5]=On+vr,Oe[ct+3]=On-vr,Oe[ct+1]=ft+ss,Oe[ct+7]=ft-ss,ct+=8}for(ct=0,ot=0;ot<8;++ot){$e=Oe[ct],Nt=Oe[ct+8],st=Oe[ct+16],$t=Oe[ct+24],St=Oe[ct+32],it=Oe[ct+40],kt=Oe[ct+48];var os=$e+(xt=Oe[ct+56]),Zr=$e-xt,Jr=Nt+kt,zn=Nt-kt,jr=st+it,$n=st-it,tl=$t+St,xo=$t-St,Ci=os+tl,Ia=os-tl,Qi=Jr+jr,ji=Jr-jr;Oe[ct]=Ci+Qi,Oe[ct+32]=Ci-Qi;var yr=.707106781*(ji+Ia);Oe[ct+16]=Ia+yr,Oe[ct+48]=Ia-yr;var bo=.382683433*((Ci=xo+$n)-(ji=zn+Zr)),Oa=.5411961*Ci+bo,Ms=1.306562965*ji+bo,wo=.707106781*(Qi=$n+zn),nl=Zr+wo,rl=Zr-wo;Oe[ct+40]=rl+Oa,Oe[ct+24]=rl-Oa,Oe[ct+8]=nl+Ms,Oe[ct+56]=nl-Ms,ct++}for(ot=0;ot<64;++ot)mt=Oe[ot]*We[ot],f[ot]=mt>0?mt+.5|0:mt-.5|0;return f}($,X),Ee=0;Ee<64;++Ee)g[T[Ee]]=pe[Ee];var le=g[0]-re;re=g[0],le==0?ie(oe[0]):(ie(oe[p[ge=32767+le]]),ie(d[ge]));for(var Ne=63;Ne>0&&g[Ne]==0;)Ne--;if(Ne==0)return ie(ce),re;for(var fe,Z=1;Z<=Ne;){for(var Ve=Z;g[Z]==0&&Z<=Ne;)++Z;var Xe=Z-Ve;if(Xe>=16){fe=Xe>>4;for(var Ue=1;Ue<=fe;++Ue)ie(J);Xe&=15}ge=32767+g[Z],ie(de[(Xe<<4)+p[ge]]),ie(d[ge]),Z++}return Ne!=63&&ie(ce),re}function be($){$=Math.min(Math.max($,1),100),a!=$&&(function(X){for(var re=[16,11,10,16,24,40,51,61,12,12,14,19,26,58,60,55,14,13,16,24,40,57,69,56,14,17,22,29,51,87,80,62,18,22,37,56,68,109,103,77,24,35,55,64,81,104,113,92,49,64,78,87,103,121,120,101,72,92,95,98,112,100,103,99],oe=0;oe<64;oe++){var de=s((re[oe]*X+50)/100);de=Math.min(Math.max(de,1),255),o[T[oe]]=de}for(var ge=[17,18,24,47,99,99,99,99,18,21,26,66,99,99,99,99,24,26,56,99,99,99,99,99,47,66,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99],ce=0;ce<64;ce++){var J=s((ge[ce]*X+50)/100);J=Math.min(Math.max(J,1),255),l[T[ce]]=J}for(var pe=[1,1.387039845,1.306562965,1.175875602,1,.785694958,.5411961,.275899379],Ee=0,le=0;le<8;le++)for(var Ne=0;Ne<8;Ne++)u[Ee]=1/(o[T[Ee]]*pe[le]*pe[Ne]*8),c[Ee]=1/(l[T[Ee]]*pe[le]*pe[Ne]*8),Ee++}($<50?Math.floor(5e3/$):Math.floor(200-2*$)),a=$)}this.encode=function($,X){X&&be(X),v=new Array,b=0,x=7,se(65496),se(65504),se(16),H(74),H(70),H(73),H(70),H(0),H(1),H(1),H(0),se(1),se(1),H(0),H(0),function(){se(65499),se(132),H(0);for(var Nt=0;Nt<64;Nt++)H(o[Nt]);H(1);for(var st=0;st<64;st++)H(l[st])}(),function(Nt,st){se(65472),se(17),H(8),se(st),se(Nt),H(3),H(1),H(17),H(0),H(2),H(17),H(1),H(3),H(17),H(1)}($.width,$.height),function(){se(65476),se(418),H(0);for(var Nt=0;Nt<16;Nt++)H(k[Nt+1]);for(var st=0;st<=11;st++)H(I[st]);H(16);for(var $t=0;$t<16;$t++)H(M[$t+1]);for(var St=0;St<=161;St++)H(N[St]);H(1);for(var it=0;it<16;it++)H(C[it+1]);for(var kt=0;kt<=11;kt++)H(R[kt]);H(17);for(var xt=0;xt<16;xt++)H(W[xt+1]);for(var ot=0;ot<=161;ot++)H(Y[ot])}(),se(65498),se(12),H(3),H(1),H(0),H(2),H(17),H(3),H(17),H(0),H(63),H(0);var re=0,oe=0,de=0;b=0,x=7,this.encode.displayName="_encode_";for(var ge,ce,J,pe,Ee,le,Ne,fe,Z,Ve=$.data,Xe=$.width,Ue=$.height,Oe=4*Xe,We=0;We<Ue;){for(ge=0;ge<Oe;){for(Ee=Oe*We+ge,Ne=-1,fe=0,Z=0;Z<64;Z++)le=Ee+(fe=Z>>3)*Oe+(Ne=4*(7&Z)),We+fe>=Ue&&(le-=Oe*(We+1+fe-Ue)),ge+Ne>=Oe&&(le-=ge+Ne-Oe+4),ce=Ve[le++],J=Ve[le++],pe=Ve[le++],w[Z]=(D[ce]+D[J+256|0]+D[pe+512|0]>>16)-128,A[Z]=(D[ce+768|0]+D[J+1024|0]+D[pe+1280|0]>>16)-128,P[Z]=(D[ce+1280|0]+D[J+1536|0]+D[pe+1792|0]>>16)-128;re=ye(w,u,re,t,r),oe=ye(A,c,oe,n,i),de=ye(P,c,de,n,i),ge+=32}We+=8}if(x>=0){var $e=[];$e[1]=x+1,$e[0]=(1<<x+1)-1,ie($e)}return se(65497),new Uint8Array(v)},e=e||50,function(){for(var $=String.fromCharCode,X=0;X<256;X++)O[X]=$(X)}(),t=ae(k,I),n=ae(C,R),r=ae(M,N),i=ae(W,Y),function(){for(var $=1,X=2,re=1;re<=15;re++){for(var oe=$;oe<X;oe++)p[32767+oe]=re,d[32767+oe]=[],d[32767+oe][1]=re,d[32767+oe][0]=oe;for(var de=-(X-1);de<=-$;de++)p[32767+de]=re,d[32767+de]=[],d[32767+de][1]=re,d[32767+de][0]=X-1+de;$<<=1,X<<=1}}(),function(){for(var $=0;$<256;$++)D[$]=19595*$,D[$+256|0]=38470*$,D[$+512|0]=7471*$+32768,D[$+768|0]=-11059*$,D[$+1024|0]=-21709*$,D[$+1280|0]=32768*$+8421375,D[$+1536|0]=-27439*$,D[$+1792|0]=-5329*$}(),be(e)}/**
 * @license
 * Copyright (c) 2017 Aras Abbasi
 *
 * Licensed under the MIT License.
 * http://opensource.org/licenses/mit-license
 */function Hs(e,t){if(this.pos=0,this.buffer=e,this.datav=new DataView(e.buffer),this.is_with_alpha=!!t,this.bottom_up=!0,this.flag=String.fromCharCode(this.buffer[0])+String.fromCharCode(this.buffer[1]),this.pos+=2,["BM","BA","CI","CP","IC","PT"].indexOf(this.flag)===-1)throw new Error("Invalid BMP File");this.parseHeader(),this.parseBGR()}function C8(e){function t(I){if(!I)throw Error("assert :P")}function n(I,M,N){for(var C=0;4>C;C++)if(I[M+C]!=N.charCodeAt(C))return!0;return!1}function r(I,M,N,C,R){for(var W=0;W<R;W++)I[M+W]=N[C+W]}function i(I,M,N,C){for(var R=0;R<C;R++)I[M+R]=N}function a(I){return new Int32Array(I)}function s(I,M){for(var N=[],C=0;C<I;C++)N.push(new M);return N}function o(I,M){var N=[];return function C(R,W,Y){for(var ae=Y[W],ie=0;ie<ae&&(R.push(Y.length>W+1?[]:new M),!(Y.length<W+1));ie++)C(R[ie],W+1,Y)}(N,0,I),N}var l=function(){var I=this;function M(m,_){for(var j=1<<_-1>>>0;m&j;)j>>>=1;return j?(m&j-1)+j:m}function N(m,_,j,F,z){t(!(F%j));do m[_+(F-=j)]=z;while(0<F)}function C(m,_,j,F,z){if(t(2328>=z),512>=z)var U=a(512);else if((U=a(z))==null)return 0;return function(q,K,Q,te,he,Se){var ne,me,we=K,ke=1<<Q,_e=a(16),Ce=a(16);for(t(he!=0),t(te!=null),t(q!=null),t(0<Q),me=0;me<he;++me){if(15<te[me])return 0;++_e[te[me]]}if(_e[0]==he)return 0;for(Ce[1]=0,ne=1;15>ne;++ne){if(_e[ne]>1<<ne)return 0;Ce[ne+1]=Ce[ne]+_e[ne]}for(me=0;me<he;++me)ne=te[me],0<te[me]&&(Se[Ce[ne]++]=me);if(Ce[15]==1)return(te=new R).g=0,te.value=Se[0],N(q,we,1,ke,te),ke;var je,De=-1,Re=ke-1,lt=0,Ye=1,It=1,nt=1<<Q;for(me=0,ne=1,he=2;ne<=Q;++ne,he<<=1){if(Ye+=It<<=1,0>(It-=_e[ne]))return 0;for(;0<_e[ne];--_e[ne])(te=new R).g=ne,te.value=Se[me++],N(q,we+lt,he,nt,te),lt=M(lt,ne)}for(ne=Q+1,he=2;15>=ne;++ne,he<<=1){if(Ye+=It<<=1,0>(It-=_e[ne]))return 0;for(;0<_e[ne];--_e[ne]){if(te=new R,(lt&Re)!=De){for(we+=nt,je=1<<(De=ne)-Q;15>De&&!(0>=(je-=_e[De]));)++De,je<<=1;ke+=nt=1<<(je=De-Q),q[K+(De=lt&Re)].g=je+Q,q[K+De].value=we-K-De}te.g=ne-Q,te.value=Se[me++],N(q,we+(lt>>Q),he,nt,te),lt=M(lt,ne)}}return Ye!=2*Ce[15]-1?0:ke}(m,_,j,F,z,U)}function R(){this.value=this.g=0}function W(){this.value=this.g=0}function Y(){this.G=s(5,R),this.H=a(5),this.jc=this.Qb=this.qb=this.nd=0,this.pd=s(Bc,W)}function ae(m,_,j,F){t(m!=null),t(_!=null),t(2147483648>F),m.Ca=254,m.I=0,m.b=-8,m.Ka=0,m.oa=_,m.pa=j,m.Jd=_,m.Yc=j+F,m.Zc=4<=F?j+F-4+1:j,ce(m)}function ie(m,_){for(var j=0;0<_--;)j|=pe(m,128)<<_;return j}function H(m,_){var j=ie(m,_);return J(m)?-j:j}function se(m,_,j,F){var z,U=0;for(t(m!=null),t(_!=null),t(4294967288>F),m.Sb=F,m.Ra=0,m.u=0,m.h=0,4<F&&(F=4),z=0;z<F;++z)U+=_[j+z]<<8*z;m.Ra=U,m.bb=F,m.oa=_,m.pa=j}function ye(m){for(;8<=m.u&&m.bb<m.Sb;)m.Ra>>>=8,m.Ra+=m.oa[m.pa+m.bb]<<hu-8>>>0,++m.bb,m.u-=8;oe(m)&&(m.h=1,m.u=0)}function be(m,_){if(t(0<=_),!m.h&&_<=Ba){var j=re(m)&Fa[_];return m.u+=_,ye(m),j}return m.h=1,m.u=0}function $(){this.b=this.Ca=this.I=0,this.oa=[],this.pa=0,this.Jd=[],this.Yc=0,this.Zc=[],this.Ka=0}function X(){this.Ra=0,this.oa=[],this.h=this.u=this.bb=this.Sb=this.pa=0}function re(m){return m.Ra>>>(m.u&hu-1)>>>0}function oe(m){return t(m.bb<=m.Sb),m.h||m.bb==m.Sb&&m.u>hu}function de(m,_){m.u=_,m.h=oe(m)}function ge(m){m.u>=cl&&(t(m.u>=cl),ye(m))}function ce(m){t(m!=null&&m.oa!=null),m.pa<m.Zc?(m.I=(m.oa[m.pa++]|m.I<<8)>>>0,m.b+=8):(t(m!=null&&m.oa!=null),m.pa<m.Yc?(m.b+=8,m.I=m.oa[m.pa++]|m.I<<8):m.Ka?m.b=0:(m.I<<=8,m.b+=8,m.Ka=1))}function J(m){return ie(m,1)}function pe(m,_){var j=m.Ca;0>m.b&&ce(m);var F=m.b,z=j*_>>>8,U=(m.I>>>F>z)+0;for(U?(j-=z,m.I-=z+1<<F>>>0):j=z+1,F=j,z=0;256<=F;)z+=8,F>>=8;return F=7^z+pu[F],m.b-=F,m.Ca=(j<<F)-1,U}function Ee(m,_,j){m[_+0]=j>>24&255,m[_+1]=j>>16&255,m[_+2]=j>>8&255,m[_+3]=255&j}function le(m,_){return m[_+0]|m[_+1]<<8}function Ne(m,_){return le(m,_)|m[_+2]<<16}function fe(m,_){return le(m,_)|le(m,_+2)<<16}function Z(m,_){var j=1<<_;return t(m!=null),t(0<_),m.X=a(j),m.X==null?0:(m.Mb=32-_,m.Xa=_,1)}function Ve(m,_){t(m!=null),t(_!=null),t(m.Xa==_.Xa),r(_.X,0,m.X,0,1<<_.Xa)}function Xe(){this.X=[],this.Xa=this.Mb=0}function Ue(m,_,j,F){t(j!=null),t(F!=null);var z=j[0],U=F[0];return z==0&&(z=(m*U+_/2)/_),U==0&&(U=(_*z+m/2)/m),0>=z||0>=U?0:(j[0]=z,F[0]=U,1)}function Oe(m,_){return m+(1<<_)-1>>>_}function We(m,_){return((4278255360&m)+(4278255360&_)>>>0&4278255360)+((16711935&m)+(16711935&_)>>>0&16711935)>>>0}function $e(m,_){I[_]=function(j,F,z,U,q,K,Q){var te;for(te=0;te<q;++te){var he=I[m](K[Q+te-1],z,U+te);K[Q+te]=We(j[F+te],he)}}}function Nt(){this.ud=this.hd=this.jd=0}function st(m,_){return((4278124286&(m^_))>>>1)+(m&_)>>>0}function $t(m){return 0<=m&&256>m?m:0>m?0:255<m?255:void 0}function St(m,_){return $t(m+(m-_+.5>>1))}function it(m,_,j){return Math.abs(_-j)-Math.abs(m-j)}function kt(m,_,j,F,z,U,q){for(F=U[q-1],j=0;j<z;++j)U[q+j]=F=We(m[_+j],F)}function xt(m,_,j,F,z){var U;for(U=0;U<j;++U){var q=m[_+U],K=q>>8&255,Q=16711935&(Q=(Q=16711935&q)+((K<<16)+K));F[z+U]=(4278255360&q)+Q>>>0}}function ot(m,_){_.jd=255&m,_.hd=m>>8&255,_.ud=m>>16&255}function mt(m,_,j,F,z,U){var q;for(q=0;q<F;++q){var K=_[j+q],Q=K>>>8,te=K,he=255&(he=(he=K>>>16)+((m.jd<<24>>24)*(Q<<24>>24)>>>5));te=255&(te=(te+=(m.hd<<24>>24)*(Q<<24>>24)>>>5)+((m.ud<<24>>24)*(he<<24>>24)>>>5)),z[U+q]=(4278255360&K)+(he<<16)+te}}function ct(m,_,j,F,z){I[_]=function(U,q,K,Q,te,he,Se,ne,me){for(Q=Se;Q<ne;++Q)for(Se=0;Se<me;++Se)te[he++]=z(K[F(U[q++])])},I[m]=function(U,q,K,Q,te,he,Se){var ne=8>>U.b,me=U.Ea,we=U.K[0],ke=U.w;if(8>ne)for(U=(1<<U.b)-1,ke=(1<<ne)-1;q<K;++q){var _e,Ce=0;for(_e=0;_e<me;++_e)_e&U||(Ce=F(Q[te++])),he[Se++]=z(we[Ce&ke]),Ce>>=ne}else I["VP8LMapColor"+j](Q,te,we,ke,he,Se,q,K,me)}}function Zt(m,_,j,F,z){for(j=_+j;_<j;){var U=m[_++];F[z++]=U>>16&255,F[z++]=U>>8&255,F[z++]=255&U}}function qt(m,_,j,F,z){for(j=_+j;_<j;){var U=m[_++];F[z++]=U>>16&255,F[z++]=U>>8&255,F[z++]=255&U,F[z++]=U>>24&255}}function tt(m,_,j,F,z){for(j=_+j;_<j;){var U=(q=m[_++])>>16&240|q>>12&15,q=240&q|q>>28&15;F[z++]=U,F[z++]=q}}function bt(m,_,j,F,z){for(j=_+j;_<j;){var U=(q=m[_++])>>16&248|q>>13&7,q=q>>5&224|q>>3&31;F[z++]=U,F[z++]=q}}function ln(m,_,j,F,z){for(j=_+j;_<j;){var U=m[_++];F[z++]=255&U,F[z++]=U>>8&255,F[z++]=U>>16&255}}function ht(m,_,j,F,z,U){if(U==0)for(j=_+j;_<j;)Ee(F,((U=m[_++])[0]>>24|U[1]>>8&65280|U[2]<<8&16711680|U[3]<<24)>>>0),z+=32;else r(F,z,m,_,j)}function Lt(m,_){I[_][0]=I[m+"0"],I[_][1]=I[m+"1"],I[_][2]=I[m+"2"],I[_][3]=I[m+"3"],I[_][4]=I[m+"4"],I[_][5]=I[m+"5"],I[_][6]=I[m+"6"],I[_][7]=I[m+"7"],I[_][8]=I[m+"8"],I[_][9]=I[m+"9"],I[_][10]=I[m+"10"],I[_][11]=I[m+"11"],I[_][12]=I[m+"12"],I[_][13]=I[m+"13"],I[_][14]=I[m+"0"],I[_][15]=I[m+"0"]}function At(m){return m==tb||m==nb||m==bg||m==rb}function Vn(){this.eb=[],this.size=this.A=this.fb=0}function In(){this.y=[],this.f=[],this.ea=[],this.F=[],this.Tc=this.Ed=this.Cd=this.Fd=this.lb=this.Db=this.Ab=this.fa=this.J=this.W=this.N=this.O=0}function nn(){this.Rd=this.height=this.width=this.S=0,this.f={},this.f.RGBA=new Vn,this.f.kb=new In,this.sd=null}function gt(){this.width=[0],this.height=[0],this.Pd=[0],this.Qd=[0],this.format=[0]}function Mt(){this.Id=this.fd=this.Md=this.hb=this.ib=this.da=this.bd=this.cd=this.j=this.v=this.Da=this.Sd=this.ob=0}function yo(m){return alert("todo:WebPSamplerProcessPlane"),m.T}function vr(m,_){var j=m.T,F=_.ba.f.RGBA,z=F.eb,U=F.fb+m.ka*F.A,q=hs[_.ba.S],K=m.y,Q=m.O,te=m.f,he=m.N,Se=m.ea,ne=m.W,me=_.cc,we=_.dc,ke=_.Mc,_e=_.Nc,Ce=m.ka,je=m.ka+m.T,De=m.U,Re=De+1>>1;for(Ce==0?q(K,Q,null,null,te,he,Se,ne,te,he,Se,ne,z,U,null,null,De):(q(_.ec,_.fc,K,Q,me,we,ke,_e,te,he,Se,ne,z,U-F.A,z,U,De),++j);Ce+2<je;Ce+=2)me=te,we=he,ke=Se,_e=ne,he+=m.Rc,ne+=m.Rc,U+=2*F.A,q(K,(Q+=2*m.fa)-m.fa,K,Q,me,we,ke,_e,te,he,Se,ne,z,U-F.A,z,U,De);return Q+=m.fa,m.j+je<m.o?(r(_.ec,_.fc,K,Q,De),r(_.cc,_.dc,te,he,Re),r(_.Mc,_.Nc,Se,ne,Re),j--):1&je||q(K,Q,null,null,te,he,Se,ne,te,he,Se,ne,z,U+F.A,null,null,De),j}function ss(m,_,j){var F=m.F,z=[m.J];if(F!=null){var U=m.U,q=_.ba.S,K=q==xg||q==bg;_=_.ba.f.RGBA;var Q=[0],te=m.ka;Q[0]=m.T,m.Kb&&(te==0?--Q[0]:(--te,z[0]-=m.width),m.j+m.ka+m.T==m.o&&(Q[0]=m.o-m.j-te));var he=_.eb;te=_.fb+te*_.A,m=tE(F,z[0],m.width,U,Q,he,te+(K?0:3),_.A),t(j==Q),m&&At(q)&&cp(he,te,K,U,Q,_.A)}return 0}function Ti(m){var _=m.ma,j=_.ba.S,F=11>j,z=j==vg||j==yg||j==xg||j==eb||j==12||At(j);if(_.memory=null,_.Ib=null,_.Jb=null,_.Nd=null,!np(_.Oa,m,z?11:12))return 0;if(z&&At(j)&&Fc(),m.da)alert("todo:use_scaling");else{if(F){if(_.Ib=yo,m.Kb){if(j=m.U+1>>1,_.memory=a(m.U+2*j),_.memory==null)return 0;_.ec=_.memory,_.fc=0,_.cc=_.ec,_.dc=_.fc+m.U,_.Mc=_.cc,_.Nc=_.dc+j,_.Ib=vr,Fc()}}else alert("todo:EmitYUV");z&&(_.Jb=ss,F&&Pn())}if(F&&!vE){for(m=0;256>m;++m)tq[m]=89858*(m-128)+_g>>wg,iq[m]=-22014*(m-128)+_g,rq[m]=-45773*(m-128),nq[m]=113618*(m-128)+_g>>wg;for(m=fp;m<sb;++m)_=76283*(m-16)+_g>>wg,aq[m-fp]=Rt(_,255),sq[m-fp]=Rt(_+8>>4,15);vE=1}return 1}function ft(m){var _=m.ma,j=m.U,F=m.T;return t(!(1&m.ka)),0>=j||0>=F?0:(j=_.Ib(m,_),_.Jb!=null&&_.Jb(m,_,j),_.Dc+=j,1)}function On(m){m.ma.memory=null}function os(m,_,j,F){return be(m,8)!=47?0:(_[0]=be(m,14)+1,j[0]=be(m,14)+1,F[0]=be(m,1),be(m,3)!=0?0:!m.h)}function Zr(m,_){if(4>m)return m+1;var j=m-2>>1;return(2+(1&m)<<j)+be(_,j)+1}function Jr(m,_){return 120<_?_-120:1<=(j=((j=zW[_-1])>>4)*m+(8-(15&j)))?j:1;var j}function zn(m,_,j){var F=re(j),z=m[_+=255&F].g-8;return 0<z&&(de(j,j.u+8),F=re(j),_+=m[_].value,_+=F&(1<<z)-1),de(j,j.u+m[_].g),m[_].value}function jr(m,_,j){return j.g+=m.g,j.value+=m.value<<_>>>0,t(8>=j.g),m.g}function $n(m,_,j){var F=m.xc;return t((_=F==0?0:m.vc[m.md*(j>>F)+(_>>F)])<m.Wb),m.Ya[_]}function tl(m,_,j,F){var z=m.ab,U=m.c*_,q=m.C;_=q+_;var K=j,Q=F;for(F=m.Ta,j=m.Ua;0<z--;){var te=m.gc[z],he=q,Se=_,ne=K,me=Q,we=(Q=F,K=j,te.Ea);switch(t(he<Se),t(Se<=te.nc),te.hc){case 2:xr(ne,me,(Se-he)*we,Q,K);break;case 0:var ke=he,_e=Se,Ce=Q,je=K,De=(nt=te).Ea;ke==0&&(ip(ne,me,null,null,1,Ce,je),kt(ne,me+1,0,0,De-1,Ce,je+1),me+=De,je+=De,++ke);for(var Re=1<<nt.b,lt=Re-1,Ye=Oe(De,nt.b),It=nt.K,nt=nt.w+(ke>>nt.b)*Ye;ke<_e;){var Wt=It,Vr=nt,Ot=1;for(Jd(ne,me,Ce,je-De,1,Ce,je);Ot<De;){var rt=(Ot&~lt)+Re;rt>De&&(rt=De),(0,sp[Wt[Vr++]>>8&15])(ne,me+ +Ot,Ce,je+Ot-De,rt-Ot,Ce,je+Ot),Ot=rt}me+=De,je+=De,++ke&lt||(nt+=Ye)}Se!=te.nc&&r(Q,K-we,Q,K+(Se-he-1)*we,we);break;case 1:for(we=ne,_e=me,De=(ne=te.Ea)-(je=ne&~(Ce=(me=1<<te.b)-1)),ke=Oe(ne,te.b),Re=te.K,te=te.w+(he>>te.b)*ke;he<Se;){for(lt=Re,Ye=te,It=new Nt,nt=_e+je,Wt=_e+ne;_e<nt;)ot(lt[Ye++],It),op(It,we,_e,me,Q,K),_e+=me,K+=me;_e<Wt&&(ot(lt[Ye++],It),op(It,we,_e,De,Q,K),_e+=De,K+=De),++he&Ce||(te+=ke)}break;case 3:if(ne==Q&&me==K&&0<te.b){for(_e=Q,ne=we=K+(Se-he)*we-(je=(Se-he)*Oe(te.Ea,te.b)),me=Q,Ce=K,ke=[],je=(De=je)-1;0<=je;--je)ke[je]=me[Ce+je];for(je=De-1;0<=je;--je)_e[ne+je]=ke[je];hg(te,he,Se,Q,we,Q,K)}else hg(te,he,Se,ne,me,Q,K)}K=F,Q=j}Q!=j&&r(F,j,K,Q,U)}function xo(m,_){var j=m.V,F=m.Ba+m.c*m.C,z=_-m.C;if(t(_<=m.l.o),t(16>=z),0<z){var U=m.l,q=m.Ta,K=m.Ua,Q=U.width;if(tl(m,z,j,F),z=K=[K],t((j=m.C)<(F=_)),t(U.v<U.va),F>U.o&&(F=U.o),j<U.j){var te=U.j-j;j=U.j,z[0]+=te*Q}if(j>=F?j=0:(z[0]+=4*U.v,U.ka=j-U.j,U.U=U.va-U.v,U.T=F-j,j=1),j){if(K=K[0],11>(j=m.ca).S){var he=j.f.RGBA,Se=(F=j.S,z=U.U,U=U.T,te=he.eb,he.A),ne=U;for(he=he.fb+m.Ma*he.A;0<ne--;){var me=q,we=K,ke=z,_e=te,Ce=he;switch(F){case gg:lp(me,we,ke,_e,Ce);break;case vg:mu(me,we,ke,_e,Ce);break;case tb:mu(me,we,ke,_e,Ce),cp(_e,Ce,0,ke,1,0);break;case lE:Vc(me,we,ke,_e,Ce);break;case yg:ht(me,we,ke,_e,Ce,1);break;case nb:ht(me,we,ke,_e,Ce,1),cp(_e,Ce,0,ke,1,0);break;case xg:ht(me,we,ke,_e,Ce,0);break;case bg:ht(me,we,ke,_e,Ce,0),cp(_e,Ce,1,ke,1,0);break;case eb:gu(me,we,ke,_e,Ce);break;case rb:gu(me,we,ke,_e,Ce),eE(_e,Ce,ke,1,0);break;case uE:vu(me,we,ke,_e,Ce);break;default:t(0)}K+=Q,he+=Se}m.Ma+=U}else alert("todo:EmitRescaledRowsYUVA");t(m.Ma<=j.height)}}m.C=_,t(m.C<=m.i)}function Ci(m){var _;if(0<m.ua)return 0;for(_=0;_<m.Wb;++_){var j=m.Ya[_].G,F=m.Ya[_].H;if(0<j[1][F[1]+0].g||0<j[2][F[2]+0].g||0<j[3][F[3]+0].g)return 0}return 1}function Ia(m,_,j,F,z,U){if(m.Z!=0){var q=m.qd,K=m.rd;for(t(bu[m.Z]!=null);_<j;++_)bu[m.Z](q,K,F,z,F,z,U),q=F,K=z,z+=U;m.qd=q,m.rd=K}}function Qi(m,_){var j=m.l.ma,F=j.Z==0||j.Z==1?m.l.j:m.C;if(F=m.C<F?F:m.C,t(_<=m.l.o),_>F){var z=m.l.width,U=j.ca,q=j.tb+z*F,K=m.V,Q=m.Ba+m.c*F,te=m.gc;t(m.ab==1),t(te[0].hc==3),Io(te[0],F,_,K,Q,U,q),Ia(j,F,_,U,q,z)}m.C=m.Ma=_}function ji(m,_,j,F,z,U,q){var K=m.$/F,Q=m.$%F,te=m.m,he=m.s,Se=j+m.$,ne=Se;z=j+F*z;var me=j+F*U,we=280+he.ua,ke=m.Pb?K:16777216,_e=0<he.ua?he.Wa:null,Ce=he.wc,je=Se<me?$n(he,Q,K):null;t(m.C<U),t(me<=z);var De=!1;e:for(;;){for(;De||Se<me;){var Re=0;if(K>=ke){var lt=Se-j;t((ke=m).Pb),ke.wd=ke.m,ke.xd=lt,0<ke.s.ua&&Ve(ke.s.Wa,ke.s.vb),ke=K+UW}if(Q&Ce||(je=$n(he,Q,K)),t(je!=null),je.Qb&&(_[Se]=je.qb,De=!0),!De)if(ge(te),je.jc){Re=te,lt=_;var Ye=Se,It=je.pd[re(Re)&Bc-1];t(je.jc),256>It.g?(de(Re,Re.u+It.g),lt[Ye]=It.value,Re=0):(de(Re,Re.u+It.g-256),t(256<=It.value),Re=It.value),Re==0&&(De=!0)}else Re=zn(je.G[0],je.H[0],te);if(te.h)break;if(De||256>Re){if(!De)if(je.nd)_[Se]=(je.qb|Re<<8)>>>0;else{if(ge(te),De=zn(je.G[1],je.H[1],te),ge(te),lt=zn(je.G[2],je.H[2],te),Ye=zn(je.G[3],je.H[3],te),te.h)break;_[Se]=(Ye<<24|De<<16|Re<<8|lt)>>>0}if(De=!1,++Se,++Q>=F&&(Q=0,++K,q!=null&&K<=U&&!(K%16)&&q(m,K),_e!=null))for(;ne<Se;)Re=_[ne++],_e.X[(506832829*Re&4294967295)>>>_e.Mb]=Re}else if(280>Re){if(Re=Zr(Re-256,te),lt=zn(je.G[4],je.H[4],te),ge(te),lt=Jr(F,lt=Zr(lt,te)),te.h)break;if(Se-j<lt||z-Se<Re)break e;for(Ye=0;Ye<Re;++Ye)_[Se+Ye]=_[Se+Ye-lt];for(Se+=Re,Q+=Re;Q>=F;)Q-=F,++K,q!=null&&K<=U&&!(K%16)&&q(m,K);if(t(Se<=z),Q&Ce&&(je=$n(he,Q,K)),_e!=null)for(;ne<Se;)Re=_[ne++],_e.X[(506832829*Re&4294967295)>>>_e.Mb]=Re}else{if(!(Re<we))break e;for(De=Re-280,t(_e!=null);ne<Se;)Re=_[ne++],_e.X[(506832829*Re&4294967295)>>>_e.Mb]=Re;Re=Se,t(!(De>>>(lt=_e).Xa)),_[Re]=lt.X[De],De=!0}De||t(te.h==oe(te))}if(m.Pb&&te.h&&Se<z)t(m.m.h),m.a=5,m.m=m.wd,m.$=m.xd,0<m.s.ua&&Ve(m.s.vb,m.s.Wa);else{if(te.h)break e;q!=null&&q(m,K>U?U:K),m.a=0,m.$=Se-j}return 1}return m.a=3,0}function yr(m){t(m!=null),m.vc=null,m.yc=null,m.Ya=null;var _=m.Wa;_!=null&&(_.X=null),m.vb=null,t(m!=null)}function bo(){var m=new Je;return m==null?null:(m.a=0,m.xb=fE,Lt("Predictor","VP8LPredictors"),Lt("Predictor","VP8LPredictors_C"),Lt("PredictorAdd","VP8LPredictorsAdd"),Lt("PredictorAdd","VP8LPredictorsAdd_C"),xr=xt,op=mt,lp=Zt,mu=qt,gu=tt,vu=bt,Vc=ln,I.VP8LMapColor32b=jo,I.VP8LMapColor8b=ap,m)}function Oa(m,_,j,F,z){var U=1,q=[m],K=[_],Q=F.m,te=F.s,he=null,Se=0;e:for(;;){if(j)for(;U&&be(Q,1);){var ne=q,me=K,we=F,ke=1,_e=we.m,Ce=we.gc[we.ab],je=be(_e,2);if(we.Oc&1<<je)U=0;else{switch(we.Oc|=1<<je,Ce.hc=je,Ce.Ea=ne[0],Ce.nc=me[0],Ce.K=[null],++we.ab,t(4>=we.ab),je){case 0:case 1:Ce.b=be(_e,3)+2,ke=Oa(Oe(Ce.Ea,Ce.b),Oe(Ce.nc,Ce.b),0,we,Ce.K),Ce.K=Ce.K[0];break;case 3:var De,Re=be(_e,8)+1,lt=16<Re?0:4<Re?1:2<Re?2:3;if(ne[0]=Oe(Ce.Ea,lt),Ce.b=lt,De=ke=Oa(Re,1,0,we,Ce.K)){var Ye,It=Re,nt=Ce,Wt=1<<(8>>nt.b),Vr=a(Wt);if(Vr==null)De=0;else{var Ot=nt.K[0],rt=nt.w;for(Vr[0]=nt.K[0][0],Ye=1;Ye<1*It;++Ye)Vr[Ye]=We(Ot[rt+Ye],Vr[Ye-1]);for(;Ye<4*Wt;++Ye)Vr[Ye]=0;nt.K[0]=null,nt.K[0]=Vr,De=1}}ke=De;break;case 2:break;default:t(0)}U=ke}}if(q=q[0],K=K[0],U&&be(Q,1)&&!(U=1<=(Se=be(Q,4))&&11>=Se)){F.a=3;break e}var ze;if(ze=U)t:{var wr,jt,Kt,Ln=F,mi=q,ea=K,lr=Se,Oi=j,ta=Ln.m,zr=Ln.s,Yt=[null],dn=1,ur=0,fn=$W[lr];n:for(;;){if(Oi&&be(ta,1)){var gi=be(ta,3)+2,Us=Oe(mi,gi),_r=Oe(ea,gi),ya=Us*_r;if(!Oa(Us,_r,0,Ln,Yt))break n;for(Yt=Yt[0],zr.xc=gi,wr=0;wr<ya;++wr){var wn=Yt[wr]>>8&65535;Yt[wr]=wn,wn>=dn&&(dn=wn+1)}}if(ta.h)break n;for(jt=0;5>jt;++jt){var $r=cE[jt];!jt&&0<lr&&($r+=1<<lr),ur<$r&&(ur=$r)}var za=s(dn*fn,R),na=dn,$a=s(na,Y);if($a==null)var Ua=null;else t(65536>=na),Ua=$a;var xa=a(ur);if(Ua==null||xa==null||za==null){Ln.a=1;break n}var Wa=za;for(wr=Kt=0;wr<dn;++wr){var Nn=Ua[wr],qa=Nn.G,Ws=Nn.H,$c=0,hl=1,vi=0;for(jt=0;5>jt;++jt){$r=cE[jt],qa[jt]=Wa,Ws[jt]=Kt,!jt&&0<lr&&($r+=1<<lr);i:{var Ag,ob=$r,Pg=Ln,hp=xa,uq=Wa,cq=Kt,lb=0,wu=Pg.m,dq=be(wu,1);if(i(hp,0,0,ob),dq){var fq=be(wu,1)+1,hq=be(wu,1),bE=be(wu,hq==0?1:8);hp[bE]=1,fq==2&&(hp[bE=be(wu,8)]=1);var Eg=1}else{var wE=a(19),_E=be(wu,4)+4;if(19<_E){Pg.a=3;var Ng=0;break i}for(Ag=0;Ag<_E;++Ag)wE[VW[Ag]]=be(wu,3);var ub=void 0,pp=void 0,SE=Pg,pq=wE,kg=ob,AE=hp,cb=0,_u=SE.m,PE=8,EE=s(128,R);r:for(;C(EE,0,7,pq,19);){if(be(_u,1)){var mq=2+2*be(_u,3);if((ub=2+be(_u,mq))>kg)break r}else ub=kg;for(pp=0;pp<kg&&ub--;){ge(_u);var NE=EE[0+(127&re(_u))];de(_u,_u.u+NE.g);var tf=NE.value;if(16>tf)AE[pp++]=tf,tf!=0&&(PE=tf);else{var gq=tf==16,kE=tf-16,vq=FW[kE],TE=be(_u,DW[kE])+vq;if(pp+TE>kg)break r;for(var yq=gq?PE:0;0<TE--;)AE[pp++]=yq}}cb=1;break r}cb||(SE.a=3),Eg=cb}(Eg=Eg&&!wu.h)&&(lb=C(uq,cq,8,hp,ob)),Eg&&lb!=0?Ng=lb:(Pg.a=3,Ng=0)}if(Ng==0)break n;if(hl&&BW[jt]==1&&(hl=Wa[Kt].g==0),$c+=Wa[Kt].g,Kt+=Ng,3>=jt){var mp,db=xa[0];for(mp=1;mp<$r;++mp)xa[mp]>db&&(db=xa[mp]);vi+=db}}if(Nn.nd=hl,Nn.Qb=0,hl&&(Nn.qb=(qa[3][Ws[3]+0].value<<24|qa[1][Ws[1]+0].value<<16|qa[2][Ws[2]+0].value)>>>0,$c==0&&256>qa[0][Ws[0]+0].value&&(Nn.Qb=1,Nn.qb+=qa[0][Ws[0]+0].value<<8)),Nn.jc=!Nn.Qb&&6>vi,Nn.jc){var Tg,pl=Nn;for(Tg=0;Tg<Bc;++Tg){var Su=Tg,Au=pl.pd[Su],Cg=pl.G[0][pl.H[0]+Su];256<=Cg.value?(Au.g=Cg.g+256,Au.value=Cg.value):(Au.g=0,Au.value=0,Su>>=jr(Cg,8,Au),Su>>=jr(pl.G[1][pl.H[1]+Su],16,Au),Su>>=jr(pl.G[2][pl.H[2]+Su],0,Au),jr(pl.G[3][pl.H[3]+Su],24,Au))}}}zr.vc=Yt,zr.Wb=dn,zr.Ya=Ua,zr.yc=za,ze=1;break t}ze=0}if(!(U=ze)){F.a=3;break e}if(0<Se){if(te.ua=1<<Se,!Z(te.Wa,Se)){F.a=1,U=0;break e}}else te.ua=0;var fb=F,CE=q,xq=K,hb=fb.s,pb=hb.xc;if(fb.c=CE,fb.i=xq,hb.md=Oe(CE,pb),hb.wc=pb==0?-1:(1<<pb)-1,j){F.xb=XW;break e}if((he=a(q*K))==null){F.a=1,U=0;break e}U=(U=ji(F,he,0,q,K,K,null))&&!Q.h;break e}return U?(z!=null?z[0]=he:(t(he==null),t(j)),F.$=0,j||yr(te)):yr(te),U}function Ms(m,_){var j=m.c*m.i,F=j+_+16*_;return t(m.c<=_),m.V=a(F),m.V==null?(m.Ta=null,m.Ua=0,m.a=1,0):(m.Ta=m.V,m.Ua=m.Ba+j+_,1)}function wo(m,_){var j=m.C,F=_-j,z=m.V,U=m.Ba+m.c*j;for(t(_<=m.l.o);0<F;){var q=16<F?16:F,K=m.l.ma,Q=m.l.width,te=Q*q,he=K.ca,Se=K.tb+Q*j,ne=m.Ta,me=m.Ua;tl(m,q,z,U),nE(ne,me,he,Se,te),Ia(K,j,j+q,he,Se,Q),F-=q,z+=q*m.c,j+=q}t(j==_),m.C=m.Ma=_}function nl(){this.ub=this.yd=this.td=this.Rb=0}function rl(){this.Kd=this.Ld=this.Ud=this.Td=this.i=this.c=0}function Yh(){this.Fb=this.Bb=this.Cb=0,this.Zb=a(4),this.Lb=a(4)}function _o(){this.Yb=function(){var m=[];return function _(j,F,z){for(var U=z[F],q=0;q<U&&(j.push(z.length>F+1?[]:0),!(z.length<F+1));q++)_(j[q],F+1,z)}(m,0,[3,11]),m}()}function Ac(){this.jb=a(3),this.Wc=o([4,8],_o),this.Xc=o([4,17],_o)}function ru(){this.Pc=this.wb=this.Tb=this.zd=0,this.vd=new a(4),this.od=new a(4)}function ei(){this.ld=this.La=this.dd=this.tc=0}function La(){this.Na=this.la=0}function iu(){this.Sc=[0,0],this.Eb=[0,0],this.Qc=[0,0],this.ia=this.lc=0}function Pc(){this.ad=a(384),this.Za=0,this.Ob=a(16),this.$b=this.Ad=this.ia=this.Gc=this.Hc=this.Dd=0}function Ec(){this.uc=this.M=this.Nb=0,this.wa=Array(new ei),this.Y=0,this.ya=Array(new Pc),this.aa=0,this.l=new So}function Nc(){this.y=a(16),this.f=a(8),this.ea=a(8)}function kc(){this.cb=this.a=0,this.sc="",this.m=new $,this.Od=new nl,this.Kc=new rl,this.ed=new ru,this.Qa=new Yh,this.Ic=this.$c=this.Aa=0,this.D=new Ec,this.Xb=this.Va=this.Hb=this.zb=this.yb=this.Ub=this.za=0,this.Jc=s(8,$),this.ia=0,this.pb=s(4,iu),this.Pa=new Ac,this.Bd=this.kc=0,this.Ac=[],this.Bc=0,this.zc=[0,0,0,0],this.Gd=Array(new Nc),this.Hd=0,this.rb=Array(new La),this.sb=0,this.wa=Array(new ei),this.Y=0,this.oc=[],this.pc=0,this.sa=[],this.ta=0,this.qa=[],this.ra=0,this.Ha=[],this.B=this.R=this.Ia=0,this.Ec=[],this.M=this.ja=this.Vb=this.Fc=0,this.ya=Array(new Pc),this.L=this.aa=0,this.gd=o([4,2],ei),this.ga=null,this.Fa=[],this.Cc=this.qc=this.P=0,this.Gb=[],this.Uc=0,this.mb=[],this.nb=0,this.rc=[],this.Ga=this.Vc=0}function So(){this.T=this.U=this.ka=this.height=this.width=0,this.y=[],this.f=[],this.ea=[],this.Rc=this.fa=this.W=this.N=this.O=0,this.ma="void",this.put="VP8IoPutHook",this.ac="VP8IoSetupHook",this.bc="VP8IoTeardownHook",this.ha=this.Kb=0,this.data=[],this.hb=this.ib=this.da=this.o=this.j=this.va=this.v=this.Da=this.ob=this.w=0,this.F=[],this.J=0}function Tc(){var m=new kc;return m!=null&&(m.a=0,m.sc="OK",m.cb=0,m.Xb=0,dp||(dp=Ds)),m}function Yn(m,_,j){return m.a==0&&(m.a=_,m.sc=j,m.cb=0),0}function Cc(m,_,j){return 3<=j&&m[_+0]==157&&m[_+1]==1&&m[_+2]==42}function Xd(m,_){if(m==null)return 0;if(m.a=0,m.sc="OK",_==null)return Yn(m,2,"null VP8Io passed to VP8GetHeaders()");var j=_.data,F=_.w,z=_.ha;if(4>z)return Yn(m,7,"Truncated header.");var U=j[F+0]|j[F+1]<<8|j[F+2]<<16,q=m.Od;if(q.Rb=!(1&U),q.td=U>>1&7,q.yd=U>>4&1,q.ub=U>>5,3<q.td)return Yn(m,3,"Incorrect keyframe parameters.");if(!q.yd)return Yn(m,4,"Frame not displayable.");F+=3,z-=3;var K=m.Kc;if(q.Rb){if(7>z)return Yn(m,7,"cannot parse picture header");if(!Cc(j,F,z))return Yn(m,3,"Bad code word");K.c=16383&(j[F+4]<<8|j[F+3]),K.Td=j[F+4]>>6,K.i=16383&(j[F+6]<<8|j[F+5]),K.Ud=j[F+6]>>6,F+=7,z-=7,m.za=K.c+15>>4,m.Ub=K.i+15>>4,_.width=K.c,_.height=K.i,_.Da=0,_.j=0,_.v=0,_.va=_.width,_.o=_.height,_.da=0,_.ib=_.width,_.hb=_.height,_.U=_.width,_.T=_.height,i((U=m.Pa).jb,0,255,U.jb.length),t((U=m.Qa)!=null),U.Cb=0,U.Bb=0,U.Fb=1,i(U.Zb,0,0,U.Zb.length),i(U.Lb,0,0,U.Lb)}if(q.ub>z)return Yn(m,7,"bad partition length");ae(U=m.m,j,F,q.ub),F+=q.ub,z-=q.ub,q.Rb&&(K.Ld=J(U),K.Kd=J(U)),K=m.Qa;var Q,te=m.Pa;if(t(U!=null),t(K!=null),K.Cb=J(U),K.Cb){if(K.Bb=J(U),J(U)){for(K.Fb=J(U),Q=0;4>Q;++Q)K.Zb[Q]=J(U)?H(U,7):0;for(Q=0;4>Q;++Q)K.Lb[Q]=J(U)?H(U,6):0}if(K.Bb)for(Q=0;3>Q;++Q)te.jb[Q]=J(U)?ie(U,8):255}else K.Bb=0;if(U.Ka)return Yn(m,3,"cannot parse segment header");if((K=m.ed).zd=J(U),K.Tb=ie(U,6),K.wb=ie(U,3),K.Pc=J(U),K.Pc&&J(U)){for(te=0;4>te;++te)J(U)&&(K.vd[te]=H(U,6));for(te=0;4>te;++te)J(U)&&(K.od[te]=H(U,6))}if(m.L=K.Tb==0?0:K.zd?1:2,U.Ka)return Yn(m,3,"cannot parse filter header");var he=z;if(z=Q=F,F=Q+he,K=he,m.Xb=(1<<ie(m.m,2))-1,he<3*(te=m.Xb))j=7;else{for(Q+=3*te,K-=3*te,he=0;he<te;++he){var Se=j[z+0]|j[z+1]<<8|j[z+2]<<16;Se>K&&(Se=K),ae(m.Jc[+he],j,Q,Se),Q+=Se,K-=Se,z+=3}ae(m.Jc[+te],j,Q,K),j=Q<F?0:5}if(j!=0)return Yn(m,j,"cannot parse partitions");for(j=ie(Q=m.m,7),z=J(Q)?H(Q,4):0,F=J(Q)?H(Q,4):0,K=J(Q)?H(Q,4):0,te=J(Q)?H(Q,4):0,Q=J(Q)?H(Q,4):0,he=m.Qa,Se=0;4>Se;++Se){if(he.Cb){var ne=he.Zb[Se];he.Fb||(ne+=j)}else{if(0<Se){m.pb[Se]=m.pb[0];continue}ne=j}var me=m.pb[Se];me.Sc[0]=ib[Rt(ne+z,127)],me.Sc[1]=ab[Rt(ne+0,127)],me.Eb[0]=2*ib[Rt(ne+F,127)],me.Eb[1]=101581*ab[Rt(ne+K,127)]>>16,8>me.Eb[1]&&(me.Eb[1]=8),me.Qc[0]=ib[Rt(ne+te,117)],me.Qc[1]=ab[Rt(ne+Q,127)],me.lc=ne+Q}if(!q.Rb)return Yn(m,4,"Not a key frame.");for(J(U),q=m.Pa,j=0;4>j;++j){for(z=0;8>z;++z)for(F=0;3>F;++F)for(K=0;11>K;++K)te=pe(U,GW[j][z][F][K])?ie(U,8):HW[j][z][F][K],q.Wc[j][z].Yb[F][K]=te;for(z=0;17>z;++z)q.Xc[j][z]=q.Wc[j][YW[z]]}return m.kc=J(U),m.kc&&(m.Bd=ie(U,8)),m.cb=1}function Ds(m,_,j,F,z,U,q){var K=_[z].Yb[j];for(j=0;16>z;++z){if(!pe(m,K[j+0]))return z;for(;!pe(m,K[j+1]);)if(K=_[++z].Yb[0],j=0,z==16)return 16;var Q=_[z+1].Yb;if(pe(m,K[j+2])){var te=m,he=0;if(pe(te,(ne=K)[(Se=j)+3]))if(pe(te,ne[Se+6])){for(K=0,Se=2*(he=pe(te,ne[Se+8]))+(ne=pe(te,ne[Se+9+he])),he=0,ne=WW[Se];ne[K];++K)he+=he+pe(te,ne[K]);he+=3+(8<<Se)}else pe(te,ne[Se+7])?(he=7+2*pe(te,165),he+=pe(te,145)):he=5+pe(te,159);else he=pe(te,ne[Se+4])?3+pe(te,ne[Se+5]):2;K=Q[2]}else he=1,K=Q[1];Q=q+qW[z],0>(te=m).b&&ce(te);var Se,ne=te.b,me=(Se=te.Ca>>1)-(te.I>>ne)>>31;--te.b,te.Ca+=me,te.Ca|=1,te.I-=(Se+1&me)<<ne,U[Q]=((he^me)-me)*F[(0<z)+0]}return 16}function Ao(m){var _=m.rb[m.sb-1];_.la=0,_.Na=0,i(m.zc,0,0,m.zc.length),m.ja=0}function pa(m,_,j,F,z){z=m[_+j+32*F]+(z>>3),m[_+j+32*F]=-256&z?0>z?0:255:z}function il(m,_,j,F,z,U){pa(m,_,0,j,F+z),pa(m,_,1,j,F+U),pa(m,_,2,j,F-U),pa(m,_,3,j,F-z)}function un(m){return(20091*m>>16)+m}function Zi(m,_,j,F){var z,U=0,q=a(16);for(z=0;4>z;++z){var K=m[_+0]+m[_+8],Q=m[_+0]-m[_+8],te=(35468*m[_+4]>>16)-un(m[_+12]),he=un(m[_+4])+(35468*m[_+12]>>16);q[U+0]=K+he,q[U+1]=Q+te,q[U+2]=Q-te,q[U+3]=K-he,U+=4,_++}for(z=U=0;4>z;++z)K=(m=q[U+0]+4)+q[U+8],Q=m-q[U+8],te=(35468*q[U+4]>>16)-un(q[U+12]),pa(j,F,0,0,K+(he=un(q[U+4])+(35468*q[U+12]>>16))),pa(j,F,1,0,Q+te),pa(j,F,2,0,Q-te),pa(j,F,3,0,K-he),U++,F+=32}function au(m,_,j,F){var z=m[_+0]+4,U=35468*m[_+4]>>16,q=un(m[_+4]),K=35468*m[_+1]>>16;il(j,F,0,z+q,m=un(m[_+1]),K),il(j,F,1,z+U,m,K),il(j,F,2,z-U,m,K),il(j,F,3,z-q,m,K)}function su(m,_,j,F,z){Zi(m,_,j,F),z&&Zi(m,_+16,j,F+4)}function Qd(m,_,j,F){zc(m,_+0,j,F,1),zc(m,_+32,j,F+128,1)}function Vt(m,_,j,F){var z;for(m=m[_+0]+4,z=0;4>z;++z)for(_=0;4>_;++_)pa(j,F,_,z,m)}function al(m,_,j,F){m[_+0]&&sn(m,_+0,j,F),m[_+16]&&sn(m,_+16,j,F+4),m[_+32]&&sn(m,_+32,j,F+128),m[_+48]&&sn(m,_+48,j,F+128+4)}function Po(m,_,j,F){var z,U=a(16);for(z=0;4>z;++z){var q=m[_+0+z]+m[_+12+z],K=m[_+4+z]+m[_+8+z],Q=m[_+4+z]-m[_+8+z],te=m[_+0+z]-m[_+12+z];U[0+z]=q+K,U[8+z]=q-K,U[4+z]=te+Q,U[12+z]=te-Q}for(z=0;4>z;++z)q=(m=U[0+4*z]+3)+U[3+4*z],K=U[1+4*z]+U[2+4*z],Q=U[1+4*z]-U[2+4*z],te=m-U[3+4*z],j[F+0]=q+K>>3,j[F+16]=te+Q>>3,j[F+32]=q-K>>3,j[F+48]=te-Q>>3,F+=64}function ma(m,_,j){var F,z=_-32,U=Va,q=255-m[z-1];for(F=0;F<j;++F){var K,Q=U,te=q+m[_-1];for(K=0;K<j;++K)m[_+K]=Q[te+m[z+K]];_+=32}}function jc(m,_){ma(m,_,4)}function Zd(m,_){ma(m,_,8)}function Xh(m,_){ma(m,_,16)}function Qh(m,_){var j;for(j=0;16>j;++j)r(m,_+32*j,m,_-32,16)}function Ic(m,_){var j;for(j=16;0<j;--j)i(m,_,m[_-1],16),_+=32}function sl(m,_,j){var F;for(F=0;16>F;++F)i(_,j+32*F,m,16)}function ga(m,_){var j,F=16;for(j=0;16>j;++j)F+=m[_-1+32*j]+m[_+j-32];sl(F>>5,m,_)}function ls(m,_){var j,F=8;for(j=0;16>j;++j)F+=m[_-1+32*j];sl(F>>4,m,_)}function Eo(m,_){var j,F=8;for(j=0;16>j;++j)F+=m[_+j-32];sl(F>>4,m,_)}function ou(m,_){sl(128,m,_)}function vt(m,_,j){return m+2*_+j+2>>2}function No(m,_){var j,F=_-32;for(F=new Uint8Array([vt(m[F-1],m[F+0],m[F+1]),vt(m[F+0],m[F+1],m[F+2]),vt(m[F+1],m[F+2],m[F+3]),vt(m[F+2],m[F+3],m[F+4])]),j=0;4>j;++j)r(m,_+32*j,F,0,F.length)}function Zh(m,_){var j=m[_-1],F=m[_-1+32],z=m[_-1+64],U=m[_-1+96];Ee(m,_+0,16843009*vt(m[_-1-32],j,F)),Ee(m,_+32,16843009*vt(j,F,z)),Ee(m,_+64,16843009*vt(F,z,U)),Ee(m,_+96,16843009*vt(z,U,U))}function Jh(m,_){var j,F=4;for(j=0;4>j;++j)F+=m[_+j-32]+m[_-1+32*j];for(F>>=3,j=0;4>j;++j)i(m,_+32*j,F,4)}function ep(m,_){var j=m[_-1+0],F=m[_-1+32],z=m[_-1+64],U=m[_-1-32],q=m[_+0-32],K=m[_+1-32],Q=m[_+2-32],te=m[_+3-32];m[_+0+96]=vt(F,z,m[_-1+96]),m[_+1+96]=m[_+0+64]=vt(j,F,z),m[_+2+96]=m[_+1+64]=m[_+0+32]=vt(U,j,F),m[_+3+96]=m[_+2+64]=m[_+1+32]=m[_+0+0]=vt(q,U,j),m[_+3+64]=m[_+2+32]=m[_+1+0]=vt(K,q,U),m[_+3+32]=m[_+2+0]=vt(Q,K,q),m[_+3+0]=vt(te,Q,K)}function ti(m,_){var j=m[_+1-32],F=m[_+2-32],z=m[_+3-32],U=m[_+4-32],q=m[_+5-32],K=m[_+6-32],Q=m[_+7-32];m[_+0+0]=vt(m[_+0-32],j,F),m[_+1+0]=m[_+0+32]=vt(j,F,z),m[_+2+0]=m[_+1+32]=m[_+0+64]=vt(F,z,U),m[_+3+0]=m[_+2+32]=m[_+1+64]=m[_+0+96]=vt(z,U,q),m[_+3+32]=m[_+2+64]=m[_+1+96]=vt(U,q,K),m[_+3+64]=m[_+2+96]=vt(q,K,Q),m[_+3+96]=vt(K,Q,Q)}function Fs(m,_){var j=m[_-1+0],F=m[_-1+32],z=m[_-1+64],U=m[_-1-32],q=m[_+0-32],K=m[_+1-32],Q=m[_+2-32],te=m[_+3-32];m[_+0+0]=m[_+1+64]=U+q+1>>1,m[_+1+0]=m[_+2+64]=q+K+1>>1,m[_+2+0]=m[_+3+64]=K+Q+1>>1,m[_+3+0]=Q+te+1>>1,m[_+0+96]=vt(z,F,j),m[_+0+64]=vt(F,j,U),m[_+0+32]=m[_+1+96]=vt(j,U,q),m[_+1+32]=m[_+2+96]=vt(U,q,K),m[_+2+32]=m[_+3+96]=vt(q,K,Q),m[_+3+32]=vt(K,Q,te)}function tp(m,_){var j=m[_+0-32],F=m[_+1-32],z=m[_+2-32],U=m[_+3-32],q=m[_+4-32],K=m[_+5-32],Q=m[_+6-32],te=m[_+7-32];m[_+0+0]=j+F+1>>1,m[_+1+0]=m[_+0+64]=F+z+1>>1,m[_+2+0]=m[_+1+64]=z+U+1>>1,m[_+3+0]=m[_+2+64]=U+q+1>>1,m[_+0+32]=vt(j,F,z),m[_+1+32]=m[_+0+96]=vt(F,z,U),m[_+2+32]=m[_+1+96]=vt(z,U,q),m[_+3+32]=m[_+2+96]=vt(U,q,K),m[_+3+64]=vt(q,K,Q),m[_+3+96]=vt(K,Q,te)}function lu(m,_){var j=m[_-1+0],F=m[_-1+32],z=m[_-1+64],U=m[_-1+96];m[_+0+0]=j+F+1>>1,m[_+2+0]=m[_+0+32]=F+z+1>>1,m[_+2+32]=m[_+0+64]=z+U+1>>1,m[_+1+0]=vt(j,F,z),m[_+3+0]=m[_+1+32]=vt(F,z,U),m[_+3+32]=m[_+1+64]=vt(z,U,U),m[_+3+64]=m[_+2+64]=m[_+0+96]=m[_+1+96]=m[_+2+96]=m[_+3+96]=U}function Bs(m,_){var j=m[_-1+0],F=m[_-1+32],z=m[_-1+64],U=m[_-1+96],q=m[_-1-32],K=m[_+0-32],Q=m[_+1-32],te=m[_+2-32];m[_+0+0]=m[_+2+32]=j+q+1>>1,m[_+0+32]=m[_+2+64]=F+j+1>>1,m[_+0+64]=m[_+2+96]=z+F+1>>1,m[_+0+96]=U+z+1>>1,m[_+3+0]=vt(K,Q,te),m[_+2+0]=vt(q,K,Q),m[_+1+0]=m[_+3+32]=vt(j,q,K),m[_+1+32]=m[_+3+64]=vt(F,j,q),m[_+1+64]=m[_+3+96]=vt(z,F,j),m[_+1+96]=vt(U,z,F)}function uu(m,_){var j;for(j=0;8>j;++j)r(m,_+32*j,m,_-32,8)}function Ra(m,_){var j;for(j=0;8>j;++j)i(m,_,m[_-1],8),_+=32}function us(m,_,j){var F;for(F=0;8>F;++F)i(_,j+32*F,m,8)}function ol(m,_){var j,F=8;for(j=0;8>j;++j)F+=m[_+j-32]+m[_-1+32*j];us(F>>4,m,_)}function Oc(m,_){var j,F=4;for(j=0;8>j;++j)F+=m[_+j-32];us(F>>3,m,_)}function xn(m,_){var j,F=4;for(j=0;8>j;++j)F+=m[_-1+32*j];us(F>>3,m,_)}function Lc(m,_){us(128,m,_)}function ll(m,_,j){var F=m[_-j],z=m[_+0],U=3*(z-F)+Jx[1020+m[_-2*j]-m[_+j]],q=mg[112+(U+4>>3)];m[_-j]=Va[255+F+mg[112+(U+3>>3)]],m[_+0]=Va[255+z-q]}function ko(m,_,j,F){var z=m[_+0],U=m[_+j];return fs[255+m[_-2*j]-m[_-j]]>F||fs[255+U-z]>F}function cu(m,_,j,F){return 4*fs[255+m[_-j]-m[_+0]]+fs[255+m[_-2*j]-m[_+j]]<=F}function ul(m,_,j,F,z){var U=m[_-3*j],q=m[_-2*j],K=m[_-j],Q=m[_+0],te=m[_+j],he=m[_+2*j],Se=m[_+3*j];return 4*fs[255+K-Q]+fs[255+q-te]>F?0:fs[255+m[_-4*j]-U]<=z&&fs[255+U-q]<=z&&fs[255+q-K]<=z&&fs[255+Se-he]<=z&&fs[255+he-te]<=z&&fs[255+te-Q]<=z}function To(m,_,j,F){var z=2*F+1;for(F=0;16>F;++F)cu(m,_+F,j,z)&&ll(m,_+F,j)}function Co(m,_,j,F){var z=2*F+1;for(F=0;16>F;++F)cu(m,_+F*j,1,z)&&ll(m,_+F*j,1)}function va(m,_,j,F){var z;for(z=3;0<z;--z)To(m,_+=4*j,j,F)}function Rc(m,_,j,F){var z;for(z=3;0<z;--z)Co(m,_+=4,j,F)}function Vs(m,_,j,F,z,U,q,K){for(U=2*U+1;0<z--;){if(ul(m,_,j,U,q))if(ko(m,_,j,K))ll(m,_,j);else{var Q=m,te=_,he=j,Se=Q[te-2*he],ne=Q[te-he],me=Q[te+0],we=Q[te+he],ke=Q[te+2*he],_e=27*(je=Jx[1020+3*(me-ne)+Jx[1020+Se-we]])+63>>7,Ce=18*je+63>>7,je=9*je+63>>7;Q[te-3*he]=Va[255+Q[te-3*he]+je],Q[te-2*he]=Va[255+Se+Ce],Q[te-he]=Va[255+ne+_e],Q[te+0]=Va[255+me-_e],Q[te+he]=Va[255+we-Ce],Q[te+2*he]=Va[255+ke-je]}_+=F}}function Ji(m,_,j,F,z,U,q,K){for(U=2*U+1;0<z--;){if(ul(m,_,j,U,q))if(ko(m,_,j,K))ll(m,_,j);else{var Q=m,te=_,he=j,Se=Q[te-he],ne=Q[te+0],me=Q[te+he],we=mg[112+(4+(ke=3*(ne-Se))>>3)],ke=mg[112+(ke+3>>3)],_e=we+1>>1;Q[te-2*he]=Va[255+Q[te-2*he]+_e],Q[te-he]=Va[255+Se+ke],Q[te+0]=Va[255+ne-we],Q[te+he]=Va[255+me-_e]}_+=F}}function Mc(m,_,j,F,z,U){Vs(m,_,j,1,16,F,z,U)}function du(m,_,j,F,z,U){Vs(m,_,1,j,16,F,z,U)}function cs(m,_,j,F,z,U){var q;for(q=3;0<q;--q)Ji(m,_+=4*j,j,1,16,F,z,U)}function Dc(m,_,j,F,z,U){var q;for(q=3;0<q;--q)Ji(m,_+=4,1,j,16,F,z,U)}function E(m,_,j,F,z,U,q,K){Vs(m,_,z,1,8,U,q,K),Vs(j,F,z,1,8,U,q,K)}function V(m,_,j,F,z,U,q,K){Vs(m,_,1,z,8,U,q,K),Vs(j,F,1,z,8,U,q,K)}function ee(m,_,j,F,z,U,q,K){Ji(m,_+4*z,z,1,8,U,q,K),Ji(j,F+4*z,z,1,8,U,q,K)}function ue(m,_,j,F,z,U,q,K){Ji(m,_+4,1,z,8,U,q,K),Ji(j,F+4,1,z,8,U,q,K)}function ve(){this.ba=new nn,this.ec=[],this.cc=[],this.Mc=[],this.Dc=this.Nc=this.dc=this.fc=0,this.Oa=new Mt,this.memory=0,this.Ib="OutputFunc",this.Jb="OutputAlphaFunc",this.Nd="OutputRowFunc"}function Te(){this.data=[],this.offset=this.kd=this.ha=this.w=0,this.na=[],this.xa=this.gb=this.Ja=this.Sa=this.P=0}function Le(){this.nc=this.Ea=this.b=this.hc=0,this.K=[],this.w=0}function He(){this.ua=0,this.Wa=new Xe,this.vb=new Xe,this.md=this.xc=this.wc=0,this.vc=[],this.Wb=0,this.Ya=new Y,this.yc=new R}function Je(){this.xb=this.a=0,this.l=new So,this.ca=new nn,this.V=[],this.Ba=0,this.Ta=[],this.Ua=0,this.m=new X,this.Pb=0,this.wd=new X,this.Ma=this.$=this.C=this.i=this.c=this.xd=0,this.s=new He,this.ab=0,this.gc=s(4,Le),this.Oc=0}function pt(){this.Lc=this.Z=this.$a=this.i=this.c=0,this.l=new So,this.ic=0,this.ca=[],this.tb=0,this.qd=null,this.rd=0}function wt(m,_,j,F,z,U,q){for(m=m==null?0:m[_+0],_=0;_<q;++_)z[U+_]=m+j[F+_]&255,m=z[U+_]}function Ht(m,_,j,F,z,U,q){var K;if(m==null)wt(null,null,j,F,z,U,q);else for(K=0;K<q;++K)z[U+K]=m[_+K]+j[F+K]&255}function rn(m,_,j,F,z,U,q){if(m==null)wt(null,null,j,F,z,U,q);else{var K,Q=m[_+0],te=Q,he=Q;for(K=0;K<q;++K)te=he+(Q=m[_+K])-te,he=j[F+K]+(-256&te?0>te?0:255:te)&255,te=Q,z[U+K]=he}}function Xn(m,_,j,F){var z=_.width,U=_.o;if(t(m!=null&&_!=null),0>j||0>=F||j+F>U)return null;if(!m.Cc){if(m.ga==null){var q;if(m.ga=new pt,(q=m.ga==null)||(q=_.width*_.o,t(m.Gb.length==0),m.Gb=a(q),m.Uc=0,m.Gb==null?q=0:(m.mb=m.Gb,m.nb=m.Uc,m.rc=null,q=1),q=!q),!q){q=m.ga;var K=m.Fa,Q=m.P,te=m.qc,he=m.mb,Se=m.nb,ne=Q+1,me=te-1,we=q.l;if(t(K!=null&&he!=null&&_!=null),bu[0]=null,bu[1]=wt,bu[2]=Ht,bu[3]=rn,q.ca=he,q.tb=Se,q.c=_.width,q.i=_.height,t(0<q.c&&0<q.i),1>=te)_=0;else if(q.$a=3&K[Q+0],q.Z=K[Q+0]>>2&3,q.Lc=K[Q+0]>>4&3,Q=K[Q+0]>>6&3,0>q.$a||1<q.$a||4<=q.Z||1<q.Lc||Q)_=0;else if(we.put=ft,we.ac=Ti,we.bc=On,we.ma=q,we.width=_.width,we.height=_.height,we.Da=_.Da,we.v=_.v,we.va=_.va,we.j=_.j,we.o=_.o,q.$a)e:{t(q.$a==1),_=bo();t:for(;;){if(_==null){_=0;break e}if(t(q!=null),q.mc=_,_.c=q.c,_.i=q.i,_.l=q.l,_.l.ma=q,_.l.width=q.c,_.l.height=q.i,_.a=0,se(_.m,K,ne,me),!Oa(q.c,q.i,1,_,null)||(_.ab==1&&_.gc[0].hc==3&&Ci(_.s)?(q.ic=1,K=_.c*_.i,_.Ta=null,_.Ua=0,_.V=a(K),_.Ba=0,_.V==null?(_.a=1,_=0):_=1):(q.ic=0,_=Ms(_,q.c)),!_))break t;_=1;break e}q.mc=null,_=0}else _=me>=q.c*q.i;q=!_}if(q)return null;m.ga.Lc!=1?m.Ga=0:F=U-j}t(m.ga!=null),t(j+F<=U);e:{if(_=(K=m.ga).c,U=K.l.o,K.$a==0){if(ne=m.rc,me=m.Vc,we=m.Fa,Q=m.P+1+j*_,te=m.mb,he=m.nb+j*_,t(Q<=m.P+m.qc),K.Z!=0)for(t(bu[K.Z]!=null),q=0;q<F;++q)bu[K.Z](ne,me,we,Q,te,he,_),ne=te,me=he,he+=_,Q+=_;else for(q=0;q<F;++q)r(te,he,we,Q,_),ne=te,me=he,he+=_,Q+=_;m.rc=ne,m.Vc=me}else{if(t(K.mc!=null),_=j+F,t((q=K.mc)!=null),t(_<=q.i),q.C>=_)_=1;else if(K.ic||Pn(),K.ic){K=q.V,ne=q.Ba,me=q.c;var ke=q.i,_e=(we=1,Q=q.$/me,te=q.$%me,he=q.m,Se=q.s,q.$),Ce=me*ke,je=me*_,De=Se.wc,Re=_e<je?$n(Se,te,Q):null;t(_e<=Ce),t(_<=ke),t(Ci(Se));t:for(;;){for(;!he.h&&_e<je;){if(te&De||(Re=$n(Se,te,Q)),t(Re!=null),ge(he),256>(ke=zn(Re.G[0],Re.H[0],he)))K[ne+_e]=ke,++_e,++te>=me&&(te=0,++Q<=_&&!(Q%16)&&Qi(q,Q));else{if(!(280>ke)){we=0;break t}ke=Zr(ke-256,he);var lt,Ye=zn(Re.G[4],Re.H[4],he);if(ge(he),!(_e>=(Ye=Jr(me,Ye=Zr(Ye,he)))&&Ce-_e>=ke)){we=0;break t}for(lt=0;lt<ke;++lt)K[ne+_e+lt]=K[ne+_e+lt-Ye];for(_e+=ke,te+=ke;te>=me;)te-=me,++Q<=_&&!(Q%16)&&Qi(q,Q);_e<je&&te&De&&(Re=$n(Se,te,Q))}t(he.h==oe(he))}Qi(q,Q>_?_:Q);break t}!we||he.h&&_e<Ce?(we=0,q.a=he.h?5:3):q.$=_e,_=we}else _=ji(q,q.V,q.Ba,q.c,q.i,_,wo);if(!_){F=0;break e}}j+F>=U&&(m.Cc=1),F=1}if(!F)return null;if(m.Cc&&((F=m.ga)!=null&&(F.mc=null),m.ga=null,0<m.Ga))return alert("todo:WebPDequantizeLevels"),null}return m.nb+j*z}function cn(m,_,j,F,z,U){for(;0<z--;){var q,K=m,Q=_+(j?1:0),te=m,he=_+(j?0:3);for(q=0;q<F;++q){var Se=te[he+4*q];Se!=255&&(Se*=32897,K[Q+4*q+0]=K[Q+4*q+0]*Se>>23,K[Q+4*q+1]=K[Q+4*q+1]*Se>>23,K[Q+4*q+2]=K[Q+4*q+2]*Se>>23)}_+=U}}function sr(m,_,j,F,z){for(;0<F--;){var U;for(U=0;U<j;++U){var q=m[_+2*U+0],K=15&(te=m[_+2*U+1]),Q=4369*K,te=(240&te|te>>4)*Q>>16;m[_+2*U+0]=(240&q|q>>4)*Q>>16&240|(15&q|q<<4)*Q>>16>>4&15,m[_+2*U+1]=240&te|K}_+=z}}function Qn(m,_,j,F,z,U,q,K){var Q,te,he=255;for(te=0;te<z;++te){for(Q=0;Q<F;++Q){var Se=m[_+Q];U[q+4*Q]=Se,he&=Se}_+=j,q+=K}return he!=255}function or(m,_,j,F,z){var U;for(U=0;U<z;++U)j[F+U]=m[_+U]>>8}function Pn(){cp=cn,eE=sr,tE=Qn,nE=or}function hi(m,_,j){I[m]=function(F,z,U,q,K,Q,te,he,Se,ne,me,we,ke,_e,Ce,je,De){var Re,lt=De-1>>1,Ye=K[Q+0]|te[he+0]<<16,It=Se[ne+0]|me[we+0]<<16;t(F!=null);var nt=3*Ye+It+131074>>2;for(_(F[z+0],255&nt,nt>>16,ke,_e),U!=null&&(nt=3*It+Ye+131074>>2,_(U[q+0],255&nt,nt>>16,Ce,je)),Re=1;Re<=lt;++Re){var Wt=K[Q+Re]|te[he+Re]<<16,Vr=Se[ne+Re]|me[we+Re]<<16,Ot=Ye+Wt+It+Vr+524296,rt=Ot+2*(Wt+It)>>3;nt=rt+Ye>>1,Ye=(Ot=Ot+2*(Ye+Vr)>>3)+Wt>>1,_(F[z+2*Re-1],255&nt,nt>>16,ke,_e+(2*Re-1)*j),_(F[z+2*Re-0],255&Ye,Ye>>16,ke,_e+(2*Re-0)*j),U!=null&&(nt=Ot+It>>1,Ye=rt+Vr>>1,_(U[q+2*Re-1],255&nt,nt>>16,Ce,je+(2*Re-1)*j),_(U[q+2*Re+0],255&Ye,Ye>>16,Ce,je+(2*Re+0)*j)),Ye=Wt,It=Vr}1&De||(nt=3*Ye+It+131074>>2,_(F[z+De-1],255&nt,nt>>16,ke,_e+(De-1)*j),U!=null&&(nt=3*It+Ye+131074>>2,_(U[q+De-1],255&nt,nt>>16,Ce,je+(De-1)*j)))}}function Fc(){hs[gg]=QW,hs[vg]=hE,hs[lE]=ZW,hs[yg]=pE,hs[xg]=mE,hs[eb]=gE,hs[uE]=JW,hs[tb]=hE,hs[nb]=pE,hs[bg]=mE,hs[rb]=gE}function Ma(m){return m&-16384?0>m?0:255:m>>eq}function y(m,_){return Ma((19077*m>>8)+(26149*_>>8)-14234)}function L(m,_,j){return Ma((19077*m>>8)-(6419*_>>8)-(13320*j>>8)+8708)}function B(m,_){return Ma((19077*m>>8)+(33050*_>>8)-17685)}function G(m,_,j,F,z){F[z+0]=y(m,j),F[z+1]=L(m,_,j),F[z+2]=B(m,_)}function xe(m,_,j,F,z){F[z+0]=B(m,_),F[z+1]=L(m,_,j),F[z+2]=y(m,j)}function Pe(m,_,j,F,z){var U=L(m,_,j);_=U<<3&224|B(m,_)>>3,F[z+0]=248&y(m,j)|U>>5,F[z+1]=_}function Be(m,_,j,F,z){var U=240&B(m,_)|15;F[z+0]=240&y(m,j)|L(m,_,j)>>4,F[z+1]=U}function Ut(m,_,j,F,z){F[z+0]=255,G(m,_,j,F,z+1)}function Zn(m,_,j,F,z){xe(m,_,j,F,z),F[z+3]=255}function Dt(m,_,j,F,z){G(m,_,j,F,z),F[z+3]=255}function Rt(m,_){return 0>m?0:m>_?_:m}function En(m,_,j){I[m]=function(F,z,U,q,K,Q,te,he,Se){for(var ne=he+(-2&Se)*j;he!=ne;)_(F[z+0],U[q+0],K[Q+0],te,he),_(F[z+1],U[q+0],K[Q+0],te,he+j),z+=2,++q,++Q,he+=2*j;1&Se&&_(F[z+0],U[q+0],K[Q+0],te,he)}}function Da(m,_,j){return j==0?m==0?_==0?6:5:_==0?4:0:j}function Ii(m,_,j,F,z){switch(m>>>30){case 3:zc(_,j,F,z,0);break;case 2:ds(_,j,F,z);break;case 1:sn(_,j,F,z)}}function pi(m,_){var j,F,z=_.M,U=_.Nb,q=m.oc,K=m.pc+40,Q=m.oc,te=m.pc+584,he=m.oc,Se=m.pc+600;for(j=0;16>j;++j)q[K+32*j-1]=129;for(j=0;8>j;++j)Q[te+32*j-1]=129,he[Se+32*j-1]=129;for(0<z?q[K-1-32]=Q[te-1-32]=he[Se-1-32]=129:(i(q,K-32-1,127,21),i(Q,te-32-1,127,9),i(he,Se-32-1,127,9)),F=0;F<m.za;++F){var ne=_.ya[_.aa+F];if(0<F){for(j=-1;16>j;++j)r(q,K+32*j-4,q,K+32*j+12,4);for(j=-1;8>j;++j)r(Q,te+32*j-4,Q,te+32*j+4,4),r(he,Se+32*j-4,he,Se+32*j+4,4)}var me=m.Gd,we=m.Hd+F,ke=ne.ad,_e=ne.Hc;if(0<z&&(r(q,K-32,me[we].y,0,16),r(Q,te-32,me[we].f,0,8),r(he,Se-32,me[we].ea,0,8)),ne.Za){var Ce=q,je=K-32+16;for(0<z&&(F>=m.za-1?i(Ce,je,me[we].y[15],4):r(Ce,je,me[we+1].y,0,4)),j=0;4>j;j++)Ce[je+128+j]=Ce[je+256+j]=Ce[je+384+j]=Ce[je+0+j];for(j=0;16>j;++j,_e<<=2)Ce=q,je=K+yE[j],$s[ne.Ob[j]](Ce,je),Ii(_e,ke,16*+j,Ce,je)}else if(Ce=Da(F,z,ne.Ob[0]),xu[Ce](q,K),_e!=0)for(j=0;16>j;++j,_e<<=2)Ii(_e,ke,16*+j,q,K+yE[j]);for(j=ne.Gc,Ce=Da(F,z,ne.Dd),fl[Ce](Q,te),fl[Ce](he,Se),_e=ke,Ce=Q,je=te,255&(ne=0|j)&&(170&ne?Oo(_e,256,Ce,je):bn(_e,256,Ce,je)),ne=he,_e=Se,255&(j>>=8)&&(170&j?Oo(ke,320,ne,_e):bn(ke,320,ne,_e)),z<m.Ub-1&&(r(me[we].y,0,q,K+480,16),r(me[we].f,0,Q,te+224,8),r(me[we].ea,0,he,Se+224,8)),j=8*U*m.B,me=m.sa,we=m.ta+16*F+16*U*m.R,ke=m.qa,ne=m.ra+8*F+j,_e=m.Ha,Ce=m.Ia+8*F+j,j=0;16>j;++j)r(me,we+j*m.R,q,K+32*j,16);for(j=0;8>j;++j)r(ke,ne+j*m.B,Q,te+32*j,8),r(_e,Ce+j*m.B,he,Se+32*j,8)}}function zs(m,_,j,F,z,U,q,K,Q){var te=[0],he=[0],Se=0,ne=Q!=null?Q.kd:0,me=Q??new Te;if(m==null||12>j)return 7;me.data=m,me.w=_,me.ha=j,_=[_],j=[j],me.gb=[me.gb];e:{var we=_,ke=j,_e=me.gb;if(t(m!=null),t(ke!=null),t(_e!=null),_e[0]=0,12<=ke[0]&&!n(m,we[0],"RIFF")){if(n(m,we[0]+8,"WEBP")){_e=3;break e}var Ce=fe(m,we[0]+4);if(12>Ce||4294967286<Ce){_e=3;break e}if(ne&&Ce>ke[0]-8){_e=7;break e}_e[0]=Ce,we[0]+=12,ke[0]-=12}_e=0}if(_e!=0)return _e;for(Ce=0<me.gb[0],j=j[0];;){e:{var je=m;ke=_,_e=j;var De=te,Re=he,lt=we=[0];if((nt=Se=[Se])[0]=0,8>_e[0])_e=7;else{if(!n(je,ke[0],"VP8X")){if(fe(je,ke[0]+4)!=10){_e=3;break e}if(18>_e[0]){_e=7;break e}var Ye=fe(je,ke[0]+8),It=1+Ne(je,ke[0]+12);if(2147483648<=It*(je=1+Ne(je,ke[0]+15))){_e=3;break e}lt!=null&&(lt[0]=Ye),De!=null&&(De[0]=It),Re!=null&&(Re[0]=je),ke[0]+=18,_e[0]-=18,nt[0]=1}_e=0}}if(Se=Se[0],we=we[0],_e!=0)return _e;if(ke=!!(2&we),!Ce&&Se)return 3;if(U!=null&&(U[0]=!!(16&we)),q!=null&&(q[0]=ke),K!=null&&(K[0]=0),q=te[0],we=he[0],Se&&ke&&Q==null){_e=0;break}if(4>j){_e=7;break}if(Ce&&Se||!Ce&&!Se&&!n(m,_[0],"ALPH")){j=[j],me.na=[me.na],me.P=[me.P],me.Sa=[me.Sa];e:{Ye=m,_e=_,Ce=j;var nt=me.gb;De=me.na,Re=me.P,lt=me.Sa,It=22,t(Ye!=null),t(Ce!=null),je=_e[0];var Wt=Ce[0];for(t(De!=null),t(lt!=null),De[0]=null,Re[0]=null,lt[0]=0;;){if(_e[0]=je,Ce[0]=Wt,8>Wt){_e=7;break e}var Vr=fe(Ye,je+4);if(4294967286<Vr){_e=3;break e}var Ot=8+Vr+1&-2;if(It+=Ot,0<nt&&It>nt){_e=3;break e}if(!n(Ye,je,"VP8 ")||!n(Ye,je,"VP8L")){_e=0;break e}if(Wt[0]<Ot){_e=7;break e}n(Ye,je,"ALPH")||(De[0]=Ye,Re[0]=je+8,lt[0]=Vr),je+=Ot,Wt-=Ot}}if(j=j[0],me.na=me.na[0],me.P=me.P[0],me.Sa=me.Sa[0],_e!=0)break}j=[j],me.Ja=[me.Ja],me.xa=[me.xa];e:if(nt=m,_e=_,Ce=j,De=me.gb[0],Re=me.Ja,lt=me.xa,Ye=_e[0],je=!n(nt,Ye,"VP8 "),It=!n(nt,Ye,"VP8L"),t(nt!=null),t(Ce!=null),t(Re!=null),t(lt!=null),8>Ce[0])_e=7;else{if(je||It){if(nt=fe(nt,Ye+4),12<=De&&nt>De-12){_e=3;break e}if(ne&&nt>Ce[0]-8){_e=7;break e}Re[0]=nt,_e[0]+=8,Ce[0]-=8,lt[0]=It}else lt[0]=5<=Ce[0]&&nt[Ye+0]==47&&!(nt[Ye+4]>>5),Re[0]=Ce[0];_e=0}if(j=j[0],me.Ja=me.Ja[0],me.xa=me.xa[0],_=_[0],_e!=0)break;if(4294967286<me.Ja)return 3;if(K==null||ke||(K[0]=me.xa?2:1),q=[q],we=[we],me.xa){if(5>j){_e=7;break}K=q,ne=we,ke=U,m==null||5>j?m=0:5<=j&&m[_+0]==47&&!(m[_+4]>>5)?(Ce=[0],nt=[0],De=[0],se(Re=new X,m,_,j),os(Re,Ce,nt,De)?(K!=null&&(K[0]=Ce[0]),ne!=null&&(ne[0]=nt[0]),ke!=null&&(ke[0]=De[0]),m=1):m=0):m=0}else{if(10>j){_e=7;break}K=we,m==null||10>j||!Cc(m,_+3,j-3)?m=0:(ne=m[_+0]|m[_+1]<<8|m[_+2]<<16,ke=16383&(m[_+7]<<8|m[_+6]),m=16383&(m[_+9]<<8|m[_+8]),1&ne||3<(ne>>1&7)||!(ne>>4&1)||ne>>5>=me.Ja||!ke||!m?m=0:(q&&(q[0]=ke),K&&(K[0]=m),m=1))}if(!m||(q=q[0],we=we[0],Se&&(te[0]!=q||he[0]!=we)))return 3;Q!=null&&(Q[0]=me,Q.offset=_-Q.w,t(4294967286>_-Q.w),t(Q.offset==Q.ha-j));break}return _e==0||_e==7&&Se&&Q==null?(U!=null&&(U[0]|=me.na!=null&&0<me.na.length),F!=null&&(F[0]=q),z!=null&&(z[0]=we),0):_e}function np(m,_,j){var F=_.width,z=_.height,U=0,q=0,K=F,Q=z;if(_.Da=m!=null&&0<m.Da,_.Da&&(K=m.cd,Q=m.bd,U=m.v,q=m.j,11>j||(U&=-2,q&=-2),0>U||0>q||0>=K||0>=Q||U+K>F||q+Q>z))return 0;if(_.v=U,_.j=q,_.va=U+K,_.o=q+Q,_.U=K,_.T=Q,_.da=m!=null&&0<m.da,_.da){if(!Ue(K,Q,j=[m.ib],U=[m.hb]))return 0;_.ib=j[0],_.hb=U[0]}return _.ob=m!=null&&m.ob,_.Kb=m==null||!m.Sd,_.da&&(_.ob=_.ib<3*F/4&&_.hb<3*z/4,_.Kb=0),1}function rp(m){if(m==null)return 2;if(11>m.S){var _=m.f.RGBA;_.fb+=(m.height-1)*_.A,_.A=-_.A}else _=m.f.kb,m=m.height,_.O+=(m-1)*_.fa,_.fa=-_.fa,_.N+=(m-1>>1)*_.Ab,_.Ab=-_.Ab,_.W+=(m-1>>1)*_.Db,_.Db=-_.Db,_.F!=null&&(_.J+=(m-1)*_.lb,_.lb=-_.lb);return 0}function fu(m,_,j,F){if(F==null||0>=m||0>=_)return 2;if(j!=null){if(j.Da){var z=j.cd,U=j.bd,q=-2&j.v,K=-2&j.j;if(0>q||0>K||0>=z||0>=U||q+z>m||K+U>_)return 2;m=z,_=U}if(j.da){if(!Ue(m,_,z=[j.ib],U=[j.hb]))return 2;m=z[0],_=U[0]}}F.width=m,F.height=_;e:{var Q=F.width,te=F.height;if(m=F.S,0>=Q||0>=te||!(m>=gg&&13>m))m=2;else{if(0>=F.Rd&&F.sd==null){q=U=z=_=0;var he=(K=Q*xE[m])*te;if(11>m||(U=(te+1)/2*(_=(Q+1)/2),m==12&&(q=(z=Q)*te)),(te=a(he+2*U+q))==null){m=1;break e}F.sd=te,11>m?((Q=F.f.RGBA).eb=te,Q.fb=0,Q.A=K,Q.size=he):((Q=F.f.kb).y=te,Q.O=0,Q.fa=K,Q.Fd=he,Q.f=te,Q.N=0+he,Q.Ab=_,Q.Cd=U,Q.ea=te,Q.W=0+he+U,Q.Db=_,Q.Ed=U,m==12&&(Q.F=te,Q.J=0+he+2*U),Q.Tc=q,Q.lb=z)}if(_=1,z=F.S,U=F.width,q=F.height,z>=gg&&13>z)if(11>z)m=F.f.RGBA,_&=(K=Math.abs(m.A))*(q-1)+U<=m.size,_&=K>=U*xE[z],_&=m.eb!=null;else{m=F.f.kb,K=(U+1)/2,he=(q+1)/2,Q=Math.abs(m.fa),te=Math.abs(m.Ab);var Se=Math.abs(m.Db),ne=Math.abs(m.lb),me=ne*(q-1)+U;_&=Q*(q-1)+U<=m.Fd,_&=te*(he-1)+K<=m.Cd,_=(_&=Se*(he-1)+K<=m.Ed)&Q>=U&te>=K&Se>=K,_&=m.y!=null,_&=m.f!=null,_&=m.ea!=null,z==12&&(_&=ne>=U,_&=me<=m.Tc,_&=m.F!=null)}else _=0;m=_?0:2}}return m!=0||j!=null&&j.fd&&(m=rp(F)),m}var Bc=64,Fa=[0,1,3,7,15,31,63,127,255,511,1023,2047,4095,8191,16383,32767,65535,131071,262143,524287,1048575,2097151,4194303,8388607,16777215],Ba=24,hu=32,cl=8,pu=[0,0,1,1,2,2,2,2,3,3,3,3,3,3,3,3,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7];$e("Predictor0","PredictorAdd0"),I.Predictor0=function(){return 4278190080},I.Predictor1=function(m){return m},I.Predictor2=function(m,_,j){return _[j+0]},I.Predictor3=function(m,_,j){return _[j+1]},I.Predictor4=function(m,_,j){return _[j-1]},I.Predictor5=function(m,_,j){return st(st(m,_[j+1]),_[j+0])},I.Predictor6=function(m,_,j){return st(m,_[j-1])},I.Predictor7=function(m,_,j){return st(m,_[j+0])},I.Predictor8=function(m,_,j){return st(_[j-1],_[j+0])},I.Predictor9=function(m,_,j){return st(_[j+0],_[j+1])},I.Predictor10=function(m,_,j){return st(st(m,_[j-1]),st(_[j+0],_[j+1]))},I.Predictor11=function(m,_,j){var F=_[j+0];return 0>=it(F>>24&255,m>>24&255,(_=_[j-1])>>24&255)+it(F>>16&255,m>>16&255,_>>16&255)+it(F>>8&255,m>>8&255,_>>8&255)+it(255&F,255&m,255&_)?F:m},I.Predictor12=function(m,_,j){var F=_[j+0];return($t((m>>24&255)+(F>>24&255)-((_=_[j-1])>>24&255))<<24|$t((m>>16&255)+(F>>16&255)-(_>>16&255))<<16|$t((m>>8&255)+(F>>8&255)-(_>>8&255))<<8|$t((255&m)+(255&F)-(255&_)))>>>0},I.Predictor13=function(m,_,j){var F=_[j-1];return(St((m=st(m,_[j+0]))>>24&255,F>>24&255)<<24|St(m>>16&255,F>>16&255)<<16|St(m>>8&255,F>>8&255)<<8|St(255&m,255&F))>>>0};var ip=I.PredictorAdd0;I.PredictorAdd1=kt,$e("Predictor2","PredictorAdd2"),$e("Predictor3","PredictorAdd3"),$e("Predictor4","PredictorAdd4"),$e("Predictor5","PredictorAdd5"),$e("Predictor6","PredictorAdd6"),$e("Predictor7","PredictorAdd7"),$e("Predictor8","PredictorAdd8"),$e("Predictor9","PredictorAdd9"),$e("Predictor10","PredictorAdd10"),$e("Predictor11","PredictorAdd11"),$e("Predictor12","PredictorAdd12"),$e("Predictor13","PredictorAdd13");var Jd=I.PredictorAdd2;ct("ColorIndexInverseTransform","MapARGB","32b",function(m){return m>>8&255},function(m){return m}),ct("VP8LColorIndexInverseTransformAlpha","MapAlpha","8b",function(m){return m},function(m){return m>>8&255});var xr,hg=I.ColorIndexInverseTransform,jo=I.MapARGB,Io=I.VP8LColorIndexInverseTransformAlpha,ap=I.MapAlpha,sp=I.VP8LPredictorsAdd=[];sp.length=16,(I.VP8LPredictors=[]).length=16,(I.VP8LPredictorsAdd_C=[]).length=16,(I.VP8LPredictors_C=[]).length=16;var op,lp,mu,gu,vu,Vc,yu,zc,ds,Oo,sn,bn,br,Br,dl,up,ef,pg,GP,YP,XP,QP,ZP,JP,cp,eE,tE,nE,rE=a(511),iE=a(2041),aE=a(225),sE=a(767),oE=0,Jx=iE,mg=aE,Va=sE,fs=rE,gg=0,vg=1,lE=2,yg=3,xg=4,eb=5,uE=6,tb=7,nb=8,bg=9,rb=10,DW=[2,3,7],FW=[3,3,11],cE=[280,256,256,256,40],BW=[0,1,1,1,0],VW=[17,18,0,1,2,3,4,5,16,6,7,8,9,10,11,12,13,14,15],zW=[24,7,23,25,40,6,39,41,22,26,38,42,56,5,55,57,21,27,54,58,37,43,72,4,71,73,20,28,53,59,70,74,36,44,88,69,75,52,60,3,87,89,19,29,86,90,35,45,68,76,85,91,51,61,104,2,103,105,18,30,102,106,34,46,84,92,67,77,101,107,50,62,120,1,119,121,83,93,17,31,100,108,66,78,118,122,33,47,117,123,49,63,99,109,82,94,0,116,124,65,79,16,32,98,110,48,115,125,81,95,64,114,126,97,111,80,113,127,96,112],$W=[2954,2956,2958,2962,2970,2986,3018,3082,3212,3468,3980,5004],UW=8,ib=[4,5,6,7,8,9,10,10,11,12,13,14,15,16,17,17,18,19,20,20,21,21,22,22,23,23,24,25,25,26,27,28,29,30,31,32,33,34,35,36,37,37,38,39,40,41,42,43,44,45,46,46,47,48,49,50,51,52,53,54,55,56,57,58,59,60,61,62,63,64,65,66,67,68,69,70,71,72,73,74,75,76,76,77,78,79,80,81,82,83,84,85,86,87,88,89,91,93,95,96,98,100,101,102,104,106,108,110,112,114,116,118,122,124,126,128,130,132,134,136,138,140,143,145,148,151,154,157],ab=[4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27,28,29,30,31,32,33,34,35,36,37,38,39,40,41,42,43,44,45,46,47,48,49,50,51,52,53,54,55,56,57,58,60,62,64,66,68,70,72,74,76,78,80,82,84,86,88,90,92,94,96,98,100,102,104,106,108,110,112,114,116,119,122,125,128,131,134,137,140,143,146,149,152,155,158,161,164,167,170,173,177,181,185,189,193,197,201,205,209,213,217,221,225,229,234,239,245,249,254,259,264,269,274,279,284],dp=null,WW=[[173,148,140,0],[176,155,140,135,0],[180,157,141,134,130,0],[254,254,243,230,196,177,153,140,133,130,129,0]],qW=[0,1,4,8,5,2,3,6,9,12,13,10,7,11,14,15],dE=[-0,1,-1,2,-2,3,4,6,-3,5,-4,-5,-6,7,-7,8,-8,-9],HW=[[[[128,128,128,128,128,128,128,128,128,128,128],[128,128,128,128,128,128,128,128,128,128,128],[128,128,128,128,128,128,128,128,128,128,128]],[[253,136,254,255,228,219,128,128,128,128,128],[189,129,242,255,227,213,255,219,128,128,128],[106,126,227,252,214,209,255,255,128,128,128]],[[1,98,248,255,236,226,255,255,128,128,128],[181,133,238,254,221,234,255,154,128,128,128],[78,134,202,247,198,180,255,219,128,128,128]],[[1,185,249,255,243,255,128,128,128,128,128],[184,150,247,255,236,224,128,128,128,128,128],[77,110,216,255,236,230,128,128,128,128,128]],[[1,101,251,255,241,255,128,128,128,128,128],[170,139,241,252,236,209,255,255,128,128,128],[37,116,196,243,228,255,255,255,128,128,128]],[[1,204,254,255,245,255,128,128,128,128,128],[207,160,250,255,238,128,128,128,128,128,128],[102,103,231,255,211,171,128,128,128,128,128]],[[1,152,252,255,240,255,128,128,128,128,128],[177,135,243,255,234,225,128,128,128,128,128],[80,129,211,255,194,224,128,128,128,128,128]],[[1,1,255,128,128,128,128,128,128,128,128],[246,1,255,128,128,128,128,128,128,128,128],[255,128,128,128,128,128,128,128,128,128,128]]],[[[198,35,237,223,193,187,162,160,145,155,62],[131,45,198,221,172,176,220,157,252,221,1],[68,47,146,208,149,167,221,162,255,223,128]],[[1,149,241,255,221,224,255,255,128,128,128],[184,141,234,253,222,220,255,199,128,128,128],[81,99,181,242,176,190,249,202,255,255,128]],[[1,129,232,253,214,197,242,196,255,255,128],[99,121,210,250,201,198,255,202,128,128,128],[23,91,163,242,170,187,247,210,255,255,128]],[[1,200,246,255,234,255,128,128,128,128,128],[109,178,241,255,231,245,255,255,128,128,128],[44,130,201,253,205,192,255,255,128,128,128]],[[1,132,239,251,219,209,255,165,128,128,128],[94,136,225,251,218,190,255,255,128,128,128],[22,100,174,245,186,161,255,199,128,128,128]],[[1,182,249,255,232,235,128,128,128,128,128],[124,143,241,255,227,234,128,128,128,128,128],[35,77,181,251,193,211,255,205,128,128,128]],[[1,157,247,255,236,231,255,255,128,128,128],[121,141,235,255,225,227,255,255,128,128,128],[45,99,188,251,195,217,255,224,128,128,128]],[[1,1,251,255,213,255,128,128,128,128,128],[203,1,248,255,255,128,128,128,128,128,128],[137,1,177,255,224,255,128,128,128,128,128]]],[[[253,9,248,251,207,208,255,192,128,128,128],[175,13,224,243,193,185,249,198,255,255,128],[73,17,171,221,161,179,236,167,255,234,128]],[[1,95,247,253,212,183,255,255,128,128,128],[239,90,244,250,211,209,255,255,128,128,128],[155,77,195,248,188,195,255,255,128,128,128]],[[1,24,239,251,218,219,255,205,128,128,128],[201,51,219,255,196,186,128,128,128,128,128],[69,46,190,239,201,218,255,228,128,128,128]],[[1,191,251,255,255,128,128,128,128,128,128],[223,165,249,255,213,255,128,128,128,128,128],[141,124,248,255,255,128,128,128,128,128,128]],[[1,16,248,255,255,128,128,128,128,128,128],[190,36,230,255,236,255,128,128,128,128,128],[149,1,255,128,128,128,128,128,128,128,128]],[[1,226,255,128,128,128,128,128,128,128,128],[247,192,255,128,128,128,128,128,128,128,128],[240,128,255,128,128,128,128,128,128,128,128]],[[1,134,252,255,255,128,128,128,128,128,128],[213,62,250,255,255,128,128,128,128,128,128],[55,93,255,128,128,128,128,128,128,128,128]],[[128,128,128,128,128,128,128,128,128,128,128],[128,128,128,128,128,128,128,128,128,128,128],[128,128,128,128,128,128,128,128,128,128,128]]],[[[202,24,213,235,186,191,220,160,240,175,255],[126,38,182,232,169,184,228,174,255,187,128],[61,46,138,219,151,178,240,170,255,216,128]],[[1,112,230,250,199,191,247,159,255,255,128],[166,109,228,252,211,215,255,174,128,128,128],[39,77,162,232,172,180,245,178,255,255,128]],[[1,52,220,246,198,199,249,220,255,255,128],[124,74,191,243,183,193,250,221,255,255,128],[24,71,130,219,154,170,243,182,255,255,128]],[[1,182,225,249,219,240,255,224,128,128,128],[149,150,226,252,216,205,255,171,128,128,128],[28,108,170,242,183,194,254,223,255,255,128]],[[1,81,230,252,204,203,255,192,128,128,128],[123,102,209,247,188,196,255,233,128,128,128],[20,95,153,243,164,173,255,203,128,128,128]],[[1,222,248,255,216,213,128,128,128,128,128],[168,175,246,252,235,205,255,255,128,128,128],[47,116,215,255,211,212,255,255,128,128,128]],[[1,121,236,253,212,214,255,255,128,128,128],[141,84,213,252,201,202,255,219,128,128,128],[42,80,160,240,162,185,255,205,128,128,128]],[[1,1,255,128,128,128,128,128,128,128,128],[244,1,255,128,128,128,128,128,128,128,128],[238,1,255,128,128,128,128,128,128,128,128]]]],KW=[[[231,120,48,89,115,113,120,152,112],[152,179,64,126,170,118,46,70,95],[175,69,143,80,85,82,72,155,103],[56,58,10,171,218,189,17,13,152],[114,26,17,163,44,195,21,10,173],[121,24,80,195,26,62,44,64,85],[144,71,10,38,171,213,144,34,26],[170,46,55,19,136,160,33,206,71],[63,20,8,114,114,208,12,9,226],[81,40,11,96,182,84,29,16,36]],[[134,183,89,137,98,101,106,165,148],[72,187,100,130,157,111,32,75,80],[66,102,167,99,74,62,40,234,128],[41,53,9,178,241,141,26,8,107],[74,43,26,146,73,166,49,23,157],[65,38,105,160,51,52,31,115,128],[104,79,12,27,217,255,87,17,7],[87,68,71,44,114,51,15,186,23],[47,41,14,110,182,183,21,17,194],[66,45,25,102,197,189,23,18,22]],[[88,88,147,150,42,46,45,196,205],[43,97,183,117,85,38,35,179,61],[39,53,200,87,26,21,43,232,171],[56,34,51,104,114,102,29,93,77],[39,28,85,171,58,165,90,98,64],[34,22,116,206,23,34,43,166,73],[107,54,32,26,51,1,81,43,31],[68,25,106,22,64,171,36,225,114],[34,19,21,102,132,188,16,76,124],[62,18,78,95,85,57,50,48,51]],[[193,101,35,159,215,111,89,46,111],[60,148,31,172,219,228,21,18,111],[112,113,77,85,179,255,38,120,114],[40,42,1,196,245,209,10,25,109],[88,43,29,140,166,213,37,43,154],[61,63,30,155,67,45,68,1,209],[100,80,8,43,154,1,51,26,71],[142,78,78,16,255,128,34,197,171],[41,40,5,102,211,183,4,1,221],[51,50,17,168,209,192,23,25,82]],[[138,31,36,171,27,166,38,44,229],[67,87,58,169,82,115,26,59,179],[63,59,90,180,59,166,93,73,154],[40,40,21,116,143,209,34,39,175],[47,15,16,183,34,223,49,45,183],[46,17,33,183,6,98,15,32,183],[57,46,22,24,128,1,54,17,37],[65,32,73,115,28,128,23,128,205],[40,3,9,115,51,192,18,6,223],[87,37,9,115,59,77,64,21,47]],[[104,55,44,218,9,54,53,130,226],[64,90,70,205,40,41,23,26,57],[54,57,112,184,5,41,38,166,213],[30,34,26,133,152,116,10,32,134],[39,19,53,221,26,114,32,73,255],[31,9,65,234,2,15,1,118,73],[75,32,12,51,192,255,160,43,51],[88,31,35,67,102,85,55,186,85],[56,21,23,111,59,205,45,37,192],[55,38,70,124,73,102,1,34,98]],[[125,98,42,88,104,85,117,175,82],[95,84,53,89,128,100,113,101,45],[75,79,123,47,51,128,81,171,1],[57,17,5,71,102,57,53,41,49],[38,33,13,121,57,73,26,1,85],[41,10,67,138,77,110,90,47,114],[115,21,2,10,102,255,166,23,6],[101,29,16,10,85,128,101,196,26],[57,18,10,102,102,213,34,20,43],[117,20,15,36,163,128,68,1,26]],[[102,61,71,37,34,53,31,243,192],[69,60,71,38,73,119,28,222,37],[68,45,128,34,1,47,11,245,171],[62,17,19,70,146,85,55,62,70],[37,43,37,154,100,163,85,160,1],[63,9,92,136,28,64,32,201,85],[75,15,9,9,64,255,184,119,16],[86,6,28,5,64,255,25,248,1],[56,8,17,132,137,255,55,116,128],[58,15,20,82,135,57,26,121,40]],[[164,50,31,137,154,133,25,35,218],[51,103,44,131,131,123,31,6,158],[86,40,64,135,148,224,45,183,128],[22,26,17,131,240,154,14,1,209],[45,16,21,91,64,222,7,1,197],[56,21,39,155,60,138,23,102,213],[83,12,13,54,192,255,68,47,28],[85,26,85,85,128,128,32,146,171],[18,11,7,63,144,171,4,4,246],[35,27,10,146,174,171,12,26,128]],[[190,80,35,99,180,80,126,54,45],[85,126,47,87,176,51,41,20,32],[101,75,128,139,118,146,116,128,85],[56,41,15,176,236,85,37,9,62],[71,30,17,119,118,255,17,18,138],[101,38,60,138,55,70,43,26,142],[146,36,19,30,171,255,97,27,20],[138,45,61,62,219,1,81,188,64],[32,41,20,117,151,142,20,21,163],[112,19,12,61,195,128,48,4,24]]],GW=[[[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[176,246,255,255,255,255,255,255,255,255,255],[223,241,252,255,255,255,255,255,255,255,255],[249,253,253,255,255,255,255,255,255,255,255]],[[255,244,252,255,255,255,255,255,255,255,255],[234,254,254,255,255,255,255,255,255,255,255],[253,255,255,255,255,255,255,255,255,255,255]],[[255,246,254,255,255,255,255,255,255,255,255],[239,253,254,255,255,255,255,255,255,255,255],[254,255,254,255,255,255,255,255,255,255,255]],[[255,248,254,255,255,255,255,255,255,255,255],[251,255,254,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,253,254,255,255,255,255,255,255,255,255],[251,254,254,255,255,255,255,255,255,255,255],[254,255,254,255,255,255,255,255,255,255,255]],[[255,254,253,255,254,255,255,255,255,255,255],[250,255,254,255,254,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]]],[[[217,255,255,255,255,255,255,255,255,255,255],[225,252,241,253,255,255,254,255,255,255,255],[234,250,241,250,253,255,253,254,255,255,255]],[[255,254,255,255,255,255,255,255,255,255,255],[223,254,254,255,255,255,255,255,255,255,255],[238,253,254,254,255,255,255,255,255,255,255]],[[255,248,254,255,255,255,255,255,255,255,255],[249,254,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,253,255,255,255,255,255,255,255,255,255],[247,254,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,253,254,255,255,255,255,255,255,255,255],[252,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,254,254,255,255,255,255,255,255,255,255],[253,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,254,253,255,255,255,255,255,255,255,255],[250,255,255,255,255,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]]],[[[186,251,250,255,255,255,255,255,255,255,255],[234,251,244,254,255,255,255,255,255,255,255],[251,251,243,253,254,255,254,255,255,255,255]],[[255,253,254,255,255,255,255,255,255,255,255],[236,253,254,255,255,255,255,255,255,255,255],[251,253,253,254,254,255,255,255,255,255,255]],[[255,254,254,255,255,255,255,255,255,255,255],[254,254,254,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,254,255,255,255,255,255,255,255,255,255],[254,254,255,255,255,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]]],[[[248,255,255,255,255,255,255,255,255,255,255],[250,254,252,254,255,255,255,255,255,255,255],[248,254,249,253,255,255,255,255,255,255,255]],[[255,253,253,255,255,255,255,255,255,255,255],[246,253,253,255,255,255,255,255,255,255,255],[252,254,251,254,254,255,255,255,255,255,255]],[[255,254,252,255,255,255,255,255,255,255,255],[248,254,253,255,255,255,255,255,255,255,255],[253,255,254,254,255,255,255,255,255,255,255]],[[255,251,254,255,255,255,255,255,255,255,255],[245,251,254,255,255,255,255,255,255,255,255],[253,253,254,255,255,255,255,255,255,255,255]],[[255,251,253,255,255,255,255,255,255,255,255],[252,253,254,255,255,255,255,255,255,255,255],[255,254,255,255,255,255,255,255,255,255,255]],[[255,252,255,255,255,255,255,255,255,255,255],[249,255,254,255,255,255,255,255,255,255,255],[255,255,254,255,255,255,255,255,255,255,255]],[[255,255,253,255,255,255,255,255,255,255,255],[250,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]]]],YW=[0,1,2,3,6,4,5,6,6,6,6,6,6,6,6,7,0],xu=[],$s=[],fl=[],XW=1,fE=2,bu=[],hs=[];hi("UpsampleRgbLinePair",G,3),hi("UpsampleBgrLinePair",xe,3),hi("UpsampleRgbaLinePair",Dt,4),hi("UpsampleBgraLinePair",Zn,4),hi("UpsampleArgbLinePair",Ut,4),hi("UpsampleRgba4444LinePair",Be,2),hi("UpsampleRgb565LinePair",Pe,2);var QW=I.UpsampleRgbLinePair,ZW=I.UpsampleBgrLinePair,hE=I.UpsampleRgbaLinePair,pE=I.UpsampleBgraLinePair,mE=I.UpsampleArgbLinePair,gE=I.UpsampleRgba4444LinePair,JW=I.UpsampleRgb565LinePair,wg=16,_g=1<<wg-1,fp=-227,sb=482,eq=6,vE=0,tq=a(256),nq=a(256),rq=a(256),iq=a(256),aq=a(sb-fp),sq=a(sb-fp);En("YuvToRgbRow",G,3),En("YuvToBgrRow",xe,3),En("YuvToRgbaRow",Dt,4),En("YuvToBgraRow",Zn,4),En("YuvToArgbRow",Ut,4),En("YuvToRgba4444Row",Be,2),En("YuvToRgb565Row",Pe,2);var yE=[0,4,8,12,128,132,136,140,256,260,264,268,384,388,392,396],Sg=[0,2,8],oq=[8,7,6,4,4,2,2,2,1,1,1,1],lq=1;this.WebPDecodeRGBA=function(m,_,j,F,z){var U=vg,q=new ve,K=new nn;q.ba=K,K.S=U,K.width=[K.width],K.height=[K.height];var Q=K.width,te=K.height,he=new gt;if(he==null||m==null)var Se=2;else t(he!=null),Se=zs(m,_,j,he.width,he.height,he.Pd,he.Qd,he.format,null);if(Se!=0?Q=0:(Q!=null&&(Q[0]=he.width[0]),te!=null&&(te[0]=he.height[0]),Q=1),Q){K.width=K.width[0],K.height=K.height[0],F!=null&&(F[0]=K.width),z!=null&&(z[0]=K.height);e:{if(F=new So,(z=new Te).data=m,z.w=_,z.ha=j,z.kd=1,_=[0],t(z!=null),((m=zs(z.data,z.w,z.ha,null,null,null,_,null,z))==0||m==7)&&_[0]&&(m=4),(_=m)==0){if(t(q!=null),F.data=z.data,F.w=z.w+z.offset,F.ha=z.ha-z.offset,F.put=ft,F.ac=Ti,F.bc=On,F.ma=q,z.xa){if((m=bo())==null){q=1;break e}if(function(ne,me){var we=[0],ke=[0],_e=[0];t:for(;;){if(ne==null)return 0;if(me==null)return ne.a=2,0;if(ne.l=me,ne.a=0,se(ne.m,me.data,me.w,me.ha),!os(ne.m,we,ke,_e)){ne.a=3;break t}if(ne.xb=fE,me.width=we[0],me.height=ke[0],!Oa(we[0],ke[0],1,ne,null))break t;return 1}return t(ne.a!=0),0}(m,F)){if(F=(_=fu(F.width,F.height,q.Oa,q.ba))==0){t:{F=m;n:for(;;){if(F==null){F=0;break t}if(t(F.s.yc!=null),t(F.s.Ya!=null),t(0<F.s.Wb),t((j=F.l)!=null),t((z=j.ma)!=null),F.xb!=0){if(F.ca=z.ba,F.tb=z.tb,t(F.ca!=null),!np(z.Oa,j,yg)){F.a=2;break n}if(!Ms(F,j.width)||j.da)break n;if((j.da||At(F.ca.S))&&Pn(),11>F.ca.S||(alert("todo:WebPInitConvertARGBToYUV"),F.ca.f.kb.F!=null&&Pn()),F.Pb&&0<F.s.ua&&F.s.vb.X==null&&!Z(F.s.vb,F.s.Wa.Xa)){F.a=1;break n}F.xb=0}if(!ji(F,F.V,F.Ba,F.c,F.i,j.o,xo))break n;z.Dc=F.Ma,F=1;break t}t(F.a!=0),F=0}F=!F}F&&(_=m.a)}else _=m.a}else{if((m=new Tc)==null){q=1;break e}if(m.Fa=z.na,m.P=z.P,m.qc=z.Sa,Xd(m,F)){if((_=fu(F.width,F.height,q.Oa,q.ba))==0){if(m.Aa=0,j=q.Oa,t((z=m)!=null),j!=null){if(0<(Q=0>(Q=j.Md)?0:100<Q?255:255*Q/100)){for(te=he=0;4>te;++te)12>(Se=z.pb[te]).lc&&(Se.ia=Q*oq[0>Se.lc?0:Se.lc]>>3),he|=Se.ia;he&&(alert("todo:VP8InitRandom"),z.ia=1)}z.Ga=j.Id,100<z.Ga?z.Ga=100:0>z.Ga&&(z.Ga=0)}(function(ne,me){if(ne==null)return 0;if(me==null)return Yn(ne,2,"NULL VP8Io parameter in VP8Decode().");if(!ne.cb&&!Xd(ne,me))return 0;if(t(ne.cb),me.ac==null||me.ac(me)){me.ob&&(ne.L=0);var we=Sg[ne.L];if(ne.L==2?(ne.yb=0,ne.zb=0):(ne.yb=me.v-we>>4,ne.zb=me.j-we>>4,0>ne.yb&&(ne.yb=0),0>ne.zb&&(ne.zb=0)),ne.Va=me.o+15+we>>4,ne.Hb=me.va+15+we>>4,ne.Hb>ne.za&&(ne.Hb=ne.za),ne.Va>ne.Ub&&(ne.Va=ne.Ub),0<ne.L){var ke=ne.ed;for(we=0;4>we;++we){var _e;if(ne.Qa.Cb){var Ce=ne.Qa.Lb[we];ne.Qa.Fb||(Ce+=ke.Tb)}else Ce=ke.Tb;for(_e=0;1>=_e;++_e){var je=ne.gd[we][_e],De=Ce;if(ke.Pc&&(De+=ke.vd[0],_e&&(De+=ke.od[0])),0<(De=0>De?0:63<De?63:De)){var Re=De;0<ke.wb&&(Re=4<ke.wb?Re>>2:Re>>1)>9-ke.wb&&(Re=9-ke.wb),1>Re&&(Re=1),je.dd=Re,je.tc=2*De+Re,je.ld=40<=De?2:15<=De?1:0}else je.tc=0;je.La=_e}}}we=0}else Yn(ne,6,"Frame setup failed"),we=ne.a;if(we=we==0){if(we){ne.$c=0,0<ne.Aa||(ne.Ic=lq);t:{we=ne.Ic,ke=4*(Re=ne.za);var lt=32*Re,Ye=Re+1,It=0<ne.L?Re*(0<ne.Aa?2:1):0,nt=(ne.Aa==2?2:1)*Re;if((je=ke+832+(_e=3*(16*we+Sg[ne.L])/2*lt)+(Ce=ne.Fa!=null&&0<ne.Fa.length?ne.Kc.c*ne.Kc.i:0))!=je)we=0;else{if(je>ne.Vb){if(ne.Vb=0,ne.Ec=a(je),ne.Fc=0,ne.Ec==null){we=Yn(ne,1,"no memory during frame initialization.");break t}ne.Vb=je}je=ne.Ec,De=ne.Fc,ne.Ac=je,ne.Bc=De,De+=ke,ne.Gd=s(lt,Nc),ne.Hd=0,ne.rb=s(Ye+1,La),ne.sb=1,ne.wa=It?s(It,ei):null,ne.Y=0,ne.D.Nb=0,ne.D.wa=ne.wa,ne.D.Y=ne.Y,0<ne.Aa&&(ne.D.Y+=Re),t(!0),ne.oc=je,ne.pc=De,De+=832,ne.ya=s(nt,Pc),ne.aa=0,ne.D.ya=ne.ya,ne.D.aa=ne.aa,ne.Aa==2&&(ne.D.aa+=Re),ne.R=16*Re,ne.B=8*Re,Re=(lt=Sg[ne.L])*ne.R,lt=lt/2*ne.B,ne.sa=je,ne.ta=De+Re,ne.qa=ne.sa,ne.ra=ne.ta+16*we*ne.R+lt,ne.Ha=ne.qa,ne.Ia=ne.ra+8*we*ne.B+lt,ne.$c=0,De+=_e,ne.mb=Ce?je:null,ne.nb=Ce?De:null,t(De+Ce<=ne.Fc+ne.Vb),Ao(ne),i(ne.Ac,ne.Bc,0,ke),we=1}}if(we){if(me.ka=0,me.y=ne.sa,me.O=ne.ta,me.f=ne.qa,me.N=ne.ra,me.ea=ne.Ha,me.Vd=ne.Ia,me.fa=ne.R,me.Rc=ne.B,me.F=null,me.J=0,!oE){for(we=-255;255>=we;++we)rE[255+we]=0>we?-we:we;for(we=-1020;1020>=we;++we)iE[1020+we]=-128>we?-128:127<we?127:we;for(we=-112;112>=we;++we)aE[112+we]=-16>we?-16:15<we?15:we;for(we=-255;510>=we;++we)sE[255+we]=0>we?0:255<we?255:we;oE=1}yu=Po,zc=su,Oo=Qd,sn=Vt,bn=al,ds=au,br=Mc,Br=du,dl=E,up=V,ef=cs,pg=Dc,GP=ee,YP=ue,XP=To,QP=Co,ZP=va,JP=Rc,$s[0]=Jh,$s[1]=jc,$s[2]=No,$s[3]=Zh,$s[4]=ep,$s[5]=Fs,$s[6]=ti,$s[7]=tp,$s[8]=Bs,$s[9]=lu,xu[0]=ga,xu[1]=Xh,xu[2]=Qh,xu[3]=Ic,xu[4]=ls,xu[5]=Eo,xu[6]=ou,fl[0]=ol,fl[1]=Zd,fl[2]=uu,fl[3]=Ra,fl[4]=xn,fl[5]=Oc,fl[6]=Lc,we=1}else we=0}we&&(we=function(Wt,Vr){for(Wt.M=0;Wt.M<Wt.Va;++Wt.M){var Ot,rt=Wt.Jc[Wt.M&Wt.Xb],ze=Wt.m,wr=Wt;for(Ot=0;Ot<wr.za;++Ot){var jt=ze,Kt=wr,Ln=Kt.Ac,mi=Kt.Bc+4*Ot,ea=Kt.zc,lr=Kt.ya[Kt.aa+Ot];if(Kt.Qa.Bb?lr.$b=pe(jt,Kt.Pa.jb[0])?2+pe(jt,Kt.Pa.jb[2]):pe(jt,Kt.Pa.jb[1]):lr.$b=0,Kt.kc&&(lr.Ad=pe(jt,Kt.Bd)),lr.Za=!pe(jt,145)+0,lr.Za){var Oi=lr.Ob,ta=0;for(Kt=0;4>Kt;++Kt){var zr,Yt=ea[0+Kt];for(zr=0;4>zr;++zr){Yt=KW[Ln[mi+zr]][Yt];for(var dn=dE[pe(jt,Yt[0])];0<dn;)dn=dE[2*dn+pe(jt,Yt[dn])];Yt=-dn,Ln[mi+zr]=Yt}r(Oi,ta,Ln,mi,4),ta+=4,ea[0+Kt]=Yt}}else Yt=pe(jt,156)?pe(jt,128)?1:3:pe(jt,163)?2:0,lr.Ob[0]=Yt,i(Ln,mi,Yt,4),i(ea,0,Yt,4);lr.Dd=pe(jt,142)?pe(jt,114)?pe(jt,183)?1:3:2:0}if(wr.m.Ka)return Yn(Wt,7,"Premature end-of-partition0 encountered.");for(;Wt.ja<Wt.za;++Wt.ja){if(wr=rt,jt=(ze=Wt).rb[ze.sb-1],Ln=ze.rb[ze.sb+ze.ja],Ot=ze.ya[ze.aa+ze.ja],mi=ze.kc?Ot.Ad:0)jt.la=Ln.la=0,Ot.Za||(jt.Na=Ln.Na=0),Ot.Hc=0,Ot.Gc=0,Ot.ia=0;else{var ur,fn;if(jt=Ln,Ln=wr,mi=ze.Pa.Xc,ea=ze.ya[ze.aa+ze.ja],lr=ze.pb[ea.$b],Kt=ea.ad,Oi=0,ta=ze.rb[ze.sb-1],Yt=zr=0,i(Kt,Oi,0,384),ea.Za)var gi=0,Us=mi[3];else{dn=a(16);var _r=jt.Na+ta.Na;if(_r=dp(Ln,mi[1],_r,lr.Eb,0,dn,0),jt.Na=ta.Na=(0<_r)+0,1<_r)yu(dn,0,Kt,Oi);else{var ya=dn[0]+3>>3;for(dn=0;256>dn;dn+=16)Kt[Oi+dn]=ya}gi=1,Us=mi[0]}var wn=15&jt.la,$r=15&ta.la;for(dn=0;4>dn;++dn){var za=1&$r;for(ya=fn=0;4>ya;++ya)wn=wn>>1|(za=(_r=dp(Ln,Us,_r=za+(1&wn),lr.Sc,gi,Kt,Oi))>gi)<<7,fn=fn<<2|(3<_r?3:1<_r?2:Kt[Oi+0]!=0),Oi+=16;wn>>=4,$r=$r>>1|za<<7,zr=(zr<<8|fn)>>>0}for(Us=wn,gi=$r>>4,ur=0;4>ur;ur+=2){for(fn=0,wn=jt.la>>4+ur,$r=ta.la>>4+ur,dn=0;2>dn;++dn){for(za=1&$r,ya=0;2>ya;++ya)_r=za+(1&wn),wn=wn>>1|(za=0<(_r=dp(Ln,mi[2],_r,lr.Qc,0,Kt,Oi)))<<3,fn=fn<<2|(3<_r?3:1<_r?2:Kt[Oi+0]!=0),Oi+=16;wn>>=2,$r=$r>>1|za<<5}Yt|=fn<<4*ur,Us|=wn<<4<<ur,gi|=(240&$r)<<ur}jt.la=Us,ta.la=gi,ea.Hc=zr,ea.Gc=Yt,ea.ia=43690&Yt?0:lr.ia,mi=!(zr|Yt)}if(0<ze.L&&(ze.wa[ze.Y+ze.ja]=ze.gd[Ot.$b][Ot.Za],ze.wa[ze.Y+ze.ja].La|=!mi),wr.Ka)return Yn(Wt,7,"Premature end-of-file encountered.")}if(Ao(Wt),ze=Vr,wr=1,Ot=(rt=Wt).D,jt=0<rt.L&&rt.M>=rt.zb&&rt.M<=rt.Va,rt.Aa==0)t:{if(Ot.M=rt.M,Ot.uc=jt,pi(rt,Ot),wr=1,Ot=(fn=rt.D).Nb,jt=(Yt=Sg[rt.L])*rt.R,Ln=Yt/2*rt.B,dn=16*Ot*rt.R,ya=8*Ot*rt.B,mi=rt.sa,ea=rt.ta-jt+dn,lr=rt.qa,Kt=rt.ra-Ln+ya,Oi=rt.Ha,ta=rt.Ia-Ln+ya,$r=(wn=fn.M)==0,zr=wn>=rt.Va-1,rt.Aa==2&&pi(rt,fn),fn.uc)for(za=(_r=rt).D.M,t(_r.D.uc),fn=_r.yb;fn<_r.Hb;++fn){gi=fn,Us=za;var na=($a=(vi=_r).D).Nb;ur=vi.R;var $a=$a.wa[$a.Y+gi],Ua=vi.sa,xa=vi.ta+16*na*ur+16*gi,Wa=$a.dd,Nn=$a.tc;if(Nn!=0)if(t(3<=Nn),vi.L==1)0<gi&&QP(Ua,xa,ur,Nn+4),$a.La&&JP(Ua,xa,ur,Nn),0<Us&&XP(Ua,xa,ur,Nn+4),$a.La&&ZP(Ua,xa,ur,Nn);else{var qa=vi.B,Ws=vi.qa,$c=vi.ra+8*na*qa+8*gi,hl=vi.Ha,vi=vi.Ia+8*na*qa+8*gi;na=$a.ld,0<gi&&(Br(Ua,xa,ur,Nn+4,Wa,na),up(Ws,$c,hl,vi,qa,Nn+4,Wa,na)),$a.La&&(pg(Ua,xa,ur,Nn,Wa,na),YP(Ws,$c,hl,vi,qa,Nn,Wa,na)),0<Us&&(br(Ua,xa,ur,Nn+4,Wa,na),dl(Ws,$c,hl,vi,qa,Nn+4,Wa,na)),$a.La&&(ef(Ua,xa,ur,Nn,Wa,na),GP(Ws,$c,hl,vi,qa,Nn,Wa,na))}}if(rt.ia&&alert("todo:DitherRow"),ze.put!=null){if(fn=16*wn,wn=16*(wn+1),$r?(ze.y=rt.sa,ze.O=rt.ta+dn,ze.f=rt.qa,ze.N=rt.ra+ya,ze.ea=rt.Ha,ze.W=rt.Ia+ya):(fn-=Yt,ze.y=mi,ze.O=ea,ze.f=lr,ze.N=Kt,ze.ea=Oi,ze.W=ta),zr||(wn-=Yt),wn>ze.o&&(wn=ze.o),ze.F=null,ze.J=null,rt.Fa!=null&&0<rt.Fa.length&&fn<wn&&(ze.J=Xn(rt,ze,fn,wn-fn),ze.F=rt.mb,ze.F==null&&ze.F.length==0)){wr=Yn(rt,3,"Could not decode alpha data.");break t}fn<ze.j&&(Yt=ze.j-fn,fn=ze.j,t(!(1&Yt)),ze.O+=rt.R*Yt,ze.N+=rt.B*(Yt>>1),ze.W+=rt.B*(Yt>>1),ze.F!=null&&(ze.J+=ze.width*Yt)),fn<wn&&(ze.O+=ze.v,ze.N+=ze.v>>1,ze.W+=ze.v>>1,ze.F!=null&&(ze.J+=ze.v),ze.ka=fn-ze.j,ze.U=ze.va-ze.v,ze.T=wn-fn,wr=ze.put(ze))}Ot+1!=rt.Ic||zr||(r(rt.sa,rt.ta-jt,mi,ea+16*rt.R,jt),r(rt.qa,rt.ra-Ln,lr,Kt+8*rt.B,Ln),r(rt.Ha,rt.Ia-Ln,Oi,ta+8*rt.B,Ln))}if(!wr)return Yn(Wt,6,"Output aborted.")}return 1}(ne,me)),me.bc!=null&&me.bc(me),we&=1}return we?(ne.cb=0,we):0})(m,F)||(_=m.a)}}else _=m.a}_==0&&q.Oa!=null&&q.Oa.fd&&(_=rp(q.ba))}q=_}U=q!=0?null:11>U?K.f.RGBA.eb:K.f.kb.y}else U=null;return U};var xE=[3,4,3,4,4,2,2,4,4,4,2,1,1]};function u(I,M){for(var N="",C=0;C<4;C++)N+=String.fromCharCode(I[M++]);return N}function c(I,M){return I[M+0]|I[M+1]<<8}function d(I,M){return(I[M+0]|I[M+1]<<8|I[M+2]<<16)>>>0}function p(I,M){return(I[M+0]|I[M+1]<<8|I[M+2]<<16|I[M+3]<<24)>>>0}new l;var f=[0],g=[0],v=[],b=new l,x=e,w=function(I,M){var N={},C=0,R=!1,W=0,Y=0;if(N.frames=[],!function($,X){for(var re=0;re<4;re++)if($[X+re]!="RIFF".charCodeAt(re))return!0;return!1}(I,M)){for(p(I,M+=4),M+=8;M<I.length;){var ae=u(I,M),ie=p(I,M+=4);M+=4;var H=ie+(1&ie);switch(ae){case"VP8 ":case"VP8L":N.frames[C]===void 0&&(N.frames[C]={}),(be=N.frames[C]).src_off=R?Y:M-8,be.src_size=W+ie+8,C++,R&&(R=!1,W=0,Y=0);break;case"VP8X":(be=N.header={}).feature_flags=I[M];var se=M+4;be.canvas_width=1+d(I,se),se+=3,be.canvas_height=1+d(I,se),se+=3;break;case"ALPH":R=!0,W=H+8,Y=M-8;break;case"ANIM":(be=N.header).bgcolor=p(I,M),se=M+4,be.loop_count=c(I,se),se+=2;break;case"ANMF":var ye,be;(be=N.frames[C]={}).offset_x=2*d(I,M),M+=3,be.offset_y=2*d(I,M),M+=3,be.width=1+d(I,M),M+=3,be.height=1+d(I,M),M+=3,be.duration=d(I,M),M+=3,ye=I[M++],be.dispose=1&ye,be.blend=ye>>1&1}ae!="ANMF"&&(M+=H)}return N}}(x,0);w.response=x,w.rgbaoutput=!0,w.dataurl=!1;var A=w.header?w.header:null,P=w.frames?w.frames:null;if(A){A.loop_counter=A.loop_count,f=[A.canvas_height],g=[A.canvas_width];for(var O=0;O<P.length&&P[O].blend!=0;O++);}var D=P[0],T=b.WebPDecodeRGBA(x,D.src_off,D.src_size,g,f);D.rgba=T,D.imgwidth=g[0],D.imgheight=f[0];for(var k=0;k<g[0]*f[0]*4;k++)v[k]=T[k];return this.width=g,this.height=f,this.data=v,this}(function(e){var t,n,r,i,a,s,o,l,u,c=function($){return $=$||{},this.isStrokeTransparent=$.isStrokeTransparent||!1,this.strokeOpacity=$.strokeOpacity||1,this.strokeStyle=$.strokeStyle||"#000000",this.fillStyle=$.fillStyle||"#000000",this.isFillTransparent=$.isFillTransparent||!1,this.fillOpacity=$.fillOpacity||1,this.font=$.font||"10px sans-serif",this.textBaseline=$.textBaseline||"alphabetic",this.textAlign=$.textAlign||"left",this.lineWidth=$.lineWidth||1,this.lineJoin=$.lineJoin||"miter",this.lineCap=$.lineCap||"butt",this.path=$.path||[],this.transform=$.transform!==void 0?$.transform.clone():new l,this.globalCompositeOperation=$.globalCompositeOperation||"normal",this.globalAlpha=$.globalAlpha||1,this.clip_path=$.clip_path||[],this.currentPoint=$.currentPoint||new s,this.miterLimit=$.miterLimit||10,this.lastPoint=$.lastPoint||new s,this.lineDashOffset=$.lineDashOffset||0,this.lineDash=$.lineDash||[],this.margin=$.margin||[0,0,0,0],this.prevPageLastElemOffset=$.prevPageLastElemOffset||0,this.ignoreClearRect=typeof $.ignoreClearRect!="boolean"||$.ignoreClearRect,this};e.events.push(["initialized",function(){this.context2d=new d(this),t=this.internal.f2,n=this.internal.getCoordinateString,r=this.internal.getVerticalCoordinateString,i=this.internal.getHorizontalCoordinate,a=this.internal.getVerticalCoordinate,s=this.internal.Point,o=this.internal.Rectangle,l=this.internal.Matrix,u=new c}]);var d=function($){Object.defineProperty(this,"canvas",{get:function(){return{parentNode:!1,style:!1}}});var X=$;Object.defineProperty(this,"pdf",{get:function(){return X}});var re=!1;Object.defineProperty(this,"pageWrapXEnabled",{get:function(){return re},set:function(fe){re=!!fe}});var oe=!1;Object.defineProperty(this,"pageWrapYEnabled",{get:function(){return oe},set:function(fe){oe=!!fe}});var de=0;Object.defineProperty(this,"posX",{get:function(){return de},set:function(fe){isNaN(fe)||(de=fe)}});var ge=0;Object.defineProperty(this,"posY",{get:function(){return ge},set:function(fe){isNaN(fe)||(ge=fe)}}),Object.defineProperty(this,"margin",{get:function(){return u.margin},set:function(fe){var Z;typeof fe=="number"?Z=[fe,fe,fe,fe]:((Z=new Array(4))[0]=fe[0],Z[1]=fe.length>=2?fe[1]:Z[0],Z[2]=fe.length>=3?fe[2]:Z[0],Z[3]=fe.length>=4?fe[3]:Z[1]),u.margin=Z}});var ce=!1;Object.defineProperty(this,"autoPaging",{get:function(){return ce},set:function(fe){ce=fe}});var J=0;Object.defineProperty(this,"lastBreak",{get:function(){return J},set:function(fe){J=fe}});var pe=[];Object.defineProperty(this,"pageBreaks",{get:function(){return pe},set:function(fe){pe=fe}}),Object.defineProperty(this,"ctx",{get:function(){return u},set:function(fe){fe instanceof c&&(u=fe)}}),Object.defineProperty(this,"path",{get:function(){return u.path},set:function(fe){u.path=fe}});var Ee=[];Object.defineProperty(this,"ctxStack",{get:function(){return Ee},set:function(fe){Ee=fe}}),Object.defineProperty(this,"fillStyle",{get:function(){return this.ctx.fillStyle},set:function(fe){var Z;Z=p(fe),this.ctx.fillStyle=Z.style,this.ctx.isFillTransparent=Z.a===0,this.ctx.fillOpacity=Z.a,this.pdf.setFillColor(Z.r,Z.g,Z.b,{a:Z.a}),this.pdf.setTextColor(Z.r,Z.g,Z.b,{a:Z.a})}}),Object.defineProperty(this,"strokeStyle",{get:function(){return this.ctx.strokeStyle},set:function(fe){var Z=p(fe);this.ctx.strokeStyle=Z.style,this.ctx.isStrokeTransparent=Z.a===0,this.ctx.strokeOpacity=Z.a,Z.a===0?this.pdf.setDrawColor(255,255,255):(Z.a,this.pdf.setDrawColor(Z.r,Z.g,Z.b))}}),Object.defineProperty(this,"lineCap",{get:function(){return this.ctx.lineCap},set:function(fe){["butt","round","square"].indexOf(fe)!==-1&&(this.ctx.lineCap=fe,this.pdf.setLineCap(fe))}}),Object.defineProperty(this,"lineWidth",{get:function(){return this.ctx.lineWidth},set:function(fe){isNaN(fe)||(this.ctx.lineWidth=fe,this.pdf.setLineWidth(fe))}}),Object.defineProperty(this,"lineJoin",{get:function(){return this.ctx.lineJoin},set:function(fe){["bevel","round","miter"].indexOf(fe)!==-1&&(this.ctx.lineJoin=fe,this.pdf.setLineJoin(fe))}}),Object.defineProperty(this,"miterLimit",{get:function(){return this.ctx.miterLimit},set:function(fe){isNaN(fe)||(this.ctx.miterLimit=fe,this.pdf.setMiterLimit(fe))}}),Object.defineProperty(this,"textBaseline",{get:function(){return this.ctx.textBaseline},set:function(fe){this.ctx.textBaseline=fe}}),Object.defineProperty(this,"textAlign",{get:function(){return this.ctx.textAlign},set:function(fe){["right","end","center","left","start"].indexOf(fe)!==-1&&(this.ctx.textAlign=fe)}});var le=null,Ne=null;Object.defineProperty(this,"fontFaces",{get:function(){return Ne},set:function(fe){le=null,Ne=fe}}),Object.defineProperty(this,"font",{get:function(){return this.ctx.font},set:function(fe){var Z;if(this.ctx.font=fe,(Z=/^\s*(?=(?:(?:[-a-z]+\s*){0,2}(italic|oblique))?)(?=(?:(?:[-a-z]+\s*){0,2}(small-caps))?)(?=(?:(?:[-a-z]+\s*){0,2}(bold(?:er)?|lighter|[1-9]00))?)(?:(?:normal|\1|\2|\3)\s*){0,3}((?:xx?-)?(?:small|large)|medium|smaller|larger|[.\d]+(?:\%|in|[cem]m|ex|p[ctx]))(?:\s*\/\s*(normal|[.\d]+(?:\%|in|[cem]m|ex|p[ctx])))?\s*([-_,\"\'\sa-z]+?)\s*$/i.exec(fe))!==null){var Ve=Z[1];Z[2];var Xe=Z[3],Ue=Z[4];Z[5];var Oe=Z[6],We=/^([.\d]+)((?:%|in|[cem]m|ex|p[ctx]))$/i.exec(Ue)[2];Ue=Math.floor(We==="px"?parseFloat(Ue)*this.pdf.internal.scaleFactor:We==="em"?parseFloat(Ue)*this.pdf.getFontSize():parseFloat(Ue)*this.pdf.internal.scaleFactor),this.pdf.setFontSize(Ue);var $e=function(mt){var ct,Zt,qt=[],tt=mt.trim();if(tt==="")return jw;if(tt in m8)return[m8[tt]];for(;tt!=="";){switch(Zt=null,ct=(tt=v8(tt)).charAt(0)){case'"':case"'":Zt=wue(tt.substring(1),ct);break;default:Zt=_ue(tt)}if(Zt===null||(qt.push(Zt[0]),(tt=v8(Zt[1]))!==""&&tt.charAt(0)!==","))return jw;tt=tt.replace(/^,/,"")}return qt}(Oe);if(this.fontFaces){var Nt=function(mt,ct){if(le===null){var Zt=function(qt){var tt=[];return Object.keys(qt).forEach(function(bt){qt[bt].forEach(function(ln){var ht=null;switch(ln){case"bold":ht={family:bt,weight:"bold"};break;case"italic":ht={family:bt,style:"italic"};break;case"bolditalic":ht={family:bt,weight:"bold",style:"italic"};break;case"":case"normal":ht={family:bt}}ht!==null&&(ht.ref={name:bt,style:ln},tt.push(ht))})}),tt}(mt.getFontList());le=function(qt){for(var tt={},bt=0;bt<qt.length;++bt){var ln=Cw(qt[bt]),ht=ln.family,Lt=ln.stretch,At=ln.style,Vn=ln.weight;tt[ht]=tt[ht]||{},tt[ht][Lt]=tt[ht][Lt]||{},tt[ht][Lt][At]=tt[ht][Lt][At]||{},tt[ht][Lt][At][Vn]=ln}return tt}(Zt.concat(ct))}return le}(this.pdf,this.fontFaces),st=$e.map(function(mt){return{family:mt,stretch:"normal",weight:Xe,style:Ve}}),$t=function(mt,ct,Zt){for(var qt=(Zt=Zt||{}).defaultFontFamily||"times",tt=Object.assign({},bue,Zt.genericFontFamilies||{}),bt=null,ln=null,ht=0;ht<ct.length;++ht)if(tt[(bt=Cw(ct[ht])).family]&&(bt.family=tt[bt.family]),mt.hasOwnProperty(bt.family)){ln=mt[bt.family];break}if(!(ln=ln||mt[qt]))throw new Error("Could not find a font-family for the rule '"+g8(bt)+"' and default family '"+qt+"'.");if(ln=function(Lt,At){if(At[Lt])return At[Lt];var Vn=o3[Lt],In=Vn<=o3.normal?-1:1,nn=p8(At,HF,Vn,In);if(!nn)throw new Error("Could not find a matching font-stretch value for "+Lt);return nn}(bt.stretch,ln),ln=function(Lt,At){if(At[Lt])return At[Lt];for(var Vn=qF[Lt],In=0;In<Vn.length;++In)if(At[Vn[In]])return At[Vn[In]];throw new Error("Could not find a matching font-style for "+Lt)}(bt.style,ln),!(ln=function(Lt,At){if(At[Lt])return At[Lt];if(Lt===400&&At[500])return At[500];if(Lt===500&&At[400])return At[400];var Vn=xue[Lt],In=p8(At,KF,Vn,Lt<400?-1:1);if(!In)throw new Error("Could not find a matching font-weight for value "+Lt);return In}(bt.weight,ln)))throw new Error("Failed to resolve a font for the rule '"+g8(bt)+"'.");return ln}(Nt,st);this.pdf.setFont($t.ref.name,$t.ref.style)}else{var St="";(Xe==="bold"||parseInt(Xe,10)>=700||Ve==="bold")&&(St="bold"),Ve==="italic"&&(St+="italic"),St.length===0&&(St="normal");for(var it="",kt={arial:"Helvetica",Arial:"Helvetica",verdana:"Helvetica",Verdana:"Helvetica",helvetica:"Helvetica",Helvetica:"Helvetica","sans-serif":"Helvetica",fixed:"Courier",monospace:"Courier",terminal:"Courier",cursive:"Times",fantasy:"Times",serif:"Times"},xt=0;xt<$e.length;xt++){if(this.pdf.internal.getFont($e[xt],St,{noFallback:!0,disableWarning:!0})!==void 0){it=$e[xt];break}if(St==="bolditalic"&&this.pdf.internal.getFont($e[xt],"bold",{noFallback:!0,disableWarning:!0})!==void 0)it=$e[xt],St="bold";else if(this.pdf.internal.getFont($e[xt],"normal",{noFallback:!0,disableWarning:!0})!==void 0){it=$e[xt],St="normal";break}}if(it===""){for(var ot=0;ot<$e.length;ot++)if(kt[$e[ot]]){it=kt[$e[ot]];break}}it=it===""?"Times":it,this.pdf.setFont(it,St)}}}}),Object.defineProperty(this,"globalCompositeOperation",{get:function(){return this.ctx.globalCompositeOperation},set:function(fe){this.ctx.globalCompositeOperation=fe}}),Object.defineProperty(this,"globalAlpha",{get:function(){return this.ctx.globalAlpha},set:function(fe){this.ctx.globalAlpha=fe}}),Object.defineProperty(this,"lineDashOffset",{get:function(){return this.ctx.lineDashOffset},set:function(fe){this.ctx.lineDashOffset=fe,be.call(this)}}),Object.defineProperty(this,"lineDash",{get:function(){return this.ctx.lineDash},set:function(fe){this.ctx.lineDash=fe,be.call(this)}}),Object.defineProperty(this,"ignoreClearRect",{get:function(){return this.ctx.ignoreClearRect},set:function(fe){this.ctx.ignoreClearRect=!!fe}})};d.prototype.setLineDash=function($){this.lineDash=$},d.prototype.getLineDash=function(){return this.lineDash.length%2?this.lineDash.concat(this.lineDash):this.lineDash.slice()},d.prototype.fill=function(){P.call(this,"fill",!1)},d.prototype.stroke=function(){P.call(this,"stroke",!1)},d.prototype.beginPath=function(){this.path=[{type:"begin"}]},d.prototype.moveTo=function($,X){if(isNaN($)||isNaN(X))throw _n.error("jsPDF.context2d.moveTo: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.moveTo");var re=this.ctx.transform.applyToPoint(new s($,X));this.path.push({type:"mt",x:re.x,y:re.y}),this.ctx.lastPoint=new s($,X)},d.prototype.closePath=function(){var $=new s(0,0),X=0;for(X=this.path.length-1;X!==-1;X--)if(this.path[X].type==="begin"&&gn(this.path[X+1])==="object"&&typeof this.path[X+1].x=="number"){$=new s(this.path[X+1].x,this.path[X+1].y);break}this.path.push({type:"close"}),this.ctx.lastPoint=new s($.x,$.y)},d.prototype.lineTo=function($,X){if(isNaN($)||isNaN(X))throw _n.error("jsPDF.context2d.lineTo: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.lineTo");var re=this.ctx.transform.applyToPoint(new s($,X));this.path.push({type:"lt",x:re.x,y:re.y}),this.ctx.lastPoint=new s(re.x,re.y)},d.prototype.clip=function(){this.ctx.clip_path=JSON.parse(JSON.stringify(this.path)),P.call(this,null,!0)},d.prototype.quadraticCurveTo=function($,X,re,oe){if(isNaN(re)||isNaN(oe)||isNaN($)||isNaN(X))throw _n.error("jsPDF.context2d.quadraticCurveTo: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.quadraticCurveTo");var de=this.ctx.transform.applyToPoint(new s(re,oe)),ge=this.ctx.transform.applyToPoint(new s($,X));this.path.push({type:"qct",x1:ge.x,y1:ge.y,x:de.x,y:de.y}),this.ctx.lastPoint=new s(de.x,de.y)},d.prototype.bezierCurveTo=function($,X,re,oe,de,ge){if(isNaN(de)||isNaN(ge)||isNaN($)||isNaN(X)||isNaN(re)||isNaN(oe))throw _n.error("jsPDF.context2d.bezierCurveTo: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.bezierCurveTo");var ce=this.ctx.transform.applyToPoint(new s(de,ge)),J=this.ctx.transform.applyToPoint(new s($,X)),pe=this.ctx.transform.applyToPoint(new s(re,oe));this.path.push({type:"bct",x1:J.x,y1:J.y,x2:pe.x,y2:pe.y,x:ce.x,y:ce.y}),this.ctx.lastPoint=new s(ce.x,ce.y)},d.prototype.arc=function($,X,re,oe,de,ge){if(isNaN($)||isNaN(X)||isNaN(re)||isNaN(oe)||isNaN(de))throw _n.error("jsPDF.context2d.arc: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.arc");if(ge=!!ge,!this.ctx.transform.isIdentity){var ce=this.ctx.transform.applyToPoint(new s($,X));$=ce.x,X=ce.y;var J=this.ctx.transform.applyToPoint(new s(0,re)),pe=this.ctx.transform.applyToPoint(new s(0,0));re=Math.sqrt(Math.pow(J.x-pe.x,2)+Math.pow(J.y-pe.y,2))}Math.abs(de-oe)>=2*Math.PI&&(oe=0,de=2*Math.PI),this.path.push({type:"arc",x:$,y:X,radius:re,startAngle:oe,endAngle:de,counterclockwise:ge})},d.prototype.arcTo=function($,X,re,oe,de){throw new Error("arcTo not implemented.")},d.prototype.rect=function($,X,re,oe){if(isNaN($)||isNaN(X)||isNaN(re)||isNaN(oe))throw _n.error("jsPDF.context2d.rect: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.rect");this.moveTo($,X),this.lineTo($+re,X),this.lineTo($+re,X+oe),this.lineTo($,X+oe),this.lineTo($,X),this.lineTo($+re,X),this.lineTo($,X)},d.prototype.fillRect=function($,X,re,oe){if(isNaN($)||isNaN(X)||isNaN(re)||isNaN(oe))throw _n.error("jsPDF.context2d.fillRect: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.fillRect");if(!f.call(this)){var de={};this.lineCap!=="butt"&&(de.lineCap=this.lineCap,this.lineCap="butt"),this.lineJoin!=="miter"&&(de.lineJoin=this.lineJoin,this.lineJoin="miter"),this.beginPath(),this.rect($,X,re,oe),this.fill(),de.hasOwnProperty("lineCap")&&(this.lineCap=de.lineCap),de.hasOwnProperty("lineJoin")&&(this.lineJoin=de.lineJoin)}},d.prototype.strokeRect=function($,X,re,oe){if(isNaN($)||isNaN(X)||isNaN(re)||isNaN(oe))throw _n.error("jsPDF.context2d.strokeRect: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.strokeRect");g.call(this)||(this.beginPath(),this.rect($,X,re,oe),this.stroke())},d.prototype.clearRect=function($,X,re,oe){if(isNaN($)||isNaN(X)||isNaN(re)||isNaN(oe))throw _n.error("jsPDF.context2d.clearRect: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.clearRect");this.ignoreClearRect||(this.fillStyle="#ffffff",this.fillRect($,X,re,oe))},d.prototype.save=function($){$=typeof $!="boolean"||$;for(var X=this.pdf.internal.getCurrentPageInfo().pageNumber,re=0;re<this.pdf.internal.getNumberOfPages();re++)this.pdf.setPage(re+1),this.pdf.internal.out("q");if(this.pdf.setPage(X),$){this.ctx.fontSize=this.pdf.internal.getFontSize();var oe=new c(this.ctx);this.ctxStack.push(this.ctx),this.ctx=oe}},d.prototype.restore=function($){$=typeof $!="boolean"||$;for(var X=this.pdf.internal.getCurrentPageInfo().pageNumber,re=0;re<this.pdf.internal.getNumberOfPages();re++)this.pdf.setPage(re+1),this.pdf.internal.out("Q");this.pdf.setPage(X),$&&this.ctxStack.length!==0&&(this.ctx=this.ctxStack.pop(),this.fillStyle=this.ctx.fillStyle,this.strokeStyle=this.ctx.strokeStyle,this.font=this.ctx.font,this.lineCap=this.ctx.lineCap,this.lineWidth=this.ctx.lineWidth,this.lineJoin=this.ctx.lineJoin,this.lineDash=this.ctx.lineDash,this.lineDashOffset=this.ctx.lineDashOffset)},d.prototype.toDataURL=function(){throw new Error("toDataUrl not implemented.")};var p=function($){var X,re,oe,de;if($.isCanvasGradient===!0&&($=$.getColor()),!$)return{r:0,g:0,b:0,a:0,style:$};if(/transparent|rgba\s*\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*,\s*0+\s*\)/.test($))X=0,re=0,oe=0,de=0;else{var ge=/rgb\s*\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*\)/.exec($);if(ge!==null)X=parseInt(ge[1]),re=parseInt(ge[2]),oe=parseInt(ge[3]),de=1;else if((ge=/rgba\s*\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*,\s*([\d.]+)\s*\)/.exec($))!==null)X=parseInt(ge[1]),re=parseInt(ge[2]),oe=parseInt(ge[3]),de=parseFloat(ge[4]);else{if(de=1,typeof $=="string"&&$.charAt(0)!=="#"){var ce=new FF($);$=ce.ok?ce.toHex():"#000000"}$.length===4?(X=$.substring(1,2),X+=X,re=$.substring(2,3),re+=re,oe=$.substring(3,4),oe+=oe):(X=$.substring(1,3),re=$.substring(3,5),oe=$.substring(5,7)),X=parseInt(X,16),re=parseInt(re,16),oe=parseInt(oe,16)}}return{r:X,g:re,b:oe,a:de,style:$}},f=function(){return this.ctx.isFillTransparent||this.globalAlpha==0},g=function(){return!!(this.ctx.isStrokeTransparent||this.globalAlpha==0)};d.prototype.fillText=function($,X,re,oe){if(isNaN(X)||isNaN(re)||typeof $!="string")throw _n.error("jsPDF.context2d.fillText: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.fillText");if(oe=isNaN(oe)?void 0:oe,!f.call(this)){var de=H(this.ctx.transform.rotation),ge=this.ctx.transform.scaleX;C.call(this,{text:$,x:X,y:re,scale:ge,angle:de,align:this.textAlign,maxWidth:oe})}},d.prototype.strokeText=function($,X,re,oe){if(isNaN(X)||isNaN(re)||typeof $!="string")throw _n.error("jsPDF.context2d.strokeText: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.strokeText");if(!g.call(this)){oe=isNaN(oe)?void 0:oe;var de=H(this.ctx.transform.rotation),ge=this.ctx.transform.scaleX;C.call(this,{text:$,x:X,y:re,scale:ge,renderingMode:"stroke",angle:de,align:this.textAlign,maxWidth:oe})}},d.prototype.measureText=function($){if(typeof $!="string")throw _n.error("jsPDF.context2d.measureText: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.measureText");var X=this.pdf,re=this.pdf.internal.scaleFactor,oe=X.internal.getFontSize(),de=X.getStringUnitWidth($)*oe/X.internal.scaleFactor;return new function(ge){var ce=(ge=ge||{}).width||0;return Object.defineProperty(this,"width",{get:function(){return ce}}),this}({width:de*=Math.round(96*re/72*1e4)/1e4})},d.prototype.scale=function($,X){if(isNaN($)||isNaN(X))throw _n.error("jsPDF.context2d.scale: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.scale");var re=new l($,0,0,X,0,0);this.ctx.transform=this.ctx.transform.multiply(re)},d.prototype.rotate=function($){if(isNaN($))throw _n.error("jsPDF.context2d.rotate: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.rotate");var X=new l(Math.cos($),Math.sin($),-Math.sin($),Math.cos($),0,0);this.ctx.transform=this.ctx.transform.multiply(X)},d.prototype.translate=function($,X){if(isNaN($)||isNaN(X))throw _n.error("jsPDF.context2d.translate: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.translate");var re=new l(1,0,0,1,$,X);this.ctx.transform=this.ctx.transform.multiply(re)},d.prototype.transform=function($,X,re,oe,de,ge){if(isNaN($)||isNaN(X)||isNaN(re)||isNaN(oe)||isNaN(de)||isNaN(ge))throw _n.error("jsPDF.context2d.transform: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.transform");var ce=new l($,X,re,oe,de,ge);this.ctx.transform=this.ctx.transform.multiply(ce)},d.prototype.setTransform=function($,X,re,oe,de,ge){$=isNaN($)?1:$,X=isNaN(X)?0:X,re=isNaN(re)?0:re,oe=isNaN(oe)?1:oe,de=isNaN(de)?0:de,ge=isNaN(ge)?0:ge,this.ctx.transform=new l($,X,re,oe,de,ge)};var v=function(){return this.margin[0]>0||this.margin[1]>0||this.margin[2]>0||this.margin[3]>0};d.prototype.drawImage=function($,X,re,oe,de,ge,ce,J,pe){var Ee=this.pdf.getImageProperties($),le=1,Ne=1,fe=1,Z=1;oe!==void 0&&J!==void 0&&(fe=J/oe,Z=pe/de,le=Ee.width/oe*J/oe,Ne=Ee.height/de*pe/de),ge===void 0&&(ge=X,ce=re,X=0,re=0),oe!==void 0&&J===void 0&&(J=oe,pe=de),oe===void 0&&J===void 0&&(J=Ee.width,pe=Ee.height);for(var Ve,Xe=this.ctx.transform.decompose(),Ue=H(Xe.rotate.shx),Oe=new l,We=(Oe=(Oe=(Oe=Oe.multiply(Xe.translate)).multiply(Xe.skew)).multiply(Xe.scale)).applyToRectangle(new o(ge-X*fe,ce-re*Z,oe*le,de*Ne)),$e=b.call(this,We),Nt=[],st=0;st<$e.length;st+=1)Nt.indexOf($e[st])===-1&&Nt.push($e[st]);if(A(Nt),this.autoPaging)for(var $t=Nt[0],St=Nt[Nt.length-1],it=$t;it<St+1;it++){this.pdf.setPage(it);var kt=this.pdf.internal.pageSize.width-this.margin[3]-this.margin[1],xt=it===1?this.posY+this.margin[0]:this.margin[0],ot=this.pdf.internal.pageSize.height-this.posY-this.margin[0]-this.margin[2],mt=this.pdf.internal.pageSize.height-this.margin[0]-this.margin[2],ct=it===1?0:ot+(it-2)*mt;if(this.ctx.clip_path.length!==0){var Zt=this.path;Ve=JSON.parse(JSON.stringify(this.ctx.clip_path)),this.path=w(Ve,this.posX+this.margin[3],-ct+xt+this.ctx.prevPageLastElemOffset),O.call(this,"fill",!0),this.path=Zt}var qt=JSON.parse(JSON.stringify(We));qt=w([qt],this.posX+this.margin[3],-ct+xt+this.ctx.prevPageLastElemOffset)[0];var tt=(it>$t||it<St)&&v.call(this);tt&&(this.pdf.saveGraphicsState(),this.pdf.rect(this.margin[3],this.margin[0],kt,mt,null).clip().discardPath()),this.pdf.addImage($,"JPEG",qt.x,qt.y,qt.w,qt.h,null,null,Ue),tt&&this.pdf.restoreGraphicsState()}else this.pdf.addImage($,"JPEG",We.x,We.y,We.w,We.h,null,null,Ue)};var b=function($,X,re){var oe=[];X=X||this.pdf.internal.pageSize.width,re=re||this.pdf.internal.pageSize.height-this.margin[0]-this.margin[2];var de=this.posY+this.ctx.prevPageLastElemOffset;switch($.type){default:case"mt":case"lt":oe.push(Math.floor(($.y+de)/re)+1);break;case"arc":oe.push(Math.floor(($.y+de-$.radius)/re)+1),oe.push(Math.floor(($.y+de+$.radius)/re)+1);break;case"qct":var ge=se(this.ctx.lastPoint.x,this.ctx.lastPoint.y,$.x1,$.y1,$.x,$.y);oe.push(Math.floor((ge.y+de)/re)+1),oe.push(Math.floor((ge.y+ge.h+de)/re)+1);break;case"bct":var ce=ye(this.ctx.lastPoint.x,this.ctx.lastPoint.y,$.x1,$.y1,$.x2,$.y2,$.x,$.y);oe.push(Math.floor((ce.y+de)/re)+1),oe.push(Math.floor((ce.y+ce.h+de)/re)+1);break;case"rect":oe.push(Math.floor(($.y+de)/re)+1),oe.push(Math.floor(($.y+$.h+de)/re)+1)}for(var J=0;J<oe.length;J+=1)for(;this.pdf.internal.getNumberOfPages()<oe[J];)x.call(this);return oe},x=function(){var $=this.fillStyle,X=this.strokeStyle,re=this.font,oe=this.lineCap,de=this.lineWidth,ge=this.lineJoin;this.pdf.addPage(),this.fillStyle=$,this.strokeStyle=X,this.font=re,this.lineCap=oe,this.lineWidth=de,this.lineJoin=ge},w=function($,X,re){for(var oe=0;oe<$.length;oe++)switch($[oe].type){case"bct":$[oe].x2+=X,$[oe].y2+=re;case"qct":$[oe].x1+=X,$[oe].y1+=re;default:$[oe].x+=X,$[oe].y+=re}return $},A=function($){return $.sort(function(X,re){return X-re})},P=function($,X){for(var re,oe,de=this.fillStyle,ge=this.strokeStyle,ce=this.lineCap,J=this.lineWidth,pe=Math.abs(J*this.ctx.transform.scaleX),Ee=this.lineJoin,le=JSON.parse(JSON.stringify(this.path)),Ne=JSON.parse(JSON.stringify(this.path)),fe=[],Z=0;Z<Ne.length;Z++)if(Ne[Z].x!==void 0)for(var Ve=b.call(this,Ne[Z]),Xe=0;Xe<Ve.length;Xe+=1)fe.indexOf(Ve[Xe])===-1&&fe.push(Ve[Xe]);for(var Ue=0;Ue<fe.length;Ue++)for(;this.pdf.internal.getNumberOfPages()<fe[Ue];)x.call(this);if(A(fe),this.autoPaging)for(var Oe=fe[0],We=fe[fe.length-1],$e=Oe;$e<We+1;$e++){this.pdf.setPage($e),this.fillStyle=de,this.strokeStyle=ge,this.lineCap=ce,this.lineWidth=pe,this.lineJoin=Ee;var Nt=this.pdf.internal.pageSize.width-this.margin[3]-this.margin[1],st=$e===1?this.posY+this.margin[0]:this.margin[0],$t=this.pdf.internal.pageSize.height-this.posY-this.margin[0]-this.margin[2],St=this.pdf.internal.pageSize.height-this.margin[0]-this.margin[2],it=$e===1?0:$t+($e-2)*St;if(this.ctx.clip_path.length!==0){var kt=this.path;re=JSON.parse(JSON.stringify(this.ctx.clip_path)),this.path=w(re,this.posX+this.margin[3],-it+st+this.ctx.prevPageLastElemOffset),O.call(this,$,!0),this.path=kt}if(oe=JSON.parse(JSON.stringify(le)),this.path=w(oe,this.posX+this.margin[3],-it+st+this.ctx.prevPageLastElemOffset),X===!1||$e===0){var xt=($e>Oe||$e<We)&&v.call(this);xt&&(this.pdf.saveGraphicsState(),this.pdf.rect(this.margin[3],this.margin[0],Nt,St,null).clip().discardPath()),O.call(this,$,X),xt&&this.pdf.restoreGraphicsState()}this.lineWidth=J}else this.lineWidth=pe,O.call(this,$,X),this.lineWidth=J;this.path=le},O=function($,X){if(($!=="stroke"||X||!g.call(this))&&($==="stroke"||X||!f.call(this))){for(var re,oe,de=[],ge=this.path,ce=0;ce<ge.length;ce++){var J=ge[ce];switch(J.type){case"begin":de.push({begin:!0});break;case"close":de.push({close:!0});break;case"mt":de.push({start:J,deltas:[],abs:[]});break;case"lt":var pe=de.length;if(ge[ce-1]&&!isNaN(ge[ce-1].x)&&(re=[J.x-ge[ce-1].x,J.y-ge[ce-1].y],pe>0)){for(;pe>=0;pe--)if(de[pe-1].close!==!0&&de[pe-1].begin!==!0){de[pe-1].deltas.push(re),de[pe-1].abs.push(J);break}}break;case"bct":re=[J.x1-ge[ce-1].x,J.y1-ge[ce-1].y,J.x2-ge[ce-1].x,J.y2-ge[ce-1].y,J.x-ge[ce-1].x,J.y-ge[ce-1].y],de[de.length-1].deltas.push(re);break;case"qct":var Ee=ge[ce-1].x+2/3*(J.x1-ge[ce-1].x),le=ge[ce-1].y+2/3*(J.y1-ge[ce-1].y),Ne=J.x+2/3*(J.x1-J.x),fe=J.y+2/3*(J.y1-J.y),Z=J.x,Ve=J.y;re=[Ee-ge[ce-1].x,le-ge[ce-1].y,Ne-ge[ce-1].x,fe-ge[ce-1].y,Z-ge[ce-1].x,Ve-ge[ce-1].y],de[de.length-1].deltas.push(re);break;case"arc":de.push({deltas:[],abs:[],arc:!0}),Array.isArray(de[de.length-1].abs)&&de[de.length-1].abs.push(J)}}oe=X?null:$==="stroke"?"stroke":"fill";for(var Xe=!1,Ue=0;Ue<de.length;Ue++)if(de[Ue].arc)for(var Oe=de[Ue].abs,We=0;We<Oe.length;We++){var $e=Oe[We];$e.type==="arc"?k.call(this,$e.x,$e.y,$e.radius,$e.startAngle,$e.endAngle,$e.counterclockwise,void 0,X,!Xe):R.call(this,$e.x,$e.y),Xe=!0}else if(de[Ue].close===!0)this.pdf.internal.out("h"),Xe=!1;else if(de[Ue].begin!==!0){var Nt=de[Ue].start.x,st=de[Ue].start.y;W.call(this,de[Ue].deltas,Nt,st),Xe=!0}oe&&I.call(this,oe),X&&M.call(this)}},D=function($){var X=this.pdf.internal.getFontSize()/this.pdf.internal.scaleFactor,re=X*(this.pdf.internal.getLineHeightFactor()-1);switch(this.ctx.textBaseline){case"bottom":return $-re;case"top":return $+X-re;case"hanging":return $+X-2*re;case"middle":return $+X/2-re;default:return $}},T=function($){return $+this.pdf.internal.getFontSize()/this.pdf.internal.scaleFactor*(this.pdf.internal.getLineHeightFactor()-1)};d.prototype.createLinearGradient=function(){var $=function(){};return $.colorStops=[],$.addColorStop=function(X,re){this.colorStops.push([X,re])},$.getColor=function(){return this.colorStops.length===0?"#000000":this.colorStops[0][1]},$.isCanvasGradient=!0,$},d.prototype.createPattern=function(){return this.createLinearGradient()},d.prototype.createRadialGradient=function(){return this.createLinearGradient()};var k=function($,X,re,oe,de,ge,ce,J,pe){for(var Ee=ae.call(this,re,oe,de,ge),le=0;le<Ee.length;le++){var Ne=Ee[le];le===0&&(pe?N.call(this,Ne.x1+$,Ne.y1+X):R.call(this,Ne.x1+$,Ne.y1+X)),Y.call(this,$,X,Ne.x2,Ne.y2,Ne.x3,Ne.y3,Ne.x4,Ne.y4)}J?M.call(this):I.call(this,ce)},I=function($){switch($){case"stroke":this.pdf.internal.out("S");break;case"fill":this.pdf.internal.out("f")}},M=function(){this.pdf.clip(),this.pdf.discardPath()},N=function($,X){this.pdf.internal.out(n($)+" "+r(X)+" m")},C=function($){var X;switch($.align){case"right":case"end":X="right";break;case"center":X="center";break;default:X="left"}var re=this.pdf.getTextDimensions($.text),oe=D.call(this,$.y),de=T.call(this,oe)-re.h,ge=this.ctx.transform.applyToPoint(new s($.x,oe)),ce=this.ctx.transform.decompose(),J=new l;J=(J=(J=J.multiply(ce.translate)).multiply(ce.skew)).multiply(ce.scale);for(var pe,Ee,le,Ne=this.ctx.transform.applyToRectangle(new o($.x,oe,re.w,re.h)),fe=J.applyToRectangle(new o($.x,de,re.w,re.h)),Z=b.call(this,fe),Ve=[],Xe=0;Xe<Z.length;Xe+=1)Ve.indexOf(Z[Xe])===-1&&Ve.push(Z[Xe]);if(A(Ve),this.autoPaging)for(var Ue=Ve[0],Oe=Ve[Ve.length-1],We=Ue;We<Oe+1;We++){this.pdf.setPage(We);var $e=We===1?this.posY+this.margin[0]:this.margin[0],Nt=this.pdf.internal.pageSize.height-this.posY-this.margin[0]-this.margin[2],st=this.pdf.internal.pageSize.height-this.margin[2],$t=st-this.margin[0],St=this.pdf.internal.pageSize.width-this.margin[1],it=St-this.margin[3],kt=We===1?0:Nt+(We-2)*$t;if(this.ctx.clip_path.length!==0){var xt=this.path;pe=JSON.parse(JSON.stringify(this.ctx.clip_path)),this.path=w(pe,this.posX+this.margin[3],-1*kt+$e),O.call(this,"fill",!0),this.path=xt}var ot=w([JSON.parse(JSON.stringify(fe))],this.posX+this.margin[3],-kt+$e+this.ctx.prevPageLastElemOffset)[0];$.scale>=.01&&(Ee=this.pdf.internal.getFontSize(),this.pdf.setFontSize(Ee*$.scale),le=this.lineWidth,this.lineWidth=le*$.scale);var mt=this.autoPaging!=="text";if(mt||ot.y+ot.h<=st){if(mt||ot.y>=$e&&ot.x<=St){var ct=mt?$.text:this.pdf.splitTextToSize($.text,$.maxWidth||St-ot.x)[0],Zt=w([JSON.parse(JSON.stringify(Ne))],this.posX+this.margin[3],-kt+$e+this.ctx.prevPageLastElemOffset)[0],qt=mt&&(We>Ue||We<Oe)&&v.call(this);qt&&(this.pdf.saveGraphicsState(),this.pdf.rect(this.margin[3],this.margin[0],it,$t,null).clip().discardPath()),this.pdf.text(ct,Zt.x,Zt.y,{angle:$.angle,align:X,renderingMode:$.renderingMode}),qt&&this.pdf.restoreGraphicsState()}}else ot.y<st&&(this.ctx.prevPageLastElemOffset+=st-ot.y);$.scale>=.01&&(this.pdf.setFontSize(Ee),this.lineWidth=le)}else $.scale>=.01&&(Ee=this.pdf.internal.getFontSize(),this.pdf.setFontSize(Ee*$.scale),le=this.lineWidth,this.lineWidth=le*$.scale),this.pdf.text($.text,ge.x+this.posX,ge.y+this.posY,{angle:$.angle,align:X,renderingMode:$.renderingMode,maxWidth:$.maxWidth}),$.scale>=.01&&(this.pdf.setFontSize(Ee),this.lineWidth=le)},R=function($,X,re,oe){re=re||0,oe=oe||0,this.pdf.internal.out(n($+re)+" "+r(X+oe)+" l")},W=function($,X,re){return this.pdf.lines($,X,re,null,null)},Y=function($,X,re,oe,de,ge,ce,J){this.pdf.internal.out([t(i(re+$)),t(a(oe+X)),t(i(de+$)),t(a(ge+X)),t(i(ce+$)),t(a(J+X)),"c"].join(" "))},ae=function($,X,re,oe){for(var de=2*Math.PI,ge=Math.PI/2;X>re;)X-=de;var ce=Math.abs(re-X);ce<de&&oe&&(ce=de-ce);for(var J=[],pe=oe?-1:1,Ee=X;ce>1e-5;){var le=Ee+pe*Math.min(ce,ge);J.push(ie.call(this,$,Ee,le)),ce-=Math.abs(le-Ee),Ee=le}return J},ie=function($,X,re){var oe=(re-X)/2,de=$*Math.cos(oe),ge=$*Math.sin(oe),ce=de,J=-ge,pe=ce*ce+J*J,Ee=pe+ce*de+J*ge,le=4/3*(Math.sqrt(2*pe*Ee)-Ee)/(ce*ge-J*de),Ne=ce-le*J,fe=J+le*ce,Z=Ne,Ve=-fe,Xe=oe+X,Ue=Math.cos(Xe),Oe=Math.sin(Xe);return{x1:$*Math.cos(X),y1:$*Math.sin(X),x2:Ne*Ue-fe*Oe,y2:Ne*Oe+fe*Ue,x3:Z*Ue-Ve*Oe,y3:Z*Oe+Ve*Ue,x4:$*Math.cos(re),y4:$*Math.sin(re)}},H=function($){return 180*$/Math.PI},se=function($,X,re,oe,de,ge){var ce=$+.5*(re-$),J=X+.5*(oe-X),pe=de+.5*(re-de),Ee=ge+.5*(oe-ge),le=Math.min($,de,ce,pe),Ne=Math.max($,de,ce,pe),fe=Math.min(X,ge,J,Ee),Z=Math.max(X,ge,J,Ee);return new o(le,fe,Ne-le,Z-fe)},ye=function($,X,re,oe,de,ge,ce,J){var pe,Ee,le,Ne,fe,Z,Ve,Xe,Ue,Oe,We,$e,Nt,st,$t=re-$,St=oe-X,it=de-re,kt=ge-oe,xt=ce-de,ot=J-ge;for(Ee=0;Ee<41;Ee++)Ue=(Ve=(le=$+(pe=Ee/40)*$t)+pe*((fe=re+pe*it)-le))+pe*(fe+pe*(de+pe*xt-fe)-Ve),Oe=(Xe=(Ne=X+pe*St)+pe*((Z=oe+pe*kt)-Ne))+pe*(Z+pe*(ge+pe*ot-Z)-Xe),Ee==0?(We=Ue,$e=Oe,Nt=Ue,st=Oe):(We=Math.min(We,Ue),$e=Math.min($e,Oe),Nt=Math.max(Nt,Ue),st=Math.max(st,Oe));return new o(Math.round(We),Math.round($e),Math.round(Nt-We),Math.round(st-$e))},be=function(){if(this.prevLineDash||this.ctx.lineDash.length||this.ctx.lineDashOffset){var $,X,re=($=this.ctx.lineDash,X=this.ctx.lineDashOffset,JSON.stringify({lineDash:$,lineDashOffset:X}));this.prevLineDash!==re&&(this.pdf.setLineDash(this.ctx.lineDash,this.ctx.lineDashOffset),this.prevLineDash=re)}}})(ut.API),function(e){var t=function(s){var o,l,u,c,d,p,f,g,v,b;for(l=[],u=0,c=(s+=o="\0\0\0\0".slice(s.length%4||4)).length;c>u;u+=4)(d=(s.charCodeAt(u)<<24)+(s.charCodeAt(u+1)<<16)+(s.charCodeAt(u+2)<<8)+s.charCodeAt(u+3))!==0?(p=(d=((d=((d=((d=(d-(b=d%85))/85)-(v=d%85))/85)-(g=d%85))/85)-(f=d%85))/85)%85,l.push(p+33,f+33,g+33,v+33,b+33)):l.push(122);return function(x,w){for(var A=w;A>0;A--)x.pop()}(l,o.length),String.fromCharCode.apply(String,l)+"~>"},n=function(s){var o,l,u,c,d,p=String,f="length",g=255,v="charCodeAt",b="slice",x="replace";for(s[b](-2),s=s[b](0,-2)[x](/\s/g,"")[x]("z","!!!!!"),u=[],c=0,d=(s+=o="uuuuu"[b](s[f]%5||5))[f];d>c;c+=5)l=52200625*(s[v](c)-33)+614125*(s[v](c+1)-33)+7225*(s[v](c+2)-33)+85*(s[v](c+3)-33)+(s[v](c+4)-33),u.push(g&l>>24,g&l>>16,g&l>>8,g&l);return function(w,A){for(var P=A;P>0;P--)w.pop()}(u,o[f]),p.fromCharCode.apply(p,u)},r=function(s){return s.split("").map(function(o){return("0"+o.charCodeAt().toString(16)).slice(-2)}).join("")+">"},i=function(s){var o=new RegExp(/^([0-9A-Fa-f]{2})+$/);if((s=s.replace(/\s/g,"")).indexOf(">")!==-1&&(s=s.substr(0,s.indexOf(">"))),s.length%2&&(s+="0"),o.test(s)===!1)return"";for(var l="",u=0;u<s.length;u+=2)l+=String.fromCharCode("0x"+(s[u]+s[u+1]));return l},a=function(s){for(var o=new Uint8Array(s.length),l=s.length;l--;)o[l]=s.charCodeAt(l);return(o=e3(o)).reduce(function(u,c){return u+String.fromCharCode(c)},"")};e.processDataByFilters=function(s,o){var l=0,u=s||"",c=[];for(typeof(o=o||[])=="string"&&(o=[o]),l=0;l<o.length;l+=1)switch(o[l]){case"ASCII85Decode":case"/ASCII85Decode":u=n(u),c.push("/ASCII85Encode");break;case"ASCII85Encode":case"/ASCII85Encode":u=t(u),c.push("/ASCII85Decode");break;case"ASCIIHexDecode":case"/ASCIIHexDecode":u=i(u),c.push("/ASCIIHexEncode");break;case"ASCIIHexEncode":case"/ASCIIHexEncode":u=r(u),c.push("/ASCIIHexDecode");break;case"FlateEncode":case"/FlateEncode":u=a(u),c.push("/FlateDecode");break;default:throw new Error('The filter: "'+o[l]+'" is not implemented')}return{data:u,reverseChain:c.reverse().join(" ")}}}(ut.API),function(e){e.loadFile=function(t,n,r){return function(i,a,s){a=a!==!1,s=typeof s=="function"?s:function(){};var o=void 0;try{o=function(l,u,c){var d=new XMLHttpRequest,p=0,f=function(g){var v=g.length,b=[],x=String.fromCharCode;for(p=0;p<v;p+=1)b.push(x(255&g.charCodeAt(p)));return b.join("")};if(d.open("GET",l,!u),d.overrideMimeType("text/plain; charset=x-user-defined"),u===!1&&(d.onload=function(){d.status===200?c(f(this.responseText)):c(void 0)}),d.send(null),u&&d.status===200)return f(d.responseText)}(i,a,s)}catch{}return o}(t,n,r)},e.loadImageFile=e.loadFile}(ut.API),function(e){function t(){return(_t.html2canvas?Promise.resolve(_t.html2canvas):fw(()=>import("./html2canvas.esm-CBrSDip1.js"),[])).catch(function(o){return Promise.reject(new Error("Could not load html2canvas: "+o))}).then(function(o){return o.default?o.default:o})}function n(){return(_t.DOMPurify?Promise.resolve(_t.DOMPurify):fw(()=>import("./purify.es-aGzT-_H7.js"),[])).catch(function(o){return Promise.reject(new Error("Could not load dompurify: "+o))}).then(function(o){return o.default?o.default:o})}var r=function(o){var l=gn(o);return l==="undefined"?"undefined":l==="string"||o instanceof String?"string":l==="number"||o instanceof Number?"number":l==="function"||o instanceof Function?"function":o&&o.constructor===Array?"array":o&&o.nodeType===1?"element":l==="object"?"object":"unknown"},i=function(o,l){var u=document.createElement(o);for(var c in l.className&&(u.className=l.className),l.innerHTML&&l.dompurify&&(u.innerHTML=l.dompurify.sanitize(l.innerHTML)),l.style)u.style[c]=l.style[c];return u},a=function o(l,u){for(var c=l.nodeType===3?document.createTextNode(l.nodeValue):l.cloneNode(!1),d=l.firstChild;d;d=d.nextSibling)u!==!0&&d.nodeType===1&&d.nodeName==="SCRIPT"||c.appendChild(o(d,u));return l.nodeType===1&&(l.nodeName==="CANVAS"?(c.width=l.width,c.height=l.height,c.getContext("2d").drawImage(l,0,0)):l.nodeName!=="TEXTAREA"&&l.nodeName!=="SELECT"||(c.value=l.value),c.addEventListener("load",function(){c.scrollTop=l.scrollTop,c.scrollLeft=l.scrollLeft},!0)),c},s=function o(l){var u=Object.assign(o.convert(Promise.resolve()),JSON.parse(JSON.stringify(o.template))),c=o.convert(Promise.resolve(),u);return(c=c.setProgress(1,o,1,[o])).set(l)};(s.prototype=Object.create(Promise.prototype)).constructor=s,s.convert=function(o,l){return o.__proto__=l||s.prototype,o},s.template={prop:{src:null,container:null,overlay:null,canvas:null,img:null,pdf:null,pageSize:null,callback:function(){}},progress:{val:0,state:null,n:0,stack:[]},opt:{filename:"file.pdf",margin:[0,0,0,0],enableLinks:!0,x:0,y:0,html2canvas:{},jsPDF:{},backgroundColor:"transparent"}},s.prototype.from=function(o,l){return this.then(function(){switch(l=l||function(u){switch(r(u)){case"string":return"string";case"element":return u.nodeName.toLowerCase()==="canvas"?"canvas":"element";default:return"unknown"}}(o),l){case"string":return this.then(n).then(function(u){return this.set({src:i("div",{innerHTML:o,dompurify:u})})});case"element":return this.set({src:o});case"canvas":return this.set({canvas:o});case"img":return this.set({img:o});default:return this.error("Unknown source type.")}})},s.prototype.to=function(o){switch(o){case"container":return this.toContainer();case"canvas":return this.toCanvas();case"img":return this.toImg();case"pdf":return this.toPdf();default:return this.error("Invalid target.")}},s.prototype.toContainer=function(){return this.thenList([function(){return this.prop.src||this.error("Cannot duplicate - no source HTML.")},function(){return this.prop.pageSize||this.setPageSize()}]).then(function(){var o={position:"relative",display:"inline-block",width:(typeof this.opt.width!="number"||isNaN(this.opt.width)||typeof this.opt.windowWidth!="number"||isNaN(this.opt.windowWidth)?Math.max(this.prop.src.clientWidth,this.prop.src.scrollWidth,this.prop.src.offsetWidth):this.opt.windowWidth)+"px",left:0,right:0,top:0,margin:"auto",backgroundColor:this.opt.backgroundColor},l=a(this.prop.src,this.opt.html2canvas.javascriptEnabled);l.tagName==="BODY"&&(o.height=Math.max(document.body.scrollHeight,document.body.offsetHeight,document.documentElement.clientHeight,document.documentElement.scrollHeight,document.documentElement.offsetHeight)+"px"),this.prop.overlay=i("div",{className:"html2pdf__overlay",style:{position:"fixed",overflow:"hidden",zIndex:1e3,left:"-100000px",right:0,bottom:0,top:0}}),this.prop.container=i("div",{className:"html2pdf__container",style:o}),this.prop.container.appendChild(l),this.prop.container.firstChild.appendChild(i("div",{style:{clear:"both",border:"0 none transparent",margin:0,padding:0,height:0}})),this.prop.container.style.float="none",this.prop.overlay.appendChild(this.prop.container),document.body.appendChild(this.prop.overlay),this.prop.container.firstChild.style.position="relative",this.prop.container.height=Math.max(this.prop.container.firstChild.clientHeight,this.prop.container.firstChild.scrollHeight,this.prop.container.firstChild.offsetHeight)+"px"})},s.prototype.toCanvas=function(){var o=[function(){return document.body.contains(this.prop.container)||this.toContainer()}];return this.thenList(o).then(t).then(function(l){var u=Object.assign({},this.opt.html2canvas);return delete u.onrendered,l(this.prop.container,u)}).then(function(l){(this.opt.html2canvas.onrendered||function(){})(l),this.prop.canvas=l,document.body.removeChild(this.prop.overlay)})},s.prototype.toContext2d=function(){var o=[function(){return document.body.contains(this.prop.container)||this.toContainer()}];return this.thenList(o).then(t).then(function(l){var u=this.opt.jsPDF,c=this.opt.fontFaces,d=typeof this.opt.width!="number"||isNaN(this.opt.width)||typeof this.opt.windowWidth!="number"||isNaN(this.opt.windowWidth)?1:this.opt.width/this.opt.windowWidth,p=Object.assign({async:!0,allowTaint:!0,scale:d,scrollX:this.opt.scrollX||0,scrollY:this.opt.scrollY||0,backgroundColor:"#ffffff",imageTimeout:15e3,logging:!0,proxy:null,removeContainer:!0,foreignObjectRendering:!1,useCORS:!1},this.opt.html2canvas);if(delete p.onrendered,u.context2d.autoPaging=this.opt.autoPaging===void 0||this.opt.autoPaging,u.context2d.posX=this.opt.x,u.context2d.posY=this.opt.y,u.context2d.margin=this.opt.margin,u.context2d.fontFaces=c,c)for(var f=0;f<c.length;++f){var g=c[f],v=g.src.find(function(b){return b.format==="truetype"});v&&u.addFont(v.url,g.ref.name,g.ref.style)}return p.windowHeight=p.windowHeight||0,p.windowHeight=p.windowHeight==0?Math.max(this.prop.container.clientHeight,this.prop.container.scrollHeight,this.prop.container.offsetHeight):p.windowHeight,u.context2d.save(!0),l(this.prop.container,p)}).then(function(l){this.opt.jsPDF.context2d.restore(!0),(this.opt.html2canvas.onrendered||function(){})(l),this.prop.canvas=l,document.body.removeChild(this.prop.overlay)})},s.prototype.toImg=function(){return this.thenList([function(){return this.prop.canvas||this.toCanvas()}]).then(function(){var o=this.prop.canvas.toDataURL("image/"+this.opt.image.type,this.opt.image.quality);this.prop.img=document.createElement("img"),this.prop.img.src=o})},s.prototype.toPdf=function(){return this.thenList([function(){return this.toContext2d()}]).then(function(){this.prop.pdf=this.prop.pdf||this.opt.jsPDF})},s.prototype.output=function(o,l,u){return(u=u||"pdf").toLowerCase()==="img"||u.toLowerCase()==="image"?this.outputImg(o,l):this.outputPdf(o,l)},s.prototype.outputPdf=function(o,l){return this.thenList([function(){return this.prop.pdf||this.toPdf()}]).then(function(){return this.prop.pdf.output(o,l)})},s.prototype.outputImg=function(o){return this.thenList([function(){return this.prop.img||this.toImg()}]).then(function(){switch(o){case void 0:case"img":return this.prop.img;case"datauristring":case"dataurlstring":return this.prop.img.src;case"datauri":case"dataurl":return document.location.href=this.prop.img.src;default:throw'Image output type "'+o+'" is not supported.'}})},s.prototype.save=function(o){return this.thenList([function(){return this.prop.pdf||this.toPdf()}]).set(o?{filename:o}:null).then(function(){this.prop.pdf.save(this.opt.filename)})},s.prototype.doCallback=function(){return this.thenList([function(){return this.prop.pdf||this.toPdf()}]).then(function(){this.prop.callback(this.prop.pdf)})},s.prototype.set=function(o){if(r(o)!=="object")return this;var l=Object.keys(o||{}).map(function(u){if(u in s.template.prop)return function(){this.prop[u]=o[u]};switch(u){case"margin":return this.setMargin.bind(this,o.margin);case"jsPDF":return function(){return this.opt.jsPDF=o.jsPDF,this.setPageSize()};case"pageSize":return this.setPageSize.bind(this,o.pageSize);default:return function(){this.opt[u]=o[u]}}},this);return this.then(function(){return this.thenList(l)})},s.prototype.get=function(o,l){return this.then(function(){var u=o in s.template.prop?this.prop[o]:this.opt[o];return l?l(u):u})},s.prototype.setMargin=function(o){return this.then(function(){switch(r(o)){case"number":o=[o,o,o,o];case"array":if(o.length===2&&(o=[o[0],o[1],o[0],o[1]]),o.length===4)break;default:return this.error("Invalid margin array.")}this.opt.margin=o}).then(this.setPageSize)},s.prototype.setPageSize=function(o){function l(u,c){return Math.floor(u*c/72*96)}return this.then(function(){(o=o||ut.getPageSize(this.opt.jsPDF)).hasOwnProperty("inner")||(o.inner={width:o.width-this.opt.margin[1]-this.opt.margin[3],height:o.height-this.opt.margin[0]-this.opt.margin[2]},o.inner.px={width:l(o.inner.width,o.k),height:l(o.inner.height,o.k)},o.inner.ratio=o.inner.height/o.inner.width),this.prop.pageSize=o})},s.prototype.setProgress=function(o,l,u,c){return o!=null&&(this.progress.val=o),l!=null&&(this.progress.state=l),u!=null&&(this.progress.n=u),c!=null&&(this.progress.stack=c),this.progress.ratio=this.progress.val/this.progress.state,this},s.prototype.updateProgress=function(o,l,u,c){return this.setProgress(o?this.progress.val+o:null,l||null,u?this.progress.n+u:null,c?this.progress.stack.concat(c):null)},s.prototype.then=function(o,l){var u=this;return this.thenCore(o,l,function(c,d){return u.updateProgress(null,null,1,[c]),Promise.prototype.then.call(this,function(p){return u.updateProgress(null,c),p}).then(c,d).then(function(p){return u.updateProgress(1),p})})},s.prototype.thenCore=function(o,l,u){u=u||Promise.prototype.then;var c=this;o&&(o=o.bind(c)),l&&(l=l.bind(c));var d=Promise.toString().indexOf("[native code]")!==-1&&Promise.name==="Promise"?c:s.convert(Object.assign({},c),Promise.prototype),p=u.call(d,o,l);return s.convert(p,c.__proto__)},s.prototype.thenExternal=function(o,l){return Promise.prototype.then.call(this,o,l)},s.prototype.thenList=function(o){var l=this;return o.forEach(function(u){l=l.thenCore(u)}),l},s.prototype.catch=function(o){o&&(o=o.bind(this));var l=Promise.prototype.catch.call(this,o);return s.convert(l,this)},s.prototype.catchExternal=function(o){return Promise.prototype.catch.call(this,o)},s.prototype.error=function(o){return this.then(function(){throw new Error(o)})},s.prototype.using=s.prototype.set,s.prototype.saveAs=s.prototype.save,s.prototype.export=s.prototype.output,s.prototype.run=s.prototype.then,ut.getPageSize=function(o,l,u){if(gn(o)==="object"){var c=o;o=c.orientation,l=c.unit||l,u=c.format||u}l=l||"mm",u=u||"a4",o=(""+(o||"P")).toLowerCase();var d,p=(""+u).toLowerCase(),f={a0:[2383.94,3370.39],a1:[1683.78,2383.94],a2:[1190.55,1683.78],a3:[841.89,1190.55],a4:[595.28,841.89],a5:[419.53,595.28],a6:[297.64,419.53],a7:[209.76,297.64],a8:[147.4,209.76],a9:[104.88,147.4],a10:[73.7,104.88],b0:[2834.65,4008.19],b1:[2004.09,2834.65],b2:[1417.32,2004.09],b3:[1000.63,1417.32],b4:[708.66,1000.63],b5:[498.9,708.66],b6:[354.33,498.9],b7:[249.45,354.33],b8:[175.75,249.45],b9:[124.72,175.75],b10:[87.87,124.72],c0:[2599.37,3676.54],c1:[1836.85,2599.37],c2:[1298.27,1836.85],c3:[918.43,1298.27],c4:[649.13,918.43],c5:[459.21,649.13],c6:[323.15,459.21],c7:[229.61,323.15],c8:[161.57,229.61],c9:[113.39,161.57],c10:[79.37,113.39],dl:[311.81,623.62],letter:[612,792],"government-letter":[576,756],legal:[612,1008],"junior-legal":[576,360],ledger:[1224,792],tabloid:[792,1224],"credit-card":[153,243]};switch(l){case"pt":d=1;break;case"mm":d=72/25.4;break;case"cm":d=72/2.54;break;case"in":d=72;break;case"px":d=.75;break;case"pc":case"em":d=12;break;case"ex":d=6;break;default:throw"Invalid unit: "+l}var g,v=0,b=0;if(f.hasOwnProperty(p))v=f[p][1]/d,b=f[p][0]/d;else try{v=u[1],b=u[0]}catch{throw new Error("Invalid format: "+u)}if(o==="p"||o==="portrait")o="p",b>v&&(g=b,b=v,v=g);else{if(o!=="l"&&o!=="landscape")throw"Invalid orientation: "+o;o="l",v>b&&(g=b,b=v,v=g)}return{width:b,height:v,unit:l,k:d,orientation:o}},e.html=function(o,l){(l=l||{}).callback=l.callback||function(){},l.html2canvas=l.html2canvas||{},l.html2canvas.canvas=l.html2canvas.canvas||this.canvas,l.jsPDF=l.jsPDF||this,l.fontFaces=l.fontFaces?l.fontFaces.map(Cw):null;var u=new s(l);return l.worker?u:u.from(o).doCallback()}}(ut.API),ut.API.addJS=function(e){return x8=e,this.internal.events.subscribe("postPutResources",function(){u1=this.internal.newObject(),this.internal.out("<<"),this.internal.out("/Names [(EmbeddedJS) "+(u1+1)+" 0 R]"),this.internal.out(">>"),this.internal.out("endobj"),y8=this.internal.newObject(),this.internal.out("<<"),this.internal.out("/S /JavaScript"),this.internal.out("/JS ("+x8+")"),this.internal.out(">>"),this.internal.out("endobj")}),this.internal.events.subscribe("putCatalog",function(){u1!==void 0&&y8!==void 0&&this.internal.out("/Names <</JavaScript "+u1+" 0 R>>")}),this},function(e){var t;e.events.push(["postPutResources",function(){var n=this,r=/^(\d+) 0 obj$/;if(this.outline.root.children.length>0)for(var i=n.outline.render().split(/\r\n/),a=0;a<i.length;a++){var s=i[a],o=r.exec(s);if(o!=null){var l=o[1];n.internal.newObjectDeferredBegin(l,!1)}n.internal.write(s)}if(this.outline.createNamedDestinations){var u=this.internal.pages.length,c=[];for(a=0;a<u;a++){var d=n.internal.newObject();c.push(d);var p=n.internal.getPageInfo(a+1);n.internal.write("<< /D["+p.objId+" 0 R /XYZ null null null]>> endobj")}var f=n.internal.newObject();for(n.internal.write("<< /Names [ "),a=0;a<c.length;a++)n.internal.write("(page_"+(a+1)+")"+c[a]+" 0 R");n.internal.write(" ] >>","endobj"),t=n.internal.newObject(),n.internal.write("<< /Dests "+f+" 0 R"),n.internal.write(">>","endobj")}}]),e.events.push(["putCatalog",function(){var n=this;n.outline.root.children.length>0&&(n.internal.write("/Outlines",this.outline.makeRef(this.outline.root)),this.outline.createNamedDestinations&&n.internal.write("/Names "+t+" 0 R"))}]),e.events.push(["initialized",function(){var n=this;n.outline={createNamedDestinations:!1,root:{children:[]}},n.outline.add=function(r,i,a){var s={title:i,options:a,children:[]};return r==null&&(r=this.root),r.children.push(s),s},n.outline.render=function(){return this.ctx={},this.ctx.val="",this.ctx.pdf=n,this.genIds_r(this.root),this.renderRoot(this.root),this.renderItems(this.root),this.ctx.val},n.outline.genIds_r=function(r){r.id=n.internal.newObjectDeferred();for(var i=0;i<r.children.length;i++)this.genIds_r(r.children[i])},n.outline.renderRoot=function(r){this.objStart(r),this.line("/Type /Outlines"),r.children.length>0&&(this.line("/First "+this.makeRef(r.children[0])),this.line("/Last "+this.makeRef(r.children[r.children.length-1]))),this.line("/Count "+this.count_r({count:0},r)),this.objEnd()},n.outline.renderItems=function(r){for(var i=this.ctx.pdf.internal.getVerticalCoordinateString,a=0;a<r.children.length;a++){var s=r.children[a];this.objStart(s),this.line("/Title "+this.makeString(s.title)),this.line("/Parent "+this.makeRef(r)),a>0&&this.line("/Prev "+this.makeRef(r.children[a-1])),a<r.children.length-1&&this.line("/Next "+this.makeRef(r.children[a+1])),s.children.length>0&&(this.line("/First "+this.makeRef(s.children[0])),this.line("/Last "+this.makeRef(s.children[s.children.length-1])));var o=this.count=this.count_r({count:0},s);if(o>0&&this.line("/Count "+o),s.options&&s.options.pageNumber){var l=n.internal.getPageInfo(s.options.pageNumber);this.line("/Dest ["+l.objId+" 0 R /XYZ 0 "+i(0)+" 0]")}this.objEnd()}for(var u=0;u<r.children.length;u++)this.renderItems(r.children[u])},n.outline.line=function(r){this.ctx.val+=r+`\r
`},n.outline.makeRef=function(r){return r.id+" 0 R"},n.outline.makeString=function(r){return"("+n.internal.pdfEscape(r)+")"},n.outline.objStart=function(r){this.ctx.val+=`\r
`+r.id+` 0 obj\r
<<\r
`},n.outline.objEnd=function(){this.ctx.val+=`>> \r
endobj\r
`},n.outline.count_r=function(r,i){for(var a=0;a<i.children.length;a++)r.count++,this.count_r(r,i.children[a]);return r.count}}])}(ut.API),function(e){var t=[192,193,194,195,196,197,198,199];e.processJPEG=function(n,r,i,a,s,o){var l,u=this.decode.DCT_DECODE,c=null;if(typeof n=="string"||this.__addimage__.isArrayBuffer(n)||this.__addimage__.isArrayBufferView(n)){switch(n=s||n,n=this.__addimage__.isArrayBuffer(n)?new Uint8Array(n):n,l=function(d){for(var p,f=256*d.charCodeAt(4)+d.charCodeAt(5),g=d.length,v={width:0,height:0,numcomponents:1},b=4;b<g;b+=2){if(b+=f,t.indexOf(d.charCodeAt(b+1))!==-1){p=256*d.charCodeAt(b+5)+d.charCodeAt(b+6),v={width:256*d.charCodeAt(b+7)+d.charCodeAt(b+8),height:p,numcomponents:d.charCodeAt(b+9)};break}f=256*d.charCodeAt(b+2)+d.charCodeAt(b+3)}return v}(n=this.__addimage__.isArrayBufferView(n)?this.__addimage__.arrayBufferToBinaryString(n):n),l.numcomponents){case 1:o=this.color_spaces.DEVICE_GRAY;break;case 4:o=this.color_spaces.DEVICE_CMYK;break;case 3:o=this.color_spaces.DEVICE_RGB}c={data:n,width:l.width,height:l.height,colorSpace:o,bitsPerComponent:8,filter:u,index:r,alias:i}}return c}}(ut.API),ut.API.processPNG=function(e,t,n,r){if(this.__addimage__.isArrayBuffer(e)&&(e=new Uint8Array(e)),this.__addimage__.isArrayBufferView(e)){var i,a=aue(e,{checkCrc:!0}),s=a.width,o=a.height,l=a.channels,u=a.palette,c=a.depth;i=u&&l===1?function(k){for(var I=k.width,M=k.height,N=k.data,C=k.palette,R=k.depth,W=!1,Y=[],ae=[],ie=void 0,H=!1,se=0,ye=0;ye<C.length;ye++){var be=SC(C[ye],4),$=be[0],X=be[1],re=be[2],oe=be[3];Y.push($,X,re),oe!=null&&(oe===0?(se++,ae.length<1&&ae.push(ye)):oe<255&&(H=!0))}if(H||se>1){W=!0,ae=void 0;var de=I*M;ie=new Uint8Array(de);for(var ge=new DataView(N.buffer),ce=0;ce<de;ce++){var J=Iw(ge,ce,R),pe=SC(C[J],4)[3];ie[ce]=pe}}else se===0&&(ae=void 0);return{colorSpace:"Indexed",colorsPerPixel:1,sMaskBitsPerComponent:W?8:void 0,colorBytes:N,alphaBytes:ie,needSMask:W,palette:Y,mask:ae}}(a):l===2||l===4?function(k){for(var I=k.data,M=k.width,N=k.height,C=k.channels,R=k.depth,W=C===2?"DeviceGray":"DeviceRGB",Y=C-1,ae=M*N,ie=Y,H=ae*ie,se=1*ae,ye=Math.ceil(H*R/8),be=Math.ceil(se*R/8),$=new Uint8Array(ye),X=new Uint8Array(be),re=new DataView(I.buffer),oe=new DataView($.buffer),de=new DataView(X.buffer),ge=!1,ce=0;ce<ae;ce++){for(var J=ce*C,pe=0;pe<ie;pe++)k8(oe,Iw(re,J+pe,R),ce*ie+pe,R);var Ee=Iw(re,J+ie,R);Ee<(1<<R)-1&&(ge=!0),k8(de,Ee,1*ce,R)}return{colorSpace:W,colorsPerPixel:Y,sMaskBitsPerComponent:ge?R:void 0,colorBytes:$,alphaBytes:X,needSMask:ge}}(a):function(k){var I=k.data,M=k.channels===1?"DeviceGray":"DeviceRGB";return{colorSpace:M,colorsPerPixel:M==="DeviceGray"?1:3,colorBytes:I instanceof Uint16Array?function(N){for(var C=N.length,R=new Uint8Array(2*C),W=new DataView(R.buffer,R.byteOffset,R.byteLength),Y=0;Y<C;Y++)W.setUint16(2*Y,N[Y],!1);return R}(I):I,needSMask:!1}}(a);var d,p,f,g=i,v=g.colorSpace,b=g.colorsPerPixel,x=g.sMaskBitsPerComponent,w=g.colorBytes,A=g.alphaBytes,P=g.needSMask,O=g.palette,D=g.mask,T=null;return r!==ut.API.image_compression.NONE&&typeof e3=="function"?(T=function(k){var I;switch(k){case ut.API.image_compression.FAST:I=11;break;case ut.API.image_compression.MEDIUM:I=13;break;case ut.API.image_compression.SLOW:I=14;break;default:I=12}return I}(r),d=this.decode.FLATE_DECODE,p="/Predictor ".concat(T," /Colors ").concat(b," /BitsPerComponent ").concat(c," /Columns ").concat(s),e=S8(w,Math.ceil(s*b*c/8),b,c,r),P&&(f=S8(A,Math.ceil(s*x/8),1,x,r))):(d=void 0,p=void 0,e=w,P&&(f=A)),(this.__addimage__.isArrayBuffer(e)||this.__addimage__.isArrayBufferView(e))&&(e=this.__addimage__.arrayBufferToBinaryString(e)),(f&&this.__addimage__.isArrayBuffer(f)||this.__addimage__.isArrayBufferView(f))&&(f=this.__addimage__.arrayBufferToBinaryString(f)),{alias:n,data:e,index:t,filter:d,decodeParameters:p,transparency:D,palette:O,sMask:f,predictor:T,width:s,height:o,bitsPerComponent:c,sMaskBitsPerComponent:x,colorSpace:v}}},function(e){e.processGIF89A=function(t,n,r,i){var a=new Eue(t),s=a.width,o=a.height,l=[];a.decodeAndBlitFrameRGBA(0,l);var u={data:l,width:s,height:o},c=new Ow(100).encode(u,100);return e.processJPEG.call(this,c,n,r,i)},e.processGIF87A=e.processGIF89A}(ut.API),Hs.prototype.parseHeader=function(){if(this.fileSize=this.datav.getUint32(this.pos,!0),this.pos+=4,this.reserved=this.datav.getUint32(this.pos,!0),this.pos+=4,this.offset=this.datav.getUint32(this.pos,!0),this.pos+=4,this.headerSize=this.datav.getUint32(this.pos,!0),this.pos+=4,this.width=this.datav.getUint32(this.pos,!0),this.pos+=4,this.height=this.datav.getInt32(this.pos,!0),this.pos+=4,this.planes=this.datav.getUint16(this.pos,!0),this.pos+=2,this.bitPP=this.datav.getUint16(this.pos,!0),this.pos+=2,this.compress=this.datav.getUint32(this.pos,!0),this.pos+=4,this.rawSize=this.datav.getUint32(this.pos,!0),this.pos+=4,this.hr=this.datav.getUint32(this.pos,!0),this.pos+=4,this.vr=this.datav.getUint32(this.pos,!0),this.pos+=4,this.colors=this.datav.getUint32(this.pos,!0),this.pos+=4,this.importantColors=this.datav.getUint32(this.pos,!0),this.pos+=4,this.bitPP===16&&this.is_with_alpha&&(this.bitPP=15),this.bitPP<15){var e=this.colors===0?1<<this.bitPP:this.colors;this.palette=new Array(e);for(var t=0;t<e;t++){var n=this.datav.getUint8(this.pos++,!0),r=this.datav.getUint8(this.pos++,!0),i=this.datav.getUint8(this.pos++,!0),a=this.datav.getUint8(this.pos++,!0);this.palette[t]={red:i,green:r,blue:n,quad:a}}}this.height<0&&(this.height*=-1,this.bottom_up=!1)},Hs.prototype.parseBGR=function(){this.pos=this.offset;try{var e="bit"+this.bitPP,t=this.width*this.height*4;this.data=new Uint8Array(t),this[e]()}catch(n){_n.log("bit decode error:"+n)}},Hs.prototype.bit1=function(){var e,t=Math.ceil(this.width/8),n=t%4;for(e=this.height-1;e>=0;e--){for(var r=this.bottom_up?e:this.height-1-e,i=0;i<t;i++)for(var a=this.datav.getUint8(this.pos++,!0),s=r*this.width*4+8*i*4,o=0;o<8&&8*i+o<this.width;o++){var l=this.palette[a>>7-o&1];this.data[s+4*o]=l.blue,this.data[s+4*o+1]=l.green,this.data[s+4*o+2]=l.red,this.data[s+4*o+3]=255}n!==0&&(this.pos+=4-n)}},Hs.prototype.bit4=function(){for(var e=Math.ceil(this.width/2),t=e%4,n=this.height-1;n>=0;n--){for(var r=this.bottom_up?n:this.height-1-n,i=0;i<e;i++){var a=this.datav.getUint8(this.pos++,!0),s=r*this.width*4+2*i*4,o=a>>4,l=15&a,u=this.palette[o];if(this.data[s]=u.blue,this.data[s+1]=u.green,this.data[s+2]=u.red,this.data[s+3]=255,2*i+1>=this.width)break;u=this.palette[l],this.data[s+4]=u.blue,this.data[s+4+1]=u.green,this.data[s+4+2]=u.red,this.data[s+4+3]=255}t!==0&&(this.pos+=4-t)}},Hs.prototype.bit8=function(){for(var e=this.width%4,t=this.height-1;t>=0;t--){for(var n=this.bottom_up?t:this.height-1-t,r=0;r<this.width;r++){var i=this.datav.getUint8(this.pos++,!0),a=n*this.width*4+4*r;if(i<this.palette.length){var s=this.palette[i];this.data[a]=s.red,this.data[a+1]=s.green,this.data[a+2]=s.blue,this.data[a+3]=255}else this.data[a]=255,this.data[a+1]=255,this.data[a+2]=255,this.data[a+3]=255}e!==0&&(this.pos+=4-e)}},Hs.prototype.bit15=function(){for(var e=this.width%3,t=parseInt("11111",2),n=this.height-1;n>=0;n--){for(var r=this.bottom_up?n:this.height-1-n,i=0;i<this.width;i++){var a=this.datav.getUint16(this.pos,!0);this.pos+=2;var s=(a&t)/t*255|0,o=(a>>5&t)/t*255|0,l=(a>>10&t)/t*255|0,u=a>>15?255:0,c=r*this.width*4+4*i;this.data[c]=l,this.data[c+1]=o,this.data[c+2]=s,this.data[c+3]=u}this.pos+=e}},Hs.prototype.bit16=function(){for(var e=this.width%3,t=parseInt("11111",2),n=parseInt("111111",2),r=this.height-1;r>=0;r--){for(var i=this.bottom_up?r:this.height-1-r,a=0;a<this.width;a++){var s=this.datav.getUint16(this.pos,!0);this.pos+=2;var o=(s&t)/t*255|0,l=(s>>5&n)/n*255|0,u=(s>>11)/t*255|0,c=i*this.width*4+4*a;this.data[c]=u,this.data[c+1]=l,this.data[c+2]=o,this.data[c+3]=255}this.pos+=e}},Hs.prototype.bit24=function(){for(var e=this.height-1;e>=0;e--){for(var t=this.bottom_up?e:this.height-1-e,n=0;n<this.width;n++){var r=this.datav.getUint8(this.pos++,!0),i=this.datav.getUint8(this.pos++,!0),a=this.datav.getUint8(this.pos++,!0),s=t*this.width*4+4*n;this.data[s]=a,this.data[s+1]=i,this.data[s+2]=r,this.data[s+3]=255}this.pos+=this.width%4}},Hs.prototype.bit32=function(){for(var e=this.height-1;e>=0;e--)for(var t=this.bottom_up?e:this.height-1-e,n=0;n<this.width;n++){var r=this.datav.getUint8(this.pos++,!0),i=this.datav.getUint8(this.pos++,!0),a=this.datav.getUint8(this.pos++,!0),s=this.datav.getUint8(this.pos++,!0),o=t*this.width*4+4*n;this.data[o]=a,this.data[o+1]=i,this.data[o+2]=r,this.data[o+3]=s}},Hs.prototype.getData=function(){return this.data},function(e){e.processBMP=function(t,n,r,i){var a=new Hs(t,!1),s=a.width,o=a.height,l={data:a.getData(),width:s,height:o},u=new Ow(100).encode(l,100);return e.processJPEG.call(this,u,n,r,i)}}(ut.API),C8.prototype.getData=function(){return this.data},function(e){e.processWEBP=function(t,n,r,i){var a=new C8(t),s=a.width,o=a.height,l={data:a.getData(),width:s,height:o},u=new Ow(100).encode(l,100);return e.processJPEG.call(this,u,n,r,i)}}(ut.API),ut.API.processRGBA=function(e,t,n){for(var r=e.data,i=r.length,a=new Uint8Array(i/4*3),s=new Uint8Array(i/4),o=0,l=0,u=0;u<i;u+=4){var c=r[u],d=r[u+1],p=r[u+2],f=r[u+3];a[o++]=c,a[o++]=d,a[o++]=p,s[l++]=f}var g=this.__addimage__.arrayBufferToBinaryString(a);return{alpha:this.__addimage__.arrayBufferToBinaryString(s),data:g,index:t,alias:n,colorSpace:"DeviceRGB",bitsPerComponent:8,width:e.width,height:e.height}},ut.API.setLanguage=function(e){return this.internal.languageSettings===void 0&&(this.internal.languageSettings={},this.internal.languageSettings.isSubscribed=!1),{af:"Afrikaans",sq:"Albanian",ar:"Arabic (Standard)","ar-DZ":"Arabic (Algeria)","ar-BH":"Arabic (Bahrain)","ar-EG":"Arabic (Egypt)","ar-IQ":"Arabic (Iraq)","ar-JO":"Arabic (Jordan)","ar-KW":"Arabic (Kuwait)","ar-LB":"Arabic (Lebanon)","ar-LY":"Arabic (Libya)","ar-MA":"Arabic (Morocco)","ar-OM":"Arabic (Oman)","ar-QA":"Arabic (Qatar)","ar-SA":"Arabic (Saudi Arabia)","ar-SY":"Arabic (Syria)","ar-TN":"Arabic (Tunisia)","ar-AE":"Arabic (U.A.E.)","ar-YE":"Arabic (Yemen)",an:"Aragonese",hy:"Armenian",as:"Assamese",ast:"Asturian",az:"Azerbaijani",eu:"Basque",be:"Belarusian",bn:"Bengali",bs:"Bosnian",br:"Breton",bg:"Bulgarian",my:"Burmese",ca:"Catalan",ch:"Chamorro",ce:"Chechen",zh:"Chinese","zh-HK":"Chinese (Hong Kong)","zh-CN":"Chinese (PRC)","zh-SG":"Chinese (Singapore)","zh-TW":"Chinese (Taiwan)",cv:"Chuvash",co:"Corsican",cr:"Cree",hr:"Croatian",cs:"Czech",da:"Danish",nl:"Dutch (Standard)","nl-BE":"Dutch (Belgian)",en:"English","en-AU":"English (Australia)","en-BZ":"English (Belize)","en-CA":"English (Canada)","en-IE":"English (Ireland)","en-JM":"English (Jamaica)","en-NZ":"English (New Zealand)","en-PH":"English (Philippines)","en-ZA":"English (South Africa)","en-TT":"English (Trinidad & Tobago)","en-GB":"English (United Kingdom)","en-US":"English (United States)","en-ZW":"English (Zimbabwe)",eo:"Esperanto",et:"Estonian",fo:"Faeroese",fj:"Fijian",fi:"Finnish",fr:"French (Standard)","fr-BE":"French (Belgium)","fr-CA":"French (Canada)","fr-FR":"French (France)","fr-LU":"French (Luxembourg)","fr-MC":"French (Monaco)","fr-CH":"French (Switzerland)",fy:"Frisian",fur:"Friulian",gd:"Gaelic (Scots)","gd-IE":"Gaelic (Irish)",gl:"Galacian",ka:"Georgian",de:"German (Standard)","de-AT":"German (Austria)","de-DE":"German (Germany)","de-LI":"German (Liechtenstein)","de-LU":"German (Luxembourg)","de-CH":"German (Switzerland)",el:"Greek",gu:"Gujurati",ht:"Haitian",he:"Hebrew",hi:"Hindi",hu:"Hungarian",is:"Icelandic",id:"Indonesian",iu:"Inuktitut",ga:"Irish",it:"Italian (Standard)","it-CH":"Italian (Switzerland)",ja:"Japanese",kn:"Kannada",ks:"Kashmiri",kk:"Kazakh",km:"Khmer",ky:"Kirghiz",tlh:"Klingon",ko:"Korean","ko-KP":"Korean (North Korea)","ko-KR":"Korean (South Korea)",la:"Latin",lv:"Latvian",lt:"Lithuanian",lb:"Luxembourgish",mk:"North Macedonia",ms:"Malay",ml:"Malayalam",mt:"Maltese",mi:"Maori",mr:"Marathi",mo:"Moldavian",nv:"Navajo",ng:"Ndonga",ne:"Nepali",no:"Norwegian",nb:"Norwegian (Bokmal)",nn:"Norwegian (Nynorsk)",oc:"Occitan",or:"Oriya",om:"Oromo",fa:"Persian","fa-IR":"Persian/Iran",pl:"Polish",pt:"Portuguese","pt-BR":"Portuguese (Brazil)",pa:"Punjabi","pa-IN":"Punjabi (India)","pa-PK":"Punjabi (Pakistan)",qu:"Quechua",rm:"Rhaeto-Romanic",ro:"Romanian","ro-MO":"Romanian (Moldavia)",ru:"Russian","ru-MO":"Russian (Moldavia)",sz:"Sami (Lappish)",sg:"Sango",sa:"Sanskrit",sc:"Sardinian",sd:"Sindhi",si:"Singhalese",sr:"Serbian",sk:"Slovak",sl:"Slovenian",so:"Somani",sb:"Sorbian",es:"Spanish","es-AR":"Spanish (Argentina)","es-BO":"Spanish (Bolivia)","es-CL":"Spanish (Chile)","es-CO":"Spanish (Colombia)","es-CR":"Spanish (Costa Rica)","es-DO":"Spanish (Dominican Republic)","es-EC":"Spanish (Ecuador)","es-SV":"Spanish (El Salvador)","es-GT":"Spanish (Guatemala)","es-HN":"Spanish (Honduras)","es-MX":"Spanish (Mexico)","es-NI":"Spanish (Nicaragua)","es-PA":"Spanish (Panama)","es-PY":"Spanish (Paraguay)","es-PE":"Spanish (Peru)","es-PR":"Spanish (Puerto Rico)","es-ES":"Spanish (Spain)","es-UY":"Spanish (Uruguay)","es-VE":"Spanish (Venezuela)",sx:"Sutu",sw:"Swahili",sv:"Swedish","sv-FI":"Swedish (Finland)","sv-SV":"Swedish (Sweden)",ta:"Tamil",tt:"Tatar",te:"Teluga",th:"Thai",tig:"Tigre",ts:"Tsonga",tn:"Tswana",tr:"Turkish",tk:"Turkmen",uk:"Ukrainian",hsb:"Upper Sorbian",ur:"Urdu",ve:"Venda",vi:"Vietnamese",vo:"Volapuk",wa:"Walloon",cy:"Welsh",xh:"Xhosa",ji:"Yiddish",zu:"Zulu"}[e]!==void 0&&(this.internal.languageSettings.languageCode=e,this.internal.languageSettings.isSubscribed===!1&&(this.internal.events.subscribe("putCatalog",function(){this.internal.write("/Lang ("+this.internal.languageSettings.languageCode+")")}),this.internal.languageSettings.isSubscribed=!0)),this},sf=ut.API,c1=sf.getCharWidthsArray=function(e,t){var n,r,i=(t=t||{}).font||this.internal.getFont(),a=t.fontSize||this.internal.getFontSize(),s=t.charSpace||this.internal.getCharSpace(),o=t.widths?t.widths:i.metadata.Unicode.widths,l=o.fof?o.fof:1,u=t.kerning?t.kerning:i.metadata.Unicode.kerning,c=u.fof?u.fof:1,d=t.doKerning!==!1,p=0,f=e.length,g=0,v=o[0]||l,b=[];for(n=0;n<f;n++)r=e.charCodeAt(n),typeof i.metadata.widthOfString=="function"?b.push((i.metadata.widthOfGlyph(i.metadata.characterToGlyph(r))+s*(1e3/a)||0)/1e3):(p=d&&gn(u[r])==="object"&&!isNaN(parseInt(u[r][g],10))?u[r][g]/c:0,b.push((o[r]||v)/l+p)),g=r;return b},b8=sf.getStringUnitWidth=function(e,t){var n=(t=t||{}).fontSize||this.internal.getFontSize(),r=t.font||this.internal.getFont(),i=t.charSpace||this.internal.getCharSpace();return sf.processArabic&&(e=sf.processArabic(e)),typeof r.metadata.widthOfString=="function"?r.metadata.widthOfString(e,n,i)/n:c1.apply(this,arguments).reduce(function(a,s){return a+s},0)},w8=function(e,t,n,r){for(var i=[],a=0,s=e.length,o=0;a!==s&&o+t[a]<n;)o+=t[a],a++;i.push(e.slice(0,a));var l=a;for(o=0;a!==s;)o+t[a]>r&&(i.push(e.slice(l,a)),o=0,l=a),o+=t[a],a++;return l!==a&&i.push(e.slice(l,a)),i},_8=function(e,t,n){n||(n={});var r,i,a,s,o,l,u,c=[],d=[c],p=n.textIndent||0,f=0,g=0,v=e.split(" "),b=c1.apply(this,[" ",n])[0];if(l=n.lineIndent===-1?v[0].length+2:n.lineIndent||0){var x=Array(l).join(" "),w=[];v.map(function(P){(P=P.split(/\s*\n/)).length>1?w=w.concat(P.map(function(O,D){return(D&&O.length?`
`:"")+O})):w.push(P[0])}),v=w,l=b8.apply(this,[x,n])}for(a=0,s=v.length;a<s;a++){var A=0;if(r=v[a],l&&r[0]==`
`&&(r=r.substr(1),A=1),p+f+(g=(i=c1.apply(this,[r,n])).reduce(function(P,O){return P+O},0))>t||A){if(g>t){for(o=w8.apply(this,[r,i,t-(p+f),t]),c.push(o.shift()),c=[o.pop()];o.length;)d.push([o.shift()]);g=i.slice(r.length-(c[0]?c[0].length:0)).reduce(function(P,O){return P+O},0)}else c=[r];d.push(c),p=g+l,f=b}else c.push(r),p+=f+g,f=b}return u=l?function(P,O){return(O?x:"")+P.join(" ")}:function(P){return P.join(" ")},d.map(u)},sf.splitTextToSize=function(e,t,n){var r,i=(n=n||{}).fontSize||this.internal.getFontSize(),a=(function(c){if(c.widths&&c.kerning)return{widths:c.widths,kerning:c.kerning};var d=this.internal.getFont(c.fontName,c.fontStyle),p="Unicode";return d.metadata[p]?{widths:d.metadata[p].widths||{0:1},kerning:d.metadata[p].kerning||{}}:{font:d.metadata,fontSize:this.internal.getFontSize(),charSpace:this.internal.getCharSpace()}}).call(this,n);r=Array.isArray(e)?e:String(e).split(/\r?\n/);var s=1*this.internal.scaleFactor*t/i;a.textIndent=n.textIndent?1*n.textIndent*this.internal.scaleFactor/i:0,a.lineIndent=n.lineIndent;var o,l,u=[];for(o=0,l=r.length;o<l;o++)u=u.concat(_8.apply(this,[r[o],s,a]));return u},function(e){e.__fontmetrics__=e.__fontmetrics__||{};for(var t="0123456789abcdef",n="klmnopqrstuvwxyz",r={},i={},a=0;a<16;a++)r[n[a]]=t[a],i[t[a]]=n[a];var s=function(p){return"0x"+parseInt(p,10).toString(16)},o=e.__fontmetrics__.compress=function(p){var f,g,v,b,x=["{"];for(var w in p){if(f=p[w],isNaN(parseInt(w,10))?g="'"+w+"'":(w=parseInt(w,10),g=(g=s(w).slice(2)).slice(0,-1)+i[g.slice(-1)]),typeof f=="number")f<0?(v=s(f).slice(3),b="-"):(v=s(f).slice(2),b=""),v=b+v.slice(0,-1)+i[v.slice(-1)];else{if(gn(f)!=="object")throw new Error("Don't know what to do with value type "+gn(f)+".");v=o(f)}x.push(g+v)}return x.push("}"),x.join("")},l=e.__fontmetrics__.uncompress=function(p){if(typeof p!="string")throw new Error("Invalid argument passed to uncompress.");for(var f,g,v,b,x={},w=1,A=x,P=[],O="",D="",T=p.length-1,k=1;k<T;k+=1)(b=p[k])=="'"?f?(v=f.join(""),f=void 0):f=[]:f?f.push(b):b=="{"?(P.push([A,v]),A={},v=void 0):b=="}"?((g=P.pop())[0][g[1]]=A,v=void 0,A=g[0]):b=="-"?w=-1:v===void 0?r.hasOwnProperty(b)?(O+=r[b],v=parseInt(O,16)*w,w=1,O=""):O+=b:r.hasOwnProperty(b)?(D+=r[b],A[v]=parseInt(D,16)*w,w=1,v=void 0,D=""):D+=b;return x},u={codePages:["WinAnsiEncoding"],WinAnsiEncoding:l("{19m8n201n9q201o9r201s9l201t9m201u8m201w9n201x9o201y8o202k8q202l8r202m9p202q8p20aw8k203k8t203t8v203u9v2cq8s212m9t15m8w15n9w2dw9s16k8u16l9u17s9z17x8y17y9y}")},c={Unicode:{Courier:u,"Courier-Bold":u,"Courier-BoldOblique":u,"Courier-Oblique":u,Helvetica:u,"Helvetica-Bold":u,"Helvetica-BoldOblique":u,"Helvetica-Oblique":u,"Times-Roman":u,"Times-Bold":u,"Times-BoldItalic":u,"Times-Italic":u}},d={Unicode:{"Courier-Oblique":l("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Times-BoldItalic":l("{'widths'{k3o2q4ycx2r201n3m201o6o201s2l201t2l201u2l201w3m201x3m201y3m2k1t2l2r202m2n2n3m2o3m2p5n202q6o2r1w2s2l2t2l2u3m2v3t2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v2l3w3t3x3t3y3t3z3m4k5n4l4m4m4m4n4m4o4s4p4m4q4m4r4s4s4y4t2r4u3m4v4m4w3x4x5t4y4s4z4s5k3x5l4s5m4m5n3r5o3x5p4s5q4m5r5t5s4m5t3x5u3x5v2l5w1w5x2l5y3t5z3m6k2l6l3m6m3m6n2w6o3m6p2w6q2l6r3m6s3r6t1w6u1w6v3m6w1w6x4y6y3r6z3m7k3m7l3m7m2r7n2r7o1w7p3r7q2w7r4m7s3m7t2w7u2r7v2n7w1q7x2n7y3t202l3mcl4mal2ram3man3mao3map3mar3mas2lat4uau1uav3maw3way4uaz2lbk2sbl3t'fof'6obo2lbp3tbq3mbr1tbs2lbu1ybv3mbz3mck4m202k3mcm4mcn4mco4mcp4mcq5ycr4mcs4mct4mcu4mcv4mcw2r2m3rcy2rcz2rdl4sdm4sdn4sdo4sdp4sdq4sds4sdt4sdu4sdv4sdw4sdz3mek3mel3mem3men3meo3mep3meq4ser2wes2wet2weu2wev2wew1wex1wey1wez1wfl3rfm3mfn3mfo3mfp3mfq3mfr3tfs3mft3rfu3rfv3rfw3rfz2w203k6o212m6o2dw2l2cq2l3t3m3u2l17s3x19m3m}'kerning'{cl{4qu5kt5qt5rs17ss5ts}201s{201ss}201t{cks4lscmscnscoscpscls2wu2yu201ts}201x{2wu2yu}2k{201ts}2w{4qx5kx5ou5qx5rs17su5tu}2x{17su5tu5ou}2y{4qx5kx5ou5qx5rs17ss5ts}'fof'-6ofn{17sw5tw5ou5qw5rs}7t{cksclscmscnscoscps4ls}3u{17su5tu5os5qs}3v{17su5tu5os5qs}7p{17su5tu}ck{4qu5kt5qt5rs17ss5ts}4l{4qu5kt5qt5rs17ss5ts}cm{4qu5kt5qt5rs17ss5ts}cn{4qu5kt5qt5rs17ss5ts}co{4qu5kt5qt5rs17ss5ts}cp{4qu5kt5qt5rs17ss5ts}6l{4qu5ou5qw5rt17su5tu}5q{ckuclucmucnucoucpu4lu}5r{ckuclucmucnucoucpu4lu}7q{cksclscmscnscoscps4ls}6p{4qu5ou5qw5rt17sw5tw}ek{4qu5ou5qw5rt17su5tu}el{4qu5ou5qw5rt17su5tu}em{4qu5ou5qw5rt17su5tu}en{4qu5ou5qw5rt17su5tu}eo{4qu5ou5qw5rt17su5tu}ep{4qu5ou5qw5rt17su5tu}es{17ss5ts5qs4qu}et{4qu5ou5qw5rt17sw5tw}eu{4qu5ou5qw5rt17ss5ts}ev{17ss5ts5qs4qu}6z{17sw5tw5ou5qw5rs}fm{17sw5tw5ou5qw5rs}7n{201ts}fo{17sw5tw5ou5qw5rs}fp{17sw5tw5ou5qw5rs}fq{17sw5tw5ou5qw5rs}7r{cksclscmscnscoscps4ls}fs{17sw5tw5ou5qw5rs}ft{17su5tu}fu{17su5tu}fv{17su5tu}fw{17su5tu}fz{cksclscmscnscoscps4ls}}}"),"Helvetica-Bold":l("{'widths'{k3s2q4scx1w201n3r201o6o201s1w201t1w201u1w201w3m201x3m201y3m2k1w2l2l202m2n2n3r2o3r2p5t202q6o2r1s2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v2l3w3u3x3u3y3u3z3x4k6l4l4s4m4s4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3r4v4s4w3x4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v2l5w1w5x2l5y3u5z3r6k2l6l3r6m3x6n3r6o3x6p3r6q2l6r3x6s3x6t1w6u1w6v3r6w1w6x5t6y3x6z3x7k3x7l3x7m2r7n3r7o2l7p3x7q3r7r4y7s3r7t3r7u3m7v2r7w1w7x2r7y3u202l3rcl4sal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3xbq3rbr1wbs2lbu2obv3rbz3xck4s202k3rcm4scn4sco4scp4scq6ocr4scs4mct4mcu4mcv4mcw1w2m2zcy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3res3ret3reu3rev3rew1wex1wey1wez1wfl3xfm3xfn3xfo3xfp3xfq3xfr3ufs3xft3xfu3xfv3xfw3xfz3r203k6o212m6o2dw2l2cq2l3t3r3u2l17s4m19m3r}'kerning'{cl{4qs5ku5ot5qs17sv5tv}201t{2ww4wy2yw}201w{2ks}201x{2ww4wy2yw}2k{201ts201xs}2w{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}2x{5ow5qs}2y{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}'fof'-6o7p{17su5tu5ot}ck{4qs5ku5ot5qs17sv5tv}4l{4qs5ku5ot5qs17sv5tv}cm{4qs5ku5ot5qs17sv5tv}cn{4qs5ku5ot5qs17sv5tv}co{4qs5ku5ot5qs17sv5tv}cp{4qs5ku5ot5qs17sv5tv}6l{17st5tt5os}17s{2kwclvcmvcnvcovcpv4lv4wwckv}5o{2kucltcmtcntcotcpt4lt4wtckt}5q{2ksclscmscnscoscps4ls4wvcks}5r{2ks4ws}5t{2kwclvcmvcnvcovcpv4lv4wwckv}eo{17st5tt5os}fu{17su5tu5ot}6p{17ss5ts}ek{17st5tt5os}el{17st5tt5os}em{17st5tt5os}en{17st5tt5os}6o{201ts}ep{17st5tt5os}es{17ss5ts}et{17ss5ts}eu{17ss5ts}ev{17ss5ts}6z{17su5tu5os5qt}fm{17su5tu5os5qt}fn{17su5tu5os5qt}fo{17su5tu5os5qt}fp{17su5tu5os5qt}fq{17su5tu5os5qt}fs{17su5tu5os5qt}ft{17su5tu5ot}7m{5os}fv{17su5tu5ot}fw{17su5tu5ot}}}"),Courier:l("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Courier-BoldOblique":l("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Times-Bold":l("{'widths'{k3q2q5ncx2r201n3m201o6o201s2l201t2l201u2l201w3m201x3m201y3m2k1t2l2l202m2n2n3m2o3m2p6o202q6o2r1w2s2l2t2l2u3m2v3t2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v2l3w3t3x3t3y3t3z3m4k5x4l4s4m4m4n4s4o4s4p4m4q3x4r4y4s4y4t2r4u3m4v4y4w4m4x5y4y4s4z4y5k3x5l4y5m4s5n3r5o4m5p4s5q4s5r6o5s4s5t4s5u4m5v2l5w1w5x2l5y3u5z3m6k2l6l3m6m3r6n2w6o3r6p2w6q2l6r3m6s3r6t1w6u2l6v3r6w1w6x5n6y3r6z3m7k3r7l3r7m2w7n2r7o2l7p3r7q3m7r4s7s3m7t3m7u2w7v2r7w1q7x2r7y3o202l3mcl4sal2lam3man3mao3map3mar3mas2lat4uau1yav3maw3tay4uaz2lbk2sbl3t'fof'6obo2lbp3rbr1tbs2lbu2lbv3mbz3mck4s202k3mcm4scn4sco4scp4scq6ocr4scs4mct4mcu4mcv4mcw2r2m3rcy2rcz2rdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3rek3mel3mem3men3meo3mep3meq4ser2wes2wet2weu2wev2wew1wex1wey1wez1wfl3rfm3mfn3mfo3mfp3mfq3mfr3tfs3mft3rfu3rfv3rfw3rfz3m203k6o212m6o2dw2l2cq2l3t3m3u2l17s4s19m3m}'kerning'{cl{4qt5ks5ot5qy5rw17sv5tv}201t{cks4lscmscnscoscpscls4wv}2k{201ts}2w{4qu5ku7mu5os5qx5ru17su5tu}2x{17su5tu5ou5qs}2y{4qv5kv7mu5ot5qz5ru17su5tu}'fof'-6o7t{cksclscmscnscoscps4ls}3u{17su5tu5os5qu}3v{17su5tu5os5qu}fu{17su5tu5ou5qu}7p{17su5tu5ou5qu}ck{4qt5ks5ot5qy5rw17sv5tv}4l{4qt5ks5ot5qy5rw17sv5tv}cm{4qt5ks5ot5qy5rw17sv5tv}cn{4qt5ks5ot5qy5rw17sv5tv}co{4qt5ks5ot5qy5rw17sv5tv}cp{4qt5ks5ot5qy5rw17sv5tv}6l{17st5tt5ou5qu}17s{ckuclucmucnucoucpu4lu4wu}5o{ckuclucmucnucoucpu4lu4wu}5q{ckzclzcmzcnzcozcpz4lz4wu}5r{ckxclxcmxcnxcoxcpx4lx4wu}5t{ckuclucmucnucoucpu4lu4wu}7q{ckuclucmucnucoucpu4lu}6p{17sw5tw5ou5qu}ek{17st5tt5qu}el{17st5tt5ou5qu}em{17st5tt5qu}en{17st5tt5qu}eo{17st5tt5qu}ep{17st5tt5ou5qu}es{17ss5ts5qu}et{17sw5tw5ou5qu}eu{17sw5tw5ou5qu}ev{17ss5ts5qu}6z{17sw5tw5ou5qu5rs}fm{17sw5tw5ou5qu5rs}fn{17sw5tw5ou5qu5rs}fo{17sw5tw5ou5qu5rs}fp{17sw5tw5ou5qu5rs}fq{17sw5tw5ou5qu5rs}7r{cktcltcmtcntcotcpt4lt5os}fs{17sw5tw5ou5qu5rs}ft{17su5tu5ou5qu}7m{5os}fv{17su5tu5ou5qu}fw{17su5tu5ou5qu}fz{cksclscmscnscoscps4ls}}}"),Symbol:l("{'widths'{k3uaw4r19m3m2k1t2l2l202m2y2n3m2p5n202q6o3k3m2s2l2t2l2v3r2w1t3m3m2y1t2z1wbk2sbl3r'fof'6o3n3m3o3m3p3m3q3m3r3m3s3m3t3m3u1w3v1w3w3r3x3r3y3r3z2wbp3t3l3m5v2l5x2l5z3m2q4yfr3r7v3k7w1o7x3k}'kerning'{'fof'-6o}}"),Helvetica:l("{'widths'{k3p2q4mcx1w201n3r201o6o201s1q201t1q201u1q201w2l201x2l201y2l2k1w2l1w202m2n2n3r2o3r2p5t202q6o2r1n2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v1w3w3u3x3u3y3u3z3r4k6p4l4m4m4m4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3m4v4m4w3r4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v1w5w1w5x1w5y2z5z3r6k2l6l3r6m3r6n3m6o3r6p3r6q1w6r3r6s3r6t1q6u1q6v3m6w1q6x5n6y3r6z3r7k3r7l3r7m2l7n3m7o1w7p3r7q3m7r4s7s3m7t3m7u3m7v2l7w1u7x2l7y3u202l3rcl4mal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3rbr1wbs2lbu2obv3rbz3xck4m202k3rcm4mcn4mco4mcp4mcq6ocr4scs4mct4mcu4mcv4mcw1w2m2ncy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3mes3ret3reu3rev3rew1wex1wey1wez1wfl3rfm3rfn3rfo3rfp3rfq3rfr3ufs3xft3rfu3rfv3rfw3rfz3m203k6o212m6o2dw2l2cq2l3t3r3u1w17s4m19m3r}'kerning'{5q{4wv}cl{4qs5kw5ow5qs17sv5tv}201t{2wu4w1k2yu}201x{2wu4wy2yu}17s{2ktclucmucnu4otcpu4lu4wycoucku}2w{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}2x{17sy5ty5oy5qs}2y{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}'fof'-6o7p{17sv5tv5ow}ck{4qs5kw5ow5qs17sv5tv}4l{4qs5kw5ow5qs17sv5tv}cm{4qs5kw5ow5qs17sv5tv}cn{4qs5kw5ow5qs17sv5tv}co{4qs5kw5ow5qs17sv5tv}cp{4qs5kw5ow5qs17sv5tv}6l{17sy5ty5ow}do{17st5tt}4z{17st5tt}7s{fst}dm{17st5tt}dn{17st5tt}5o{ckwclwcmwcnwcowcpw4lw4wv}dp{17st5tt}dq{17st5tt}7t{5ow}ds{17st5tt}5t{2ktclucmucnu4otcpu4lu4wycoucku}fu{17sv5tv5ow}6p{17sy5ty5ow5qs}ek{17sy5ty5ow}el{17sy5ty5ow}em{17sy5ty5ow}en{5ty}eo{17sy5ty5ow}ep{17sy5ty5ow}es{17sy5ty5qs}et{17sy5ty5ow5qs}eu{17sy5ty5ow5qs}ev{17sy5ty5ow5qs}6z{17sy5ty5ow5qs}fm{17sy5ty5ow5qs}fn{17sy5ty5ow5qs}fo{17sy5ty5ow5qs}fp{17sy5ty5qs}fq{17sy5ty5ow5qs}7r{5ow}fs{17sy5ty5ow5qs}ft{17sv5tv5ow}7m{5ow}fv{17sv5tv5ow}fw{17sv5tv5ow}}}"),"Helvetica-BoldOblique":l("{'widths'{k3s2q4scx1w201n3r201o6o201s1w201t1w201u1w201w3m201x3m201y3m2k1w2l2l202m2n2n3r2o3r2p5t202q6o2r1s2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v2l3w3u3x3u3y3u3z3x4k6l4l4s4m4s4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3r4v4s4w3x4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v2l5w1w5x2l5y3u5z3r6k2l6l3r6m3x6n3r6o3x6p3r6q2l6r3x6s3x6t1w6u1w6v3r6w1w6x5t6y3x6z3x7k3x7l3x7m2r7n3r7o2l7p3x7q3r7r4y7s3r7t3r7u3m7v2r7w1w7x2r7y3u202l3rcl4sal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3xbq3rbr1wbs2lbu2obv3rbz3xck4s202k3rcm4scn4sco4scp4scq6ocr4scs4mct4mcu4mcv4mcw1w2m2zcy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3res3ret3reu3rev3rew1wex1wey1wez1wfl3xfm3xfn3xfo3xfp3xfq3xfr3ufs3xft3xfu3xfv3xfw3xfz3r203k6o212m6o2dw2l2cq2l3t3r3u2l17s4m19m3r}'kerning'{cl{4qs5ku5ot5qs17sv5tv}201t{2ww4wy2yw}201w{2ks}201x{2ww4wy2yw}2k{201ts201xs}2w{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}2x{5ow5qs}2y{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}'fof'-6o7p{17su5tu5ot}ck{4qs5ku5ot5qs17sv5tv}4l{4qs5ku5ot5qs17sv5tv}cm{4qs5ku5ot5qs17sv5tv}cn{4qs5ku5ot5qs17sv5tv}co{4qs5ku5ot5qs17sv5tv}cp{4qs5ku5ot5qs17sv5tv}6l{17st5tt5os}17s{2kwclvcmvcnvcovcpv4lv4wwckv}5o{2kucltcmtcntcotcpt4lt4wtckt}5q{2ksclscmscnscoscps4ls4wvcks}5r{2ks4ws}5t{2kwclvcmvcnvcovcpv4lv4wwckv}eo{17st5tt5os}fu{17su5tu5ot}6p{17ss5ts}ek{17st5tt5os}el{17st5tt5os}em{17st5tt5os}en{17st5tt5os}6o{201ts}ep{17st5tt5os}es{17ss5ts}et{17ss5ts}eu{17ss5ts}ev{17ss5ts}6z{17su5tu5os5qt}fm{17su5tu5os5qt}fn{17su5tu5os5qt}fo{17su5tu5os5qt}fp{17su5tu5os5qt}fq{17su5tu5os5qt}fs{17su5tu5os5qt}ft{17su5tu5ot}7m{5os}fv{17su5tu5ot}fw{17su5tu5ot}}}"),ZapfDingbats:l("{'widths'{k4u2k1w'fof'6o}'kerning'{'fof'-6o}}"),"Courier-Bold":l("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Times-Italic":l("{'widths'{k3n2q4ycx2l201n3m201o5t201s2l201t2l201u2l201w3r201x3r201y3r2k1t2l2l202m2n2n3m2o3m2p5n202q5t2r1p2s2l2t2l2u3m2v4n2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v2l3w4n3x4n3y4n3z3m4k5w4l3x4m3x4n4m4o4s4p3x4q3x4r4s4s4s4t2l4u2w4v4m4w3r4x5n4y4m4z4s5k3x5l4s5m3x5n3m5o3r5p4s5q3x5r5n5s3x5t3r5u3r5v2r5w1w5x2r5y2u5z3m6k2l6l3m6m3m6n2w6o3m6p2w6q1w6r3m6s3m6t1w6u1w6v2w6w1w6x4s6y3m6z3m7k3m7l3m7m2r7n2r7o1w7p3m7q2w7r4m7s2w7t2w7u2r7v2s7w1v7x2s7y3q202l3mcl3xal2ram3man3mao3map3mar3mas2lat4wau1vav3maw4nay4waz2lbk2sbl4n'fof'6obo2lbp3mbq3obr1tbs2lbu1zbv3mbz3mck3x202k3mcm3xcn3xco3xcp3xcq5tcr4mcs3xct3xcu3xcv3xcw2l2m2ucy2lcz2ldl4mdm4sdn4sdo4sdp4sdq4sds4sdt4sdu4sdv4sdw4sdz3mek3mel3mem3men3meo3mep3meq4mer2wes2wet2weu2wev2wew1wex1wey1wez1wfl3mfm3mfn3mfo3mfp3mfq3mfr4nfs3mft3mfu3mfv3mfw3mfz2w203k6o212m6m2dw2l2cq2l3t3m3u2l17s3r19m3m}'kerning'{cl{5kt4qw}201s{201sw}201t{201tw2wy2yy6q-t}201x{2wy2yy}2k{201tw}2w{7qs4qy7rs5ky7mw5os5qx5ru17su5tu}2x{17ss5ts5os}2y{7qs4qy7rs5ky7mw5os5qx5ru17su5tu}'fof'-6o6t{17ss5ts5qs}7t{5os}3v{5qs}7p{17su5tu5qs}ck{5kt4qw}4l{5kt4qw}cm{5kt4qw}cn{5kt4qw}co{5kt4qw}cp{5kt4qw}6l{4qs5ks5ou5qw5ru17su5tu}17s{2ks}5q{ckvclvcmvcnvcovcpv4lv}5r{ckuclucmucnucoucpu4lu}5t{2ks}6p{4qs5ks5ou5qw5ru17su5tu}ek{4qs5ks5ou5qw5ru17su5tu}el{4qs5ks5ou5qw5ru17su5tu}em{4qs5ks5ou5qw5ru17su5tu}en{4qs5ks5ou5qw5ru17su5tu}eo{4qs5ks5ou5qw5ru17su5tu}ep{4qs5ks5ou5qw5ru17su5tu}es{5ks5qs4qs}et{4qs5ks5ou5qw5ru17su5tu}eu{4qs5ks5qw5ru17su5tu}ev{5ks5qs4qs}ex{17ss5ts5qs}6z{4qv5ks5ou5qw5ru17su5tu}fm{4qv5ks5ou5qw5ru17su5tu}fn{4qv5ks5ou5qw5ru17su5tu}fo{4qv5ks5ou5qw5ru17su5tu}fp{4qv5ks5ou5qw5ru17su5tu}fq{4qv5ks5ou5qw5ru17su5tu}7r{5os}fs{4qv5ks5ou5qw5ru17su5tu}ft{17su5tu5qs}fu{17su5tu5qs}fv{17su5tu5qs}fw{17su5tu5qs}}}"),"Times-Roman":l("{'widths'{k3n2q4ycx2l201n3m201o6o201s2l201t2l201u2l201w2w201x2w201y2w2k1t2l2l202m2n2n3m2o3m2p5n202q6o2r1m2s2l2t2l2u3m2v3s2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v1w3w3s3x3s3y3s3z2w4k5w4l4s4m4m4n4m4o4s4p3x4q3r4r4s4s4s4t2l4u2r4v4s4w3x4x5t4y4s4z4s5k3r5l4s5m4m5n3r5o3x5p4s5q4s5r5y5s4s5t4s5u3x5v2l5w1w5x2l5y2z5z3m6k2l6l2w6m3m6n2w6o3m6p2w6q2l6r3m6s3m6t1w6u1w6v3m6w1w6x4y6y3m6z3m7k3m7l3m7m2l7n2r7o1w7p3m7q3m7r4s7s3m7t3m7u2w7v3k7w1o7x3k7y3q202l3mcl4sal2lam3man3mao3map3mar3mas2lat4wau1vav3maw3say4waz2lbk2sbl3s'fof'6obo2lbp3mbq2xbr1tbs2lbu1zbv3mbz2wck4s202k3mcm4scn4sco4scp4scq5tcr4mcs3xct3xcu3xcv3xcw2l2m2tcy2lcz2ldl4sdm4sdn4sdo4sdp4sdq4sds4sdt4sdu4sdv4sdw4sdz3mek2wel2wem2wen2weo2wep2weq4mer2wes2wet2weu2wev2wew1wex1wey1wez1wfl3mfm3mfn3mfo3mfp3mfq3mfr3sfs3mft3mfu3mfv3mfw3mfz3m203k6o212m6m2dw2l2cq2l3t3m3u1w17s4s19m3m}'kerning'{cl{4qs5ku17sw5ou5qy5rw201ss5tw201ws}201s{201ss}201t{ckw4lwcmwcnwcowcpwclw4wu201ts}2k{201ts}2w{4qs5kw5os5qx5ru17sx5tx}2x{17sw5tw5ou5qu}2y{4qs5kw5os5qx5ru17sx5tx}'fof'-6o7t{ckuclucmucnucoucpu4lu5os5rs}3u{17su5tu5qs}3v{17su5tu5qs}7p{17sw5tw5qs}ck{4qs5ku17sw5ou5qy5rw201ss5tw201ws}4l{4qs5ku17sw5ou5qy5rw201ss5tw201ws}cm{4qs5ku17sw5ou5qy5rw201ss5tw201ws}cn{4qs5ku17sw5ou5qy5rw201ss5tw201ws}co{4qs5ku17sw5ou5qy5rw201ss5tw201ws}cp{4qs5ku17sw5ou5qy5rw201ss5tw201ws}6l{17su5tu5os5qw5rs}17s{2ktclvcmvcnvcovcpv4lv4wuckv}5o{ckwclwcmwcnwcowcpw4lw4wu}5q{ckyclycmycnycoycpy4ly4wu5ms}5r{cktcltcmtcntcotcpt4lt4ws}5t{2ktclvcmvcnvcovcpv4lv4wuckv}7q{cksclscmscnscoscps4ls}6p{17su5tu5qw5rs}ek{5qs5rs}el{17su5tu5os5qw5rs}em{17su5tu5os5qs5rs}en{17su5qs5rs}eo{5qs5rs}ep{17su5tu5os5qw5rs}es{5qs}et{17su5tu5qw5rs}eu{17su5tu5qs5rs}ev{5qs}6z{17sv5tv5os5qx5rs}fm{5os5qt5rs}fn{17sv5tv5os5qx5rs}fo{17sv5tv5os5qx5rs}fp{5os5qt5rs}fq{5os5qt5rs}7r{ckuclucmucnucoucpu4lu5os}fs{17sv5tv5os5qx5rs}ft{17ss5ts5qs}fu{17sw5tw5qs}fv{17sw5tw5qs}fw{17ss5ts5qs}fz{ckuclucmucnucoucpu4lu5os5rs}}}"),"Helvetica-Oblique":l("{'widths'{k3p2q4mcx1w201n3r201o6o201s1q201t1q201u1q201w2l201x2l201y2l2k1w2l1w202m2n2n3r2o3r2p5t202q6o2r1n2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v1w3w3u3x3u3y3u3z3r4k6p4l4m4m4m4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3m4v4m4w3r4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v1w5w1w5x1w5y2z5z3r6k2l6l3r6m3r6n3m6o3r6p3r6q1w6r3r6s3r6t1q6u1q6v3m6w1q6x5n6y3r6z3r7k3r7l3r7m2l7n3m7o1w7p3r7q3m7r4s7s3m7t3m7u3m7v2l7w1u7x2l7y3u202l3rcl4mal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3rbr1wbs2lbu2obv3rbz3xck4m202k3rcm4mcn4mco4mcp4mcq6ocr4scs4mct4mcu4mcv4mcw1w2m2ncy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3mes3ret3reu3rev3rew1wex1wey1wez1wfl3rfm3rfn3rfo3rfp3rfq3rfr3ufs3xft3rfu3rfv3rfw3rfz3m203k6o212m6o2dw2l2cq2l3t3r3u1w17s4m19m3r}'kerning'{5q{4wv}cl{4qs5kw5ow5qs17sv5tv}201t{2wu4w1k2yu}201x{2wu4wy2yu}17s{2ktclucmucnu4otcpu4lu4wycoucku}2w{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}2x{17sy5ty5oy5qs}2y{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}'fof'-6o7p{17sv5tv5ow}ck{4qs5kw5ow5qs17sv5tv}4l{4qs5kw5ow5qs17sv5tv}cm{4qs5kw5ow5qs17sv5tv}cn{4qs5kw5ow5qs17sv5tv}co{4qs5kw5ow5qs17sv5tv}cp{4qs5kw5ow5qs17sv5tv}6l{17sy5ty5ow}do{17st5tt}4z{17st5tt}7s{fst}dm{17st5tt}dn{17st5tt}5o{ckwclwcmwcnwcowcpw4lw4wv}dp{17st5tt}dq{17st5tt}7t{5ow}ds{17st5tt}5t{2ktclucmucnu4otcpu4lu4wycoucku}fu{17sv5tv5ow}6p{17sy5ty5ow5qs}ek{17sy5ty5ow}el{17sy5ty5ow}em{17sy5ty5ow}en{5ty}eo{17sy5ty5ow}ep{17sy5ty5ow}es{17sy5ty5qs}et{17sy5ty5ow5qs}eu{17sy5ty5ow5qs}ev{17sy5ty5ow5qs}6z{17sy5ty5ow5qs}fm{17sy5ty5ow5qs}fn{17sy5ty5ow5qs}fo{17sy5ty5ow5qs}fp{17sy5ty5qs}fq{17sy5ty5ow5qs}7r{5ow}fs{17sy5ty5ow5qs}ft{17sv5tv5ow}7m{5ow}fv{17sv5tv5ow}fw{17sv5tv5ow}}}")}};e.events.push(["addFont",function(p){var f=p.font,g=d.Unicode[f.postScriptName];g&&(f.metadata.Unicode={},f.metadata.Unicode.widths=g.widths,f.metadata.Unicode.kerning=g.kerning);var v=c.Unicode[f.postScriptName];v&&(f.metadata.Unicode.encoding=v,f.encoding=v.codePages[0])}])}(ut.API),function(e){var t=function(n){for(var r=n.length,i=new Uint8Array(r),a=0;a<r;a++)i[a]=n.charCodeAt(a);return i};e.API.events.push(["addFont",function(n){var r=void 0,i=n.font,a=n.instance;if(!i.isStandardFont){if(a===void 0)throw new Error("Font does not exist in vFS, import fonts or remove declaration doc.addFont('"+i.postScriptName+"').");if(typeof(r=a.existsFileInVFS(i.postScriptName)===!1?a.loadFile(i.postScriptName):a.getFileFromVFS(i.postScriptName))!="string")throw new Error("Font is not stored as string-data in vFS, import fonts or remove declaration doc.addFont('"+i.postScriptName+"').");(function(s,o){o=/^\x00\x01\x00\x00/.test(o)?t(o):t(Z1(o)),s.metadata=e.API.TTFFont.open(o),s.metadata.Unicode=s.metadata.Unicode||{encoding:{},kerning:{},widths:[]},s.metadata.glyIdsUsed=[0]})(i,r)}}])}(ut),ut.API.addSvgAsImage=function(e,t,n,r,i,a,s,o){if(isNaN(t)||isNaN(n))throw _n.error("jsPDF.addSvgAsImage: Invalid coordinates",arguments),new Error("Invalid coordinates passed to jsPDF.addSvgAsImage");if(isNaN(r)||isNaN(i))throw _n.error("jsPDF.addSvgAsImage: Invalid measurements",arguments),new Error("Invalid measurements (width and/or height) passed to jsPDF.addSvgAsImage");var l=document.createElement("canvas");l.width=r,l.height=i;var u=l.getContext("2d");u.fillStyle="#fff",u.fillRect(0,0,l.width,l.height);var c={ignoreMouse:!0,ignoreAnimation:!0,ignoreDimensions:!0},d=this;return(_t.canvg?Promise.resolve(_t.canvg):fw(()=>import("./index.es-DJW7yQuV.js"),[])).catch(function(p){return Promise.reject(new Error("Could not load canvg: "+p))}).then(function(p){return p.default?p.default:p}).then(function(p){return p.fromString(u,e,c)},function(){return Promise.reject(new Error("Could not load canvg."))}).then(function(p){return p.render(c)}).then(function(){d.addImage(l.toDataURL("image/jpeg",1),t,n,r,i,s,o)})},ut.API.putTotalPages=function(e){var t,n=0;parseInt(this.internal.getFont().id.substr(1),10)<15?(t=new RegExp(e,"g"),n=this.internal.getNumberOfPages()):(t=new RegExp(this.pdfEscape16(e,this.internal.getFont()),"g"),n=this.pdfEscape16(this.internal.getNumberOfPages()+"",this.internal.getFont()));for(var r=1;r<=this.internal.getNumberOfPages();r++)for(var i=0;i<this.internal.pages[r].length;i++)this.internal.pages[r][i]=this.internal.pages[r][i].replace(t,n);return this},ut.API.viewerPreferences=function(e,t){var n;e=e||{},t=t||!1;var r,i,a,s={HideToolbar:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},HideMenubar:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},HideWindowUI:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},FitWindow:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},CenterWindow:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},DisplayDocTitle:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.4},NonFullScreenPageMode:{defaultValue:"UseNone",value:"UseNone",type:"name",explicitSet:!1,valueSet:["UseNone","UseOutlines","UseThumbs","UseOC"],pdfVersion:1.3},Direction:{defaultValue:"L2R",value:"L2R",type:"name",explicitSet:!1,valueSet:["L2R","R2L"],pdfVersion:1.3},ViewArea:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},ViewClip:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},PrintArea:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},PrintClip:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},PrintScaling:{defaultValue:"AppDefault",value:"AppDefault",type:"name",explicitSet:!1,valueSet:["AppDefault","None"],pdfVersion:1.6},Duplex:{defaultValue:"",value:"none",type:"name",explicitSet:!1,valueSet:["Simplex","DuplexFlipShortEdge","DuplexFlipLongEdge","none"],pdfVersion:1.7},PickTrayByPDFSize:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.7},PrintPageRange:{defaultValue:"",value:"",type:"array",explicitSet:!1,valueSet:null,pdfVersion:1.7},NumCopies:{defaultValue:1,value:1,type:"integer",explicitSet:!1,valueSet:null,pdfVersion:1.7}},o=Object.keys(s),l=[],u=0,c=0,d=0;function p(g,v){var b,x=!1;for(b=0;b<g.length;b+=1)g[b]===v&&(x=!0);return x}if(this.internal.viewerpreferences===void 0&&(this.internal.viewerpreferences={},this.internal.viewerpreferences.configuration=JSON.parse(JSON.stringify(s)),this.internal.viewerpreferences.isSubscribed=!1),n=this.internal.viewerpreferences.configuration,e==="reset"||t===!0){var f=o.length;for(d=0;d<f;d+=1)n[o[d]].value=n[o[d]].defaultValue,n[o[d]].explicitSet=!1}if(gn(e)==="object"){for(i in e)if(a=e[i],p(o,i)&&a!==void 0){if(n[i].type==="boolean"&&typeof a=="boolean")n[i].value=a;else if(n[i].type==="name"&&p(n[i].valueSet,a))n[i].value=a;else if(n[i].type==="integer"&&Number.isInteger(a))n[i].value=a;else if(n[i].type==="array"){for(u=0;u<a.length;u+=1)if(r=!0,a[u].length===1&&typeof a[u][0]=="number")l.push(String(a[u]-1));else if(a[u].length>1){for(c=0;c<a[u].length;c+=1)typeof a[u][c]!="number"&&(r=!1);r===!0&&l.push([a[u][0]-1,a[u][1]-1].join(" "))}n[i].value="["+l.join(" ")+"]"}else n[i].value=n[i].defaultValue;n[i].explicitSet=!0}}return this.internal.viewerpreferences.isSubscribed===!1&&(this.internal.events.subscribe("putCatalog",function(){var g,v=[];for(g in n)n[g].explicitSet===!0&&(n[g].type==="name"?v.push("/"+g+" /"+n[g].value):v.push("/"+g+" "+n[g].value));v.length!==0&&this.internal.write(`/ViewerPreferences
<<
`+v.join(`
`)+`
>>`)}),this.internal.viewerpreferences.isSubscribed=!0),this.internal.viewerpreferences.configuration=n,this},function(e){var t=function(){var r='<rdf:RDF xmlns:rdf="http://www.w3.org/1999/02/22-rdf-syntax-ns#"><rdf:Description rdf:about="" xmlns:jspdf="'+this.internal.__metadata__.namespaceuri+'"><jspdf:metadata>',i=unescape(encodeURIComponent('<x:xmpmeta xmlns:x="adobe:ns:meta/">')),a=unescape(encodeURIComponent(r)),s=unescape(encodeURIComponent(this.internal.__metadata__.metadata)),o=unescape(encodeURIComponent("</jspdf:metadata></rdf:Description></rdf:RDF>")),l=unescape(encodeURIComponent("</x:xmpmeta>")),u=a.length+s.length+o.length+i.length+l.length;this.internal.__metadata__.metadata_object_number=this.internal.newObject(),this.internal.write("<< /Type /Metadata /Subtype /XML /Length "+u+" >>"),this.internal.write("stream"),this.internal.write(i+a+s+o+l),this.internal.write("endstream"),this.internal.write("endobj")},n=function(){this.internal.__metadata__.metadata_object_number&&this.internal.write("/Metadata "+this.internal.__metadata__.metadata_object_number+" 0 R")};e.addMetadata=function(r,i){return this.internal.__metadata__===void 0&&(this.internal.__metadata__={metadata:r,namespaceuri:i||"http://jspdf.default.namespaceuri/"},this.internal.events.subscribe("putCatalog",n),this.internal.events.subscribe("postPutResources",t)),this}}(ut.API),function(e){var t=e.API,n=t.pdfEscape16=function(a,s){for(var o,l=s.metadata.Unicode.widths,u=["","0","00","000","0000"],c=[""],d=0,p=a.length;d<p;++d){if(o=s.metadata.characterToGlyph(a.charCodeAt(d)),s.metadata.glyIdsUsed.push(o),s.metadata.toUnicode[o]=a.charCodeAt(d),l.indexOf(o)==-1&&(l.push(o),l.push([parseInt(s.metadata.widthOfGlyph(o),10)])),o=="0")return c.join("");o=o.toString(16),c.push(u[4-o.length],o)}return c.join("")},r=function(a){var s,o,l,u,c,d,p;for(c=`/CIDInit /ProcSet findresource begin
12 dict begin
begincmap
/CIDSystemInfo <<
  /Registry (Adobe)
  /Ordering (UCS)
  /Supplement 0
>> def
/CMapName /Adobe-Identity-UCS def
/CMapType 2 def
1 begincodespacerange
<0000><ffff>
endcodespacerange`,l=[],d=0,p=(o=Object.keys(a).sort(function(f,g){return f-g})).length;d<p;d++)s=o[d],l.length>=100&&(c+=`
`+l.length+` beginbfchar
`+l.join(`
`)+`
endbfchar`,l=[]),a[s]!==void 0&&a[s]!==null&&typeof a[s].toString=="function"&&(u=("0000"+a[s].toString(16)).slice(-4),s=("0000"+(+s).toString(16)).slice(-4),l.push("<"+s+"><"+u+">"));return l.length&&(c+=`
`+l.length+` beginbfchar
`+l.join(`
`)+`
endbfchar
`),c+`endcmap
CMapName currentdict /CMap defineresource pop
end
end`};t.events.push(["putFont",function(a){(function(s){var o=s.font,l=s.out,u=s.newObject,c=s.putStream;if(o.metadata instanceof e.API.TTFFont&&o.encoding==="Identity-H"){for(var d=o.metadata.Unicode.widths,p=o.metadata.subset.encode(o.metadata.glyIdsUsed,1),f="",g=0;g<p.length;g++)f+=String.fromCharCode(p[g]);var v=u();c({data:f,addLength1:!0,objectId:v}),l("endobj");var b=u();c({data:r(o.metadata.toUnicode),addLength1:!0,objectId:b}),l("endobj");var x=u();l("<<"),l("/Type /FontDescriptor"),l("/FontName /"+pf(o.fontName)),l("/FontFile2 "+v+" 0 R"),l("/FontBBox "+e.API.PDFObject.convert(o.metadata.bbox)),l("/Flags "+o.metadata.flags),l("/StemV "+o.metadata.stemV),l("/ItalicAngle "+o.metadata.italicAngle),l("/Ascent "+o.metadata.ascender),l("/Descent "+o.metadata.decender),l("/CapHeight "+o.metadata.capHeight),l(">>"),l("endobj");var w=u();l("<<"),l("/Type /Font"),l("/BaseFont /"+pf(o.fontName)),l("/FontDescriptor "+x+" 0 R"),l("/W "+e.API.PDFObject.convert(d)),l("/CIDToGIDMap /Identity"),l("/DW 1000"),l("/Subtype /CIDFontType2"),l("/CIDSystemInfo"),l("<<"),l("/Supplement 0"),l("/Registry (Adobe)"),l("/Ordering ("+o.encoding+")"),l(">>"),l(">>"),l("endobj"),o.objectNumber=u(),l("<<"),l("/Type /Font"),l("/Subtype /Type0"),l("/ToUnicode "+b+" 0 R"),l("/BaseFont /"+pf(o.fontName)),l("/Encoding /"+o.encoding),l("/DescendantFonts ["+w+" 0 R]"),l(">>"),l("endobj"),o.isAlreadyPutted=!0}})(a)}]),t.events.push(["putFont",function(a){(function(s){var o=s.font,l=s.out,u=s.newObject,c=s.putStream;if(o.metadata instanceof e.API.TTFFont&&o.encoding==="WinAnsiEncoding"){for(var d=o.metadata.rawData,p="",f=0;f<d.length;f++)p+=String.fromCharCode(d[f]);var g=u();c({data:p,addLength1:!0,objectId:g}),l("endobj");var v=u();c({data:r(o.metadata.toUnicode),addLength1:!0,objectId:v}),l("endobj");var b=u();l("<<"),l("/Descent "+o.metadata.decender),l("/CapHeight "+o.metadata.capHeight),l("/StemV "+o.metadata.stemV),l("/Type /FontDescriptor"),l("/FontFile2 "+g+" 0 R"),l("/Flags 96"),l("/FontBBox "+e.API.PDFObject.convert(o.metadata.bbox)),l("/FontName /"+pf(o.fontName)),l("/ItalicAngle "+o.metadata.italicAngle),l("/Ascent "+o.metadata.ascender),l(">>"),l("endobj"),o.objectNumber=u();for(var x=0;x<o.metadata.hmtx.widths.length;x++)o.metadata.hmtx.widths[x]=parseInt(o.metadata.hmtx.widths[x]*(1e3/o.metadata.head.unitsPerEm));l("<</Subtype/TrueType/Type/Font/ToUnicode "+v+" 0 R/BaseFont/"+pf(o.fontName)+"/FontDescriptor "+b+" 0 R/Encoding/"+o.encoding+" /FirstChar 29 /LastChar 255 /Widths "+e.API.PDFObject.convert(o.metadata.hmtx.widths)+">>"),l("endobj"),o.isAlreadyPutted=!0}})(a)}]);var i=function(a){var s,o=a.text||"",l=a.x,u=a.y,c=a.options||{},d=a.mutex||{},p=d.pdfEscape,f=d.activeFontKey,g=d.fonts,v=f,b="",x=0,w="",A=g[v].encoding;if(g[v].encoding!=="Identity-H")return{text:o,x:l,y:u,options:c,mutex:d};for(w=o,v=f,Array.isArray(o)&&(w=o[0]),x=0;x<w.length;x+=1)g[v].metadata.hasOwnProperty("cmap")&&(s=g[v].metadata.cmap.unicode.codeMap[w[x].charCodeAt(0)]),s||w[x].charCodeAt(0)<256&&g[v].metadata.hasOwnProperty("Unicode")?b+=w[x]:b+="";var P="";return parseInt(v.slice(1))<14||A==="WinAnsiEncoding"?P=p(b,v).split("").map(function(O){return O.charCodeAt(0).toString(16)}).join(""):A==="Identity-H"&&(P=n(b,g[v])),d.isHex=!0,{text:P,x:l,y:u,options:c,mutex:d}};t.events.push(["postProcessText",function(a){var s=a.text||"",o=[],l={text:s,x:a.x,y:a.y,options:a.options,mutex:a.mutex};if(Array.isArray(s)){var u=0;for(u=0;u<s.length;u+=1)Array.isArray(s[u])&&s[u].length===3?o.push([i(Object.assign({},l,{text:s[u][0]})).text,s[u][1],s[u][2]]):o.push(i(Object.assign({},l,{text:s[u]})).text);a.text=o}else a.text=i(Object.assign({},l,{text:s})).text}])}(ut),function(e){var t=function(){return this.internal.vFS===void 0&&(this.internal.vFS={}),!0};e.existsFileInVFS=function(n){return t.call(this),this.internal.vFS[n]!==void 0},e.addFileToVFS=function(n,r){return t.call(this),this.internal.vFS[n]=r,this},e.getFileFromVFS=function(n){return t.call(this),this.internal.vFS[n]!==void 0?this.internal.vFS[n]:null}}(ut.API),function(e){e.__bidiEngine__=e.prototype.__bidiEngine__=function(r){var i,a,s,o,l,u,c,d=t,p=[[0,3,0,1,0,0,0],[0,3,0,1,2,2,0],[0,3,0,17,2,0,1],[0,3,5,5,4,1,0],[0,3,21,21,4,0,1],[0,3,5,5,4,2,0]],f=[[2,0,1,1,0,1,0],[2,0,1,1,0,2,0],[2,0,2,1,3,2,0],[2,0,2,33,3,1,1]],g={L:0,R:1,EN:2,AN:3,N:4,B:5,S:6},v={0:0,5:1,6:2,7:3,32:4,251:5,254:6,255:7},b=["(",")","(","<",">","<","[","]","[","{","}","{","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","",""],x=new RegExp(/^([1-4|9]|1[0-9]|2[0-9]|3[0168]|4[04589]|5[012]|7[78]|159|16[0-9]|17[0-2]|21[569]|22[03489]|250)$/),w=!1,A=0;this.__bidiEngine__={};var P=function(N){var C=N.charCodeAt(),R=C>>8,W=v[R];return W!==void 0?d[256*W+(255&C)]:R===252||R===253?"AL":x.test(R)?"L":R===8?"R":"N"},O=function(N){for(var C,R=0;R<N.length;R++){if((C=P(N.charAt(R)))==="L")return!1;if(C==="R")return!0}return!1},D=function(N,C,R,W){var Y,ae,ie,H,se=C[W];switch(se){case"L":case"R":case"LRE":case"RLE":case"LRO":case"RLO":case"PDF":w=!1;break;case"N":case"AN":break;case"EN":w&&(se="AN");break;case"AL":w=!0,se="R";break;case"WS":case"BN":se="N";break;case"CS":W<1||W+1>=C.length||(Y=R[W-1])!=="EN"&&Y!=="AN"||(ae=C[W+1])!=="EN"&&ae!=="AN"?se="N":w&&(ae="AN"),se=ae===Y?ae:"N";break;case"ES":se=(Y=W>0?R[W-1]:"B")==="EN"&&W+1<C.length&&C[W+1]==="EN"?"EN":"N";break;case"ET":if(W>0&&R[W-1]==="EN"){se="EN";break}if(w){se="N";break}for(ie=W+1,H=C.length;ie<H&&C[ie]==="ET";)ie++;se=ie<H&&C[ie]==="EN"?"EN":"N";break;case"NSM":if(s&&!o){for(H=C.length,ie=W+1;ie<H&&C[ie]==="NSM";)ie++;if(ie<H){var ye=N[W],be=ye>=1425&&ye<=2303||ye===64286;if(Y=C[ie],be&&(Y==="R"||Y==="AL")){se="R";break}}}se=W<1||(Y=C[W-1])==="B"?"N":R[W-1];break;case"B":w=!1,i=!0,se=A;break;case"S":a=!0,se="N"}return se},T=function(N,C,R){var W=N.split("");return R&&k(W,R,{hiLevel:A}),W.reverse(),C&&C.reverse(),W.join("")},k=function(N,C,R){var W,Y,ae,ie,H,se=-1,ye=N.length,be=0,$=[],X=A?f:p,re=[];for(w=!1,i=!1,a=!1,Y=0;Y<ye;Y++)re[Y]=P(N[Y]);for(ae=0;ae<ye;ae++){if(H=be,$[ae]=D(N,re,$,ae),W=240&(be=X[H][g[$[ae]]]),be&=15,C[ae]=ie=X[be][5],W>0)if(W===16){for(Y=se;Y<ae;Y++)C[Y]=1;se=-1}else se=-1;if(X[be][6])se===-1&&(se=ae);else if(se>-1){for(Y=se;Y<ae;Y++)C[Y]=ie;se=-1}re[ae]==="B"&&(C[ae]=0),R.hiLevel|=ie}a&&function(oe,de,ge){for(var ce=0;ce<ge;ce++)if(oe[ce]==="S"){de[ce]=A;for(var J=ce-1;J>=0&&oe[J]==="WS";J--)de[J]=A}}(re,C,ye)},I=function(N,C,R,W,Y){if(!(Y.hiLevel<N)){if(N===1&&A===1&&!i)return C.reverse(),void(R&&R.reverse());for(var ae,ie,H,se,ye=C.length,be=0;be<ye;){if(W[be]>=N){for(H=be+1;H<ye&&W[H]>=N;)H++;for(se=be,ie=H-1;se<ie;se++,ie--)ae=C[se],C[se]=C[ie],C[ie]=ae,R&&(ae=R[se],R[se]=R[ie],R[ie]=ae);be=H}be++}}},M=function(N,C,R){var W=N.split(""),Y={hiLevel:A};return R||(R=[]),k(W,R,Y),function(ae,ie,H){if(H.hiLevel!==0&&c)for(var se,ye=0;ye<ae.length;ye++)ie[ye]===1&&(se=b.indexOf(ae[ye]))>=0&&(ae[ye]=b[se+1])}(W,R,Y),I(2,W,C,R,Y),I(1,W,C,R,Y),W.join("")};return this.__bidiEngine__.doBidiReorder=function(N,C,R){if(function(Y,ae){if(ae)for(var ie=0;ie<Y.length;ie++)ae[ie]=ie;o===void 0&&(o=O(Y)),u===void 0&&(u=O(Y))}(N,C),s||!l||u)if(s&&l&&o^u)A=o?1:0,N=T(N,C,R);else if(!s&&l&&u)A=o?1:0,N=M(N,C,R),N=T(N,C);else if(!s||o||l||u){if(s&&!l&&o^u)N=T(N,C),o?(A=0,N=M(N,C,R)):(A=1,N=M(N,C,R),N=T(N,C));else if(s&&o&&!l&&u)A=1,N=M(N,C,R),N=T(N,C);else if(!s&&!l&&o^u){var W=c;o?(A=1,N=M(N,C,R),A=0,c=!1,N=M(N,C,R),c=W):(A=0,N=M(N,C,R),N=T(N,C),A=1,c=!1,N=M(N,C,R),c=W,N=T(N,C))}}else A=0,N=M(N,C,R);else A=o?1:0,N=M(N,C,R);return N},this.__bidiEngine__.setOptions=function(N){N&&(s=N.isInputVisual,l=N.isOutputVisual,o=N.isInputRtl,u=N.isOutputRtl,c=N.isSymmetricSwapping)},this.__bidiEngine__.setOptions(r),this.__bidiEngine__};var t=["BN","BN","BN","BN","BN","BN","BN","BN","BN","S","B","S","WS","B","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","B","B","B","S","WS","N","N","ET","ET","ET","N","N","N","N","N","ES","CS","ES","CS","CS","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","CS","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","BN","BN","BN","BN","BN","BN","B","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","CS","N","ET","ET","ET","ET","N","N","N","N","L","N","N","BN","N","N","ET","ET","EN","EN","N","L","N","N","N","EN","L","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","N","N","N","N","N","ET","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","R","NSM","R","NSM","NSM","R","NSM","NSM","R","NSM","N","N","N","N","N","N","N","N","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","N","N","N","N","N","R","R","R","R","R","N","N","N","N","N","N","N","N","N","N","N","AN","AN","AN","AN","AN","AN","N","N","AL","ET","ET","AL","CS","AL","N","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AL","AL","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AN","AN","AN","AN","AN","AN","AN","AN","AN","AN","ET","AN","AN","AL","AL","AL","NSM","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AN","N","NSM","NSM","NSM","NSM","NSM","NSM","AL","AL","NSM","NSM","N","NSM","NSM","NSM","NSM","AL","AL","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","N","AL","AL","NSM","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AL","N","N","N","N","N","N","N","N","N","N","N","N","N","N","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","R","R","N","N","N","N","R","N","N","N","N","N","WS","WS","WS","WS","WS","WS","WS","WS","WS","WS","WS","BN","BN","BN","L","R","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","WS","B","LRE","RLE","PDF","LRO","RLO","CS","ET","ET","ET","ET","ET","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","CS","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","WS","BN","BN","BN","BN","BN","N","LRI","RLI","FSI","PDI","BN","BN","BN","BN","BN","BN","EN","L","N","N","EN","EN","EN","EN","EN","EN","ES","ES","N","N","N","L","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","ES","ES","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","L","L","L","L","L","L","L","N","N","N","N","N","N","N","N","N","N","N","N","L","L","L","L","L","N","N","N","N","N","R","NSM","R","R","R","R","R","R","R","R","R","R","ES","R","R","R","R","R","R","R","R","R","R","R","R","R","N","R","R","R","R","R","N","R","N","R","R","N","R","R","N","R","R","R","R","R","R","R","R","R","R","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","CS","N","CS","N","N","CS","N","N","N","N","N","N","N","N","N","ET","N","N","ES","ES","N","N","N","N","N","ET","ET","N","N","N","N","N","AL","AL","AL","AL","AL","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","N","N","BN","N","N","N","ET","ET","ET","N","N","N","N","N","ES","CS","ES","CS","CS","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","CS","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","N","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","L","L","L","L","L","L","N","N","L","L","L","L","L","L","N","N","L","L","L","L","L","L","N","N","L","L","L","N","N","N","ET","ET","N","N","N","ET","ET","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N"],n=new e.__bidiEngine__({isInputVisual:!0});e.API.events.push(["postProcessText",function(r){var i=r.text;r.x,r.y;var a=r.options||{};r.mutex,a.lang;var s=[];if(a.isInputVisual=typeof a.isInputVisual!="boolean"||a.isInputVisual,n.setOptions(a),Object.prototype.toString.call(i)==="[object Array]"){var o=0;for(s=[],o=0;o<i.length;o+=1)Object.prototype.toString.call(i[o])==="[object Array]"?s.push([n.doBidiReorder(i[o][0]),i[o][1],i[o][2]]):s.push([n.doBidiReorder(i[o])]);r.text=s}else r.text=n.doBidiReorder(i);n.setOptions({isInputVisual:!0})}])}(ut),ut.API.TTFFont=function(){function e(t){var n;if(this.rawData=t,n=this.contents=new dc(t),this.contents.pos=4,n.readString(4)==="ttcf")throw new Error("TTCF not supported.");n.pos=0,this.parse(),this.subset=new zue(this),this.registerTTF()}return e.open=function(t){return new e(t)},e.prototype.parse=function(){return this.directory=new Nue(this.contents),this.head=new Tue(this),this.name=new Lue(this),this.cmap=new YF(this),this.toUnicode={},this.hhea=new Cue(this),this.maxp=new Rue(this),this.hmtx=new Mue(this),this.post=new Iue(this),this.os2=new jue(this),this.loca=new Vue(this),this.glyf=new Due(this),this.ascender=this.os2.exists&&this.os2.ascender||this.hhea.ascender,this.decender=this.os2.exists&&this.os2.decender||this.hhea.decender,this.lineGap=this.os2.exists&&this.os2.lineGap||this.hhea.lineGap,this.bbox=[this.head.xMin,this.head.yMin,this.head.xMax,this.head.yMax]},e.prototype.registerTTF=function(){var t,n,r,i,a;if(this.scaleFactor=1e3/this.head.unitsPerEm,this.bbox=(function(){var s,o,l,u;for(u=[],s=0,o=(l=this.bbox).length;s<o;s++)t=l[s],u.push(Math.round(t*this.scaleFactor));return u}).call(this),this.stemV=0,this.post.exists?(r=255&(i=this.post.italic_angle),32768&(n=i>>16)&&(n=-(1+(65535^n))),this.italicAngle=+(n+"."+r)):this.italicAngle=0,this.ascender=Math.round(this.ascender*this.scaleFactor),this.decender=Math.round(this.decender*this.scaleFactor),this.lineGap=Math.round(this.lineGap*this.scaleFactor),this.capHeight=this.os2.exists&&this.os2.capHeight||this.ascender,this.xHeight=this.os2.exists&&this.os2.xHeight||0,this.familyClass=(this.os2.exists&&this.os2.familyClass||0)>>8,this.isSerif=(a=this.familyClass)===1||a===2||a===3||a===4||a===5||a===7,this.isScript=this.familyClass===10,this.flags=0,this.post.isFixedPitch&&(this.flags|=1),this.isSerif&&(this.flags|=2),this.isScript&&(this.flags|=8),this.italicAngle!==0&&(this.flags|=64),this.flags|=32,!this.cmap.unicode)throw new Error("No unicode cmap for font")},e.prototype.characterToGlyph=function(t){var n;return((n=this.cmap.unicode)!=null?n.codeMap[t]:void 0)||0},e.prototype.widthOfGlyph=function(t){var n;return n=1e3/this.head.unitsPerEm,this.hmtx.forGlyph(t).advance*n},e.prototype.widthOfString=function(t,n,r){var i,a,s,o;for(s=0,a=0,o=(t=""+t).length;0<=o?a<o:a>o;a=0<=o?++a:--a)i=t.charCodeAt(a),s+=this.widthOfGlyph(this.characterToGlyph(i))+r*(1e3/n)||0;return s*(n/1e3)},e.prototype.lineHeight=function(t,n){var r;return n==null&&(n=!1),r=n?this.lineGap:0,(this.ascender+r-this.decender)/1e3*t},e}();var po,dc=function(){function e(t){this.data=t??[],this.pos=0,this.length=this.data.length}return e.prototype.readByte=function(){return this.data[this.pos++]},e.prototype.writeByte=function(t){return this.data[this.pos++]=t},e.prototype.readUInt32=function(){return 16777216*this.readByte()+(this.readByte()<<16)+(this.readByte()<<8)+this.readByte()},e.prototype.writeUInt32=function(t){return this.writeByte(t>>>24&255),this.writeByte(t>>16&255),this.writeByte(t>>8&255),this.writeByte(255&t)},e.prototype.readInt32=function(){var t;return(t=this.readUInt32())>=2147483648?t-4294967296:t},e.prototype.writeInt32=function(t){return t<0&&(t+=4294967296),this.writeUInt32(t)},e.prototype.readUInt16=function(){return this.readByte()<<8|this.readByte()},e.prototype.writeUInt16=function(t){return this.writeByte(t>>8&255),this.writeByte(255&t)},e.prototype.readInt16=function(){var t;return(t=this.readUInt16())>=32768?t-65536:t},e.prototype.writeInt16=function(t){return t<0&&(t+=65536),this.writeUInt16(t)},e.prototype.readString=function(t){var n,r;for(r=[],n=0;0<=t?n<t:n>t;n=0<=t?++n:--n)r[n]=String.fromCharCode(this.readByte());return r.join("")},e.prototype.writeString=function(t){var n,r,i;for(i=[],n=0,r=t.length;0<=r?n<r:n>r;n=0<=r?++n:--n)i.push(this.writeByte(t.charCodeAt(n)));return i},e.prototype.readShort=function(){return this.readInt16()},e.prototype.writeShort=function(t){return this.writeInt16(t)},e.prototype.readLongLong=function(){var t,n,r,i,a,s,o,l;return t=this.readByte(),n=this.readByte(),r=this.readByte(),i=this.readByte(),a=this.readByte(),s=this.readByte(),o=this.readByte(),l=this.readByte(),128&t?-1*(72057594037927940*(255^t)+281474976710656*(255^n)+1099511627776*(255^r)+4294967296*(255^i)+16777216*(255^a)+65536*(255^s)+256*(255^o)+(255^l)+1):72057594037927940*t+281474976710656*n+1099511627776*r+4294967296*i+16777216*a+65536*s+256*o+l},e.prototype.writeLongLong=function(t){var n,r;return n=Math.floor(t/4294967296),r=4294967295&t,this.writeByte(n>>24&255),this.writeByte(n>>16&255),this.writeByte(n>>8&255),this.writeByte(255&n),this.writeByte(r>>24&255),this.writeByte(r>>16&255),this.writeByte(r>>8&255),this.writeByte(255&r)},e.prototype.readInt=function(){return this.readInt32()},e.prototype.writeInt=function(t){return this.writeInt32(t)},e.prototype.read=function(t){var n,r;for(n=[],r=0;0<=t?r<t:r>t;r=0<=t?++r:--r)n.push(this.readByte());return n},e.prototype.write=function(t){var n,r,i,a;for(a=[],r=0,i=t.length;r<i;r++)n=t[r],a.push(this.writeByte(n));return a},e}(),Nue=function(){var e;function t(n){var r,i,a;for(this.scalarType=n.readInt(),this.tableCount=n.readShort(),this.searchRange=n.readShort(),this.entrySelector=n.readShort(),this.rangeShift=n.readShort(),this.tables={},i=0,a=this.tableCount;0<=a?i<a:i>a;i=0<=a?++i:--i)r={tag:n.readString(4),checksum:n.readInt(),offset:n.readInt(),length:n.readInt()},this.tables[r.tag]=r}return t.prototype.encode=function(n){var r,i,a,s,o,l,u,c,d,p,f,g,v;for(v in f=Object.keys(n).length,l=Math.log(2),d=16*Math.floor(Math.log(f)/l),s=Math.floor(d/l),c=16*f-d,(i=new dc).writeInt(this.scalarType),i.writeShort(f),i.writeShort(d),i.writeShort(s),i.writeShort(c),a=16*f,u=i.pos+a,o=null,g=[],n)for(p=n[v],i.writeString(v),i.writeInt(e(p)),i.writeInt(u),i.writeInt(p.length),g=g.concat(p),v==="head"&&(o=u),u+=p.length;u%4;)g.push(0),u++;return i.write(g),r=2981146554-e(i.data),i.pos=o+8,i.writeUInt32(r),i.data},e=function(n){var r,i,a,s;for(n=XF.call(n);n.length%4;)n.push(0);for(a=new dc(n),i=0,r=0,s=n.length;r<s;r=r+=4)i+=a.readUInt32();return 4294967295&i},t}(),kue={}.hasOwnProperty,el=function(e,t){for(var n in t)kue.call(t,n)&&(e[n]=t[n]);function r(){this.constructor=e}return r.prototype=t.prototype,e.prototype=new r,e.__super__=t.prototype,e};po=function(){function e(t){var n;this.file=t,n=this.file.directory.tables[this.tag],this.exists=!!n,n&&(this.offset=n.offset,this.length=n.length,this.parse(this.file.contents))}return e.prototype.parse=function(){},e.prototype.encode=function(){},e.prototype.raw=function(){return this.exists?(this.file.contents.pos=this.offset,this.file.contents.read(this.length)):null},e}();var Tue=function(){function e(){return e.__super__.constructor.apply(this,arguments)}return el(e,po),e.prototype.tag="head",e.prototype.parse=function(t){return t.pos=this.offset,this.version=t.readInt(),this.revision=t.readInt(),this.checkSumAdjustment=t.readInt(),this.magicNumber=t.readInt(),this.flags=t.readShort(),this.unitsPerEm=t.readShort(),this.created=t.readLongLong(),this.modified=t.readLongLong(),this.xMin=t.readShort(),this.yMin=t.readShort(),this.xMax=t.readShort(),this.yMax=t.readShort(),this.macStyle=t.readShort(),this.lowestRecPPEM=t.readShort(),this.fontDirectionHint=t.readShort(),this.indexToLocFormat=t.readShort(),this.glyphDataFormat=t.readShort()},e.prototype.encode=function(t){var n;return(n=new dc).writeInt(this.version),n.writeInt(this.revision),n.writeInt(this.checkSumAdjustment),n.writeInt(this.magicNumber),n.writeShort(this.flags),n.writeShort(this.unitsPerEm),n.writeLongLong(this.created),n.writeLongLong(this.modified),n.writeShort(this.xMin),n.writeShort(this.yMin),n.writeShort(this.xMax),n.writeShort(this.yMax),n.writeShort(this.macStyle),n.writeShort(this.lowestRecPPEM),n.writeShort(this.fontDirectionHint),n.writeShort(t),n.writeShort(this.glyphDataFormat),n.data},e}(),j8=function(){function e(t,n){var r,i,a,s,o,l,u,c,d,p,f,g,v,b,x,w,A;switch(this.platformID=t.readUInt16(),this.encodingID=t.readShort(),this.offset=n+t.readInt(),d=t.pos,t.pos=this.offset,this.format=t.readUInt16(),this.length=t.readUInt16(),this.language=t.readUInt16(),this.isUnicode=this.platformID===3&&this.encodingID===1&&this.format===4||this.platformID===0&&this.format===4,this.codeMap={},this.format){case 0:for(l=0;l<256;++l)this.codeMap[l]=t.readByte();break;case 4:for(f=t.readUInt16(),p=f/2,t.pos+=6,a=function(){var P,O;for(O=[],l=P=0;0<=p?P<p:P>p;l=0<=p?++P:--P)O.push(t.readUInt16());return O}(),t.pos+=2,v=function(){var P,O;for(O=[],l=P=0;0<=p?P<p:P>p;l=0<=p?++P:--P)O.push(t.readUInt16());return O}(),u=function(){var P,O;for(O=[],l=P=0;0<=p?P<p:P>p;l=0<=p?++P:--P)O.push(t.readUInt16());return O}(),c=function(){var P,O;for(O=[],l=P=0;0<=p?P<p:P>p;l=0<=p?++P:--P)O.push(t.readUInt16());return O}(),i=(this.length-t.pos+this.offset)/2,o=function(){var P,O;for(O=[],l=P=0;0<=i?P<i:P>i;l=0<=i?++P:--P)O.push(t.readUInt16());return O}(),l=x=0,A=a.length;x<A;l=++x)for(b=a[l],r=w=g=v[l];g<=b?w<=b:w>=b;r=g<=b?++w:--w)c[l]===0?s=r+u[l]:(s=o[c[l]/2+(r-g)-(p-l)]||0)!==0&&(s+=u[l]),this.codeMap[r]=65535&s}t.pos=d}return e.encode=function(t,n){var r,i,a,s,o,l,u,c,d,p,f,g,v,b,x,w,A,P,O,D,T,k,I,M,N,C,R,W,Y,ae,ie,H,se,ye,be,$,X,re,oe,de,ge,ce,J,pe,Ee,le;switch(W=new dc,s=Object.keys(t).sort(function(Ne,fe){return Ne-fe}),n){case"macroman":for(v=0,b=function(){var Ne=[];for(g=0;g<256;++g)Ne.push(0);return Ne}(),w={0:0},a={},Y=0,se=s.length;Y<se;Y++)w[J=t[i=s[Y]]]==null&&(w[J]=++v),a[i]={old:t[i],new:w[t[i]]},b[i]=w[t[i]];return W.writeUInt16(1),W.writeUInt16(0),W.writeUInt32(12),W.writeUInt16(0),W.writeUInt16(262),W.writeUInt16(0),W.write(b),{charMap:a,subtable:W.data,maxGlyphID:v+1};case"unicode":for(C=[],d=[],A=0,w={},r={},x=u=null,ae=0,ye=s.length;ae<ye;ae++)w[O=t[i=s[ae]]]==null&&(w[O]=++A),r[i]={old:O,new:w[O]},o=w[O]-i,x!=null&&o===u||(x&&d.push(x),C.push(i),u=o),x=i;for(x&&d.push(x),d.push(65535),C.push(65535),M=2*(I=C.length),k=2*Math.pow(Math.log(I)/Math.LN2,2),p=Math.log(k/2)/Math.LN2,T=2*I-k,l=[],D=[],f=[],g=ie=0,be=C.length;ie<be;g=++ie){if(N=C[g],c=d[g],N===65535){l.push(0),D.push(0);break}if(N-(R=r[N].new)>=32768)for(l.push(0),D.push(2*(f.length+I-g)),i=H=N;N<=c?H<=c:H>=c;i=N<=c?++H:--H)f.push(r[i].new);else l.push(R-N),D.push(0)}for(W.writeUInt16(3),W.writeUInt16(1),W.writeUInt32(12),W.writeUInt16(4),W.writeUInt16(16+8*I+2*f.length),W.writeUInt16(0),W.writeUInt16(M),W.writeUInt16(k),W.writeUInt16(p),W.writeUInt16(T),ge=0,$=d.length;ge<$;ge++)i=d[ge],W.writeUInt16(i);for(W.writeUInt16(0),ce=0,X=C.length;ce<X;ce++)i=C[ce],W.writeUInt16(i);for(pe=0,re=l.length;pe<re;pe++)o=l[pe],W.writeUInt16(o);for(Ee=0,oe=D.length;Ee<oe;Ee++)P=D[Ee],W.writeUInt16(P);for(le=0,de=f.length;le<de;le++)v=f[le],W.writeUInt16(v);return{charMap:r,subtable:W.data,maxGlyphID:A+1}}},e}(),YF=function(){function e(){return e.__super__.constructor.apply(this,arguments)}return el(e,po),e.prototype.tag="cmap",e.prototype.parse=function(t){var n,r,i;for(t.pos=this.offset,this.version=t.readUInt16(),i=t.readUInt16(),this.tables=[],this.unicode=null,r=0;0<=i?r<i:r>i;r=0<=i?++r:--r)n=new j8(t,this.offset),this.tables.push(n),n.isUnicode&&this.unicode==null&&(this.unicode=n);return!0},e.encode=function(t,n){var r,i;return n==null&&(n="macroman"),r=j8.encode(t,n),(i=new dc).writeUInt16(0),i.writeUInt16(1),r.table=i.data.concat(r.subtable),r},e}(),Cue=function(){function e(){return e.__super__.constructor.apply(this,arguments)}return el(e,po),e.prototype.tag="hhea",e.prototype.parse=function(t){return t.pos=this.offset,this.version=t.readInt(),this.ascender=t.readShort(),this.decender=t.readShort(),this.lineGap=t.readShort(),this.advanceWidthMax=t.readShort(),this.minLeftSideBearing=t.readShort(),this.minRightSideBearing=t.readShort(),this.xMaxExtent=t.readShort(),this.caretSlopeRise=t.readShort(),this.caretSlopeRun=t.readShort(),this.caretOffset=t.readShort(),t.pos+=8,this.metricDataFormat=t.readShort(),this.numberOfMetrics=t.readUInt16()},e}(),jue=function(){function e(){return e.__super__.constructor.apply(this,arguments)}return el(e,po),e.prototype.tag="OS/2",e.prototype.parse=function(t){if(t.pos=this.offset,this.version=t.readUInt16(),this.averageCharWidth=t.readShort(),this.weightClass=t.readUInt16(),this.widthClass=t.readUInt16(),this.type=t.readShort(),this.ySubscriptXSize=t.readShort(),this.ySubscriptYSize=t.readShort(),this.ySubscriptXOffset=t.readShort(),this.ySubscriptYOffset=t.readShort(),this.ySuperscriptXSize=t.readShort(),this.ySuperscriptYSize=t.readShort(),this.ySuperscriptXOffset=t.readShort(),this.ySuperscriptYOffset=t.readShort(),this.yStrikeoutSize=t.readShort(),this.yStrikeoutPosition=t.readShort(),this.familyClass=t.readShort(),this.panose=function(){var n,r;for(r=[],n=0;n<10;++n)r.push(t.readByte());return r}(),this.charRange=function(){var n,r;for(r=[],n=0;n<4;++n)r.push(t.readInt());return r}(),this.vendorID=t.readString(4),this.selection=t.readShort(),this.firstCharIndex=t.readShort(),this.lastCharIndex=t.readShort(),this.version>0&&(this.ascent=t.readShort(),this.descent=t.readShort(),this.lineGap=t.readShort(),this.winAscent=t.readShort(),this.winDescent=t.readShort(),this.codePageRange=function(){var n,r;for(r=[],n=0;n<2;n=++n)r.push(t.readInt());return r}(),this.version>1))return this.xHeight=t.readShort(),this.capHeight=t.readShort(),this.defaultChar=t.readShort(),this.breakChar=t.readShort(),this.maxContext=t.readShort()},e}(),Iue=function(){function e(){return e.__super__.constructor.apply(this,arguments)}return el(e,po),e.prototype.tag="post",e.prototype.parse=function(t){var n,r,i;switch(t.pos=this.offset,this.format=t.readInt(),this.italicAngle=t.readInt(),this.underlinePosition=t.readShort(),this.underlineThickness=t.readShort(),this.isFixedPitch=t.readInt(),this.minMemType42=t.readInt(),this.maxMemType42=t.readInt(),this.minMemType1=t.readInt(),this.maxMemType1=t.readInt(),this.format){case 65536:case 196608:break;case 131072:var a;for(r=t.readUInt16(),this.glyphNameIndex=[],a=0;0<=r?a<r:a>r;a=0<=r?++a:--a)this.glyphNameIndex.push(t.readUInt16());for(this.names=[],i=[];t.pos<this.offset+this.length;)n=t.readByte(),i.push(this.names.push(t.readString(n)));return i;case 151552:return r=t.readUInt16(),this.offsets=t.read(r);case 262144:return this.map=(function(){var s,o,l;for(l=[],a=s=0,o=this.file.maxp.numGlyphs;0<=o?s<o:s>o;a=0<=o?++s:--s)l.push(t.readUInt32());return l}).call(this)}},e}(),Oue=function(e,t){this.raw=e,this.length=e.length,this.platformID=t.platformID,this.encodingID=t.encodingID,this.languageID=t.languageID},Lue=function(){function e(){return e.__super__.constructor.apply(this,arguments)}return el(e,po),e.prototype.tag="name",e.prototype.parse=function(t){var n,r,i,a,s,o,l,u,c,d,p;for(t.pos=this.offset,t.readShort(),n=t.readShort(),o=t.readShort(),r=[],a=0;0<=n?a<n:a>n;a=0<=n?++a:--a)r.push({platformID:t.readShort(),encodingID:t.readShort(),languageID:t.readShort(),nameID:t.readShort(),length:t.readShort(),offset:this.offset+o+t.readShort()});for(l={},a=c=0,d=r.length;c<d;a=++c)i=r[a],t.pos=i.offset,u=t.readString(i.length),s=new Oue(u,i),l[p=i.nameID]==null&&(l[p]=[]),l[i.nameID].push(s);this.strings=l,this.copyright=l[0],this.fontFamily=l[1],this.fontSubfamily=l[2],this.uniqueSubfamily=l[3],this.fontName=l[4],this.version=l[5];try{this.postscriptName=l[6][0].raw.replace(/[\x00-\x19\x80-\xff]/g,"")}catch{this.postscriptName=l[4][0].raw.replace(/[\x00-\x19\x80-\xff]/g,"")}return this.trademark=l[7],this.manufacturer=l[8],this.designer=l[9],this.description=l[10],this.vendorUrl=l[11],this.designerUrl=l[12],this.license=l[13],this.licenseUrl=l[14],this.preferredFamily=l[15],this.preferredSubfamily=l[17],this.compatibleFull=l[18],this.sampleText=l[19]},e}(),Rue=function(){function e(){return e.__super__.constructor.apply(this,arguments)}return el(e,po),e.prototype.tag="maxp",e.prototype.parse=function(t){return t.pos=this.offset,this.version=t.readInt(),this.numGlyphs=t.readUInt16(),this.maxPoints=t.readUInt16(),this.maxContours=t.readUInt16(),this.maxCompositePoints=t.readUInt16(),this.maxComponentContours=t.readUInt16(),this.maxZones=t.readUInt16(),this.maxTwilightPoints=t.readUInt16(),this.maxStorage=t.readUInt16(),this.maxFunctionDefs=t.readUInt16(),this.maxInstructionDefs=t.readUInt16(),this.maxStackElements=t.readUInt16(),this.maxSizeOfInstructions=t.readUInt16(),this.maxComponentElements=t.readUInt16(),this.maxComponentDepth=t.readUInt16()},e}(),Mue=function(){function e(){return e.__super__.constructor.apply(this,arguments)}return el(e,po),e.prototype.tag="hmtx",e.prototype.parse=function(t){var n,r,i,a,s,o,l;for(t.pos=this.offset,this.metrics=[],n=0,o=this.file.hhea.numberOfMetrics;0<=o?n<o:n>o;n=0<=o?++n:--n)this.metrics.push({advance:t.readUInt16(),lsb:t.readInt16()});for(i=this.file.maxp.numGlyphs-this.file.hhea.numberOfMetrics,this.leftSideBearings=function(){var u,c;for(c=[],n=u=0;0<=i?u<i:u>i;n=0<=i?++u:--u)c.push(t.readInt16());return c}(),this.widths=(function(){var u,c,d,p;for(p=[],u=0,c=(d=this.metrics).length;u<c;u++)a=d[u],p.push(a.advance);return p}).call(this),r=this.widths[this.widths.length-1],l=[],n=s=0;0<=i?s<i:s>i;n=0<=i?++s:--s)l.push(this.widths.push(r));return l},e.prototype.forGlyph=function(t){return t in this.metrics?this.metrics[t]:{advance:this.metrics[this.metrics.length-1].advance,lsb:this.leftSideBearings[t-this.metrics.length]}},e}(),XF=[].slice,Due=function(){function e(){return e.__super__.constructor.apply(this,arguments)}return el(e,po),e.prototype.tag="glyf",e.prototype.parse=function(){return this.cache={}},e.prototype.glyphFor=function(t){var n,r,i,a,s,o,l,u,c,d;return t in this.cache?this.cache[t]:(a=this.file.loca,n=this.file.contents,r=a.indexOf(t),(i=a.lengthOf(t))===0?this.cache[t]=null:(n.pos=this.offset+r,s=(o=new dc(n.read(i))).readShort(),u=o.readShort(),d=o.readShort(),l=o.readShort(),c=o.readShort(),this.cache[t]=s===-1?new Bue(o,u,d,l,c):new Fue(o,s,u,d,l,c),this.cache[t]))},e.prototype.encode=function(t,n,r){var i,a,s,o,l;for(s=[],a=[],o=0,l=n.length;o<l;o++)i=t[n[o]],a.push(s.length),i&&(s=s.concat(i.encode(r)));return a.push(s.length),{table:s,offsets:a}},e}(),Fue=function(){function e(t,n,r,i,a,s){this.raw=t,this.numberOfContours=n,this.xMin=r,this.yMin=i,this.xMax=a,this.yMax=s,this.compound=!1}return e.prototype.encode=function(){return this.raw.data},e}(),Bue=function(){function e(t,n,r,i,a){var s,o;for(this.raw=t,this.xMin=n,this.yMin=r,this.xMax=i,this.yMax=a,this.compound=!0,this.glyphIDs=[],this.glyphOffsets=[],s=this.raw;o=s.readShort(),this.glyphOffsets.push(s.pos),this.glyphIDs.push(s.readUInt16()),32&o;)s.pos+=1&o?4:2,128&o?s.pos+=8:64&o?s.pos+=4:8&o&&(s.pos+=2)}return e.prototype.encode=function(){var t,n,r;for(n=new dc(XF.call(this.raw.data)),t=0,r=this.glyphIDs.length;t<r;++t)n.pos=this.glyphOffsets[t];return n.data},e}(),Vue=function(){function e(){return e.__super__.constructor.apply(this,arguments)}return el(e,po),e.prototype.tag="loca",e.prototype.parse=function(t){var n,r;return t.pos=this.offset,n=this.file.head.indexToLocFormat,this.offsets=n===0?(function(){var i,a;for(a=[],r=0,i=this.length;r<i;r+=2)a.push(2*t.readUInt16());return a}).call(this):(function(){var i,a;for(a=[],r=0,i=this.length;r<i;r+=4)a.push(t.readUInt32());return a}).call(this)},e.prototype.indexOf=function(t){return this.offsets[t]},e.prototype.lengthOf=function(t){return this.offsets[t+1]-this.offsets[t]},e.prototype.encode=function(t,n){for(var r=new Uint32Array(this.offsets.length),i=0,a=0,s=0;s<r.length;++s)if(r[s]=i,a<n.length&&n[a]==s){++a,r[s]=i;var o=this.offsets[s],l=this.offsets[s+1]-o;l>0&&(i+=l)}for(var u=new Array(4*r.length),c=0;c<r.length;++c)u[4*c+3]=255&r[c],u[4*c+2]=(65280&r[c])>>8,u[4*c+1]=(16711680&r[c])>>16,u[4*c]=(4278190080&r[c])>>24;return u},e}(),zue=function(){function e(t){this.font=t,this.subset={},this.unicodes={},this.next=33}return e.prototype.generateCmap=function(){var t,n,r,i,a;for(n in i=this.font.cmap.tables[0].codeMap,t={},a=this.subset)r=a[n],t[n]=i[r];return t},e.prototype.glyphsFor=function(t){var n,r,i,a,s,o,l;for(i={},s=0,o=t.length;s<o;s++)i[a=t[s]]=this.font.glyf.glyphFor(a);for(a in n=[],i)(r=i[a])!=null&&r.compound&&n.push.apply(n,r.glyphIDs);if(n.length>0)for(a in l=this.glyphsFor(n))r=l[a],i[a]=r;return i},e.prototype.encode=function(t,n){var r,i,a,s,o,l,u,c,d,p,f,g,v,b,x;for(i in r=YF.encode(this.generateCmap(),"unicode"),s=this.glyphsFor(t),f={0:0},x=r.charMap)f[(l=x[i]).old]=l.new;for(g in p=r.maxGlyphID,s)g in f||(f[g]=p++);return c=function(w){var A,P;for(A in P={},w)P[w[A]]=A;return P}(f),d=Object.keys(c).sort(function(w,A){return w-A}),v=function(){var w,A,P;for(P=[],w=0,A=d.length;w<A;w++)o=d[w],P.push(c[o]);return P}(),a=this.font.glyf.encode(s,v,f),u=this.font.loca.encode(a.offsets,v),b={cmap:this.font.cmap.raw(),glyf:a.table,loca:u,hmtx:this.font.hmtx.raw(),hhea:this.font.hhea.raw(),maxp:this.font.maxp.raw(),post:this.font.post.raw(),name:this.font.name.raw(),head:this.font.head.encode(n)},this.font.os2.exists&&(b["OS/2"]=this.font.os2.raw()),this.font.directory.encode(b)},e}();ut.API.PDFObject=function(){var e;function t(){}return e=function(n,r){return(Array(r+1).join("0")+n).slice(-r)},t.convert=function(n){var r,i,a,s;if(Array.isArray(n))return"["+function(){var o,l,u;for(u=[],o=0,l=n.length;o<l;o++)r=n[o],u.push(t.convert(r));return u}().join(" ")+"]";if(typeof n=="string")return"/"+n;if(n!=null&&n.isString)return"("+n+")";if(n instanceof Date)return"(D:"+e(n.getUTCFullYear(),4)+e(n.getUTCMonth(),2)+e(n.getUTCDate(),2)+e(n.getUTCHours(),2)+e(n.getUTCMinutes(),2)+e(n.getUTCSeconds(),2)+"Z)";if({}.toString.call(n)==="[object Object]"){for(i in a=["<<"],n)s=n[i],a.push("/"+i+" "+t.convert(s));return a.push(">>"),a.join(`
`)}return""+n},t}();function QF(e,t,n,r,i){r=r||{};var a=1.15,s=i.internal.scaleFactor,o=i.internal.getFontSize()/s,l=i.getLineHeightFactor?i.getLineHeightFactor():a,u=o*l,c=/\r\n|\r|\n/g,d="",p=1;if((r.valign==="middle"||r.valign==="bottom"||r.halign==="center"||r.halign==="right")&&(d=typeof e=="string"?e.split(c):e,p=d.length||1),n+=o*(2-a),r.valign==="middle"?n-=p/2*u:r.valign==="bottom"&&(n-=p*u),r.halign==="center"||r.halign==="right"){var f=o;if(r.halign==="center"&&(f*=.5),d&&p>=1){for(var g=0;g<d.length;g++)i.text(d[g],t-i.getStringUnitWidth(d[g])*f,n),n+=u;return i}t-=i.getStringUnitWidth(e)*f}return r.halign==="justify"?i.text(e,t,n,{maxWidth:r.maxWidth||100,align:"justify"}):i.text(e,t,n),i}var I8={},Yf=function(){function e(t){this.jsPDFDocument=t,this.userStyles={textColor:t.getTextColor?this.jsPDFDocument.getTextColor():0,fontSize:t.internal.getFontSize(),fontStyle:t.internal.getFont().fontStyle,font:t.internal.getFont().fontName,lineWidth:t.getLineWidth?this.jsPDFDocument.getLineWidth():0,lineColor:t.getDrawColor?this.jsPDFDocument.getDrawColor():0}}return e.setDefaults=function(t,n){n===void 0&&(n=null),n?n.__autoTableDocumentDefaults=t:I8=t},e.unifyColor=function(t){return Array.isArray(t)?t:typeof t=="number"?[t,t,t]:typeof t=="string"?[t]:null},e.prototype.applyStyles=function(t,n){var r,i,a;n===void 0&&(n=!1),t.fontStyle&&this.jsPDFDocument.setFontStyle&&this.jsPDFDocument.setFontStyle(t.fontStyle);var s=this.jsPDFDocument.internal.getFont(),o=s.fontStyle,l=s.fontName;if(t.font&&(l=t.font),t.fontStyle){o=t.fontStyle;var u=this.getFontList()[l];u&&u.indexOf(o)===-1&&this.jsPDFDocument.setFontStyle&&(this.jsPDFDocument.setFontStyle(u[0]),o=u[0])}if(this.jsPDFDocument.setFont(l,o),t.fontSize&&this.jsPDFDocument.setFontSize(t.fontSize),!n){var c=e.unifyColor(t.fillColor);c&&(r=this.jsPDFDocument).setFillColor.apply(r,c),c=e.unifyColor(t.textColor),c&&(i=this.jsPDFDocument).setTextColor.apply(i,c),c=e.unifyColor(t.lineColor),c&&(a=this.jsPDFDocument).setDrawColor.apply(a,c),typeof t.lineWidth=="number"&&this.jsPDFDocument.setLineWidth(t.lineWidth)}},e.prototype.splitTextToSize=function(t,n,r){return this.jsPDFDocument.splitTextToSize(t,n,r)},e.prototype.rect=function(t,n,r,i,a){return this.jsPDFDocument.rect(t,n,r,i,a)},e.prototype.getLastAutoTable=function(){return this.jsPDFDocument.lastAutoTable||null},e.prototype.getTextWidth=function(t){return this.jsPDFDocument.getTextWidth(t)},e.prototype.getDocument=function(){return this.jsPDFDocument},e.prototype.setPage=function(t){this.jsPDFDocument.setPage(t)},e.prototype.addPage=function(){return this.jsPDFDocument.addPage()},e.prototype.getFontList=function(){return this.jsPDFDocument.getFontList()},e.prototype.getGlobalOptions=function(){return I8||{}},e.prototype.getDocumentOptions=function(){return this.jsPDFDocument.__autoTableDocumentDefaults||{}},e.prototype.pageSize=function(){var t=this.jsPDFDocument.internal.pageSize;return t.width==null&&(t={width:t.getWidth(),height:t.getHeight()}),t},e.prototype.scaleFactor=function(){return this.jsPDFDocument.internal.scaleFactor},e.prototype.getLineHeightFactor=function(){var t=this.jsPDFDocument;return t.getLineHeightFactor?t.getLineHeightFactor():1.15},e.prototype.getLineHeight=function(t){return t/this.scaleFactor()*this.getLineHeightFactor()},e.prototype.pageNumber=function(){var t=this.jsPDFDocument.internal.getCurrentPageInfo();return t?t.pageNumber:this.jsPDFDocument.internal.getNumberOfPages()},e}(),l3=function(e,t){return l3=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,r){n.__proto__=r}||function(n,r){for(var i in r)Object.prototype.hasOwnProperty.call(r,i)&&(n[i]=r[i])},l3(e,t)};function ZF(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");l3(e,t);function n(){this.constructor=e}e.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}var JF=function(e){ZF(t,e);function t(n){var r=e.call(this)||this;return r._element=n,r}return t}(Array);function $ue(e){return{font:"helvetica",fontStyle:"normal",overflow:"linebreak",fillColor:!1,textColor:20,halign:"left",valign:"top",fontSize:10,cellPadding:5/e,lineColor:200,lineWidth:0,cellWidth:"auto",minCellHeight:0,minCellWidth:0}}function Uue(e){var t={striped:{table:{fillColor:255,textColor:80,fontStyle:"normal"},head:{textColor:255,fillColor:[41,128,185],fontStyle:"bold"},body:{},foot:{textColor:255,fillColor:[41,128,185],fontStyle:"bold"},alternateRow:{fillColor:245}},grid:{table:{fillColor:255,textColor:80,fontStyle:"normal",lineWidth:.1},head:{textColor:255,fillColor:[26,188,156],fontStyle:"bold",lineWidth:0},body:{},foot:{textColor:255,fillColor:[26,188,156],fontStyle:"bold",lineWidth:0},alternateRow:{}},plain:{head:{fontStyle:"bold"},foot:{fontStyle:"bold"}}};return t[e]}function sy(e,t,n){n.applyStyles(t,!0);var r=Array.isArray(e)?e:[e],i=r.map(function(a){return n.getTextWidth(a)}).reduce(function(a,s){return Math.max(a,s)},0);return i}function eB(e,t,n,r){var i=t.settings.tableLineWidth,a=t.settings.tableLineColor;e.applyStyles({lineWidth:i,lineColor:a});var s=tB(i,!1);s&&e.rect(n.x,n.y,t.getWidth(e.pageSize().width),r.y-n.y,s)}function tB(e,t){var n=e>0,r=t||t===0;return n&&r?"DF":n?"S":r?"F":null}function H2(e,t){var n,r,i,a;if(e=e||t,Array.isArray(e)){if(e.length>=4)return{top:e[0],right:e[1],bottom:e[2],left:e[3]};if(e.length===3)return{top:e[0],right:e[1],bottom:e[2],left:e[1]};if(e.length===2)return{top:e[0],right:e[1],bottom:e[0],left:e[1]};e.length===1?e=e[0]:e=t}return typeof e=="object"?(typeof e.vertical=="number"&&(e.top=e.vertical,e.bottom=e.vertical),typeof e.horizontal=="number"&&(e.right=e.horizontal,e.left=e.horizontal),{left:(n=e.left)!==null&&n!==void 0?n:t,top:(r=e.top)!==null&&r!==void 0?r:t,right:(i=e.right)!==null&&i!==void 0?i:t,bottom:(a=e.bottom)!==null&&a!==void 0?a:t}):(typeof e!="number"&&(e=t),{top:e,right:e,bottom:e,left:e})}function nB(e,t){var n=H2(t.settings.margin,0);return e.pageSize().width-(n.left+n.right)}function Wue(e,t,n,r,i){var a={},s=1.3333333333333333,o=Lw(t,function(A){return i.getComputedStyle(A).backgroundColor});o!=null&&(a.fillColor=o);var l=Lw(t,function(A){return i.getComputedStyle(A).color});l!=null&&(a.textColor=l);var u=Hue(r,n);u&&(a.cellPadding=u);var c="borderTopColor",d=s*n,p=r.borderTopWidth;if(r.borderBottomWidth===p&&r.borderRightWidth===p&&r.borderLeftWidth===p){var f=(parseFloat(p)||0)/d;f&&(a.lineWidth=f)}else a.lineWidth={top:(parseFloat(r.borderTopWidth)||0)/d,right:(parseFloat(r.borderRightWidth)||0)/d,bottom:(parseFloat(r.borderBottomWidth)||0)/d,left:(parseFloat(r.borderLeftWidth)||0)/d},a.lineWidth.top||(a.lineWidth.right?c="borderRightColor":a.lineWidth.bottom?c="borderBottomColor":a.lineWidth.left&&(c="borderLeftColor"));var g=Lw(t,function(A){return i.getComputedStyle(A)[c]});g!=null&&(a.lineColor=g);var v=["left","right","center","justify"];v.indexOf(r.textAlign)!==-1&&(a.halign=r.textAlign),v=["middle","bottom","top"],v.indexOf(r.verticalAlign)!==-1&&(a.valign=r.verticalAlign);var b=parseInt(r.fontSize||"");isNaN(b)||(a.fontSize=b/s);var x=que(r);x&&(a.fontStyle=x);var w=(r.fontFamily||"").toLowerCase();return e.indexOf(w)!==-1&&(a.font=w),a}function que(e){var t="";return(e.fontWeight==="bold"||e.fontWeight==="bolder"||parseInt(e.fontWeight)>=700)&&(t="bold"),(e.fontStyle==="italic"||e.fontStyle==="oblique")&&(t+="italic"),t}function Lw(e,t){var n=rB(e,t);if(!n)return null;var r=n.match(/^rgba?\((\d+),\s*(\d+),\s*(\d+)(?:,\s*(\d*\.?\d*))?\)$/);if(!r||!Array.isArray(r))return null;var i=[parseInt(r[1]),parseInt(r[2]),parseInt(r[3])],a=parseInt(r[4]);return a===0||isNaN(i[0])||isNaN(i[1])||isNaN(i[2])?null:i}function rB(e,t){var n=t(e);return n==="rgba(0, 0, 0, 0)"||n==="transparent"||n==="initial"||n==="inherit"?e.parentElement==null?null:rB(e.parentElement,t):n}function Hue(e,t){var n=[e.paddingTop,e.paddingRight,e.paddingBottom,e.paddingLeft],r=96/(72/t),i=(parseInt(e.lineHeight)-parseInt(e.fontSize))/t/2,a=n.map(function(o){return parseInt(o||"0")/r}),s=H2(a,0);return i>s.top&&(s.top=i),i>s.bottom&&(s.bottom=i),s}function iB(e,t,n,r,i){var a,s;r===void 0&&(r=!1),i===void 0&&(i=!1);var o;typeof t=="string"?o=n.document.querySelector(t):o=t;var l=Object.keys(e.getFontList()),u=e.scaleFactor(),c=[],d=[],p=[];if(!o)return console.error("Html table could not be found with input: ",t),{head:c,body:d,foot:p};for(var f=0;f<o.rows.length;f++){var g=o.rows[f],v=(s=(a=g==null?void 0:g.parentElement)===null||a===void 0?void 0:a.tagName)===null||s===void 0?void 0:s.toLowerCase(),b=Kue(l,u,n,g,r,i);b&&(v==="thead"?c.push(b):v==="tfoot"?p.push(b):d.push(b))}return{head:c,body:d,foot:p}}function Kue(e,t,n,r,i,a){for(var s=new JF(r),o=0;o<r.cells.length;o++){var l=r.cells[o],u=n.getComputedStyle(l);if(i||u.display!=="none"){var c=void 0;a&&(c=Wue(e,l,t,u,n)),s.push({rowSpan:l.rowSpan,colSpan:l.colSpan,styles:c,_element:l,content:Gue(l)})}}var d=n.getComputedStyle(r);if(s.length>0&&(i||d.display!=="none"))return s}function Gue(e){var t=e.cloneNode(!0);return t.innerHTML=t.innerHTML.replace(/\n/g,"").replace(/ +/g," "),t.innerHTML=t.innerHTML.split(/<br.*?>/).map(function(n){return n.trim()}).join(`
`),t.innerText||t.textContent||""}function Yue(e,t,n){for(var r=0,i=[e,t,n];r<i.length;r++){var a=i[r];a&&typeof a!="object"&&console.error("The options parameter should be of type object, is: "+typeof a),a.startY&&typeof a.startY!="number"&&(console.error("Invalid value for startY option",a.startY),delete a.startY)}}function Pl(e,t,n,r,i){if(e==null)throw new TypeError("Cannot convert undefined or null to object");for(var a=Object(e),s=1;s<arguments.length;s++){var o=arguments[s];if(o!=null)for(var l in o)Object.prototype.hasOwnProperty.call(o,l)&&(a[l]=o[l])}return a}function aB(e,t){var n=new Yf(e),r=n.getDocumentOptions(),i=n.getGlobalOptions();Yue(i,r,t);var a=Pl({},i,r,t),s;typeof window<"u"&&(s=window);var o=Xue(i,r,t),l=Que(i,r,t),u=Zue(n,a),c=ece(n,a,s);return{id:t.tableId,content:c,hooks:l,styles:o,settings:u}}function Xue(e,t,n){for(var r={styles:{},headStyles:{},bodyStyles:{},footStyles:{},alternateRowStyles:{},columnStyles:{}},i=function(l){if(l==="columnStyles"){var u=e[l],c=t[l],d=n[l];r.columnStyles=Pl({},u,c,d)}else{var p=[e,t,n],f=p.map(function(g){return g[l]||{}});r[l]=Pl({},f[0],f[1],f[2])}},a=0,s=Object.keys(r);a<s.length;a++){var o=s[a];i(o)}return r}function Que(e,t,n){for(var r=[e,t,n],i={didParseCell:[],willDrawCell:[],didDrawCell:[],willDrawPage:[],didDrawPage:[]},a=0,s=r;a<s.length;a++){var o=s[a];o.didParseCell&&i.didParseCell.push(o.didParseCell),o.willDrawCell&&i.willDrawCell.push(o.willDrawCell),o.didDrawCell&&i.didDrawCell.push(o.didDrawCell),o.willDrawPage&&i.willDrawPage.push(o.willDrawPage),o.didDrawPage&&i.didDrawPage.push(o.didDrawPage)}return i}function Zue(e,t){var n,r,i,a,s,o,l,u,c,d,p,f,g=H2(t.margin,40/e.scaleFactor()),v=(n=Jue(e,t.startY))!==null&&n!==void 0?n:g.top,b;t.showFoot===!0?b="everyPage":t.showFoot===!1?b="never":b=(r=t.showFoot)!==null&&r!==void 0?r:"everyPage";var x;t.showHead===!0?x="everyPage":t.showHead===!1?x="never":x=(i=t.showHead)!==null&&i!==void 0?i:"everyPage";var w=(a=t.useCss)!==null&&a!==void 0?a:!1,A=t.theme||(w?"plain":"striped"),P=!!t.horizontalPageBreak,O=(s=t.horizontalPageBreakRepeat)!==null&&s!==void 0?s:null;return{includeHiddenHtml:(o=t.includeHiddenHtml)!==null&&o!==void 0?o:!1,useCss:w,theme:A,startY:v,margin:g,pageBreak:(l=t.pageBreak)!==null&&l!==void 0?l:"auto",rowPageBreak:(u=t.rowPageBreak)!==null&&u!==void 0?u:"auto",tableWidth:(c=t.tableWidth)!==null&&c!==void 0?c:"auto",showHead:x,showFoot:b,tableLineWidth:(d=t.tableLineWidth)!==null&&d!==void 0?d:0,tableLineColor:(p=t.tableLineColor)!==null&&p!==void 0?p:200,horizontalPageBreak:P,horizontalPageBreakRepeat:O,horizontalPageBreakBehaviour:(f=t.horizontalPageBreakBehaviour)!==null&&f!==void 0?f:"afterAllRows"}}function Jue(e,t){var n=e.getLastAutoTable(),r=e.scaleFactor(),i=e.pageNumber(),a=!1;if(n&&n.startPageNumber){var s=n.startPageNumber+n.pageNumber-1;a=s===i}return typeof t=="number"?t:(t==null||t===!1)&&a&&(n==null?void 0:n.finalY)!=null?n.finalY+20/r:null}function ece(e,t,n){var r=t.head||[],i=t.body||[],a=t.foot||[];if(t.html){var s=t.includeHiddenHtml;if(n){var o=iB(e,t.html,n,s,t.useCss)||{};r=o.head||r,i=o.body||r,a=o.foot||r}else console.error("Cannot parse html in non browser environment")}var l=t.columns||tce(r,i,a);return{columns:l,head:r,body:i,foot:a}}function tce(e,t,n){var r=e[0]||t[0]||n[0]||[],i=[];return Object.keys(r).filter(function(a){return a!=="_element"}).forEach(function(a){var s=1,o;Array.isArray(r)?o=r[parseInt(a)]:o=r[a],typeof o=="object"&&!Array.isArray(o)&&(s=(o==null?void 0:o.colSpan)||1);for(var l=0;l<s;l++){var u=void 0;Array.isArray(r)?u=i.length:u=a+(l>0?"_".concat(l):"");var c={dataKey:u};i.push(c)}}),i}var u3=function(){function e(t,n,r){this.table=n,this.pageNumber=n.pageNumber,this.settings=n.settings,this.cursor=r,this.doc=t.getDocument()}return e}(),nce=function(e){ZF(t,e);function t(n,r,i,a,s,o){var l=e.call(this,n,r,o)||this;return l.cell=i,l.row=a,l.column=s,l.section=a.section,l}return t}(u3),rce=function(){function e(t,n){this.pageNumber=1,this.id=t.id,this.settings=t.settings,this.styles=t.styles,this.hooks=t.hooks,this.columns=n.columns,this.head=n.head,this.body=n.body,this.foot=n.foot}return e.prototype.getHeadHeight=function(t){return this.head.reduce(function(n,r){return n+r.getMaxCellHeight(t)},0)},e.prototype.getFootHeight=function(t){return this.foot.reduce(function(n,r){return n+r.getMaxCellHeight(t)},0)},e.prototype.allRows=function(){return this.head.concat(this.body).concat(this.foot)},e.prototype.callCellHooks=function(t,n,r,i,a,s){for(var o=0,l=n;o<l.length;o++){var u=l[o],c=new nce(t,this,r,i,a,s),d=u(c)===!1;if(r.text=Array.isArray(r.text)?r.text:[r.text],d)return!1}return!0},e.prototype.callEndPageHooks=function(t,n){t.applyStyles(t.userStyles);for(var r=0,i=this.hooks.didDrawPage;r<i.length;r++){var a=i[r];a(new u3(t,this,n))}},e.prototype.callWillDrawPageHooks=function(t,n){for(var r=0,i=this.hooks.willDrawPage;r<i.length;r++){var a=i[r];a(new u3(t,this,n))}},e.prototype.getWidth=function(t){if(typeof this.settings.tableWidth=="number")return this.settings.tableWidth;if(this.settings.tableWidth==="wrap"){var n=this.columns.reduce(function(i,a){return i+a.wrappedWidth},0);return n}else{var r=this.settings.margin;return t-r.left-r.right}},e}(),sB=function(){function e(t,n,r,i,a){a===void 0&&(a=!1),this.height=0,this.raw=t,t instanceof JF&&(this.raw=t._element,this.element=t._element),this.index=n,this.section=r,this.cells=i,this.spansMultiplePages=a}return e.prototype.getMaxCellHeight=function(t){var n=this;return t.reduce(function(r,i){var a;return Math.max(r,((a=n.cells[i.index])===null||a===void 0?void 0:a.height)||0)},0)},e.prototype.hasRowSpan=function(t){var n=this;return t.filter(function(r){var i=n.cells[r.index];return i?i.rowSpan>1:!1}).length>0},e.prototype.canEntireRowFit=function(t,n){return this.getMaxCellHeight(n)<=t},e.prototype.getMinimumRowHeight=function(t,n){var r=this;return t.reduce(function(i,a){var s=r.cells[a.index];if(!s)return 0;var o=n.getLineHeight(s.styles.fontSize),l=s.padding("vertical"),u=l+o;return u>i?u:i},0)},e}(),oB=function(){function e(t,n,r){var i;this.contentHeight=0,this.contentWidth=0,this.wrappedWidth=0,this.minReadableWidth=0,this.minWidth=0,this.width=0,this.height=0,this.x=0,this.y=0,this.styles=n,this.section=r,this.raw=t;var a=t;t!=null&&typeof t=="object"&&!Array.isArray(t)?(this.rowSpan=t.rowSpan||1,this.colSpan=t.colSpan||1,a=(i=t.content)!==null&&i!==void 0?i:t,t._element&&(this.raw=t._element)):(this.rowSpan=1,this.colSpan=1);var s=a!=null?""+a:"",o=/\r\n|\r|\n/g;this.text=s.split(o)}return e.prototype.getTextPos=function(){var t;if(this.styles.valign==="top")t=this.y+this.padding("top");else if(this.styles.valign==="bottom")t=this.y+this.height-this.padding("bottom");else{var n=this.height-this.padding("vertical");t=this.y+n/2+this.padding("top")}var r;if(this.styles.halign==="right")r=this.x+this.width-this.padding("right");else if(this.styles.halign==="center"){var i=this.width-this.padding("horizontal");r=this.x+i/2+this.padding("left")}else r=this.x+this.padding("left");return{x:r,y:t}},e.prototype.getContentHeight=function(t,n){n===void 0&&(n=1.15);var r=Array.isArray(this.text)?this.text.length:1,i=this.styles.fontSize/t*n,a=r*i+this.padding("vertical");return Math.max(a,this.styles.minCellHeight)},e.prototype.padding=function(t){var n=H2(this.styles.cellPadding,0);return t==="vertical"?n.top+n.bottom:t==="horizontal"?n.left+n.right:n[t]},e}(),ice=function(){function e(t,n,r){this.wrappedWidth=0,this.minReadableWidth=0,this.minWidth=0,this.width=0,this.dataKey=t,this.raw=n,this.index=r}return e.prototype.getMaxCustomCellWidth=function(t){for(var n=0,r=0,i=t.allRows();r<i.length;r++){var a=i[r],s=a.cells[this.index];s&&typeof s.styles.cellWidth=="number"&&(n=Math.max(n,s.styles.cellWidth))}return n},e}();function ace(e,t){sce(e,t);var n=[],r=0;t.columns.forEach(function(a){var s=a.getMaxCustomCellWidth(t);s?a.width=s:(a.width=a.wrappedWidth,n.push(a)),r+=a.width});var i=t.getWidth(e.pageSize().width)-r;i&&(i=c3(n,i,function(a){return Math.max(a.minReadableWidth,a.minWidth)})),i&&(i=c3(n,i,function(a){return a.minWidth})),i=Math.abs(i),!t.settings.horizontalPageBreak&&i>.1/e.scaleFactor()&&(i=i<1?i:Math.round(i),console.warn("Of the table content, ".concat(i," units width could not fit page"))),lce(t),uce(t,e),oce(t)}function sce(e,t){var n=e.scaleFactor(),r=t.settings.horizontalPageBreak,i=nB(e,t);t.allRows().forEach(function(a){for(var s=0,o=t.columns;s<o.length;s++){var l=o[s],u=a.cells[l.index];if(u){var c=t.hooks.didParseCell;t.callCellHooks(e,c,u,a,l,null);var d=u.padding("horizontal");u.contentWidth=sy(u.text,u.styles,e)+d;var p=sy(u.text.join(" ").split(/[^\S\u00A0]+/),u.styles,e);if(u.minReadableWidth=p+u.padding("horizontal"),typeof u.styles.cellWidth=="number")u.minWidth=u.styles.cellWidth,u.wrappedWidth=u.styles.cellWidth;else if(u.styles.cellWidth==="wrap"||r===!0)u.contentWidth>i?(u.minWidth=i,u.wrappedWidth=i):(u.minWidth=u.contentWidth,u.wrappedWidth=u.contentWidth);else{var f=10/n;u.minWidth=u.styles.minCellWidth||f,u.wrappedWidth=u.contentWidth,u.minWidth>u.wrappedWidth&&(u.wrappedWidth=u.minWidth)}}}}),t.allRows().forEach(function(a){for(var s=0,o=t.columns;s<o.length;s++){var l=o[s],u=a.cells[l.index];if(u&&u.colSpan===1)l.wrappedWidth=Math.max(l.wrappedWidth,u.wrappedWidth),l.minWidth=Math.max(l.minWidth,u.minWidth),l.minReadableWidth=Math.max(l.minReadableWidth,u.minReadableWidth);else{var c=t.styles.columnStyles[l.dataKey]||t.styles.columnStyles[l.index]||{},d=c.cellWidth||c.minCellWidth;d&&typeof d=="number"&&(l.minWidth=d,l.wrappedWidth=d)}u&&(u.colSpan>1&&!l.minWidth&&(l.minWidth=u.minWidth),u.colSpan>1&&!l.wrappedWidth&&(l.wrappedWidth=u.minWidth))}})}function c3(e,t,n){for(var r=t,i=e.reduce(function(f,g){return f+g.wrappedWidth},0),a=0;a<e.length;a++){var s=e[a],o=s.wrappedWidth/i,l=r*o,u=s.width+l,c=n(s),d=u<c?c:u;t-=d-s.width,s.width=d}if(t=Math.round(t*1e10)/1e10,t){var p=e.filter(function(f){return t<0?f.width>n(f):!0});p.length&&(t=c3(p,t,n))}return t}function oce(e){for(var t={},n=1,r=e.allRows(),i=0;i<r.length;i++)for(var a=r[i],s=0,o=e.columns;s<o.length;s++){var l=o[s],u=t[l.index];if(n>1)n--,delete a.cells[l.index];else if(u)u.cell.height+=a.height,n=u.cell.colSpan,delete a.cells[l.index],u.left--,u.left<=1&&delete t[l.index];else{var c=a.cells[l.index];if(!c)continue;if(c.height=a.height,c.rowSpan>1){var d=r.length-i,p=c.rowSpan>d?d:c.rowSpan;t[l.index]={cell:c,left:p,row:a}}}}}function lce(e){for(var t=e.allRows(),n=0;n<t.length;n++)for(var r=t[n],i=null,a=0,s=0,o=0;o<e.columns.length;o++){var l=e.columns[o];if(s-=1,s>1&&e.columns[o+1])a+=l.width,delete r.cells[l.index];else if(i){var u=i;delete r.cells[l.index],i=null,u.width=l.width+a}else{var u=r.cells[l.index];if(!u)continue;if(s=u.colSpan,a=0,u.colSpan>1){i=u,a+=l.width;continue}u.width=l.width+a}}}function uce(e,t){for(var n={count:0,height:0},r=0,i=e.allRows();r<i.length;r++){for(var a=i[r],s=0,o=e.columns;s<o.length;s++){var l=o[s],u=a.cells[l.index];if(u){t.applyStyles(u.styles,!0);var c=u.width-u.padding("horizontal");if(u.styles.overflow==="linebreak")u.text=t.splitTextToSize(u.text,c+1/t.scaleFactor(),{fontSize:u.styles.fontSize});else if(u.styles.overflow==="ellipsize")u.text=O8(u.text,c,u.styles,t,"...");else if(u.styles.overflow==="hidden")u.text=O8(u.text,c,u.styles,t,"");else if(typeof u.styles.overflow=="function"){var d=u.styles.overflow(u.text,c);typeof d=="string"?u.text=[d]:u.text=d}u.contentHeight=u.getContentHeight(t.scaleFactor(),t.getLineHeightFactor());var p=u.contentHeight/u.rowSpan;u.rowSpan>1&&n.count*n.height<p*u.rowSpan?n={height:p,count:u.rowSpan}:n&&n.count>0&&n.height>p&&(p=n.height),p>a.height&&(a.height=p)}}n.count--}}function O8(e,t,n,r,i){return e.map(function(a){return cce(a,t,n,r,i)})}function cce(e,t,n,r,i){var a=1e4*r.scaleFactor();if(t=Math.ceil(t*a)/a,t>=sy(e,n,r))return e;for(;t<sy(e+i,n,r)&&!(e.length<=1);)e=e.substring(0,e.length-1);return e.trim()+i}function lB(e,t){var n=new Yf(e),r=dce(t,n.scaleFactor()),i=new rce(t,r);return ace(n,i),n.applyStyles(n.userStyles),i}function dce(e,t){var n=e.content,r=hce(n.columns);if(n.head.length===0){var i=L8(r,"head");i&&n.head.push(i)}if(n.foot.length===0){var i=L8(r,"foot");i&&n.foot.push(i)}var a=e.settings.theme,s=e.styles;return{columns:r,head:Rw("head",n.head,r,s,a,t),body:Rw("body",n.body,r,s,a,t),foot:Rw("foot",n.foot,r,s,a,t)}}function Rw(e,t,n,r,i,a){var s={},o=t.map(function(l,u){for(var c=0,d={},p=0,f=0,g=0,v=n;g<v.length;g++){var b=v[g];if(s[b.index]==null||s[b.index].left===0)if(f===0){var x=void 0;Array.isArray(l)?x=l[b.index-p-c]:x=l[b.dataKey];var w={};typeof x=="object"&&!Array.isArray(x)&&(w=(x==null?void 0:x.styles)||{});var A=pce(e,b,u,i,r,a,w),P=new oB(x,A,e);d[b.dataKey]=P,d[b.index]=P,f=P.colSpan-1,s[b.index]={left:P.rowSpan-1,times:f}}else f--,p++;else s[b.index].left--,f=s[b.index].times,c++}return new sB(l,u,e,d)});return o}function L8(e,t){var n={};return e.forEach(function(r){if(r.raw!=null){var i=fce(t,r.raw);i!=null&&(n[r.dataKey]=i)}}),Object.keys(n).length>0?n:null}function fce(e,t){if(e==="head"){if(typeof t=="object")return t.header||null;if(typeof t=="string"||typeof t=="number")return t}else if(e==="foot"&&typeof t=="object")return t.footer;return null}function hce(e){return e.map(function(t,n){var r,i;return typeof t=="object"?i=(r=t.dataKey)!==null&&r!==void 0?r:n:i=n,new ice(i,t,n)})}function pce(e,t,n,r,i,a,s){var o=Uue(r),l;e==="head"?l=i.headStyles:e==="body"?l=i.bodyStyles:e==="foot"&&(l=i.footStyles);var u=Pl({},o.table,o[e],i.styles,l),c=i.columnStyles[t.dataKey]||i.columnStyles[t.index]||{},d=e==="body"?c:{},p=e==="body"&&n%2===0?Pl({},o.alternateRow,i.alternateRowStyles):{},f=$ue(a),g=Pl({},f,u,p,d);return Pl(g,s)}function mce(e,t,n){var r;n===void 0&&(n={});var i=nB(e,t),a=new Map,s=[],o=[],l=[];Array.isArray(t.settings.horizontalPageBreakRepeat)?l=t.settings.horizontalPageBreakRepeat:(typeof t.settings.horizontalPageBreakRepeat=="string"||typeof t.settings.horizontalPageBreakRepeat=="number")&&(l=[t.settings.horizontalPageBreakRepeat]),l.forEach(function(p){var f=t.columns.find(function(g){return g.dataKey===p||g.index===p});f&&!a.has(f.index)&&(a.set(f.index,!0),s.push(f.index),o.push(t.columns[f.index]),i-=f.wrappedWidth)});for(var u=!0,c=(r=n==null?void 0:n.start)!==null&&r!==void 0?r:0;c<t.columns.length;){if(a.has(c)){c++;continue}var d=t.columns[c].wrappedWidth;if(u||i>=d)u=!1,s.push(c),o.push(t.columns[c]),i-=d;else break;c++}return{colIndexes:s,columns:o,lastIndex:c-1}}function gce(e,t){for(var n=[],r=0;r<t.columns.length;r++){var i=mce(e,t,{start:r});i.columns.length&&(n.push(i),r=i.lastIndex)}return n}function uB(e,t){var n=t.settings,r=n.startY,i=n.margin,a={x:i.left,y:r},s=t.getHeadHeight(t.columns)+t.getFootHeight(t.columns),o=r+i.bottom+s;if(n.pageBreak==="avoid"){var l=t.body,u=l.reduce(function(p,f){return p+f.height},0);o+=u}var c=new Yf(e);(n.pageBreak==="always"||n.startY!=null&&o>c.pageSize().height)&&(dB(c),a.y=i.top),t.callWillDrawPageHooks(c,a);var d=Pl({},a);t.startPageNumber=c.pageNumber(),n.horizontalPageBreak?vce(c,t,d,a):(c.applyStyles(c.userStyles),(n.showHead==="firstPage"||n.showHead==="everyPage")&&t.head.forEach(function(p){return zl(c,t,p,a,t.columns)}),c.applyStyles(c.userStyles),t.body.forEach(function(p,f){var g=f===t.body.length-1;oy(c,t,p,g,d,a,t.columns)}),c.applyStyles(c.userStyles),(n.showFoot==="lastPage"||n.showFoot==="everyPage")&&t.foot.forEach(function(p){return zl(c,t,p,a,t.columns)})),eB(c,t,d,a),t.callEndPageHooks(c,a),t.finalY=a.y,e.lastAutoTable=t,c.applyStyles(c.userStyles)}function vce(e,t,n,r){var i=gce(e,t),a=t.settings;if(a.horizontalPageBreakBehaviour==="afterAllRows")i.forEach(function(u,c){e.applyStyles(e.userStyles),c>0?gm(e,t,n,r,u.columns,!0):R8(e,t,r,u.columns),yce(e,t,n,r,u.columns),Mw(e,t,r,u.columns)});else for(var s=-1,o=i[0],l=function(){var u=s;if(o){e.applyStyles(e.userStyles);var c=o.columns;s>=0?gm(e,t,n,r,c,!0):R8(e,t,r,c),u=M8(e,t,s+1,r,c),Mw(e,t,r,c)}var d=u-s;i.slice(1).forEach(function(p){e.applyStyles(e.userStyles),gm(e,t,n,r,p.columns,!0),M8(e,t,s+1,r,p.columns,d),Mw(e,t,r,p.columns)}),s=u};s<t.body.length-1;)l()}function R8(e,t,n,r){var i=t.settings;e.applyStyles(e.userStyles),(i.showHead==="firstPage"||i.showHead==="everyPage")&&t.head.forEach(function(a){return zl(e,t,a,n,r)})}function yce(e,t,n,r,i){e.applyStyles(e.userStyles),t.body.forEach(function(a,s){var o=s===t.body.length-1;oy(e,t,a,o,n,r,i)})}function M8(e,t,n,r,i,a){e.applyStyles(e.userStyles),a=a??t.body.length;var s=Math.min(n+a,t.body.length),o=-1;return t.body.slice(n,s).forEach(function(l,u){var c=n+u===t.body.length-1,d=cB(e,t,c,r);l.canEntireRowFit(d,i)&&(zl(e,t,l,r,i),o=n+u)}),o}function Mw(e,t,n,r){var i=t.settings;e.applyStyles(e.userStyles),(i.showFoot==="lastPage"||i.showFoot==="everyPage")&&t.foot.forEach(function(a){return zl(e,t,a,n,r)})}function xce(e,t,n){var r=n.getLineHeight(e.styles.fontSize),i=e.padding("vertical"),a=Math.floor((t-i)/r);return Math.max(0,a)}function bce(e,t,n,r){var i={};e.spansMultiplePages=!0,e.height=0;for(var a=0,s=0,o=n.columns;s<o.length;s++){var l=o[s],u=e.cells[l.index];if(u){Array.isArray(u.text)||(u.text=[u.text]);var c=new oB(u.raw,u.styles,u.section);c=Pl(c,u),c.text=[];var d=xce(u,t,r);u.text.length>d&&(c.text=u.text.splice(d,u.text.length));var p=r.scaleFactor(),f=r.getLineHeightFactor();u.contentHeight=u.getContentHeight(p,f),u.contentHeight>=t&&(u.contentHeight=t,c.styles.minCellHeight-=t),u.contentHeight>e.height&&(e.height=u.contentHeight),c.contentHeight=c.getContentHeight(p,f),c.contentHeight>a&&(a=c.contentHeight),i[l.index]=c}}var g=new sB(e.raw,-1,e.section,i,!0);g.height=a;for(var v=0,b=n.columns;v<b.length;v++){var l=b[v],c=g.cells[l.index];c&&(c.height=g.height);var u=e.cells[l.index];u&&(u.height=e.height)}return g}function wce(e,t,n,r){var i=e.pageSize().height,a=r.settings.margin,s=a.top+a.bottom,o=i-s;t.section==="body"&&(o-=r.getHeadHeight(r.columns)+r.getFootHeight(r.columns));var l=t.getMinimumRowHeight(r.columns,e),u=l<n;if(l>o)return console.error("Will not be able to print row ".concat(t.index," correctly since it's minimum height is larger than page height")),!0;if(!u)return!1;var c=t.hasRowSpan(r.columns),d=t.getMaxCellHeight(r.columns)>o;return d?(c&&console.error("The content of row ".concat(t.index," will not be drawn correctly since drawing rows with a height larger than the page height and has cells with rowspans is not supported.")),!0):!(c||r.settings.rowPageBreak==="avoid")}function oy(e,t,n,r,i,a,s){var o=cB(e,t,r,a);if(n.canEntireRowFit(o,s))zl(e,t,n,a,s);else if(wce(e,n,o,t)){var l=bce(n,o,t,e);zl(e,t,n,a,s),gm(e,t,i,a,s),oy(e,t,l,r,i,a,s)}else gm(e,t,i,a,s),oy(e,t,n,r,i,a,s)}function zl(e,t,n,r,i){r.x=t.settings.margin.left;for(var a=0,s=i;a<s.length;a++){var o=s[a],l=n.cells[o.index];if(!l){r.x+=o.width;continue}e.applyStyles(l.styles),l.x=r.x,l.y=r.y;var u=t.callCellHooks(e,t.hooks.willDrawCell,l,n,o,r);if(u===!1){r.x+=o.width;continue}_ce(e,l,r);var c=l.getTextPos();QF(l.text,c.x,c.y,{halign:l.styles.halign,valign:l.styles.valign,maxWidth:Math.ceil(l.width-l.padding("left")-l.padding("right"))},e.getDocument()),t.callCellHooks(e,t.hooks.didDrawCell,l,n,o,r),r.x+=o.width}r.y+=n.height}function _ce(e,t,n){var r=t.styles;if(e.getDocument().setFillColor(e.getDocument().getFillColor()),typeof r.lineWidth=="number"){var i=tB(r.lineWidth,r.fillColor);i&&e.rect(t.x,n.y,t.width,t.height,i)}else typeof r.lineWidth=="object"&&(r.fillColor&&e.rect(t.x,n.y,t.width,t.height,"F"),Sce(e,t,n,r.lineWidth))}function Sce(e,t,n,r){var i,a,s,o;r.top&&(i=n.x,a=n.y,s=n.x+t.width,o=n.y,r.right&&(s+=.5*r.right),r.left&&(i-=.5*r.left),l(r.top,i,a,s,o)),r.bottom&&(i=n.x,a=n.y+t.height,s=n.x+t.width,o=n.y+t.height,r.right&&(s+=.5*r.right),r.left&&(i-=.5*r.left),l(r.bottom,i,a,s,o)),r.left&&(i=n.x,a=n.y,s=n.x,o=n.y+t.height,r.top&&(a-=.5*r.top),r.bottom&&(o+=.5*r.bottom),l(r.left,i,a,s,o)),r.right&&(i=n.x+t.width,a=n.y,s=n.x+t.width,o=n.y+t.height,r.top&&(a-=.5*r.top),r.bottom&&(o+=.5*r.bottom),l(r.right,i,a,s,o));function l(u,c,d,p,f){e.getDocument().setLineWidth(u),e.getDocument().line(c,d,p,f,"S")}}function cB(e,t,n,r){var i=t.settings.margin.bottom,a=t.settings.showFoot;return(a==="everyPage"||a==="lastPage"&&n)&&(i+=t.getFootHeight(t.columns)),e.pageSize().height-r.y-i}function gm(e,t,n,r,i,a){i===void 0&&(i=[]),a===void 0&&(a=!1),e.applyStyles(e.userStyles),t.settings.showFoot==="everyPage"&&!a&&t.foot.forEach(function(o){return zl(e,t,o,r,i)}),t.callEndPageHooks(e,r);var s=t.settings.margin;eB(e,t,n,r),dB(e),t.pageNumber++,r.x=s.left,r.y=s.top,n.y=s.top,t.callWillDrawPageHooks(e,r),t.settings.showHead==="everyPage"&&(t.head.forEach(function(o){return zl(e,t,o,r,i)}),e.applyStyles(e.userStyles))}function dB(e){var t=e.pageNumber();e.setPage(t+1);var n=e.pageNumber();return n===t?(e.addPage(),!0):!1}function Ace(e){e.API.autoTable=function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];var r=t[0],i=aB(this,r),a=lB(this,i);return uB(this,a),this},e.API.lastAutoTable=!1,e.API.autoTableText=function(t,n,r,i){QF(t,n,r,i,this)},e.API.autoTableSetDefaults=function(t){return Yf.setDefaults(t,this),this},e.autoTableSetDefaults=function(t,n){Yf.setDefaults(t,n)},e.API.autoTableHtmlToJson=function(t,n){var r;if(n===void 0&&(n=!1),typeof window>"u")return console.error("Cannot run autoTableHtmlToJson in non browser environment"),null;var i=new Yf(this),a=iB(i,t,window,n,!1),s=a.head,o=a.body,l=((r=s[0])===null||r===void 0?void 0:r.map(function(u){return u.content}))||[];return{columns:l,rows:o,data:o}}}var Dw;function Pce(e,t){var n=aB(e,t),r=lB(e,n);uB(e,r)}try{if(typeof window<"u"&&window){var D8=window,F8=D8.jsPDF||((Dw=D8.jspdf)===null||Dw===void 0?void 0:Dw.jsPDF);F8&&Ace(F8)}}catch(e){console.error("Could not apply autoTable plugin",e)}const Ece=()=>{const[e,t]=S.useState(!0),[n,r]=S.useState(""),[i,a]=S.useState(""),[s,o]=S.useState([]),[l,u]=S.useState(!1),[c,d]=S.useState(null),p=S.useRef(null),f=S.useRef(null),g=S.useRef(null),v=T=>T?(T instanceof Date?T:new Date(T)).toLocaleDateString("en-CA"):"-",b=T=>T?(T instanceof Date?T:new Date(T)).toLocaleTimeString("en-IN",{hour:"2-digit",minute:"2-digit"}):"-";S.useEffect(()=>{(async()=>{const k=await fo();if(d(k||{}),n&&i){u(!0);try{const M=(await Fl(new Date(n),new Date(i))).map(N=>({...N,table:N.tableName||"-",servedBy:N.staffName||"-",total:N.subTotal||0,discount:N.discount||0,grandTotal:N.grandTotal||0}));o(M)}catch(I){console.error("Error fetching sales:",I)}u(!1)}})()},[n,i]);const x=s.reduce((T,k)=>(T.total+=k.total,T.discount+=k.discount,T.grandTotal+=k.grandTotal,T),{total:0,discount:0,grandTotal:0}),w="",A=()=>{if(!p.current.value||!f.current.value){alert("Please select both a start and end date.");return}r(p.current.value),a(f.current.value),t(!1)},P=T=>{T.key==="Enter"&&(T.preventDefault(),f.current.focus())},O=T=>{T.key==="Enter"&&(T.preventDefault(),g.current.click())},D=()=>{if(s.length===0){alert("No data available to export.");return}const T=new ut,k=T.internal.pageSize.height||T.internal.pageSize.getHeight(),I=T.internal.pageSize.width||T.internal.pageSize.getWidth(),M=(c==null?void 0:c.restaurantName)||"SyncServe Restaurant",N=new Date().toLocaleString("en-IN",{year:"numeric",month:"long",day:"numeric",hour:"2-digit",minute:"2-digit"});T.setFontSize(20),T.setFont("helvetica","bold"),T.text(M,I/2,20,{align:"center"}),T.setFontSize(12),T.setFont("helvetica","normal"),T.text("Sales Report",I/2,28,{align:"center"}),T.setFontSize(10),T.setTextColor(100),T.text(`Date Range: ${n} to ${i}`,14,40),T.text(`Generated on: ${N}`,I-14,40,{align:"right"});const C=s.length,R=C>0?x.grandTotal/C:0;T.setFontSize(10),T.text("Report Summary",14,52),T.setDrawColor(220,220,220),T.line(14,53,I-14,53);let W=62;T.setFontSize(12),T.setTextColor(0),T.text("Total Gross Sales:",14,W),T.setFont("helvetica","bold"),T.text(`${w}${x.grandTotal.toFixed(2)}`,60,W),T.setFont("helvetica","normal"),T.text("Total Transactions:",14,W+8),T.setFont("helvetica","bold"),T.text(`${C}`,60,W+8),T.setFont("helvetica","normal"),T.text("Total Discounts:",I/2,W),T.setFont("helvetica","bold"),T.text(`${w}${x.discount.toFixed(2)}`,I/2+40,W),T.setFont("helvetica","normal"),T.text("Average Sale Value:",I/2,W+8),T.setFont("helvetica","bold"),T.text(`${w}${R.toFixed(2)}`,I/2+40,W+8);const Y=["#","Date & Time","Table","Served By","Total","Discount","Grand Total"],ae=s.map((H,se)=>[se+1,`${v(H.finalizedAt)}
${b(H.finalizedAt)}`,H.table,H.servedBy,`${w}${H.total.toFixed(2)}`,`${w}${H.discount.toFixed(2)}`,`${w}${H.grandTotal.toFixed(2)}`]),ie=[{content:""},{content:""},{content:""},{content:"TOTALS",styles:{fontStyle:"bold"}},{content:`${w}${x.total.toFixed(2)}`,styles:{fontStyle:"bold"}},{content:`${w}${x.discount.toFixed(2)}`,styles:{fontStyle:"bold"}},{content:`${w}${x.grandTotal.toFixed(2)}`,styles:{fontStyle:"bold"}}];Pce(T,{startY:W+20,head:[Y],body:ae,foot:[ie],theme:"grid",styles:{cellPadding:3,halign:"center",valign:"middle"},headStyles:{fillColor:[44,62,80],textColor:255,fontStyle:"bold"},bodyStyles:{lineWidth:0},footStyles:{fillColor:[236,240,241],textColor:[44,62,80],fontStyle:"bold",lineWidth:0},columnStyles:{0:{halign:"center",cellWidth:10},1:{halign:"center",cellWidth:30}},didDrawPage:function(H){const se=T.internal.getNumberOfPages();T.setFontSize(9),T.setTextColor(150),T.text(`Page ${H.pageNumber} of ${se}`,I/2,k-10,{align:"center"})}}),T.save(`SalesReport_${M.replace(/\s+/g,"")}_${n}_to_${i}.pdf`)};return e?h.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",children:h.jsxs("div",{className:"bg-white p-8 rounded-lg shadow-2xl w-full max-w-md animate-fade-in-up",children:[h.jsx("h2",{className:"text-2xl font-bold text-slate-800 mb-6 text-center",children:"Select Date Range"}),h.jsxs("div",{className:"space-y-4",children:[h.jsxs("div",{children:[h.jsx("label",{className:"block text-sm font-medium text-slate-600 mb-1",children:"Start Date"}),h.jsx("input",{ref:p,type:"date",onKeyDown:P,className:"w-full border border-gray-300 rounded-md px-3 py-2 focus:ring-2 focus:ring-indigo-500 focus:border-indigo-500 transition",autoFocus:!0})]}),h.jsxs("div",{children:[h.jsx("label",{className:"block text-sm font-medium text-slate-600 mb-1",children:"End Date"}),h.jsx("input",{ref:f,type:"date",onKeyDown:O,className:"w-full border border-gray-300 rounded-md px-3 py-2 focus:ring-2 focus:ring-indigo-500 focus:border-indigo-500 transition"})]})]}),h.jsxs("button",{ref:g,onClick:A,className:"w-full mt-8 flex items-center justify-center gap-2 bg-indigo-600 text-white px-4 py-3 rounded-lg shadow-md hover:bg-indigo-700 transition-all duration-300 ease-in-out transform hover:scale-105",children:[h.jsx(pY,{size:14})," Generate Report"]})]})}):h.jsxs("div",{className:"p-4 sm:p-6 lg:p-8 bg-slate-50 min-h-screen",children:[h.jsxs("div",{className:"flex flex-col sm:flex-row justify-between items-start sm:items-center mb-6",children:[h.jsxs("div",{children:[h.jsx("h1",{className:"text-3xl font-bold text-slate-800",children:"Sales Report"}),h.jsxs("p",{className:"text-sm text-slate-500 mt-1",children:["Showing results for: ",h.jsx("span",{className:"font-semibold",children:n})," to ",h.jsx("span",{className:"font-semibold",children:i})]})]}),h.jsxs("button",{onClick:D,disabled:s.length===0,className:"flex items-center gap-2 bg-rose-600 text-white px-4 py-2 rounded-lg shadow-md hover:bg-rose-700 transition-all duration-300 ease-in-out transform hover:scale-105 disabled:bg-gray-400 disabled:scale-100 disabled:cursor-not-allowed mt-4 sm:mt-0",children:[h.jsx(cY,{size:18})," Export as PDF"]})]}),h.jsx("div",{className:"overflow-x-auto bg-white rounded-lg shadow-lg",children:l?h.jsxs("div",{className:"flex justify-center items-center py-20",children:[h.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-indigo-600"}),h.jsx("p",{className:"ml-4 text-slate-600",children:"Loading sales records..."})]}):h.jsxs("table",{className:"min-w-full",children:[h.jsx("thead",{className:"bg-slate-100",children:h.jsx("tr",{children:[{title:"#",align:"text-left"},{title:"Date",align:"text-left"},{title:"Time",align:"text-left"},{title:"Table",align:"text-left"},{title:"Served By",align:"text-left"},{title:"Total",align:"text-right"},{title:"Discount",align:"text-right"},{title:"Grand Total",align:"text-right"}].map(T=>h.jsx("th",{className:`px-6 py-3 ${T.align} text-xs font-bold text-slate-600 uppercase tracking-wider`,children:T.title},T.title))})}),h.jsx("tbody",{className:"divide-y divide-gray-200",children:s.length>0?s.map((T,k)=>h.jsxs("tr",{className:"hover:bg-indigo-50 transition-colors duration-200",children:[h.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-700 text-left",children:k+1}),h.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-700 text-left",children:v(T.finalizedAt)}),h.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-700 text-left",children:b(T.finalizedAt)}),h.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-700 text-left",children:T.table}),h.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-700 text-left",children:T.servedBy}),h.jsxs("td",{className:"px-6 py-4 whitespace-nowrap text-sm font-medium text-gray-800 text-right",children:[w,T.total.toFixed(2)]}),h.jsxs("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-red-600 text-right",children:[w,T.discount.toFixed(2)]}),h.jsxs("td",{className:"px-6 py-4 whitespace-nowrap text-sm font-bold text-indigo-700 text-right",children:[w,T.grandTotal.toFixed(2)]})]},T.id)):h.jsx("tr",{children:h.jsx("td",{colSpan:8,className:"text-center py-16",children:h.jsxs("div",{className:"flex flex-col items-center justify-center text-slate-500",children:[h.jsx(fY,{className:"w-16 h-16 mb-4 text-slate-300"}),h.jsx("h3",{className:"text-xl font-semibold",children:"No Sales Records Found"}),h.jsx("p",{className:"text-sm mt-1",children:"There were no sales in the selected date range."})]})})})}),s.length>0&&h.jsx("tfoot",{className:"bg-slate-200 font-bold text-slate-800",children:h.jsxs("tr",{children:[h.jsx("td",{colSpan:5,className:"px-6 py-3 text-right text-sm",children:"TOTALS"}),h.jsxs("td",{className:"px-6 py-3 text-right text-sm",children:[w,x.total.toFixed(2)]}),h.jsxs("td",{className:"px-6 py-3 text-right text-sm text-red-700",children:[w,x.discount.toFixed(2)]}),h.jsxs("td",{className:"px-6 py-3 text-right text-sm text-indigo-800",children:[w,x.grandTotal.toFixed(2)]})]})})]})})]})},Nce=[{to:"/reports/sales",title:"Sales Report",description:"View overall sales transactions within a specific date range.",icon:h.jsx(eF,{className:"h-8 w-8 text-blue-500"}),color:"blue"},{to:"/reports/item-wise-sales",title:"Item-wise Sales Report",description:"Analyze sales performance by individual menu items.",icon:h.jsx(Vse,{className:"h-8 w-8 text-green-500"}),color:"green"},{to:"/reports/table-wise-sales",title:"Table-wise Sales Report",description:"Track sales and revenue generated by each table.",icon:h.jsx($se,{className:"h-8 w-8 text-purple-500"}),color:"purple"},{to:"/reports/payment-mode",title:"Payment Mode Report",description:"Breakdown of sales by payment method like cash, card, etc.",icon:h.jsx(Tse,{className:"h-8 w-8 text-yellow-500"}),color:"yellow"},{to:"/reports/order-type",title:"Order Type Report",description:"Breakdown of Dine-In, Takeaway, Delivery, Cloud Kitchen orders.",icon:h.jsx(Fse,{className:"h-8 w-8 text-orange-500"}),color:"orange"},{to:"/reports/discounts",title:"Discount & Offer Report",description:"Tracks discounts applied, coupon usage, and total discount value.",icon:h.jsx(aF,{className:"h-8 w-8 text-red-500"}),color:"red"},{to:"/reports/hourly-sales",title:"Hourly Time-Slot Sales Report",description:"Identifies peak business hours and low-performing hours.",icon:h.jsx(tF,{className:"h-8 w-8 text-indigo-500"}),color:"indigo"}],kce=()=>h.jsxs("div",{className:"p-6 bg-gray-50 min-h-full",children:[h.jsxs("div",{className:"mb-8",children:[h.jsx("h1",{className:"text-3xl font-bold text-gray-800",children:"Sales & Revenue Reports"}),h.jsx("p",{className:"text-gray-500 mt-1",children:"Select a report type to view details."})]}),h.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4 gap-6",children:Nce.map(e=>h.jsxs(S2,{to:e.to,className:"group bg-white rounded-xl shadow-md p-6 flex flex-col justify-between hover:shadow-xl hover:-translate-y-1 transition-all duration-300 cursor-pointer border border-gray-200",children:[h.jsxs("div",{children:[h.jsx("div",{className:"mb-4",children:e.icon}),h.jsx("h3",{className:"text-xl font-semibold text-gray-800 mb-2",children:e.title}),h.jsx("p",{className:"text-gray-600 text-sm",children:e.description})]}),h.jsx("div",{className:"mt-6",children:h.jsx("span",{className:`font-semibold text-${e.color}-600 group-hover:text-${e.color}-800 transition-colors`,children:"View Report "})})]},e.title))})]}),Tce=()=>h.jsx("svg",{stroke:"currentColor",fill:"currentColor",strokeWidth:"0",viewBox:"0 0 512 512",height:"1em",width:"1em",xmlns:"http://www.w3.org/2000/svg",children:h.jsx("path",{d:"M416 224V64c0-8.8-7.2-16-16-16H112c-8.8 0-16 7.2-16 16v160h320zM96 256H32v176c0 13.3 10.7 24 24 24h32v-80c0-26.5 21.5-48 48-48h160c26.5 0 48 21.5 48 48v80h32c13.3 0 24-10.7 24-24V256H96zM480 96h-32v128h32c8.8 0 16-7.2 16-16V112c0-8.8-7.2-16-16-16zM288 352h-64c-8.8 0-16 7.2-16 16v64c0 8.8 7.2 16 16 16h64c8.8 0 16-7.2 16-16v-64c0-8.8-7.2-16-16-16z"})}),Cce=()=>h.jsx("svg",{stroke:"currentColor",fill:"currentColor",strokeWidth:"0",viewBox:"0 0 512 512",height:"1em",width:"1em",xmlns:"http://www.w3.org/2000/svg",children:h.jsx("path",{d:"M512 288c0 44.2-35.8 80-80 80s-80-35.8-80-80 35.8-80 80-80 80 35.8 80 80zM400 288c0 22.1 17.9 40 40 40s40-17.9 40-40-17.9-40-40-40-40 17.9-40 40zM192 288c0 44.2-35.8 80-80 80s-80-35.8-80-80 35.8-80 80-80 80 35.8 80 80zM32 288c0 22.1 17.9 40 40 40s40-17.9 40-40-17.9-40-40-40-40 17.9-40 40zM320 128c0 44.2-35.8 80-80 80s-80-35.8-80-80 35.8-80 80-80 80 35.8 80 80zM160 128c0 22.1 17.9 40 40 40s40-17.9 40-40-17.9-40-40-40-40 17.9-40 40zM256 0C114.6 0 0 114.6 0 256s114.6 256 256 256 256-114.6 256-256S397.4 0 256 0zM256 480c-123.5 0-224-100.5-224-224S132.5 32 256 32s224 100.5 224 224-100.5 224-224 224z"})}),jce=()=>h.jsx("svg",{stroke:"currentColor",fill:"currentColor",strokeWidth:"0",viewBox:"0 0 576 512",height:"1em",width:"1em",xmlns:"http://www.w3.org/2000/svg",children:h.jsx("path",{d:"M528 224H48.8c-10.7 0-20.8 5.1-26.9 13.2L0 273.4V464c0 26.5 21.5 48 48 48h480c26.5 0 48-21.5 48-48V273.4l-21.9-36.2c-6-8.1-16.1-13.2-26.9-13.2zM48 352h160v64H48v-64zm192 0h160v64H240v-64zm336-48.4l19.2 31.8-19.2 31.8V303.6zM48 0h480c26.5 0 48 21.5 48 48v80H0V48C0 21.5 21.5 0 48 0z"})}),Ice=()=>h.jsx("svg",{stroke:"currentColor",fill:"currentColor",strokeWidth:"0",viewBox:"0 0 448 512",height:"1em",width:"1em",xmlns:"http://www.w3.org/2000/svg",children:h.jsx("path",{d:"M424.4 214.7L72.4 6.6C43.8-10.3 0 6.1 0 47.9V464c0 37.5 40.7 60.1 72.4 41.3l352-208c31.4-18.5 31.5-64.1 0-82.6z"})}),Oce=()=>h.jsx("svg",{stroke:"currentColor",fill:"currentColor",strokeWidth:"0",viewBox:"0 0 512 512",height:"1em",width:"1em",xmlns:"http://www.w3.org/2000/svg",children:h.jsx("path",{d:"M32 32v448h448V32H32zm240 344h-32V200h32v176zm88 0h-32V136h32v240zm-176 0h-32V280h32v96z"})}),Lce=()=>h.jsx("svg",{stroke:"currentColor",fill:"currentColor",strokeWidth:"0",viewBox:"0 0 544 512",height:"1em",width:"1em",xmlns:"http://www.w3.org/2000/svg",children:h.jsx("path",{d:"M527.79 288H290.51a15.95 15.95 0 0 1-15.95-16V16.21a15.95 15.95 0 0 1 15.95-16c2.65 0 5.26.65 7.64 1.86A256.06 256.06 0 0 1 527.79 288zm-288-16a15.95 15.95 0 0 1 15.95-16H528a16 16 0 0 1 16 16v16a256 256 0 0 1-256 256H21.53c-11.21 0-19.18-11.45-14.45-21.53A256.06 256.06 0 0 1 239.79 272z"})}),Rce=()=>h.jsx("svg",{stroke:"currentColor",fill:"currentColor",strokeWidth:"0",viewBox:"0 0 512 512",height:"1em",width:"1em",xmlns:"http://www.w3.org/2000/svg",children:h.jsx("path",{d:"M500 384c6.6 0 12-5.4 12-12V108c0-6.6-5.4-12-12-12h-20c-6.6 0-12 5.4-12 12v33.3L339.5 280.8 223.7 125.5c-4.5-5.8-12.3-7.5-18.7-4.4l-112 56C85.7 180.1 80 186.8 80 194.5V320c0 6.6 5.4 12 12 12h20c6.6 0 12-5.4 12-12v-33.3l128.5-160.6 115.7 154.3c4.5 5.8 12.3 7.5 18.7 4.4l112-56c6.4-3.1 13.2-2.3 18.7 2.2l20 20V372c0 6.6 5.4 12 12 12z"})}),Mce=()=>h.jsx("svg",{stroke:"currentColor",fill:"currentColor",strokeWidth:"0",viewBox:"0 0 576 512",height:"1em",width:"1em",xmlns:"http://www.w3.org/2000/svg",children:h.jsx("path",{d:"M552 64H448V24c0-13.3-10.7-24-24-24H152c-13.3 0-24 10.7-24 24v40H24C10.7 64 0 74.7 0 88v56c0 66.5 77.9 130.7 171.9 142.4C203.3 392.4 256 464 256 464v48H176c-13.3 0-24 10.7-24 24s10.7 24 24 24h224c13.3 0 24-10.7 24-24s-10.7-24-24-24H320v-48s52.7-71.6 84.1-177.6C502.1 274.7 576 210.5 576 144V88c0-13.3-10.7-24-24-24zM128 128c0-17.7 14.3-32 32-32h192c17.7 0 32 14.3 32 32v32H128v-32z"})}),Dce=()=>h.jsx("svg",{stroke:"currentColor",fill:"currentColor",strokeWidth:"0",viewBox:"0 0 512 512",height:"1em",width:"1em",xmlns:"http://www.w3.org/2000/svg",children:h.jsx("path",{d:"M283.211 512c78.962 0 151.079-35.925 198.857-94.792 7.068-8.708-.639-21.43-11.562-19.35-124.203 23.654-238.262-71.576-238.262-196.954 0-72.222 38.662-138.635 101.498-174.394 9.686-5.512 7.25-20.197-3.756-22.23A258.156 258.156 0 0 0 283.211 0c-141.309 0-256 114.51-256 256 0 141.309 114.51 256 256 256z"})}),Fce=()=>h.jsx("svg",{stroke:"currentColor",fill:"currentColor",strokeWidth:"0",viewBox:"0 0 512 512",height:"1em",width:"1em",xmlns:"http://www.w3.org/2000/svg",children:h.jsx("path",{d:"M256 160c-52.9 0-96 43.1-96 96s43.1 96 96 96 96-43.1 96-96-43.1-96-96-96zm246.4 80.5l-94.7-47.3 33.5-100.4c4.5-13.6-8.4-26.5-21.9-21.9l-100.4 33.5-47.3-94.7c-6.4-12.8-24.6-12.8-31 0l-47.3 94.7-100.4-33.5c-13.6-4.5-26.5 8.4-21.9 21.9l33.5 100.4-94.7 47.3c-12.8 6.4-12.8 24.6 0 31l94.7 47.3-33.5 100.5c-4.5 13.6 8.4 26.5 21.9 21.9l100.4-33.5 47.3 94.7c6.4 12.8 24.6 12.8 31 0l47.3-94.7 100.4 33.5c13.6 4.5 26.5-8.4 21.9-21.9l-33.5-100.4 94.7-47.3c13-6.5 13-24.7.2-31.1z"})}),B8=(e=0,t=1500)=>{const[n,r]=S.useState(0),i=1e3/60,a=Math.round(t/i);return S.useEffect(()=>{let s=0;const o=setInterval(()=>{s++;const l=s/a;r(e*l),s===a&&(clearInterval(o),r(e))},i);return()=>clearInterval(o)},[e,t]),n},Bce=()=>{const[e,t]=S.useState(!0),[n,r]=S.useState(""),[i,a]=S.useState(""),[s,o]=S.useState([]),[l,u]=S.useState([]),[c,d]=S.useState(!1),[p,f]=S.useState(null),[g,v]=S.useState("bar"),[b,x]=S.useState(""),[w,A]=S.useState({key:"totalRevenue",direction:"descending"}),[P,O]=S.useState(1),[D,T]=S.useState(!1),k=10,I=S.useRef(null),M=S.useRef(null),N=S.useRef(null),C=S.useRef(null),R=S.useRef(null),W=le=>{const Ne=le.reduce((Z,Ve)=>((Ve.items||[]).forEach(Xe=>{const Ue=Xe.name||"Unknown Item";Z[Ue]||(Z[Ue]={quantity:0,totalRevenue:0,price:Number(Xe.price)||0});const Oe=Number(Xe.quantity)||0;Z[Ue].quantity+=Oe,Z[Ue].totalRevenue+=Oe*(Number(Xe.price)||0)}),Z),{}),fe=Object.values(Ne).reduce((Z,Ve)=>Z+Ve.totalRevenue,0);return Object.entries(Ne).map(([Z,Ve])=>({name:Z,...Ve,contribution:fe>0?Ve.totalRevenue/fe*100:0}))};S.useEffect(()=>{const le=new URLSearchParams(window.location.search),Ne=le.get("startDate"),fe=le.get("endDate");Ne&&fe&&(r(Ne),a(fe),t(!1))},[]),S.useEffect(()=>{(async()=>{if(n&&i){d(!0);const Ne=new Date(n),fe=new Date(i),Z=fe.getTime()-Ne.getTime(),Ve=new Date(Ne.getTime()-1),Xe=new Date(Ve.getTime()-Z);try{const[Ue,Oe,We]=await Promise.all([fo(),Fl(Ne,fe),Fl(Xe,Ve)]);f(Ue||{}),o(W(Oe)),u(W(We));const $e=new URLSearchParams({startDate:n,endDate:i});window.history.pushState(null,"",`?${$e.toString()}`)}catch(Ue){console.error("Error processing item-wise sales report:",Ue)}d(!1)}})()},[n,i]),S.useEffect(()=>{D?document.documentElement.classList.add("dark"):document.documentElement.classList.remove("dark")},[D]);const Y=S.useMemo(()=>{let le=[...s];return b&&(le=le.filter(Ne=>Ne.name.toLowerCase().includes(b.toLowerCase()))),le.sort((Ne,fe)=>Ne[w.key]<fe[w.key]?w.direction==="ascending"?-1:1:Ne[w.key]>fe[w.key]?w.direction==="ascending"?1:-1:0),le},[s,b,w]),ae=S.useMemo(()=>{const le=(P-1)*k;return Y.slice(le,le+k)},[Y,P]),ie=S.useMemo(()=>s.reduce((le,Ne)=>(le.totalRevenue+=Ne.totalRevenue,le.totalQuantity+=Ne.quantity,le),{totalRevenue:0,totalQuantity:0}),[s]),H=S.useMemo(()=>l.reduce((le,Ne)=>(le.totalRevenue+=Ne.totalRevenue,le.totalQuantity+=Ne.quantity,le),{totalRevenue:0,totalQuantity:0}),[l]),se=(le,Ne)=>Ne===0?le>0?100:0:(le-Ne)/Ne*100,ye=se(ie.totalRevenue,H.totalRevenue),be=se(ie.totalQuantity,H.totalQuantity),$=Y.length>0?Y[0].name:"N/A",X="",re=B8(ie.totalRevenue),oe=B8(ie.totalQuantity);S.useEffect(()=>{if(M.current&&M.current.destroy(),ae.length===0||!I.current)return;const le=()=>{const Ne=I.current.getContext("2d"),fe=g==="pie"?Y.slice(0,7):ae,Z=fe.map(We=>We.name),Ve=fe.map(We=>We.totalRevenue),Xe=D?"rgba(255, 255, 255, 0.1)":"rgba(0, 0, 0, 0.1)",Ue=D?"#e2e8f0":"#334155",Oe=D?"#f1f5f9":"#1e293b";M.current=new window.Chart(Ne,{type:g,data:{labels:Z,datasets:[{label:"Total Revenue",data:Ve,backgroundColor:g==="pie"?["#4f46e5","#6366f1","#818cf8","#a5b4fc","#c7d2fe","#e0e7ff"]:"#4f46e5",borderColor:D?"#374151":"#fff",borderWidth:1}]},options:{indexAxis:g==="bar"?"y":"x",responsive:!0,maintainAspectRatio:!1,plugins:{legend:{display:g==="pie",labels:{color:Ue}},title:{display:!0,text:"Item Revenue",color:Oe}},scales:{x:{beginAtZero:!0,ticks:{color:Ue},grid:{color:Xe}},y:{beginAtZero:!0,ticks:{color:Ue},grid:{color:Xe}}}}})};if(window.Chart)le();else{const Ne=document.createElement("script");Ne.src="https://cdn.jsdelivr.net/npm/chart.js",Ne.onload=le,document.body.appendChild(Ne)}},[ae,Y,g,D]);const de=le=>{const Ne=new Date;let fe=new Date;le==="today"?fe.setHours(0,0,0,0):le==="week"?fe.setDate(Ne.getDate()-6):le==="month"&&fe.setDate(1);const Z=Ve=>Ve.toISOString().split("T")[0];r(Z(fe)),a(Z(Ne)),t(!1)},ge=()=>{!N.current.value||!C.current.value||(r(N.current.value),a(C.current.value),t(!1))},ce=le=>{let Ne="ascending";w.key===le&&w.direction==="ascending"&&(Ne="descending"),A({key:le,direction:Ne})},J=S.useCallback(()=>{if(Y.length===0)return;const le=()=>{const{jsPDF:fe}=window.jspdf,Z=new fe,Ve=(p==null?void 0:p.restaurantName)||"Restaurant";Z.setFontSize(18),Z.text(`${Ve} - Item-Wise Sales Report`,14,22),Z.setFontSize(11),Z.setTextColor(100),Z.text(`Date Range: ${n} to ${i}`,14,30);const Xe=["#","Item Name","Qty Sold","Unit Price","Total Revenue","% of Total"],Ue=Y.map((Oe,We)=>[We+1,Oe.name,Oe.quantity,`${X}${Oe.price.toFixed(2)}`,`${X}${Oe.totalRevenue.toFixed(2)}`,`${Oe.contribution.toFixed(2)}%`]);Z.autoTable({startY:40,head:[Xe],body:Ue,foot:[["","TOTALS",ie.totalQuantity,"",`${X}${ie.totalRevenue.toFixed(2)}`,"100.00%"]],theme:"striped",headStyles:{fillColor:[44,62,80]},footStyles:{fillColor:[236,240,241],textColor:[44,62,80],fontStyle:"bold"}}),Z.save(`ItemWiseSalesReport_${n}_to_${i}.pdf`)},Ne=()=>{if(window.jspdf&&window.jspdf.autoTable)le();else if(window.jspdf){const fe=document.createElement("script");fe.src="https://cdnjs.cloudflare.com/ajax/libs/jspdf-autotable/3.8.2/jspdf.plugin.autotable.min.js",fe.onload=le,document.body.appendChild(fe)}else{const fe=document.createElement("script");fe.src="https://cdnjs.cloudflare.com/ajax/libs/jspdf/2.5.1/jspdf.umd.min.js",fe.onload=()=>Ne(),document.body.appendChild(fe)}};Ne()},[Y,p,n,i,ie]),pe=()=>{if(Y.length===0)return;const le=["Item Name","Qty Sold","Unit Price","Total Revenue","% of Total"],Ne=Y.map(Ve=>[`"${Ve.name.replace(/"/g,'""')}"`,Ve.quantity,Ve.price,Ve.totalRevenue,Ve.contribution.toFixed(2)]),fe="data:text/csv;charset=utf-8,"+[le.join(","),...Ne.map(Ve=>Ve.join(","))].join(`
`),Z=document.createElement("a");Z.setAttribute("href",encodeURI(fe)),Z.setAttribute("download",`ItemWiseSalesReport_${n}_to_${i}.csv`),document.body.appendChild(Z),Z.click(),document.body.removeChild(Z)},Ee=({value:le})=>h.jsxs("span",{className:`text-xs ml-2 font-bold ${le>=0?"text-green-500":"text-red-500"}`,children:[le>=0?"":""," ",Math.abs(le).toFixed(1),"%"]});return e?h.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",children:h.jsxs("div",{className:"bg-white p-8 rounded-lg shadow-2xl w-full max-w-md animate-fade-in-up",children:[h.jsx("h2",{className:"text-2xl font-bold text-slate-800 mb-6 text-center",children:"Select Date Range"}),h.jsxs("div",{className:"flex justify-center gap-2 mb-4",children:[h.jsx("button",{onClick:()=>de("today"),className:"px-3 py-1 text-sm bg-slate-200 rounded-full hover:bg-slate-300",children:"Today"}),h.jsx("button",{onClick:()=>de("week"),className:"px-3 py-1 text-sm bg-slate-200 rounded-full hover:bg-slate-300",children:"This Week"}),h.jsx("button",{onClick:()=>de("month"),className:"px-3 py-1 text-sm bg-slate-200 rounded-full hover:bg-slate-300",children:"This Month"})]}),h.jsxs("div",{className:"space-y-4",children:[h.jsx("input",{ref:N,type:"date",className:"w-full border-gray-300 rounded-md p-2"}),h.jsx("input",{ref:C,type:"date",className:"w-full border-gray-300 rounded-md p-2"})]}),h.jsxs("button",{ref:R,onClick:ge,className:"w-full mt-8 flex items-center justify-center gap-2 bg-indigo-600 text-white px-4 py-3 rounded-lg shadow-md hover:bg-indigo-700",children:[h.jsx(Ice,{})," Generate Report"]})]})}):h.jsxs("div",{className:"p-4 sm:p-6 lg:p-8 bg-slate-50 dark:bg-slate-900 min-h-screen text-slate-800 dark:text-slate-200 transition-colors duration-300",children:[h.jsxs("header",{className:"flex flex-wrap justify-between items-center mb-6 gap-4",children:[h.jsxs("div",{children:[h.jsx("h1",{className:"text-3xl font-bold",children:"Item-Wise Sales Report"}),h.jsxs("p",{className:"text-sm text-slate-500 dark:text-slate-400 mt-1",children:[n," to ",i]})]}),h.jsxs("div",{className:"flex items-center gap-2",children:[h.jsx("button",{onClick:()=>T(!D),className:"p-2 rounded-full bg-slate-200 dark:bg-slate-700 hover:bg-slate-300 dark:hover:bg-slate-600",children:D?h.jsx(Fce,{}):h.jsx(Dce,{})}),h.jsxs("button",{onClick:pe,disabled:s.length===0,className:"flex items-center gap-2 bg-green-600 text-white px-3 py-2 rounded-lg shadow hover:bg-green-700 disabled:bg-gray-400",children:[h.jsx(Cce,{})," CSV"]}),h.jsxs("button",{onClick:J,disabled:s.length===0,className:"flex items-center gap-2 bg-rose-600 text-white px-3 py-2 rounded-lg shadow hover:bg-rose-700 disabled:bg-gray-400",children:[h.jsx(Tce,{})," PDF"]})]})]}),h.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6 mb-6",children:[h.jsxs("div",{className:"bg-white dark:bg-slate-800 p-5 rounded-lg shadow text-center",children:[h.jsx("p",{className:"text-sm text-slate-500 dark:text-slate-400",children:"Total Revenue"}),h.jsxs("p",{className:"text-2xl font-bold flex items-center justify-center",children:[X,re.toFixed(2)," ",h.jsx(Ee,{value:ye})]})]}),h.jsxs("div",{className:"bg-white dark:bg-slate-800 p-5 rounded-lg shadow text-center",children:[h.jsx("p",{className:"text-sm text-slate-500 dark:text-slate-400",children:"Total Items Sold"}),h.jsxs("p",{className:"text-2xl font-bold flex items-center justify-center",children:[Math.round(oe)," ",h.jsx(Ee,{value:be})]})]}),h.jsxs("div",{className:"bg-white dark:bg-slate-800 p-5 rounded-lg shadow text-center",children:[h.jsxs("p",{className:"text-sm text-slate-500 dark:text-slate-400 flex items-center justify-center gap-1",children:[h.jsx(Mce,{className:"text-amber-400"}),"Best Seller"]}),h.jsx("p",{className:"text-2xl font-bold text-indigo-600 dark:text-indigo-400 truncate",children:$})]})]}),h.jsxs("div",{className:"bg-white dark:bg-slate-800 p-4 rounded-lg shadow-lg mb-6",children:[h.jsxs("div",{className:"flex justify-between items-center mb-2 flex-wrap gap-2",children:[h.jsx("input",{type:"text",placeholder:"Search items...",value:b,onChange:le=>x(le.target.value),className:"p-2 border rounded-md bg-transparent dark:border-slate-600"}),h.jsxs("div",{className:"flex gap-1 p-1 bg-slate-100 dark:bg-slate-700 rounded-lg",children:[h.jsx("button",{onClick:()=>v("bar"),className:`p-2 rounded-md ${g==="bar"?"bg-indigo-600 text-white":""}`,children:h.jsx(Oce,{})}),h.jsx("button",{onClick:()=>v("pie"),className:`p-2 rounded-md ${g==="pie"?"bg-indigo-600 text-white":""}`,children:h.jsx(Lce,{})}),h.jsx("button",{onClick:()=>v("line"),className:`p-2 rounded-md ${g==="line"?"bg-indigo-600 text-white":""}`,children:h.jsx(Rce,{})})]})]}),h.jsx("div",{className:"h-96",children:h.jsx("canvas",{ref:I})})]}),h.jsx("div",{className:"overflow-x-auto bg-white dark:bg-slate-800 rounded-lg shadow-lg",children:c?h.jsx("div",{className:"text-center p-20",children:"Loading..."}):h.jsxs("table",{className:"min-w-full",children:[h.jsx("thead",{className:"bg-slate-100 dark:bg-slate-700 text-slate-600 dark:text-slate-300",children:h.jsxs("tr",{children:[h.jsx("th",{scope:"col",className:"px-6 py-3 text-right text-xs font-medium uppercase tracking-wider",children:"#"}),h.jsx("th",{scope:"col",className:"px-6 py-3 text-left text-xs font-medium uppercase tracking-wider",children:h.jsxs("button",{onClick:()=>ce("name"),className:"w-full flex items-center justify-start gap-1",children:[h.jsx("span",{children:"Item Name"}),w.key==="name"&&(w.direction==="ascending"?"":"")]})}),h.jsx("th",{scope:"col",className:"px-6 py-3 text-right text-xs font-medium uppercase tracking-wider",children:h.jsxs("button",{onClick:()=>ce("quantity"),className:"w-full flex items-center justify-end gap-1",children:[h.jsx("span",{children:"Qty Sold"}),w.key==="quantity"&&(w.direction==="ascending"?"":"")]})}),h.jsx("th",{scope:"col",className:"px-6 py-3 text-right text-xs font-medium uppercase tracking-wider",children:h.jsxs("button",{onClick:()=>ce("price"),className:"w-full flex items-center justify-end gap-1",children:[h.jsx("span",{children:"Unit Price"}),w.key==="price"&&(w.direction==="ascending"?"":"")]})}),h.jsx("th",{scope:"col",className:"px-6 py-3 text-right text-xs font-medium uppercase tracking-wider",children:h.jsxs("button",{onClick:()=>ce("totalRevenue"),className:"w-full flex items-center justify-end gap-1",children:[h.jsx("span",{children:"Total Revenue"}),w.key==="totalRevenue"&&(w.direction==="ascending"?"":"")]})}),h.jsx("th",{scope:"col",className:"px-6 py-3 text-right text-xs font-medium uppercase tracking-wider",children:h.jsxs("button",{onClick:()=>ce("contribution"),className:"w-full flex items-center justify-end gap-1",children:[h.jsx("span",{children:"% of Total"}),w.key==="contribution"&&(w.direction==="ascending"?"":"")]})})]})}),h.jsx("tbody",{className:"divide-y divide-gray-200 dark:divide-slate-600",children:ae.length>0?ae.map((le,Ne)=>h.jsxs("tr",{className:"hover:bg-indigo-50 dark:hover:bg-slate-700",children:[h.jsx("td",{className:"px-6 py-4 text-right",children:(P-1)*k+Ne+1}),h.jsx("td",{className:"px-6 py-4 font-medium text-left",children:le.name}),h.jsx("td",{className:"px-6 py-4 text-right",children:le.quantity}),h.jsxs("td",{className:"px-6 py-4 text-right",children:[X,le.price.toFixed(2)]}),h.jsxs("td",{className:"px-6 py-4 font-bold text-indigo-700 dark:text-indigo-400 text-right",children:[X,le.totalRevenue.toFixed(2)]}),h.jsxs("td",{className:"px-6 py-4 text-right text-sm",children:[le.contribution.toFixed(1),"%"]})]},le.name)):h.jsx("tr",{children:h.jsx("td",{colSpan:6,className:"text-center py-16",children:h.jsxs("div",{className:"flex flex-col items-center justify-center text-slate-500 dark:text-slate-400",children:[h.jsx(jce,{className:"w-16 h-16 mb-4"}),h.jsx("h3",{className:"text-xl font-semibold",children:"No Item Data Found"}),h.jsx("p",{className:"text-sm mt-1",children:"There were no items sold in this date range."})]})})})})]})}),h.jsxs("div",{className:"flex justify-between items-center mt-4",children:[h.jsxs("span",{className:"text-sm text-slate-500 dark:text-slate-400",children:["Showing ",ae.length," of ",Y.length," items"]}),h.jsxs("div",{children:[h.jsx("button",{onClick:()=>O(le=>Math.max(1,le-1)),disabled:P===1,className:"px-3 py-1 border rounded-md disabled:opacity-50 dark:border-slate-600",children:"Prev"}),h.jsxs("span",{className:"mx-2",children:[P," / ",Math.max(1,Math.ceil(Y.length/k))]}),h.jsx("button",{onClick:()=>O(le=>Math.min(Math.ceil(Y.length/k),le+1)),disabled:P*k>=Y.length,className:"px-3 py-1 border rounded-md disabled:opacity-50 dark:border-slate-600",children:"Next"})]})]})]})},Vce=()=>h.jsx("svg",{stroke:"currentColor",fill:"currentColor",strokeWidth:"0",viewBox:"0 0 448 512",height:"1em",width:"1em",xmlns:"http://www.w3.org/2000/svg",children:h.jsx("path",{d:"M257.5 445.1l-22.2 22.2c-9.4 9.4-24.6 9.4-33.9 0L7 273c-9.4-9.4-9.4-24.6 0-33.9L201.4 44.7c9.4-9.4 24.6-9.4 33.9 0l22.2 22.2c9.5 9.5 9.3 25-.4 34.3L136.6 216H424c13.3 0 24 10.7 24 24v32c0 13.3-10.7 24-24 24H136.6l120.5 114.8c9.8 9.3 10 24.8.4 34.3z"})}),zce=()=>h.jsx("svg",{stroke:"currentColor",fill:"currentColor",strokeWidth:"0",viewBox:"0 0 448 512",height:"1em",width:"1em",xmlns:"http://www.w3.org/2000/svg",children:h.jsx("path",{d:"M0 464c0 26.5 21.5 48 48 48h352c26.5 0 48-21.5 48-48V192H0v272zm320-196c0-6.6 5.4-12 12-12h40c6.6 0 12 5.4 12 12v40c0 6.6-5.4 12-12 12h-40c-6.6 0-12-5.4-12-12v-40zm0 128c0-6.6 5.4-12 12-12h40c6.6 0 12 5.4 12 12v40c0 6.6-5.4 12-12 12h-40c-6.6 0-12-5.4-12-12v-40zM192 268c0-6.6 5.4-12 12-12h40c6.6 0 12 5.4 12 12v40c0 6.6-5.4 12-12 12h-40c-6.6 0-12-5.4-12-12v-40zm0 128c0-6.6 5.4-12 12-12h40c6.6 0 12 5.4 12 12v40c0 6.6-5.4 12-12 12h-40c-6.6 0-12-5.4-12-12v-40zM64 268c0-6.6 5.4-12 12-12h40c6.6 0 12 5.4 12 12v40c0 6.6-5.4 12-12 12H76c-6.6 0-12-5.4-12-12v-40zm0 128c0-6.6 5.4-12 12-12h40c6.6 0 12 5.4 12 12v40c0 6.6-5.4 12-12 12H76c-6.6 0-12-5.4-12-12v-40zM400 64h-48V16c0-8.8-7.2-16-16-16h-32c-8.8 0-16 7.2-16 16v48H160V16c0-8.8-7.2-16-16-16h-32c-8.8 0-16 7.2-16 16v48H48C21.5 64 0 85.5 0 112v48h448v-48c0-26.5-21.5-48-48-48z"})}),$ce=()=>h.jsx("svg",{stroke:"currentColor",fill:"currentColor",strokeWidth:"0",viewBox:"0 0 512 512",height:"1em",width:"1em",xmlns:"http://www.w3.org/2000/svg",children:h.jsx("path",{d:"M416 224V64c0-8.8-7.2-16-16-16H112c-8.8 0-16 7.2-16 16v160h320zM96 256H32v176c0 13.3 10.7 24 24 24h32v-80c0-26.5 21.5-48 48-48h160c26.5 0 48 21.5 48 48v80h32c13.3 0 24-10.7 24-24V256H96zM480 96h-32v128h32c8.8 0 16-7.2 16-16V112c0-8.8-7.2-16-16-16zM288 352h-64c-8.8 0-16 7.2-16 16v64c0 8.8 7.2 16 16 16h64c8.8 0 16-7.2 16-16v-64c0-8.8-7.2-16-16-16z"})}),Uce=()=>h.jsx("svg",{stroke:"currentColor",fill:"currentColor",strokeWidth:"0",viewBox:"0 0 384 512",height:"1em",width:"1em",xmlns:"http://www.w3.org/2000/svg",children:h.jsx("path",{d:"M369.9 97.9L286 14C277 5 264.8-.1 252.1-.1H48C21.5 0 0 21.5 0 48v416c0 26.5 21.5 48 48 48h288c26.5 0 48-21.5 48-48V131.9c0-12.7-5.1-25-14.1-34zM332.1 128H256V51.9l76.1 76.1zM48 464V48h160v104c0 13.3 10.7 24 24 24h104v288H48zm212-240h-28.8c-4.4 0-8.4 2.4-10.5 6.3-18 33.1-22.2 42.4-28.6 57.7-13.9-29.1-6.9-17.3-28.6-57.7-2.1-3.9-6.2-6.3-10.6-6.3H124c-9.8 0-15.6 10-10.8 18.3l48 85.3c-22.3 20.4-44.5 44.9-66.2 73.3-4.5 5.9-2.2 14.3 4.9 16.3h28.3c4.5 0 8.5-2.5 10.6-6.3 22.4-40 44.8-80 67.2-120 10.1 18.6 20.8 38.2 32 59.2 2.9 5.5 8.7 9.1 14.8 9.1h28.3c7.1-1.9 9.4-10.3 4.9-16.3-21.2-27.6-43-55.5-65.3-84.8l48-85.3c4.9-8.3-.9-18.3-10.8-18.3z"})}),Wce=()=>h.jsx("svg",{stroke:"currentColor",fill:"currentColor",strokeWidth:"0",viewBox:"0 0 576 512",height:"1em",width:"1em",xmlns:"http://www.w3.org/2000/svg",children:h.jsx("path",{d:"M528 224H48.8c-10.7 0-20.8 5.1-26.9 13.2L0 273.4V464c0 26.5 21.5 48 48 48h480c26.5 0 48-21.5 48-48V273.4l-21.9-36.2c-6-8.1-16.1-13.2-26.9-13.2zM48 352h160v64H48v-64zm192 0h160v64H240v-64zm336-48.4l19.2 31.8-19.2 31.8V303.6zM48 0h480c26.5 0 48 21.5 48 48v80H0V48C0 21.5 21.5 0 48 0z"})}),qce=()=>h.jsx("svg",{stroke:"currentColor",fill:"currentColor",strokeWidth:"0",viewBox:"0 0 448 512",height:"1em",width:"1em",xmlns:"http://www.w3.org/2000/svg",children:h.jsx("path",{d:"M424.4 214.7L72.4 6.6C43.8-10.3 0 6.1 0 47.9V464c0 37.5 40.7 60.1 72.4 41.3l352-208c31.4-18.5 31.5-64.1 0-82.6z"})}),Hce=()=>h.jsx("svg",{stroke:"currentColor",fill:"currentColor",strokeWidth:"0",viewBox:"0 0 448 512",height:"1em",width:"1em",xmlns:"http://www.w3.org/2000/svg",children:h.jsx("path",{d:"M32 32v448h448V32H32zm240 344h-32V200h32v176zm88 0h-32V136h32v240zm-176 0h-32V280h32v96z"})}),Kce=()=>h.jsx("svg",{stroke:"currentColor",fill:"currentColor",strokeWidth:"0",viewBox:"0 0 576 512",height:"1em",width:"1em",xmlns:"http://www.w3.org/2000/svg",children:h.jsx("path",{d:"M552 64H448V24c0-13.3-10.7-24-24-24H152c-13.3 0-24 10.7-24 24v40H24C10.7 64 0 74.7 0 88v56c0 66.5 77.9 130.7 171.9 142.4C203.3 392.4 256 464 256 464v48H176c-13.3 0-24 10.7-24 24s10.7 24 24 24h224c13.3 0 24-10.7 24-24s-10.7-24-24-24H320v-48s52.7-71.6 84.1-177.6C502.1 274.7 576 210.5 576 144V88c0-13.3-10.7-24-24-24zM128 128c0-17.7 14.3-32 32-32h192c17.7 0 32 14.3 32 32v32H128v-32z"})}),Gce=()=>h.jsx("svg",{stroke:"currentColor",fill:"currentColor",strokeWidth:"0",viewBox:"0 0 544 512",height:"1em",width:"1em",xmlns:"http://www.w3.org/2000/svg",children:h.jsx("path",{d:"M527.79 288H290.51a15.95 15.95 0 0 1-15.95-16V16.21a15.95 15.95 0 0 1 15.95-16c2.65 0 5.26.65 7.64 1.86A256.06 256.06 0 0 1 527.79 288zm-288-16a15.95 15.95 0 0 1 15.95-16H528a16 16 0 0 1 16 16v16a256 256 0 0 1-256 256H21.53c-11.21 0-19.18-11.45-14.45-21.53A256.06 256.06 0 0 1 239.79 272z"})}),Yce=()=>{const e=S0(),[t,n]=S.useState(!0),[r,i]=S.useState(""),[a,s]=S.useState(""),[o,l]=S.useState([]),[u,c]=S.useState(!1),[d,p]=S.useState(null),[f,g]=S.useState("bar"),v=S.useRef(null),b=S.useRef(null),x=S.useRef(null),w=S.useRef(null),A=S.useRef(null),P=C=>{const R=C.reduce((ie,H)=>{const se=H.tableName||"Unknown Table";return ie[se]||(ie[se]={orders:0,total:0,discount:0,grandTotal:0,items:{}}),ie[se].orders+=1,ie[se].total+=H.subTotal||0,ie[se].discount+=H.discount||0,ie[se].grandTotal+=H.grandTotal||0,(H.items||[]).forEach(ye=>{ie[se].items[ye.name]||(ie[se].items[ye.name]=0),ie[se].items[ye.name]+=ye.quantity}),ie},{});let W={name:null,value:-1},Y={name:null,value:1/0};const ae=Object.keys(R).map(ie=>{const H=R[ie],se=H.orders>0?H.grandTotal/H.orders:0;H.grandTotal>W.value&&(W={name:ie,value:H.grandTotal}),H.grandTotal<Y.value&&(Y={name:ie,value:H.grandTotal});const ye=Object.entries(H.items).sort((be,$)=>$[1]-be[1]).slice(0,2).map(be=>`${be[0]} (x${be[1]})`).join(", ");return{name:ie,turnover:H.orders,aov:se,topItems:ye||"N/A",...H}});return ae.map(ie=>({...ie,isBest:ie.name===W.name&&ae.length>1,isWorst:ie.name===Y.name&&ae.length>1}))};S.useEffect(()=>{(async()=>{if(r&&a){c(!0);try{const R=await fo();p(R||{});const W=await Fl(new Date(r),new Date(a));l(P(W))}catch(R){console.error("Error processing table sales report:",R)}c(!1)}})()},[r,a]),S.useEffect(()=>{const C=()=>{b.current&&b.current.destroy();const R=v.current.getContext("2d"),W=o.map(ae=>ae.name),Y=o.map(ae=>ae.grandTotal);b.current=new window.Chart(R,{type:f,data:{labels:W,datasets:[{label:"Total Sales",data:Y,backgroundColor:f==="pie"?["#FF6384","#36A2EB","#FFCE56","#4BC0C0","#9966FF","#FF9F40"]:"#36A2EB",borderColor:"#fff"}]},options:{responsive:!0,maintainAspectRatio:!1,plugins:{legend:{display:f==="pie",position:"top"},title:{display:!0,text:"Sales Revenue by Table"}}}})};if(o.length>0&&v.current)if(window.Chart)C();else{const R=document.createElement("script");R.src="https://cdn.jsdelivr.net/npm/chart.js",R.onload=C,document.body.appendChild(R)}},[o,f]);const O=o.reduce((C,R)=>(C.orders+=R.turnover,C.total+=R.total,C.discount+=R.discount,C.grandTotal+=R.grandTotal,C),{orders:0,total:0,discount:0,grandTotal:0}),D=O.orders>0?O.grandTotal/O.orders:0,T="",k=C=>{const R=new Date;let W=new Date;C==="today"?W.setHours(0,0,0,0):C==="week"?W.setDate(R.getDate()-R.getDay()):C==="month"&&W.setDate(1);const Y=ae=>ae.toISOString().split("T")[0];i(Y(W)),s(Y(R)),n(!1)},I=()=>{!x.current.value||!w.current.value||(i(x.current.value),s(w.current.value),n(!1))},M=()=>{if(o.length===0)return;const C=()=>{const R=()=>{const{jsPDF:W}=window.jspdf,Y=new W;Y.text("Table-wise Sales Report",14,15),Y.autoTable({startY:20,head:[["Table","Turnover","AOV","Top Items","Net Sales"]],body:o.map(ae=>[ae.name,ae.turnover,ae.aov.toFixed(2),ae.topItems,ae.grandTotal.toFixed(2)])}),Y.save(`TableWiseSalesReport_${r}_to_${a}.pdf`)};if(window.jspdf.autoTable)R();else{const W=document.createElement("script");W.src="https://cdnjs.cloudflare.com/ajax/libs/jspdf-autotable/3.5.23/jspdf.plugin.autotable.min.js",W.onload=R,document.body.appendChild(W)}};if(window.jspdf)C();else{const R=document.createElement("script");R.src="https://cdnjs.cloudflare.com/ajax/libs/jspdf/2.5.1/jspdf.umd.min.js",R.onload=C,document.body.appendChild(R)}},N=()=>{if(o.length===0)return;const C=()=>{const R=window.XLSX.utils.book_new(),W=[["Table Name","Turnover","Avg. Order Value","Gross Sales","Discounts","Net Sales","Top Items"],...o.map(ae=>[ae.name,ae.turnover,ae.aov.toFixed(2),ae.total.toFixed(2),ae.discount.toFixed(2),ae.grandTotal.toFixed(2),ae.topItems])],Y=window.XLSX.utils.aoa_to_sheet(W);window.XLSX.utils.book_append_sheet(R,Y,"Table-wise Report"),window.XLSX.writeFile(R,`TableWiseSalesReport_${r}_to_${a}.xlsx`)};if(window.XLSX)C();else{const R=document.createElement("script");R.src="https://cdn.sheetjs.com/xlsx-latest/package/dist/xlsx.full.min.js",R.onload=C,document.body.appendChild(R)}};return t?h.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",children:h.jsxs("div",{className:"bg-white p-8 rounded-lg shadow-2xl w-full max-w-md animate-fade-in-up",children:[h.jsx("h2",{className:"text-2xl font-bold text-slate-800 mb-6 text-center",children:"Select Date Range"}),h.jsxs("div",{className:"flex justify-center gap-2 mb-4",children:[h.jsx("button",{onClick:()=>k("today"),className:"px-3 py-1 text-sm bg-slate-200 rounded-full hover:bg-slate-300",children:"Today"}),h.jsx("button",{onClick:()=>k("week"),className:"px-3 py-1 text-sm bg-slate-200 rounded-full hover:bg-slate-300",children:"This Week"}),h.jsx("button",{onClick:()=>k("month"),className:"px-3 py-1 text-sm bg-slate-200 rounded-full hover:bg-slate-300",children:"This Month"})]}),h.jsxs("div",{className:"space-y-4",children:[h.jsx("input",{ref:x,type:"date",className:"w-full border border-gray-300 rounded-md px-3 py-2"}),h.jsx("input",{ref:w,type:"date",className:"w-full border border-gray-300 rounded-md px-3 py-2"})]}),h.jsxs("button",{ref:A,onClick:I,className:"w-full mt-8 flex items-center justify-center gap-2 bg-indigo-600 text-white px-4 py-3 rounded-lg shadow-md hover:bg-indigo-700",children:[h.jsx(qce,{})," Generate Report"]}),r&&a&&h.jsx("button",{onClick:()=>n(!1),className:"w-full mt-3 text-sm text-gray-500 hover:text-gray-700 underline",children:"Cancel"})]})}):h.jsxs("div",{className:"p-4 sm:p-6 lg:p-8 bg-slate-50 min-h-screen",children:[h.jsxs("div",{className:"flex flex-col gap-4 mb-6",children:[h.jsxs("div",{className:"flex items-center gap-3",children:[h.jsx("button",{onClick:()=>e(-1),className:"p-2 bg-white rounded-full shadow hover:bg-gray-100 text-slate-600 transition",title:"Go Back",children:h.jsx(Vce,{})}),h.jsx("h1",{className:"text-3xl font-bold text-slate-800",children:"Advanced Table-wise Report"})]}),h.jsxs("div",{className:"flex flex-col sm:flex-row justify-between items-start sm:items-center gap-4 bg-white p-4 rounded-lg shadow-sm border border-slate-100",children:[h.jsxs("div",{children:[h.jsx("p",{className:"text-sm text-slate-500",children:"Currently showing results for:"}),h.jsxs("div",{className:"flex items-center gap-2",children:[h.jsx("span",{className:"font-bold text-lg text-slate-700",children:r}),h.jsx("span",{className:"text-slate-400",children:"to"}),h.jsx("span",{className:"font-bold text-lg text-slate-700",children:a})]})]}),h.jsxs("div",{className:"flex flex-wrap gap-2",children:[h.jsxs("button",{onClick:()=>n(!0),className:"flex items-center gap-2 bg-indigo-50 text-indigo-700 px-4 py-2 rounded-lg hover:bg-indigo-100 border border-indigo-200 font-medium transition",children:[h.jsx(zce,{})," Change Date"]}),h.jsxs("button",{onClick:N,disabled:o.length===0,className:"flex items-center gap-2 bg-green-600 text-white px-4 py-2 rounded-lg shadow-md hover:bg-green-700 disabled:bg-gray-400 transition",children:[h.jsx(Uce,{})," Excel"]}),h.jsxs("button",{onClick:M,disabled:o.length===0,className:"flex items-center gap-2 bg-rose-600 text-white px-4 py-2 rounded-lg shadow-md hover:bg-rose-700 disabled:bg-gray-400 transition",children:[h.jsx($ce,{})," PDF"]})]})]})]}),h.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6 mb-6",children:[h.jsxs("div",{className:"bg-white p-5 rounded-lg shadow",children:[h.jsx("p",{className:"text-sm text-slate-500",children:"Total Revenue"}),h.jsxs("p",{className:"text-2xl font-bold text-slate-800",children:[T,O.grandTotal.toFixed(2)]})]}),h.jsxs("div",{className:"bg-white p-5 rounded-lg shadow",children:[h.jsx("p",{className:"text-sm text-slate-500",children:"Total Turnovers"}),h.jsx("p",{className:"text-2xl font-bold text-slate-800",children:O.orders})]}),h.jsxs("div",{className:"bg-white p-5 rounded-lg shadow",children:[h.jsx("p",{className:"text-sm text-slate-500",children:"Overall AOV"}),h.jsxs("p",{className:"text-2xl font-bold text-slate-800",children:[T,D.toFixed(2)]})]}),h.jsxs("div",{className:"bg-white p-5 rounded-lg shadow",children:[h.jsx("p",{className:"text-sm text-slate-500",children:"Active Tables"}),h.jsx("p",{className:"text-2xl font-bold text-slate-800",children:o.length})]})]}),o.length>0&&h.jsxs("div",{className:"bg-white p-4 rounded-lg shadow-lg mb-6",children:[h.jsxs("div",{className:"flex justify-end gap-2 mb-2",children:[h.jsx("button",{onClick:()=>g("bar"),className:`p-2 rounded-full ${f==="bar"?"bg-indigo-600 text-white":"bg-slate-200"}`,children:h.jsx(Hce,{})}),h.jsx("button",{onClick:()=>g("pie"),className:`p-2 rounded-full ${f==="pie"?"bg-indigo-600 text-white":"bg-slate-200"}`,children:h.jsx(Gce,{})})]}),h.jsx("div",{className:"h-96",children:h.jsx("canvas",{ref:v})})]}),h.jsx("div",{className:"overflow-x-auto bg-white rounded-lg shadow-lg",children:u?h.jsx("div",{className:"flex justify-center items-center py-20",children:h.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-indigo-600"})}):h.jsxs("table",{className:"min-w-full",children:[h.jsx("thead",{className:"bg-slate-100",children:h.jsx("tr",{children:["Table","Turnover","AOV","Top Items","Net Sales"].map(C=>h.jsx("th",{className:`px-6 py-3 text-xs font-bold text-slate-600 uppercase tracking-wider ${C.includes("Sales")||C.includes("AOV")?"text-right":"text-left"}`,children:C},C))})}),h.jsx("tbody",{className:"divide-y divide-gray-200",children:o.length>0?o.map(C=>h.jsxs("tr",{className:`${C.isBest?"bg-green-50":""} ${C.isWorst?"bg-red-50":""} hover:bg-indigo-50`,children:[h.jsxs("td",{className:"px-6 py-4 font-medium text-gray-800 whitespace-normal break-words max-w-xs",children:[C.name,C.isBest&&h.jsxs("span",{className:"ml-2 text-xs text-green-600 font-bold flex items-center gap-1",children:[h.jsx(Kce,{})," Best"]}),C.isWorst&&h.jsx("span",{className:"ml-2 text-xs text-red-600 font-bold",children:"Lowest"})]}),h.jsx("td",{className:"px-6 py-4 text-center",children:C.turnover}),h.jsxs("td",{className:"px-6 py-4 text-right",children:[T,C.aov.toFixed(2)]}),h.jsx("td",{className:"px-6 py-4 text-sm text-slate-600",children:C.topItems}),h.jsxs("td",{className:"px-6 py-4 font-bold text-indigo-700 text-right",children:[T,C.grandTotal.toFixed(2)]})]},C.name)):h.jsx("tr",{children:h.jsx("td",{colSpan:5,className:"text-center py-16",children:h.jsxs("div",{className:"flex flex-col items-center justify-center text-slate-500",children:[h.jsx(Wce,{className:"w-16 h-16 mb-4"}),h.jsx("h3",{className:"text-xl font-semibold",children:"No Table Data Found"}),h.jsx("p",{className:"text-sm mt-1",children:"There were no sales records for any table in this date range."})]})})})})]})})]})},Xce=()=>h.jsx("svg",{stroke:"currentColor",fill:"currentColor",strokeWidth:"0",viewBox:"0 0 576 512",height:"1em",width:"1em",xmlns:"http://www.w3.org/2000/svg",children:h.jsx("path",{d:"M528 224H48.8c-10.7 0-20.8 5.1-26.9 13.2L0 273.4V464c0 26.5 21.5 48 48 48h480c26.5 0 48-21.5 48-48V273.4l-21.9-36.2c-6-8.1-16.1-13.2-26.9-13.2zM48 352h160v64H48v-64zm192 0h160v64H240v-64zm336-48.4l19.2 31.8-19.2 31.8V303.6zM48 0h480c26.5 0 48 21.5 48 48v80H0V48C0 21.5 21.5 0 48 0z"})}),Qce=()=>h.jsx("svg",{stroke:"currentColor",fill:"currentColor",strokeWidth:"0",viewBox:"0 0 448 512",height:"1em",width:"1em",xmlns:"http://www.w3.org/2000/svg",children:h.jsx("path",{d:"M424.4 214.7L72.4 6.6C43.8-10.3 0 6.1 0 47.9V464c0 37.5 40.7 60.1 72.4 41.3l352-208c31.4-18.5 31.5-64.1 0-82.6z"})}),Zce=()=>{const[e,t]=S.useState(!0),[n,r]=S.useState(""),[i,a]=S.useState(""),[s,o]=S.useState([]),[l,u]=S.useState(!1),[c,d]=S.useState(null),p=S.useRef(null),f=S.useRef(null),g=S.useRef(null),v=S.useRef(null),b=S.useRef(null),x=P=>{const O=P.reduce((T,k)=>{const I=k.paymentMode||"Unspecified";return T[I]||(T[I]={count:0,total:0}),T[I].count+=1,T[I].total+=k.grandTotal||0,T},{}),D=Object.values(O).reduce((T,k)=>T+k.total,0);return Object.keys(O).map(T=>({name:T,count:O[T].count,total:O[T].total,percentage:D>0?O[T].total/D*100:0})).sort((T,k)=>k.total-T.total)};S.useEffect(()=>{(async()=>{if(n&&i){u(!0);try{const O=await fo();d(O||{});const D=await Fl(new Date(n),new Date(i));o(x(D))}catch(O){console.error("Error processing payment mode report:",O)}u(!1)}})()},[n,i]),S.useEffect(()=>{const P=()=>{f.current&&f.current.destroy();const O=p.current.getContext("2d"),D=s.map(k=>k.name),T=s.map(k=>k.total);f.current=new window.Chart(O,{type:"pie",data:{labels:D,datasets:[{label:"Sales by Payment Mode",data:T,backgroundColor:["#4BC0C0","#FF6384","#FFCE56","#36A2EB","#9966FF"],borderColor:"#fff"}]},options:{responsive:!0,maintainAspectRatio:!1}})};if(s.length>0&&p.current)if(window.Chart)P();else{const O=document.createElement("script");O.src="https://cdn.jsdelivr.net/npm/chart.js",O.onload=P,document.body.appendChild(O)}},[s]);const w=s.reduce((P,O)=>(P.count+=O.count,P.total+=O.total,P),{count:0,total:0}),A=()=>{!g.current.value||!v.current.value||(r(g.current.value),a(v.current.value),t(!1))};return e?h.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",children:h.jsxs("div",{className:"bg-white p-8 rounded-lg shadow-2xl w-full max-w-md animate-fade-in-up",children:[h.jsx("h2",{className:"text-2xl font-bold text-slate-800 mb-6 text-center",children:"Select Date Range"}),h.jsxs("div",{className:"space-y-4",children:[h.jsx("input",{ref:g,type:"date",className:"w-full border p-2 rounded-md"}),h.jsx("input",{ref:v,type:"date",className:"w-full border p-2 rounded-md"})]}),h.jsxs("button",{ref:b,onClick:A,className:"w-full mt-8 flex items-center justify-center gap-2 bg-indigo-600 text-white py-3 rounded-lg shadow-md hover:bg-indigo-700",children:[h.jsx(Qce,{})," Generate Report"]})]})}):h.jsxs("div",{className:"p-4 sm:p-6 lg:p-8 bg-slate-50 min-h-screen",children:[h.jsx("header",{className:"flex flex-col sm:flex-row justify-between items-center mb-6",children:h.jsxs("div",{children:[h.jsx("h1",{className:"text-3xl font-bold text-slate-800",children:"Payment Mode Report"}),h.jsxs("p",{className:"text-sm text-slate-500 mt-1",children:["Results for: ",h.jsx("span",{className:"font-semibold",children:n})," to ",h.jsx("span",{className:"font-semibold",children:i})]})]})}),h.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6 mb-6",children:[h.jsxs("div",{className:"bg-white p-5 rounded-lg shadow",children:[h.jsx("p",{className:"text-sm text-slate-500",children:"Total Revenue"}),h.jsx("p",{className:"text-2xl font-bold text-slate-800",children:w.total.toFixed(2)})]}),h.jsxs("div",{className:"bg-white p-5 rounded-lg shadow",children:[h.jsx("p",{className:"text-sm text-slate-500",children:"Total Transactions"}),h.jsx("p",{className:"text-2xl font-bold text-slate-800",children:w.count})]})]}),h.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-5 gap-6",children:[h.jsx("div",{className:"lg:col-span-3 bg-white rounded-lg shadow-lg overflow-hidden",children:l?h.jsx("div",{className:"flex justify-center items-center py-20",children:h.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-indigo-600"})}):h.jsxs("table",{className:"min-w-full",children:[h.jsx("thead",{className:"bg-slate-100",children:h.jsx("tr",{children:["Payment Mode","Transactions","% of Total","Total Amount"].map(P=>h.jsx("th",{className:`px-6 py-3 text-xs font-bold text-slate-600 uppercase tracking-wider ${P.includes("Amount")||P==="Transactions"?"text-right":"text-left"}`,children:P},P))})}),h.jsx("tbody",{className:"divide-y divide-gray-200",children:s.length>0?s.map(P=>h.jsxs("tr",{className:"hover:bg-indigo-50",children:[h.jsx("td",{className:"px-6 py-4 font-medium text-gray-800",children:P.name}),h.jsx("td",{className:"px-6 py-4 text-right",children:P.count}),h.jsxs("td",{className:"px-6 py-4 text-right",children:[P.percentage.toFixed(2),"%"]}),h.jsx("td",{className:"px-6 py-4 font-bold text-indigo-700 text-right",children:P.total.toFixed(2)})]},P.name)):h.jsx("tr",{children:h.jsxs("td",{colSpan:4,className:"text-center py-16 text-slate-500",children:[h.jsx(Xce,{className:"w-16 h-16 mx-auto mb-4"}),h.jsx("h3",{className:"text-xl font-semibold",children:"No Data Found"})]})})})]})}),h.jsxs("div",{className:"lg:col-span-2 bg-white p-4 rounded-lg shadow-lg",children:[h.jsx("h3",{className:"font-bold text-lg text-slate-700 mb-4",children:"Sales Distribution"}),s.length>0?h.jsx("div",{className:"h-80",children:h.jsx("canvas",{ref:p})}):h.jsx("p",{className:"text-center text-slate-500 pt-16",children:"No data to display chart."})]})]})]})},Jce={maxTablesPerCombo:4,maxOptions:3,fullComboThreshold:18,comboSearchLimit:2e5,weights:{waste:8,count:5,adjacency:1.5}};function ede(e){return e.map(t=>({id:String(t.id??t._id??t.name),name:String(t.name??t.id),capacity:Number(t.capacity||0),status:t.status??"available"}))}function tde(e){const t=e.map(r=>{const i=r.name.match(/\d+/g);return i?Number(i[i.length-1]):null}).filter(Boolean).sort((r,i)=>r-i);if(t.length<2)return 0;let n=0;for(let r=1;r<t.length;r++){const i=t[r]-t[r-1];i===1?n+=2:i===2&&(n+=1)}return-n}function d1(e,t,n){const r=e.reduce((l,u)=>l+u.capacity,0),i=r-t,a=e.length,s=tde(e),o=i*n.waste+a*n.count+s*n.adjacency;return{tables:e,totalCapacity:r,waste:i,count:a,score:Number(o.toFixed(4))}}function nde(e,t){let n=0;const r=[];for(const i of e)if(r.push(i),n+=i.capacity,n>=t)return r;return null}function rde(e,t,n=Jce){const i=ede(e).filter(p=>p.status==="available"&&p.capacity>0).sort((p,f)=>p.capacity-f.capacity),a=[],s=new Set,o=p=>{const f=p.tables.map(g=>g.id).sort().join("|");s.has(f)||(s.add(f),a.push(p))};if(t<=0)return[];const l=i.find(p=>p.capacity===t);if(l)return[d1([l],t,n.weights)];const u=i.find(p=>p.capacity>=t);u&&o(d1([u],t,n.weights));const c=nde(i,t);c&&o(d1(c,t,n.weights));const d=i.length;if(d<=n.fullComboThreshold){const p=1<<d;let f=0;for(let g=1;g<p&&!(++f>n.comboSearchLimit);g++){const v=[];let b=0,x=0;for(let w=0;w<d&&!(g&1<<w&&(v.push(i[w]),b+=i[w].capacity,x++,x>n.maxTablesPerCombo));w++);x>n.maxTablesPerCombo||b>=t&&o(d1(v,t,n.weights))}}return a.length===0?[{type:"error",message:`Not enough space. Max capacity is ${i.reduce((p,f)=>p+f.capacity,0)}.`}]:(a.sort((p,f)=>p.score!==f.score?p.score-f.score:p.waste!==f.waste?p.waste-f.waste:p.count-f.count),a.slice(0,n.maxOptions))}const ide=()=>{const[e,t]=S.useState([]),[n,r]=S.useState(null),[i,a]=S.useState([]),[s,o]=S.useState(!1),[l,u]=S.useState(!1),[c,d]=S.useState(null),p=S0();S.useEffect(()=>{const b=US(no(Cn,"tables"),Yv("status","==","available")),x=V2(b,w=>{const A=w.docs.map(P=>({id:P.id,...P.data()}));t(A),d(null)},w=>{console.error("Error fetching tables:",w),d("Failed to load tables from database.")});return()=>x()},[]);const f=S.useCallback(()=>{if(!n||n<=0){a([{type:"error",message:"Please enter a valid number of guests (1 or more) to find tables."}]);return}u(!0),a([]),setTimeout(()=>{const b=rde(e,n);a(b),u(!1)},150)},[e,n]),g=b=>{if(b.type==="error")return;o(!0);const x=b.tables.map(O=>O.id),w=encodeURIComponent(x[0]),A=x.slice(1).map(O=>encodeURIComponent(O)).join(",");let P=`/order?tableId=${w}`;A&&(P+=`&linked=${A}`),p(P),setTimeout(()=>o(!1),500)},v=b=>{const x=b.target.value;if(x==="")r(null);else{const w=parseInt(x,10);r(Math.max(1,isNaN(w)?0:w))}};return h.jsx("div",{className:"min-h-screen bg-gray-100 flex items-center justify-center p-4 font-sans",children:h.jsxs("div",{className:"bg-white max-w-xl w-full rounded-2xl shadow-xl p-6 md:p-8 border border-gray-200",children:[h.jsxs("div",{className:"text-center mb-8",children:[h.jsxs("h1",{className:"text-3xl sm:text-4xl font-extrabold text-gray-900 mb-1 tracking-tight",children:["Host AI ",h.jsx("span",{className:"text-[#10B981]",children:"Optimizer"})]}),h.jsx("p",{className:"text-sm sm:text-base text-gray-500 font-medium",children:"Find the most efficient table assignment for your guests."})]}),c&&h.jsx("div",{className:"mb-4 p-3 bg-red-100 text-red-700 rounded-lg text-sm text-center",children:c}),!c&&e.length===0&&h.jsx("div",{className:"mb-4 text-center text-sm text-gray-400",children:"Waiting for available tables..."}),h.jsxs("div",{className:"flex flex-col md:flex-row items-stretch gap-4 mb-8",children:[h.jsxs("div",{className:"flex-1",children:[h.jsx("label",{className:"block text-sm font-semibold text-gray-700 mb-2",children:"Guest Count"}),h.jsx("input",{type:"number",min:"1",value:n===null?"":n,placeholder:"Enter 1 or more",onChange:v,className:"w-full p-3 sm:p-4 text-2xl sm:text-3xl font-extrabold text-center bg-white border border-gray-300 rounded-xl focus:border-[#10B981] focus:ring-1 focus:ring-[#10B981] transition duration-150 shadow-inner"})]}),h.jsx("button",{onClick:f,disabled:l||!n||n<=0||e.length===0,className:`
              w-full md:w-auto mt-4 md:mt-0 px-6 sm:px-8 py-3 sm:py-4 rounded-xl text-base sm:text-lg font-bold transition duration-200 ease-in-out transform hover:scale-[1.01]
              ${l||!n||n<=0||e.length===0?"bg-gray-300 text-gray-500 cursor-not-allowed shadow-none":"bg-[#10B981] text-white shadow-lg shadow-emerald-500/50 hover:bg-[#059669] active:shadow-md"}
            `,children:l?"Analyzing...":"Find Best Tables"})]}),h.jsxs("div",{className:"space-y-4",children:[h.jsxs("h2",{className:"text-lg sm:text-xl font-bold text-gray-800 border-b pb-2 mb-4",children:["Top Assignments (",i.length,")"]}),i.map((b,x)=>h.jsx("div",{className:"animate-fade-in-up",children:b.type==="error"?h.jsx("div",{className:"p-4 sm:p-5 bg-red-50 border-l-4 border-red-500 rounded-xl shadow-sm",children:h.jsxs("p",{className:"font-semibold text-red-700",children:["Error: ",b.message]})}):h.jsx("div",{className:`
                    border-2 rounded-xl p-4 sm:p-5 transition duration-200 ease-in-out hover:shadow-lg
                    ${x===0?"border-[#10B981] bg-[#ECFDF5] shadow-md scale-[1.005]":"border-gray-200 bg-white"}
                  `,children:h.jsxs("div",{className:"flex flex-col sm:flex-row justify-between items-start sm:items-center gap-3",children:[h.jsxs("div",{className:"flex-1 min-w-0",children:[h.jsx("div",{className:"flex flex-wrap gap-2 mb-2",children:b.tables.map(w=>h.jsxs("span",{className:`
                              px-3 py-1 text-xs sm:text-sm font-semibold rounded-full 
                              ${x===0?"bg-[#D1FAE5] text-[#065F46]":"bg-gray-200 text-gray-700"}
                            `,children:[w.name," (",w.capacity,")"]},w.id))}),h.jsxs("div",{className:"text-sm text-gray-600 font-medium mt-1",children:["Total Capacity: ",h.jsx("b",{className:"text-gray-800",children:b.totalCapacity})," ",b.waste===0?h.jsxs("span",{className:"text-[#059669] ml-2 font-bold flex items-center",children:[h.jsx("svg",{className:"w-4 h-4 mr-1",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg",children:h.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M9 12l2 2 4-4m6 2a9 9 0 11-18 0 9 9 0 0118 0z"})}),"Perfect Fit"]}):h.jsxs("span",{className:"text-orange-600 ml-2 font-semibold",children:[b.waste," Extra Seats"]})]}),h.jsxs("div",{className:"text-xs text-gray-400 mt-1",children:["Score: ",b.score]})]}),h.jsx("button",{onClick:()=>g(b),disabled:s,className:`
                        w-full sm:w-auto px-6 py-3 bg-[#10B981] text-white rounded-lg font-bold text-base transition duration-200 ease-in-out shadow-md hover:bg-[#059669] active:shadow-none
                        ${s?"opacity-75 cursor-wait":""}
                      `,children:s?"Redirecting...":"Select"})]})})},x)),i.length===0&&!l&&n&&n>0&&h.jsxs("div",{className:"p-5 text-center text-gray-500 bg-white rounded-xl border border-gray-300",children:["No matching assignments found for ",n," guests."]}),i.length===0&&!l&&(!n||n<=0)&&h.jsx("div",{className:"p-5 text-center text-gray-500 bg-white rounded-xl border border-gray-300",children:"Enter the number of guests above to find the optimal table layout."})]})]})})};function fB(e){var t,n,r="";if(typeof e=="string"||typeof e=="number")r+=e;else if(typeof e=="object")if(Array.isArray(e)){var i=e.length;for(t=0;t<i;t++)e[t]&&(n=fB(e[t]))&&(r&&(r+=" "),r+=n)}else for(n in e)e[n]&&(r&&(r+=" "),r+=n);return r}function yn(){for(var e,t,n=0,r="",i=arguments.length;n<i;n++)(e=arguments[n])&&(t=fB(e))&&(r&&(r+=" "),r+=t);return r}var ade=["dangerouslySetInnerHTML","onCopy","onCopyCapture","onCut","onCutCapture","onPaste","onPasteCapture","onCompositionEnd","onCompositionEndCapture","onCompositionStart","onCompositionStartCapture","onCompositionUpdate","onCompositionUpdateCapture","onFocus","onFocusCapture","onBlur","onBlurCapture","onChange","onChangeCapture","onBeforeInput","onBeforeInputCapture","onInput","onInputCapture","onReset","onResetCapture","onSubmit","onSubmitCapture","onInvalid","onInvalidCapture","onLoad","onLoadCapture","onError","onErrorCapture","onKeyDown","onKeyDownCapture","onKeyPress","onKeyPressCapture","onKeyUp","onKeyUpCapture","onAbort","onAbortCapture","onCanPlay","onCanPlayCapture","onCanPlayThrough","onCanPlayThroughCapture","onDurationChange","onDurationChangeCapture","onEmptied","onEmptiedCapture","onEncrypted","onEncryptedCapture","onEnded","onEndedCapture","onLoadedData","onLoadedDataCapture","onLoadedMetadata","onLoadedMetadataCapture","onLoadStart","onLoadStartCapture","onPause","onPauseCapture","onPlay","onPlayCapture","onPlaying","onPlayingCapture","onProgress","onProgressCapture","onRateChange","onRateChangeCapture","onSeeked","onSeekedCapture","onSeeking","onSeekingCapture","onStalled","onStalledCapture","onSuspend","onSuspendCapture","onTimeUpdate","onTimeUpdateCapture","onVolumeChange","onVolumeChangeCapture","onWaiting","onWaitingCapture","onAuxClick","onAuxClickCapture","onClick","onClickCapture","onContextMenu","onContextMenuCapture","onDoubleClick","onDoubleClickCapture","onDrag","onDragCapture","onDragEnd","onDragEndCapture","onDragEnter","onDragEnterCapture","onDragExit","onDragExitCapture","onDragLeave","onDragLeaveCapture","onDragOver","onDragOverCapture","onDragStart","onDragStartCapture","onDrop","onDropCapture","onMouseDown","onMouseDownCapture","onMouseEnter","onMouseLeave","onMouseMove","onMouseMoveCapture","onMouseOut","onMouseOutCapture","onMouseOver","onMouseOverCapture","onMouseUp","onMouseUpCapture","onSelect","onSelectCapture","onTouchCancel","onTouchCancelCapture","onTouchEnd","onTouchEndCapture","onTouchMove","onTouchMoveCapture","onTouchStart","onTouchStartCapture","onPointerDown","onPointerDownCapture","onPointerMove","onPointerMoveCapture","onPointerUp","onPointerUpCapture","onPointerCancel","onPointerCancelCapture","onPointerEnter","onPointerEnterCapture","onPointerLeave","onPointerLeaveCapture","onPointerOver","onPointerOverCapture","onPointerOut","onPointerOutCapture","onGotPointerCapture","onGotPointerCaptureCapture","onLostPointerCapture","onLostPointerCaptureCapture","onScroll","onScrollCapture","onWheel","onWheelCapture","onAnimationStart","onAnimationStartCapture","onAnimationEnd","onAnimationEndCapture","onAnimationIteration","onAnimationIterationCapture","onTransitionEnd","onTransitionEndCapture"];function LA(e){if(typeof e!="string")return!1;var t=ade;return t.includes(e)}var sde=["aria-activedescendant","aria-atomic","aria-autocomplete","aria-busy","aria-checked","aria-colcount","aria-colindex","aria-colspan","aria-controls","aria-current","aria-describedby","aria-details","aria-disabled","aria-errormessage","aria-expanded","aria-flowto","aria-haspopup","aria-hidden","aria-invalid","aria-keyshortcuts","aria-label","aria-labelledby","aria-level","aria-live","aria-modal","aria-multiline","aria-multiselectable","aria-orientation","aria-owns","aria-placeholder","aria-posinset","aria-pressed","aria-readonly","aria-relevant","aria-required","aria-roledescription","aria-rowcount","aria-rowindex","aria-rowspan","aria-selected","aria-setsize","aria-sort","aria-valuemax","aria-valuemin","aria-valuenow","aria-valuetext","className","color","height","id","lang","max","media","method","min","name","style","target","width","role","tabIndex","accentHeight","accumulate","additive","alignmentBaseline","allowReorder","alphabetic","amplitude","arabicForm","ascent","attributeName","attributeType","autoReverse","azimuth","baseFrequency","baselineShift","baseProfile","bbox","begin","bias","by","calcMode","capHeight","clip","clipPath","clipPathUnits","clipRule","colorInterpolation","colorInterpolationFilters","colorProfile","colorRendering","contentScriptType","contentStyleType","cursor","cx","cy","d","decelerate","descent","diffuseConstant","direction","display","divisor","dominantBaseline","dur","dx","dy","edgeMode","elevation","enableBackground","end","exponent","externalResourcesRequired","fill","fillOpacity","fillRule","filter","filterRes","filterUnits","floodColor","floodOpacity","focusable","fontFamily","fontSize","fontSizeAdjust","fontStretch","fontStyle","fontVariant","fontWeight","format","from","fx","fy","g1","g2","glyphName","glyphOrientationHorizontal","glyphOrientationVertical","glyphRef","gradientTransform","gradientUnits","hanging","horizAdvX","horizOriginX","href","ideographic","imageRendering","in2","in","intercept","k1","k2","k3","k4","k","kernelMatrix","kernelUnitLength","kerning","keyPoints","keySplines","keyTimes","lengthAdjust","letterSpacing","lightingColor","limitingConeAngle","local","markerEnd","markerHeight","markerMid","markerStart","markerUnits","markerWidth","mask","maskContentUnits","maskUnits","mathematical","mode","numOctaves","offset","opacity","operator","order","orient","orientation","origin","overflow","overlinePosition","overlineThickness","paintOrder","panose1","pathLength","patternContentUnits","patternTransform","patternUnits","pointerEvents","pointsAtX","pointsAtY","pointsAtZ","preserveAlpha","preserveAspectRatio","primitiveUnits","r","radius","refX","refY","renderingIntent","repeatCount","repeatDur","requiredExtensions","requiredFeatures","restart","result","rotate","rx","ry","seed","shapeRendering","slope","spacing","specularConstant","specularExponent","speed","spreadMethod","startOffset","stdDeviation","stemh","stemv","stitchTiles","stopColor","stopOpacity","strikethroughPosition","strikethroughThickness","string","stroke","strokeDasharray","strokeDashoffset","strokeLinecap","strokeLinejoin","strokeMiterlimit","strokeOpacity","strokeWidth","surfaceScale","systemLanguage","tableValues","targetX","targetY","textAnchor","textDecoration","textLength","textRendering","to","transform","u1","u2","underlinePosition","underlineThickness","unicode","unicodeBidi","unicodeRange","unitsPerEm","vAlphabetic","values","vectorEffect","version","vertAdvY","vertOriginX","vertOriginY","vHanging","vIdeographic","viewTarget","visibility","vMathematical","widths","wordSpacing","writingMode","x1","x2","x","xChannelSelector","xHeight","xlinkActuate","xlinkArcrole","xlinkHref","xlinkRole","xlinkShow","xlinkTitle","xlinkType","xmlBase","xmlLang","xmlns","xmlnsXlink","xmlSpace","y1","y2","y","yChannelSelector","z","zoomAndPan","ref","key","angle"],ode=new Set(sde);function hB(e){return typeof e!="string"?!1:ode.has(e)}function pB(e){return typeof e=="string"&&e.startsWith("data-")}function lo(e){if(typeof e!="object"||e===null)return{};var t={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(hB(n)||pB(n))&&(t[n]=e[n]);return t}function t0(e){if(e==null)return null;if(S.isValidElement(e)&&typeof e.props=="object"&&e.props!==null){var t=e.props;return lo(t)}return typeof e=="object"&&!Array.isArray(e)?lo(e):null}function Cs(e){var t={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(hB(n)||pB(n)||LA(n))&&(t[n]=e[n]);return t}var lde=["children","width","height","viewBox","className","style","title","desc"];function d3(){return d3=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},d3.apply(null,arguments)}function ude(e,t){if(e==null)return{};var n,r,i=cde(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)===-1&&{}.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function cde(e,t){if(e==null)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.indexOf(r)!==-1)continue;n[r]=e[r]}return n}var RA=S.forwardRef((e,t)=>{var{children:n,width:r,height:i,viewBox:a,className:s,style:o,title:l,desc:u}=e,c=ude(e,lde),d=a||{width:r,height:i,x:0,y:0},p=yn("recharts-surface",s);return S.createElement("svg",d3({},Cs(c),{className:p,width:r,height:i,style:o,viewBox:"".concat(d.x," ").concat(d.y," ").concat(d.width," ").concat(d.height),ref:t}),S.createElement("title",null,l),S.createElement("desc",null,u),n)}),dde=["children","className"];function f3(){return f3=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},f3.apply(null,arguments)}function fde(e,t){if(e==null)return{};var n,r,i=hde(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)===-1&&{}.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function hde(e,t){if(e==null)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.indexOf(r)!==-1)continue;n[r]=e[r]}return n}var ua=S.forwardRef((e,t)=>{var{children:n,className:r}=e,i=fde(e,dde),a=yn("recharts-layer",r);return S.createElement("g",f3({className:a},Cs(i),{ref:t}),n)}),mB=S.createContext(null),pde=()=>S.useContext(mB);function kn(e){return function(){return e}}const gB=Math.cos,ly=Math.sin,mo=Math.sqrt,uy=Math.PI,K2=2*uy,h3=Math.PI,p3=2*h3,Xc=1e-6,mde=p3-Xc;function vB(e){this._+=e[0];for(let t=1,n=e.length;t<n;++t)this._+=arguments[t]+e[t]}function gde(e){let t=Math.floor(e);if(!(t>=0))throw new Error(`invalid digits: ${e}`);if(t>15)return vB;const n=10**t;return function(r){this._+=r[0];for(let i=1,a=r.length;i<a;++i)this._+=Math.round(arguments[i]*n)/n+r[i]}}class vde{constructor(t){this._x0=this._y0=this._x1=this._y1=null,this._="",this._append=t==null?vB:gde(t)}moveTo(t,n){this._append`M${this._x0=this._x1=+t},${this._y0=this._y1=+n}`}closePath(){this._x1!==null&&(this._x1=this._x0,this._y1=this._y0,this._append`Z`)}lineTo(t,n){this._append`L${this._x1=+t},${this._y1=+n}`}quadraticCurveTo(t,n,r,i){this._append`Q${+t},${+n},${this._x1=+r},${this._y1=+i}`}bezierCurveTo(t,n,r,i,a,s){this._append`C${+t},${+n},${+r},${+i},${this._x1=+a},${this._y1=+s}`}arcTo(t,n,r,i,a){if(t=+t,n=+n,r=+r,i=+i,a=+a,a<0)throw new Error(`negative radius: ${a}`);let s=this._x1,o=this._y1,l=r-t,u=i-n,c=s-t,d=o-n,p=c*c+d*d;if(this._x1===null)this._append`M${this._x1=t},${this._y1=n}`;else if(p>Xc)if(!(Math.abs(d*l-u*c)>Xc)||!a)this._append`L${this._x1=t},${this._y1=n}`;else{let f=r-s,g=i-o,v=l*l+u*u,b=f*f+g*g,x=Math.sqrt(v),w=Math.sqrt(p),A=a*Math.tan((h3-Math.acos((v+p-b)/(2*x*w)))/2),P=A/w,O=A/x;Math.abs(P-1)>Xc&&this._append`L${t+P*c},${n+P*d}`,this._append`A${a},${a},0,0,${+(d*f>c*g)},${this._x1=t+O*l},${this._y1=n+O*u}`}}arc(t,n,r,i,a,s){if(t=+t,n=+n,r=+r,s=!!s,r<0)throw new Error(`negative radius: ${r}`);let o=r*Math.cos(i),l=r*Math.sin(i),u=t+o,c=n+l,d=1^s,p=s?i-a:a-i;this._x1===null?this._append`M${u},${c}`:(Math.abs(this._x1-u)>Xc||Math.abs(this._y1-c)>Xc)&&this._append`L${u},${c}`,r&&(p<0&&(p=p%p3+p3),p>mde?this._append`A${r},${r},0,1,${d},${t-o},${n-l}A${r},${r},0,1,${d},${this._x1=u},${this._y1=c}`:p>Xc&&this._append`A${r},${r},0,${+(p>=h3)},${d},${this._x1=t+r*Math.cos(a)},${this._y1=n+r*Math.sin(a)}`)}rect(t,n,r,i){this._append`M${this._x0=this._x1=+t},${this._y0=this._y1=+n}h${r=+r}v${+i}h${-r}Z`}toString(){return this._}}function MA(e){let t=3;return e.digits=function(n){if(!arguments.length)return t;if(n==null)t=null;else{const r=Math.floor(n);if(!(r>=0))throw new RangeError(`invalid digits: ${n}`);t=r}return e},()=>new vde(t)}function DA(e){return typeof e=="object"&&"length"in e?e:Array.from(e)}function yB(e){this._context=e}yB.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;default:this._context.lineTo(e,t);break}}};function G2(e){return new yB(e)}function xB(e){return e[0]}function bB(e){return e[1]}function wB(e,t){var n=kn(!0),r=null,i=G2,a=null,s=MA(o);e=typeof e=="function"?e:e===void 0?xB:kn(e),t=typeof t=="function"?t:t===void 0?bB:kn(t);function o(l){var u,c=(l=DA(l)).length,d,p=!1,f;for(r==null&&(a=i(f=s())),u=0;u<=c;++u)!(u<c&&n(d=l[u],u,l))===p&&((p=!p)?a.lineStart():a.lineEnd()),p&&a.point(+e(d,u,l),+t(d,u,l));if(f)return a=null,f+""||null}return o.x=function(l){return arguments.length?(e=typeof l=="function"?l:kn(+l),o):e},o.y=function(l){return arguments.length?(t=typeof l=="function"?l:kn(+l),o):t},o.defined=function(l){return arguments.length?(n=typeof l=="function"?l:kn(!!l),o):n},o.curve=function(l){return arguments.length?(i=l,r!=null&&(a=i(r)),o):i},o.context=function(l){return arguments.length?(l==null?r=a=null:a=i(r=l),o):r},o}function f1(e,t,n){var r=null,i=kn(!0),a=null,s=G2,o=null,l=MA(u);e=typeof e=="function"?e:e===void 0?xB:kn(+e),t=typeof t=="function"?t:kn(t===void 0?0:+t),n=typeof n=="function"?n:n===void 0?bB:kn(+n);function u(d){var p,f,g,v=(d=DA(d)).length,b,x=!1,w,A=new Array(v),P=new Array(v);for(a==null&&(o=s(w=l())),p=0;p<=v;++p){if(!(p<v&&i(b=d[p],p,d))===x)if(x=!x)f=p,o.areaStart(),o.lineStart();else{for(o.lineEnd(),o.lineStart(),g=p-1;g>=f;--g)o.point(A[g],P[g]);o.lineEnd(),o.areaEnd()}x&&(A[p]=+e(b,p,d),P[p]=+t(b,p,d),o.point(r?+r(b,p,d):A[p],n?+n(b,p,d):P[p]))}if(w)return o=null,w+""||null}function c(){return wB().defined(i).curve(s).context(a)}return u.x=function(d){return arguments.length?(e=typeof d=="function"?d:kn(+d),r=null,u):e},u.x0=function(d){return arguments.length?(e=typeof d=="function"?d:kn(+d),u):e},u.x1=function(d){return arguments.length?(r=d==null?null:typeof d=="function"?d:kn(+d),u):r},u.y=function(d){return arguments.length?(t=typeof d=="function"?d:kn(+d),n=null,u):t},u.y0=function(d){return arguments.length?(t=typeof d=="function"?d:kn(+d),u):t},u.y1=function(d){return arguments.length?(n=d==null?null:typeof d=="function"?d:kn(+d),u):n},u.lineX0=u.lineY0=function(){return c().x(e).y(t)},u.lineY1=function(){return c().x(e).y(n)},u.lineX1=function(){return c().x(r).y(t)},u.defined=function(d){return arguments.length?(i=typeof d=="function"?d:kn(!!d),u):i},u.curve=function(d){return arguments.length?(s=d,a!=null&&(o=s(a)),u):s},u.context=function(d){return arguments.length?(d==null?a=o=null:o=s(a=d),u):a},u}class _B{constructor(t,n){this._context=t,this._x=n}areaStart(){this._line=0}areaEnd(){this._line=NaN}lineStart(){this._point=0}lineEnd(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line}point(t,n){switch(t=+t,n=+n,this._point){case 0:{this._point=1,this._line?this._context.lineTo(t,n):this._context.moveTo(t,n);break}case 1:this._point=2;default:{this._x?this._context.bezierCurveTo(this._x0=(this._x0+t)/2,this._y0,this._x0,n,t,n):this._context.bezierCurveTo(this._x0,this._y0=(this._y0+n)/2,t,this._y0,t,n);break}}this._x0=t,this._y0=n}}function yde(e){return new _B(e,!0)}function xde(e){return new _B(e,!1)}const FA={draw(e,t){const n=mo(t/uy);e.moveTo(n,0),e.arc(0,0,n,0,K2)}},bde={draw(e,t){const n=mo(t/5)/2;e.moveTo(-3*n,-n),e.lineTo(-n,-n),e.lineTo(-n,-3*n),e.lineTo(n,-3*n),e.lineTo(n,-n),e.lineTo(3*n,-n),e.lineTo(3*n,n),e.lineTo(n,n),e.lineTo(n,3*n),e.lineTo(-n,3*n),e.lineTo(-n,n),e.lineTo(-3*n,n),e.closePath()}},SB=mo(1/3),wde=SB*2,_de={draw(e,t){const n=mo(t/wde),r=n*SB;e.moveTo(0,-n),e.lineTo(r,0),e.lineTo(0,n),e.lineTo(-r,0),e.closePath()}},Sde={draw(e,t){const n=mo(t),r=-n/2;e.rect(r,r,n,n)}},Ade=.8908130915292852,AB=ly(uy/10)/ly(7*uy/10),Pde=ly(K2/10)*AB,Ede=-gB(K2/10)*AB,Nde={draw(e,t){const n=mo(t*Ade),r=Pde*n,i=Ede*n;e.moveTo(0,-n),e.lineTo(r,i);for(let a=1;a<5;++a){const s=K2*a/5,o=gB(s),l=ly(s);e.lineTo(l*n,-o*n),e.lineTo(o*r-l*i,l*r+o*i)}e.closePath()}},Fw=mo(3),kde={draw(e,t){const n=-mo(t/(Fw*3));e.moveTo(0,n*2),e.lineTo(-Fw*n,-n),e.lineTo(Fw*n,-n),e.closePath()}},ms=-.5,gs=mo(3)/2,m3=1/mo(12),Tde=(m3/2+1)*3,Cde={draw(e,t){const n=mo(t/Tde),r=n/2,i=n*m3,a=r,s=n*m3+n,o=-a,l=s;e.moveTo(r,i),e.lineTo(a,s),e.lineTo(o,l),e.lineTo(ms*r-gs*i,gs*r+ms*i),e.lineTo(ms*a-gs*s,gs*a+ms*s),e.lineTo(ms*o-gs*l,gs*o+ms*l),e.lineTo(ms*r+gs*i,ms*i-gs*r),e.lineTo(ms*a+gs*s,ms*s-gs*a),e.lineTo(ms*o+gs*l,ms*l-gs*o),e.closePath()}};function jde(e,t){let n=null,r=MA(i);e=typeof e=="function"?e:kn(e||FA),t=typeof t=="function"?t:kn(t===void 0?64:+t);function i(){let a;if(n||(n=a=r()),e.apply(this,arguments).draw(n,+t.apply(this,arguments)),a)return n=null,a+""||null}return i.type=function(a){return arguments.length?(e=typeof a=="function"?a:kn(a),i):e},i.size=function(a){return arguments.length?(t=typeof a=="function"?a:kn(+a),i):t},i.context=function(a){return arguments.length?(n=a??null,i):n},i}function cy(){}function dy(e,t,n){e._context.bezierCurveTo((2*e._x0+e._x1)/3,(2*e._y0+e._y1)/3,(e._x0+2*e._x1)/3,(e._y0+2*e._y1)/3,(e._x0+4*e._x1+t)/6,(e._y0+4*e._y1+n)/6)}function PB(e){this._context=e}PB.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){switch(this._point){case 3:dy(this,this._x1,this._y1);case 2:this._context.lineTo(this._x1,this._y1);break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;break;case 2:this._point=3,this._context.lineTo((5*this._x0+this._x1)/6,(5*this._y0+this._y1)/6);default:dy(this,e,t);break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t}};function Ide(e){return new PB(e)}function EB(e){this._context=e}EB.prototype={areaStart:cy,areaEnd:cy,lineStart:function(){this._x0=this._x1=this._x2=this._x3=this._x4=this._y0=this._y1=this._y2=this._y3=this._y4=NaN,this._point=0},lineEnd:function(){switch(this._point){case 1:{this._context.moveTo(this._x2,this._y2),this._context.closePath();break}case 2:{this._context.moveTo((this._x2+2*this._x3)/3,(this._y2+2*this._y3)/3),this._context.lineTo((this._x3+2*this._x2)/3,(this._y3+2*this._y2)/3),this._context.closePath();break}case 3:{this.point(this._x2,this._y2),this.point(this._x3,this._y3),this.point(this._x4,this._y4);break}}},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._x2=e,this._y2=t;break;case 1:this._point=2,this._x3=e,this._y3=t;break;case 2:this._point=3,this._x4=e,this._y4=t,this._context.moveTo((this._x0+4*this._x1+e)/6,(this._y0+4*this._y1+t)/6);break;default:dy(this,e,t);break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t}};function Ode(e){return new EB(e)}function NB(e){this._context=e}NB.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===3)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1;break;case 1:this._point=2;break;case 2:this._point=3;var n=(this._x0+4*this._x1+e)/6,r=(this._y0+4*this._y1+t)/6;this._line?this._context.lineTo(n,r):this._context.moveTo(n,r);break;case 3:this._point=4;default:dy(this,e,t);break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t}};function Lde(e){return new NB(e)}function kB(e){this._context=e}kB.prototype={areaStart:cy,areaEnd:cy,lineStart:function(){this._point=0},lineEnd:function(){this._point&&this._context.closePath()},point:function(e,t){e=+e,t=+t,this._point?this._context.lineTo(e,t):(this._point=1,this._context.moveTo(e,t))}};function Rde(e){return new kB(e)}function V8(e){return e<0?-1:1}function z8(e,t,n){var r=e._x1-e._x0,i=t-e._x1,a=(e._y1-e._y0)/(r||i<0&&-0),s=(n-e._y1)/(i||r<0&&-0),o=(a*i+s*r)/(r+i);return(V8(a)+V8(s))*Math.min(Math.abs(a),Math.abs(s),.5*Math.abs(o))||0}function $8(e,t){var n=e._x1-e._x0;return n?(3*(e._y1-e._y0)/n-t)/2:t}function Bw(e,t,n){var r=e._x0,i=e._y0,a=e._x1,s=e._y1,o=(a-r)/3;e._context.bezierCurveTo(r+o,i+o*t,a-o,s-o*n,a,s)}function fy(e){this._context=e}fy.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=this._t0=NaN,this._point=0},lineEnd:function(){switch(this._point){case 2:this._context.lineTo(this._x1,this._y1);break;case 3:Bw(this,this._t0,$8(this,this._t0));break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){var n=NaN;if(e=+e,t=+t,!(e===this._x1&&t===this._y1)){switch(this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;break;case 2:this._point=3,Bw(this,$8(this,n=z8(this,e,t)),n);break;default:Bw(this,this._t0,n=z8(this,e,t));break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t,this._t0=n}}};function TB(e){this._context=new CB(e)}(TB.prototype=Object.create(fy.prototype)).point=function(e,t){fy.prototype.point.call(this,t,e)};function CB(e){this._context=e}CB.prototype={moveTo:function(e,t){this._context.moveTo(t,e)},closePath:function(){this._context.closePath()},lineTo:function(e,t){this._context.lineTo(t,e)},bezierCurveTo:function(e,t,n,r,i,a){this._context.bezierCurveTo(t,e,r,n,a,i)}};function Mde(e){return new fy(e)}function Dde(e){return new TB(e)}function jB(e){this._context=e}jB.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=[],this._y=[]},lineEnd:function(){var e=this._x,t=this._y,n=e.length;if(n)if(this._line?this._context.lineTo(e[0],t[0]):this._context.moveTo(e[0],t[0]),n===2)this._context.lineTo(e[1],t[1]);else for(var r=U8(e),i=U8(t),a=0,s=1;s<n;++a,++s)this._context.bezierCurveTo(r[0][a],i[0][a],r[1][a],i[1][a],e[s],t[s]);(this._line||this._line!==0&&n===1)&&this._context.closePath(),this._line=1-this._line,this._x=this._y=null},point:function(e,t){this._x.push(+e),this._y.push(+t)}};function U8(e){var t,n=e.length-1,r,i=new Array(n),a=new Array(n),s=new Array(n);for(i[0]=0,a[0]=2,s[0]=e[0]+2*e[1],t=1;t<n-1;++t)i[t]=1,a[t]=4,s[t]=4*e[t]+2*e[t+1];for(i[n-1]=2,a[n-1]=7,s[n-1]=8*e[n-1]+e[n],t=1;t<n;++t)r=i[t]/a[t-1],a[t]-=r,s[t]-=r*s[t-1];for(i[n-1]=s[n-1]/a[n-1],t=n-2;t>=0;--t)i[t]=(s[t]-i[t+1])/a[t];for(a[n-1]=(e[n]+i[n-1])/2,t=0;t<n-1;++t)a[t]=2*e[t+1]-i[t+1];return[i,a]}function Fde(e){return new jB(e)}function Y2(e,t){this._context=e,this._t=t}Y2.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=this._y=NaN,this._point=0},lineEnd:function(){0<this._t&&this._t<1&&this._point===2&&this._context.lineTo(this._x,this._y),(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line>=0&&(this._t=1-this._t,this._line=1-this._line)},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;default:{if(this._t<=0)this._context.lineTo(this._x,t),this._context.lineTo(e,t);else{var n=this._x*(1-this._t)+e*this._t;this._context.lineTo(n,this._y),this._context.lineTo(n,t)}break}}this._x=e,this._y=t}};function Bde(e){return new Y2(e,.5)}function Vde(e){return new Y2(e,0)}function zde(e){return new Y2(e,1)}function mh(e,t){if((s=e.length)>1)for(var n=1,r,i,a=e[t[0]],s,o=a.length;n<s;++n)for(i=a,a=e[t[n]],r=0;r<o;++r)a[r][1]+=a[r][0]=isNaN(i[r][1])?i[r][0]:i[r][1]}function g3(e){for(var t=e.length,n=new Array(t);--t>=0;)n[t]=t;return n}function $de(e,t){return e[t]}function Ude(e){const t=[];return t.key=e,t}function Wde(){var e=kn([]),t=g3,n=mh,r=$de;function i(a){var s=Array.from(e.apply(this,arguments),Ude),o,l=s.length,u=-1,c;for(const d of a)for(o=0,++u;o<l;++o)(s[o][u]=[0,+r(d,s[o].key,u,a)]).data=d;for(o=0,c=DA(t(s));o<l;++o)s[c[o]].index=o;return n(s,c),s}return i.keys=function(a){return arguments.length?(e=typeof a=="function"?a:kn(Array.from(a)),i):e},i.value=function(a){return arguments.length?(r=typeof a=="function"?a:kn(+a),i):r},i.order=function(a){return arguments.length?(t=a==null?g3:typeof a=="function"?a:kn(Array.from(a)),i):t},i.offset=function(a){return arguments.length?(n=a??mh,i):n},i}function qde(e,t){if((r=e.length)>0){for(var n,r,i=0,a=e[0].length,s;i<a;++i){for(s=n=0;n<r;++n)s+=e[n][i][1]||0;if(s)for(n=0;n<r;++n)e[n][i][1]/=s}mh(e,t)}}function Hde(e,t){if((i=e.length)>0){for(var n=0,r=e[t[0]],i,a=r.length;n<a;++n){for(var s=0,o=0;s<i;++s)o+=e[s][n][1]||0;r[n][1]+=r[n][0]=-o/2}mh(e,t)}}function Kde(e,t){if(!(!((s=e.length)>0)||!((a=(i=e[t[0]]).length)>0))){for(var n=0,r=1,i,a,s;r<a;++r){for(var o=0,l=0,u=0;o<s;++o){for(var c=e[t[o]],d=c[r][1]||0,p=c[r-1][1]||0,f=(d-p)/2,g=0;g<o;++g){var v=e[t[g]],b=v[r][1]||0,x=v[r-1][1]||0;f+=b-x}l+=d,u+=f*d}i[r-1][1]+=i[r-1][0]=n,l&&(n-=u/l)}i[r-1][1]+=i[r-1][0]=n,mh(e,t)}}var X2={},IB={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(n){return n==="__proto__"}e.isUnsafeProperty=t})(IB);var BA={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(n){switch(typeof n){case"number":case"symbol":return!1;case"string":return n.includes(".")||n.includes("[")||n.includes("]")}}e.isDeepKey=t})(BA);var Q2={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(n){var r;return typeof n=="string"||typeof n=="symbol"?n:Object.is((r=n==null?void 0:n.valueOf)==null?void 0:r.call(n),-0)?"-0":String(n)}e.toKey=t})(Q2);var Z2={},OB={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(n){if(n==null)return"";if(typeof n=="string")return n;if(Array.isArray(n))return n.map(t).join(",");const r=String(n);return r==="0"&&Object.is(Number(n),-0)?"-0":r}e.toString=t})(OB);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=OB,n=Q2;function r(i){if(Array.isArray(i))return i.map(n.toKey);if(typeof i=="symbol")return[i];i=t.toString(i);const a=[],s=i.length;if(s===0)return a;let o=0,l="",u="",c=!1;for(i.charCodeAt(0)===46&&(a.push(""),o++);o<s;){const d=i[o];u?d==="\\"&&o+1<s?(o++,l+=i[o]):d===u?u="":l+=d:c?d==='"'||d==="'"?u=d:d==="]"?(c=!1,a.push(l),l=""):l+=d:d==="["?(c=!0,l&&(a.push(l),l="")):d==="."?l&&(a.push(l),l=""):l+=d,o++}return l&&a.push(l),a}e.toPath=r})(Z2);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=IB,n=BA,r=Q2,i=Z2;function a(o,l,u){if(o==null)return u;switch(typeof l){case"string":{if(t.isUnsafeProperty(l))return u;const c=o[l];return c===void 0?n.isDeepKey(l)?a(o,i.toPath(l),u):u:c}case"number":case"symbol":{typeof l=="number"&&(l=r.toKey(l));const c=o[l];return c===void 0?u:c}default:{if(Array.isArray(l))return s(o,l,u);if(Object.is(l==null?void 0:l.valueOf(),-0)?l="-0":l=String(l),t.isUnsafeProperty(l))return u;const c=o[l];return c===void 0?u:c}}}function s(o,l,u){if(l.length===0)return u;let c=o;for(let d=0;d<l.length;d++){if(c==null||t.isUnsafeProperty(l[d]))return u;c=c[l[d]]}return c===void 0?u:c}e.get=a})(X2);var Gde=X2.get;const jd=Yl(Gde);var li=e=>e===0?0:e>0?1:-1,uo=e=>typeof e=="number"&&e!=+e,$l=e=>typeof e=="string"&&e.indexOf("%")===e.length-1,at=e=>(typeof e=="number"||e instanceof Number)&&!uo(e),Qo=e=>at(e)||typeof e=="string",Yde=0,n0=e=>{var t=++Yde;return"".concat(e||"").concat(t)},Yi=function(t,n){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:0,i=arguments.length>3&&arguments[3]!==void 0?arguments[3]:!1;if(!at(t)&&typeof t!="string")return r;var a;if($l(t)){if(n==null)return r;var s=t.indexOf("%");a=n*parseFloat(t.slice(0,s))/100}else a=+t;return uo(a)&&(a=r),i&&n!=null&&a>n&&(a=n),a},LB=e=>{if(!Array.isArray(e))return!1;for(var t=e.length,n={},r=0;r<t;r++)if(!n[e[r]])n[e[r]]=!0;else return!0;return!1};function qr(e,t,n){return at(e)&&at(t)?e+n*(t-e):t}function Xde(e,t,n){if(!(!e||!e.length))return e.find(r=>r&&(typeof t=="function"?t(r):jd(r,t))===n)}var ci=e=>e===null||typeof e>"u",$0=e=>ci(e)?e:"".concat(e.charAt(0).toUpperCase()).concat(e.slice(1));function Qde(e){return e!=null}function U0(){}var Zde=["type","size","sizeType"];function v3(){return v3=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},v3.apply(null,arguments)}function W8(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function q8(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?W8(Object(n),!0).forEach(function(r){Jde(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):W8(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function Jde(e,t,n){return(t=efe(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function efe(e){var t=tfe(e,"string");return typeof t=="symbol"?t:t+""}function tfe(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function nfe(e,t){if(e==null)return{};var n,r,i=rfe(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)===-1&&{}.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function rfe(e,t){if(e==null)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.indexOf(r)!==-1)continue;n[r]=e[r]}return n}var RB={symbolCircle:FA,symbolCross:bde,symbolDiamond:_de,symbolSquare:Sde,symbolStar:Nde,symbolTriangle:kde,symbolWye:Cde},ife=Math.PI/180,afe=e=>{var t="symbol".concat($0(e));return RB[t]||FA},sfe=(e,t,n)=>{if(t==="area")return e;switch(n){case"cross":return 5*e*e/9;case"diamond":return .5*e*e/Math.sqrt(3);case"square":return e*e;case"star":{var r=18*ife;return 1.25*e*e*(Math.tan(r)-Math.tan(r*2)*Math.tan(r)**2)}case"triangle":return Math.sqrt(3)*e*e/4;case"wye":return(21-10*Math.sqrt(3))*e*e/8;default:return Math.PI*e*e/4}},ofe=(e,t)=>{RB["symbol".concat($0(e))]=t},VA=e=>{var{type:t="circle",size:n=64,sizeType:r="area"}=e,i=nfe(e,Zde),a=q8(q8({},i),{},{type:t,size:n,sizeType:r}),s="circle";typeof t=="string"&&(s=t);var o=()=>{var p=afe(s),f=jde().type(p).size(sfe(n,r,s)),g=f();if(g!==null)return g},{className:l,cx:u,cy:c}=a,d=Cs(a);return at(u)&&at(c)&&at(n)?S.createElement("path",v3({},d,{className:yn("recharts-symbols",l),transform:"translate(".concat(u,", ").concat(c,")"),d:o()})):null};VA.registerSymbol=ofe;var MB=e=>"radius"in e&&"startAngle"in e&&"endAngle"in e,lfe=(e,t)=>{if(!e||typeof e=="function"||typeof e=="boolean")return null;var n=e;if(S.isValidElement(e)&&(n=e.props),typeof n!="object"&&typeof n!="function")return null;var r={};return Object.keys(n).forEach(i=>{LA(i)&&(r[i]=a=>n[i](n,a))}),r},ufe=(e,t,n)=>r=>(e(t,n,r),null),W0=(e,t,n)=>{if(e===null||typeof e!="object"&&typeof e!="function")return null;var r=null;return Object.keys(e).forEach(i=>{var a=e[i];LA(i)&&typeof a=="function"&&(r||(r={}),r[i]=ufe(a,t,n))}),r};function H8(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function cfe(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?H8(Object(n),!0).forEach(function(r){dfe(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):H8(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function dfe(e,t,n){return(t=ffe(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function ffe(e){var t=hfe(e,"string");return typeof t=="symbol"?t:t+""}function hfe(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function di(e,t){var n=cfe({},e),r=t,i=Object.keys(t),a=i.reduce((s,o)=>(s[o]===void 0&&r[o]!==void 0&&(s[o]=r[o]),s),n);return a}function hy(){return hy=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},hy.apply(null,arguments)}function K8(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function pfe(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?K8(Object(n),!0).forEach(function(r){mfe(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):K8(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function mfe(e,t,n){return(t=gfe(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function gfe(e){var t=vfe(e,"string");return typeof t=="symbol"?t:t+""}function vfe(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var xs=32,yfe={align:"center",iconSize:14,inactiveColor:"#ccc",layout:"horizontal",verticalAlign:"middle"};function xfe(e){var{data:t,iconType:n,inactiveColor:r}=e,i=xs/2,a=xs/6,s=xs/3,o=t.inactive?r:t.color,l=n??t.type;if(l==="none")return null;if(l==="plainline"){var u;return S.createElement("line",{strokeWidth:4,fill:"none",stroke:o,strokeDasharray:(u=t.payload)===null||u===void 0?void 0:u.strokeDasharray,x1:0,y1:i,x2:xs,y2:i,className:"recharts-legend-icon"})}if(l==="line")return S.createElement("path",{strokeWidth:4,fill:"none",stroke:o,d:"M0,".concat(i,"h").concat(s,`
            A`).concat(a,",").concat(a,",0,1,1,").concat(2*s,",").concat(i,`
            H`).concat(xs,"M").concat(2*s,",").concat(i,`
            A`).concat(a,",").concat(a,",0,1,1,").concat(s,",").concat(i),className:"recharts-legend-icon"});if(l==="rect")return S.createElement("path",{stroke:"none",fill:o,d:"M0,".concat(xs/8,"h").concat(xs,"v").concat(xs*3/4,"h").concat(-xs,"z"),className:"recharts-legend-icon"});if(S.isValidElement(t.legendIcon)){var c=pfe({},t);return delete c.legendIcon,S.cloneElement(t.legendIcon,c)}return S.createElement(VA,{fill:o,cx:i,cy:i,size:xs,sizeType:"diameter",type:l})}function bfe(e){var{payload:t,iconSize:n,layout:r,formatter:i,inactiveColor:a,iconType:s}=e,o={x:0,y:0,width:xs,height:xs},l={display:r==="horizontal"?"inline-block":"block",marginRight:10},u={display:"inline-block",verticalAlign:"middle",marginRight:4};return t.map((c,d)=>{var p=c.formatter||i,f=yn({"recharts-legend-item":!0,["legend-item-".concat(d)]:!0,inactive:c.inactive});if(c.type==="none")return null;var g=c.inactive?a:c.color,v=p?p(c.value,c,d):c.value;return S.createElement("li",hy({className:f,style:l,key:"legend-item-".concat(d)},W0(e,c,d)),S.createElement(RA,{width:n,height:n,viewBox:o,style:u,"aria-label":"".concat(v," legend icon")},S.createElement(xfe,{data:c,iconType:s,inactiveColor:a})),S.createElement("span",{className:"recharts-legend-item-text",style:{color:g}},v))})}var wfe=e=>{var t=di(e,yfe),{payload:n,layout:r,align:i}=t;if(!n||!n.length)return null;var a={padding:0,margin:0,textAlign:r==="horizontal"?i:"left"};return S.createElement("ul",{className:"recharts-default-legend",style:a},S.createElement(bfe,hy({},t,{payload:n})))},DB={},FB={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(n,r){const i=new Map;for(let a=0;a<n.length;a++){const s=n[a],o=r(s);i.has(o)||i.set(o,s)}return Array.from(i.values())}e.uniqBy=t})(FB);var zA={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(n){return n}e.identity=t})(zA);var BB={},J2={},VB={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(n){return Number.isSafeInteger(n)&&n>=0}e.isLength=t})(VB);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=VB;function n(r){return r!=null&&typeof r!="function"&&t.isLength(r.length)}e.isArrayLike=n})(J2);var zB={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(n){return typeof n=="object"&&n!==null}e.isObjectLike=t})(zB);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=J2,n=zB;function r(i){return n.isObjectLike(i)&&t.isArrayLike(i)}e.isArrayLikeObject=r})(BB);var $B={},UB={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=X2;function n(r){return function(i){return t.get(i,r)}}e.property=n})(UB);var WB={},$A={},qB={},UA={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(n){return n!==null&&(typeof n=="object"||typeof n=="function")}e.isObject=t})(UA);var WA={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(n){return n==null||typeof n!="object"&&typeof n!="function"}e.isPrimitive=t})(WA);var qA={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(n,r){return n===r||Number.isNaN(n)&&Number.isNaN(r)}e.eq=t})(qA);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=UA,n=WA,r=qA;function i(c,d,p){return typeof p!="function"?i(c,d,()=>{}):a(c,d,function f(g,v,b,x,w,A){const P=p(g,v,b,x,w,A);return P!==void 0?!!P:a(g,v,f,A)},new Map)}function a(c,d,p,f){if(d===c)return!0;switch(typeof d){case"object":return s(c,d,p,f);case"function":return Object.keys(d).length>0?a(c,{...d},p,f):r.eq(c,d);default:return t.isObject(c)?typeof d=="string"?d==="":!0:r.eq(c,d)}}function s(c,d,p,f){if(d==null)return!0;if(Array.isArray(d))return l(c,d,p,f);if(d instanceof Map)return o(c,d,p,f);if(d instanceof Set)return u(c,d,p,f);const g=Object.keys(d);if(c==null)return g.length===0;if(g.length===0)return!0;if(f!=null&&f.has(d))return f.get(d)===c;f==null||f.set(d,c);try{for(let v=0;v<g.length;v++){const b=g[v];if(!n.isPrimitive(c)&&!(b in c)||d[b]===void 0&&c[b]!==void 0||d[b]===null&&c[b]!==null||!p(c[b],d[b],b,c,d,f))return!1}return!0}finally{f==null||f.delete(d)}}function o(c,d,p,f){if(d.size===0)return!0;if(!(c instanceof Map))return!1;for(const[g,v]of d.entries()){const b=c.get(g);if(p(b,v,g,c,d,f)===!1)return!1}return!0}function l(c,d,p,f){if(d.length===0)return!0;if(!Array.isArray(c))return!1;const g=new Set;for(let v=0;v<d.length;v++){const b=d[v];let x=!1;for(let w=0;w<c.length;w++){if(g.has(w))continue;const A=c[w];let P=!1;if(p(A,b,v,c,d,f)&&(P=!0),P){g.add(w),x=!0;break}}if(!x)return!1}return!0}function u(c,d,p,f){return d.size===0?!0:c instanceof Set?l([...c],[...d],p,f):!1}e.isMatchWith=i,e.isSetMatch=u})(qB);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=qB;function n(r,i){return t.isMatchWith(r,i,()=>{})}e.isMatch=n})($A);var HB={},HA={},KB={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(n){return Object.getOwnPropertySymbols(n).filter(r=>Object.prototype.propertyIsEnumerable.call(n,r))}e.getSymbols=t})(KB);var KA={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(n){return n==null?n===void 0?"[object Undefined]":"[object Null]":Object.prototype.toString.call(n)}e.getTag=t})(KA);var GA={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t="[object RegExp]",n="[object String]",r="[object Number]",i="[object Boolean]",a="[object Arguments]",s="[object Symbol]",o="[object Date]",l="[object Map]",u="[object Set]",c="[object Array]",d="[object Function]",p="[object ArrayBuffer]",f="[object Object]",g="[object Error]",v="[object DataView]",b="[object Uint8Array]",x="[object Uint8ClampedArray]",w="[object Uint16Array]",A="[object Uint32Array]",P="[object BigUint64Array]",O="[object Int8Array]",D="[object Int16Array]",T="[object Int32Array]",k="[object BigInt64Array]",I="[object Float32Array]",M="[object Float64Array]";e.argumentsTag=a,e.arrayBufferTag=p,e.arrayTag=c,e.bigInt64ArrayTag=k,e.bigUint64ArrayTag=P,e.booleanTag=i,e.dataViewTag=v,e.dateTag=o,e.errorTag=g,e.float32ArrayTag=I,e.float64ArrayTag=M,e.functionTag=d,e.int16ArrayTag=D,e.int32ArrayTag=T,e.int8ArrayTag=O,e.mapTag=l,e.numberTag=r,e.objectTag=f,e.regexpTag=t,e.setTag=u,e.stringTag=n,e.symbolTag=s,e.uint16ArrayTag=w,e.uint32ArrayTag=A,e.uint8ArrayTag=b,e.uint8ClampedArrayTag=x})(GA);var GB={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(n){return ArrayBuffer.isView(n)&&!(n instanceof DataView)}e.isTypedArray=t})(GB);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=KB,n=KA,r=GA,i=WA,a=GB;function s(c,d){return o(c,void 0,c,new Map,d)}function o(c,d,p,f=new Map,g=void 0){const v=g==null?void 0:g(c,d,p,f);if(v!==void 0)return v;if(i.isPrimitive(c))return c;if(f.has(c))return f.get(c);if(Array.isArray(c)){const b=new Array(c.length);f.set(c,b);for(let x=0;x<c.length;x++)b[x]=o(c[x],x,p,f,g);return Object.hasOwn(c,"index")&&(b.index=c.index),Object.hasOwn(c,"input")&&(b.input=c.input),b}if(c instanceof Date)return new Date(c.getTime());if(c instanceof RegExp){const b=new RegExp(c.source,c.flags);return b.lastIndex=c.lastIndex,b}if(c instanceof Map){const b=new Map;f.set(c,b);for(const[x,w]of c)b.set(x,o(w,x,p,f,g));return b}if(c instanceof Set){const b=new Set;f.set(c,b);for(const x of c)b.add(o(x,void 0,p,f,g));return b}if(typeof Buffer<"u"&&Buffer.isBuffer(c))return c.subarray();if(a.isTypedArray(c)){const b=new(Object.getPrototypeOf(c)).constructor(c.length);f.set(c,b);for(let x=0;x<c.length;x++)b[x]=o(c[x],x,p,f,g);return b}if(c instanceof ArrayBuffer||typeof SharedArrayBuffer<"u"&&c instanceof SharedArrayBuffer)return c.slice(0);if(c instanceof DataView){const b=new DataView(c.buffer.slice(0),c.byteOffset,c.byteLength);return f.set(c,b),l(b,c,p,f,g),b}if(typeof File<"u"&&c instanceof File){const b=new File([c],c.name,{type:c.type});return f.set(c,b),l(b,c,p,f,g),b}if(typeof Blob<"u"&&c instanceof Blob){const b=new Blob([c],{type:c.type});return f.set(c,b),l(b,c,p,f,g),b}if(c instanceof Error){const b=new c.constructor;return f.set(c,b),b.message=c.message,b.name=c.name,b.stack=c.stack,b.cause=c.cause,l(b,c,p,f,g),b}if(c instanceof Boolean){const b=new Boolean(c.valueOf());return f.set(c,b),l(b,c,p,f,g),b}if(c instanceof Number){const b=new Number(c.valueOf());return f.set(c,b),l(b,c,p,f,g),b}if(c instanceof String){const b=new String(c.valueOf());return f.set(c,b),l(b,c,p,f,g),b}if(typeof c=="object"&&u(c)){const b=Object.create(Object.getPrototypeOf(c));return f.set(c,b),l(b,c,p,f,g),b}return c}function l(c,d,p=c,f,g){const v=[...Object.keys(d),...t.getSymbols(d)];for(let b=0;b<v.length;b++){const x=v[b],w=Object.getOwnPropertyDescriptor(c,x);(w==null||w.writable)&&(c[x]=o(d[x],x,p,f,g))}}function u(c){switch(n.getTag(c)){case r.argumentsTag:case r.arrayTag:case r.arrayBufferTag:case r.dataViewTag:case r.booleanTag:case r.dateTag:case r.float32ArrayTag:case r.float64ArrayTag:case r.int8ArrayTag:case r.int16ArrayTag:case r.int32ArrayTag:case r.mapTag:case r.numberTag:case r.objectTag:case r.regexpTag:case r.setTag:case r.stringTag:case r.symbolTag:case r.uint8ArrayTag:case r.uint8ClampedArrayTag:case r.uint16ArrayTag:case r.uint32ArrayTag:return!0;default:return!1}}e.cloneDeepWith=s,e.cloneDeepWithImpl=o,e.copyProperties=l})(HA);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=HA;function n(r){return t.cloneDeepWithImpl(r,void 0,r,new Map,void 0)}e.cloneDeep=n})(HB);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=$A,n=HB;function r(i){return i=n.cloneDeep(i),a=>t.isMatch(a,i)}e.matches=r})(WB);var YB={},XB={},QB={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=HA,n=GA;function r(i,a){return t.cloneDeepWith(i,(s,o,l,u)=>{const c=a==null?void 0:a(s,o,l,u);if(c!==void 0)return c;if(typeof i=="object")switch(Object.prototype.toString.call(i)){case n.numberTag:case n.stringTag:case n.booleanTag:{const d=new i.constructor(i==null?void 0:i.valueOf());return t.copyProperties(d,i),d}case n.argumentsTag:{const d={};return t.copyProperties(d,i),d.length=i.length,d[Symbol.iterator]=i[Symbol.iterator],d}default:return}})}e.cloneDeepWith=r})(QB);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=QB;function n(r){return t.cloneDeepWith(r)}e.cloneDeep=n})(XB);var ZB={},YA={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=/^(?:0|[1-9]\d*)$/;function n(r,i=Number.MAX_SAFE_INTEGER){switch(typeof r){case"number":return Number.isInteger(r)&&r>=0&&r<i;case"symbol":return!1;case"string":return t.test(r)}}e.isIndex=n})(YA);var JB={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=KA;function n(r){return r!==null&&typeof r=="object"&&t.getTag(r)==="[object Arguments]"}e.isArguments=n})(JB);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=BA,n=YA,r=JB,i=Z2;function a(s,o){let l;if(Array.isArray(o)?l=o:typeof o=="string"&&t.isDeepKey(o)&&(s==null?void 0:s[o])==null?l=i.toPath(o):l=[o],l.length===0)return!1;let u=s;for(let c=0;c<l.length;c++){const d=l[c];if((u==null||!Object.hasOwn(u,d))&&!((Array.isArray(u)||r.isArguments(u))&&n.isIndex(d)&&d<u.length))return!1;u=u[d]}return!0}e.has=a})(ZB);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=$A,n=Q2,r=XB,i=X2,a=ZB;function s(o,l){switch(typeof o){case"object":{Object.is(o==null?void 0:o.valueOf(),-0)&&(o="-0");break}case"number":{o=n.toKey(o);break}}return l=r.cloneDeep(l),function(u){const c=i.get(u,o);return c===void 0?a.has(u,o):l===void 0?c===void 0:t.isMatch(c,l)}}e.matchesProperty=s})(YB);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=zA,n=UB,r=WB,i=YB;function a(s){if(s==null)return t.identity;switch(typeof s){case"function":return s;case"object":return Array.isArray(s)&&s.length===2?i.matchesProperty(s[0],s[1]):r.matches(s);case"string":case"symbol":case"number":return n.property(s)}}e.iteratee=a})($B);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=FB,n=zA,r=BB,i=$B;function a(s,o=n.identity){return r.isArrayLikeObject(s)?t.uniqBy(Array.from(s),i.iteratee(o)):[]}e.uniqBy=a})(DB);var _fe=DB.uniqBy;const G8=Yl(_fe);function eV(e,t,n){return t===!0?G8(e,n):typeof t=="function"?G8(e,t):e}var tV={exports:{}},nV={},rV={exports:{}},iV={};/**
 * @license React
 * use-sync-external-store-shim.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var gh=S;function Sfe(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var Afe=typeof Object.is=="function"?Object.is:Sfe,Pfe=gh.useState,Efe=gh.useEffect,Nfe=gh.useLayoutEffect,kfe=gh.useDebugValue;function Tfe(e,t){var n=t(),r=Pfe({inst:{value:n,getSnapshot:t}}),i=r[0].inst,a=r[1];return Nfe(function(){i.value=n,i.getSnapshot=t,Vw(i)&&a({inst:i})},[e,n,t]),Efe(function(){return Vw(i)&&a({inst:i}),e(function(){Vw(i)&&a({inst:i})})},[e]),kfe(n),n}function Vw(e){var t=e.getSnapshot;e=e.value;try{var n=t();return!Afe(e,n)}catch{return!0}}function Cfe(e,t){return t()}var jfe=typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"?Cfe:Tfe;iV.useSyncExternalStore=gh.useSyncExternalStore!==void 0?gh.useSyncExternalStore:jfe;rV.exports=iV;var Ife=rV.exports;/**
 * @license React
 * use-sync-external-store-shim/with-selector.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var ex=S,Ofe=Ife;function Lfe(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var Rfe=typeof Object.is=="function"?Object.is:Lfe,Mfe=Ofe.useSyncExternalStore,Dfe=ex.useRef,Ffe=ex.useEffect,Bfe=ex.useMemo,Vfe=ex.useDebugValue;nV.useSyncExternalStoreWithSelector=function(e,t,n,r,i){var a=Dfe(null);if(a.current===null){var s={hasValue:!1,value:null};a.current=s}else s=a.current;a=Bfe(function(){function l(f){if(!u){if(u=!0,c=f,f=r(f),i!==void 0&&s.hasValue){var g=s.value;if(i(g,f))return d=g}return d=f}if(g=d,Rfe(c,f))return g;var v=r(f);return i!==void 0&&i(g,v)?(c=f,g):(c=f,d=v)}var u=!1,c,d,p=n===void 0?null:n;return[function(){return l(t())},p===null?void 0:function(){return l(p())}]},[t,n,r,i]);var o=Mfe(e,a[0],a[1]);return Ffe(function(){s.hasValue=!0,s.value=o},[o]),Vfe(o),o};tV.exports=nV;var zfe=tV.exports,XA=S.createContext(null),$fe=e=>e,jn=()=>{var e=S.useContext(XA);return e?e.store.dispatch:$fe},rv=()=>{},Ufe=()=>rv,Wfe=(e,t)=>e===t;function Ze(e){var t=S.useContext(XA);return zfe.useSyncExternalStoreWithSelector(t?t.subscription.addNestedSub:Ufe,t?t.store.getState:rv,t?t.store.getState:rv,t?e:rv,Wfe)}function qfe(e,t=`expected a function, instead received ${typeof e}`){if(typeof e!="function")throw new TypeError(t)}function Hfe(e,t=`expected an object, instead received ${typeof e}`){if(typeof e!="object")throw new TypeError(t)}function Kfe(e,t="expected all items to be functions, instead received the following types: "){if(!e.every(n=>typeof n=="function")){const n=e.map(r=>typeof r=="function"?`function ${r.name||"unnamed"}()`:typeof r).join(", ");throw new TypeError(`${t}[${n}]`)}}var Y8=e=>Array.isArray(e)?e:[e];function Gfe(e){const t=Array.isArray(e[0])?e[0]:e;return Kfe(t,"createSelector expects all input-selectors to be functions, but received the following types: "),t}function Yfe(e,t){const n=[],{length:r}=e;for(let i=0;i<r;i++)n.push(e[i].apply(null,t));return n}var Xfe=class{constructor(e){this.value=e}deref(){return this.value}},Qfe=typeof WeakRef<"u"?WeakRef:Xfe,Zfe=0,X8=1;function h1(){return{s:Zfe,v:void 0,o:null,p:null}}function aV(e,t={}){let n=h1();const{resultEqualityCheck:r}=t;let i,a=0;function s(){var d;let o=n;const{length:l}=arguments;for(let p=0,f=l;p<f;p++){const g=arguments[p];if(typeof g=="function"||typeof g=="object"&&g!==null){let v=o.o;v===null&&(o.o=v=new WeakMap);const b=v.get(g);b===void 0?(o=h1(),v.set(g,o)):o=b}else{let v=o.p;v===null&&(o.p=v=new Map);const b=v.get(g);b===void 0?(o=h1(),v.set(g,o)):o=b}}const u=o;let c;if(o.s===X8)c=o.v;else if(c=e.apply(null,arguments),a++,r){const p=((d=i==null?void 0:i.deref)==null?void 0:d.call(i))??i;p!=null&&r(p,c)&&(c=p,a!==0&&a--),i=typeof c=="object"&&c!==null||typeof c=="function"?new Qfe(c):c}return u.s=X8,u.v=c,c}return s.clearCache=()=>{n=h1(),s.resetResultsCount()},s.resultsCount=()=>a,s.resetResultsCount=()=>{a=0},s}function Jfe(e,...t){const n=typeof e=="function"?{memoize:e,memoizeOptions:t}:e,r=(...i)=>{let a=0,s=0,o,l={},u=i.pop();typeof u=="object"&&(l=u,u=i.pop()),qfe(u,`createSelector expects an output function after the inputs, but received: [${typeof u}]`);const c={...n,...l},{memoize:d,memoizeOptions:p=[],argsMemoize:f=aV,argsMemoizeOptions:g=[]}=c,v=Y8(p),b=Y8(g),x=Gfe(i),w=d(function(){return a++,u.apply(null,arguments)},...v),A=f(function(){s++;const O=Yfe(x,arguments);return o=w.apply(null,O),o},...b);return Object.assign(A,{resultFunc:u,memoizedResultFunc:w,dependencies:x,dependencyRecomputations:()=>s,resetDependencyRecomputations:()=>{s=0},lastResult:()=>o,recomputations:()=>a,resetRecomputations:()=>{a=0},memoize:d,argsMemoize:f})};return Object.assign(r,{withTypes:()=>r}),r}var Ae=Jfe(aV),ehe=Object.assign((e,t=Ae)=>{Hfe(e,`createStructuredSelector expects first argument to be an object where each property is a selector, instead received a ${typeof e}`);const n=Object.keys(e),r=n.map(a=>e[a]);return t(r,(...a)=>a.reduce((s,o,l)=>(s[n[l]]=o,s),{}))},{withTypes:()=>ehe}),sV={},oV={},lV={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){return typeof r=="symbol"?1:r===null?2:r===void 0?3:r!==r?4:0}const n=(r,i,a)=>{if(r!==i){const s=t(r),o=t(i);if(s===o&&s===0){if(r<i)return a==="desc"?1:-1;if(r>i)return a==="desc"?-1:1}return a==="desc"?o-s:s-o}return 0};e.compareValues=n})(lV);var uV={},QA={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(n){return typeof n=="symbol"||n instanceof Symbol}e.isSymbol=t})(QA);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=QA,n=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,r=/^\w*$/;function i(a,s){return Array.isArray(a)?!1:typeof a=="number"||typeof a=="boolean"||a==null||t.isSymbol(a)?!0:typeof a=="string"&&(r.test(a)||!n.test(a))||s!=null&&Object.hasOwn(s,a)}e.isKey=i})(uV);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=lV,n=uV,r=Z2;function i(a,s,o,l){if(a==null)return[];o=l?void 0:o,Array.isArray(a)||(a=Object.values(a)),Array.isArray(s)||(s=s==null?[null]:[s]),s.length===0&&(s=[null]),Array.isArray(o)||(o=o==null?[]:[o]),o=o.map(f=>String(f));const u=(f,g)=>{let v=f;for(let b=0;b<g.length&&v!=null;++b)v=v[g[b]];return v},c=(f,g)=>g==null||f==null?g:typeof f=="object"&&"key"in f?Object.hasOwn(g,f.key)?g[f.key]:u(g,f.path):typeof f=="function"?f(g):Array.isArray(f)?u(g,f):typeof g=="object"?g[f]:g,d=s.map(f=>(Array.isArray(f)&&f.length===1&&(f=f[0]),f==null||typeof f=="function"||Array.isArray(f)||n.isKey(f)?f:{key:f,path:r.toPath(f)}));return a.map(f=>({original:f,criteria:d.map(g=>c(g,f))})).slice().sort((f,g)=>{for(let v=0;v<d.length;v++){const b=t.compareValues(f.criteria[v],g.criteria[v],o[v]);if(b!==0)return b}return 0}).map(f=>f.original)}e.orderBy=i})(oV);var cV={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(n,r=1){const i=[],a=Math.floor(r),s=(o,l)=>{for(let u=0;u<o.length;u++){const c=o[u];Array.isArray(c)&&l<a?s(c,l+1):i.push(c)}};return s(n,0),i}e.flatten=t})(cV);var ZA={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=YA,n=J2,r=UA,i=qA;function a(s,o,l){return r.isObject(l)&&(typeof o=="number"&&n.isArrayLike(l)&&t.isIndex(o)&&o<l.length||typeof o=="string"&&o in l)?i.eq(l[o],s):!1}e.isIterateeCall=a})(ZA);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=oV,n=cV,r=ZA;function i(a,...s){const o=s.length;return o>1&&r.isIterateeCall(a,s[0],s[1])?s=[]:o>2&&r.isIterateeCall(s[0],s[1],s[2])&&(s=[s[0]]),t.orderBy(a,n.flatten(s),["asc"])}e.sortBy=i})(sV);var the=sV.sortBy;const tx=Yl(the);var dV=e=>e.legend.settings,nhe=e=>e.legend.size,rhe=e=>e.legend.payload,ihe=Ae([rhe,dV],(e,t)=>{var{itemSorter:n}=t,r=e.flat(1);return n?tx(r,n):r});function ahe(){return Ze(ihe)}var p1=1;function fV(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[],[t,n]=S.useState({height:0,left:0,top:0,width:0}),r=S.useCallback(i=>{if(i!=null){var a=i.getBoundingClientRect(),s={height:a.height,left:a.left,top:a.top,width:a.width};(Math.abs(s.height-t.height)>p1||Math.abs(s.left-t.left)>p1||Math.abs(s.top-t.top)>p1||Math.abs(s.width-t.width)>p1)&&n({height:s.height,left:s.left,top:s.top,width:s.width})}},[t.width,t.height,t.top,t.left,...e]);return[t,r]}function yi(e){return`Minified Redux error #${e}; visit https://redux.js.org/Errors?code=${e} for the full message or use the non-minified dev environment for full errors. `}var she=typeof Symbol=="function"&&Symbol.observable||"@@observable",Q8=she,zw=()=>Math.random().toString(36).substring(7).split("").join("."),ohe={INIT:`@@redux/INIT${zw()}`,REPLACE:`@@redux/REPLACE${zw()}`,PROBE_UNKNOWN_ACTION:()=>`@@redux/PROBE_UNKNOWN_ACTION${zw()}`},py=ohe;function JA(e){if(typeof e!="object"||e===null)return!1;let t=e;for(;Object.getPrototypeOf(t)!==null;)t=Object.getPrototypeOf(t);return Object.getPrototypeOf(e)===t||Object.getPrototypeOf(e)===null}function hV(e,t,n){if(typeof e!="function")throw new Error(yi(2));if(typeof t=="function"&&typeof n=="function"||typeof n=="function"&&typeof arguments[3]=="function")throw new Error(yi(0));if(typeof t=="function"&&typeof n>"u"&&(n=t,t=void 0),typeof n<"u"){if(typeof n!="function")throw new Error(yi(1));return n(hV)(e,t)}let r=e,i=t,a=new Map,s=a,o=0,l=!1;function u(){s===a&&(s=new Map,a.forEach((b,x)=>{s.set(x,b)}))}function c(){if(l)throw new Error(yi(3));return i}function d(b){if(typeof b!="function")throw new Error(yi(4));if(l)throw new Error(yi(5));let x=!0;u();const w=o++;return s.set(w,b),function(){if(x){if(l)throw new Error(yi(6));x=!1,u(),s.delete(w),a=null}}}function p(b){if(!JA(b))throw new Error(yi(7));if(typeof b.type>"u")throw new Error(yi(8));if(typeof b.type!="string")throw new Error(yi(17));if(l)throw new Error(yi(9));try{l=!0,i=r(i,b)}finally{l=!1}return(a=s).forEach(w=>{w()}),b}function f(b){if(typeof b!="function")throw new Error(yi(10));r=b,p({type:py.REPLACE})}function g(){const b=d;return{subscribe(x){if(typeof x!="object"||x===null)throw new Error(yi(11));function w(){const P=x;P.next&&P.next(c())}return w(),{unsubscribe:b(w)}},[Q8](){return this}}}return p({type:py.INIT}),{dispatch:p,subscribe:d,getState:c,replaceReducer:f,[Q8]:g}}function lhe(e){Object.keys(e).forEach(t=>{const n=e[t];if(typeof n(void 0,{type:py.INIT})>"u")throw new Error(yi(12));if(typeof n(void 0,{type:py.PROBE_UNKNOWN_ACTION()})>"u")throw new Error(yi(13))})}function pV(e){const t=Object.keys(e),n={};for(let a=0;a<t.length;a++){const s=t[a];typeof e[s]=="function"&&(n[s]=e[s])}const r=Object.keys(n);let i;try{lhe(n)}catch(a){i=a}return function(s={},o){if(i)throw i;let l=!1;const u={};for(let c=0;c<r.length;c++){const d=r[c],p=n[d],f=s[d],g=p(f,o);if(typeof g>"u")throw o&&o.type,new Error(yi(14));u[d]=g,l=l||g!==f}return l=l||r.length!==Object.keys(s).length,l?u:s}}function my(...e){return e.length===0?t=>t:e.length===1?e[0]:e.reduce((t,n)=>(...r)=>t(n(...r)))}function uhe(...e){return t=>(n,r)=>{const i=t(n,r);let a=()=>{throw new Error(yi(15))};const s={getState:i.getState,dispatch:(l,...u)=>a(l,...u)},o=e.map(l=>l(s));return a=my(...o)(i.dispatch),{...i,dispatch:a}}}function mV(e){return JA(e)&&"type"in e&&typeof e.type=="string"}var gV=Symbol.for("immer-nothing"),Z8=Symbol.for("immer-draftable"),ca=Symbol.for("immer-state");function Qs(e,...t){throw new Error(`[Immer] minified error nr: ${e}. Full error at: https://bit.ly/3cXEKWf`)}var Ja=Object,vh=Ja.getPrototypeOf,gy="constructor",nx="prototype",y3="configurable",vy="enumerable",iv="writable",r0="value",Ul=e=>!!e&&!!e[ca];function co(e){var t;return e?vV(e)||rx(e)||!!e[Z8]||!!((t=e[gy])!=null&&t[Z8])||ix(e)||ax(e):!1}var che=Ja[nx][gy].toString(),J8=new WeakMap;function vV(e){if(!e||!e6(e))return!1;const t=vh(e);if(t===null||t===Ja[nx])return!0;const n=Ja.hasOwnProperty.call(t,gy)&&t[gy];if(n===Object)return!0;if(!mf(n))return!1;let r=J8.get(n);return r===void 0&&(r=Function.toString.call(n),J8.set(n,r)),r===che}function q0(e,t,n=!0){H0(e)===0?(n?Reflect.ownKeys(e):Ja.keys(e)).forEach(i=>{t(i,e[i],e)}):e.forEach((r,i)=>t(i,r,e))}function H0(e){const t=e[ca];return t?t.type_:rx(e)?1:ix(e)?2:ax(e)?3:0}var ej=(e,t,n=H0(e))=>n===2?e.has(t):Ja[nx].hasOwnProperty.call(e,t),x3=(e,t,n=H0(e))=>n===2?e.get(t):e[t],yy=(e,t,n,r=H0(e))=>{r===2?e.set(t,n):r===3?e.add(n):e[t]=n};function dhe(e,t){return e===t?e!==0||1/e===1/t:e!==e&&t!==t}var rx=Array.isArray,ix=e=>e instanceof Map,ax=e=>e instanceof Set,e6=e=>typeof e=="object",mf=e=>typeof e=="function",$w=e=>typeof e=="boolean",bl=e=>e.copy_||e.base_,t6=e=>e.modified_?e.copy_:e.base_;function b3(e,t){if(ix(e))return new Map(e);if(ax(e))return new Set(e);if(rx(e))return Array[nx].slice.call(e);const n=vV(e);if(t===!0||t==="class_only"&&!n){const r=Ja.getOwnPropertyDescriptors(e);delete r[ca];let i=Reflect.ownKeys(r);for(let a=0;a<i.length;a++){const s=i[a],o=r[s];o[iv]===!1&&(o[iv]=!0,o[y3]=!0),(o.get||o.set)&&(r[s]={[y3]:!0,[iv]:!0,[vy]:o[vy],[r0]:e[s]})}return Ja.create(vh(e),r)}else{const r=vh(e);if(r!==null&&n)return{...e};const i=Ja.create(r);return Ja.assign(i,e)}}function n6(e,t=!1){return sx(e)||Ul(e)||!co(e)||(H0(e)>1&&Ja.defineProperties(e,{set:m1,add:m1,clear:m1,delete:m1}),Ja.freeze(e),t&&q0(e,(n,r)=>{n6(r,!0)},!1)),e}function fhe(){Qs(2)}var m1={[r0]:fhe};function sx(e){return e===null||!e6(e)?!0:Ja.isFrozen(e)}var xy="MapSet",w3="Patches",yV={};function yh(e){const t=yV[e];return t||Qs(0,e),t}var hhe=e=>!!yV[e],i0,xV=()=>i0,phe=(e,t)=>({drafts_:[],parent_:e,immer_:t,canAutoFreeze_:!0,unfinalizedDrafts_:0,handledSet_:new Set,processedForPatches_:new Set,mapSetPlugin_:hhe(xy)?yh(xy):void 0});function tj(e,t){t&&(e.patchPlugin_=yh(w3),e.patches_=[],e.inversePatches_=[],e.patchListener_=t)}function _3(e){S3(e),e.drafts_.forEach(mhe),e.drafts_=null}function S3(e){e===i0&&(i0=e.parent_)}var nj=e=>i0=phe(i0,e);function mhe(e){const t=e[ca];t.type_===0||t.type_===1?t.revoke_():t.revoked_=!0}function rj(e,t){t.unfinalizedDrafts_=t.drafts_.length;const n=t.drafts_[0];if(e!==void 0&&e!==n){n[ca].modified_&&(_3(t),Qs(4)),co(e)&&(e=ij(t,e));const{patchPlugin_:i}=t;i&&i.generateReplacementPatches_(n[ca].base_,e,t)}else e=ij(t,n);return ghe(t,e,!0),_3(t),t.patches_&&t.patchListener_(t.patches_,t.inversePatches_),e!==gV?e:void 0}function ij(e,t){if(sx(t))return t;const n=t[ca];if(!n)return r6(t,e.handledSet_,e);if(!ox(n,e))return t;if(!n.modified_)return n.base_;if(!n.finalized_){const{callbacks_:r}=n;if(r)for(;r.length>0;)r.pop()(e);_V(n,e)}return n.copy_}function ghe(e,t,n=!1){!e.parent_&&e.immer_.autoFreeze_&&e.canAutoFreeze_&&n6(t,n)}function bV(e){e.finalized_=!0,e.scope_.unfinalizedDrafts_--}var ox=(e,t)=>e.scope_===t,vhe=[];function wV(e,t,n,r){const i=bl(e),a=e.type_;if(r!==void 0&&x3(i,r,a)===t){yy(i,r,n,a);return}if(!e.draftLocations_){const o=e.draftLocations_=new Map;q0(i,(l,u)=>{if(Ul(u)){const c=o.get(u)||[];c.push(l),o.set(u,c)}})}const s=e.draftLocations_.get(t)??vhe;for(const o of s)yy(i,o,n,a)}function yhe(e,t,n){e.callbacks_.push(function(i){var o;const a=t;if(!a||!ox(a,i))return;(o=i.mapSetPlugin_)==null||o.fixSetContents(a);const s=t6(a);wV(e,a.draft_??a,s,n),_V(a,i)})}function _V(e,t){var r;if(e.modified_&&!e.finalized_&&(e.type_===3||(((r=e.assigned_)==null?void 0:r.size)??0)>0)){const{patchPlugin_:i}=t;if(i){const a=i.getPath(e);a&&i.generatePatches_(e,a,t)}bV(e)}}function xhe(e,t,n){const{scope_:r}=e;if(Ul(n)){const i=n[ca];ox(i,r)&&i.callbacks_.push(function(){av(e);const s=t6(i);wV(e,n,s,t)})}else co(n)&&e.callbacks_.push(function(){const a=bl(e);x3(a,t,e.type_)===n&&r.drafts_.length>1&&(e.assigned_.get(t)??!1)===!0&&e.copy_&&r6(x3(e.copy_,t,e.type_),r.handledSet_,r)})}function r6(e,t,n){return!n.immer_.autoFreeze_&&n.unfinalizedDrafts_<1||Ul(e)||t.has(e)||!co(e)||sx(e)||(t.add(e),q0(e,(r,i)=>{if(Ul(i)){const a=i[ca];if(ox(a,n)){const s=t6(a);yy(e,r,s,e.type_),bV(a)}}else co(i)&&r6(i,t,n)})),e}function bhe(e,t){const n=rx(e),r={type_:n?1:0,scope_:t?t.scope_:xV(),modified_:!1,finalized_:!1,assigned_:void 0,parent_:t,base_:e,draft_:null,copy_:null,revoke_:null,isManual_:!1,callbacks_:void 0};let i=r,a=i6;n&&(i=[r],a=a0);const{revoke:s,proxy:o}=Proxy.revocable(i,a);return r.draft_=o,r.revoke_=s,[o,r]}var i6={get(e,t){if(t===ca)return e;const n=bl(e);if(!ej(n,t,e.type_))return whe(e,n,t);const r=n[t];if(e.finalized_||!co(r))return r;if(r===Uw(e.base_,t)){av(e);const i=e.type_===1?+t:t,a=P3(e.scope_,r,e,i);return e.copy_[i]=a}return r},has(e,t){return t in bl(e)},ownKeys(e){return Reflect.ownKeys(bl(e))},set(e,t,n){const r=SV(bl(e),t);if(r!=null&&r.set)return r.set.call(e.draft_,n),!0;if(!e.modified_){const i=Uw(bl(e),t),a=i==null?void 0:i[ca];if(a&&a.base_===n)return e.copy_[t]=n,e.assigned_.set(t,!1),!0;if(dhe(n,i)&&(n!==void 0||ej(e.base_,t,e.type_)))return!0;av(e),A3(e)}return e.copy_[t]===n&&(n!==void 0||t in e.copy_)||Number.isNaN(n)&&Number.isNaN(e.copy_[t])||(e.copy_[t]=n,e.assigned_.set(t,!0),xhe(e,t,n)),!0},deleteProperty(e,t){return av(e),Uw(e.base_,t)!==void 0||t in e.base_?(e.assigned_.set(t,!1),A3(e)):e.assigned_.delete(t),e.copy_&&delete e.copy_[t],!0},getOwnPropertyDescriptor(e,t){const n=bl(e),r=Reflect.getOwnPropertyDescriptor(n,t);return r&&{[iv]:!0,[y3]:e.type_!==1||t!=="length",[vy]:r[vy],[r0]:n[t]}},defineProperty(){Qs(11)},getPrototypeOf(e){return vh(e.base_)},setPrototypeOf(){Qs(12)}},a0={};q0(i6,(e,t)=>{a0[e]=function(){const n=arguments;return n[0]=n[0][0],t.apply(this,n)}});a0.deleteProperty=function(e,t){return a0.set.call(this,e,t,void 0)};a0.set=function(e,t,n){return i6.set.call(this,e[0],t,n,e[0])};function Uw(e,t){const n=e[ca];return(n?bl(n):e)[t]}function whe(e,t,n){var i;const r=SV(t,n);return r?r0 in r?r[r0]:(i=r.get)==null?void 0:i.call(e.draft_):void 0}function SV(e,t){if(!(t in e))return;let n=vh(e);for(;n;){const r=Object.getOwnPropertyDescriptor(n,t);if(r)return r;n=vh(n)}}function A3(e){e.modified_||(e.modified_=!0,e.parent_&&A3(e.parent_))}function av(e){e.copy_||(e.assigned_=new Map,e.copy_=b3(e.base_,e.scope_.immer_.useStrictShallowCopy_))}var _he=class{constructor(t){this.autoFreeze_=!0,this.useStrictShallowCopy_=!1,this.useStrictIteration_=!1,this.produce=(n,r,i)=>{if(mf(n)&&!mf(r)){const s=r;r=n;const o=this;return function(u=s,...c){return o.produce(u,d=>r.call(this,d,...c))}}mf(r)||Qs(6),i!==void 0&&!mf(i)&&Qs(7);let a;if(co(n)){const s=nj(this),o=P3(s,n,void 0);let l=!0;try{a=r(o),l=!1}finally{l?_3(s):S3(s)}return tj(s,i),rj(a,s)}else if(!n||!e6(n)){if(a=r(n),a===void 0&&(a=n),a===gV&&(a=void 0),this.autoFreeze_&&n6(a,!0),i){const s=[],o=[];yh(w3).generateReplacementPatches_(n,a,{patches_:s,inversePatches_:o}),i(s,o)}return a}else Qs(1,n)},this.produceWithPatches=(n,r)=>{if(mf(n))return(o,...l)=>this.produceWithPatches(o,u=>n(u,...l));let i,a;return[this.produce(n,r,(o,l)=>{i=o,a=l}),i,a]},$w(t==null?void 0:t.autoFreeze)&&this.setAutoFreeze(t.autoFreeze),$w(t==null?void 0:t.useStrictShallowCopy)&&this.setUseStrictShallowCopy(t.useStrictShallowCopy),$w(t==null?void 0:t.useStrictIteration)&&this.setUseStrictIteration(t.useStrictIteration)}createDraft(t){co(t)||Qs(8),Ul(t)&&(t=ro(t));const n=nj(this),r=P3(n,t,void 0);return r[ca].isManual_=!0,S3(n),r}finishDraft(t,n){const r=t&&t[ca];(!r||!r.isManual_)&&Qs(9);const{scope_:i}=r;return tj(i,n),rj(void 0,i)}setAutoFreeze(t){this.autoFreeze_=t}setUseStrictShallowCopy(t){this.useStrictShallowCopy_=t}setUseStrictIteration(t){this.useStrictIteration_=t}shouldUseStrictIteration(){return this.useStrictIteration_}applyPatches(t,n){let r;for(r=n.length-1;r>=0;r--){const a=n[r];if(a.path.length===0&&a.op==="replace"){t=a.value;break}}r>-1&&(n=n.slice(r+1));const i=yh(w3).applyPatches_;return Ul(t)?i(t,n):this.produce(t,a=>i(a,n))}};function P3(e,t,n,r){const[i,a]=ix(t)?yh(xy).proxyMap_(t,n):ax(t)?yh(xy).proxySet_(t,n):bhe(t,n);return((n==null?void 0:n.scope_)??xV()).drafts_.push(i),a.callbacks_=(n==null?void 0:n.callbacks_)??[],a.key_=r,n&&r!==void 0?yhe(n,a,r):a.callbacks_.push(function(l){var c;(c=l.mapSetPlugin_)==null||c.fixSetContents(a);const{patchPlugin_:u}=l;a.modified_&&u&&u.generatePatches_(a,[],l)}),i}function ro(e){return Ul(e)||Qs(10,e),AV(e)}function AV(e){if(!co(e)||sx(e))return e;const t=e[ca];let n,r=!0;if(t){if(!t.modified_)return t.base_;t.finalized_=!0,n=b3(e,t.scope_.immer_.useStrictShallowCopy_),r=t.scope_.immer_.shouldUseStrictIteration()}else n=b3(e,!0);return q0(n,(i,a)=>{yy(n,i,AV(a))},r),t&&(t.finalized_=!1),n}var She=new _he,PV=She.produce;function EV(e){return({dispatch:n,getState:r})=>i=>a=>typeof a=="function"?a(n,r,e):i(a)}var Ahe=EV(),Phe=EV,Ehe=typeof window<"u"&&window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__?window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__:function(){if(arguments.length!==0)return typeof arguments[0]=="object"?my:my.apply(null,arguments)};function js(e,t){function n(...r){if(t){let i=t(...r);if(!i)throw new Error(ts(0));return{type:e,payload:i.payload,..."meta"in i&&{meta:i.meta},..."error"in i&&{error:i.error}}}return{type:e,payload:r[0]}}return n.toString=()=>`${e}`,n.type=e,n.match=r=>mV(r)&&r.type===e,n}var NV=class Gp extends Array{constructor(...t){super(...t),Object.setPrototypeOf(this,Gp.prototype)}static get[Symbol.species](){return Gp}concat(...t){return super.concat.apply(this,t)}prepend(...t){return t.length===1&&Array.isArray(t[0])?new Gp(...t[0].concat(this)):new Gp(...t.concat(this))}};function aj(e){return co(e)?PV(e,()=>{}):e}function g1(e,t,n){return e.has(t)?e.get(t):e.set(t,n(t)).get(t)}function Nhe(e){return typeof e=="boolean"}var khe=()=>function(t){const{thunk:n=!0,immutableCheck:r=!0,serializableCheck:i=!0,actionCreatorCheck:a=!0}=t??{};let s=new NV;return n&&(Nhe(n)?s.push(Ahe):s.push(Phe(n.extraArgument))),s},kV="RTK_autoBatch",Wn=()=>e=>({payload:e,meta:{[kV]:!0}}),sj=e=>t=>{setTimeout(t,e)},TV=(e={type:"raf"})=>t=>(...n)=>{const r=t(...n);let i=!0,a=!1,s=!1;const o=new Set,l=e.type==="tick"?queueMicrotask:e.type==="raf"?typeof window<"u"&&window.requestAnimationFrame?window.requestAnimationFrame:sj(10):e.type==="callback"?e.queueNotification:sj(e.timeout),u=()=>{s=!1,a&&(a=!1,o.forEach(c=>c()))};return Object.assign({},r,{subscribe(c){const d=()=>i&&c(),p=r.subscribe(d);return o.add(c),()=>{p(),o.delete(c)}},dispatch(c){var d;try{return i=!((d=c==null?void 0:c.meta)!=null&&d[kV]),a=!i,a&&(s||(s=!0,l(u))),r.dispatch(c)}finally{i=!0}}})},The=e=>function(n){const{autoBatch:r=!0}=n??{};let i=new NV(e);return r&&i.push(TV(typeof r=="object"?r:void 0)),i};function Che(e){const t=khe(),{reducer:n=void 0,middleware:r,devTools:i=!0,preloadedState:a=void 0,enhancers:s=void 0}=e||{};let o;if(typeof n=="function")o=n;else if(JA(n))o=pV(n);else throw new Error(ts(1));let l;typeof r=="function"?l=r(t):l=t();let u=my;i&&(u=Ehe({trace:!1,...typeof i=="object"&&i}));const c=uhe(...l),d=The(c);let p=typeof s=="function"?s(d):d();const f=u(...p);return hV(o,a,f)}function CV(e){const t={},n=[];let r;const i={addCase(a,s){const o=typeof a=="string"?a:a.type;if(!o)throw new Error(ts(28));if(o in t)throw new Error(ts(29));return t[o]=s,i},addAsyncThunk(a,s){return s.pending&&(t[a.pending.type]=s.pending),s.rejected&&(t[a.rejected.type]=s.rejected),s.fulfilled&&(t[a.fulfilled.type]=s.fulfilled),s.settled&&n.push({matcher:a.settled,reducer:s.settled}),i},addMatcher(a,s){return n.push({matcher:a,reducer:s}),i},addDefaultCase(a){return r=a,i}};return e(i),[t,n,r]}function jhe(e){return typeof e=="function"}function Ihe(e,t){let[n,r,i]=CV(t),a;if(jhe(e))a=()=>aj(e());else{const o=aj(e);a=()=>o}function s(o=a(),l){let u=[n[l.type],...r.filter(({matcher:c})=>c(l)).map(({reducer:c})=>c)];return u.filter(c=>!!c).length===0&&(u=[i]),u.reduce((c,d)=>{if(d)if(Ul(c)){const f=d(c,l);return f===void 0?c:f}else{if(co(c))return PV(c,p=>d(p,l));{const p=d(c,l);if(p===void 0){if(c===null)return c;throw Error("A case reducer on a non-draftable value must not return undefined")}return p}}return c},o)}return s.getInitialState=a,s}var Ohe="ModuleSymbhasOwnPr-0123456789ABCDEFGHNRVfgctiUvz_KqYTJkLxpZXIjQW",Lhe=(e=21)=>{let t="",n=e;for(;n--;)t+=Ohe[Math.random()*64|0];return t},Rhe=Symbol.for("rtk-slice-createasyncthunk");function Mhe(e,t){return`${e}/${t}`}function Dhe({creators:e}={}){var n;const t=(n=e==null?void 0:e.asyncThunk)==null?void 0:n[Rhe];return function(i){const{name:a,reducerPath:s=a}=i;if(!a)throw new Error(ts(11));const o=(typeof i.reducers=="function"?i.reducers(Bhe()):i.reducers)||{},l=Object.keys(o),u={sliceCaseReducersByName:{},sliceCaseReducersByType:{},actionCreators:{},sliceMatchers:[]},c={addCase(P,O){const D=typeof P=="string"?P:P.type;if(!D)throw new Error(ts(12));if(D in u.sliceCaseReducersByType)throw new Error(ts(13));return u.sliceCaseReducersByType[D]=O,c},addMatcher(P,O){return u.sliceMatchers.push({matcher:P,reducer:O}),c},exposeAction(P,O){return u.actionCreators[P]=O,c},exposeCaseReducer(P,O){return u.sliceCaseReducersByName[P]=O,c}};l.forEach(P=>{const O=o[P],D={reducerName:P,type:Mhe(a,P),createNotation:typeof i.reducers=="function"};zhe(O)?Uhe(D,O,c,t):Vhe(D,O,c)});function d(){const[P={},O=[],D=void 0]=typeof i.extraReducers=="function"?CV(i.extraReducers):[i.extraReducers],T={...P,...u.sliceCaseReducersByType};return Ihe(i.initialState,k=>{for(let I in T)k.addCase(I,T[I]);for(let I of u.sliceMatchers)k.addMatcher(I.matcher,I.reducer);for(let I of O)k.addMatcher(I.matcher,I.reducer);D&&k.addDefaultCase(D)})}const p=P=>P,f=new Map,g=new WeakMap;let v;function b(P,O){return v||(v=d()),v(P,O)}function x(){return v||(v=d()),v.getInitialState()}function w(P,O=!1){function D(k){let I=k[P];return typeof I>"u"&&O&&(I=g1(g,D,x)),I}function T(k=p){const I=g1(f,O,()=>new WeakMap);return g1(I,k,()=>{const M={};for(const[N,C]of Object.entries(i.selectors??{}))M[N]=Fhe(C,k,()=>g1(g,k,x),O);return M})}return{reducerPath:P,getSelectors:T,get selectors(){return T(D)},selectSlice:D}}const A={name:a,reducer:b,actions:u.actionCreators,caseReducers:u.sliceCaseReducersByName,getInitialState:x,...w(s),injectInto(P,{reducerPath:O,...D}={}){const T=O??s;return P.inject({reducerPath:T,reducer:b},D),{...A,...w(T,!0)}}};return A}}function Fhe(e,t,n,r){function i(a,...s){let o=t(a);return typeof o>"u"&&r&&(o=n()),e(o,...s)}return i.unwrapped=e,i}var Ca=Dhe();function Bhe(){function e(t,n){return{_reducerDefinitionType:"asyncThunk",payloadCreator:t,...n}}return e.withTypes=()=>e,{reducer(t){return Object.assign({[t.name](...n){return t(...n)}}[t.name],{_reducerDefinitionType:"reducer"})},preparedReducer(t,n){return{_reducerDefinitionType:"reducerWithPrepare",prepare:t,reducer:n}},asyncThunk:e}}function Vhe({type:e,reducerName:t,createNotation:n},r,i){let a,s;if("reducer"in r){if(n&&!$he(r))throw new Error(ts(17));a=r.reducer,s=r.prepare}else a=r;i.addCase(e,a).exposeCaseReducer(t,a).exposeAction(t,s?js(e,s):js(e))}function zhe(e){return e._reducerDefinitionType==="asyncThunk"}function $he(e){return e._reducerDefinitionType==="reducerWithPrepare"}function Uhe({type:e,reducerName:t},n,r,i){if(!i)throw new Error(ts(18));const{payloadCreator:a,fulfilled:s,pending:o,rejected:l,settled:u,options:c}=n,d=i(e,a,c);r.exposeAction(t,d),s&&r.addCase(d.fulfilled,s),o&&r.addCase(d.pending,o),l&&r.addCase(d.rejected,l),u&&r.addMatcher(d.settled,u),r.exposeCaseReducer(t,{fulfilled:s||v1,pending:o||v1,rejected:l||v1,settled:u||v1})}function v1(){}var Whe="task",jV="listener",IV="completed",a6="cancelled",qhe=`task-${a6}`,Hhe=`task-${IV}`,E3=`${jV}-${a6}`,Khe=`${jV}-${IV}`,lx=class{constructor(e){an(this,"name","TaskAbortError");an(this,"message");this.code=e,this.message=`${Whe} ${a6} (reason: ${e})`}},s6=(e,t)=>{if(typeof e!="function")throw new TypeError(ts(32))},by=()=>{},OV=(e,t=by)=>(e.catch(t),e),LV=(e,t)=>(e.addEventListener("abort",t,{once:!0}),()=>e.removeEventListener("abort",t)),gd=e=>{if(e.aborted)throw new lx(e.reason)};function RV(e,t){let n=by;return new Promise((r,i)=>{const a=()=>i(new lx(e.reason));if(e.aborted){a();return}n=LV(e,a),t.finally(()=>n()).then(r,i)}).finally(()=>{n=by})}var Ghe=async(e,t)=>{try{return await Promise.resolve(),{status:"ok",value:await e()}}catch(n){return{status:n instanceof lx?"cancelled":"rejected",error:n}}finally{t==null||t()}},wy=e=>t=>OV(RV(e,t).then(n=>(gd(e),n))),MV=e=>{const t=wy(e);return n=>t(new Promise(r=>setTimeout(r,n)))},{assign:Xf}=Object,oj={},ux="listenerMiddleware",Yhe=(e,t)=>{const n=r=>LV(e,()=>r.abort(e.reason));return(r,i)=>{s6(r);const a=new AbortController;n(a);const s=Ghe(async()=>{gd(e),gd(a.signal);const o=await r({pause:wy(a.signal),delay:MV(a.signal),signal:a.signal});return gd(a.signal),o},()=>a.abort(Hhe));return i!=null&&i.autoJoin&&t.push(s.catch(by)),{result:wy(e)(s),cancel(){a.abort(qhe)}}}},Xhe=(e,t)=>{const n=async(r,i)=>{gd(t);let a=()=>{};const o=[new Promise((l,u)=>{let c=e({predicate:r,effect:(d,p)=>{p.unsubscribe(),l([d,p.getState(),p.getOriginalState()])}});a=()=>{c(),u()}})];i!=null&&o.push(new Promise(l=>setTimeout(l,i,null)));try{const l=await RV(t,Promise.race(o));return gd(t),l}finally{a()}};return(r,i)=>OV(n(r,i))},DV=e=>{let{type:t,actionCreator:n,matcher:r,predicate:i,effect:a}=e;if(t)i=js(t).match;else if(n)t=n.type,i=n.match;else if(r)i=r;else if(!i)throw new Error(ts(21));return s6(a),{predicate:i,type:t,effect:a}},FV=Xf(e=>{const{type:t,predicate:n,effect:r}=DV(e);return{id:Lhe(),effect:r,type:t,predicate:n,pending:new Set,unsubscribe:()=>{throw new Error(ts(22))}}},{withTypes:()=>FV}),lj=(e,t)=>{const{type:n,effect:r,predicate:i}=DV(t);return Array.from(e.values()).find(a=>(typeof n=="string"?a.type===n:a.predicate===i)&&a.effect===r)},N3=e=>{e.pending.forEach(t=>{t.abort(E3)})},Qhe=(e,t)=>()=>{for(const n of t.keys())N3(n);e.clear()},uj=(e,t,n)=>{try{e(t,n)}catch(r){setTimeout(()=>{throw r},0)}},BV=Xf(js(`${ux}/add`),{withTypes:()=>BV}),Zhe=js(`${ux}/removeAll`),VV=Xf(js(`${ux}/remove`),{withTypes:()=>VV}),Jhe=(...e)=>{console.error(`${ux}/error`,...e)},K0=(e={})=>{const t=new Map,n=new Map,r=f=>{const g=n.get(f)??0;n.set(f,g+1)},i=f=>{const g=n.get(f)??1;g===1?n.delete(f):n.set(f,g-1)},{extra:a,onError:s=Jhe}=e;s6(s);const o=f=>(f.unsubscribe=()=>t.delete(f.id),t.set(f.id,f),g=>{f.unsubscribe(),g!=null&&g.cancelActive&&N3(f)}),l=f=>{const g=lj(t,f)??FV(f);return o(g)};Xf(l,{withTypes:()=>l});const u=f=>{const g=lj(t,f);return g&&(g.unsubscribe(),f.cancelActive&&N3(g)),!!g};Xf(u,{withTypes:()=>u});const c=async(f,g,v,b)=>{const x=new AbortController,w=Xhe(l,x.signal),A=[];try{f.pending.add(x),r(f),await Promise.resolve(f.effect(g,Xf({},v,{getOriginalState:b,condition:(P,O)=>w(P,O).then(Boolean),take:w,delay:MV(x.signal),pause:wy(x.signal),extra:a,signal:x.signal,fork:Yhe(x.signal,A),unsubscribe:f.unsubscribe,subscribe:()=>{t.set(f.id,f)},cancelActiveListeners:()=>{f.pending.forEach((P,O,D)=>{P!==x&&(P.abort(E3),D.delete(P))})},cancel:()=>{x.abort(E3),f.pending.delete(x)},throwIfCancelled:()=>{gd(x.signal)}})))}catch(P){P instanceof lx||uj(s,P,{raisedBy:"effect"})}finally{await Promise.all(A),x.abort(Khe),i(f),f.pending.delete(x)}},d=Qhe(t,n);return{middleware:f=>g=>v=>{if(!mV(v))return g(v);if(BV.match(v))return l(v.payload);if(Zhe.match(v)){d();return}if(VV.match(v))return u(v.payload);let b=f.getState();const x=()=>{if(b===oj)throw new Error(ts(23));return b};let w;try{if(w=g(v),t.size>0){const A=f.getState(),P=Array.from(t.values());for(const O of P){let D=!1;try{D=O.predicate(v,A,b)}catch(T){D=!1,uj(s,T,{raisedBy:"predicate"})}D&&c(O,v,f,x)}}}finally{b=oj}return w},startListening:l,stopListening:u,clearListeners:d}};function ts(e){return`Minified Redux Toolkit error #${e}; visit https://redux-toolkit.js.org/Errors?code=${e} for the full message or use the non-minified dev environment for full errors. `}var epe={layoutType:"horizontal",width:0,height:0,margin:{top:5,right:5,bottom:5,left:5},scale:1},zV=Ca({name:"chartLayout",initialState:epe,reducers:{setLayout(e,t){e.layoutType=t.payload},setChartSize(e,t){e.width=t.payload.width,e.height=t.payload.height},setMargin(e,t){var n,r,i,a;e.margin.top=(n=t.payload.top)!==null&&n!==void 0?n:0,e.margin.right=(r=t.payload.right)!==null&&r!==void 0?r:0,e.margin.bottom=(i=t.payload.bottom)!==null&&i!==void 0?i:0,e.margin.left=(a=t.payload.left)!==null&&a!==void 0?a:0},setScale(e,t){e.scale=t.payload}}}),{setMargin:tpe,setLayout:npe,setChartSize:rpe,setScale:ipe}=zV.actions,ape=zV.reducer;function $V(e,t,n){return Array.isArray(e)&&e&&t+n!==0?e.slice(t,n+1):e}function cj(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function Rf(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?cj(Object(n),!0).forEach(function(r){spe(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):cj(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function spe(e,t,n){return(t=ope(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function ope(e){var t=lpe(e,"string");return typeof t=="symbol"?t:t+""}function lpe(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Hn(e,t,n){return ci(e)||ci(t)?n:Qo(t)?jd(e,t,n):typeof t=="function"?t(e):n}var upe=(e,t,n)=>{if(t&&n){var{width:r,height:i}=n,{align:a,verticalAlign:s,layout:o}=t;if((o==="vertical"||o==="horizontal"&&s==="middle")&&a!=="center"&&at(e[a]))return Rf(Rf({},e),{},{[a]:e[a]+(r||0)});if((o==="horizontal"||o==="vertical"&&a==="center")&&s!=="middle"&&at(e[s]))return Rf(Rf({},e),{},{[s]:e[s]+(i||0)})}return e},Kd=(e,t)=>e==="horizontal"&&t==="xAxis"||e==="vertical"&&t==="yAxis"||e==="centric"&&t==="angleAxis"||e==="radial"&&t==="radiusAxis",UV=(e,t,n,r)=>{if(r)return e.map(o=>o.coordinate);var i,a,s=e.map(o=>(o.coordinate===t&&(i=!0),o.coordinate===n&&(a=!0),o.coordinate));return i||s.push(t),a||s.push(n),s},WV=(e,t,n)=>{if(!e)return null;var{duplicateDomain:r,type:i,range:a,scale:s,realScaleType:o,isCategorical:l,categoricalDomain:u,tickCount:c,ticks:d,niceTicks:p,axisType:f}=e;if(!s)return null;var g=o==="scaleBand"&&s.bandwidth?s.bandwidth()/2:2,v=i==="category"&&s.bandwidth?s.bandwidth()/g:0;if(v=f==="angleAxis"&&a&&a.length>=2?li(a[0]-a[1])*2*v:v,d||p){var b=(d||p||[]).map((x,w)=>{var A=r?r.indexOf(x):x;return{coordinate:s(A)+v,value:x,offset:v,index:w}});return b.filter(x=>!uo(x.coordinate))}return l&&u?u.map((x,w)=>({coordinate:s(x)+v,value:x,index:w,offset:v})):s.ticks&&c!=null?s.ticks(c).map((x,w)=>({coordinate:s(x)+v,value:x,offset:v,index:w})):s.domain().map((x,w)=>({coordinate:s(x)+v,value:r?r[x]:x,index:w,offset:v}))},dj=1e-4,cpe=e=>{var t=e.domain();if(!(!t||t.length<=2)){var n=t.length,r=e.range(),i=Math.min(r[0],r[1])-dj,a=Math.max(r[0],r[1])+dj,s=e(t[0]),o=e(t[n-1]);(s<i||s>a||o<i||o>a)&&e.domain([t[0],t[n-1]])}},dpe=(e,t)=>{if(!t||t.length!==2||!at(t[0])||!at(t[1]))return e;var n=Math.min(t[0],t[1]),r=Math.max(t[0],t[1]),i=[e[0],e[1]];return(!at(e[0])||e[0]<n)&&(i[0]=n),(!at(e[1])||e[1]>r)&&(i[1]=r),i[0]>r&&(i[0]=r),i[1]<n&&(i[1]=n),i},fpe=e=>{var t=e.length;if(!(t<=0))for(var n=0,r=e[0].length;n<r;++n)for(var i=0,a=0,s=0;s<t;++s){var o=uo(e[s][n][1])?e[s][n][0]:e[s][n][1];o>=0?(e[s][n][0]=i,e[s][n][1]=i+o,i=e[s][n][1]):(e[s][n][0]=a,e[s][n][1]=a+o,a=e[s][n][1])}},hpe=e=>{var t=e.length;if(!(t<=0))for(var n=0,r=e[0].length;n<r;++n)for(var i=0,a=0;a<t;++a){var s=uo(e[a][n][1])?e[a][n][0]:e[a][n][1];s>=0?(e[a][n][0]=i,e[a][n][1]=i+s,i=e[a][n][1]):(e[a][n][0]=0,e[a][n][1]=0)}},ppe={sign:fpe,expand:qde,none:mh,silhouette:Hde,wiggle:Kde,positive:hpe},mpe=(e,t,n)=>{var r=ppe[n],i=Wde().keys(t).value((a,s)=>Number(Hn(a,s,0))).order(g3).offset(r);return i(e)};function gpe(e){return e==null?void 0:String(e)}var fj=e=>{var{axis:t,ticks:n,offset:r,bandSize:i,entry:a,index:s}=e;if(t.type==="category")return n[s]?n[s].coordinate+r:null;var o=Hn(a,t.dataKey,t.scale.domain()[s]);return ci(o)?null:t.scale(o)-i/2+r},vpe=e=>{var{numericAxis:t}=e,n=t.scale.domain();if(t.type==="number"){var r=Math.min(n[0],n[1]),i=Math.max(n[0],n[1]);return r<=0&&i>=0?0:i<0?i:r}return n[0]},ype=e=>{var t=e.flat(2).filter(at);return[Math.min(...t),Math.max(...t)]},xpe=e=>[e[0]===1/0?0:e[0],e[1]===-1/0?0:e[1]],bpe=(e,t,n)=>{if(e!=null)return xpe(Object.keys(e).reduce((r,i)=>{var a=e[i],{stackedData:s}=a,o=s.reduce((l,u)=>{var c=$V(u,t,n),d=ype(c);return[Math.min(l[0],d[0]),Math.max(l[1],d[1])]},[1/0,-1/0]);return[Math.min(o[0],r[0]),Math.max(o[1],r[1])]},[1/0,-1/0]))},hj=/^dataMin[\s]*-[\s]*([0-9]+([.]{1}[0-9]+){0,1})$/,pj=/^dataMax[\s]*\+[\s]*([0-9]+([.]{1}[0-9]+){0,1})$/,_y=(e,t,n)=>{if(e&&e.scale&&e.scale.bandwidth){var r=e.scale.bandwidth();if(!n||r>0)return r}if(e&&t&&t.length>=2){for(var i=tx(t,c=>c.coordinate),a=1/0,s=1,o=i.length;s<o;s++){var l=i[s],u=i[s-1];a=Math.min((l.coordinate||0)-(u.coordinate||0),a)}return a===1/0?0:a}return n?void 0:0};function mj(e){var{tooltipEntrySettings:t,dataKey:n,payload:r,value:i,name:a}=e;return Rf(Rf({},t),{},{dataKey:n,payload:r,value:i,name:a})}function cx(e,t){if(e)return String(e);if(typeof t=="string")return t}var wpe=(e,t)=>{if(t==="horizontal")return e.chartX;if(t==="vertical")return e.chartY},_pe=(e,t)=>t==="centric"?e.angle:e.radius,Ql=e=>e.layout.width,Zl=e=>e.layout.height,Spe=e=>e.layout.scale,qV=e=>e.layout.margin,dx=Ae(e=>e.cartesianAxis.xAxis,e=>Object.values(e)),fx=Ae(e=>e.cartesianAxis.yAxis,e=>Object.values(e)),HV="data-recharts-item-index",KV="data-recharts-item-data-key",G0=60;function gj(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function y1(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?gj(Object(n),!0).forEach(function(r){Ape(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):gj(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function Ape(e,t,n){return(t=Ppe(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Ppe(e){var t=Epe(e,"string");return typeof t=="symbol"?t:t+""}function Epe(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var Npe=e=>e.brush.height;function kpe(e){var t=fx(e);return t.reduce((n,r)=>{if(r.orientation==="left"&&!r.mirror&&!r.hide){var i=typeof r.width=="number"?r.width:G0;return n+i}return n},0)}function Tpe(e){var t=fx(e);return t.reduce((n,r)=>{if(r.orientation==="right"&&!r.mirror&&!r.hide){var i=typeof r.width=="number"?r.width:G0;return n+i}return n},0)}function Cpe(e){var t=dx(e);return t.reduce((n,r)=>r.orientation==="top"&&!r.mirror&&!r.hide?n+r.height:n,0)}function jpe(e){var t=dx(e);return t.reduce((n,r)=>r.orientation==="bottom"&&!r.mirror&&!r.hide?n+r.height:n,0)}var Gr=Ae([Ql,Zl,qV,Npe,kpe,Tpe,Cpe,jpe,dV,nhe],(e,t,n,r,i,a,s,o,l,u)=>{var c={left:(n.left||0)+i,right:(n.right||0)+a},d={top:(n.top||0)+s,bottom:(n.bottom||0)+o},p=y1(y1({},d),c),f=p.bottom;p.bottom+=r,p=upe(p,l,u);var g=e-p.left-p.right,v=t-p.top-p.bottom;return y1(y1({brushBottom:f},p),{},{width:Math.max(g,0),height:Math.max(v,0)})}),Ipe=Ae(Gr,e=>({x:e.left,y:e.top,width:e.width,height:e.height})),o6=Ae(Ql,Zl,(e,t)=>({x:0,y:0,width:e,height:t})),Ope=S.createContext(null),ja=()=>S.useContext(Ope)!=null,hx=e=>e.brush,px=Ae([hx,Gr,qV],(e,t,n)=>({height:e.height,x:at(e.x)?e.x:t.left,y:at(e.y)?e.y:t.top+t.height+t.brushBottom-((n==null?void 0:n.bottom)||0),width:at(e.width)?e.width:t.width})),GV={},YV={},XV={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(n,r,{signal:i,edges:a}={}){let s,o=null;const l=a!=null&&a.includes("leading"),u=a==null||a.includes("trailing"),c=()=>{o!==null&&(n.apply(s,o),s=void 0,o=null)},d=()=>{u&&c(),v()};let p=null;const f=()=>{p!=null&&clearTimeout(p),p=setTimeout(()=>{p=null,d()},r)},g=()=>{p!==null&&(clearTimeout(p),p=null)},v=()=>{g(),s=void 0,o=null},b=()=>{c()},x=function(...w){if(i!=null&&i.aborted)return;s=this,o=w;const A=p==null;f(),l&&A&&c()};return x.schedule=f,x.cancel=v,x.flush=b,i==null||i.addEventListener("abort",v,{once:!0}),x}e.debounce=t})(XV);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=XV;function n(r,i=0,a={}){typeof a!="object"&&(a={});const{leading:s=!1,trailing:o=!0,maxWait:l}=a,u=Array(2);s&&(u[0]="leading"),o&&(u[1]="trailing");let c,d=null;const p=t.debounce(function(...v){c=r.apply(this,v),d=null},i,{edges:u}),f=function(...v){return l!=null&&(d===null&&(d=Date.now()),Date.now()-d>=l)?(c=r.apply(this,v),d=Date.now(),p.cancel(),p.schedule(),c):(p.apply(this,v),c)},g=()=>(p.flush(),c);return f.cancel=p.cancel,f.flush=g,f}e.debounce=n})(YV);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=YV;function n(r,i=0,a={}){const{leading:s=!0,trailing:o=!0}=a;return t.debounce(r,i,{leading:s,maxWait:i,trailing:o})}e.throttle=n})(GV);var Lpe=GV.throttle;const Rpe=Yl(Lpe);var Sy=function(t,n){for(var r=arguments.length,i=new Array(r>2?r-2:0),a=2;a<r;a++)i[a-2]=arguments[a];if(typeof console<"u"&&console.warn&&(n===void 0&&console.warn("LogUtils requires an error message argument"),!t))if(n===void 0)console.warn("Minified exception occurred; use the non-minified dev environment for the full error message and additional helpful warnings.");else{var s=0;console.warn(n.replace(/%s/g,()=>i[s++]))}},QV=(e,t,n)=>{var{width:r="100%",height:i="100%",aspect:a,maxHeight:s}=n,o=$l(r)?e:Number(r),l=$l(i)?t:Number(i);return a&&a>0&&(o?l=o/a:l&&(o=l*a),s&&l!=null&&l>s&&(l=s)),{calculatedWidth:o,calculatedHeight:l}},Mpe={width:0,height:0,overflow:"visible"},Dpe={width:0,overflowX:"visible"},Fpe={height:0,overflowY:"visible"},Bpe={},Vpe=e=>{var{width:t,height:n}=e,r=$l(t),i=$l(n);return r&&i?Mpe:r?Dpe:i?Fpe:Bpe};function zpe(e){var{width:t,height:n,aspect:r}=e,i=t,a=n;return i===void 0&&a===void 0?(i="100%",a="100%"):i===void 0?i=r&&r>0?void 0:"100%":a===void 0&&(a=r&&r>0?void 0:"100%"),{width:i,height:a}}function Cr(e){return Number.isFinite(e)}function Zo(e){return typeof e=="number"&&e>0&&Number.isFinite(e)}function k3(){return k3=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},k3.apply(null,arguments)}function vj(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function yj(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?vj(Object(n),!0).forEach(function(r){$pe(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):vj(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function $pe(e,t,n){return(t=Upe(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Upe(e){var t=Wpe(e,"string");return typeof t=="symbol"?t:t+""}function Wpe(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var ZV=S.createContext({width:-1,height:-1});function qpe(e){return Zo(e.width)&&Zo(e.height)}function JV(e){var{children:t,width:n,height:r}=e,i=S.useMemo(()=>({width:n,height:r}),[n,r]);return qpe(i)?S.createElement(ZV.Provider,{value:i},t):null}var l6=()=>S.useContext(ZV),Hpe=S.forwardRef((e,t)=>{var{aspect:n,initialDimension:r={width:-1,height:-1},width:i,height:a,minWidth:s=0,minHeight:o,maxHeight:l,children:u,debounce:c=0,id:d,className:p,onResize:f,style:g={}}=e,v=S.useRef(null),b=S.useRef();b.current=f,S.useImperativeHandle(t,()=>v.current);var[x,w]=S.useState({containerWidth:r.width,containerHeight:r.height}),A=S.useCallback((k,I)=>{w(M=>{var N=Math.round(k),C=Math.round(I);return M.containerWidth===N&&M.containerHeight===C?M:{containerWidth:N,containerHeight:C}})},[]);S.useEffect(()=>{if(v.current==null||typeof ResizeObserver>"u")return U0;var k=C=>{var R,{width:W,height:Y}=C[0].contentRect;A(W,Y),(R=b.current)===null||R===void 0||R.call(b,W,Y)};c>0&&(k=Rpe(k,c,{trailing:!0,leading:!1}));var I=new ResizeObserver(k),{width:M,height:N}=v.current.getBoundingClientRect();return A(M,N),I.observe(v.current),()=>{I.disconnect()}},[A,c]);var{containerWidth:P,containerHeight:O}=x;Sy(!n||n>0,"The aspect(%s) must be greater than zero.",n);var{calculatedWidth:D,calculatedHeight:T}=QV(P,O,{width:i,height:a,aspect:n,maxHeight:l});return Sy(D!=null&&D>0||T!=null&&T>0,`The width(%s) and height(%s) of chart should be greater than 0,
       please check the style of container, or the props width(%s) and height(%s),
       or add a minWidth(%s) or minHeight(%s) or use aspect(%s) to control the
       height and width.`,D,T,i,a,s,o,n),S.createElement("div",{id:d?"".concat(d):void 0,className:yn("recharts-responsive-container",p),style:yj(yj({},g),{},{width:i,height:a,minWidth:s,minHeight:o,maxHeight:l}),ref:v},S.createElement("div",{style:Vpe({width:i,height:a})},S.createElement(JV,{width:D,height:T},u)))}),Ay=S.forwardRef((e,t)=>{var n=l6();if(Zo(n.width)&&Zo(n.height))return e.children;var{width:r,height:i}=zpe({width:e.width,height:e.height,aspect:e.aspect}),{calculatedWidth:a,calculatedHeight:s}=QV(void 0,void 0,{width:r,height:i,aspect:e.aspect,maxHeight:e.maxHeight});return at(a)&&at(s)?S.createElement(JV,{width:a,height:s},e.children):S.createElement(Hpe,k3({},e,{width:r,height:i,ref:t}))});function ez(e){if(e)return{x:e.x,y:e.y,upperWidth:"upperWidth"in e?e.upperWidth:e.width,lowerWidth:"lowerWidth"in e?e.lowerWidth:e.width,width:e.width,height:e.height}}var mx=()=>{var e,t=ja(),n=Ze(Ipe),r=Ze(px),i=(e=Ze(hx))===null||e===void 0?void 0:e.padding;return!t||!r||!i?n:{width:r.width-i.left-i.right,height:r.height-i.top-i.bottom,x:i.left,y:i.top}},Kpe={top:0,bottom:0,left:0,right:0,width:0,height:0,brushBottom:0},tz=()=>{var e;return(e=Ze(Gr))!==null&&e!==void 0?e:Kpe},u6=()=>Ze(Ql),c6=()=>Ze(Zl),Gpe=()=>Ze(e=>e.layout.margin),tn=e=>e.layout.layoutType,gx=()=>Ze(tn),Ype=()=>{var e=gx();return e!==void 0},vx=e=>{var t=jn(),n=ja(),{width:r,height:i}=e,a=l6(),s=r,o=i;return a&&(s=a.width>0?a.width:r,o=a.height>0?a.height:i),S.useEffect(()=>{!n&&Zo(s)&&Zo(o)&&t(rpe({width:s,height:o}))},[t,n,s,o]),null},nz=Symbol.for("immer-nothing"),xj=Symbol.for("immer-draftable"),rs=Symbol.for("immer-state");function Zs(e,...t){throw new Error(`[Immer] minified error nr: ${e}. Full error at: https://bit.ly/3cXEKWf`)}var s0=Object.getPrototypeOf;function xh(e){return!!e&&!!e[rs]}function Id(e){var t;return e?rz(e)||Array.isArray(e)||!!e[xj]||!!((t=e.constructor)!=null&&t[xj])||Y0(e)||xx(e):!1}var Xpe=Object.prototype.constructor.toString(),bj=new WeakMap;function rz(e){if(!e||typeof e!="object")return!1;const t=Object.getPrototypeOf(e);if(t===null||t===Object.prototype)return!0;const n=Object.hasOwnProperty.call(t,"constructor")&&t.constructor;if(n===Object)return!0;if(typeof n!="function")return!1;let r=bj.get(n);return r===void 0&&(r=Function.toString.call(n),bj.set(n,r)),r===Xpe}function Py(e,t,n=!0){yx(e)===0?(n?Reflect.ownKeys(e):Object.keys(e)).forEach(i=>{t(i,e[i],e)}):e.forEach((r,i)=>t(i,r,e))}function yx(e){const t=e[rs];return t?t.type_:Array.isArray(e)?1:Y0(e)?2:xx(e)?3:0}function T3(e,t){return yx(e)===2?e.has(t):Object.prototype.hasOwnProperty.call(e,t)}function iz(e,t,n){const r=yx(e);r===2?e.set(t,n):r===3?e.add(n):e[t]=n}function Qpe(e,t){return e===t?e!==0||1/e===1/t:e!==e&&t!==t}function Y0(e){return e instanceof Map}function xx(e){return e instanceof Set}function Qc(e){return e.copy_||e.base_}function C3(e,t){if(Y0(e))return new Map(e);if(xx(e))return new Set(e);if(Array.isArray(e))return Array.prototype.slice.call(e);const n=rz(e);if(t===!0||t==="class_only"&&!n){const r=Object.getOwnPropertyDescriptors(e);delete r[rs];let i=Reflect.ownKeys(r);for(let a=0;a<i.length;a++){const s=i[a],o=r[s];o.writable===!1&&(o.writable=!0,o.configurable=!0),(o.get||o.set)&&(r[s]={configurable:!0,writable:!0,enumerable:o.enumerable,value:e[s]})}return Object.create(s0(e),r)}else{const r=s0(e);if(r!==null&&n)return{...e};const i=Object.create(r);return Object.assign(i,e)}}function d6(e,t=!1){return bx(e)||xh(e)||!Id(e)||(yx(e)>1&&Object.defineProperties(e,{set:x1,add:x1,clear:x1,delete:x1}),Object.freeze(e),t&&Object.values(e).forEach(n=>d6(n,!0))),e}function Zpe(){Zs(2)}var x1={value:Zpe};function bx(e){return e===null||typeof e!="object"?!0:Object.isFrozen(e)}var Jpe={};function Od(e){const t=Jpe[e];return t||Zs(0,e),t}var o0;function az(){return o0}function eme(e,t){return{drafts_:[],parent_:e,immer_:t,canAutoFreeze_:!0,unfinalizedDrafts_:0}}function wj(e,t){t&&(Od("Patches"),e.patches_=[],e.inversePatches_=[],e.patchListener_=t)}function j3(e){I3(e),e.drafts_.forEach(tme),e.drafts_=null}function I3(e){e===o0&&(o0=e.parent_)}function _j(e){return o0=eme(o0,e)}function tme(e){const t=e[rs];t.type_===0||t.type_===1?t.revoke_():t.revoked_=!0}function Sj(e,t){t.unfinalizedDrafts_=t.drafts_.length;const n=t.drafts_[0];return e!==void 0&&e!==n?(n[rs].modified_&&(j3(t),Zs(4)),Id(e)&&(e=Ey(t,e),t.parent_||Ny(t,e)),t.patches_&&Od("Patches").generateReplacementPatches_(n[rs].base_,e,t.patches_,t.inversePatches_)):e=Ey(t,n,[]),j3(t),t.patches_&&t.patchListener_(t.patches_,t.inversePatches_),e!==nz?e:void 0}function Ey(e,t,n){if(bx(t))return t;const r=e.immer_.shouldUseStrictIteration(),i=t[rs];if(!i)return Py(t,(a,s)=>Aj(e,i,t,a,s,n),r),t;if(i.scope_!==e)return t;if(!i.modified_)return Ny(e,i.base_,!0),i.base_;if(!i.finalized_){i.finalized_=!0,i.scope_.unfinalizedDrafts_--;const a=i.copy_;let s=a,o=!1;i.type_===3&&(s=new Set(a),a.clear(),o=!0),Py(s,(l,u)=>Aj(e,i,a,l,u,n,o),r),Ny(e,a,!1),n&&e.patches_&&Od("Patches").generatePatches_(i,n,e.patches_,e.inversePatches_)}return i.copy_}function Aj(e,t,n,r,i,a,s){if(i==null||typeof i!="object"&&!s)return;const o=bx(i);if(!(o&&!s)){if(xh(i)){const l=a&&t&&t.type_!==3&&!T3(t.assigned_,r)?a.concat(r):void 0,u=Ey(e,i,l);if(iz(n,r,u),xh(u))e.canAutoFreeze_=!1;else return}else s&&n.add(i);if(Id(i)&&!o){if(!e.immer_.autoFreeze_&&e.unfinalizedDrafts_<1||t&&t.base_&&t.base_[r]===i&&o)return;Ey(e,i),(!t||!t.scope_.parent_)&&typeof r!="symbol"&&(Y0(n)?n.has(r):Object.prototype.propertyIsEnumerable.call(n,r))&&Ny(e,i)}}}function Ny(e,t,n=!1){!e.parent_&&e.immer_.autoFreeze_&&e.canAutoFreeze_&&d6(t,n)}function nme(e,t){const n=Array.isArray(e),r={type_:n?1:0,scope_:t?t.scope_:az(),modified_:!1,finalized_:!1,assigned_:{},parent_:t,base_:e,draft_:null,copy_:null,revoke_:null,isManual_:!1};let i=r,a=f6;n&&(i=[r],a=l0);const{revoke:s,proxy:o}=Proxy.revocable(i,a);return r.draft_=o,r.revoke_=s,o}var f6={get(e,t){if(t===rs)return e;const n=Qc(e);if(!T3(n,t))return rme(e,n,t);const r=n[t];return e.finalized_||!Id(r)?r:r===Ww(e.base_,t)?(qw(e),e.copy_[t]=L3(r,e)):r},has(e,t){return t in Qc(e)},ownKeys(e){return Reflect.ownKeys(Qc(e))},set(e,t,n){const r=sz(Qc(e),t);if(r!=null&&r.set)return r.set.call(e.draft_,n),!0;if(!e.modified_){const i=Ww(Qc(e),t),a=i==null?void 0:i[rs];if(a&&a.base_===n)return e.copy_[t]=n,e.assigned_[t]=!1,!0;if(Qpe(n,i)&&(n!==void 0||T3(e.base_,t)))return!0;qw(e),O3(e)}return e.copy_[t]===n&&(n!==void 0||t in e.copy_)||Number.isNaN(n)&&Number.isNaN(e.copy_[t])||(e.copy_[t]=n,e.assigned_[t]=!0),!0},deleteProperty(e,t){return Ww(e.base_,t)!==void 0||t in e.base_?(e.assigned_[t]=!1,qw(e),O3(e)):delete e.assigned_[t],e.copy_&&delete e.copy_[t],!0},getOwnPropertyDescriptor(e,t){const n=Qc(e),r=Reflect.getOwnPropertyDescriptor(n,t);return r&&{writable:!0,configurable:e.type_!==1||t!=="length",enumerable:r.enumerable,value:n[t]}},defineProperty(){Zs(11)},getPrototypeOf(e){return s0(e.base_)},setPrototypeOf(){Zs(12)}},l0={};Py(f6,(e,t)=>{l0[e]=function(){return arguments[0]=arguments[0][0],t.apply(this,arguments)}});l0.deleteProperty=function(e,t){return l0.set.call(this,e,t,void 0)};l0.set=function(e,t,n){return f6.set.call(this,e[0],t,n,e[0])};function Ww(e,t){const n=e[rs];return(n?Qc(n):e)[t]}function rme(e,t,n){var i;const r=sz(t,n);return r?"value"in r?r.value:(i=r.get)==null?void 0:i.call(e.draft_):void 0}function sz(e,t){if(!(t in e))return;let n=s0(e);for(;n;){const r=Object.getOwnPropertyDescriptor(n,t);if(r)return r;n=s0(n)}}function O3(e){e.modified_||(e.modified_=!0,e.parent_&&O3(e.parent_))}function qw(e){e.copy_||(e.copy_=C3(e.base_,e.scope_.immer_.useStrictShallowCopy_))}var ime=class{constructor(e){this.autoFreeze_=!0,this.useStrictShallowCopy_=!1,this.useStrictIteration_=!0,this.produce=(t,n,r)=>{if(typeof t=="function"&&typeof n!="function"){const a=n;n=t;const s=this;return function(l=a,...u){return s.produce(l,c=>n.call(this,c,...u))}}typeof n!="function"&&Zs(6),r!==void 0&&typeof r!="function"&&Zs(7);let i;if(Id(t)){const a=_j(this),s=L3(t,void 0);let o=!0;try{i=n(s),o=!1}finally{o?j3(a):I3(a)}return wj(a,r),Sj(i,a)}else if(!t||typeof t!="object"){if(i=n(t),i===void 0&&(i=t),i===nz&&(i=void 0),this.autoFreeze_&&d6(i,!0),r){const a=[],s=[];Od("Patches").generateReplacementPatches_(t,i,a,s),r(a,s)}return i}else Zs(1,t)},this.produceWithPatches=(t,n)=>{if(typeof t=="function")return(s,...o)=>this.produceWithPatches(s,l=>t(l,...o));let r,i;return[this.produce(t,n,(s,o)=>{r=s,i=o}),r,i]},typeof(e==null?void 0:e.autoFreeze)=="boolean"&&this.setAutoFreeze(e.autoFreeze),typeof(e==null?void 0:e.useStrictShallowCopy)=="boolean"&&this.setUseStrictShallowCopy(e.useStrictShallowCopy),typeof(e==null?void 0:e.useStrictIteration)=="boolean"&&this.setUseStrictIteration(e.useStrictIteration)}createDraft(e){Id(e)||Zs(8),xh(e)&&(e=ame(e));const t=_j(this),n=L3(e,void 0);return n[rs].isManual_=!0,I3(t),n}finishDraft(e,t){const n=e&&e[rs];(!n||!n.isManual_)&&Zs(9);const{scope_:r}=n;return wj(r,t),Sj(void 0,r)}setAutoFreeze(e){this.autoFreeze_=e}setUseStrictShallowCopy(e){this.useStrictShallowCopy_=e}setUseStrictIteration(e){this.useStrictIteration_=e}shouldUseStrictIteration(){return this.useStrictIteration_}applyPatches(e,t){let n;for(n=t.length-1;n>=0;n--){const i=t[n];if(i.path.length===0&&i.op==="replace"){e=i.value;break}}n>-1&&(t=t.slice(n+1));const r=Od("Patches").applyPatches_;return xh(e)?r(e,t):this.produce(e,i=>r(i,t))}};function L3(e,t){const n=Y0(e)?Od("MapSet").proxyMap_(e,t):xx(e)?Od("MapSet").proxySet_(e,t):nme(e,t);return(t?t.scope_:az()).drafts_.push(n),n}function ame(e){return xh(e)||Zs(10,e),oz(e)}function oz(e){if(!Id(e)||bx(e))return e;const t=e[rs];let n,r=!0;if(t){if(!t.modified_)return t.base_;t.finalized_=!0,n=C3(e,t.scope_.immer_.useStrictShallowCopy_),r=t.scope_.immer_.shouldUseStrictIteration()}else n=C3(e,!0);return Py(n,(i,a)=>{iz(n,i,oz(a))},r),t&&(t.finalized_=!1),n}var sme=new ime;sme.produce;var ome={settings:{layout:"horizontal",align:"center",verticalAlign:"middle",itemSorter:"value"},size:{width:0,height:0},payload:[]},lz=Ca({name:"legend",initialState:ome,reducers:{setLegendSize(e,t){e.size.width=t.payload.width,e.size.height=t.payload.height},setLegendSettings(e,t){e.settings.align=t.payload.align,e.settings.layout=t.payload.layout,e.settings.verticalAlign=t.payload.verticalAlign,e.settings.itemSorter=t.payload.itemSorter},addLegendPayload:{reducer(e,t){e.payload.push(t.payload)},prepare:Wn()},replaceLegendPayload:{reducer(e,t){var{prev:n,next:r}=t.payload,i=ro(e).payload.indexOf(n);i>-1&&(e.payload[i]=r)},prepare:Wn()},removeLegendPayload:{reducer(e,t){var n=ro(e).payload.indexOf(t.payload);n>-1&&e.payload.splice(n,1)},prepare:Wn()}}}),{setLegendSize:Pj,setLegendSettings:lme,addLegendPayload:uz,replaceLegendPayload:cz,removeLegendPayload:dz}=lz.actions,ume=lz.reducer,cme=["contextPayload"];function R3(){return R3=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},R3.apply(null,arguments)}function Ej(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function bh(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?Ej(Object(n),!0).forEach(function(r){dme(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Ej(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function dme(e,t,n){return(t=fme(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function fme(e){var t=hme(e,"string");return typeof t=="symbol"?t:t+""}function hme(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function pme(e,t){if(e==null)return{};var n,r,i=mme(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)===-1&&{}.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function mme(e,t){if(e==null)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.indexOf(r)!==-1)continue;n[r]=e[r]}return n}function gme(e){return e.value}function vme(e){var{contextPayload:t}=e,n=pme(e,cme),r=eV(t,e.payloadUniqBy,gme),i=bh(bh({},n),{},{payload:r});return S.isValidElement(e.content)?S.cloneElement(e.content,i):typeof e.content=="function"?S.createElement(e.content,i):S.createElement(wfe,i)}function yme(e,t,n,r,i,a){var{layout:s,align:o,verticalAlign:l}=t,u,c;return(!e||(e.left===void 0||e.left===null)&&(e.right===void 0||e.right===null))&&(o==="center"&&s==="vertical"?u={left:((r||0)-a.width)/2}:u=o==="right"?{right:n&&n.right||0}:{left:n&&n.left||0}),(!e||(e.top===void 0||e.top===null)&&(e.bottom===void 0||e.bottom===null))&&(l==="middle"?c={top:((i||0)-a.height)/2}:c=l==="bottom"?{bottom:n&&n.bottom||0}:{top:n&&n.top||0}),bh(bh({},u),c)}function xme(e){var t=jn();return S.useEffect(()=>{t(lme(e))},[t,e]),null}function bme(e){var t=jn();return S.useEffect(()=>(t(Pj(e)),()=>{t(Pj({width:0,height:0}))}),[t,e]),null}function wme(e,t,n,r){return e==="vertical"&&at(t)?{height:t}:e==="horizontal"?{width:n||r}:null}var _me={align:"center",iconSize:14,itemSorter:"value",layout:"horizontal",verticalAlign:"bottom"};function h6(e){var t=di(e,_me),n=ahe(),r=pde(),i=Gpe(),{width:a,height:s,wrapperStyle:o,portal:l}=t,[u,c]=fV([n]),d=u6(),p=c6();if(d==null||p==null)return null;var f=d-((i==null?void 0:i.left)||0)-((i==null?void 0:i.right)||0),g=wme(t.layout,s,a,f),v=l?o:bh(bh({position:"absolute",width:(g==null?void 0:g.width)||a||"auto",height:(g==null?void 0:g.height)||s||"auto"},yme(o,t,i,d,p,u)),o),b=l??r;if(b==null||n==null)return null;var x=S.createElement("div",{className:"recharts-legend-wrapper",style:v,ref:c},S.createElement(xme,{layout:t.layout,align:t.align,verticalAlign:t.verticalAlign,itemSorter:t.itemSorter}),!l&&S.createElement(bme,{width:u.width,height:u.height}),S.createElement(vme,R3({},t,g,{margin:i,chartWidth:d,chartHeight:p,contextPayload:n})));return x2.createPortal(x,b)}h6.displayName="Legend";function M3(){return M3=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},M3.apply(null,arguments)}function Nj(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function Hw(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?Nj(Object(n),!0).forEach(function(r){Sme(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Nj(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function Sme(e,t,n){return(t=Ame(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Ame(e){var t=Pme(e,"string");return typeof t=="symbol"?t:t+""}function Pme(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Eme(e){return Array.isArray(e)&&Qo(e[0])&&Qo(e[1])?e.join(" ~ "):e}var Nme=e=>{var{separator:t=" : ",contentStyle:n={},itemStyle:r={},labelStyle:i={},payload:a,formatter:s,itemSorter:o,wrapperClassName:l,labelClassName:u,label:c,labelFormatter:d,accessibilityLayer:p=!1}=e,f=()=>{if(a&&a.length){var O={padding:0,margin:0},D=(o?tx(a,o):a).map((T,k)=>{if(T.type==="none")return null;var I=T.formatter||s||Eme,{value:M,name:N}=T,C=M,R=N;if(I){var W=I(M,N,T,k,a);if(Array.isArray(W))[C,R]=W;else if(W!=null)C=W;else return null}var Y=Hw({display:"block",paddingTop:4,paddingBottom:4,color:T.color||"#000"},r);return S.createElement("li",{className:"recharts-tooltip-item",key:"tooltip-item-".concat(k),style:Y},Qo(R)?S.createElement("span",{className:"recharts-tooltip-item-name"},R):null,Qo(R)?S.createElement("span",{className:"recharts-tooltip-item-separator"},t):null,S.createElement("span",{className:"recharts-tooltip-item-value"},C),S.createElement("span",{className:"recharts-tooltip-item-unit"},T.unit||""))});return S.createElement("ul",{className:"recharts-tooltip-item-list",style:O},D)}return null},g=Hw({margin:0,padding:10,backgroundColor:"#fff",border:"1px solid #ccc",whiteSpace:"nowrap"},n),v=Hw({margin:0},i),b=!ci(c),x=b?c:"",w=yn("recharts-default-tooltip",l),A=yn("recharts-tooltip-label",u);b&&d&&a!==void 0&&a!==null&&(x=d(c,a));var P=p?{role:"status","aria-live":"assertive"}:{};return S.createElement("div",M3({className:w,style:g},P),S.createElement("p",{className:A,style:v},S.isValidElement(x)?x:"".concat(x)),f())},Tp="recharts-tooltip-wrapper",kme={visibility:"hidden"};function Tme(e){var{coordinate:t,translateX:n,translateY:r}=e;return yn(Tp,{["".concat(Tp,"-right")]:at(n)&&t&&at(t.x)&&n>=t.x,["".concat(Tp,"-left")]:at(n)&&t&&at(t.x)&&n<t.x,["".concat(Tp,"-bottom")]:at(r)&&t&&at(t.y)&&r>=t.y,["".concat(Tp,"-top")]:at(r)&&t&&at(t.y)&&r<t.y})}function kj(e){var{allowEscapeViewBox:t,coordinate:n,key:r,offsetTopLeft:i,position:a,reverseDirection:s,tooltipDimension:o,viewBox:l,viewBoxDimension:u}=e;if(a&&at(a[r]))return a[r];var c=n[r]-o-(i>0?i:0),d=n[r]+i;if(t[r])return s[r]?c:d;var p=l[r];if(p==null)return 0;if(s[r]){var f=c,g=p;return f<g?Math.max(d,p):Math.max(c,p)}if(u==null)return 0;var v=d+o,b=p+u;return v>b?Math.max(c,p):Math.max(d,p)}function Cme(e){var{translateX:t,translateY:n,useTranslate3d:r}=e;return{transform:r?"translate3d(".concat(t,"px, ").concat(n,"px, 0)"):"translate(".concat(t,"px, ").concat(n,"px)")}}function jme(e){var{allowEscapeViewBox:t,coordinate:n,offsetTopLeft:r,position:i,reverseDirection:a,tooltipBox:s,useTranslate3d:o,viewBox:l}=e,u,c,d;return s.height>0&&s.width>0&&n?(c=kj({allowEscapeViewBox:t,coordinate:n,key:"x",offsetTopLeft:r,position:i,reverseDirection:a,tooltipDimension:s.width,viewBox:l,viewBoxDimension:l.width}),d=kj({allowEscapeViewBox:t,coordinate:n,key:"y",offsetTopLeft:r,position:i,reverseDirection:a,tooltipDimension:s.height,viewBox:l,viewBoxDimension:l.height}),u=Cme({translateX:c,translateY:d,useTranslate3d:o})):u=kme,{cssProperties:u,cssClasses:Tme({translateX:c,translateY:d,coordinate:n})}}function Tj(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function b1(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?Tj(Object(n),!0).forEach(function(r){D3(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Tj(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function D3(e,t,n){return(t=Ime(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Ime(e){var t=Ome(e,"string");return typeof t=="symbol"?t:t+""}function Ome(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}class Lme extends S.PureComponent{constructor(){super(...arguments),D3(this,"state",{dismissed:!1,dismissedAtCoordinate:{x:0,y:0}}),D3(this,"handleKeyDown",t=>{if(t.key==="Escape"){var n,r,i,a;this.setState({dismissed:!0,dismissedAtCoordinate:{x:(n=(r=this.props.coordinate)===null||r===void 0?void 0:r.x)!==null&&n!==void 0?n:0,y:(i=(a=this.props.coordinate)===null||a===void 0?void 0:a.y)!==null&&i!==void 0?i:0}})}})}componentDidMount(){document.addEventListener("keydown",this.handleKeyDown)}componentWillUnmount(){document.removeEventListener("keydown",this.handleKeyDown)}componentDidUpdate(){var t,n;this.state.dismissed&&(((t=this.props.coordinate)===null||t===void 0?void 0:t.x)!==this.state.dismissedAtCoordinate.x||((n=this.props.coordinate)===null||n===void 0?void 0:n.y)!==this.state.dismissedAtCoordinate.y)&&(this.state.dismissed=!1)}render(){var{active:t,allowEscapeViewBox:n,animationDuration:r,animationEasing:i,children:a,coordinate:s,hasPayload:o,isAnimationActive:l,offset:u,position:c,reverseDirection:d,useTranslate3d:p,viewBox:f,wrapperStyle:g,lastBoundingBox:v,innerRef:b,hasPortalFromProps:x}=this.props,{cssClasses:w,cssProperties:A}=jme({allowEscapeViewBox:n,coordinate:s,offsetTopLeft:u,position:c,reverseDirection:d,tooltipBox:{height:v.height,width:v.width},useTranslate3d:p,viewBox:f}),P=x?{}:b1(b1({transition:l&&t?"transform ".concat(r,"ms ").concat(i):void 0},A),{},{pointerEvents:"none",visibility:!this.state.dismissed&&t&&o?"visible":"hidden",position:"absolute",top:0,left:0}),O=b1(b1({},P),{},{visibility:!this.state.dismissed&&t&&o?"visible":"hidden"},g);return S.createElement("div",{xmlns:"http://www.w3.org/1999/xhtml",tabIndex:-1,className:w,style:O,ref:b},a)}}var fz=()=>{var e;return(e=Ze(t=>t.rootProps.accessibilityLayer))!==null&&e!==void 0?e:!0};function F3(){return F3=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},F3.apply(null,arguments)}function Cj(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function jj(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?Cj(Object(n),!0).forEach(function(r){Rme(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Cj(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function Rme(e,t,n){return(t=Mme(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Mme(e){var t=Dme(e,"string");return typeof t=="symbol"?t:t+""}function Dme(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var Ij={curveBasisClosed:Ode,curveBasisOpen:Lde,curveBasis:Ide,curveBumpX:yde,curveBumpY:xde,curveLinearClosed:Rde,curveLinear:G2,curveMonotoneX:Mde,curveMonotoneY:Dde,curveNatural:Fde,curveStep:Bde,curveStepAfter:zde,curveStepBefore:Vde},ky=e=>Cr(e.x)&&Cr(e.y),Oj=e=>e.base!=null&&ky(e.base)&&ky(e),Cp=e=>e.x,jp=e=>e.y,Fme=(e,t)=>{if(typeof e=="function")return e;var n="curve".concat($0(e));return(n==="curveMonotone"||n==="curveBump")&&t?Ij["".concat(n).concat(t==="vertical"?"Y":"X")]:Ij[n]||G2},Bme=e=>{var{type:t="linear",points:n=[],baseLine:r,layout:i,connectNulls:a=!1}=e,s=Fme(t,i),o=a?n.filter(ky):n,l;if(Array.isArray(r)){var u=n.map((f,g)=>jj(jj({},f),{},{base:r[g]}));i==="vertical"?l=f1().y(jp).x1(Cp).x0(f=>f.base.x):l=f1().x(Cp).y1(jp).y0(f=>f.base.y);var c=l.defined(Oj).curve(s),d=a?u.filter(Oj):u;return c(d)}i==="vertical"&&at(r)?l=f1().y(jp).x1(Cp).x0(r):at(r)?l=f1().x(Cp).y1(jp).y0(r):l=wB().x(Cp).y(jp);var p=l.defined(ky).curve(s);return p(o)},p6=e=>{var{className:t,points:n,path:r,pathRef:i}=e;if((!n||!n.length)&&!r)return null;var a=n&&n.length?Bme(e):r;return S.createElement("path",F3({},lo(e),lfe(e),{className:yn("recharts-curve",t),d:a===null?void 0:a,ref:i}))},Vme=["x","y","top","left","width","height","className"];function B3(){return B3=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},B3.apply(null,arguments)}function Lj(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function zme(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?Lj(Object(n),!0).forEach(function(r){$me(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Lj(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function $me(e,t,n){return(t=Ume(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Ume(e){var t=Wme(e,"string");return typeof t=="symbol"?t:t+""}function Wme(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function qme(e,t){if(e==null)return{};var n,r,i=Hme(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)===-1&&{}.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function Hme(e,t){if(e==null)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.indexOf(r)!==-1)continue;n[r]=e[r]}return n}var Kme=(e,t,n,r,i,a)=>"M".concat(e,",").concat(i,"v").concat(r,"M").concat(a,",").concat(t,"h").concat(n),Gme=e=>{var{x:t=0,y:n=0,top:r=0,left:i=0,width:a=0,height:s=0,className:o}=e,l=qme(e,Vme),u=zme({x:t,y:n,top:r,left:i,width:a,height:s},l);return!at(t)||!at(n)||!at(a)||!at(s)||!at(r)||!at(i)?null:S.createElement("path",B3({},Cs(u),{className:yn("recharts-cross",o),d:Kme(t,n,a,s,r,i)}))};function Yme(e,t,n,r){var i=r/2;return{stroke:"none",fill:"#ccc",x:e==="horizontal"?t.x-i:n.left+.5,y:e==="horizontal"?n.top+.5:t.y-i,width:e==="horizontal"?r:n.width-1,height:e==="horizontal"?n.height-1:r}}function Rj(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function Mj(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?Rj(Object(n),!0).forEach(function(r){Xme(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Rj(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function Xme(e,t,n){return(t=Qme(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Qme(e){var t=Zme(e,"string");return typeof t=="symbol"?t:t+""}function Zme(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var Jme=e=>e.replace(/([A-Z])/g,t=>"-".concat(t.toLowerCase())),hz=(e,t,n)=>e.map(r=>"".concat(Jme(r)," ").concat(t,"ms ").concat(n)).join(","),e0e=(e,t)=>[Object.keys(e),Object.keys(t)].reduce((n,r)=>n.filter(i=>r.includes(i))),u0=(e,t)=>Object.keys(t).reduce((n,r)=>Mj(Mj({},n),{},{[r]:e(r,t[r])}),{});function Dj(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function Hr(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?Dj(Object(n),!0).forEach(function(r){t0e(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Dj(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function t0e(e,t,n){return(t=n0e(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function n0e(e){var t=r0e(e,"string");return typeof t=="symbol"?t:t+""}function r0e(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var Ty=(e,t,n)=>e+(t-e)*n,V3=e=>{var{from:t,to:n}=e;return t!==n},pz=(e,t,n)=>{var r=u0((i,a)=>{if(V3(a)){var[s,o]=e(a.from,a.to,a.velocity);return Hr(Hr({},a),{},{from:s,velocity:o})}return a},t);return n<1?u0((i,a)=>V3(a)?Hr(Hr({},a),{},{velocity:Ty(a.velocity,r[i].velocity,n),from:Ty(a.from,r[i].from,n)}):a,t):pz(e,r,n-1)};function i0e(e,t,n,r,i,a){var s,o=r.reduce((p,f)=>Hr(Hr({},p),{},{[f]:{from:e[f],velocity:0,to:t[f]}}),{}),l=()=>u0((p,f)=>f.from,o),u=()=>!Object.values(o).filter(V3).length,c=null,d=p=>{s||(s=p);var f=p-s,g=f/n.dt;o=pz(n,o,g),i(Hr(Hr(Hr({},e),t),l())),s=p,u()||(c=a.setTimeout(d))};return()=>(c=a.setTimeout(d),()=>{var p;(p=c)===null||p===void 0||p()})}function a0e(e,t,n,r,i,a,s){var o=null,l=i.reduce((d,p)=>Hr(Hr({},d),{},{[p]:[e[p],t[p]]}),{}),u,c=d=>{u||(u=d);var p=(d-u)/r,f=u0((v,b)=>Ty(...b,n(p)),l);if(a(Hr(Hr(Hr({},e),t),f)),p<1)o=s.setTimeout(c);else{var g=u0((v,b)=>Ty(...b,n(1)),l);a(Hr(Hr(Hr({},e),t),g))}};return()=>(o=s.setTimeout(c),()=>{var d;(d=o)===null||d===void 0||d()})}const s0e=(e,t,n,r,i,a)=>{var s=e0e(e,t);return n==null?()=>(i(Hr(Hr({},e),t)),()=>{}):n.isStepper===!0?i0e(e,t,n,s,i,a):a0e(e,t,n,r,s,i,a)};var Cy=1e-4,mz=(e,t)=>[0,3*e,3*t-6*e,3*e-3*t+1],gz=(e,t)=>e.map((n,r)=>n*t**r).reduce((n,r)=>n+r),Fj=(e,t)=>n=>{var r=mz(e,t);return gz(r,n)},o0e=(e,t)=>n=>{var r=mz(e,t),i=[...r.map((a,s)=>a*s).slice(1),0];return gz(i,n)},l0e=function(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];if(n.length===1)switch(n[0]){case"linear":return[0,0,1,1];case"ease":return[.25,.1,.25,1];case"ease-in":return[.42,0,1,1];case"ease-out":return[.42,0,.58,1];case"ease-in-out":return[0,0,.58,1];default:{var i,a=n[0].split("(");if(a[0]==="cubic-bezier"&&((i=a[1])===null||i===void 0?void 0:i.split(")")[0].split(",").length)===4){var s=a[1].split(")")[0].split(",").map(o=>parseFloat(o));return[s[0],s[1],s[2],s[3]]}}}return n.length===4?n:[0,0,1,1]},u0e=(e,t,n,r)=>{var i=Fj(e,n),a=Fj(t,r),s=o0e(e,n),o=u=>u>1?1:u<0?0:u,l=u=>{for(var c=u>1?1:u,d=c,p=0;p<8;++p){var f=i(d)-c,g=s(d);if(Math.abs(f-c)<Cy||g<Cy)return a(d);d=o(d-f/g)}return a(d)};return l.isStepper=!1,l},Bj=function(){return u0e(...l0e(...arguments))},c0e=function(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},{stiff:n=100,damping:r=8,dt:i=17}=t,a=(s,o,l)=>{var u=-(s-o)*n,c=l*r,d=l+(u-c)*i/1e3,p=l*i/1e3+s;return Math.abs(p-o)<Cy&&Math.abs(d)<Cy?[o,0]:[p,d]};return a.isStepper=!0,a.dt=i,a},d0e=e=>{if(typeof e=="string")switch(e){case"ease":case"ease-in-out":case"ease-out":case"ease-in":case"linear":return Bj(e);case"spring":return c0e();default:if(e.split("(")[0]==="cubic-bezier")return Bj(e)}return typeof e=="function"?e:null};function f0e(e){var t,n=()=>null,r=!1,i=null,a=s=>{if(!r){if(Array.isArray(s)){if(!s.length)return;var o=s,[l,...u]=o;if(typeof l=="number"){i=e.setTimeout(a.bind(null,u),l);return}a(l),i=e.setTimeout(a.bind(null,u));return}typeof s=="string"&&(t=s,n(t)),typeof s=="object"&&(t=s,n(t)),typeof s=="function"&&s()}};return{stop:()=>{r=!0},start:s=>{r=!1,i&&(i(),i=null),a(s)},subscribe:s=>(n=s,()=>{n=()=>null}),getTimeoutController:()=>e}}class h0e{setTimeout(t){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,r=performance.now(),i=null,a=s=>{s-r>=n?t(s):typeof requestAnimationFrame=="function"&&(i=requestAnimationFrame(a))};return i=requestAnimationFrame(a),()=>{i!=null&&cancelAnimationFrame(i)}}}function p0e(){return f0e(new h0e)}var m0e=S.createContext(p0e);function g0e(e,t){var n=S.useContext(m0e);return S.useMemo(()=>t??n(e),[e,t,n])}var v0e=()=>!(typeof window<"u"&&window.document&&window.document.createElement&&window.setTimeout),X0={devToolsEnabled:!1,isSsr:v0e()},y0e={begin:0,duration:1e3,easing:"ease",isActive:!0,canBegin:!0,onAnimationEnd:()=>{},onAnimationStart:()=>{}},Vj={t:0},Kw={t:1};function wx(e){var t=di(e,y0e),{isActive:n,canBegin:r,duration:i,easing:a,begin:s,onAnimationEnd:o,onAnimationStart:l,children:u}=t,c=n==="auto"?!X0.isSsr:n,d=g0e(t.animationId,t.animationManager),[p,f]=S.useState(c?Vj:Kw),g=S.useRef(null);return S.useEffect(()=>{c||f(Kw)},[c]),S.useEffect(()=>{if(!c||!r)return U0;var v=s0e(Vj,Kw,d0e(a),i,f,d.getTimeoutController()),b=()=>{g.current=v()};return d.start([l,s,b,i,o]),()=>{d.stop(),g.current&&g.current(),o()}},[c,r,i,a,s,l,o,d]),u(p.t)}function _x(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"animation-",n=S.useRef(n0(t)),r=S.useRef(e);return r.current!==e&&(n.current=n0(t),r.current=e),n.current}var x0e=["radius"],b0e=["radius"];function zj(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function $j(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?zj(Object(n),!0).forEach(function(r){w0e(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):zj(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function w0e(e,t,n){return(t=_0e(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function _0e(e){var t=S0e(e,"string");return typeof t=="symbol"?t:t+""}function S0e(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function jy(){return jy=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},jy.apply(null,arguments)}function Uj(e,t){if(e==null)return{};var n,r,i=A0e(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)===-1&&{}.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function A0e(e,t){if(e==null)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.indexOf(r)!==-1)continue;n[r]=e[r]}return n}var Wj=(e,t,n,r,i)=>{var a=Math.min(Math.abs(n)/2,Math.abs(r)/2),s=r>=0?1:-1,o=n>=0?1:-1,l=r>=0&&n>=0||r<0&&n<0?1:0,u;if(a>0&&i instanceof Array){for(var c=[0,0,0,0],d=0,p=4;d<p;d++)c[d]=i[d]>a?a:i[d];u="M".concat(e,",").concat(t+s*c[0]),c[0]>0&&(u+="A ".concat(c[0],",").concat(c[0],",0,0,").concat(l,",").concat(e+o*c[0],",").concat(t)),u+="L ".concat(e+n-o*c[1],",").concat(t),c[1]>0&&(u+="A ".concat(c[1],",").concat(c[1],",0,0,").concat(l,`,
        `).concat(e+n,",").concat(t+s*c[1])),u+="L ".concat(e+n,",").concat(t+r-s*c[2]),c[2]>0&&(u+="A ".concat(c[2],",").concat(c[2],",0,0,").concat(l,`,
        `).concat(e+n-o*c[2],",").concat(t+r)),u+="L ".concat(e+o*c[3],",").concat(t+r),c[3]>0&&(u+="A ".concat(c[3],",").concat(c[3],",0,0,").concat(l,`,
        `).concat(e,",").concat(t+r-s*c[3])),u+="Z"}else if(a>0&&i===+i&&i>0){var f=Math.min(a,i);u="M ".concat(e,",").concat(t+s*f,`
            A `).concat(f,",").concat(f,",0,0,").concat(l,",").concat(e+o*f,",").concat(t,`
            L `).concat(e+n-o*f,",").concat(t,`
            A `).concat(f,",").concat(f,",0,0,").concat(l,",").concat(e+n,",").concat(t+s*f,`
            L `).concat(e+n,",").concat(t+r-s*f,`
            A `).concat(f,",").concat(f,",0,0,").concat(l,",").concat(e+n-o*f,",").concat(t+r,`
            L `).concat(e+o*f,",").concat(t+r,`
            A `).concat(f,",").concat(f,",0,0,").concat(l,",").concat(e,",").concat(t+r-s*f," Z")}else u="M ".concat(e,",").concat(t," h ").concat(n," v ").concat(r," h ").concat(-n," Z");return u},qj={x:0,y:0,width:0,height:0,radius:0,isAnimationActive:!1,isUpdateAnimationActive:!1,animationBegin:0,animationDuration:1500,animationEasing:"ease"},vz=e=>{var t=di(e,qj),n=S.useRef(null),[r,i]=S.useState(-1);S.useEffect(()=>{if(n.current&&n.current.getTotalLength)try{var ie=n.current.getTotalLength();ie&&i(ie)}catch{}},[]);var{x:a,y:s,width:o,height:l,radius:u,className:c}=t,{animationEasing:d,animationDuration:p,animationBegin:f,isAnimationActive:g,isUpdateAnimationActive:v}=t,b=S.useRef(o),x=S.useRef(l),w=S.useRef(a),A=S.useRef(s),P=S.useMemo(()=>({x:a,y:s,width:o,height:l,radius:u}),[a,s,o,l,u]),O=_x(P,"rectangle-");if(a!==+a||s!==+s||o!==+o||l!==+l||o===0||l===0)return null;var D=yn("recharts-rectangle",c);if(!v){var T=Cs(t),{radius:k}=T,I=Uj(T,x0e);return S.createElement("path",jy({},I,{radius:typeof u=="number"?u:void 0,className:D,d:Wj(a,s,o,l,u)}))}var M=b.current,N=x.current,C=w.current,R=A.current,W="0px ".concat(r===-1?1:r,"px"),Y="".concat(r,"px 0px"),ae=hz(["strokeDasharray"],p,typeof d=="string"?d:qj.animationEasing);return S.createElement(wx,{animationId:O,key:O,canBegin:r>0,duration:p,easing:d,isActive:v,begin:f},ie=>{var H=qr(M,o,ie),se=qr(N,l,ie),ye=qr(C,a,ie),be=qr(R,s,ie);n.current&&(b.current=H,x.current=se,w.current=ye,A.current=be);var $;g?ie>0?$={transition:ae,strokeDasharray:Y}:$={strokeDasharray:W}:$={strokeDasharray:Y};var X=Cs(t),{radius:re}=X,oe=Uj(X,b0e);return S.createElement("path",jy({},oe,{radius:typeof u=="number"?u:void 0,className:D,d:Wj(ye,be,H,se,u),ref:n,style:$j($j({},$),t.style)}))})};function Hj(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function Kj(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?Hj(Object(n),!0).forEach(function(r){P0e(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Hj(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function P0e(e,t,n){return(t=E0e(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function E0e(e){var t=N0e(e,"string");return typeof t=="symbol"?t:t+""}function N0e(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var Iy=Math.PI/180,k0e=e=>e*180/Math.PI,Dr=(e,t,n,r)=>({x:e+Math.cos(-Iy*r)*n,y:t+Math.sin(-Iy*r)*n}),yz=function(t,n){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{top:0,right:0,bottom:0,left:0};return Math.min(Math.abs(t-(r.left||0)-(r.right||0)),Math.abs(n-(r.top||0)-(r.bottom||0)))/2},T0e=(e,t)=>{var{x:n,y:r}=e,{x:i,y:a}=t;return Math.sqrt((n-i)**2+(r-a)**2)},C0e=(e,t)=>{var{x:n,y:r}=e,{cx:i,cy:a}=t,s=T0e({x:n,y:r},{x:i,y:a});if(s<=0)return{radius:s,angle:0};var o=(n-i)/s,l=Math.acos(o);return r>a&&(l=2*Math.PI-l),{radius:s,angle:k0e(l),angleInRadian:l}},j0e=e=>{var{startAngle:t,endAngle:n}=e,r=Math.floor(t/360),i=Math.floor(n/360),a=Math.min(r,i);return{startAngle:t-a*360,endAngle:n-a*360}},I0e=(e,t)=>{var{startAngle:n,endAngle:r}=t,i=Math.floor(n/360),a=Math.floor(r/360),s=Math.min(i,a);return e+s*360},O0e=(e,t)=>{var{chartX:n,chartY:r}=e,{radius:i,angle:a}=C0e({x:n,y:r},t),{innerRadius:s,outerRadius:o}=t;if(i<s||i>o||i===0)return null;var{startAngle:l,endAngle:u}=j0e(t),c=a,d;if(l<=u){for(;c>u;)c-=360;for(;c<l;)c+=360;d=c>=l&&c<=u}else{for(;c>l;)c-=360;for(;c<u;)c+=360;d=c>=u&&c<=l}return d?Kj(Kj({},t),{},{radius:i,angle:I0e(c,t)}):null};function xz(e){var{cx:t,cy:n,radius:r,startAngle:i,endAngle:a}=e,s=Dr(t,n,r,i),o=Dr(t,n,r,a);return{points:[s,o],cx:t,cy:n,radius:r,startAngle:i,endAngle:a}}function z3(){return z3=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},z3.apply(null,arguments)}var L0e=(e,t)=>{var n=li(t-e),r=Math.min(Math.abs(t-e),359.999);return n*r},w1=e=>{var{cx:t,cy:n,radius:r,angle:i,sign:a,isExternal:s,cornerRadius:o,cornerIsExternal:l}=e,u=o*(s?1:-1)+r,c=Math.asin(o/u)/Iy,d=l?i:i+a*c,p=Dr(t,n,u,d),f=Dr(t,n,r,d),g=l?i-a*c:i,v=Dr(t,n,u*Math.cos(c*Iy),g);return{center:p,circleTangency:f,lineTangency:v,theta:c}},bz=e=>{var{cx:t,cy:n,innerRadius:r,outerRadius:i,startAngle:a,endAngle:s}=e,o=L0e(a,s),l=a+o,u=Dr(t,n,i,a),c=Dr(t,n,i,l),d="M ".concat(u.x,",").concat(u.y,`
    A `).concat(i,",").concat(i,`,0,
    `).concat(+(Math.abs(o)>180),",").concat(+(a>l),`,
    `).concat(c.x,",").concat(c.y,`
  `);if(r>0){var p=Dr(t,n,r,a),f=Dr(t,n,r,l);d+="L ".concat(f.x,",").concat(f.y,`
            A `).concat(r,",").concat(r,`,0,
            `).concat(+(Math.abs(o)>180),",").concat(+(a<=l),`,
            `).concat(p.x,",").concat(p.y," Z")}else d+="L ".concat(t,",").concat(n," Z");return d},R0e=e=>{var{cx:t,cy:n,innerRadius:r,outerRadius:i,cornerRadius:a,forceCornerRadius:s,cornerIsExternal:o,startAngle:l,endAngle:u}=e,c=li(u-l),{circleTangency:d,lineTangency:p,theta:f}=w1({cx:t,cy:n,radius:i,angle:l,sign:c,cornerRadius:a,cornerIsExternal:o}),{circleTangency:g,lineTangency:v,theta:b}=w1({cx:t,cy:n,radius:i,angle:u,sign:-c,cornerRadius:a,cornerIsExternal:o}),x=o?Math.abs(l-u):Math.abs(l-u)-f-b;if(x<0)return s?"M ".concat(p.x,",").concat(p.y,`
        a`).concat(a,",").concat(a,",0,0,1,").concat(a*2,`,0
        a`).concat(a,",").concat(a,",0,0,1,").concat(-a*2,`,0
      `):bz({cx:t,cy:n,innerRadius:r,outerRadius:i,startAngle:l,endAngle:u});var w="M ".concat(p.x,",").concat(p.y,`
    A`).concat(a,",").concat(a,",0,0,").concat(+(c<0),",").concat(d.x,",").concat(d.y,`
    A`).concat(i,",").concat(i,",0,").concat(+(x>180),",").concat(+(c<0),",").concat(g.x,",").concat(g.y,`
    A`).concat(a,",").concat(a,",0,0,").concat(+(c<0),",").concat(v.x,",").concat(v.y,`
  `);if(r>0){var{circleTangency:A,lineTangency:P,theta:O}=w1({cx:t,cy:n,radius:r,angle:l,sign:c,isExternal:!0,cornerRadius:a,cornerIsExternal:o}),{circleTangency:D,lineTangency:T,theta:k}=w1({cx:t,cy:n,radius:r,angle:u,sign:-c,isExternal:!0,cornerRadius:a,cornerIsExternal:o}),I=o?Math.abs(l-u):Math.abs(l-u)-O-k;if(I<0&&a===0)return"".concat(w,"L").concat(t,",").concat(n,"Z");w+="L".concat(T.x,",").concat(T.y,`
      A`).concat(a,",").concat(a,",0,0,").concat(+(c<0),",").concat(D.x,",").concat(D.y,`
      A`).concat(r,",").concat(r,",0,").concat(+(I>180),",").concat(+(c>0),",").concat(A.x,",").concat(A.y,`
      A`).concat(a,",").concat(a,",0,0,").concat(+(c<0),",").concat(P.x,",").concat(P.y,"Z")}else w+="L".concat(t,",").concat(n,"Z");return w},M0e={cx:0,cy:0,innerRadius:0,outerRadius:0,startAngle:0,endAngle:0,cornerRadius:0,forceCornerRadius:!1,cornerIsExternal:!1},wz=e=>{var t=di(e,M0e),{cx:n,cy:r,innerRadius:i,outerRadius:a,cornerRadius:s,forceCornerRadius:o,cornerIsExternal:l,startAngle:u,endAngle:c,className:d}=t;if(a<i||u===c)return null;var p=yn("recharts-sector",d),f=a-i,g=Yi(s,f,0,!0),v;return g>0&&Math.abs(u-c)<360?v=R0e({cx:n,cy:r,innerRadius:i,outerRadius:a,cornerRadius:Math.min(g,f/2),forceCornerRadius:o,cornerIsExternal:l,startAngle:u,endAngle:c}):v=bz({cx:n,cy:r,innerRadius:i,outerRadius:a,startAngle:u,endAngle:c}),S.createElement("path",z3({},Cs(t),{className:p,d:v}))};function D0e(e,t,n){if(e==="horizontal")return[{x:t.x,y:n.top},{x:t.x,y:n.top+n.height}];if(e==="vertical")return[{x:n.left,y:t.y},{x:n.left+n.width,y:t.y}];if(MB(t)){if(e==="centric"){var{cx:r,cy:i,innerRadius:a,outerRadius:s,angle:o}=t,l=Dr(r,i,a,o),u=Dr(r,i,s,o);return[{x:l.x,y:l.y},{x:u.x,y:u.y}]}return xz(t)}}var _z={},Sz={},Az={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=QA;function n(r){return t.isSymbol(r)?NaN:Number(r)}e.toNumber=n})(Az);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=Az;function n(r){return r?(r=t.toNumber(r),r===1/0||r===-1/0?(r<0?-1:1)*Number.MAX_VALUE:r===r?r:0):r===0?r:0}e.toFinite=n})(Sz);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=ZA,n=Sz;function r(i,a,s){s&&typeof s!="number"&&t.isIterateeCall(i,a,s)&&(a=s=void 0),i=n.toFinite(i),a===void 0?(a=i,i=0):a=n.toFinite(a),s=s===void 0?i<a?1:-1:n.toFinite(s);const o=Math.max(Math.ceil((a-i)/(s||1)),0),l=new Array(o);for(let u=0;u<o;u++)l[u]=i,i+=s;return l}e.range=r})(_z);var F0e=_z.range;const Pz=Yl(F0e);function rc(e,t){return e==null||t==null?NaN:e<t?-1:e>t?1:e>=t?0:NaN}function B0e(e,t){return e==null||t==null?NaN:t<e?-1:t>e?1:t>=e?0:NaN}function m6(e){let t,n,r;e.length!==2?(t=rc,n=(o,l)=>rc(e(o),l),r=(o,l)=>e(o)-l):(t=e===rc||e===B0e?e:V0e,n=e,r=e);function i(o,l,u=0,c=o.length){if(u<c){if(t(l,l)!==0)return c;do{const d=u+c>>>1;n(o[d],l)<0?u=d+1:c=d}while(u<c)}return u}function a(o,l,u=0,c=o.length){if(u<c){if(t(l,l)!==0)return c;do{const d=u+c>>>1;n(o[d],l)<=0?u=d+1:c=d}while(u<c)}return u}function s(o,l,u=0,c=o.length){const d=i(o,l,u,c-1);return d>u&&r(o[d-1],l)>-r(o[d],l)?d-1:d}return{left:i,center:s,right:a}}function V0e(){return 0}function Ez(e){return e===null?NaN:+e}function*z0e(e,t){for(let n of e)n!=null&&(n=+n)>=n&&(yield n)}const $0e=m6(rc),Q0=$0e.right;m6(Ez).center;class Gj extends Map{constructor(t,n=q0e){if(super(),Object.defineProperties(this,{_intern:{value:new Map},_key:{value:n}}),t!=null)for(const[r,i]of t)this.set(r,i)}get(t){return super.get(Yj(this,t))}has(t){return super.has(Yj(this,t))}set(t,n){return super.set(U0e(this,t),n)}delete(t){return super.delete(W0e(this,t))}}function Yj({_intern:e,_key:t},n){const r=t(n);return e.has(r)?e.get(r):n}function U0e({_intern:e,_key:t},n){const r=t(n);return e.has(r)?e.get(r):(e.set(r,n),n)}function W0e({_intern:e,_key:t},n){const r=t(n);return e.has(r)&&(n=e.get(r),e.delete(r)),n}function q0e(e){return e!==null&&typeof e=="object"?e.valueOf():e}function H0e(e=rc){if(e===rc)return Nz;if(typeof e!="function")throw new TypeError("compare is not a function");return(t,n)=>{const r=e(t,n);return r||r===0?r:(e(n,n)===0)-(e(t,t)===0)}}function Nz(e,t){return(e==null||!(e>=e))-(t==null||!(t>=t))||(e<t?-1:e>t?1:0)}const K0e=Math.sqrt(50),G0e=Math.sqrt(10),Y0e=Math.sqrt(2);function Oy(e,t,n){const r=(t-e)/Math.max(0,n),i=Math.floor(Math.log10(r)),a=r/Math.pow(10,i),s=a>=K0e?10:a>=G0e?5:a>=Y0e?2:1;let o,l,u;return i<0?(u=Math.pow(10,-i)/s,o=Math.round(e*u),l=Math.round(t*u),o/u<e&&++o,l/u>t&&--l,u=-u):(u=Math.pow(10,i)*s,o=Math.round(e/u),l=Math.round(t/u),o*u<e&&++o,l*u>t&&--l),l<o&&.5<=n&&n<2?Oy(e,t,n*2):[o,l,u]}function $3(e,t,n){if(t=+t,e=+e,n=+n,!(n>0))return[];if(e===t)return[e];const r=t<e,[i,a,s]=r?Oy(t,e,n):Oy(e,t,n);if(!(a>=i))return[];const o=a-i+1,l=new Array(o);if(r)if(s<0)for(let u=0;u<o;++u)l[u]=(a-u)/-s;else for(let u=0;u<o;++u)l[u]=(a-u)*s;else if(s<0)for(let u=0;u<o;++u)l[u]=(i+u)/-s;else for(let u=0;u<o;++u)l[u]=(i+u)*s;return l}function U3(e,t,n){return t=+t,e=+e,n=+n,Oy(e,t,n)[2]}function W3(e,t,n){t=+t,e=+e,n=+n;const r=t<e,i=r?U3(t,e,n):U3(e,t,n);return(r?-1:1)*(i<0?1/-i:i)}function Xj(e,t){let n;for(const r of e)r!=null&&(n<r||n===void 0&&r>=r)&&(n=r);return n}function Qj(e,t){let n;for(const r of e)r!=null&&(n>r||n===void 0&&r>=r)&&(n=r);return n}function kz(e,t,n=0,r=1/0,i){if(t=Math.floor(t),n=Math.floor(Math.max(0,n)),r=Math.floor(Math.min(e.length-1,r)),!(n<=t&&t<=r))return e;for(i=i===void 0?Nz:H0e(i);r>n;){if(r-n>600){const l=r-n+1,u=t-n+1,c=Math.log(l),d=.5*Math.exp(2*c/3),p=.5*Math.sqrt(c*d*(l-d)/l)*(u-l/2<0?-1:1),f=Math.max(n,Math.floor(t-u*d/l+p)),g=Math.min(r,Math.floor(t+(l-u)*d/l+p));kz(e,t,f,g,i)}const a=e[t];let s=n,o=r;for(Ip(e,n,t),i(e[r],a)>0&&Ip(e,n,r);s<o;){for(Ip(e,s,o),++s,--o;i(e[s],a)<0;)++s;for(;i(e[o],a)>0;)--o}i(e[n],a)===0?Ip(e,n,o):(++o,Ip(e,o,r)),o<=t&&(n=o+1),t<=o&&(r=o-1)}return e}function Ip(e,t,n){const r=e[t];e[t]=e[n],e[n]=r}function X0e(e,t,n){if(e=Float64Array.from(z0e(e)),!(!(r=e.length)||isNaN(t=+t))){if(t<=0||r<2)return Qj(e);if(t>=1)return Xj(e);var r,i=(r-1)*t,a=Math.floor(i),s=Xj(kz(e,a).subarray(0,a+1)),o=Qj(e.subarray(a+1));return s+(o-s)*(i-a)}}function Q0e(e,t,n=Ez){if(!(!(r=e.length)||isNaN(t=+t))){if(t<=0||r<2)return+n(e[0],0,e);if(t>=1)return+n(e[r-1],r-1,e);var r,i=(r-1)*t,a=Math.floor(i),s=+n(e[a],a,e),o=+n(e[a+1],a+1,e);return s+(o-s)*(i-a)}}function Z0e(e,t,n){e=+e,t=+t,n=(i=arguments.length)<2?(t=e,e=0,1):i<3?1:+n;for(var r=-1,i=Math.max(0,Math.ceil((t-e)/n))|0,a=new Array(i);++r<i;)a[r]=e+r*n;return a}function Ls(e,t){switch(arguments.length){case 0:break;case 1:this.range(e);break;default:this.range(t).domain(e);break}return this}function Jl(e,t){switch(arguments.length){case 0:break;case 1:{typeof e=="function"?this.interpolator(e):this.range(e);break}default:{this.domain(e),typeof t=="function"?this.interpolator(t):this.range(t);break}}return this}const q3=Symbol("implicit");function g6(){var e=new Gj,t=[],n=[],r=q3;function i(a){let s=e.get(a);if(s===void 0){if(r!==q3)return r;e.set(a,s=t.push(a)-1)}return n[s%n.length]}return i.domain=function(a){if(!arguments.length)return t.slice();t=[],e=new Gj;for(const s of a)e.has(s)||e.set(s,t.push(s)-1);return i},i.range=function(a){return arguments.length?(n=Array.from(a),i):n.slice()},i.unknown=function(a){return arguments.length?(r=a,i):r},i.copy=function(){return g6(t,n).unknown(r)},Ls.apply(i,arguments),i}function v6(){var e=g6().unknown(void 0),t=e.domain,n=e.range,r=0,i=1,a,s,o=!1,l=0,u=0,c=.5;delete e.unknown;function d(){var p=t().length,f=i<r,g=f?i:r,v=f?r:i;a=(v-g)/Math.max(1,p-l+u*2),o&&(a=Math.floor(a)),g+=(v-g-a*(p-l))*c,s=a*(1-l),o&&(g=Math.round(g),s=Math.round(s));var b=Z0e(p).map(function(x){return g+a*x});return n(f?b.reverse():b)}return e.domain=function(p){return arguments.length?(t(p),d()):t()},e.range=function(p){return arguments.length?([r,i]=p,r=+r,i=+i,d()):[r,i]},e.rangeRound=function(p){return[r,i]=p,r=+r,i=+i,o=!0,d()},e.bandwidth=function(){return s},e.step=function(){return a},e.round=function(p){return arguments.length?(o=!!p,d()):o},e.padding=function(p){return arguments.length?(l=Math.min(1,u=+p),d()):l},e.paddingInner=function(p){return arguments.length?(l=Math.min(1,p),d()):l},e.paddingOuter=function(p){return arguments.length?(u=+p,d()):u},e.align=function(p){return arguments.length?(c=Math.max(0,Math.min(1,p)),d()):c},e.copy=function(){return v6(t(),[r,i]).round(o).paddingInner(l).paddingOuter(u).align(c)},Ls.apply(d(),arguments)}function Tz(e){var t=e.copy;return e.padding=e.paddingOuter,delete e.paddingInner,delete e.paddingOuter,e.copy=function(){return Tz(t())},e}function J0e(){return Tz(v6.apply(null,arguments).paddingInner(1))}function y6(e,t,n){e.prototype=t.prototype=n,n.constructor=e}function Cz(e,t){var n=Object.create(e.prototype);for(var r in t)n[r]=t[r];return n}function Z0(){}var c0=.7,Ly=1/c0,Qf="\\s*([+-]?\\d+)\\s*",d0="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)\\s*",Yo="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)%\\s*",ege=/^#([0-9a-f]{3,8})$/,tge=new RegExp(`^rgb\\(${Qf},${Qf},${Qf}\\)$`),nge=new RegExp(`^rgb\\(${Yo},${Yo},${Yo}\\)$`),rge=new RegExp(`^rgba\\(${Qf},${Qf},${Qf},${d0}\\)$`),ige=new RegExp(`^rgba\\(${Yo},${Yo},${Yo},${d0}\\)$`),age=new RegExp(`^hsl\\(${d0},${Yo},${Yo}\\)$`),sge=new RegExp(`^hsla\\(${d0},${Yo},${Yo},${d0}\\)$`),Zj={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};y6(Z0,f0,{copy(e){return Object.assign(new this.constructor,this,e)},displayable(){return this.rgb().displayable()},hex:Jj,formatHex:Jj,formatHex8:oge,formatHsl:lge,formatRgb:eI,toString:eI});function Jj(){return this.rgb().formatHex()}function oge(){return this.rgb().formatHex8()}function lge(){return jz(this).formatHsl()}function eI(){return this.rgb().formatRgb()}function f0(e){var t,n;return e=(e+"").trim().toLowerCase(),(t=ege.exec(e))?(n=t[1].length,t=parseInt(t[1],16),n===6?tI(t):n===3?new Pa(t>>8&15|t>>4&240,t>>4&15|t&240,(t&15)<<4|t&15,1):n===8?_1(t>>24&255,t>>16&255,t>>8&255,(t&255)/255):n===4?_1(t>>12&15|t>>8&240,t>>8&15|t>>4&240,t>>4&15|t&240,((t&15)<<4|t&15)/255):null):(t=tge.exec(e))?new Pa(t[1],t[2],t[3],1):(t=nge.exec(e))?new Pa(t[1]*255/100,t[2]*255/100,t[3]*255/100,1):(t=rge.exec(e))?_1(t[1],t[2],t[3],t[4]):(t=ige.exec(e))?_1(t[1]*255/100,t[2]*255/100,t[3]*255/100,t[4]):(t=age.exec(e))?iI(t[1],t[2]/100,t[3]/100,1):(t=sge.exec(e))?iI(t[1],t[2]/100,t[3]/100,t[4]):Zj.hasOwnProperty(e)?tI(Zj[e]):e==="transparent"?new Pa(NaN,NaN,NaN,0):null}function tI(e){return new Pa(e>>16&255,e>>8&255,e&255,1)}function _1(e,t,n,r){return r<=0&&(e=t=n=NaN),new Pa(e,t,n,r)}function uge(e){return e instanceof Z0||(e=f0(e)),e?(e=e.rgb(),new Pa(e.r,e.g,e.b,e.opacity)):new Pa}function H3(e,t,n,r){return arguments.length===1?uge(e):new Pa(e,t,n,r??1)}function Pa(e,t,n,r){this.r=+e,this.g=+t,this.b=+n,this.opacity=+r}y6(Pa,H3,Cz(Z0,{brighter(e){return e=e==null?Ly:Math.pow(Ly,e),new Pa(this.r*e,this.g*e,this.b*e,this.opacity)},darker(e){return e=e==null?c0:Math.pow(c0,e),new Pa(this.r*e,this.g*e,this.b*e,this.opacity)},rgb(){return this},clamp(){return new Pa(vd(this.r),vd(this.g),vd(this.b),Ry(this.opacity))},displayable(){return-.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:nI,formatHex:nI,formatHex8:cge,formatRgb:rI,toString:rI}));function nI(){return`#${od(this.r)}${od(this.g)}${od(this.b)}`}function cge(){return`#${od(this.r)}${od(this.g)}${od(this.b)}${od((isNaN(this.opacity)?1:this.opacity)*255)}`}function rI(){const e=Ry(this.opacity);return`${e===1?"rgb(":"rgba("}${vd(this.r)}, ${vd(this.g)}, ${vd(this.b)}${e===1?")":`, ${e})`}`}function Ry(e){return isNaN(e)?1:Math.max(0,Math.min(1,e))}function vd(e){return Math.max(0,Math.min(255,Math.round(e)||0))}function od(e){return e=vd(e),(e<16?"0":"")+e.toString(16)}function iI(e,t,n,r){return r<=0?e=t=n=NaN:n<=0||n>=1?e=t=NaN:t<=0&&(e=NaN),new Js(e,t,n,r)}function jz(e){if(e instanceof Js)return new Js(e.h,e.s,e.l,e.opacity);if(e instanceof Z0||(e=f0(e)),!e)return new Js;if(e instanceof Js)return e;e=e.rgb();var t=e.r/255,n=e.g/255,r=e.b/255,i=Math.min(t,n,r),a=Math.max(t,n,r),s=NaN,o=a-i,l=(a+i)/2;return o?(t===a?s=(n-r)/o+(n<r)*6:n===a?s=(r-t)/o+2:s=(t-n)/o+4,o/=l<.5?a+i:2-a-i,s*=60):o=l>0&&l<1?0:s,new Js(s,o,l,e.opacity)}function dge(e,t,n,r){return arguments.length===1?jz(e):new Js(e,t,n,r??1)}function Js(e,t,n,r){this.h=+e,this.s=+t,this.l=+n,this.opacity=+r}y6(Js,dge,Cz(Z0,{brighter(e){return e=e==null?Ly:Math.pow(Ly,e),new Js(this.h,this.s,this.l*e,this.opacity)},darker(e){return e=e==null?c0:Math.pow(c0,e),new Js(this.h,this.s,this.l*e,this.opacity)},rgb(){var e=this.h%360+(this.h<0)*360,t=isNaN(e)||isNaN(this.s)?0:this.s,n=this.l,r=n+(n<.5?n:1-n)*t,i=2*n-r;return new Pa(Gw(e>=240?e-240:e+120,i,r),Gw(e,i,r),Gw(e<120?e+240:e-120,i,r),this.opacity)},clamp(){return new Js(aI(this.h),S1(this.s),S1(this.l),Ry(this.opacity))},displayable(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl(){const e=Ry(this.opacity);return`${e===1?"hsl(":"hsla("}${aI(this.h)}, ${S1(this.s)*100}%, ${S1(this.l)*100}%${e===1?")":`, ${e})`}`}}));function aI(e){return e=(e||0)%360,e<0?e+360:e}function S1(e){return Math.max(0,Math.min(1,e||0))}function Gw(e,t,n){return(e<60?t+(n-t)*e/60:e<180?n:e<240?t+(n-t)*(240-e)/60:t)*255}const x6=e=>()=>e;function fge(e,t){return function(n){return e+n*t}}function hge(e,t,n){return e=Math.pow(e,n),t=Math.pow(t,n)-e,n=1/n,function(r){return Math.pow(e+r*t,n)}}function pge(e){return(e=+e)==1?Iz:function(t,n){return n-t?hge(t,n,e):x6(isNaN(t)?n:t)}}function Iz(e,t){var n=t-e;return n?fge(e,n):x6(isNaN(e)?t:e)}const sI=function e(t){var n=pge(t);function r(i,a){var s=n((i=H3(i)).r,(a=H3(a)).r),o=n(i.g,a.g),l=n(i.b,a.b),u=Iz(i.opacity,a.opacity);return function(c){return i.r=s(c),i.g=o(c),i.b=l(c),i.opacity=u(c),i+""}}return r.gamma=e,r}(1);function mge(e,t){t||(t=[]);var n=e?Math.min(t.length,e.length):0,r=t.slice(),i;return function(a){for(i=0;i<n;++i)r[i]=e[i]*(1-a)+t[i]*a;return r}}function gge(e){return ArrayBuffer.isView(e)&&!(e instanceof DataView)}function vge(e,t){var n=t?t.length:0,r=e?Math.min(n,e.length):0,i=new Array(r),a=new Array(n),s;for(s=0;s<r;++s)i[s]=Vh(e[s],t[s]);for(;s<n;++s)a[s]=t[s];return function(o){for(s=0;s<r;++s)a[s]=i[s](o);return a}}function yge(e,t){var n=new Date;return e=+e,t=+t,function(r){return n.setTime(e*(1-r)+t*r),n}}function My(e,t){return e=+e,t=+t,function(n){return e*(1-n)+t*n}}function xge(e,t){var n={},r={},i;(e===null||typeof e!="object")&&(e={}),(t===null||typeof t!="object")&&(t={});for(i in t)i in e?n[i]=Vh(e[i],t[i]):r[i]=t[i];return function(a){for(i in n)r[i]=n[i](a);return r}}var K3=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,Yw=new RegExp(K3.source,"g");function bge(e){return function(){return e}}function wge(e){return function(t){return e(t)+""}}function _ge(e,t){var n=K3.lastIndex=Yw.lastIndex=0,r,i,a,s=-1,o=[],l=[];for(e=e+"",t=t+"";(r=K3.exec(e))&&(i=Yw.exec(t));)(a=i.index)>n&&(a=t.slice(n,a),o[s]?o[s]+=a:o[++s]=a),(r=r[0])===(i=i[0])?o[s]?o[s]+=i:o[++s]=i:(o[++s]=null,l.push({i:s,x:My(r,i)})),n=Yw.lastIndex;return n<t.length&&(a=t.slice(n),o[s]?o[s]+=a:o[++s]=a),o.length<2?l[0]?wge(l[0].x):bge(t):(t=l.length,function(u){for(var c=0,d;c<t;++c)o[(d=l[c]).i]=d.x(u);return o.join("")})}function Vh(e,t){var n=typeof t,r;return t==null||n==="boolean"?x6(t):(n==="number"?My:n==="string"?(r=f0(t))?(t=r,sI):_ge:t instanceof f0?sI:t instanceof Date?yge:gge(t)?mge:Array.isArray(t)?vge:typeof t.valueOf!="function"&&typeof t.toString!="function"||isNaN(t)?xge:My)(e,t)}function b6(e,t){return e=+e,t=+t,function(n){return Math.round(e*(1-n)+t*n)}}function Sge(e,t){t===void 0&&(t=e,e=Vh);for(var n=0,r=t.length-1,i=t[0],a=new Array(r<0?0:r);n<r;)a[n]=e(i,i=t[++n]);return function(s){var o=Math.max(0,Math.min(r-1,Math.floor(s*=r)));return a[o](s-o)}}function Age(e){return function(){return e}}function Dy(e){return+e}var oI=[0,1];function sa(e){return e}function G3(e,t){return(t-=e=+e)?function(n){return(n-e)/t}:Age(isNaN(t)?NaN:.5)}function Pge(e,t){var n;return e>t&&(n=e,e=t,t=n),function(r){return Math.max(e,Math.min(t,r))}}function Ege(e,t,n){var r=e[0],i=e[1],a=t[0],s=t[1];return i<r?(r=G3(i,r),a=n(s,a)):(r=G3(r,i),a=n(a,s)),function(o){return a(r(o))}}function Nge(e,t,n){var r=Math.min(e.length,t.length)-1,i=new Array(r),a=new Array(r),s=-1;for(e[r]<e[0]&&(e=e.slice().reverse(),t=t.slice().reverse());++s<r;)i[s]=G3(e[s],e[s+1]),a[s]=n(t[s],t[s+1]);return function(o){var l=Q0(e,o,1,r)-1;return a[l](i[l](o))}}function J0(e,t){return t.domain(e.domain()).range(e.range()).interpolate(e.interpolate()).clamp(e.clamp()).unknown(e.unknown())}function Sx(){var e=oI,t=oI,n=Vh,r,i,a,s=sa,o,l,u;function c(){var p=Math.min(e.length,t.length);return s!==sa&&(s=Pge(e[0],e[p-1])),o=p>2?Nge:Ege,l=u=null,d}function d(p){return p==null||isNaN(p=+p)?a:(l||(l=o(e.map(r),t,n)))(r(s(p)))}return d.invert=function(p){return s(i((u||(u=o(t,e.map(r),My)))(p)))},d.domain=function(p){return arguments.length?(e=Array.from(p,Dy),c()):e.slice()},d.range=function(p){return arguments.length?(t=Array.from(p),c()):t.slice()},d.rangeRound=function(p){return t=Array.from(p),n=b6,c()},d.clamp=function(p){return arguments.length?(s=p?!0:sa,c()):s!==sa},d.interpolate=function(p){return arguments.length?(n=p,c()):n},d.unknown=function(p){return arguments.length?(a=p,d):a},function(p,f){return r=p,i=f,c()}}function w6(){return Sx()(sa,sa)}function kge(e){return Math.abs(e=Math.round(e))>=1e21?e.toLocaleString("en").replace(/,/g,""):e.toString(10)}function Fy(e,t){if((n=(e=t?e.toExponential(t-1):e.toExponential()).indexOf("e"))<0)return null;var n,r=e.slice(0,n);return[r.length>1?r[0]+r.slice(2):r,+e.slice(n+1)]}function wh(e){return e=Fy(Math.abs(e)),e?e[1]:NaN}function Tge(e,t){return function(n,r){for(var i=n.length,a=[],s=0,o=e[0],l=0;i>0&&o>0&&(l+o+1>r&&(o=Math.max(1,r-l)),a.push(n.substring(i-=o,i+o)),!((l+=o+1)>r));)o=e[s=(s+1)%e.length];return a.reverse().join(t)}}function Cge(e){return function(t){return t.replace(/[0-9]/g,function(n){return e[+n]})}}var jge=/^(?:(.)?([<>=^]))?([+\-( ])?([$#])?(0)?(\d+)?(,)?(\.\d+)?(~)?([a-z%])?$/i;function h0(e){if(!(t=jge.exec(e)))throw new Error("invalid format: "+e);var t;return new _6({fill:t[1],align:t[2],sign:t[3],symbol:t[4],zero:t[5],width:t[6],comma:t[7],precision:t[8]&&t[8].slice(1),trim:t[9],type:t[10]})}h0.prototype=_6.prototype;function _6(e){this.fill=e.fill===void 0?" ":e.fill+"",this.align=e.align===void 0?">":e.align+"",this.sign=e.sign===void 0?"-":e.sign+"",this.symbol=e.symbol===void 0?"":e.symbol+"",this.zero=!!e.zero,this.width=e.width===void 0?void 0:+e.width,this.comma=!!e.comma,this.precision=e.precision===void 0?void 0:+e.precision,this.trim=!!e.trim,this.type=e.type===void 0?"":e.type+""}_6.prototype.toString=function(){return this.fill+this.align+this.sign+this.symbol+(this.zero?"0":"")+(this.width===void 0?"":Math.max(1,this.width|0))+(this.comma?",":"")+(this.precision===void 0?"":"."+Math.max(0,this.precision|0))+(this.trim?"~":"")+this.type};function Ige(e){e:for(var t=e.length,n=1,r=-1,i;n<t;++n)switch(e[n]){case".":r=i=n;break;case"0":r===0&&(r=n),i=n;break;default:if(!+e[n])break e;r>0&&(r=0);break}return r>0?e.slice(0,r)+e.slice(i+1):e}var Oz;function Oge(e,t){var n=Fy(e,t);if(!n)return e+"";var r=n[0],i=n[1],a=i-(Oz=Math.max(-8,Math.min(8,Math.floor(i/3)))*3)+1,s=r.length;return a===s?r:a>s?r+new Array(a-s+1).join("0"):a>0?r.slice(0,a)+"."+r.slice(a):"0."+new Array(1-a).join("0")+Fy(e,Math.max(0,t+a-1))[0]}function lI(e,t){var n=Fy(e,t);if(!n)return e+"";var r=n[0],i=n[1];return i<0?"0."+new Array(-i).join("0")+r:r.length>i+1?r.slice(0,i+1)+"."+r.slice(i+1):r+new Array(i-r.length+2).join("0")}const uI={"%":(e,t)=>(e*100).toFixed(t),b:e=>Math.round(e).toString(2),c:e=>e+"",d:kge,e:(e,t)=>e.toExponential(t),f:(e,t)=>e.toFixed(t),g:(e,t)=>e.toPrecision(t),o:e=>Math.round(e).toString(8),p:(e,t)=>lI(e*100,t),r:lI,s:Oge,X:e=>Math.round(e).toString(16).toUpperCase(),x:e=>Math.round(e).toString(16)};function cI(e){return e}var dI=Array.prototype.map,fI=["y","z","a","f","p","n","","m","","k","M","G","T","P","E","Z","Y"];function Lge(e){var t=e.grouping===void 0||e.thousands===void 0?cI:Tge(dI.call(e.grouping,Number),e.thousands+""),n=e.currency===void 0?"":e.currency[0]+"",r=e.currency===void 0?"":e.currency[1]+"",i=e.decimal===void 0?".":e.decimal+"",a=e.numerals===void 0?cI:Cge(dI.call(e.numerals,String)),s=e.percent===void 0?"%":e.percent+"",o=e.minus===void 0?"":e.minus+"",l=e.nan===void 0?"NaN":e.nan+"";function u(d){d=h0(d);var p=d.fill,f=d.align,g=d.sign,v=d.symbol,b=d.zero,x=d.width,w=d.comma,A=d.precision,P=d.trim,O=d.type;O==="n"?(w=!0,O="g"):uI[O]||(A===void 0&&(A=12),P=!0,O="g"),(b||p==="0"&&f==="=")&&(b=!0,p="0",f="=");var D=v==="$"?n:v==="#"&&/[boxX]/.test(O)?"0"+O.toLowerCase():"",T=v==="$"?r:/[%p]/.test(O)?s:"",k=uI[O],I=/[defgprs%]/.test(O);A=A===void 0?6:/[gprs]/.test(O)?Math.max(1,Math.min(21,A)):Math.max(0,Math.min(20,A));function M(N){var C=D,R=T,W,Y,ae;if(O==="c")R=k(N)+R,N="";else{N=+N;var ie=N<0||1/N<0;if(N=isNaN(N)?l:k(Math.abs(N),A),P&&(N=Ige(N)),ie&&+N==0&&g!=="+"&&(ie=!1),C=(ie?g==="("?g:o:g==="-"||g==="("?"":g)+C,R=(O==="s"?fI[8+Oz/3]:"")+R+(ie&&g==="("?")":""),I){for(W=-1,Y=N.length;++W<Y;)if(ae=N.charCodeAt(W),48>ae||ae>57){R=(ae===46?i+N.slice(W+1):N.slice(W))+R,N=N.slice(0,W);break}}}w&&!b&&(N=t(N,1/0));var H=C.length+N.length+R.length,se=H<x?new Array(x-H+1).join(p):"";switch(w&&b&&(N=t(se+N,se.length?x-R.length:1/0),se=""),f){case"<":N=C+N+R+se;break;case"=":N=C+se+N+R;break;case"^":N=se.slice(0,H=se.length>>1)+C+N+R+se.slice(H);break;default:N=se+C+N+R;break}return a(N)}return M.toString=function(){return d+""},M}function c(d,p){var f=u((d=h0(d),d.type="f",d)),g=Math.max(-8,Math.min(8,Math.floor(wh(p)/3)))*3,v=Math.pow(10,-g),b=fI[8+g/3];return function(x){return f(v*x)+b}}return{format:u,formatPrefix:c}}var A1,S6,Lz;Rge({thousands:",",grouping:[3],currency:["$",""]});function Rge(e){return A1=Lge(e),S6=A1.format,Lz=A1.formatPrefix,A1}function Mge(e){return Math.max(0,-wh(Math.abs(e)))}function Dge(e,t){return Math.max(0,Math.max(-8,Math.min(8,Math.floor(wh(t)/3)))*3-wh(Math.abs(e)))}function Fge(e,t){return e=Math.abs(e),t=Math.abs(t)-e,Math.max(0,wh(t)-wh(e))+1}function Rz(e,t,n,r){var i=W3(e,t,n),a;switch(r=h0(r??",f"),r.type){case"s":{var s=Math.max(Math.abs(e),Math.abs(t));return r.precision==null&&!isNaN(a=Dge(i,s))&&(r.precision=a),Lz(r,s)}case"":case"e":case"g":case"p":case"r":{r.precision==null&&!isNaN(a=Fge(i,Math.max(Math.abs(e),Math.abs(t))))&&(r.precision=a-(r.type==="e"));break}case"f":case"%":{r.precision==null&&!isNaN(a=Mge(i))&&(r.precision=a-(r.type==="%")*2);break}}return S6(r)}function wc(e){var t=e.domain;return e.ticks=function(n){var r=t();return $3(r[0],r[r.length-1],n??10)},e.tickFormat=function(n,r){var i=t();return Rz(i[0],i[i.length-1],n??10,r)},e.nice=function(n){n==null&&(n=10);var r=t(),i=0,a=r.length-1,s=r[i],o=r[a],l,u,c=10;for(o<s&&(u=s,s=o,o=u,u=i,i=a,a=u);c-- >0;){if(u=U3(s,o,n),u===l)return r[i]=s,r[a]=o,t(r);if(u>0)s=Math.floor(s/u)*u,o=Math.ceil(o/u)*u;else if(u<0)s=Math.ceil(s*u)/u,o=Math.floor(o*u)/u;else break;l=u}return e},e}function Mz(){var e=w6();return e.copy=function(){return J0(e,Mz())},Ls.apply(e,arguments),wc(e)}function Dz(e){var t;function n(r){return r==null||isNaN(r=+r)?t:r}return n.invert=n,n.domain=n.range=function(r){return arguments.length?(e=Array.from(r,Dy),n):e.slice()},n.unknown=function(r){return arguments.length?(t=r,n):t},n.copy=function(){return Dz(e).unknown(t)},e=arguments.length?Array.from(e,Dy):[0,1],wc(n)}function Fz(e,t){e=e.slice();var n=0,r=e.length-1,i=e[n],a=e[r],s;return a<i&&(s=n,n=r,r=s,s=i,i=a,a=s),e[n]=t.floor(i),e[r]=t.ceil(a),e}function hI(e){return Math.log(e)}function pI(e){return Math.exp(e)}function Bge(e){return-Math.log(-e)}function Vge(e){return-Math.exp(-e)}function zge(e){return isFinite(e)?+("1e"+e):e<0?0:e}function $ge(e){return e===10?zge:e===Math.E?Math.exp:t=>Math.pow(e,t)}function Uge(e){return e===Math.E?Math.log:e===10&&Math.log10||e===2&&Math.log2||(e=Math.log(e),t=>Math.log(t)/e)}function mI(e){return(t,n)=>-e(-t,n)}function A6(e){const t=e(hI,pI),n=t.domain;let r=10,i,a;function s(){return i=Uge(r),a=$ge(r),n()[0]<0?(i=mI(i),a=mI(a),e(Bge,Vge)):e(hI,pI),t}return t.base=function(o){return arguments.length?(r=+o,s()):r},t.domain=function(o){return arguments.length?(n(o),s()):n()},t.ticks=o=>{const l=n();let u=l[0],c=l[l.length-1];const d=c<u;d&&([u,c]=[c,u]);let p=i(u),f=i(c),g,v;const b=o==null?10:+o;let x=[];if(!(r%1)&&f-p<b){if(p=Math.floor(p),f=Math.ceil(f),u>0){for(;p<=f;++p)for(g=1;g<r;++g)if(v=p<0?g/a(-p):g*a(p),!(v<u)){if(v>c)break;x.push(v)}}else for(;p<=f;++p)for(g=r-1;g>=1;--g)if(v=p>0?g/a(-p):g*a(p),!(v<u)){if(v>c)break;x.push(v)}x.length*2<b&&(x=$3(u,c,b))}else x=$3(p,f,Math.min(f-p,b)).map(a);return d?x.reverse():x},t.tickFormat=(o,l)=>{if(o==null&&(o=10),l==null&&(l=r===10?"s":","),typeof l!="function"&&(!(r%1)&&(l=h0(l)).precision==null&&(l.trim=!0),l=S6(l)),o===1/0)return l;const u=Math.max(1,r*o/t.ticks().length);return c=>{let d=c/a(Math.round(i(c)));return d*r<r-.5&&(d*=r),d<=u?l(c):""}},t.nice=()=>n(Fz(n(),{floor:o=>a(Math.floor(i(o))),ceil:o=>a(Math.ceil(i(o)))})),t}function Bz(){const e=A6(Sx()).domain([1,10]);return e.copy=()=>J0(e,Bz()).base(e.base()),Ls.apply(e,arguments),e}function gI(e){return function(t){return Math.sign(t)*Math.log1p(Math.abs(t/e))}}function vI(e){return function(t){return Math.sign(t)*Math.expm1(Math.abs(t))*e}}function P6(e){var t=1,n=e(gI(t),vI(t));return n.constant=function(r){return arguments.length?e(gI(t=+r),vI(t)):t},wc(n)}function Vz(){var e=P6(Sx());return e.copy=function(){return J0(e,Vz()).constant(e.constant())},Ls.apply(e,arguments)}function yI(e){return function(t){return t<0?-Math.pow(-t,e):Math.pow(t,e)}}function Wge(e){return e<0?-Math.sqrt(-e):Math.sqrt(e)}function qge(e){return e<0?-e*e:e*e}function E6(e){var t=e(sa,sa),n=1;function r(){return n===1?e(sa,sa):n===.5?e(Wge,qge):e(yI(n),yI(1/n))}return t.exponent=function(i){return arguments.length?(n=+i,r()):n},wc(t)}function N6(){var e=E6(Sx());return e.copy=function(){return J0(e,N6()).exponent(e.exponent())},Ls.apply(e,arguments),e}function Hge(){return N6.apply(null,arguments).exponent(.5)}function xI(e){return Math.sign(e)*e*e}function Kge(e){return Math.sign(e)*Math.sqrt(Math.abs(e))}function zz(){var e=w6(),t=[0,1],n=!1,r;function i(a){var s=Kge(e(a));return isNaN(s)?r:n?Math.round(s):s}return i.invert=function(a){return e.invert(xI(a))},i.domain=function(a){return arguments.length?(e.domain(a),i):e.domain()},i.range=function(a){return arguments.length?(e.range((t=Array.from(a,Dy)).map(xI)),i):t.slice()},i.rangeRound=function(a){return i.range(a).round(!0)},i.round=function(a){return arguments.length?(n=!!a,i):n},i.clamp=function(a){return arguments.length?(e.clamp(a),i):e.clamp()},i.unknown=function(a){return arguments.length?(r=a,i):r},i.copy=function(){return zz(e.domain(),t).round(n).clamp(e.clamp()).unknown(r)},Ls.apply(i,arguments),wc(i)}function $z(){var e=[],t=[],n=[],r;function i(){var s=0,o=Math.max(1,t.length);for(n=new Array(o-1);++s<o;)n[s-1]=Q0e(e,s/o);return a}function a(s){return s==null||isNaN(s=+s)?r:t[Q0(n,s)]}return a.invertExtent=function(s){var o=t.indexOf(s);return o<0?[NaN,NaN]:[o>0?n[o-1]:e[0],o<n.length?n[o]:e[e.length-1]]},a.domain=function(s){if(!arguments.length)return e.slice();e=[];for(let o of s)o!=null&&!isNaN(o=+o)&&e.push(o);return e.sort(rc),i()},a.range=function(s){return arguments.length?(t=Array.from(s),i()):t.slice()},a.unknown=function(s){return arguments.length?(r=s,a):r},a.quantiles=function(){return n.slice()},a.copy=function(){return $z().domain(e).range(t).unknown(r)},Ls.apply(a,arguments)}function Uz(){var e=0,t=1,n=1,r=[.5],i=[0,1],a;function s(l){return l!=null&&l<=l?i[Q0(r,l,0,n)]:a}function o(){var l=-1;for(r=new Array(n);++l<n;)r[l]=((l+1)*t-(l-n)*e)/(n+1);return s}return s.domain=function(l){return arguments.length?([e,t]=l,e=+e,t=+t,o()):[e,t]},s.range=function(l){return arguments.length?(n=(i=Array.from(l)).length-1,o()):i.slice()},s.invertExtent=function(l){var u=i.indexOf(l);return u<0?[NaN,NaN]:u<1?[e,r[0]]:u>=n?[r[n-1],t]:[r[u-1],r[u]]},s.unknown=function(l){return arguments.length&&(a=l),s},s.thresholds=function(){return r.slice()},s.copy=function(){return Uz().domain([e,t]).range(i).unknown(a)},Ls.apply(wc(s),arguments)}function Wz(){var e=[.5],t=[0,1],n,r=1;function i(a){return a!=null&&a<=a?t[Q0(e,a,0,r)]:n}return i.domain=function(a){return arguments.length?(e=Array.from(a),r=Math.min(e.length,t.length-1),i):e.slice()},i.range=function(a){return arguments.length?(t=Array.from(a),r=Math.min(e.length,t.length-1),i):t.slice()},i.invertExtent=function(a){var s=t.indexOf(a);return[e[s-1],e[s]]},i.unknown=function(a){return arguments.length?(n=a,i):n},i.copy=function(){return Wz().domain(e).range(t).unknown(n)},Ls.apply(i,arguments)}const Xw=new Date,Qw=new Date;function Yr(e,t,n,r){function i(a){return e(a=arguments.length===0?new Date:new Date(+a)),a}return i.floor=a=>(e(a=new Date(+a)),a),i.ceil=a=>(e(a=new Date(a-1)),t(a,1),e(a),a),i.round=a=>{const s=i(a),o=i.ceil(a);return a-s<o-a?s:o},i.offset=(a,s)=>(t(a=new Date(+a),s==null?1:Math.floor(s)),a),i.range=(a,s,o)=>{const l=[];if(a=i.ceil(a),o=o==null?1:Math.floor(o),!(a<s)||!(o>0))return l;let u;do l.push(u=new Date(+a)),t(a,o),e(a);while(u<a&&a<s);return l},i.filter=a=>Yr(s=>{if(s>=s)for(;e(s),!a(s);)s.setTime(s-1)},(s,o)=>{if(s>=s)if(o<0)for(;++o<=0;)for(;t(s,-1),!a(s););else for(;--o>=0;)for(;t(s,1),!a(s););}),n&&(i.count=(a,s)=>(Xw.setTime(+a),Qw.setTime(+s),e(Xw),e(Qw),Math.floor(n(Xw,Qw))),i.every=a=>(a=Math.floor(a),!isFinite(a)||!(a>0)?null:a>1?i.filter(r?s=>r(s)%a===0:s=>i.count(0,s)%a===0):i)),i}const By=Yr(()=>{},(e,t)=>{e.setTime(+e+t)},(e,t)=>t-e);By.every=e=>(e=Math.floor(e),!isFinite(e)||!(e>0)?null:e>1?Yr(t=>{t.setTime(Math.floor(t/e)*e)},(t,n)=>{t.setTime(+t+n*e)},(t,n)=>(n-t)/e):By);By.range;const El=1e3,Ss=El*60,Nl=Ss*60,Wl=Nl*24,k6=Wl*7,bI=Wl*30,Zw=Wl*365,ld=Yr(e=>{e.setTime(e-e.getMilliseconds())},(e,t)=>{e.setTime(+e+t*El)},(e,t)=>(t-e)/El,e=>e.getUTCSeconds());ld.range;const T6=Yr(e=>{e.setTime(e-e.getMilliseconds()-e.getSeconds()*El)},(e,t)=>{e.setTime(+e+t*Ss)},(e,t)=>(t-e)/Ss,e=>e.getMinutes());T6.range;const C6=Yr(e=>{e.setUTCSeconds(0,0)},(e,t)=>{e.setTime(+e+t*Ss)},(e,t)=>(t-e)/Ss,e=>e.getUTCMinutes());C6.range;const j6=Yr(e=>{e.setTime(e-e.getMilliseconds()-e.getSeconds()*El-e.getMinutes()*Ss)},(e,t)=>{e.setTime(+e+t*Nl)},(e,t)=>(t-e)/Nl,e=>e.getHours());j6.range;const I6=Yr(e=>{e.setUTCMinutes(0,0,0)},(e,t)=>{e.setTime(+e+t*Nl)},(e,t)=>(t-e)/Nl,e=>e.getUTCHours());I6.range;const eg=Yr(e=>e.setHours(0,0,0,0),(e,t)=>e.setDate(e.getDate()+t),(e,t)=>(t-e-(t.getTimezoneOffset()-e.getTimezoneOffset())*Ss)/Wl,e=>e.getDate()-1);eg.range;const Ax=Yr(e=>{e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCDate(e.getUTCDate()+t)},(e,t)=>(t-e)/Wl,e=>e.getUTCDate()-1);Ax.range;const qz=Yr(e=>{e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCDate(e.getUTCDate()+t)},(e,t)=>(t-e)/Wl,e=>Math.floor(e/Wl));qz.range;function Gd(e){return Yr(t=>{t.setDate(t.getDate()-(t.getDay()+7-e)%7),t.setHours(0,0,0,0)},(t,n)=>{t.setDate(t.getDate()+n*7)},(t,n)=>(n-t-(n.getTimezoneOffset()-t.getTimezoneOffset())*Ss)/k6)}const Px=Gd(0),Vy=Gd(1),Gge=Gd(2),Yge=Gd(3),_h=Gd(4),Xge=Gd(5),Qge=Gd(6);Px.range;Vy.range;Gge.range;Yge.range;_h.range;Xge.range;Qge.range;function Yd(e){return Yr(t=>{t.setUTCDate(t.getUTCDate()-(t.getUTCDay()+7-e)%7),t.setUTCHours(0,0,0,0)},(t,n)=>{t.setUTCDate(t.getUTCDate()+n*7)},(t,n)=>(n-t)/k6)}const Ex=Yd(0),zy=Yd(1),Zge=Yd(2),Jge=Yd(3),Sh=Yd(4),e1e=Yd(5),t1e=Yd(6);Ex.range;zy.range;Zge.range;Jge.range;Sh.range;e1e.range;t1e.range;const O6=Yr(e=>{e.setDate(1),e.setHours(0,0,0,0)},(e,t)=>{e.setMonth(e.getMonth()+t)},(e,t)=>t.getMonth()-e.getMonth()+(t.getFullYear()-e.getFullYear())*12,e=>e.getMonth());O6.range;const L6=Yr(e=>{e.setUTCDate(1),e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCMonth(e.getUTCMonth()+t)},(e,t)=>t.getUTCMonth()-e.getUTCMonth()+(t.getUTCFullYear()-e.getUTCFullYear())*12,e=>e.getUTCMonth());L6.range;const ql=Yr(e=>{e.setMonth(0,1),e.setHours(0,0,0,0)},(e,t)=>{e.setFullYear(e.getFullYear()+t)},(e,t)=>t.getFullYear()-e.getFullYear(),e=>e.getFullYear());ql.every=e=>!isFinite(e=Math.floor(e))||!(e>0)?null:Yr(t=>{t.setFullYear(Math.floor(t.getFullYear()/e)*e),t.setMonth(0,1),t.setHours(0,0,0,0)},(t,n)=>{t.setFullYear(t.getFullYear()+n*e)});ql.range;const Hl=Yr(e=>{e.setUTCMonth(0,1),e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCFullYear(e.getUTCFullYear()+t)},(e,t)=>t.getUTCFullYear()-e.getUTCFullYear(),e=>e.getUTCFullYear());Hl.every=e=>!isFinite(e=Math.floor(e))||!(e>0)?null:Yr(t=>{t.setUTCFullYear(Math.floor(t.getUTCFullYear()/e)*e),t.setUTCMonth(0,1),t.setUTCHours(0,0,0,0)},(t,n)=>{t.setUTCFullYear(t.getUTCFullYear()+n*e)});Hl.range;function Hz(e,t,n,r,i,a){const s=[[ld,1,El],[ld,5,5*El],[ld,15,15*El],[ld,30,30*El],[a,1,Ss],[a,5,5*Ss],[a,15,15*Ss],[a,30,30*Ss],[i,1,Nl],[i,3,3*Nl],[i,6,6*Nl],[i,12,12*Nl],[r,1,Wl],[r,2,2*Wl],[n,1,k6],[t,1,bI],[t,3,3*bI],[e,1,Zw]];function o(u,c,d){const p=c<u;p&&([u,c]=[c,u]);const f=d&&typeof d.range=="function"?d:l(u,c,d),g=f?f.range(u,+c+1):[];return p?g.reverse():g}function l(u,c,d){const p=Math.abs(c-u)/d,f=m6(([,,b])=>b).right(s,p);if(f===s.length)return e.every(W3(u/Zw,c/Zw,d));if(f===0)return By.every(Math.max(W3(u,c,d),1));const[g,v]=s[p/s[f-1][2]<s[f][2]/p?f-1:f];return g.every(v)}return[o,l]}const[n1e,r1e]=Hz(Hl,L6,Ex,qz,I6,C6),[i1e,a1e]=Hz(ql,O6,Px,eg,j6,T6);function Jw(e){if(0<=e.y&&e.y<100){var t=new Date(-1,e.m,e.d,e.H,e.M,e.S,e.L);return t.setFullYear(e.y),t}return new Date(e.y,e.m,e.d,e.H,e.M,e.S,e.L)}function e5(e){if(0<=e.y&&e.y<100){var t=new Date(Date.UTC(-1,e.m,e.d,e.H,e.M,e.S,e.L));return t.setUTCFullYear(e.y),t}return new Date(Date.UTC(e.y,e.m,e.d,e.H,e.M,e.S,e.L))}function Op(e,t,n){return{y:e,m:t,d:n,H:0,M:0,S:0,L:0}}function s1e(e){var t=e.dateTime,n=e.date,r=e.time,i=e.periods,a=e.days,s=e.shortDays,o=e.months,l=e.shortMonths,u=Lp(i),c=Rp(i),d=Lp(a),p=Rp(a),f=Lp(s),g=Rp(s),v=Lp(o),b=Rp(o),x=Lp(l),w=Rp(l),A={a:ie,A:H,b:se,B:ye,c:null,d:EI,e:EI,f:T1e,g:B1e,G:z1e,H:E1e,I:N1e,j:k1e,L:Kz,m:C1e,M:j1e,p:be,q:$,Q:TI,s:CI,S:I1e,u:O1e,U:L1e,V:R1e,w:M1e,W:D1e,x:null,X:null,y:F1e,Y:V1e,Z:$1e,"%":kI},P={a:X,A:re,b:oe,B:de,c:null,d:NI,e:NI,f:H1e,g:nve,G:ive,H:U1e,I:W1e,j:q1e,L:Yz,m:K1e,M:G1e,p:ge,q:ce,Q:TI,s:CI,S:Y1e,u:X1e,U:Q1e,V:Z1e,w:J1e,W:eve,x:null,X:null,y:tve,Y:rve,Z:ave,"%":kI},O={a:M,A:N,b:C,B:R,c:W,d:AI,e:AI,f:_1e,g:SI,G:_I,H:PI,I:PI,j:y1e,L:w1e,m:v1e,M:x1e,p:I,q:g1e,Q:A1e,s:P1e,S:b1e,u:d1e,U:f1e,V:h1e,w:c1e,W:p1e,x:Y,X:ae,y:SI,Y:_I,Z:m1e,"%":S1e};A.x=D(n,A),A.X=D(r,A),A.c=D(t,A),P.x=D(n,P),P.X=D(r,P),P.c=D(t,P);function D(J,pe){return function(Ee){var le=[],Ne=-1,fe=0,Z=J.length,Ve,Xe,Ue;for(Ee instanceof Date||(Ee=new Date(+Ee));++Ne<Z;)J.charCodeAt(Ne)===37&&(le.push(J.slice(fe,Ne)),(Xe=wI[Ve=J.charAt(++Ne)])!=null?Ve=J.charAt(++Ne):Xe=Ve==="e"?" ":"0",(Ue=pe[Ve])&&(Ve=Ue(Ee,Xe)),le.push(Ve),fe=Ne+1);return le.push(J.slice(fe,Ne)),le.join("")}}function T(J,pe){return function(Ee){var le=Op(1900,void 0,1),Ne=k(le,J,Ee+="",0),fe,Z;if(Ne!=Ee.length)return null;if("Q"in le)return new Date(le.Q);if("s"in le)return new Date(le.s*1e3+("L"in le?le.L:0));if(pe&&!("Z"in le)&&(le.Z=0),"p"in le&&(le.H=le.H%12+le.p*12),le.m===void 0&&(le.m="q"in le?le.q:0),"V"in le){if(le.V<1||le.V>53)return null;"w"in le||(le.w=1),"Z"in le?(fe=e5(Op(le.y,0,1)),Z=fe.getUTCDay(),fe=Z>4||Z===0?zy.ceil(fe):zy(fe),fe=Ax.offset(fe,(le.V-1)*7),le.y=fe.getUTCFullYear(),le.m=fe.getUTCMonth(),le.d=fe.getUTCDate()+(le.w+6)%7):(fe=Jw(Op(le.y,0,1)),Z=fe.getDay(),fe=Z>4||Z===0?Vy.ceil(fe):Vy(fe),fe=eg.offset(fe,(le.V-1)*7),le.y=fe.getFullYear(),le.m=fe.getMonth(),le.d=fe.getDate()+(le.w+6)%7)}else("W"in le||"U"in le)&&("w"in le||(le.w="u"in le?le.u%7:"W"in le?1:0),Z="Z"in le?e5(Op(le.y,0,1)).getUTCDay():Jw(Op(le.y,0,1)).getDay(),le.m=0,le.d="W"in le?(le.w+6)%7+le.W*7-(Z+5)%7:le.w+le.U*7-(Z+6)%7);return"Z"in le?(le.H+=le.Z/100|0,le.M+=le.Z%100,e5(le)):Jw(le)}}function k(J,pe,Ee,le){for(var Ne=0,fe=pe.length,Z=Ee.length,Ve,Xe;Ne<fe;){if(le>=Z)return-1;if(Ve=pe.charCodeAt(Ne++),Ve===37){if(Ve=pe.charAt(Ne++),Xe=O[Ve in wI?pe.charAt(Ne++):Ve],!Xe||(le=Xe(J,Ee,le))<0)return-1}else if(Ve!=Ee.charCodeAt(le++))return-1}return le}function I(J,pe,Ee){var le=u.exec(pe.slice(Ee));return le?(J.p=c.get(le[0].toLowerCase()),Ee+le[0].length):-1}function M(J,pe,Ee){var le=f.exec(pe.slice(Ee));return le?(J.w=g.get(le[0].toLowerCase()),Ee+le[0].length):-1}function N(J,pe,Ee){var le=d.exec(pe.slice(Ee));return le?(J.w=p.get(le[0].toLowerCase()),Ee+le[0].length):-1}function C(J,pe,Ee){var le=x.exec(pe.slice(Ee));return le?(J.m=w.get(le[0].toLowerCase()),Ee+le[0].length):-1}function R(J,pe,Ee){var le=v.exec(pe.slice(Ee));return le?(J.m=b.get(le[0].toLowerCase()),Ee+le[0].length):-1}function W(J,pe,Ee){return k(J,t,pe,Ee)}function Y(J,pe,Ee){return k(J,n,pe,Ee)}function ae(J,pe,Ee){return k(J,r,pe,Ee)}function ie(J){return s[J.getDay()]}function H(J){return a[J.getDay()]}function se(J){return l[J.getMonth()]}function ye(J){return o[J.getMonth()]}function be(J){return i[+(J.getHours()>=12)]}function $(J){return 1+~~(J.getMonth()/3)}function X(J){return s[J.getUTCDay()]}function re(J){return a[J.getUTCDay()]}function oe(J){return l[J.getUTCMonth()]}function de(J){return o[J.getUTCMonth()]}function ge(J){return i[+(J.getUTCHours()>=12)]}function ce(J){return 1+~~(J.getUTCMonth()/3)}return{format:function(J){var pe=D(J+="",A);return pe.toString=function(){return J},pe},parse:function(J){var pe=T(J+="",!1);return pe.toString=function(){return J},pe},utcFormat:function(J){var pe=D(J+="",P);return pe.toString=function(){return J},pe},utcParse:function(J){var pe=T(J+="",!0);return pe.toString=function(){return J},pe}}}var wI={"-":"",_:" ",0:"0"},fi=/^\s*\d+/,o1e=/^%/,l1e=/[\\^$*+?|[\]().{}]/g;function en(e,t,n){var r=e<0?"-":"",i=(r?-e:e)+"",a=i.length;return r+(a<n?new Array(n-a+1).join(t)+i:i)}function u1e(e){return e.replace(l1e,"\\$&")}function Lp(e){return new RegExp("^(?:"+e.map(u1e).join("|")+")","i")}function Rp(e){return new Map(e.map((t,n)=>[t.toLowerCase(),n]))}function c1e(e,t,n){var r=fi.exec(t.slice(n,n+1));return r?(e.w=+r[0],n+r[0].length):-1}function d1e(e,t,n){var r=fi.exec(t.slice(n,n+1));return r?(e.u=+r[0],n+r[0].length):-1}function f1e(e,t,n){var r=fi.exec(t.slice(n,n+2));return r?(e.U=+r[0],n+r[0].length):-1}function h1e(e,t,n){var r=fi.exec(t.slice(n,n+2));return r?(e.V=+r[0],n+r[0].length):-1}function p1e(e,t,n){var r=fi.exec(t.slice(n,n+2));return r?(e.W=+r[0],n+r[0].length):-1}function _I(e,t,n){var r=fi.exec(t.slice(n,n+4));return r?(e.y=+r[0],n+r[0].length):-1}function SI(e,t,n){var r=fi.exec(t.slice(n,n+2));return r?(e.y=+r[0]+(+r[0]>68?1900:2e3),n+r[0].length):-1}function m1e(e,t,n){var r=/^(Z)|([+-]\d\d)(?::?(\d\d))?/.exec(t.slice(n,n+6));return r?(e.Z=r[1]?0:-(r[2]+(r[3]||"00")),n+r[0].length):-1}function g1e(e,t,n){var r=fi.exec(t.slice(n,n+1));return r?(e.q=r[0]*3-3,n+r[0].length):-1}function v1e(e,t,n){var r=fi.exec(t.slice(n,n+2));return r?(e.m=r[0]-1,n+r[0].length):-1}function AI(e,t,n){var r=fi.exec(t.slice(n,n+2));return r?(e.d=+r[0],n+r[0].length):-1}function y1e(e,t,n){var r=fi.exec(t.slice(n,n+3));return r?(e.m=0,e.d=+r[0],n+r[0].length):-1}function PI(e,t,n){var r=fi.exec(t.slice(n,n+2));return r?(e.H=+r[0],n+r[0].length):-1}function x1e(e,t,n){var r=fi.exec(t.slice(n,n+2));return r?(e.M=+r[0],n+r[0].length):-1}function b1e(e,t,n){var r=fi.exec(t.slice(n,n+2));return r?(e.S=+r[0],n+r[0].length):-1}function w1e(e,t,n){var r=fi.exec(t.slice(n,n+3));return r?(e.L=+r[0],n+r[0].length):-1}function _1e(e,t,n){var r=fi.exec(t.slice(n,n+6));return r?(e.L=Math.floor(r[0]/1e3),n+r[0].length):-1}function S1e(e,t,n){var r=o1e.exec(t.slice(n,n+1));return r?n+r[0].length:-1}function A1e(e,t,n){var r=fi.exec(t.slice(n));return r?(e.Q=+r[0],n+r[0].length):-1}function P1e(e,t,n){var r=fi.exec(t.slice(n));return r?(e.s=+r[0],n+r[0].length):-1}function EI(e,t){return en(e.getDate(),t,2)}function E1e(e,t){return en(e.getHours(),t,2)}function N1e(e,t){return en(e.getHours()%12||12,t,2)}function k1e(e,t){return en(1+eg.count(ql(e),e),t,3)}function Kz(e,t){return en(e.getMilliseconds(),t,3)}function T1e(e,t){return Kz(e,t)+"000"}function C1e(e,t){return en(e.getMonth()+1,t,2)}function j1e(e,t){return en(e.getMinutes(),t,2)}function I1e(e,t){return en(e.getSeconds(),t,2)}function O1e(e){var t=e.getDay();return t===0?7:t}function L1e(e,t){return en(Px.count(ql(e)-1,e),t,2)}function Gz(e){var t=e.getDay();return t>=4||t===0?_h(e):_h.ceil(e)}function R1e(e,t){return e=Gz(e),en(_h.count(ql(e),e)+(ql(e).getDay()===4),t,2)}function M1e(e){return e.getDay()}function D1e(e,t){return en(Vy.count(ql(e)-1,e),t,2)}function F1e(e,t){return en(e.getFullYear()%100,t,2)}function B1e(e,t){return e=Gz(e),en(e.getFullYear()%100,t,2)}function V1e(e,t){return en(e.getFullYear()%1e4,t,4)}function z1e(e,t){var n=e.getDay();return e=n>=4||n===0?_h(e):_h.ceil(e),en(e.getFullYear()%1e4,t,4)}function $1e(e){var t=e.getTimezoneOffset();return(t>0?"-":(t*=-1,"+"))+en(t/60|0,"0",2)+en(t%60,"0",2)}function NI(e,t){return en(e.getUTCDate(),t,2)}function U1e(e,t){return en(e.getUTCHours(),t,2)}function W1e(e,t){return en(e.getUTCHours()%12||12,t,2)}function q1e(e,t){return en(1+Ax.count(Hl(e),e),t,3)}function Yz(e,t){return en(e.getUTCMilliseconds(),t,3)}function H1e(e,t){return Yz(e,t)+"000"}function K1e(e,t){return en(e.getUTCMonth()+1,t,2)}function G1e(e,t){return en(e.getUTCMinutes(),t,2)}function Y1e(e,t){return en(e.getUTCSeconds(),t,2)}function X1e(e){var t=e.getUTCDay();return t===0?7:t}function Q1e(e,t){return en(Ex.count(Hl(e)-1,e),t,2)}function Xz(e){var t=e.getUTCDay();return t>=4||t===0?Sh(e):Sh.ceil(e)}function Z1e(e,t){return e=Xz(e),en(Sh.count(Hl(e),e)+(Hl(e).getUTCDay()===4),t,2)}function J1e(e){return e.getUTCDay()}function eve(e,t){return en(zy.count(Hl(e)-1,e),t,2)}function tve(e,t){return en(e.getUTCFullYear()%100,t,2)}function nve(e,t){return e=Xz(e),en(e.getUTCFullYear()%100,t,2)}function rve(e,t){return en(e.getUTCFullYear()%1e4,t,4)}function ive(e,t){var n=e.getUTCDay();return e=n>=4||n===0?Sh(e):Sh.ceil(e),en(e.getUTCFullYear()%1e4,t,4)}function ave(){return"+0000"}function kI(){return"%"}function TI(e){return+e}function CI(e){return Math.floor(+e/1e3)}var of,Qz,Zz;sve({dateTime:"%x, %X",date:"%-m/%-d/%Y",time:"%-I:%M:%S %p",periods:["AM","PM"],days:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],shortDays:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],months:["January","February","March","April","May","June","July","August","September","October","November","December"],shortMonths:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"]});function sve(e){return of=s1e(e),Qz=of.format,of.parse,Zz=of.utcFormat,of.utcParse,of}function ove(e){return new Date(e)}function lve(e){return e instanceof Date?+e:+new Date(+e)}function R6(e,t,n,r,i,a,s,o,l,u){var c=w6(),d=c.invert,p=c.domain,f=u(".%L"),g=u(":%S"),v=u("%I:%M"),b=u("%I %p"),x=u("%a %d"),w=u("%b %d"),A=u("%B"),P=u("%Y");function O(D){return(l(D)<D?f:o(D)<D?g:s(D)<D?v:a(D)<D?b:r(D)<D?i(D)<D?x:w:n(D)<D?A:P)(D)}return c.invert=function(D){return new Date(d(D))},c.domain=function(D){return arguments.length?p(Array.from(D,lve)):p().map(ove)},c.ticks=function(D){var T=p();return e(T[0],T[T.length-1],D??10)},c.tickFormat=function(D,T){return T==null?O:u(T)},c.nice=function(D){var T=p();return(!D||typeof D.range!="function")&&(D=t(T[0],T[T.length-1],D??10)),D?p(Fz(T,D)):c},c.copy=function(){return J0(c,R6(e,t,n,r,i,a,s,o,l,u))},c}function uve(){return Ls.apply(R6(i1e,a1e,ql,O6,Px,eg,j6,T6,ld,Qz).domain([new Date(2e3,0,1),new Date(2e3,0,2)]),arguments)}function cve(){return Ls.apply(R6(n1e,r1e,Hl,L6,Ex,Ax,I6,C6,ld,Zz).domain([Date.UTC(2e3,0,1),Date.UTC(2e3,0,2)]),arguments)}function Nx(){var e=0,t=1,n,r,i,a,s=sa,o=!1,l;function u(d){return d==null||isNaN(d=+d)?l:s(i===0?.5:(d=(a(d)-n)*i,o?Math.max(0,Math.min(1,d)):d))}u.domain=function(d){return arguments.length?([e,t]=d,n=a(e=+e),r=a(t=+t),i=n===r?0:1/(r-n),u):[e,t]},u.clamp=function(d){return arguments.length?(o=!!d,u):o},u.interpolator=function(d){return arguments.length?(s=d,u):s};function c(d){return function(p){var f,g;return arguments.length?([f,g]=p,s=d(f,g),u):[s(0),s(1)]}}return u.range=c(Vh),u.rangeRound=c(b6),u.unknown=function(d){return arguments.length?(l=d,u):l},function(d){return a=d,n=d(e),r=d(t),i=n===r?0:1/(r-n),u}}function _c(e,t){return t.domain(e.domain()).interpolator(e.interpolator()).clamp(e.clamp()).unknown(e.unknown())}function Jz(){var e=wc(Nx()(sa));return e.copy=function(){return _c(e,Jz())},Jl.apply(e,arguments)}function e$(){var e=A6(Nx()).domain([1,10]);return e.copy=function(){return _c(e,e$()).base(e.base())},Jl.apply(e,arguments)}function t$(){var e=P6(Nx());return e.copy=function(){return _c(e,t$()).constant(e.constant())},Jl.apply(e,arguments)}function M6(){var e=E6(Nx());return e.copy=function(){return _c(e,M6()).exponent(e.exponent())},Jl.apply(e,arguments)}function dve(){return M6.apply(null,arguments).exponent(.5)}function n$(){var e=[],t=sa;function n(r){if(r!=null&&!isNaN(r=+r))return t((Q0(e,r,1)-1)/(e.length-1))}return n.domain=function(r){if(!arguments.length)return e.slice();e=[];for(let i of r)i!=null&&!isNaN(i=+i)&&e.push(i);return e.sort(rc),n},n.interpolator=function(r){return arguments.length?(t=r,n):t},n.range=function(){return e.map((r,i)=>t(i/(e.length-1)))},n.quantiles=function(r){return Array.from({length:r+1},(i,a)=>X0e(e,a/r))},n.copy=function(){return n$(t).domain(e)},Jl.apply(n,arguments)}function kx(){var e=0,t=.5,n=1,r=1,i,a,s,o,l,u=sa,c,d=!1,p;function f(v){return isNaN(v=+v)?p:(v=.5+((v=+c(v))-a)*(r*v<r*a?o:l),u(d?Math.max(0,Math.min(1,v)):v))}f.domain=function(v){return arguments.length?([e,t,n]=v,i=c(e=+e),a=c(t=+t),s=c(n=+n),o=i===a?0:.5/(a-i),l=a===s?0:.5/(s-a),r=a<i?-1:1,f):[e,t,n]},f.clamp=function(v){return arguments.length?(d=!!v,f):d},f.interpolator=function(v){return arguments.length?(u=v,f):u};function g(v){return function(b){var x,w,A;return arguments.length?([x,w,A]=b,u=Sge(v,[x,w,A]),f):[u(0),u(.5),u(1)]}}return f.range=g(Vh),f.rangeRound=g(b6),f.unknown=function(v){return arguments.length?(p=v,f):p},function(v){return c=v,i=v(e),a=v(t),s=v(n),o=i===a?0:.5/(a-i),l=a===s?0:.5/(s-a),r=a<i?-1:1,f}}function r$(){var e=wc(kx()(sa));return e.copy=function(){return _c(e,r$())},Jl.apply(e,arguments)}function i$(){var e=A6(kx()).domain([.1,1,10]);return e.copy=function(){return _c(e,i$()).base(e.base())},Jl.apply(e,arguments)}function a$(){var e=P6(kx());return e.copy=function(){return _c(e,a$()).constant(e.constant())},Jl.apply(e,arguments)}function D6(){var e=E6(kx());return e.copy=function(){return _c(e,D6()).exponent(e.exponent())},Jl.apply(e,arguments)}function fve(){return D6.apply(null,arguments).exponent(.5)}const Yp=Object.freeze(Object.defineProperty({__proto__:null,scaleBand:v6,scaleDiverging:r$,scaleDivergingLog:i$,scaleDivergingPow:D6,scaleDivergingSqrt:fve,scaleDivergingSymlog:a$,scaleIdentity:Dz,scaleImplicit:q3,scaleLinear:Mz,scaleLog:Bz,scaleOrdinal:g6,scalePoint:J0e,scalePow:N6,scaleQuantile:$z,scaleQuantize:Uz,scaleRadial:zz,scaleSequential:Jz,scaleSequentialLog:e$,scaleSequentialPow:M6,scaleSequentialQuantile:n$,scaleSequentialSqrt:dve,scaleSequentialSymlog:t$,scaleSqrt:Hge,scaleSymlog:Vz,scaleThreshold:Wz,scaleTime:uve,scaleUtc:cve,tickFormat:Rz},Symbol.toStringTag,{value:"Module"}));var Sc=e=>e.chartData,F6=Ae([Sc],e=>{var t=e.chartData!=null?e.chartData.length-1:0;return{chartData:e.chartData,computedData:e.computedData,dataEndIndex:t,dataStartIndex:0}}),B6=(e,t,n,r)=>r?F6(e):Sc(e);function fc(e){if(Array.isArray(e)&&e.length===2){var[t,n]=e;if(Cr(t)&&Cr(n))return!0}return!1}function jI(e,t,n){return n?e:[Math.min(e[0],t[0]),Math.max(e[1],t[1])]}function s$(e,t){if(t&&typeof e!="function"&&Array.isArray(e)&&e.length===2){var[n,r]=e,i,a;if(Cr(n))i=n;else if(typeof n=="function")return;if(Cr(r))a=r;else if(typeof r=="function")return;var s=[i,a];if(fc(s))return s}}function hve(e,t,n){if(!(!n&&t==null)){if(typeof e=="function"&&t!=null)try{var r=e(t,n);if(fc(r))return jI(r,t,n)}catch{}if(Array.isArray(e)&&e.length===2){var[i,a]=e,s,o;if(i==="auto")t!=null&&(s=Math.min(...t));else if(at(i))s=i;else if(typeof i=="function")try{t!=null&&(s=i(t==null?void 0:t[0]))}catch{}else if(typeof i=="string"&&hj.test(i)){var l=hj.exec(i);if(l==null||t==null)s=void 0;else{var u=+l[1];s=t[0]-u}}else s=t==null?void 0:t[0];if(a==="auto")t!=null&&(o=Math.max(...t));else if(at(a))o=a;else if(typeof a=="function")try{t!=null&&(o=a(t==null?void 0:t[1]))}catch{}else if(typeof a=="string"&&pj.test(a)){var c=pj.exec(a);if(c==null||t==null)o=void 0;else{var d=+c[1];o=t[1]+d}}else o=t==null?void 0:t[1];var p=[s,o];if(fc(p))return t==null?p:jI(p,t,n)}}}var zh=1e9,pve={precision:20,rounding:4,toExpNeg:-7,toExpPos:21,LN10:"2.302585092994045684017991454684364207601101488628772976033327900967572609677352480235997205089598298341967784042286"},z6,Kn=!0,Is="[DecimalError] ",yd=Is+"Invalid argument: ",V6=Is+"Exponent out of range: ",$h=Math.floor,Zc=Math.pow,mve=/^(\d+(\.\d*)?|\.\d+)(e[+-]?\d+)?$/i,Ya,ai=1e7,Mn=7,o$=9007199254740991,$y=$h(o$/Mn),Ge={};Ge.absoluteValue=Ge.abs=function(){var e=new this.constructor(this);return e.s&&(e.s=1),e};Ge.comparedTo=Ge.cmp=function(e){var t,n,r,i,a=this;if(e=new a.constructor(e),a.s!==e.s)return a.s||-e.s;if(a.e!==e.e)return a.e>e.e^a.s<0?1:-1;for(r=a.d.length,i=e.d.length,t=0,n=r<i?r:i;t<n;++t)if(a.d[t]!==e.d[t])return a.d[t]>e.d[t]^a.s<0?1:-1;return r===i?0:r>i^a.s<0?1:-1};Ge.decimalPlaces=Ge.dp=function(){var e=this,t=e.d.length-1,n=(t-e.e)*Mn;if(t=e.d[t],t)for(;t%10==0;t/=10)n--;return n<0?0:n};Ge.dividedBy=Ge.div=function(e){return Tl(this,new this.constructor(e))};Ge.dividedToIntegerBy=Ge.idiv=function(e){var t=this,n=t.constructor;return Sn(Tl(t,new n(e),0,1),n.precision)};Ge.equals=Ge.eq=function(e){return!this.cmp(e)};Ge.exponent=function(){return Fr(this)};Ge.greaterThan=Ge.gt=function(e){return this.cmp(e)>0};Ge.greaterThanOrEqualTo=Ge.gte=function(e){return this.cmp(e)>=0};Ge.isInteger=Ge.isint=function(){return this.e>this.d.length-2};Ge.isNegative=Ge.isneg=function(){return this.s<0};Ge.isPositive=Ge.ispos=function(){return this.s>0};Ge.isZero=function(){return this.s===0};Ge.lessThan=Ge.lt=function(e){return this.cmp(e)<0};Ge.lessThanOrEqualTo=Ge.lte=function(e){return this.cmp(e)<1};Ge.logarithm=Ge.log=function(e){var t,n=this,r=n.constructor,i=r.precision,a=i+5;if(e===void 0)e=new r(10);else if(e=new r(e),e.s<1||e.eq(Ya))throw Error(Is+"NaN");if(n.s<1)throw Error(Is+(n.s?"NaN":"-Infinity"));return n.eq(Ya)?new r(0):(Kn=!1,t=Tl(p0(n,a),p0(e,a),a),Kn=!0,Sn(t,i))};Ge.minus=Ge.sub=function(e){var t=this;return e=new t.constructor(e),t.s==e.s?c$(t,e):l$(t,(e.s=-e.s,e))};Ge.modulo=Ge.mod=function(e){var t,n=this,r=n.constructor,i=r.precision;if(e=new r(e),!e.s)throw Error(Is+"NaN");return n.s?(Kn=!1,t=Tl(n,e,0,1).times(e),Kn=!0,n.minus(t)):Sn(new r(n),i)};Ge.naturalExponential=Ge.exp=function(){return u$(this)};Ge.naturalLogarithm=Ge.ln=function(){return p0(this)};Ge.negated=Ge.neg=function(){var e=new this.constructor(this);return e.s=-e.s||0,e};Ge.plus=Ge.add=function(e){var t=this;return e=new t.constructor(e),t.s==e.s?l$(t,e):c$(t,(e.s=-e.s,e))};Ge.precision=Ge.sd=function(e){var t,n,r,i=this;if(e!==void 0&&e!==!!e&&e!==1&&e!==0)throw Error(yd+e);if(t=Fr(i)+1,r=i.d.length-1,n=r*Mn+1,r=i.d[r],r){for(;r%10==0;r/=10)n--;for(r=i.d[0];r>=10;r/=10)n++}return e&&t>n?t:n};Ge.squareRoot=Ge.sqrt=function(){var e,t,n,r,i,a,s,o=this,l=o.constructor;if(o.s<1){if(!o.s)return new l(0);throw Error(Is+"NaN")}for(e=Fr(o),Kn=!1,i=Math.sqrt(+o),i==0||i==1/0?(t=Vo(o.d),(t.length+e)%2==0&&(t+="0"),i=Math.sqrt(t),e=$h((e+1)/2)-(e<0||e%2),i==1/0?t="5e"+e:(t=i.toExponential(),t=t.slice(0,t.indexOf("e")+1)+e),r=new l(t)):r=new l(i.toString()),n=l.precision,i=s=n+3;;)if(a=r,r=a.plus(Tl(o,a,s+2)).times(.5),Vo(a.d).slice(0,s)===(t=Vo(r.d)).slice(0,s)){if(t=t.slice(s-3,s+1),i==s&&t=="4999"){if(Sn(a,n+1,0),a.times(a).eq(o)){r=a;break}}else if(t!="9999")break;s+=4}return Kn=!0,Sn(r,n)};Ge.times=Ge.mul=function(e){var t,n,r,i,a,s,o,l,u,c=this,d=c.constructor,p=c.d,f=(e=new d(e)).d;if(!c.s||!e.s)return new d(0);for(e.s*=c.s,n=c.e+e.e,l=p.length,u=f.length,l<u&&(a=p,p=f,f=a,s=l,l=u,u=s),a=[],s=l+u,r=s;r--;)a.push(0);for(r=u;--r>=0;){for(t=0,i=l+r;i>r;)o=a[i]+f[r]*p[i-r-1]+t,a[i--]=o%ai|0,t=o/ai|0;a[i]=(a[i]+t)%ai|0}for(;!a[--s];)a.pop();return t?++n:a.shift(),e.d=a,e.e=n,Kn?Sn(e,d.precision):e};Ge.toDecimalPlaces=Ge.todp=function(e,t){var n=this,r=n.constructor;return n=new r(n),e===void 0?n:(Jo(e,0,zh),t===void 0?t=r.rounding:Jo(t,0,8),Sn(n,e+Fr(n)+1,t))};Ge.toExponential=function(e,t){var n,r=this,i=r.constructor;return e===void 0?n=Ld(r,!0):(Jo(e,0,zh),t===void 0?t=i.rounding:Jo(t,0,8),r=Sn(new i(r),e+1,t),n=Ld(r,!0,e+1)),n};Ge.toFixed=function(e,t){var n,r,i=this,a=i.constructor;return e===void 0?Ld(i):(Jo(e,0,zh),t===void 0?t=a.rounding:Jo(t,0,8),r=Sn(new a(i),e+Fr(i)+1,t),n=Ld(r.abs(),!1,e+Fr(r)+1),i.isneg()&&!i.isZero()?"-"+n:n)};Ge.toInteger=Ge.toint=function(){var e=this,t=e.constructor;return Sn(new t(e),Fr(e)+1,t.rounding)};Ge.toNumber=function(){return+this};Ge.toPower=Ge.pow=function(e){var t,n,r,i,a,s,o=this,l=o.constructor,u=12,c=+(e=new l(e));if(!e.s)return new l(Ya);if(o=new l(o),!o.s){if(e.s<1)throw Error(Is+"Infinity");return o}if(o.eq(Ya))return o;if(r=l.precision,e.eq(Ya))return Sn(o,r);if(t=e.e,n=e.d.length-1,s=t>=n,a=o.s,s){if((n=c<0?-c:c)<=o$){for(i=new l(Ya),t=Math.ceil(r/Mn+4),Kn=!1;n%2&&(i=i.times(o),OI(i.d,t)),n=$h(n/2),n!==0;)o=o.times(o),OI(o.d,t);return Kn=!0,e.s<0?new l(Ya).div(i):Sn(i,r)}}else if(a<0)throw Error(Is+"NaN");return a=a<0&&e.d[Math.max(t,n)]&1?-1:1,o.s=1,Kn=!1,i=e.times(p0(o,r+u)),Kn=!0,i=u$(i),i.s=a,i};Ge.toPrecision=function(e,t){var n,r,i=this,a=i.constructor;return e===void 0?(n=Fr(i),r=Ld(i,n<=a.toExpNeg||n>=a.toExpPos)):(Jo(e,1,zh),t===void 0?t=a.rounding:Jo(t,0,8),i=Sn(new a(i),e,t),n=Fr(i),r=Ld(i,e<=n||n<=a.toExpNeg,e)),r};Ge.toSignificantDigits=Ge.tosd=function(e,t){var n=this,r=n.constructor;return e===void 0?(e=r.precision,t=r.rounding):(Jo(e,1,zh),t===void 0?t=r.rounding:Jo(t,0,8)),Sn(new r(n),e,t)};Ge.toString=Ge.valueOf=Ge.val=Ge.toJSON=Ge[Symbol.for("nodejs.util.inspect.custom")]=function(){var e=this,t=Fr(e),n=e.constructor;return Ld(e,t<=n.toExpNeg||t>=n.toExpPos)};function l$(e,t){var n,r,i,a,s,o,l,u,c=e.constructor,d=c.precision;if(!e.s||!t.s)return t.s||(t=new c(e)),Kn?Sn(t,d):t;if(l=e.d,u=t.d,s=e.e,i=t.e,l=l.slice(),a=s-i,a){for(a<0?(r=l,a=-a,o=u.length):(r=u,i=s,o=l.length),s=Math.ceil(d/Mn),o=s>o?s+1:o+1,a>o&&(a=o,r.length=1),r.reverse();a--;)r.push(0);r.reverse()}for(o=l.length,a=u.length,o-a<0&&(a=o,r=u,u=l,l=r),n=0;a;)n=(l[--a]=l[a]+u[a]+n)/ai|0,l[a]%=ai;for(n&&(l.unshift(n),++i),o=l.length;l[--o]==0;)l.pop();return t.d=l,t.e=i,Kn?Sn(t,d):t}function Jo(e,t,n){if(e!==~~e||e<t||e>n)throw Error(yd+e)}function Vo(e){var t,n,r,i=e.length-1,a="",s=e[0];if(i>0){for(a+=s,t=1;t<i;t++)r=e[t]+"",n=Mn-r.length,n&&(a+=Iu(n)),a+=r;s=e[t],r=s+"",n=Mn-r.length,n&&(a+=Iu(n))}else if(s===0)return"0";for(;s%10===0;)s/=10;return a+s}var Tl=function(){function e(r,i){var a,s=0,o=r.length;for(r=r.slice();o--;)a=r[o]*i+s,r[o]=a%ai|0,s=a/ai|0;return s&&r.unshift(s),r}function t(r,i,a,s){var o,l;if(a!=s)l=a>s?1:-1;else for(o=l=0;o<a;o++)if(r[o]!=i[o]){l=r[o]>i[o]?1:-1;break}return l}function n(r,i,a){for(var s=0;a--;)r[a]-=s,s=r[a]<i[a]?1:0,r[a]=s*ai+r[a]-i[a];for(;!r[0]&&r.length>1;)r.shift()}return function(r,i,a,s){var o,l,u,c,d,p,f,g,v,b,x,w,A,P,O,D,T,k,I=r.constructor,M=r.s==i.s?1:-1,N=r.d,C=i.d;if(!r.s)return new I(r);if(!i.s)throw Error(Is+"Division by zero");for(l=r.e-i.e,T=C.length,O=N.length,f=new I(M),g=f.d=[],u=0;C[u]==(N[u]||0);)++u;if(C[u]>(N[u]||0)&&--l,a==null?w=a=I.precision:s?w=a+(Fr(r)-Fr(i))+1:w=a,w<0)return new I(0);if(w=w/Mn+2|0,u=0,T==1)for(c=0,C=C[0],w++;(u<O||c)&&w--;u++)A=c*ai+(N[u]||0),g[u]=A/C|0,c=A%C|0;else{for(c=ai/(C[0]+1)|0,c>1&&(C=e(C,c),N=e(N,c),T=C.length,O=N.length),P=T,v=N.slice(0,T),b=v.length;b<T;)v[b++]=0;k=C.slice(),k.unshift(0),D=C[0],C[1]>=ai/2&&++D;do c=0,o=t(C,v,T,b),o<0?(x=v[0],T!=b&&(x=x*ai+(v[1]||0)),c=x/D|0,c>1?(c>=ai&&(c=ai-1),d=e(C,c),p=d.length,b=v.length,o=t(d,v,p,b),o==1&&(c--,n(d,T<p?k:C,p))):(c==0&&(o=c=1),d=C.slice()),p=d.length,p<b&&d.unshift(0),n(v,d,b),o==-1&&(b=v.length,o=t(C,v,T,b),o<1&&(c++,n(v,T<b?k:C,b))),b=v.length):o===0&&(c++,v=[0]),g[u++]=c,o&&v[0]?v[b++]=N[P]||0:(v=[N[P]],b=1);while((P++<O||v[0]!==void 0)&&w--)}return g[0]||g.shift(),f.e=l,Sn(f,s?a+Fr(f)+1:a)}}();function u$(e,t){var n,r,i,a,s,o,l=0,u=0,c=e.constructor,d=c.precision;if(Fr(e)>16)throw Error(V6+Fr(e));if(!e.s)return new c(Ya);for(Kn=!1,o=d,s=new c(.03125);e.abs().gte(.1);)e=e.times(s),u+=5;for(r=Math.log(Zc(2,u))/Math.LN10*2+5|0,o+=r,n=i=a=new c(Ya),c.precision=o;;){if(i=Sn(i.times(e),o),n=n.times(++l),s=a.plus(Tl(i,n,o)),Vo(s.d).slice(0,o)===Vo(a.d).slice(0,o)){for(;u--;)a=Sn(a.times(a),o);return c.precision=d,t==null?(Kn=!0,Sn(a,d)):a}a=s}}function Fr(e){for(var t=e.e*Mn,n=e.d[0];n>=10;n/=10)t++;return t}function t5(e,t,n){if(t>e.LN10.sd())throw Kn=!0,n&&(e.precision=n),Error(Is+"LN10 precision limit exceeded");return Sn(new e(e.LN10),t)}function Iu(e){for(var t="";e--;)t+="0";return t}function p0(e,t){var n,r,i,a,s,o,l,u,c,d=1,p=10,f=e,g=f.d,v=f.constructor,b=v.precision;if(f.s<1)throw Error(Is+(f.s?"NaN":"-Infinity"));if(f.eq(Ya))return new v(0);if(t==null?(Kn=!1,u=b):u=t,f.eq(10))return t==null&&(Kn=!0),t5(v,u);if(u+=p,v.precision=u,n=Vo(g),r=n.charAt(0),a=Fr(f),Math.abs(a)<15e14){for(;r<7&&r!=1||r==1&&n.charAt(1)>3;)f=f.times(e),n=Vo(f.d),r=n.charAt(0),d++;a=Fr(f),r>1?(f=new v("0."+n),a++):f=new v(r+"."+n.slice(1))}else return l=t5(v,u+2,b).times(a+""),f=p0(new v(r+"."+n.slice(1)),u-p).plus(l),v.precision=b,t==null?(Kn=!0,Sn(f,b)):f;for(o=s=f=Tl(f.minus(Ya),f.plus(Ya),u),c=Sn(f.times(f),u),i=3;;){if(s=Sn(s.times(c),u),l=o.plus(Tl(s,new v(i),u)),Vo(l.d).slice(0,u)===Vo(o.d).slice(0,u))return o=o.times(2),a!==0&&(o=o.plus(t5(v,u+2,b).times(a+""))),o=Tl(o,new v(d),u),v.precision=b,t==null?(Kn=!0,Sn(o,b)):o;o=l,i+=2}}function II(e,t){var n,r,i;for((n=t.indexOf("."))>-1&&(t=t.replace(".","")),(r=t.search(/e/i))>0?(n<0&&(n=r),n+=+t.slice(r+1),t=t.substring(0,r)):n<0&&(n=t.length),r=0;t.charCodeAt(r)===48;)++r;for(i=t.length;t.charCodeAt(i-1)===48;)--i;if(t=t.slice(r,i),t){if(i-=r,n=n-r-1,e.e=$h(n/Mn),e.d=[],r=(n+1)%Mn,n<0&&(r+=Mn),r<i){for(r&&e.d.push(+t.slice(0,r)),i-=Mn;r<i;)e.d.push(+t.slice(r,r+=Mn));t=t.slice(r),r=Mn-t.length}else r-=i;for(;r--;)t+="0";if(e.d.push(+t),Kn&&(e.e>$y||e.e<-$y))throw Error(V6+n)}else e.s=0,e.e=0,e.d=[0];return e}function Sn(e,t,n){var r,i,a,s,o,l,u,c,d=e.d;for(s=1,a=d[0];a>=10;a/=10)s++;if(r=t-s,r<0)r+=Mn,i=t,u=d[c=0];else{if(c=Math.ceil((r+1)/Mn),a=d.length,c>=a)return e;for(u=a=d[c],s=1;a>=10;a/=10)s++;r%=Mn,i=r-Mn+s}if(n!==void 0&&(a=Zc(10,s-i-1),o=u/a%10|0,l=t<0||d[c+1]!==void 0||u%a,l=n<4?(o||l)&&(n==0||n==(e.s<0?3:2)):o>5||o==5&&(n==4||l||n==6&&(r>0?i>0?u/Zc(10,s-i):0:d[c-1])%10&1||n==(e.s<0?8:7))),t<1||!d[0])return l?(a=Fr(e),d.length=1,t=t-a-1,d[0]=Zc(10,(Mn-t%Mn)%Mn),e.e=$h(-t/Mn)||0):(d.length=1,d[0]=e.e=e.s=0),e;if(r==0?(d.length=c,a=1,c--):(d.length=c+1,a=Zc(10,Mn-r),d[c]=i>0?(u/Zc(10,s-i)%Zc(10,i)|0)*a:0),l)for(;;)if(c==0){(d[0]+=a)==ai&&(d[0]=1,++e.e);break}else{if(d[c]+=a,d[c]!=ai)break;d[c--]=0,a=1}for(r=d.length;d[--r]===0;)d.pop();if(Kn&&(e.e>$y||e.e<-$y))throw Error(V6+Fr(e));return e}function c$(e,t){var n,r,i,a,s,o,l,u,c,d,p=e.constructor,f=p.precision;if(!e.s||!t.s)return t.s?t.s=-t.s:t=new p(e),Kn?Sn(t,f):t;if(l=e.d,d=t.d,r=t.e,u=e.e,l=l.slice(),s=u-r,s){for(c=s<0,c?(n=l,s=-s,o=d.length):(n=d,r=u,o=l.length),i=Math.max(Math.ceil(f/Mn),o)+2,s>i&&(s=i,n.length=1),n.reverse(),i=s;i--;)n.push(0);n.reverse()}else{for(i=l.length,o=d.length,c=i<o,c&&(o=i),i=0;i<o;i++)if(l[i]!=d[i]){c=l[i]<d[i];break}s=0}for(c&&(n=l,l=d,d=n,t.s=-t.s),o=l.length,i=d.length-o;i>0;--i)l[o++]=0;for(i=d.length;i>s;){if(l[--i]<d[i]){for(a=i;a&&l[--a]===0;)l[a]=ai-1;--l[a],l[i]+=ai}l[i]-=d[i]}for(;l[--o]===0;)l.pop();for(;l[0]===0;l.shift())--r;return l[0]?(t.d=l,t.e=r,Kn?Sn(t,f):t):new p(0)}function Ld(e,t,n){var r,i=Fr(e),a=Vo(e.d),s=a.length;return t?(n&&(r=n-s)>0?a=a.charAt(0)+"."+a.slice(1)+Iu(r):s>1&&(a=a.charAt(0)+"."+a.slice(1)),a=a+(i<0?"e":"e+")+i):i<0?(a="0."+Iu(-i-1)+a,n&&(r=n-s)>0&&(a+=Iu(r))):i>=s?(a+=Iu(i+1-s),n&&(r=n-i-1)>0&&(a=a+"."+Iu(r))):((r=i+1)<s&&(a=a.slice(0,r)+"."+a.slice(r)),n&&(r=n-s)>0&&(i+1===s&&(a+="."),a+=Iu(r))),e.s<0?"-"+a:a}function OI(e,t){if(e.length>t)return e.length=t,!0}function d$(e){var t,n,r;function i(a){var s=this;if(!(s instanceof i))return new i(a);if(s.constructor=i,a instanceof i){s.s=a.s,s.e=a.e,s.d=(a=a.d)?a.slice():a;return}if(typeof a=="number"){if(a*0!==0)throw Error(yd+a);if(a>0)s.s=1;else if(a<0)a=-a,s.s=-1;else{s.s=0,s.e=0,s.d=[0];return}if(a===~~a&&a<1e7){s.e=0,s.d=[a];return}return II(s,a.toString())}else if(typeof a!="string")throw Error(yd+a);if(a.charCodeAt(0)===45?(a=a.slice(1),s.s=-1):s.s=1,mve.test(a))II(s,a);else throw Error(yd+a)}if(i.prototype=Ge,i.ROUND_UP=0,i.ROUND_DOWN=1,i.ROUND_CEIL=2,i.ROUND_FLOOR=3,i.ROUND_HALF_UP=4,i.ROUND_HALF_DOWN=5,i.ROUND_HALF_EVEN=6,i.ROUND_HALF_CEIL=7,i.ROUND_HALF_FLOOR=8,i.clone=d$,i.config=i.set=gve,e===void 0&&(e={}),e)for(r=["precision","rounding","toExpNeg","toExpPos","LN10"],t=0;t<r.length;)e.hasOwnProperty(n=r[t++])||(e[n]=this[n]);return i.config(e),i}function gve(e){if(!e||typeof e!="object")throw Error(Is+"Object expected");var t,n,r,i=["precision",1,zh,"rounding",0,8,"toExpNeg",-1/0,0,"toExpPos",0,1/0];for(t=0;t<i.length;t+=3)if((r=e[n=i[t]])!==void 0)if($h(r)===r&&r>=i[t+1]&&r<=i[t+2])this[n]=r;else throw Error(yd+n+": "+r);if((r=e[n="LN10"])!==void 0)if(r==Math.LN10)this[n]=new this(r);else throw Error(yd+n+": "+r);return this}var z6=d$(pve);Ya=new z6(1);const mn=z6;var vve=e=>e,f$={},h$=e=>e===f$,LI=e=>function t(){return arguments.length===0||arguments.length===1&&h$(arguments.length<=0?void 0:arguments[0])?t:e(...arguments)},p$=(e,t)=>e===1?t:LI(function(){for(var n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];var a=r.filter(s=>s!==f$).length;return a>=e?t(...r):p$(e-a,LI(function(){for(var s=arguments.length,o=new Array(s),l=0;l<s;l++)o[l]=arguments[l];var u=r.map(c=>h$(c)?o.shift():c);return t(...u,...o)}))}),yve=e=>p$(e.length,e),Y3=(e,t)=>{for(var n=[],r=e;r<t;++r)n[r-e]=r;return n},xve=yve((e,t)=>Array.isArray(t)?t.map(e):Object.keys(t).map(n=>t[n]).map(e)),bve=function(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];if(!n.length)return vve;var i=n.reverse(),a=i[0],s=i.slice(1);return function(){return s.reduce((o,l)=>l(o),a(...arguments))}},X3=e=>Array.isArray(e)?e.reverse():e.split("").reverse().join("");function m$(e){var t;return e===0?t=1:t=Math.floor(new mn(e).abs().log(10).toNumber())+1,t}function g$(e,t,n){for(var r=new mn(e),i=0,a=[];r.lt(t)&&i<1e5;)a.push(r.toNumber()),r=r.add(n),i++;return a}var v$=e=>{var[t,n]=e,[r,i]=[t,n];return t>n&&([r,i]=[n,t]),[r,i]},y$=(e,t,n)=>{if(e.lte(0))return new mn(0);var r=m$(e.toNumber()),i=new mn(10).pow(r),a=e.div(i),s=r!==1?.05:.1,o=new mn(Math.ceil(a.div(s).toNumber())).add(n).mul(s),l=o.mul(i);return t?new mn(l.toNumber()):new mn(Math.ceil(l.toNumber()))},wve=(e,t,n)=>{var r=new mn(1),i=new mn(e);if(!i.isint()&&n){var a=Math.abs(e);a<1?(r=new mn(10).pow(m$(e)-1),i=new mn(Math.floor(i.div(r).toNumber())).mul(r)):a>1&&(i=new mn(Math.floor(e)))}else e===0?i=new mn(Math.floor((t-1)/2)):n||(i=new mn(Math.floor(e)));var s=Math.floor((t-1)/2),o=bve(xve(l=>i.add(new mn(l-s).mul(r)).toNumber()),Y3);return o(0,t)},x$=function(t,n,r,i){var a=arguments.length>4&&arguments[4]!==void 0?arguments[4]:0;if(!Number.isFinite((n-t)/(r-1)))return{step:new mn(0),tickMin:new mn(0),tickMax:new mn(0)};var s=y$(new mn(n).sub(t).div(r-1),i,a),o;t<=0&&n>=0?o=new mn(0):(o=new mn(t).add(n).div(2),o=o.sub(new mn(o).mod(s)));var l=Math.ceil(o.sub(t).div(s).toNumber()),u=Math.ceil(new mn(n).sub(o).div(s).toNumber()),c=l+u+1;return c>r?x$(t,n,r,i,a+1):(c<r&&(u=n>0?u+(r-c):u,l=n>0?l:l+(r-c)),{step:s,tickMin:o.sub(new mn(l).mul(s)),tickMax:o.add(new mn(u).mul(s))})},_ve=function(t){var[n,r]=t,i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:6,a=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0,s=Math.max(i,2),[o,l]=v$([n,r]);if(o===-1/0||l===1/0){var u=l===1/0?[o,...Y3(0,i-1).map(()=>1/0)]:[...Y3(0,i-1).map(()=>-1/0),l];return n>r?X3(u):u}if(o===l)return wve(o,i,a);var{step:c,tickMin:d,tickMax:p}=x$(o,l,s,a,0),f=g$(d,p.add(new mn(.1).mul(c)),c);return n>r?X3(f):f},Sve=function(t,n){var[r,i]=t,a=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0,[s,o]=v$([r,i]);if(s===-1/0||o===1/0)return[r,i];if(s===o)return[s];var l=Math.max(n,2),u=y$(new mn(o).sub(s).div(l-1),a,0),c=[...g$(new mn(s),new mn(o),u),o];return a===!1&&(c=c.map(d=>Math.round(d))),r>i?X3(c):c},b$=e=>e.rootProps.maxBarSize,Ave=e=>e.rootProps.barGap,w$=e=>e.rootProps.barCategoryGap,Pve=e=>e.rootProps.barSize,tg=e=>e.rootProps.stackOffset,_$=e=>e.rootProps.reverseStackOrder,$6=e=>e.options.chartName,U6=e=>e.rootProps.syncId,S$=e=>e.rootProps.syncMethod,W6=e=>e.options.eventEmitter,Si={grid:-100,barBackground:-50,area:100,cursorRectangle:200,bar:300,line:400,axis:500,scatter:600,activeBar:1e3,cursorLine:1100,activeDot:1200,label:2e3},wl={allowDuplicatedCategory:!0,angleAxisId:0,reversed:!1,scale:"auto",tick:!0,type:"category"},Ga={allowDataOverflow:!1,allowDuplicatedCategory:!0,radiusAxisId:0,scale:"auto",tick:!0,tickCount:5,type:"number"},Tx=(e,t)=>{if(!(!e||!t))return e!=null&&e.reversed?[t[1],t[0]]:t},Eve={allowDataOverflow:!1,allowDecimals:!1,allowDuplicatedCategory:!1,dataKey:void 0,domain:void 0,id:wl.angleAxisId,includeHidden:!1,name:void 0,reversed:wl.reversed,scale:wl.scale,tick:wl.tick,tickCount:void 0,ticks:void 0,type:wl.type,unit:void 0},Nve={allowDataOverflow:Ga.allowDataOverflow,allowDecimals:!1,allowDuplicatedCategory:Ga.allowDuplicatedCategory,dataKey:void 0,domain:void 0,id:Ga.radiusAxisId,includeHidden:!1,name:void 0,reversed:!1,scale:Ga.scale,tick:Ga.tick,tickCount:Ga.tickCount,ticks:void 0,type:Ga.type,unit:void 0},kve={allowDataOverflow:!1,allowDecimals:!1,allowDuplicatedCategory:wl.allowDuplicatedCategory,dataKey:void 0,domain:void 0,id:wl.angleAxisId,includeHidden:!1,name:void 0,reversed:!1,scale:wl.scale,tick:wl.tick,tickCount:void 0,ticks:void 0,type:"number",unit:void 0},Tve={allowDataOverflow:Ga.allowDataOverflow,allowDecimals:!1,allowDuplicatedCategory:Ga.allowDuplicatedCategory,dataKey:void 0,domain:void 0,id:Ga.radiusAxisId,includeHidden:!1,name:void 0,reversed:!1,scale:Ga.scale,tick:Ga.tick,tickCount:Ga.tickCount,ticks:void 0,type:"category",unit:void 0},q6=(e,t)=>e.polarAxis.angleAxis[t]!=null?e.polarAxis.angleAxis[t]:e.layout.layoutType==="radial"?kve:Eve,H6=(e,t)=>e.polarAxis.radiusAxis[t]!=null?e.polarAxis.radiusAxis[t]:e.layout.layoutType==="radial"?Tve:Nve,Cx=e=>e.polarOptions,K6=Ae([Ql,Zl,Gr],yz),A$=Ae([Cx,K6],(e,t)=>{if(e!=null)return Yi(e.innerRadius,t,0)}),P$=Ae([Cx,K6],(e,t)=>{if(e!=null)return Yi(e.outerRadius,t,t*.8)}),Cve=e=>{if(e==null)return[0,0];var{startAngle:t,endAngle:n}=e;return[t,n]},E$=Ae([Cx],Cve);Ae([q6,E$],Tx);var N$=Ae([K6,A$,P$],(e,t,n)=>{if(!(e==null||t==null||n==null))return[t,n]});Ae([H6,N$],Tx);var k$=Ae([tn,Cx,A$,P$,Ql,Zl],(e,t,n,r,i,a)=>{if(!(e!=="centric"&&e!=="radial"||t==null||n==null||r==null)){var{cx:s,cy:o,startAngle:l,endAngle:u}=t;return{cx:Yi(s,i,i/2),cy:Yi(o,a,a/2),innerRadius:n,outerRadius:r,startAngle:l,endAngle:u,clockWise:!1}}}),Gn=(e,t)=>t,ng=(e,t,n)=>n;function G6(e){return e==null?void 0:e.id}function T$(e,t,n){var{chartData:r=[]}=t,{allowDuplicatedCategory:i,dataKey:a}=n,s=new Map;return e.forEach(o=>{var l,u=(l=o.data)!==null&&l!==void 0?l:r;if(!(u==null||u.length===0)){var c=G6(o);u.forEach((d,p)=>{var f=a==null||i?p:String(Hn(d,a,null)),g=Hn(d,o.dataKey,0),v;s.has(f)?v=s.get(f):v={},Object.assign(v,{[c]:g}),s.set(f,v)})}}),Array.from(s.values())}function jx(e){return e.stackId!=null&&e.dataKey!=null}var Ix=(e,t)=>e===t?!0:e==null||t==null?!1:e[0]===t[0]&&e[1]===t[1];function Ox(e,t){return Array.isArray(e)&&Array.isArray(t)&&e.length===0&&t.length===0?!0:e===t}function jve(e,t){if(e.length===t.length){for(var n=0;n<e.length;n++)if(e[n]!==t[n])return!1;return!0}return!1}var Xr=e=>{var t=tn(e);return t==="horizontal"?"xAxis":t==="vertical"?"yAxis":t==="centric"?"angleAxis":"radiusAxis"},Uh=e=>e.tooltip.settings.axisId;function RI(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function Uy(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?RI(Object(n),!0).forEach(function(r){Ive(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):RI(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function Ive(e,t,n){return(t=Ove(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Ove(e){var t=Lve(e,"string");return typeof t=="symbol"?t:t+""}function Lve(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var Q3=[0,"auto"],ni={allowDataOverflow:!1,allowDecimals:!0,allowDuplicatedCategory:!0,angle:0,dataKey:void 0,domain:void 0,height:30,hide:!0,id:0,includeHidden:!1,interval:"preserveEnd",minTickGap:5,mirror:!1,name:void 0,orientation:"bottom",padding:{left:0,right:0},reversed:!1,scale:"auto",tick:!0,tickCount:5,tickFormatter:void 0,ticks:void 0,type:"category",unit:void 0},C$=(e,t)=>e.cartesianAxis.xAxis[t],eu=(e,t)=>{var n=C$(e,t);return n??ni},ri={allowDataOverflow:!1,allowDecimals:!0,allowDuplicatedCategory:!0,angle:0,dataKey:void 0,domain:Q3,hide:!0,id:0,includeHidden:!1,interval:"preserveEnd",minTickGap:5,mirror:!1,name:void 0,orientation:"left",padding:{top:0,bottom:0},reversed:!1,scale:"auto",tick:!0,tickCount:5,tickFormatter:void 0,ticks:void 0,type:"number",unit:void 0,width:G0},j$=(e,t)=>e.cartesianAxis.yAxis[t],tu=(e,t)=>{var n=j$(e,t);return n??ri},Rve={domain:[0,"auto"],includeHidden:!1,reversed:!1,allowDataOverflow:!1,allowDuplicatedCategory:!1,dataKey:void 0,id:0,name:"",range:[64,64],scale:"auto",type:"number",unit:""},Y6=(e,t)=>{var n=e.cartesianAxis.zAxis[t];return n??Rve},ar=(e,t,n)=>{switch(t){case"xAxis":return eu(e,n);case"yAxis":return tu(e,n);case"zAxis":return Y6(e,n);case"angleAxis":return q6(e,n);case"radiusAxis":return H6(e,n);default:throw new Error("Unexpected axis type: ".concat(t))}},Mve=(e,t,n)=>{switch(t){case"xAxis":return eu(e,n);case"yAxis":return tu(e,n);default:throw new Error("Unexpected axis type: ".concat(t))}},rg=(e,t,n)=>{switch(t){case"xAxis":return eu(e,n);case"yAxis":return tu(e,n);case"angleAxis":return q6(e,n);case"radiusAxis":return H6(e,n);default:throw new Error("Unexpected axis type: ".concat(t))}},I$=e=>e.graphicalItems.cartesianItems.some(t=>t.type==="bar")||e.graphicalItems.polarItems.some(t=>t.type==="radialBar");function X6(e,t){return n=>{switch(e){case"xAxis":return"xAxisId"in n&&n.xAxisId===t;case"yAxis":return"yAxisId"in n&&n.yAxisId===t;case"zAxis":return"zAxisId"in n&&n.zAxisId===t;case"angleAxis":return"angleAxisId"in n&&n.angleAxisId===t;case"radiusAxis":return"radiusAxisId"in n&&n.radiusAxisId===t;default:return!1}}}var Q6=e=>e.graphicalItems.cartesianItems,Dve=Ae([Gn,ng],X6),Z6=(e,t,n)=>e.filter(n).filter(r=>(t==null?void 0:t.includeHidden)===!0?!0:!r.hide),ig=Ae([Q6,ar,Dve],Z6,{memoizeOptions:{resultEqualityCheck:Ox}}),O$=Ae([ig],e=>e.filter(t=>t.type==="area"||t.type==="bar").filter(jx)),L$=e=>e.filter(t=>!("stackId"in t)||t.stackId===void 0),Fve=Ae([ig],L$),J6=e=>e.map(t=>t.data).filter(Boolean).flat(1),Bve=Ae([ig],J6,{memoizeOptions:{resultEqualityCheck:Ox}}),eP=(e,t)=>{var{chartData:n=[],dataStartIndex:r,dataEndIndex:i}=t;return e.length>0?e:n.slice(r,i+1)},tP=Ae([Bve,B6],eP),nP=(e,t,n)=>(t==null?void 0:t.dataKey)!=null?e.map(r=>({value:Hn(r,t.dataKey)})):n.length>0?n.map(r=>r.dataKey).flatMap(r=>e.map(i=>({value:Hn(i,r)}))):e.map(r=>({value:r})),Lx=Ae([tP,ar,ig],nP);function R$(e,t){switch(e){case"xAxis":return t.direction==="x";case"yAxis":return t.direction==="y";default:return!1}}function sv(e){if(Qo(e)||e instanceof Date){var t=Number(e);if(Cr(t))return t}}function MI(e){if(Array.isArray(e)){var t=[sv(e[0]),sv(e[1])];return fc(t)?t:void 0}var n=sv(e);if(n!=null)return[n,n]}function Kl(e){return e.map(sv).filter(Qde)}function Vve(e,t,n){return!n||typeof t!="number"||uo(t)?[]:n.length?Kl(n.flatMap(r=>{var i=Hn(e,r.dataKey),a,s;if(Array.isArray(i)?[a,s]=i:a=s=i,!(!Cr(a)||!Cr(s)))return[t-a,t+s]})):[]}var Qr=e=>{var t=Xr(e),n=Uh(e);return rg(e,t,n)},ag=Ae([Qr],e=>e==null?void 0:e.dataKey),zve=Ae([O$,B6,Qr],T$),M$=(e,t,n,r)=>{var i={},a=t.reduce((s,o)=>(o.stackId==null||(s[o.stackId]==null&&(s[o.stackId]=[]),s[o.stackId].push(o)),s),i);return Object.fromEntries(Object.entries(a).map(s=>{var[o,l]=s,u=r?[...l].reverse():l,c=u.map(G6);return[o,{stackedData:mpe(e,c,n),graphicalItems:u}]}))},Z3=Ae([zve,O$,tg,_$],M$),D$=(e,t,n,r)=>{var{dataStartIndex:i,dataEndIndex:a}=t;if(r==null&&n!=="zAxis"){var s=bpe(e,i,a);if(!(s!=null&&s[0]===0&&s[1]===0))return s}},$ve=Ae([ar],e=>e.allowDataOverflow),rP=e=>{var t;if(e==null||!("domain"in e))return Q3;if(e.domain!=null)return e.domain;if(e.ticks!=null){if(e.type==="number"){var n=Kl(e.ticks);return[Math.min(...n),Math.max(...n)]}if(e.type==="category")return e.ticks.map(String)}return(t=e==null?void 0:e.domain)!==null&&t!==void 0?t:Q3},iP=Ae([ar],rP),aP=Ae([iP,$ve],s$),Uve=Ae([Z3,Sc,Gn,aP],D$,{memoizeOptions:{resultEqualityCheck:Ix}}),Rx=e=>e.errorBars,Wve=(e,t,n)=>e.flatMap(r=>t[r.id]).filter(Boolean).filter(r=>R$(n,r)),Wy=function(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];var i=n.filter(Boolean);if(i.length!==0){var a=i.flat(),s=Math.min(...a),o=Math.max(...a);return[s,o]}},sP=(e,t,n,r,i)=>{var a,s;if(n.length>0&&e.forEach(o=>{n.forEach(l=>{var u,c,d=(u=r[l.id])===null||u===void 0?void 0:u.filter(x=>R$(i,x)),p=Hn(o,(c=t.dataKey)!==null&&c!==void 0?c:l.dataKey),f=Vve(o,p,d);if(f.length>=2){var g=Math.min(...f),v=Math.max(...f);(a==null||g<a)&&(a=g),(s==null||v>s)&&(s=v)}var b=MI(p);b!=null&&(a=a==null?b[0]:Math.min(a,b[0]),s=s==null?b[1]:Math.max(s,b[1]))})}),(t==null?void 0:t.dataKey)!=null&&e.forEach(o=>{var l=MI(Hn(o,t.dataKey));l!=null&&(a=a==null?l[0]:Math.min(a,l[0]),s=s==null?l[1]:Math.max(s,l[1]))}),Cr(a)&&Cr(s))return[a,s]},qve=Ae([tP,ar,Fve,Rx,Gn],sP,{memoizeOptions:{resultEqualityCheck:Ix}});function Hve(e){var{value:t}=e;if(Qo(t)||t instanceof Date)return t}var Kve=(e,t,n)=>{var r=e.map(Hve).filter(i=>i!=null);return n&&(t.dataKey==null||t.allowDuplicatedCategory&&LB(r))?Pz(0,e.length):t.allowDuplicatedCategory?r:Array.from(new Set(r))},F$=e=>e.referenceElements.dots,Wh=(e,t,n)=>e.filter(r=>r.ifOverflow==="extendDomain").filter(r=>t==="xAxis"?r.xAxisId===n:r.yAxisId===n),Gve=Ae([F$,Gn,ng],Wh),B$=e=>e.referenceElements.areas,Yve=Ae([B$,Gn,ng],Wh),V$=e=>e.referenceElements.lines,Xve=Ae([V$,Gn,ng],Wh),z$=(e,t)=>{var n=Kl(e.map(r=>t==="xAxis"?r.x:r.y));if(n.length!==0)return[Math.min(...n),Math.max(...n)]},Qve=Ae(Gve,Gn,z$),$$=(e,t)=>{var n=Kl(e.flatMap(r=>[t==="xAxis"?r.x1:r.y1,t==="xAxis"?r.x2:r.y2]));if(n.length!==0)return[Math.min(...n),Math.max(...n)]},Zve=Ae([Yve,Gn],$$);function Jve(e){var t;if(e.x!=null)return Kl([e.x]);var n=(t=e.segment)===null||t===void 0?void 0:t.map(r=>r.x);return n==null||n.length===0?[]:Kl(n)}function eye(e){var t;if(e.y!=null)return Kl([e.y]);var n=(t=e.segment)===null||t===void 0?void 0:t.map(r=>r.y);return n==null||n.length===0?[]:Kl(n)}var U$=(e,t)=>{var n=e.flatMap(r=>t==="xAxis"?Jve(r):eye(r));if(n.length!==0)return[Math.min(...n),Math.max(...n)]},tye=Ae([Xve,Gn],U$),nye=Ae(Qve,tye,Zve,(e,t,n)=>Wy(e,n,t)),oP=(e,t,n,r,i,a,s,o)=>{if(n!=null)return n;var l=s==="vertical"&&o==="xAxis"||s==="horizontal"&&o==="yAxis",u=l?Wy(r,a,i):Wy(a,i);return hve(t,u,e.allowDataOverflow)},rye=Ae([ar,iP,aP,Uve,qve,nye,tn,Gn],oP,{memoizeOptions:{resultEqualityCheck:Ix}}),iye=[0,1],lP=(e,t,n,r,i,a,s)=>{if(!((e==null||n==null||n.length===0)&&s===void 0)){var{dataKey:o,type:l}=e,u=Kd(t,a);if(u&&o==null){var c;return Pz(0,(c=n==null?void 0:n.length)!==null&&c!==void 0?c:0)}return l==="category"?Kve(r,e,u):i==="expand"?iye:s}},uP=Ae([ar,tn,tP,Lx,tg,Gn,rye],lP),W$=(e,t,n,r,i)=>{if(e!=null){var{scale:a,type:s}=e;if(a==="auto")return t==="radial"&&i==="radiusAxis"?"band":t==="radial"&&i==="angleAxis"?"linear":s==="category"&&r&&(r.indexOf("LineChart")>=0||r.indexOf("AreaChart")>=0||r.indexOf("ComposedChart")>=0&&!n)?"point":s==="category"?"band":"linear";if(typeof a=="string"){var o="scale".concat($0(a));return o in Yp?o:"point"}}},qh=Ae([ar,tn,I$,$6,Gn],W$);function aye(e){if(e!=null){if(e in Yp)return Yp[e]();var t="scale".concat($0(e));if(t in Yp)return Yp[t]()}}function cP(e,t,n,r){if(!(n==null||r==null)){if(typeof e.scale=="function")return e.scale.copy().domain(n).range(r);var i=aye(t);if(i!=null){var a=i.domain(n).range(r);return cpe(a),a}}}var dP=(e,t,n)=>{var r=rP(t);if(!(n!=="auto"&&n!=="linear")){if(t!=null&&t.tickCount&&Array.isArray(r)&&(r[0]==="auto"||r[1]==="auto")&&fc(e))return _ve(e,t.tickCount,t.allowDecimals);if(t!=null&&t.tickCount&&t.type==="number"&&fc(e))return Sve(e,t.tickCount,t.allowDecimals)}},fP=Ae([uP,rg,qh],dP),hP=(e,t,n,r)=>{if(r!=="angleAxis"&&(e==null?void 0:e.type)==="number"&&fc(t)&&Array.isArray(n)&&n.length>0){var i=t[0],a=n[0],s=t[1],o=n[n.length-1];return[Math.min(i,a),Math.max(s,o)]}return t},sye=Ae([ar,uP,fP,Gn],hP),oye=Ae(Lx,ar,(e,t)=>{if(!(!t||t.type!=="number")){var n=1/0,r=Array.from(Kl(e.map(o=>o.value))).sort((o,l)=>o-l);if(r.length<2)return 1/0;var i=r[r.length-1]-r[0];if(i===0)return 1/0;for(var a=0;a<r.length-1;a++){var s=r[a+1]-r[a];n=Math.min(n,s)}return n/i}}),q$=Ae(oye,tn,w$,Gr,(e,t,n,r)=>r,(e,t,n,r,i)=>{if(!Cr(e))return 0;var a=t==="vertical"?r.height:r.width;if(i==="gap")return e*a/2;if(i==="no-gap"){var s=Yi(n,e*a),o=e*a/2;return o-s-(o-s)/a*s}return 0}),lye=(e,t)=>{var n=eu(e,t);return n==null||typeof n.padding!="string"?0:q$(e,"xAxis",t,n.padding)},uye=(e,t)=>{var n=tu(e,t);return n==null||typeof n.padding!="string"?0:q$(e,"yAxis",t,n.padding)},cye=Ae(eu,lye,(e,t)=>{var n,r;if(e==null)return{left:0,right:0};var{padding:i}=e;return typeof i=="string"?{left:t,right:t}:{left:((n=i.left)!==null&&n!==void 0?n:0)+t,right:((r=i.right)!==null&&r!==void 0?r:0)+t}}),dye=Ae(tu,uye,(e,t)=>{var n,r;if(e==null)return{top:0,bottom:0};var{padding:i}=e;return typeof i=="string"?{top:t,bottom:t}:{top:((n=i.top)!==null&&n!==void 0?n:0)+t,bottom:((r=i.bottom)!==null&&r!==void 0?r:0)+t}}),fye=Ae([Gr,cye,px,hx,(e,t,n)=>n],(e,t,n,r,i)=>{var{padding:a}=r;return i?[a.left,n.width-a.right]:[e.left+t.left,e.left+e.width-t.right]}),hye=Ae([Gr,tn,dye,px,hx,(e,t,n)=>n],(e,t,n,r,i,a)=>{var{padding:s}=i;return a?[r.height-s.bottom,s.top]:t==="horizontal"?[e.top+e.height-n.bottom,e.top+n.top]:[e.top+n.top,e.top+e.height-n.bottom]}),sg=(e,t,n,r)=>{var i;switch(t){case"xAxis":return fye(e,n,r);case"yAxis":return hye(e,n,r);case"zAxis":return(i=Y6(e,n))===null||i===void 0?void 0:i.range;case"angleAxis":return E$(e);case"radiusAxis":return N$(e,n);default:return}},H$=Ae([ar,sg],Tx),Hh=Ae([ar,qh,sye,H$],cP);Ae([ig,Rx,Gn],Wve);function K$(e,t){return e.id<t.id?-1:e.id>t.id?1:0}var Mx=(e,t)=>t,Dx=(e,t,n)=>n,pye=Ae(dx,Mx,Dx,(e,t,n)=>e.filter(r=>r.orientation===t).filter(r=>r.mirror===n).sort(K$)),mye=Ae(fx,Mx,Dx,(e,t,n)=>e.filter(r=>r.orientation===t).filter(r=>r.mirror===n).sort(K$)),G$=(e,t)=>({width:e.width,height:t.height}),gye=(e,t)=>{var n=typeof t.width=="number"?t.width:G0;return{width:n,height:e.height}},Y$=Ae(Gr,eu,G$),vye=(e,t,n)=>{switch(t){case"top":return e.top;case"bottom":return n-e.bottom;default:return 0}},yye=(e,t,n)=>{switch(t){case"left":return e.left;case"right":return n-e.right;default:return 0}},xye=Ae(Zl,Gr,pye,Mx,Dx,(e,t,n,r,i)=>{var a={},s;return n.forEach(o=>{var l=G$(t,o);s==null&&(s=vye(t,r,e));var u=r==="top"&&!i||r==="bottom"&&i;a[o.id]=s-Number(u)*l.height,s+=(u?-1:1)*l.height}),a}),bye=Ae(Ql,Gr,mye,Mx,Dx,(e,t,n,r,i)=>{var a={},s;return n.forEach(o=>{var l=gye(t,o);s==null&&(s=yye(t,r,e));var u=r==="left"&&!i||r==="right"&&i;a[o.id]=s-Number(u)*l.width,s+=(u?-1:1)*l.width}),a}),wye=(e,t)=>{var n=eu(e,t);if(n!=null)return xye(e,n.orientation,n.mirror)},_ye=Ae([Gr,eu,wye,(e,t)=>t],(e,t,n,r)=>{if(t!=null){var i=n==null?void 0:n[r];return i==null?{x:e.left,y:0}:{x:e.left,y:i}}}),Sye=(e,t)=>{var n=tu(e,t);if(n!=null)return bye(e,n.orientation,n.mirror)},Aye=Ae([Gr,tu,Sye,(e,t)=>t],(e,t,n,r)=>{if(t!=null){var i=n==null?void 0:n[r];return i==null?{x:0,y:e.top}:{x:i,y:e.top}}}),X$=Ae(Gr,tu,(e,t)=>{var n=typeof t.width=="number"?t.width:G0;return{width:n,height:e.height}}),DI=(e,t,n)=>{switch(t){case"xAxis":return Y$(e,n).width;case"yAxis":return X$(e,n).height;default:return}},Q$=(e,t,n,r)=>{if(n!=null){var{allowDuplicatedCategory:i,type:a,dataKey:s}=n,o=Kd(e,r),l=t.map(u=>u.value);if(s&&o&&a==="category"&&i&&LB(l))return l}},pP=Ae([tn,Lx,ar,Gn],Q$),Z$=(e,t,n,r)=>{if(!(n==null||n.dataKey==null)){var{type:i,scale:a}=n,s=Kd(e,r);if(s&&(i==="number"||a!=="auto"))return t.map(o=>o.value)}},mP=Ae([tn,Lx,rg,Gn],Z$),FI=Ae([tn,Mve,qh,Hh,pP,mP,sg,fP,Gn],(e,t,n,r,i,a,s,o,l)=>{if(t!=null){var u=Kd(e,l);return{angle:t.angle,interval:t.interval,minTickGap:t.minTickGap,orientation:t.orientation,tick:t.tick,tickCount:t.tickCount,tickFormatter:t.tickFormatter,ticks:t.ticks,type:t.type,unit:t.unit,axisType:l,categoricalDomain:a,duplicateDomain:i,isCategorical:u,niceTicks:o,range:s,realScaleType:n,scale:r}}}),Pye=(e,t,n,r,i,a,s,o,l)=>{if(!(t==null||r==null)){var u=Kd(e,l),{type:c,ticks:d,tickCount:p}=t,f=n==="scaleBand"&&typeof r.bandwidth=="function"?r.bandwidth()/2:2,g=c==="category"&&r.bandwidth?r.bandwidth()/f:0;g=l==="angleAxis"&&a!=null&&a.length>=2?li(a[0]-a[1])*2*g:g;var v=d||i;if(v){var b=v.map((x,w)=>{var A=s?s.indexOf(x):x;return{index:w,coordinate:r(A)+g,value:x,offset:g}});return b.filter(x=>Cr(x.coordinate))}return u&&o?o.map((x,w)=>({coordinate:r(x)+g,value:x,index:w,offset:g})).filter(x=>Cr(x.coordinate)):r.ticks?r.ticks(p).map(x=>({coordinate:r(x)+g,value:x,offset:g})):r.domain().map((x,w)=>({coordinate:r(x)+g,value:s?s[x]:x,index:w,offset:g}))}},J$=Ae([tn,rg,qh,Hh,fP,sg,pP,mP,Gn],Pye),Eye=(e,t,n,r,i,a,s)=>{if(!(t==null||n==null||r==null||r[0]===r[1])){var o=Kd(e,s),{tickCount:l}=t,u=0;return u=s==="angleAxis"&&(r==null?void 0:r.length)>=2?li(r[0]-r[1])*2*u:u,o&&a?a.map((c,d)=>({coordinate:n(c)+u,value:c,index:d,offset:u})):n.ticks?n.ticks(l).map(c=>({coordinate:n(c)+u,value:c,offset:u})):n.domain().map((c,d)=>({coordinate:n(c)+u,value:i?i[c]:c,index:d,offset:u}))}},Ah=Ae([tn,rg,Hh,sg,pP,mP,Gn],Eye),Ph=Ae(ar,Hh,(e,t)=>{if(!(e==null||t==null))return Uy(Uy({},e),{},{scale:t})}),Nye=Ae([ar,qh,uP,H$],cP);Ae((e,t,n)=>Y6(e,n),Nye,(e,t)=>{if(!(e==null||t==null))return Uy(Uy({},e),{},{scale:t})});var kye=Ae([tn,dx,fx],(e,t,n)=>{switch(e){case"horizontal":return t.some(r=>r.reversed)?"right-to-left":"left-to-right";case"vertical":return n.some(r=>r.reversed)?"bottom-to-top":"top-to-bottom";case"centric":case"radial":return"left-to-right";default:return}}),eU=e=>e.options.defaultTooltipEventType,tU=e=>e.options.validateTooltipEventTypes;function nU(e,t,n){if(e==null)return t;var r=e?"axis":"item";return n==null?t:n.includes(r)?r:t}function gP(e,t){var n=eU(e),r=tU(e);return nU(t,n,r)}function Tye(e){return Ze(t=>gP(t,e))}var rU=(e,t)=>{var n,r=Number(t);if(!(uo(r)||t==null))return r>=0?e==null||(n=e[r])===null||n===void 0?void 0:n.value:void 0},Cye=e=>e.tooltip.settings,Du={active:!1,index:null,dataKey:void 0,graphicalItemId:void 0,coordinate:void 0},jye={itemInteraction:{click:Du,hover:Du},axisInteraction:{click:Du,hover:Du},keyboardInteraction:Du,syncInteraction:{active:!1,index:null,dataKey:void 0,label:void 0,coordinate:void 0,sourceViewBox:void 0,graphicalItemId:void 0},tooltipItemPayloads:[],settings:{shared:void 0,trigger:"hover",axisId:0,active:!1,defaultIndex:void 0}},iU=Ca({name:"tooltip",initialState:jye,reducers:{addTooltipEntrySettings:{reducer(e,t){e.tooltipItemPayloads.push(t.payload)},prepare:Wn()},replaceTooltipEntrySettings:{reducer(e,t){var{prev:n,next:r}=t.payload,i=ro(e).tooltipItemPayloads.indexOf(n);i>-1&&(e.tooltipItemPayloads[i]=r)},prepare:Wn()},removeTooltipEntrySettings:{reducer(e,t){var n=ro(e).tooltipItemPayloads.indexOf(t.payload);n>-1&&e.tooltipItemPayloads.splice(n,1)},prepare:Wn()},setTooltipSettingsState(e,t){e.settings=t.payload},setActiveMouseOverItemIndex(e,t){e.syncInteraction.active=!1,e.keyboardInteraction.active=!1,e.itemInteraction.hover.active=!0,e.itemInteraction.hover.index=t.payload.activeIndex,e.itemInteraction.hover.dataKey=t.payload.activeDataKey,e.itemInteraction.hover.graphicalItemId=t.payload.activeGraphicalItemId,e.itemInteraction.hover.coordinate=t.payload.activeCoordinate},mouseLeaveChart(e){e.itemInteraction.hover.active=!1,e.axisInteraction.hover.active=!1},mouseLeaveItem(e){e.itemInteraction.hover.active=!1},setActiveClickItemIndex(e,t){e.syncInteraction.active=!1,e.itemInteraction.click.active=!0,e.keyboardInteraction.active=!1,e.itemInteraction.click.index=t.payload.activeIndex,e.itemInteraction.click.dataKey=t.payload.activeDataKey,e.itemInteraction.click.graphicalItemId=t.payload.activeGraphicalItemId,e.itemInteraction.click.coordinate=t.payload.activeCoordinate},setMouseOverAxisIndex(e,t){e.syncInteraction.active=!1,e.axisInteraction.hover.active=!0,e.keyboardInteraction.active=!1,e.axisInteraction.hover.index=t.payload.activeIndex,e.axisInteraction.hover.dataKey=t.payload.activeDataKey,e.axisInteraction.hover.coordinate=t.payload.activeCoordinate},setMouseClickAxisIndex(e,t){e.syncInteraction.active=!1,e.keyboardInteraction.active=!1,e.axisInteraction.click.active=!0,e.axisInteraction.click.index=t.payload.activeIndex,e.axisInteraction.click.dataKey=t.payload.activeDataKey,e.axisInteraction.click.coordinate=t.payload.activeCoordinate},setSyncInteraction(e,t){e.syncInteraction=t.payload},setKeyboardInteraction(e,t){e.keyboardInteraction.active=t.payload.active,e.keyboardInteraction.index=t.payload.activeIndex,e.keyboardInteraction.coordinate=t.payload.activeCoordinate,e.keyboardInteraction.dataKey=t.payload.activeDataKey}}}),{addTooltipEntrySettings:Iye,replaceTooltipEntrySettings:Oye,removeTooltipEntrySettings:Lye,setTooltipSettingsState:Rye,setActiveMouseOverItemIndex:aU,mouseLeaveItem:Mye,mouseLeaveChart:sU,setActiveClickItemIndex:Dye,setMouseOverAxisIndex:oU,setMouseClickAxisIndex:Fye,setSyncInteraction:J3,setKeyboardInteraction:e_}=iU.actions,Bye=iU.reducer;function BI(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function P1(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?BI(Object(n),!0).forEach(function(r){Vye(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):BI(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function Vye(e,t,n){return(t=zye(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function zye(e){var t=$ye(e,"string");return typeof t=="symbol"?t:t+""}function $ye(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Uye(e,t,n){return t==="axis"?n==="click"?e.axisInteraction.click:e.axisInteraction.hover:n==="click"?e.itemInteraction.click:e.itemInteraction.hover}function Wye(e){return e.index!=null}var lU=(e,t,n,r)=>{if(t==null)return Du;var i=Uye(e,t,n);if(i==null)return Du;if(i.active)return i;if(e.keyboardInteraction.active)return e.keyboardInteraction;if(e.syncInteraction.active&&e.syncInteraction.index!=null)return e.syncInteraction;var a=e.settings.active===!0;if(Wye(i)){if(a)return P1(P1({},i),{},{active:!0})}else if(r!=null)return{active:!0,coordinate:void 0,dataKey:void 0,index:r,graphicalItemId:void 0};return P1(P1({},Du),{},{coordinate:i.coordinate})};function qye(e){if(typeof e=="number")return Number.isFinite(e)?e:void 0;if(e instanceof Date){var t=e.valueOf();return Number.isFinite(t)?t:void 0}var n=Number(e);return Number.isFinite(n)?n:void 0}function Hye(e,t){var n=qye(e),r=t[0],i=t[1];if(n===void 0)return!1;var a=Math.min(r,i),s=Math.max(r,i);return n>=a&&n<=s}function Kye(e,t,n){if(n==null||t==null)return!0;var r=Hn(e,t);return r==null||!fc(n)?!0:Hye(r,n)}var vP=(e,t,n,r)=>{var i=e==null?void 0:e.index;if(i==null)return null;var a=Number(i);if(!Cr(a))return i;var s=0,o=1/0;t.length>0&&(o=t.length-1);var l=Math.max(s,Math.min(a,o)),u=t[l];return u==null||Kye(u,n,r)?String(l):null},uU=(e,t,n,r,i,a,s,o)=>{if(!(a==null||o==null)){var l=s[0],u=l==null?void 0:o(l.positions,a);if(u!=null)return u;var c=i==null?void 0:i[Number(a)];if(c)switch(n){case"horizontal":return{x:c.coordinate,y:(r.top+t)/2};default:return{x:(r.left+e)/2,y:c.coordinate}}}},cU=(e,t,n,r)=>{if(t==="axis")return e.tooltipItemPayloads;if(e.tooltipItemPayloads.length===0)return[];var i;return n==="hover"?i=e.itemInteraction.hover.dataKey:i=e.itemInteraction.click.dataKey,i==null&&r!=null?[e.tooltipItemPayloads[0]]:e.tooltipItemPayloads.filter(a=>{var s;return((s=a.settings)===null||s===void 0?void 0:s.dataKey)===i})},og=e=>e.options.tooltipPayloadSearcher,Kh=e=>e.tooltip;function VI(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function zI(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?VI(Object(n),!0).forEach(function(r){Gye(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):VI(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function Gye(e,t,n){return(t=Yye(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Yye(e){var t=Xye(e,"string");return typeof t=="symbol"?t:t+""}function Xye(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Qye(e,t){return e??t}var dU=(e,t,n,r,i,a,s)=>{if(!(t==null||a==null)){var{chartData:o,computedData:l,dataStartIndex:u,dataEndIndex:c}=n,d=[];return e.reduce((p,f)=>{var g,{dataDefinedOnItem:v,settings:b}=f,x=Qye(v,o),w=Array.isArray(x)?$V(x,u,c):x,A=(g=b==null?void 0:b.dataKey)!==null&&g!==void 0?g:r,P=b==null?void 0:b.nameKey,O;if(r&&Array.isArray(w)&&!Array.isArray(w[0])&&s==="axis"?O=Xde(w,r,i):O=a(w,t,l,P),Array.isArray(O))O.forEach(T=>{var k=zI(zI({},b),{},{name:T.name,unit:T.unit,color:void 0,fill:void 0});p.push(mj({tooltipEntrySettings:k,dataKey:T.dataKey,payload:T.payload,value:Hn(T.payload,T.dataKey),name:T.name}))});else{var D;p.push(mj({tooltipEntrySettings:b,dataKey:A,payload:O,value:Hn(O,A),name:(D=Hn(O,P))!==null&&D!==void 0?D:b==null?void 0:b.name}))}return p},d)}},yP=Ae([Qr,tn,I$,$6,Xr],W$),Zye=Ae([e=>e.graphicalItems.cartesianItems,e=>e.graphicalItems.polarItems],(e,t)=>[...e,...t]),Jye=Ae([Xr,Uh],X6),lg=Ae([Zye,Qr,Jye],Z6,{memoizeOptions:{resultEqualityCheck:Ox}}),e2e=Ae([lg],e=>e.filter(jx)),t2e=Ae([lg],J6,{memoizeOptions:{resultEqualityCheck:Ox}}),Gh=Ae([t2e,Sc],eP),n2e=Ae([e2e,Sc,Qr],T$),xP=Ae([Gh,Qr,lg],nP),fU=Ae([Qr],rP),r2e=Ae([Qr],e=>e.allowDataOverflow),hU=Ae([fU,r2e],s$),i2e=Ae([lg],e=>e.filter(jx)),a2e=Ae([n2e,i2e,tg,_$],M$),s2e=Ae([a2e,Sc,Xr,hU],D$),o2e=Ae([lg],L$),l2e=Ae([Gh,Qr,o2e,Rx,Xr],sP,{memoizeOptions:{resultEqualityCheck:Ix}}),u2e=Ae([F$,Xr,Uh],Wh),c2e=Ae([u2e,Xr],z$),d2e=Ae([B$,Xr,Uh],Wh),f2e=Ae([d2e,Xr],$$),h2e=Ae([V$,Xr,Uh],Wh),p2e=Ae([h2e,Xr],U$),m2e=Ae([c2e,p2e,f2e],Wy),g2e=Ae([Qr,fU,hU,s2e,l2e,m2e,tn,Xr],oP),ug=Ae([Qr,tn,Gh,xP,tg,Xr,g2e],lP),v2e=Ae([ug,Qr,yP],dP),y2e=Ae([Qr,ug,v2e,Xr],hP),pU=e=>{var t=Xr(e),n=Uh(e),r=!1;return sg(e,t,n,r)},mU=Ae([Qr,pU],Tx),gU=Ae([Qr,yP,y2e,mU],cP),x2e=Ae([tn,xP,Qr,Xr],Q$),b2e=Ae([tn,xP,Qr,Xr],Z$),w2e=(e,t,n,r,i,a,s,o)=>{if(t){var{type:l}=t,u=Kd(e,o);if(r){var c=n==="scaleBand"&&r.bandwidth?r.bandwidth()/2:2,d=l==="category"&&r.bandwidth?r.bandwidth()/c:0;return d=o==="angleAxis"&&i!=null&&(i==null?void 0:i.length)>=2?li(i[0]-i[1])*2*d:d,u&&s?s.map((p,f)=>({coordinate:r(p)+d,value:p,index:f,offset:d})):r.domain().map((p,f)=>({coordinate:r(p)+d,value:a?a[p]:p,index:f,offset:d}))}}},nu=Ae([tn,Qr,yP,gU,pU,x2e,b2e,Xr],w2e),bP=Ae([eU,tU,Cye],(e,t,n)=>nU(n.shared,e,t)),vU=e=>e.tooltip.settings.trigger,wP=e=>e.tooltip.settings.defaultIndex,cg=Ae([Kh,bP,vU,wP],lU),Rd=Ae([cg,Gh,ag,ug],vP),yU=Ae([nu,Rd],rU),_P=Ae([cg],e=>{if(e)return e.dataKey}),_2e=Ae([cg],e=>{if(e)return e.graphicalItemId}),xU=Ae([Kh,bP,vU,wP],cU),S2e=Ae([Ql,Zl,tn,Gr,nu,wP,xU,og],uU),A2e=Ae([cg,S2e],(e,t)=>e!=null&&e.coordinate?e.coordinate:t),P2e=Ae([cg],e=>e.active),E2e=Ae([xU,Rd,Sc,ag,yU,og,bP],dU);Ae([E2e],e=>{if(e!=null){var t=e.map(n=>n.payload).filter(n=>n!=null);return Array.from(new Set(t))}});function $I(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function UI(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?$I(Object(n),!0).forEach(function(r){N2e(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):$I(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function N2e(e,t,n){return(t=k2e(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function k2e(e){var t=T2e(e,"string");return typeof t=="symbol"?t:t+""}function T2e(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var C2e=()=>Ze(Qr),j2e=()=>{var e=C2e(),t=Ze(nu),n=Ze(gU);return _y(!e||!n?void 0:UI(UI({},e),{},{scale:n}),t)};function WI(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function lf(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?WI(Object(n),!0).forEach(function(r){I2e(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):WI(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function I2e(e,t,n){return(t=O2e(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function O2e(e){var t=L2e(e,"string");return typeof t=="symbol"?t:t+""}function L2e(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var R2e=(e,t,n,r)=>{var i=t.find(a=>a&&a.index===n);if(i){if(e==="horizontal")return{x:i.coordinate,y:r.chartY};if(e==="vertical")return{x:r.chartX,y:i.coordinate}}return{x:0,y:0}},M2e=(e,t,n,r)=>{var i=t.find(u=>u&&u.index===n);if(i){if(e==="centric"){var a=i.coordinate,{radius:s}=r;return lf(lf(lf({},r),Dr(r.cx,r.cy,s,a)),{},{angle:a,radius:s})}var o=i.coordinate,{angle:l}=r;return lf(lf(lf({},r),Dr(r.cx,r.cy,o,l)),{},{angle:l,radius:o})}return{angle:0,clockWise:!1,cx:0,cy:0,endAngle:0,innerRadius:0,outerRadius:0,radius:0,startAngle:0,x:0,y:0}};function D2e(e,t){var{chartX:n,chartY:r}=e;return n>=t.left&&n<=t.left+t.width&&r>=t.top&&r<=t.top+t.height}var bU=(e,t,n,r,i)=>{var a,s=-1,o=(a=t==null?void 0:t.length)!==null&&a!==void 0?a:0;if(o<=1||e==null)return 0;if(r==="angleAxis"&&i!=null&&Math.abs(Math.abs(i[1]-i[0])-360)<=1e-6)for(var l=0;l<o;l++){var u=l>0?n[l-1].coordinate:n[o-1].coordinate,c=n[l].coordinate,d=l>=o-1?n[0].coordinate:n[l+1].coordinate,p=void 0;if(li(c-u)!==li(d-c)){var f=[];if(li(d-c)===li(i[1]-i[0])){p=d;var g=c+i[1]-i[0];f[0]=Math.min(g,(g+u)/2),f[1]=Math.max(g,(g+u)/2)}else{p=u;var v=d+i[1]-i[0];f[0]=Math.min(c,(v+c)/2),f[1]=Math.max(c,(v+c)/2)}var b=[Math.min(c,(p+c)/2),Math.max(c,(p+c)/2)];if(e>b[0]&&e<=b[1]||e>=f[0]&&e<=f[1]){({index:s}=n[l]);break}}else{var x=Math.min(u,d),w=Math.max(u,d);if(e>(x+c)/2&&e<=(w+c)/2){({index:s}=n[l]);break}}}else if(t){for(var A=0;A<o;A++)if(A===0&&e<=(t[A].coordinate+t[A+1].coordinate)/2||A>0&&A<o-1&&e>(t[A].coordinate+t[A-1].coordinate)/2&&e<=(t[A].coordinate+t[A+1].coordinate)/2||A===o-1&&e>(t[A].coordinate+t[A-1].coordinate)/2){({index:s}=t[A]);break}}return s},F2e=()=>Ze($6),SP=(e,t)=>t,wU=(e,t,n)=>n,AP=(e,t,n,r)=>r,B2e=Ae(nu,e=>tx(e,t=>t.coordinate)),PP=Ae([Kh,SP,wU,AP],lU),EP=Ae([PP,Gh,ag,ug],vP),V2e=(e,t,n)=>{if(t!=null){var r=Kh(e);return t==="axis"?n==="hover"?r.axisInteraction.hover.dataKey:r.axisInteraction.click.dataKey:n==="hover"?r.itemInteraction.hover.dataKey:r.itemInteraction.click.dataKey}},_U=Ae([Kh,SP,wU,AP],cU),qy=Ae([Ql,Zl,tn,Gr,nu,AP,_U,og],uU),z2e=Ae([PP,qy],(e,t)=>{var n;return(n=e.coordinate)!==null&&n!==void 0?n:t}),SU=Ae([nu,EP],rU),$2e=Ae([_U,EP,Sc,ag,SU,og,SP],dU),U2e=Ae([PP,EP],(e,t)=>({isActive:e.active&&t!=null,activeIndex:t})),W2e=(e,t,n,r,i,a,s)=>{if(!(!e||!n||!r||!i)&&D2e(e,s)){var o=wpe(e,t),l=bU(o,a,i,n,r),u=R2e(t,i,l,e);return{activeIndex:String(l),activeCoordinate:u}}},q2e=(e,t,n,r,i,a,s)=>{if(!(!e||!r||!i||!a||!n)){var o=O0e(e,n);if(o){var l=_pe(o,t),u=bU(l,s,a,r,i),c=M2e(t,a,u,o);return{activeIndex:String(u),activeCoordinate:c}}}},H2e=(e,t,n,r,i,a,s,o)=>{if(!(!e||!t||!r||!i||!a))return t==="horizontal"||t==="vertical"?W2e(e,t,r,i,a,s,o):q2e(e,t,n,r,i,a,s)},K2e=Ae(e=>e.zIndex.zIndexMap,(e,t)=>t,(e,t,n)=>n,(e,t,n)=>{if(t!=null){var r=e[t];if(r!=null)return n?r.panoramaElementId:r.elementId}}),G2e=Ae(e=>e.zIndex.zIndexMap,e=>{var t=Object.keys(e).map(r=>parseInt(r,10)).concat(Object.values(Si)),n=Array.from(new Set(t));return n.sort((r,i)=>r-i)},{memoizeOptions:{resultEqualityCheck:jve}});function qI(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function HI(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?qI(Object(n),!0).forEach(function(r){Y2e(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):qI(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function Y2e(e,t,n){return(t=X2e(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function X2e(e){var t=Q2e(e,"string");return typeof t=="symbol"?t:t+""}function Q2e(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var Z2e={},J2e={zIndexMap:Object.values(Si).reduce((e,t)=>HI(HI({},e),{},{[t]:{elementId:void 0,panoramaElementId:void 0,consumers:0}}),Z2e)},exe=new Set(Object.values(Si));function txe(e){return exe.has(e)}var AU=Ca({name:"zIndex",initialState:J2e,reducers:{registerZIndexPortal:{reducer:(e,t)=>{var{zIndex:n}=t.payload;e.zIndexMap[n]?e.zIndexMap[n].consumers+=1:e.zIndexMap[n]={consumers:1,elementId:void 0,panoramaElementId:void 0}},prepare:Wn()},unregisterZIndexPortal:{reducer:(e,t)=>{var{zIndex:n}=t.payload;e.zIndexMap[n]&&(e.zIndexMap[n].consumers-=1,e.zIndexMap[n].consumers<=0&&!txe(n)&&delete e.zIndexMap[n])},prepare:Wn()},registerZIndexPortalId:{reducer:(e,t)=>{var{zIndex:n,elementId:r,isPanorama:i}=t.payload;e.zIndexMap[n]?i?e.zIndexMap[n].panoramaElementId=r:e.zIndexMap[n].elementId=r:e.zIndexMap[n]={consumers:0,elementId:i?void 0:r,panoramaElementId:i?r:void 0}},prepare:Wn()},unregisterZIndexPortalId:{reducer:(e,t)=>{var{zIndex:n}=t.payload;e.zIndexMap[n]&&(t.payload.isPanorama?e.zIndexMap[n].panoramaElementId=void 0:e.zIndexMap[n].elementId=void 0)},prepare:Wn()}}}),{registerZIndexPortal:nxe,unregisterZIndexPortal:rxe,registerZIndexPortalId:ixe,unregisterZIndexPortalId:axe}=AU.actions,sxe=AU.reducer;function go(e){var{zIndex:t,children:n}=e,r=Ype(),i=r&&t!==void 0&&t!==0,a=ja(),s=jn();S.useLayoutEffect(()=>i?(s(nxe({zIndex:t})),()=>{s(rxe({zIndex:t}))}):U0,[s,t,i]);var o=Ze(u=>K2e(u,t,a));if(!i)return n;if(!o)return null;var l=document.getElementById(o);return l?x2.createPortal(n,l):null}function t_(){return t_=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},t_.apply(null,arguments)}function KI(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function E1(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?KI(Object(n),!0).forEach(function(r){oxe(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):KI(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function oxe(e,t,n){return(t=lxe(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function lxe(e){var t=uxe(e,"string");return typeof t=="symbol"?t:t+""}function uxe(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function cxe(e){var{cursor:t,cursorComp:n,cursorProps:r}=e;return S.isValidElement(t)?S.cloneElement(t,r):S.createElement(n,r)}function dxe(e){var t,{coordinate:n,payload:r,index:i,offset:a,tooltipAxisBandSize:s,layout:o,cursor:l,tooltipEventType:u,chartName:c}=e,d=n,p=r,f=i;if(!l||!d||c!=="ScatterChart"&&u!=="axis")return null;var g,v,b;if(c==="ScatterChart")g=d,v=Gme,b=Si.cursorLine;else if(c==="BarChart")g=Yme(o,d,a,s),v=vz,b=Si.cursorRectangle;else if(o==="radial"&&MB(d)){var{cx:x,cy:w,radius:A,startAngle:P,endAngle:O}=xz(d);g={cx:x,cy:w,startAngle:P,endAngle:O,innerRadius:A,outerRadius:A},v=wz,b=Si.cursorLine}else g={points:D0e(o,d,a)},v=p6,b=Si.cursorLine;var D=typeof l=="object"&&"className"in l?l.className:void 0,T=E1(E1(E1(E1({stroke:"#ccc",pointerEvents:"none"},a),g),t0(l)),{},{payload:p,payloadIndex:f,className:yn("recharts-tooltip-cursor",D)});return S.createElement(go,{zIndex:(t=e.zIndex)!==null&&t!==void 0?t:b},S.createElement(cxe,{cursor:l,cursorComp:v,cursorProps:T}))}function fxe(e){var t=j2e(),n=tz(),r=gx(),i=F2e();return t==null||n==null||r==null||i==null?null:S.createElement(dxe,t_({},e,{offset:n,layout:r,tooltipAxisBandSize:t,chartName:i}))}var PU=S.createContext(null),hxe=()=>S.useContext(PU),EU={exports:{}};(function(e){var t=Object.prototype.hasOwnProperty,n="~";function r(){}Object.create&&(r.prototype=Object.create(null),new r().__proto__||(n=!1));function i(l,u,c){this.fn=l,this.context=u,this.once=c||!1}function a(l,u,c,d,p){if(typeof c!="function")throw new TypeError("The listener must be a function");var f=new i(c,d||l,p),g=n?n+u:u;return l._events[g]?l._events[g].fn?l._events[g]=[l._events[g],f]:l._events[g].push(f):(l._events[g]=f,l._eventsCount++),l}function s(l,u){--l._eventsCount===0?l._events=new r:delete l._events[u]}function o(){this._events=new r,this._eventsCount=0}o.prototype.eventNames=function(){var u=[],c,d;if(this._eventsCount===0)return u;for(d in c=this._events)t.call(c,d)&&u.push(n?d.slice(1):d);return Object.getOwnPropertySymbols?u.concat(Object.getOwnPropertySymbols(c)):u},o.prototype.listeners=function(u){var c=n?n+u:u,d=this._events[c];if(!d)return[];if(d.fn)return[d.fn];for(var p=0,f=d.length,g=new Array(f);p<f;p++)g[p]=d[p].fn;return g},o.prototype.listenerCount=function(u){var c=n?n+u:u,d=this._events[c];return d?d.fn?1:d.length:0},o.prototype.emit=function(u,c,d,p,f,g){var v=n?n+u:u;if(!this._events[v])return!1;var b=this._events[v],x=arguments.length,w,A;if(b.fn){switch(b.once&&this.removeListener(u,b.fn,void 0,!0),x){case 1:return b.fn.call(b.context),!0;case 2:return b.fn.call(b.context,c),!0;case 3:return b.fn.call(b.context,c,d),!0;case 4:return b.fn.call(b.context,c,d,p),!0;case 5:return b.fn.call(b.context,c,d,p,f),!0;case 6:return b.fn.call(b.context,c,d,p,f,g),!0}for(A=1,w=new Array(x-1);A<x;A++)w[A-1]=arguments[A];b.fn.apply(b.context,w)}else{var P=b.length,O;for(A=0;A<P;A++)switch(b[A].once&&this.removeListener(u,b[A].fn,void 0,!0),x){case 1:b[A].fn.call(b[A].context);break;case 2:b[A].fn.call(b[A].context,c);break;case 3:b[A].fn.call(b[A].context,c,d);break;case 4:b[A].fn.call(b[A].context,c,d,p);break;default:if(!w)for(O=1,w=new Array(x-1);O<x;O++)w[O-1]=arguments[O];b[A].fn.apply(b[A].context,w)}}return!0},o.prototype.on=function(u,c,d){return a(this,u,c,d,!1)},o.prototype.once=function(u,c,d){return a(this,u,c,d,!0)},o.prototype.removeListener=function(u,c,d,p){var f=n?n+u:u;if(!this._events[f])return this;if(!c)return s(this,f),this;var g=this._events[f];if(g.fn)g.fn===c&&(!p||g.once)&&(!d||g.context===d)&&s(this,f);else{for(var v=0,b=[],x=g.length;v<x;v++)(g[v].fn!==c||p&&!g[v].once||d&&g[v].context!==d)&&b.push(g[v]);b.length?this._events[f]=b.length===1?b[0]:b:s(this,f)}return this},o.prototype.removeAllListeners=function(u){var c;return u?(c=n?n+u:u,this._events[c]&&s(this,c)):(this._events=new r,this._eventsCount=0),this},o.prototype.off=o.prototype.removeListener,o.prototype.addListener=o.prototype.on,o.prefixed=n,o.EventEmitter=o,e.exports=o})(EU);var pxe=EU.exports;const mxe=Yl(pxe);var m0=new mxe,n_="recharts.syncEvent.tooltip",GI="recharts.syncEvent.brush";function NU(e,t){if(t){var n=Number.parseInt(t,10);if(!uo(n))return e==null?void 0:e[n]}}var gxe={chartName:"",tooltipPayloadSearcher:void 0,eventEmitter:void 0,defaultTooltipEventType:"axis"},kU=Ca({name:"options",initialState:gxe,reducers:{createEventEmitter:e=>{e.eventEmitter==null&&(e.eventEmitter=Symbol("rechartsEventEmitter"))}}}),vxe=kU.reducer,{createEventEmitter:yxe}=kU.actions;function xxe(e){return e.tooltip.syncInteraction}var bxe={chartData:void 0,computedData:void 0,dataStartIndex:0,dataEndIndex:0},TU=Ca({name:"chartData",initialState:bxe,reducers:{setChartData(e,t){if(e.chartData=t.payload,t.payload==null){e.dataStartIndex=0,e.dataEndIndex=0;return}t.payload.length>0&&e.dataEndIndex!==t.payload.length-1&&(e.dataEndIndex=t.payload.length-1)},setComputedData(e,t){e.computedData=t.payload},setDataStartEndIndexes(e,t){var{startIndex:n,endIndex:r}=t.payload;n!=null&&(e.dataStartIndex=n),r!=null&&(e.dataEndIndex=r)}}}),{setChartData:YI,setDataStartEndIndexes:wxe,setComputedData:NAe}=TU.actions,_xe=TU.reducer,Sxe=["x","y"];function XI(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function uf(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?XI(Object(n),!0).forEach(function(r){Axe(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):XI(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function Axe(e,t,n){return(t=Pxe(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Pxe(e){var t=Exe(e,"string");return typeof t=="symbol"?t:t+""}function Exe(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Nxe(e,t){if(e==null)return{};var n,r,i=kxe(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)===-1&&{}.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function kxe(e,t){if(e==null)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.indexOf(r)!==-1)continue;n[r]=e[r]}return n}function Txe(){var e=Ze(U6),t=Ze(W6),n=jn(),r=Ze(S$),i=Ze(nu),a=gx(),s=mx(),o=Ze(l=>l.rootProps.className);S.useEffect(()=>{if(e==null)return U0;var l=(u,c,d)=>{if(t!==d&&e===u){if(r==="index"){var p;if(s&&c!==null&&c!==void 0&&(p=c.payload)!==null&&p!==void 0&&p.coordinate&&c.payload.sourceViewBox){var f=c.payload.coordinate,{x:g,y:v}=f,b=Nxe(f,Sxe),{x,y:w,width:A,height:P}=c.payload.sourceViewBox,O=uf(uf({},b),{},{x:s.x+(A?(g-x)/A:0)*s.width,y:s.y+(P?(v-w)/P:0)*s.height});n(uf(uf({},c),{},{payload:uf(uf({},c.payload),{},{coordinate:O})}))}else n(c);return}if(i!=null){var D;if(typeof r=="function"){var T={activeTooltipIndex:c.payload.index==null?void 0:Number(c.payload.index),isTooltipActive:c.payload.active,activeIndex:c.payload.index==null?void 0:Number(c.payload.index),activeLabel:c.payload.label,activeDataKey:c.payload.dataKey,activeCoordinate:c.payload.coordinate},k=r(i,T);D=i[k]}else r==="value"&&(D=i.find(ae=>String(ae.value)===c.payload.label));var{coordinate:I}=c.payload;if(D==null||c.payload.active===!1||I==null||s==null){n(J3({active:!1,coordinate:void 0,dataKey:void 0,index:null,label:void 0,sourceViewBox:void 0,graphicalItemId:void 0}));return}var{x:M,y:N}=I,C=Math.min(M,s.x+s.width),R=Math.min(N,s.y+s.height),W={x:a==="horizontal"?D.coordinate:C,y:a==="horizontal"?R:D.coordinate},Y=J3({active:c.payload.active,coordinate:W,dataKey:c.payload.dataKey,index:String(D.index),label:c.payload.label,sourceViewBox:c.payload.sourceViewBox,graphicalItemId:c.payload.graphicalItemId});n(Y)}}};return m0.on(n_,l),()=>{m0.off(n_,l)}},[o,n,t,e,r,i,a,s])}function Cxe(){var e=Ze(U6),t=Ze(W6),n=jn();S.useEffect(()=>{if(e==null)return U0;var r=(i,a,s)=>{t!==s&&e===i&&n(wxe(a))};return m0.on(GI,r),()=>{m0.off(GI,r)}},[n,t,e])}function jxe(){var e=jn();S.useEffect(()=>{e(yxe())},[e]),Txe(),Cxe()}function Ixe(e,t,n,r,i,a){var s=Ze(f=>V2e(f,e,t)),o=Ze(W6),l=Ze(U6),u=Ze(S$),c=Ze(xxe),d=c==null?void 0:c.active,p=mx();S.useEffect(()=>{if(!d&&l!=null&&o!=null){var f=J3({active:a,coordinate:n,dataKey:s,index:i,label:typeof r=="number"?String(r):r,sourceViewBox:p,graphicalItemId:void 0});m0.emit(n_,l,f,o)}},[d,n,s,i,r,o,l,u,a,p])}function QI(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function ZI(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?QI(Object(n),!0).forEach(function(r){Oxe(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):QI(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function Oxe(e,t,n){return(t=Lxe(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Lxe(e){var t=Rxe(e,"string");return typeof t=="symbol"?t:t+""}function Rxe(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Mxe(e){return e.dataKey}function Dxe(e,t){return S.isValidElement(e)?S.cloneElement(e,t):typeof e=="function"?S.createElement(e,t):S.createElement(Nme,t)}var JI=[],Fxe={allowEscapeViewBox:{x:!1,y:!1},animationDuration:400,animationEasing:"ease",axisId:0,contentStyle:{},cursor:!0,filterNull:!0,isAnimationActive:"auto",itemSorter:"name",itemStyle:{},labelStyle:{},offset:10,reverseDirection:{x:!1,y:!1},separator:" : ",trigger:"hover",useTranslate3d:!1,wrapperStyle:{}};function Hy(e){var t,n,r=di(e,Fxe),{active:i,allowEscapeViewBox:a,animationDuration:s,animationEasing:o,content:l,filterNull:u,isAnimationActive:c,offset:d,payloadUniqBy:p,position:f,reverseDirection:g,useTranslate3d:v,wrapperStyle:b,cursor:x,shared:w,trigger:A,defaultIndex:P,portal:O,axisId:D}=r,T=jn(),k=typeof P=="number"?String(P):P;S.useEffect(()=>{T(Rye({shared:w,trigger:A,axisId:D,active:i,defaultIndex:k}))},[T,w,A,D,i,k]);var I=mx(),M=fz(),N=Tye(w),{activeIndex:C,isActive:R}=(t=Ze(ge=>U2e(ge,N,A,k)))!==null&&t!==void 0?t:{},W=Ze(ge=>$2e(ge,N,A,k)),Y=Ze(ge=>SU(ge,N,A,k)),ae=Ze(ge=>z2e(ge,N,A,k)),ie=W,H=hxe(),se=(n=i??R)!==null&&n!==void 0?n:!1,[ye,be]=fV([ie,se]),$=N==="axis"?Y:void 0;Ixe(N,A,ae,$,C,se);var X=O??H;if(X==null||I==null||N==null)return null;var re=ie??JI;se||(re=JI),u&&re.length&&(re=eV(re.filter(ge=>ge.value!=null&&(ge.hide!==!0||r.includeHidden)),p,Mxe));var oe=re.length>0,de=S.createElement(Lme,{allowEscapeViewBox:a,animationDuration:s,animationEasing:o,isAnimationActive:c,active:se,coordinate:ae,hasPayload:oe,offset:d,position:f,reverseDirection:g,useTranslate3d:v,viewBox:I,wrapperStyle:b,lastBoundingBox:ye,innerRef:be,hasPortalFromProps:!!O},Dxe(l,ZI(ZI({},r),{},{payload:re,label:$,active:se,activeIndex:C,coordinate:ae,accessibilityLayer:M})));return S.createElement(S.Fragment,null,x2.createPortal(de,X),se&&S.createElement(fxe,{cursor:x,tooltipEventType:N,coordinate:ae,payload:re,index:C}))}var Md=e=>null;Md.displayName="Cell";function Bxe(e,t,n){return(t=Vxe(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Vxe(e){var t=zxe(e,"string");return typeof t=="symbol"?t:t+""}function zxe(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}class $xe{constructor(t){Bxe(this,"cache",new Map),this.maxSize=t}get(t){var n=this.cache.get(t);return n!==void 0&&(this.cache.delete(t),this.cache.set(t,n)),n}set(t,n){if(this.cache.has(t))this.cache.delete(t);else if(this.cache.size>=this.maxSize){var r=this.cache.keys().next().value;r!=null&&this.cache.delete(r)}this.cache.set(t,n)}clear(){this.cache.clear()}size(){return this.cache.size}}function eO(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function Uxe(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?eO(Object(n),!0).forEach(function(r){Wxe(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):eO(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function Wxe(e,t,n){return(t=qxe(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function qxe(e){var t=Hxe(e,"string");return typeof t=="symbol"?t:t+""}function Hxe(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var Kxe={cacheSize:2e3,enableCache:!0},CU=Uxe({},Kxe),tO=new $xe(CU.cacheSize),Gxe={position:"absolute",top:"-20000px",left:0,padding:0,margin:0,border:"none",whiteSpace:"pre"},nO="recharts_measurement_span";function Yxe(e,t){var n=t.fontSize||"",r=t.fontFamily||"",i=t.fontWeight||"",a=t.fontStyle||"",s=t.letterSpacing||"",o=t.textTransform||"";return"".concat(e,"|").concat(n,"|").concat(r,"|").concat(i,"|").concat(a,"|").concat(s,"|").concat(o)}var rO=(e,t)=>{try{var n=document.getElementById(nO);n||(n=document.createElement("span"),n.setAttribute("id",nO),n.setAttribute("aria-hidden","true"),document.body.appendChild(n)),Object.assign(n.style,Gxe,t),n.textContent="".concat(e);var r=n.getBoundingClientRect();return{width:r.width,height:r.height}}catch{return{width:0,height:0}}},vm=function(t){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(t==null||X0.isSsr)return{width:0,height:0};if(!CU.enableCache)return rO(t,n);var r=Yxe(t,n),i=tO.get(r);if(i)return i;var a=rO(t,n);return tO.set(r,a),a},iO=/(-?\d+(?:\.\d+)?[a-zA-Z%]*)([*/])(-?\d+(?:\.\d+)?[a-zA-Z%]*)/,aO=/(-?\d+(?:\.\d+)?[a-zA-Z%]*)([+-])(-?\d+(?:\.\d+)?[a-zA-Z%]*)/,Xxe=/^px|cm|vh|vw|em|rem|%|mm|in|pt|pc|ex|ch|vmin|vmax|Q$/,Qxe=/(-?\d+(?:\.\d+)?)([a-zA-Z%]+)?/,jU={cm:96/2.54,mm:96/25.4,pt:96/72,pc:96/6,in:96,Q:96/(2.54*40),px:1},Zxe=Object.keys(jU),Mf="NaN";function Jxe(e,t){return e*jU[t]}class ba{static parse(t){var n,[,r,i]=(n=Qxe.exec(t))!==null&&n!==void 0?n:[];return new ba(parseFloat(r),i??"")}constructor(t,n){this.num=t,this.unit=n,this.num=t,this.unit=n,uo(t)&&(this.unit=""),n!==""&&!Xxe.test(n)&&(this.num=NaN,this.unit=""),Zxe.includes(n)&&(this.num=Jxe(t,n),this.unit="px")}add(t){return this.unit!==t.unit?new ba(NaN,""):new ba(this.num+t.num,this.unit)}subtract(t){return this.unit!==t.unit?new ba(NaN,""):new ba(this.num-t.num,this.unit)}multiply(t){return this.unit!==""&&t.unit!==""&&this.unit!==t.unit?new ba(NaN,""):new ba(this.num*t.num,this.unit||t.unit)}divide(t){return this.unit!==""&&t.unit!==""&&this.unit!==t.unit?new ba(NaN,""):new ba(this.num/t.num,this.unit||t.unit)}toString(){return"".concat(this.num).concat(this.unit)}isNaN(){return uo(this.num)}}function IU(e){if(e.includes(Mf))return Mf;for(var t=e;t.includes("*")||t.includes("/");){var n,[,r,i,a]=(n=iO.exec(t))!==null&&n!==void 0?n:[],s=ba.parse(r??""),o=ba.parse(a??""),l=i==="*"?s.multiply(o):s.divide(o);if(l.isNaN())return Mf;t=t.replace(iO,l.toString())}for(;t.includes("+")||/.-\d+(?:\.\d+)?/.test(t);){var u,[,c,d,p]=(u=aO.exec(t))!==null&&u!==void 0?u:[],f=ba.parse(c??""),g=ba.parse(p??""),v=d==="+"?f.add(g):f.subtract(g);if(v.isNaN())return Mf;t=t.replace(aO,v.toString())}return t}var sO=/\(([^()]*)\)/;function ebe(e){for(var t=e,n;(n=sO.exec(t))!=null;){var[,r]=n;t=t.replace(sO,IU(r))}return t}function tbe(e){var t=e.replace(/\s+/g,"");return t=ebe(t),t=IU(t),t}function nbe(e){try{return tbe(e)}catch{return Mf}}function n5(e){var t=nbe(e.slice(5,-1));return t===Mf?"":t}var rbe=["x","y","lineHeight","capHeight","fill","scaleToFit","textAnchor","verticalAnchor"],ibe=["dx","dy","angle","className","breakAll"];function r_(){return r_=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},r_.apply(null,arguments)}function oO(e,t){if(e==null)return{};var n,r,i=abe(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)===-1&&{}.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function abe(e,t){if(e==null)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.indexOf(r)!==-1)continue;n[r]=e[r]}return n}var OU=/[ \f\n\r\t\v\u2028\u2029]+/,LU=e=>{var{children:t,breakAll:n,style:r}=e;try{var i=[];ci(t)||(n?i=t.toString().split(""):i=t.toString().split(OU));var a=i.map(o=>({word:o,width:vm(o,r).width})),s=n?0:vm("",r).width;return{wordsWithComputedWidth:a,spaceWidth:s}}catch{return null}};function sbe(e){return e==="start"||e==="middle"||e==="end"||e==="inherit"}var RU=(e,t,n,r)=>e.reduce((i,a)=>{var{word:s,width:o}=a,l=i[i.length-1];if(l&&o!=null&&(t==null||r||l.width+o+n<Number(t)))l.words.push(s),l.width+=o+n;else{var u={words:[s],width:o};i.push(u)}return i},[]),MU=e=>e.reduce((t,n)=>t.width>n.width?t:n),obe="",lO=(e,t,n,r,i,a,s,o)=>{var l=e.slice(0,t),u=LU({breakAll:n,style:r,children:l+obe});if(!u)return[!1,[]];var c=RU(u.wordsWithComputedWidth,a,s,o),d=c.length>i||MU(c).width>Number(a);return[d,c]},lbe=(e,t,n,r,i)=>{var{maxLines:a,children:s,style:o,breakAll:l}=e,u=at(a),c=String(s),d=RU(t,r,n,i);if(!u||i)return d;var p=d.length>a||MU(d).width>Number(r);if(!p)return d;for(var f=0,g=c.length-1,v=0,b;f<=g&&v<=c.length-1;){var x=Math.floor((f+g)/2),w=x-1,[A,P]=lO(c,w,l,o,a,r,n,i),[O]=lO(c,x,l,o,a,r,n,i);if(!A&&!O&&(f=x+1),A&&O&&(g=x-1),!A&&O){b=P;break}v++}return b||d},uO=e=>{var t=ci(e)?[]:e.toString().split(OU);return[{words:t,width:void 0}]},ube=e=>{var{width:t,scaleToFit:n,children:r,style:i,breakAll:a,maxLines:s}=e;if((t||n)&&!X0.isSsr){var o,l,u=LU({breakAll:a,children:r,style:i});if(u){var{wordsWithComputedWidth:c,spaceWidth:d}=u;o=c,l=d}else return uO(r);return lbe({breakAll:a,children:r,maxLines:s,style:i},o,l,t,!!n)}return uO(r)},DU="#808080",cbe={angle:0,breakAll:!1,capHeight:"0.71em",fill:DU,lineHeight:"1em",scaleToFit:!1,textAnchor:"start",verticalAnchor:"end",x:0,y:0},Fx=S.forwardRef((e,t)=>{var n=di(e,cbe),{x:r,y:i,lineHeight:a,capHeight:s,fill:o,scaleToFit:l,textAnchor:u,verticalAnchor:c}=n,d=oO(n,rbe),p=S.useMemo(()=>ube({breakAll:d.breakAll,children:d.children,maxLines:d.maxLines,scaleToFit:l,style:d.style,width:d.width}),[d.breakAll,d.children,d.maxLines,l,d.style,d.width]),{dx:f,dy:g,angle:v,className:b,breakAll:x}=d,w=oO(d,ibe);if(!Qo(r)||!Qo(i)||p.length===0)return null;var A=Number(r)+(at(f)?f:0),P=Number(i)+(at(g)?g:0);if(!Cr(A)||!Cr(P))return null;var O;switch(c){case"start":O=n5("calc(".concat(s,")"));break;case"middle":O=n5("calc(".concat((p.length-1)/2," * -").concat(a," + (").concat(s," / 2))"));break;default:O=n5("calc(".concat(p.length-1," * -").concat(a,")"));break}var D=[];if(l){var T=p[0].width,{width:k}=d;D.push("scale(".concat(at(k)&&at(T)?k/T:1,")"))}return v&&D.push("rotate(".concat(v,", ").concat(A,", ").concat(P,")")),D.length&&(w.transform=D.join(" ")),S.createElement("text",r_({},Cs(w),{ref:t,x:A,y:P,className:yn("recharts-text",b),textAnchor:u,fill:o.includes("url")?DU:o}),p.map((I,M)=>{var N=I.words.join(x?"":" ");return S.createElement("tspan",{x:A,dy:M===0?O:a,key:"".concat(N,"-").concat(M)},N)}))});Fx.displayName="Text";var dbe=["labelRef"];function fbe(e,t){if(e==null)return{};var n,r,i=hbe(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)===-1&&{}.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function hbe(e,t){if(e==null)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.indexOf(r)!==-1)continue;n[r]=e[r]}return n}function cO(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function Sr(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?cO(Object(n),!0).forEach(function(r){pbe(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):cO(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function pbe(e,t,n){return(t=mbe(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function mbe(e){var t=gbe(e,"string");return typeof t=="symbol"?t:t+""}function gbe(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function _l(){return _l=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},_l.apply(null,arguments)}var FU=S.createContext(null),vbe=e=>{var{x:t,y:n,upperWidth:r,lowerWidth:i,width:a,height:s,children:o}=e,l=S.useMemo(()=>({x:t,y:n,upperWidth:r,lowerWidth:i,width:a,height:s}),[t,n,r,i,a,s]);return S.createElement(FU.Provider,{value:l},o)},BU=()=>{var e=S.useContext(FU),t=mx();return e||ez(t)},ybe=S.createContext(null),xbe=()=>{var e=S.useContext(ybe),t=Ze(k$);return e||t},bbe=e=>{var{value:t,formatter:n}=e,r=ci(e.children)?t:e.children;return typeof n=="function"?n(r):r},NP=e=>e!=null&&typeof e=="function",wbe=(e,t)=>{var n=li(t-e),r=Math.min(Math.abs(t-e),360);return n*r},_be=(e,t,n,r,i)=>{var{offset:a,className:s}=e,{cx:o,cy:l,innerRadius:u,outerRadius:c,startAngle:d,endAngle:p,clockWise:f}=i,g=(u+c)/2,v=wbe(d,p),b=v>=0?1:-1,x,w;switch(t){case"insideStart":x=d+b*a,w=f;break;case"insideEnd":x=p-b*a,w=!f;break;case"end":x=p+b*a,w=f;break;default:throw new Error("Unsupported position ".concat(t))}w=v<=0?w:!w;var A=Dr(o,l,g,x),P=Dr(o,l,g,x+(w?1:-1)*359),O="M".concat(A.x,",").concat(A.y,`
    A`).concat(g,",").concat(g,",0,1,").concat(w?0:1,`,
    `).concat(P.x,",").concat(P.y),D=ci(e.id)?n0("recharts-radial-line-"):e.id;return S.createElement("text",_l({},r,{dominantBaseline:"central",className:yn("recharts-radial-bar-label",s)}),S.createElement("defs",null,S.createElement("path",{id:D,d:O})),S.createElement("textPath",{xlinkHref:"#".concat(D)},n))},Sbe=(e,t,n)=>{var{cx:r,cy:i,innerRadius:a,outerRadius:s,startAngle:o,endAngle:l}=e,u=(o+l)/2;if(n==="outside"){var{x:c,y:d}=Dr(r,i,s+t,u);return{x:c,y:d,textAnchor:c>=r?"start":"end",verticalAnchor:"middle"}}if(n==="center")return{x:r,y:i,textAnchor:"middle",verticalAnchor:"middle"};if(n==="centerTop")return{x:r,y:i,textAnchor:"middle",verticalAnchor:"start"};if(n==="centerBottom")return{x:r,y:i,textAnchor:"middle",verticalAnchor:"end"};var p=(a+s)/2,{x:f,y:g}=Dr(r,i,p,u);return{x:f,y:g,textAnchor:"middle",verticalAnchor:"middle"}},i_=e=>"cx"in e&&at(e.cx),Abe=(e,t)=>{var{parentViewBox:n,offset:r,position:i}=e,a;n!=null&&!i_(n)&&(a=n);var{x:s,y:o,upperWidth:l,lowerWidth:u,height:c}=t,d=s,p=s+(l-u)/2,f=(d+p)/2,g=(l+u)/2,v=d+l/2,b=c>=0?1:-1,x=b*r,w=b>0?"end":"start",A=b>0?"start":"end",P=l>=0?1:-1,O=P*r,D=P>0?"end":"start",T=P>0?"start":"end";if(i==="top"){var k={x:d+l/2,y:o-x,textAnchor:"middle",verticalAnchor:w};return Sr(Sr({},k),a?{height:Math.max(o-a.y,0),width:l}:{})}if(i==="bottom"){var I={x:p+u/2,y:o+c+x,textAnchor:"middle",verticalAnchor:A};return Sr(Sr({},I),a?{height:Math.max(a.y+a.height-(o+c),0),width:u}:{})}if(i==="left"){var M={x:f-O,y:o+c/2,textAnchor:D,verticalAnchor:"middle"};return Sr(Sr({},M),a?{width:Math.max(M.x-a.x,0),height:c}:{})}if(i==="right"){var N={x:f+g+O,y:o+c/2,textAnchor:T,verticalAnchor:"middle"};return Sr(Sr({},N),a?{width:Math.max(a.x+a.width-N.x,0),height:c}:{})}var C=a?{width:g,height:c}:{};return i==="insideLeft"?Sr({x:f+O,y:o+c/2,textAnchor:T,verticalAnchor:"middle"},C):i==="insideRight"?Sr({x:f+g-O,y:o+c/2,textAnchor:D,verticalAnchor:"middle"},C):i==="insideTop"?Sr({x:d+l/2,y:o+x,textAnchor:"middle",verticalAnchor:A},C):i==="insideBottom"?Sr({x:p+u/2,y:o+c-x,textAnchor:"middle",verticalAnchor:w},C):i==="insideTopLeft"?Sr({x:d+O,y:o+x,textAnchor:T,verticalAnchor:A},C):i==="insideTopRight"?Sr({x:d+l-O,y:o+x,textAnchor:D,verticalAnchor:A},C):i==="insideBottomLeft"?Sr({x:p+O,y:o+c-x,textAnchor:T,verticalAnchor:w},C):i==="insideBottomRight"?Sr({x:p+u-O,y:o+c-x,textAnchor:D,verticalAnchor:w},C):i&&typeof i=="object"&&(at(i.x)||$l(i.x))&&(at(i.y)||$l(i.y))?Sr({x:s+Yi(i.x,g),y:o+Yi(i.y,c),textAnchor:"end",verticalAnchor:"end"},C):Sr({x:v,y:o+c/2,textAnchor:"middle",verticalAnchor:"middle"},C)},Pbe={angle:0,offset:5,zIndex:Si.label,position:"middle",textBreakAll:!1};function Ou(e){var t=di(e,Pbe),{viewBox:n,position:r,value:i,children:a,content:s,className:o="",textBreakAll:l,labelRef:u}=t,c=xbe(),d=BU(),p=r==="center"?d:c??d,f,g,v;if(n==null?f=p:i_(n)?f=n:f=ez(n),!f||ci(i)&&ci(a)&&!S.isValidElement(s)&&typeof s!="function")return null;var b=Sr(Sr({},t),{},{viewBox:f});if(S.isValidElement(s)){var{labelRef:x}=b,w=fbe(b,dbe);return S.cloneElement(s,w)}if(typeof s=="function"){if(g=S.createElement(s,b),S.isValidElement(g))return g}else g=bbe(t);var A=Cs(t);if(i_(f)){if(r==="insideStart"||r==="insideEnd"||r==="end")return _be(t,r,g,A,f);v=Sbe(f,t.offset,t.position)}else v=Abe(t,f);return S.createElement(go,{zIndex:t.zIndex},S.createElement(Fx,_l({ref:u,className:yn("recharts-label",o)},A,v,{textAnchor:sbe(A.textAnchor)?A.textAnchor:v.textAnchor,breakAll:l}),g))}Ou.displayName="Label";var Ebe=(e,t,n)=>{if(!e)return null;var r={viewBox:t,labelRef:n};return e===!0?S.createElement(Ou,_l({key:"label-implicit"},r)):Qo(e)?S.createElement(Ou,_l({key:"label-implicit",value:e},r)):S.isValidElement(e)?e.type===Ou?S.cloneElement(e,Sr({key:"label-implicit"},r)):S.createElement(Ou,_l({key:"label-implicit",content:e},r)):NP(e)?S.createElement(Ou,_l({key:"label-implicit",content:e},r)):e&&typeof e=="object"?S.createElement(Ou,_l({},e,{key:"label-implicit"},r)):null};function Nbe(e){var{label:t,labelRef:n}=e,r=BU();return Ebe(t,r,n)||null}var VU={},zU={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(n){return n[n.length-1]}e.last=t})(zU);var $U={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(n){return Array.isArray(n)?n:Array.from(n)}e.toArray=t})($U);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=zU,n=$U,r=J2;function i(a){if(r.isArrayLike(a))return t.last(n.toArray(a))}e.last=i})(VU);var kbe=VU.last;const Tbe=Yl(kbe);var Cbe=["valueAccessor"],jbe=["dataKey","clockWise","id","textBreakAll","zIndex"];function Ky(){return Ky=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Ky.apply(null,arguments)}function dO(e,t){if(e==null)return{};var n,r,i=Ibe(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)===-1&&{}.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function Ibe(e,t){if(e==null)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.indexOf(r)!==-1)continue;n[r]=e[r]}return n}var Obe=e=>Array.isArray(e.value)?Tbe(e.value):e.value,UU=S.createContext(void 0),Lbe=UU.Provider,WU=S.createContext(void 0),Rbe=WU.Provider;function Mbe(){return S.useContext(UU)}function Dbe(){return S.useContext(WU)}function ov(e){var{valueAccessor:t=Obe}=e,n=dO(e,Cbe),{dataKey:r,clockWise:i,id:a,textBreakAll:s,zIndex:o}=n,l=dO(n,jbe),u=Mbe(),c=Dbe(),d=u||c;return!d||!d.length?null:S.createElement(go,{zIndex:o??Si.label},S.createElement(ua,{className:"recharts-label-list"},d.map((p,f)=>{var g,v=ci(r)?t(p,f):Hn(p&&p.payload,r),b=ci(a)?{}:{id:"".concat(a,"-").concat(f)};return S.createElement(Ou,Ky({key:"label-".concat(f)},Cs(p),l,b,{fill:(g=n.fill)!==null&&g!==void 0?g:p.fill,parentViewBox:p.parentViewBox,value:v,textBreakAll:s,viewBox:p.viewBox,index:f,zIndex:0}))})))}ov.displayName="LabelList";function qU(e){var{label:t}=e;return t?t===!0?S.createElement(ov,{key:"labelList-implicit"}):S.isValidElement(t)||NP(t)?S.createElement(ov,{key:"labelList-implicit",content:t}):typeof t=="object"?S.createElement(ov,Ky({key:"labelList-implicit"},t,{type:String(t.type)})):null:null}var HU=e=>e.graphicalItems.polarItems,Fbe=Ae([Gn,ng],X6),Bx=Ae([HU,ar,Fbe],Z6),Bbe=Ae([Bx],J6),Vx=Ae([Bbe,F6],eP),Vbe=Ae([Vx,ar,Bx],nP);Ae([Vx,ar,Bx],(e,t,n)=>n.length>0?e.flatMap(r=>n.flatMap(i=>{var a,s=Hn(r,(a=t.dataKey)!==null&&a!==void 0?a:i.dataKey);return{value:s,errorDomain:[]}})).filter(Boolean):(t==null?void 0:t.dataKey)!=null?e.map(r=>({value:Hn(r,t.dataKey),errorDomain:[]})):e.map(r=>({value:r,errorDomain:[]})));var fO=()=>{},zbe=Ae([Vx,ar,Bx,Rx,Gn],sP),$be=Ae([ar,iP,aP,fO,zbe,fO,tn,Gn],oP),KU=Ae([ar,tn,Vx,Vbe,tg,Gn,$be],lP),Ube=Ae([KU,ar,qh],dP);Ae([ar,KU,Ube,Gn],hP);var Wbe={radiusAxis:{},angleAxis:{}},GU=Ca({name:"polarAxis",initialState:Wbe,reducers:{addRadiusAxis(e,t){e.radiusAxis[t.payload.id]=t.payload},removeRadiusAxis(e,t){delete e.radiusAxis[t.payload.id]},addAngleAxis(e,t){e.angleAxis[t.payload.id]=t.payload},removeAngleAxis(e,t){delete e.angleAxis[t.payload.id]}}}),{addRadiusAxis:kAe,removeRadiusAxis:TAe,addAngleAxis:CAe,removeAngleAxis:jAe}=GU.actions,qbe=GU.reducer;function hO(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function pO(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?hO(Object(n),!0).forEach(function(r){Hbe(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):hO(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function Hbe(e,t,n){return(t=Kbe(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Kbe(e){var t=Gbe(e,"string");return typeof t=="symbol"?t:t+""}function Gbe(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var Ybe=(e,t)=>t,kP=Ae([HU,Ybe],(e,t)=>e.filter(n=>n.type==="pie").find(n=>n.id===t)),Xbe=[],TP=(e,t,n)=>(n==null?void 0:n.length)===0?Xbe:n,YU=Ae([F6,kP,TP],(e,t,n)=>{var{chartData:r}=e;if(t!=null){var i;if((t==null?void 0:t.data)!=null&&t.data.length>0?i=t.data:i=r,(!i||!i.length)&&n!=null&&(i=n.map(a=>pO(pO({},t.presentationProps),a.props))),i!=null)return i}}),Qbe=Ae([YU,kP,TP],(e,t,n)=>{if(!(e==null||t==null))return e.map((r,i)=>{var a,s=Hn(r,t.nameKey,t.name),o;return n!=null&&(a=n[i])!==null&&a!==void 0&&(a=a.props)!==null&&a!==void 0&&a.fill?o=n[i].props.fill:typeof r=="object"&&r!=null&&"fill"in r?o=r.fill:o=t.fill,{value:cx(s,t.dataKey),color:o,payload:r,type:t.legendType}})}),Zbe=Ae([YU,kP,TP,Gr],(e,t,n,r)=>{if(!(t==null||e==null))return Jwe({offset:r,pieSettings:t,displayedData:e,cells:n})}),XU={exports:{}},An={};/**
 * @license React
 * react-is.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var CP=Symbol.for("react.transitional.element"),jP=Symbol.for("react.portal"),zx=Symbol.for("react.fragment"),$x=Symbol.for("react.strict_mode"),Ux=Symbol.for("react.profiler"),Wx=Symbol.for("react.consumer"),qx=Symbol.for("react.context"),Hx=Symbol.for("react.forward_ref"),Kx=Symbol.for("react.suspense"),Gx=Symbol.for("react.suspense_list"),Yx=Symbol.for("react.memo"),Xx=Symbol.for("react.lazy"),Jbe=Symbol.for("react.view_transition"),ewe=Symbol.for("react.client.reference");function Rs(e){if(typeof e=="object"&&e!==null){var t=e.$$typeof;switch(t){case CP:switch(e=e.type,e){case zx:case Ux:case $x:case Kx:case Gx:case Jbe:return e;default:switch(e=e&&e.$$typeof,e){case qx:case Hx:case Xx:case Yx:return e;case Wx:return e;default:return t}}case jP:return t}}}An.ContextConsumer=Wx;An.ContextProvider=qx;An.Element=CP;An.ForwardRef=Hx;An.Fragment=zx;An.Lazy=Xx;An.Memo=Yx;An.Portal=jP;An.Profiler=Ux;An.StrictMode=$x;An.Suspense=Kx;An.SuspenseList=Gx;An.isContextConsumer=function(e){return Rs(e)===Wx};An.isContextProvider=function(e){return Rs(e)===qx};An.isElement=function(e){return typeof e=="object"&&e!==null&&e.$$typeof===CP};An.isForwardRef=function(e){return Rs(e)===Hx};An.isFragment=function(e){return Rs(e)===zx};An.isLazy=function(e){return Rs(e)===Xx};An.isMemo=function(e){return Rs(e)===Yx};An.isPortal=function(e){return Rs(e)===jP};An.isProfiler=function(e){return Rs(e)===Ux};An.isStrictMode=function(e){return Rs(e)===$x};An.isSuspense=function(e){return Rs(e)===Kx};An.isSuspenseList=function(e){return Rs(e)===Gx};An.isValidElementType=function(e){return typeof e=="string"||typeof e=="function"||e===zx||e===Ux||e===$x||e===Kx||e===Gx||typeof e=="object"&&e!==null&&(e.$$typeof===Xx||e.$$typeof===Yx||e.$$typeof===qx||e.$$typeof===Wx||e.$$typeof===Hx||e.$$typeof===ewe||e.getModuleId!==void 0)};An.typeOf=Rs;XU.exports=An;var twe=XU.exports,mO=e=>typeof e=="string"?e:e?e.displayName||e.name||"Component":"",gO=null,r5=null,QU=e=>{if(e===gO&&Array.isArray(r5))return r5;var t=[];return S.Children.forEach(e,n=>{ci(n)||(twe.isFragment(n)?t=t.concat(QU(n.props.children)):t.push(n))}),r5=t,gO=e,t};function IP(e,t){var n=[],r=[];return Array.isArray(t)?r=t.map(i=>mO(i)):r=[mO(t)],QU(e).forEach(i=>{var a=jd(i,"type.displayName")||jd(i,"type.name");a&&r.indexOf(a)!==-1&&n.push(i)}),n}var ZU={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(n){var i;if(typeof n!="object"||n==null)return!1;if(Object.getPrototypeOf(n)===null)return!0;if(Object.prototype.toString.call(n)!=="[object Object]"){const a=n[Symbol.toStringTag];return a==null||!((i=Object.getOwnPropertyDescriptor(n,Symbol.toStringTag))!=null&&i.writable)?!1:n.toString()===`[object ${a}]`}let r=n;for(;Object.getPrototypeOf(r)!==null;)r=Object.getPrototypeOf(r);return Object.getPrototypeOf(n)===r}e.isPlainObject=t})(ZU);var nwe=ZU.isPlainObject;const rwe=Yl(nwe);function vO(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function yO(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?vO(Object(n),!0).forEach(function(r){iwe(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):vO(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function iwe(e,t,n){return(t=awe(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function awe(e){var t=swe(e,"string");return typeof t=="symbol"?t:t+""}function swe(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Gy(){return Gy=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Gy.apply(null,arguments)}var xO=(e,t,n,r,i)=>{var a=n-r,s;return s="M ".concat(e,",").concat(t),s+="L ".concat(e+n,",").concat(t),s+="L ".concat(e+n-a/2,",").concat(t+i),s+="L ".concat(e+n-a/2-r,",").concat(t+i),s+="L ".concat(e,",").concat(t," Z"),s},owe={x:0,y:0,upperWidth:0,lowerWidth:0,height:0,isUpdateAnimationActive:!1,animationBegin:0,animationDuration:1500,animationEasing:"ease"},lwe=e=>{var t=di(e,owe),{x:n,y:r,upperWidth:i,lowerWidth:a,height:s,className:o}=t,{animationEasing:l,animationDuration:u,animationBegin:c,isUpdateAnimationActive:d}=t,p=S.useRef(null),[f,g]=S.useState(-1),v=S.useRef(i),b=S.useRef(a),x=S.useRef(s),w=S.useRef(n),A=S.useRef(r),P=_x(e,"trapezoid-");if(S.useEffect(()=>{if(p.current&&p.current.getTotalLength)try{var W=p.current.getTotalLength();W&&g(W)}catch{}},[]),n!==+n||r!==+r||i!==+i||a!==+a||s!==+s||i===0&&a===0||s===0)return null;var O=yn("recharts-trapezoid",o);if(!d)return S.createElement("g",null,S.createElement("path",Gy({},Cs(t),{className:O,d:xO(n,r,i,a,s)})));var D=v.current,T=b.current,k=x.current,I=w.current,M=A.current,N="0px ".concat(f===-1?1:f,"px"),C="".concat(f,"px 0px"),R=hz(["strokeDasharray"],u,l);return S.createElement(wx,{animationId:P,key:P,canBegin:f>0,duration:u,easing:l,isActive:d,begin:c},W=>{var Y=qr(D,i,W),ae=qr(T,a,W),ie=qr(k,s,W),H=qr(I,n,W),se=qr(M,r,W);p.current&&(v.current=Y,b.current=ae,x.current=ie,w.current=H,A.current=se);var ye=W>0?{transition:R,strokeDasharray:C}:{strokeDasharray:N};return S.createElement("path",Gy({},Cs(t),{className:O,d:xO(H,se,Y,ae,ie),ref:p,style:yO(yO({},ye),t.style)}))})},uwe=["option","shapeType","propTransformer","activeClassName"];function cwe(e,t){if(e==null)return{};var n,r,i=dwe(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)===-1&&{}.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function dwe(e,t){if(e==null)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.indexOf(r)!==-1)continue;n[r]=e[r]}return n}function bO(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function Yy(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?bO(Object(n),!0).forEach(function(r){fwe(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):bO(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function fwe(e,t,n){return(t=hwe(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function hwe(e){var t=pwe(e,"string");return typeof t=="symbol"?t:t+""}function pwe(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function mwe(e,t){return Yy(Yy({},t),e)}function gwe(e,t){return e==="symbols"}function wO(e){var{shapeType:t,elementProps:n}=e;switch(t){case"rectangle":return S.createElement(vz,n);case"trapezoid":return S.createElement(lwe,n);case"sector":return S.createElement(wz,n);case"symbols":if(gwe(t))return S.createElement(VA,n);break;case"curve":return S.createElement(p6,n);default:return null}}function vwe(e){return S.isValidElement(e)?e.props:e}function JU(e){var{option:t,shapeType:n,propTransformer:r=mwe,activeClassName:i="recharts-active-shape"}=e,a=cwe(e,uwe),s;if(S.isValidElement(t))s=S.cloneElement(t,Yy(Yy({},a),vwe(t)));else if(typeof t=="function")s=t(a,a.index);else if(rwe(t)&&typeof t!="boolean"){var o=r(t,a);s=S.createElement(wO,{shapeType:n,elementProps:o})}else{var l=a;s=S.createElement(wO,{shapeType:n,elementProps:l})}return a.isActive?S.createElement(ua,{className:i},s):s}var OP=(e,t,n)=>{var r=jn();return(i,a)=>s=>{e==null||e(i,a,s),r(aU({activeIndex:String(a),activeDataKey:t,activeCoordinate:i.tooltipPosition,activeGraphicalItemId:n}))}},LP=e=>{var t=jn();return(n,r)=>i=>{e==null||e(n,r,i),t(Mye())}},RP=(e,t,n)=>{var r=jn();return(i,a)=>s=>{e==null||e(i,a,s),r(Dye({activeIndex:String(a),activeDataKey:t,activeCoordinate:i.tooltipPosition,activeGraphicalItemId:n}))}};function eW(e){var{tooltipEntrySettings:t}=e,n=jn(),r=ja(),i=S.useRef(null);return S.useLayoutEffect(()=>{r||(i.current===null?n(Iye(t)):i.current!==t&&n(Oye({prev:i.current,next:t})),i.current=t)},[t,n,r]),S.useLayoutEffect(()=>()=>{i.current&&(n(Lye(i.current)),i.current=null)},[n]),null}function ywe(e){var{legendPayload:t}=e,n=jn(),r=ja(),i=S.useRef(null);return S.useLayoutEffect(()=>{r||(i.current===null?n(uz(t)):i.current!==t&&n(cz({prev:i.current,next:t})),i.current=t)},[n,r,t]),S.useLayoutEffect(()=>()=>{i.current&&(n(dz(i.current)),i.current=null)},[n]),null}function xwe(e){var{legendPayload:t}=e,n=jn(),r=Ze(tn),i=S.useRef(null);return S.useLayoutEffect(()=>{r!=="centric"&&r!=="radial"||(i.current===null?n(uz(t)):i.current!==t&&n(cz({prev:i.current,next:t})),i.current=t)},[n,r,t]),S.useLayoutEffect(()=>()=>{i.current&&(n(dz(i.current)),i.current=null)},[n]),null}var i5,bwe=()=>{var[e]=S.useState(()=>n0("uid-"));return e},wwe=(i5=uL.useId)!==null&&i5!==void 0?i5:bwe;function tW(e,t){var n=wwe();return t||(e?"".concat(e,"-").concat(n):n)}var _we=S.createContext(void 0),nW=e=>{var{id:t,type:n,children:r}=e,i=tW("recharts-".concat(n),t);return S.createElement(_we.Provider,{value:i},r(i))},Swe={cartesianItems:[],polarItems:[]},rW=Ca({name:"graphicalItems",initialState:Swe,reducers:{addCartesianGraphicalItem:{reducer(e,t){e.cartesianItems.push(t.payload)},prepare:Wn()},replaceCartesianGraphicalItem:{reducer(e,t){var{prev:n,next:r}=t.payload,i=ro(e).cartesianItems.indexOf(n);i>-1&&(e.cartesianItems[i]=r)},prepare:Wn()},removeCartesianGraphicalItem:{reducer(e,t){var n=ro(e).cartesianItems.indexOf(t.payload);n>-1&&e.cartesianItems.splice(n,1)},prepare:Wn()},addPolarGraphicalItem:{reducer(e,t){e.polarItems.push(t.payload)},prepare:Wn()},removePolarGraphicalItem:{reducer(e,t){var n=ro(e).polarItems.indexOf(t.payload);n>-1&&e.polarItems.splice(n,1)},prepare:Wn()}}}),{addCartesianGraphicalItem:Awe,replaceCartesianGraphicalItem:Pwe,removeCartesianGraphicalItem:Ewe,addPolarGraphicalItem:Nwe,removePolarGraphicalItem:kwe}=rW.actions,Twe=rW.reducer,Cwe=e=>{var t=jn(),n=S.useRef(null);return S.useLayoutEffect(()=>{n.current===null?t(Awe(e)):n.current!==e&&t(Pwe({prev:n.current,next:e})),n.current=e},[t,e]),S.useLayoutEffect(()=>()=>{n.current&&(t(Ewe(n.current)),n.current=null)},[t]),null},jwe=S.memo(Cwe);function Iwe(e){var t=jn();return S.useLayoutEffect(()=>(t(Nwe(e)),()=>{t(kwe(e))}),[t,e]),null}var Owe=["key"],Lwe=["onMouseEnter","onClick","onMouseLeave"],Rwe=["id"],Mwe=["id"];function _O(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function pr(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?_O(Object(n),!0).forEach(function(r){Dwe(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):_O(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function Dwe(e,t,n){return(t=Fwe(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Fwe(e){var t=Bwe(e,"string");return typeof t=="symbol"?t:t+""}function Bwe(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function hc(){return hc=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},hc.apply(null,arguments)}function Qx(e,t){if(e==null)return{};var n,r,i=Vwe(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)===-1&&{}.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function Vwe(e,t){if(e==null)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.indexOf(r)!==-1)continue;n[r]=e[r]}return n}function zwe(e){var t=S.useMemo(()=>IP(e.children,Md),[e.children]),n=Ze(r=>Qbe(r,e.id,t));return n==null?null:S.createElement(xwe,{legendPayload:n})}var $we=S.memo(e=>{var{dataKey:t,nameKey:n,sectors:r,stroke:i,strokeWidth:a,fill:s,name:o,hide:l,tooltipType:u}=e,c={dataDefinedOnItem:r.map(d=>d.tooltipPayload),positions:r.map(d=>d.tooltipPosition),settings:{stroke:i,strokeWidth:a,fill:s,dataKey:t,nameKey:n,name:cx(o,t),hide:l,type:u,color:s,unit:""}};return S.createElement(eW,{tooltipEntrySettings:c})}),Uwe=(e,t)=>e>t?"start":e<t?"end":"middle",Wwe=(e,t,n)=>Yi(typeof t=="function"?t(e):t,n,n*.8),qwe=(e,t,n)=>{var{top:r,left:i,width:a,height:s}=t,o=yz(a,s),l=i+Yi(e.cx,a,a/2),u=r+Yi(e.cy,s,s/2),c=Yi(e.innerRadius,o,0),d=Wwe(n,e.outerRadius,o),p=e.maxRadius||Math.sqrt(a*a+s*s)/2;return{cx:l,cy:u,innerRadius:c,outerRadius:d,maxRadius:p}},Hwe=(e,t)=>{var n=li(t-e),r=Math.min(Math.abs(t-e),360);return n*r};function Kwe(e){return e&&typeof e=="object"&&"className"in e&&typeof e.className=="string"?e.className:""}var Gwe=(e,t)=>{if(S.isValidElement(e))return S.cloneElement(e,t);if(typeof e=="function")return e(t);var n=yn("recharts-pie-label-line",typeof e!="boolean"?e.className:""),{key:r}=t,i=Qx(t,Owe);return S.createElement(p6,hc({},i,{type:"linear",className:n}))},Ywe=(e,t,n)=>{if(S.isValidElement(e))return S.cloneElement(e,t);var r=n;if(typeof e=="function"&&(r=e(t),S.isValidElement(r)))return r;var i=yn("recharts-pie-label-text",Kwe(e));return S.createElement(Fx,hc({},t,{alignmentBaseline:"middle",className:i}),r)};function Xwe(e){var{sectors:t,props:n,showLabels:r}=e,{label:i,labelLine:a,dataKey:s}=n;if(!r||!i||!t)return null;var o=lo(n),l=t0(i),u=t0(a),c=typeof i=="object"&&"offsetRadius"in i&&typeof i.offsetRadius=="number"&&i.offsetRadius||20,d=t.map((p,f)=>{var g=(p.startAngle+p.endAngle)/2,v=Dr(p.cx,p.cy,p.outerRadius+c,g),b=pr(pr(pr(pr({},o),p),{},{stroke:"none"},l),{},{index:f,textAnchor:Uwe(v.x,p.cx)},v),x=pr(pr(pr(pr({},o),p),{},{fill:"none",stroke:p.fill},u),{},{index:f,points:[Dr(p.cx,p.cy,p.outerRadius,g),v],key:"line"});return S.createElement(go,{zIndex:Si.label,key:"label-".concat(p.startAngle,"-").concat(p.endAngle,"-").concat(p.midAngle,"-").concat(f)},S.createElement(ua,null,a&&Gwe(a,x),Ywe(i,b,Hn(p,s))))});return S.createElement(ua,{className:"recharts-pie-labels"},d)}function Qwe(e){var{sectors:t,props:n,showLabels:r}=e,{label:i}=n;return typeof i=="object"&&i!=null&&"position"in i?S.createElement(qU,{label:i}):S.createElement(Xwe,{sectors:t,props:n,showLabels:r})}function Zwe(e){var{sectors:t,activeShape:n,inactiveShape:r,allOtherPieProps:i,shape:a,id:s}=e,o=Ze(Rd),l=Ze(_P),u=Ze(_2e),{onMouseEnter:c,onClick:d,onMouseLeave:p}=i,f=Qx(i,Lwe),g=OP(c,i.dataKey,s),v=LP(p),b=RP(d,i.dataKey,s);return t==null||t.length===0?null:S.createElement(S.Fragment,null,t.map((x,w)=>{if((x==null?void 0:x.startAngle)===0&&(x==null?void 0:x.endAngle)===0&&t.length!==1)return null;var A=u==null||u===s,P=String(w)===o&&(l==null||i.dataKey===l)&&A,O=o?r:null,D=n&&P?n:O,T=pr(pr({},x),{},{stroke:x.stroke,tabIndex:-1,[HV]:w,[KV]:i.dataKey});return S.createElement(ua,hc({key:"sector-".concat(x==null?void 0:x.startAngle,"-").concat(x==null?void 0:x.endAngle,"-").concat(x.midAngle,"-").concat(w),tabIndex:-1,className:"recharts-pie-sector"},W0(f,x,w),{onMouseEnter:g(x,w),onMouseLeave:v(x,w),onClick:b(x,w)}),S.createElement(JU,hc({option:a??D,index:w,shapeType:"sector",isActive:P},T)))}))}function Jwe(e){var t,{pieSettings:n,displayedData:r,cells:i,offset:a}=e,{cornerRadius:s,startAngle:o,endAngle:l,dataKey:u,nameKey:c,tooltipType:d}=n,p=Math.abs(n.minAngle),f=Hwe(o,l),g=Math.abs(f),v=r.length<=1?0:(t=n.paddingAngle)!==null&&t!==void 0?t:0,b=r.filter(D=>Hn(D,u,0)!==0).length,x=(g>=360?b:b-1)*v,w=g-b*p-x,A=r.reduce((D,T)=>{var k=Hn(T,u,0);return D+(at(k)?k:0)},0),P;if(A>0){var O;P=r.map((D,T)=>{var k=Hn(D,u,0),I=Hn(D,c,T),M=qwe(n,a,D),N=(at(k)?k:0)/A,C,R=pr(pr({},D),i&&i[T]&&i[T].props);T?C=O.endAngle+li(f)*v*(k!==0?1:0):C=o;var W=C+li(f)*((k!==0?p:0)+N*w),Y=(C+W)/2,ae=(M.innerRadius+M.outerRadius)/2,ie=[{name:I,value:k,payload:R,dataKey:u,type:d}],H=Dr(M.cx,M.cy,ae,Y);return O=pr(pr(pr(pr({},n.presentationProps),{},{percent:N,cornerRadius:typeof s=="string"?parseFloat(s):s,name:I,tooltipPayload:ie,midAngle:Y,middleRadius:ae,tooltipPosition:H},R),M),{},{value:k,dataKey:u,startAngle:C,endAngle:W,payload:R,paddingAngle:li(f)*v}),O})}return P}function e5e(e){var{showLabels:t,sectors:n,children:r}=e,i=S.useMemo(()=>!t||!n?[]:n.map(a=>({value:a.value,payload:a.payload,clockWise:!1,parentViewBox:void 0,viewBox:{cx:a.cx,cy:a.cy,innerRadius:a.innerRadius,outerRadius:a.outerRadius,startAngle:a.startAngle,endAngle:a.endAngle,clockWise:!1},fill:a.fill})),[n,t]);return S.createElement(Rbe,{value:t?i:void 0},r)}function t5e(e){var{props:t,previousSectorsRef:n,id:r}=e,{sectors:i,isAnimationActive:a,animationBegin:s,animationDuration:o,animationEasing:l,activeShape:u,inactiveShape:c,onAnimationStart:d,onAnimationEnd:p}=t,f=_x(t,"recharts-pie-"),g=n.current,[v,b]=S.useState(!1),x=S.useCallback(()=>{typeof p=="function"&&p(),b(!1)},[p]),w=S.useCallback(()=>{typeof d=="function"&&d(),b(!0)},[d]);return S.createElement(e5e,{showLabels:!v,sectors:i},S.createElement(wx,{animationId:f,begin:s,duration:o,isActive:a,easing:l,onAnimationStart:w,onAnimationEnd:x,key:f},A=>{var P=[],O=i&&i[0],D=O==null?void 0:O.startAngle;return i==null||i.forEach((T,k)=>{var I=g&&g[k],M=k>0?jd(T,"paddingAngle",0):0;if(I){var N=qr(I.endAngle-I.startAngle,T.endAngle-T.startAngle,A),C=pr(pr({},T),{},{startAngle:D+M,endAngle:D+N+M});P.push(C),D=C.endAngle}else{var{endAngle:R,startAngle:W}=T,Y=qr(0,R-W,A),ae=pr(pr({},T),{},{startAngle:D+M,endAngle:D+Y+M});P.push(ae),D=ae.endAngle}}),n.current=P,S.createElement(ua,null,S.createElement(Zwe,{sectors:P,activeShape:u,inactiveShape:c,allOtherPieProps:t,shape:t.shape,id:r}))}),S.createElement(Qwe,{showLabels:!v,sectors:i,props:t}),t.children)}var n5e={animationBegin:400,animationDuration:1500,animationEasing:"ease",cx:"50%",cy:"50%",dataKey:"value",endAngle:360,fill:"#808080",hide:!1,innerRadius:0,isAnimationActive:"auto",label:!1,labelLine:!0,legendType:"rect",minAngle:0,nameKey:"name",outerRadius:"80%",paddingAngle:0,rootTabIndex:0,startAngle:0,stroke:"#fff",zIndex:Si.area};function r5e(e){var{id:t}=e,n=Qx(e,Rwe),{hide:r,className:i,rootTabIndex:a}=e,s=S.useMemo(()=>IP(e.children,Md),[e.children]),o=Ze(c=>Zbe(c,t,s)),l=S.useRef(null),u=yn("recharts-pie",i);return r||o==null?(l.current=null,S.createElement(ua,{tabIndex:a,className:u})):S.createElement(go,{zIndex:e.zIndex},S.createElement($we,{dataKey:e.dataKey,nameKey:e.nameKey,sectors:o,stroke:e.stroke,strokeWidth:e.strokeWidth,fill:e.fill,name:e.name,hide:e.hide,tooltipType:e.tooltipType}),S.createElement(ua,{tabIndex:a,className:u},S.createElement(t5e,{props:pr(pr({},n),{},{sectors:o}),previousSectorsRef:l,id:t})))}function MP(e){var t=di(e,n5e),{id:n}=t,r=Qx(t,Mwe),i=lo(r);return S.createElement(nW,{id:n,type:"pie"},a=>S.createElement(S.Fragment,null,S.createElement(Iwe,{type:"pie",id:a,data:r.data,dataKey:r.dataKey,hide:r.hide,angleAxisId:0,radiusAxisId:0,name:r.name,nameKey:r.nameKey,tooltipType:r.tooltipType,legendType:r.legendType,fill:r.fill,cx:r.cx,cy:r.cy,startAngle:r.startAngle,endAngle:r.endAngle,paddingAngle:r.paddingAngle,minAngle:r.minAngle,innerRadius:r.innerRadius,outerRadius:r.outerRadius,cornerRadius:r.cornerRadius,presentationProps:i,maxRadius:t.maxRadius}),S.createElement(zwe,hc({},r,{id:a})),S.createElement(r5e,hc({},r,{id:a}))))}MP.displayName="Pie";function SO(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function AO(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?SO(Object(n),!0).forEach(function(r){i5e(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):SO(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function i5e(e,t,n){return(t=a5e(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function a5e(e){var t=s5e(e,"string");return typeof t=="symbol"?t:t+""}function s5e(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var o5e={xAxis:{},yAxis:{},zAxis:{}},iW=Ca({name:"cartesianAxis",initialState:o5e,reducers:{addXAxis:{reducer(e,t){e.xAxis[t.payload.id]=t.payload},prepare:Wn()},replaceXAxis:{reducer(e,t){var{prev:n,next:r}=t.payload;e.xAxis[n.id]!==void 0&&(n.id!==r.id&&delete e.xAxis[n.id],e.xAxis[r.id]=r)},prepare:Wn()},removeXAxis:{reducer(e,t){delete e.xAxis[t.payload.id]},prepare:Wn()},addYAxis:{reducer(e,t){e.yAxis[t.payload.id]=t.payload},prepare:Wn()},replaceYAxis:{reducer(e,t){var{prev:n,next:r}=t.payload;e.yAxis[n.id]!==void 0&&(n.id!==r.id&&delete e.yAxis[n.id],e.yAxis[r.id]=r)},prepare:Wn()},removeYAxis:{reducer(e,t){delete e.yAxis[t.payload.id]},prepare:Wn()},addZAxis:{reducer(e,t){e.zAxis[t.payload.id]=t.payload},prepare:Wn()},replaceZAxis:{reducer(e,t){var{prev:n,next:r}=t.payload;e.zAxis[n.id]!==void 0&&(n.id!==r.id&&delete e.zAxis[n.id],e.zAxis[r.id]=r)},prepare:Wn()},removeZAxis:{reducer(e,t){delete e.zAxis[t.payload.id]},prepare:Wn()},updateYAxisWidth(e,t){var{id:n,width:r}=t.payload,i=e.yAxis[n];if(i){var a=i.widthHistory||[];if(a.length===3&&a[0]===a[2]&&r===a[1]&&r!==i.width&&Math.abs(r-a[0])<=1)return;var s=[...a,r].slice(-3);e.yAxis[n]=AO(AO({},e.yAxis[n]),{},{width:r,widthHistory:s})}}}}),{addXAxis:l5e,replaceXAxis:u5e,removeXAxis:c5e,addYAxis:d5e,replaceYAxis:f5e,removeYAxis:h5e,addZAxis:IAe,replaceZAxis:OAe,removeZAxis:LAe,updateYAxisWidth:p5e}=iW.actions,m5e=iW.reducer,g5e=Ae([Gr],e=>({top:e.top,bottom:e.bottom,left:e.left,right:e.right})),v5e=Ae([g5e,Ql,Zl],(e,t,n)=>{if(!(!e||t==null||n==null))return{x:e.left,y:e.top,width:Math.max(0,t-e.left-e.right),height:Math.max(0,n-e.top-e.bottom)}}),aW=()=>Ze(v5e),y5e="Invariant failed";function x5e(e,t){throw new Error(y5e)}var b5e=["x","y"];function a_(){return a_=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},a_.apply(null,arguments)}function PO(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function Mp(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?PO(Object(n),!0).forEach(function(r){w5e(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):PO(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function w5e(e,t,n){return(t=_5e(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function _5e(e){var t=S5e(e,"string");return typeof t=="symbol"?t:t+""}function S5e(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function A5e(e,t){if(e==null)return{};var n,r,i=P5e(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)===-1&&{}.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function P5e(e,t){if(e==null)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.indexOf(r)!==-1)continue;n[r]=e[r]}return n}function E5e(e,t){var{x:n,y:r}=e,i=A5e(e,b5e),a="".concat(n),s=parseInt(a,10),o="".concat(r),l=parseInt(o,10),u="".concat(t.height||i.height),c=parseInt(u,10),d="".concat(t.width||i.width),p=parseInt(d,10);return Mp(Mp(Mp(Mp(Mp({},t),i),s?{x:s}:{}),l?{y:l}:{}),{},{height:c,width:p,name:t.name,radius:t.radius})}function Xy(e){return S.createElement(JU,a_({shapeType:"rectangle",propTransformer:E5e,activeClassName:"recharts-active-bar"},e))}var N5e=function(t){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0;return(r,i)=>{if(at(t))return t;var a=at(r)||ci(r);return a?t(r,i):(a||x5e(),n)}},k5e={},sW=Ca({name:"errorBars",initialState:k5e,reducers:{addErrorBar:(e,t)=>{var{itemId:n,errorBar:r}=t.payload;e[n]||(e[n]=[]),e[n].push(r)},replaceErrorBar:(e,t)=>{var{itemId:n,prev:r,next:i}=t.payload;e[n]&&(e[n]=e[n].map(a=>a.dataKey===r.dataKey&&a.direction===r.direction?i:a))},removeErrorBar:(e,t)=>{var{itemId:n,errorBar:r}=t.payload;e[n]&&(e[n]=e[n].filter(i=>i.dataKey!==r.dataKey||i.direction!==r.direction))}}}),{addErrorBar:RAe,replaceErrorBar:MAe,removeErrorBar:DAe}=sW.actions,T5e=sW.reducer,C5e=["children"];function j5e(e,t){if(e==null)return{};var n,r,i=I5e(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)===-1&&{}.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function I5e(e,t){if(e==null)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.indexOf(r)!==-1)continue;n[r]=e[r]}return n}var O5e={data:[],xAxisId:"xAxis-0",yAxisId:"yAxis-0",dataPointFormatter:()=>({x:0,y:0,value:0}),errorBarOffset:0},L5e=S.createContext(O5e);function R5e(e){var{children:t}=e,n=j5e(e,C5e);return S.createElement(L5e.Provider,{value:n},t)}function oW(e,t){var n,r,i=Ze(u=>eu(u,e)),a=Ze(u=>tu(u,t)),s=(n=i==null?void 0:i.allowDataOverflow)!==null&&n!==void 0?n:ni.allowDataOverflow,o=(r=a==null?void 0:a.allowDataOverflow)!==null&&r!==void 0?r:ri.allowDataOverflow,l=s||o;return{needClip:l,needClipX:s,needClipY:o}}function M5e(e){var{xAxisId:t,yAxisId:n,clipPathId:r}=e,i=aW(),{needClipX:a,needClipY:s,needClip:o}=oW(t,n);if(!o||!i)return null;var{x:l,y:u,width:c,height:d}=i;return S.createElement("clipPath",{id:"clipPath-".concat(r)},S.createElement("rect",{x:a?l:l-c/2,y:s?u:u-d/2,width:a?c:c*2,height:s?d:d*2}))}function D5e(e,t){return e&&typeof e=="object"&&"zIndex"in e&&typeof e.zIndex=="number"&&Cr(e.zIndex)?e.zIndex:t}var F5e={};/**
 * @license React
 * use-sync-external-store-with-selector.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var dg=S;function B5e(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var V5e=typeof Object.is=="function"?Object.is:B5e,z5e=dg.useSyncExternalStore,$5e=dg.useRef,U5e=dg.useEffect,W5e=dg.useMemo,q5e=dg.useDebugValue;F5e.useSyncExternalStoreWithSelector=function(e,t,n,r,i){var a=$5e(null);if(a.current===null){var s={hasValue:!1,value:null};a.current=s}else s=a.current;a=W5e(function(){function l(f){if(!u){if(u=!0,c=f,f=r(f),i!==void 0&&s.hasValue){var g=s.value;if(i(g,f))return d=g}return d=f}if(g=d,V5e(c,f))return g;var v=r(f);return i!==void 0&&i(g,v)?(c=f,g):(c=f,d=v)}var u=!1,c,d,p=n===void 0?null:n;return[function(){return l(t())},p===null?void 0:function(){return l(p())}]},[t,n,r,i]);var o=z5e(e,a[0],a[1]);return U5e(function(){s.hasValue=!0,s.value=o},[o]),q5e(o),o};function H5e(e){e()}function K5e(){let e=null,t=null;return{clear(){e=null,t=null},notify(){H5e(()=>{let n=e;for(;n;)n.callback(),n=n.next})},get(){const n=[];let r=e;for(;r;)n.push(r),r=r.next;return n},subscribe(n){let r=!0;const i=t={callback:n,next:null,prev:t};return i.prev?i.prev.next=i:e=i,function(){!r||e===null||(r=!1,i.next?i.next.prev=i.prev:t=i.prev,i.prev?i.prev.next=i.next:e=i.next)}}}}var EO={notify(){},get:()=>[]};function G5e(e,t){let n,r=EO,i=0,a=!1;function s(v){c();const b=r.subscribe(v);let x=!1;return()=>{x||(x=!0,b(),d())}}function o(){r.notify()}function l(){g.onStateChange&&g.onStateChange()}function u(){return a}function c(){i++,n||(n=e.subscribe(l),r=K5e())}function d(){i--,n&&i===0&&(n(),n=void 0,r.clear(),r=EO)}function p(){a||(a=!0,c())}function f(){a&&(a=!1,d())}const g={addNestedSub:s,notifyNestedSubs:o,handleChangeWrapper:l,isSubscribed:u,trySubscribe:p,tryUnsubscribe:f,getListeners:()=>r};return g}var Y5e=()=>typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",X5e=Y5e(),Q5e=()=>typeof navigator<"u"&&navigator.product==="ReactNative",Z5e=Q5e(),J5e=()=>X5e||Z5e?S.useLayoutEffect:S.useEffect,e4e=J5e();function NO(e,t){return e===t?e!==0||t!==0||1/e===1/t:e!==e&&t!==t}function t4e(e,t){if(NO(e,t))return!0;if(typeof e!="object"||e===null||typeof t!="object"||t===null)return!1;const n=Object.keys(e),r=Object.keys(t);if(n.length!==r.length)return!1;for(let i=0;i<n.length;i++)if(!Object.prototype.hasOwnProperty.call(t,n[i])||!NO(e[n[i]],t[n[i]]))return!1;return!0}var a5=Symbol.for("react-redux-context"),s5=typeof globalThis<"u"?globalThis:{};function n4e(){if(!S.createContext)return{};const e=s5[a5]??(s5[a5]=new Map);let t=e.get(S.createContext);return t||(t=S.createContext(null),e.set(S.createContext,t)),t}var r4e=n4e();function i4e(e){const{children:t,context:n,serverState:r,store:i}=e,a=S.useMemo(()=>{const l=G5e(i);return{store:i,subscription:l,getServerState:r?()=>r:void 0}},[i,r]),s=S.useMemo(()=>i.getState(),[i]);e4e(()=>{const{subscription:l}=a;return l.onStateChange=l.notifyNestedSubs,l.trySubscribe(),s!==i.getState()&&l.notifyNestedSubs(),()=>{l.tryUnsubscribe(),l.onStateChange=void 0}},[a,s]);const o=n||r4e;return S.createElement(o.Provider,{value:a},t)}var a4e=i4e,s4e=new Set(["axisLine","tickLine","activeBar","activeDot","activeLabel","activeShape","allowEscapeViewBox","background","cursor","dot","label","line","margin","padding","position","shape","style","tick","wrapperStyle"]);function o4e(e,t){return e==null&&t==null?!0:typeof e=="number"&&typeof t=="number"?e===t||e!==e&&t!==t:e===t}function DP(e,t){var n=new Set([...Object.keys(e),...Object.keys(t)]);for(var r of n)if(s4e.has(r)){if(e[r]==null&&t[r]==null)continue;if(!t4e(e[r],t[r]))return!1}else if(!o4e(e[r],t[r]))return!1;return!0}var l4e=["onMouseEnter","onMouseLeave","onClick"],u4e=["value","background","tooltipPosition"],c4e=["id"],d4e=["onMouseEnter","onClick","onMouseLeave"];function Gl(){return Gl=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Gl.apply(null,arguments)}function kO(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function ia(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?kO(Object(n),!0).forEach(function(r){f4e(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):kO(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function f4e(e,t,n){return(t=h4e(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function h4e(e){var t=p4e(e,"string");return typeof t=="symbol"?t:t+""}function p4e(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Qy(e,t){if(e==null)return{};var n,r,i=m4e(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)===-1&&{}.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function m4e(e,t){if(e==null)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.indexOf(r)!==-1)continue;n[r]=e[r]}return n}var g4e=e=>{var{dataKey:t,name:n,fill:r,legendType:i,hide:a}=e;return[{inactive:a,dataKey:t,type:i,color:r,value:cx(n,t),payload:e}]},v4e=S.memo(e=>{var{dataKey:t,stroke:n,strokeWidth:r,fill:i,name:a,hide:s,unit:o,tooltipType:l}=e,u={dataDefinedOnItem:void 0,positions:void 0,settings:{stroke:n,strokeWidth:r,fill:i,dataKey:t,nameKey:void 0,name:cx(a,t),hide:s,type:l,color:i,unit:o}};return S.createElement(eW,{tooltipEntrySettings:u})});function y4e(e){var t=Ze(Rd),{data:n,dataKey:r,background:i,allOtherBarProps:a}=e,{onMouseEnter:s,onMouseLeave:o,onClick:l}=a,u=Qy(a,l4e),c=OP(s,r),d=LP(o),p=RP(l,r);if(!i||n==null)return null;var f=t0(i);return S.createElement(go,{zIndex:D5e(i,Si.barBackground)},n.map((g,v)=>{var{value:b,background:x,tooltipPosition:w}=g,A=Qy(g,u4e);if(!x)return null;var P=c(g,v),O=d(g,v),D=p(g,v),T=ia(ia(ia(ia(ia({option:i,isActive:String(v)===t},A),{},{fill:"#eee"},x),f),W0(u,g,v)),{},{onMouseEnter:P,onMouseLeave:O,onClick:D,dataKey:r,index:v,className:"recharts-bar-background-rectangle"});return S.createElement(Xy,Gl({key:"background-bar-".concat(v)},T))}))}function x4e(e){var{showLabels:t,children:n,rects:r}=e,i=r==null?void 0:r.map(a=>{var s={x:a.x,y:a.y,width:a.width,lowerWidth:a.width,upperWidth:a.width,height:a.height};return ia(ia({},s),{},{value:a.value,payload:a.payload,parentViewBox:a.parentViewBox,viewBox:s,fill:a.fill})});return S.createElement(Lbe,{value:t?i:void 0},n)}function b4e(e){var{shape:t,activeBar:n,baseProps:r,entry:i,index:a,dataKey:s}=e,o=Ze(Rd),l=Ze(_P),u=n&&String(a)===o&&(l==null||s===l),c=u?n:t;return u?S.createElement(go,{zIndex:Si.activeBar},S.createElement(Xy,Gl({},r,{name:String(r.name)},i,{isActive:u,option:c,index:a,dataKey:s}))):S.createElement(Xy,Gl({},r,{name:String(r.name)},i,{isActive:u,option:c,index:a,dataKey:s}))}function w4e(e){var{shape:t,baseProps:n,entry:r,index:i,dataKey:a}=e;return S.createElement(Xy,Gl({},n,{name:String(n.name)},r,{isActive:!1,option:t,index:i,dataKey:a}))}function _4e(e){var t,{data:n,props:r}=e,i=(t=lo(r))!==null&&t!==void 0?t:{},{id:a}=i,s=Qy(i,c4e),{shape:o,dataKey:l,activeBar:u}=r,{onMouseEnter:c,onClick:d,onMouseLeave:p}=r,f=Qy(r,d4e),g=OP(c,l),v=LP(p),b=RP(d,l);return n?S.createElement(S.Fragment,null,n.map((x,w)=>S.createElement(ua,Gl({key:"rectangle-".concat(x==null?void 0:x.x,"-").concat(x==null?void 0:x.y,"-").concat(x==null?void 0:x.value,"-").concat(w),className:"recharts-bar-rectangle"},W0(f,x,w),{onMouseEnter:g(x,w),onMouseLeave:v(x,w),onClick:b(x,w)}),u?S.createElement(b4e,{shape:o,activeBar:u,baseProps:s,entry:x,index:w,dataKey:l}):S.createElement(w4e,{shape:o,baseProps:s,entry:x,index:w,dataKey:l})))):null}function S4e(e){var{props:t,previousRectanglesRef:n}=e,{data:r,layout:i,isAnimationActive:a,animationBegin:s,animationDuration:o,animationEasing:l,onAnimationEnd:u,onAnimationStart:c}=t,d=n.current,p=_x(t,"recharts-bar-"),[f,g]=S.useState(!1),v=!f,b=S.useCallback(()=>{typeof u=="function"&&u(),g(!1)},[u]),x=S.useCallback(()=>{typeof c=="function"&&c(),g(!0)},[c]);return S.createElement(x4e,{showLabels:v,rects:r},S.createElement(wx,{animationId:p,begin:s,duration:o,isActive:a,easing:l,onAnimationEnd:b,onAnimationStart:x,key:p},w=>{var A=w===1?r:r==null?void 0:r.map((P,O)=>{var D=d&&d[O];if(D)return ia(ia({},P),{},{x:qr(D.x,P.x,w),y:qr(D.y,P.y,w),width:qr(D.width,P.width,w),height:qr(D.height,P.height,w)});if(i==="horizontal"){var T=qr(0,P.height,w),k=qr(P.stackedBarStart,P.y,w);return ia(ia({},P),{},{y:k,height:T})}var I=qr(0,P.width,w),M=qr(P.stackedBarStart,P.x,w);return ia(ia({},P),{},{width:I,x:M})});return w>0&&(n.current=A??null),A==null?null:S.createElement(ua,null,S.createElement(_4e,{props:t,data:A}))}),S.createElement(qU,{label:t.label}),t.children)}function A4e(e){var t=S.useRef(null);return S.createElement(S4e,{previousRectanglesRef:t,props:e})}var lW=0,P4e=(e,t)=>{var n=Array.isArray(e.value)?e.value[1]:e.value;return{x:e.x,y:e.y,value:n,errorVal:Hn(e,t)}};class E4e extends S.PureComponent{render(){var{hide:t,data:n,dataKey:r,className:i,xAxisId:a,yAxisId:s,needClip:o,background:l,id:u}=this.props;if(t||n==null)return null;var c=yn("recharts-bar",i),d=u;return S.createElement(ua,{className:c,id:u},o&&S.createElement("defs",null,S.createElement(M5e,{clipPathId:d,xAxisId:a,yAxisId:s})),S.createElement(ua,{className:"recharts-bar-rectangles",clipPath:o?"url(#clipPath-".concat(d,")"):void 0},S.createElement(y4e,{data:n,dataKey:r,background:l,allOtherBarProps:this.props}),S.createElement(A4e,this.props)))}}var N4e={activeBar:!1,animationBegin:0,animationDuration:400,animationEasing:"ease",background:!1,hide:!1,isAnimationActive:"auto",label:!1,legendType:"rect",minPointSize:lW,xAxisId:0,yAxisId:0,zIndex:Si.bar};function k4e(e){var{xAxisId:t,yAxisId:n,hide:r,legendType:i,minPointSize:a,activeBar:s,animationBegin:o,animationDuration:l,animationEasing:u,isAnimationActive:c}=e,{needClip:d}=oW(t,n),p=gx(),f=ja(),g=IP(e.children,Md),v=Ze(w=>n3e(w,t,n,f,e.id,g));if(p!=="vertical"&&p!=="horizontal")return null;var b,x=v==null?void 0:v[0];return x==null||x.height==null||x.width==null?b=0:b=p==="vertical"?x.height/2:x.width/2,S.createElement(R5e,{xAxisId:t,yAxisId:n,data:v,dataPointFormatter:P4e,errorBarOffset:b},S.createElement(E4e,Gl({},e,{layout:p,needClip:d,data:v,xAxisId:t,yAxisId:n,hide:r,legendType:i,minPointSize:a,activeBar:s,animationBegin:o,animationDuration:l,animationEasing:u,isAnimationActive:c})))}function T4e(e){var{layout:t,barSettings:{dataKey:n,minPointSize:r},pos:i,bandSize:a,xAxis:s,yAxis:o,xAxisTicks:l,yAxisTicks:u,stackedData:c,displayedData:d,offset:p,cells:f,parentViewBox:g,dataStartIndex:v}=e,b=t==="horizontal"?o:s,x=c?b.scale.domain():null,w=vpe({numericAxis:b}),A=b.scale(w);return d.map((P,O)=>{var D,T,k,I,M,N;c?D=dpe(c[O+v],x):(D=Hn(P,n),Array.isArray(D)||(D=[w,D]));var C=N5e(r,lW)(D[1],O);if(t==="horizontal"){var R,[W,Y]=[o.scale(D[0]),o.scale(D[1])];T=fj({axis:s,ticks:l,bandSize:a,offset:i.offset,entry:P,index:O}),k=(R=Y??W)!==null&&R!==void 0?R:void 0,I=i.size;var ae=W-Y;if(M=uo(ae)?0:ae,N={x:T,y:p.top,width:I,height:p.height},Math.abs(C)>0&&Math.abs(M)<Math.abs(C)){var ie=li(M||C)*(Math.abs(C)-Math.abs(M));k-=ie,M+=ie}}else{var[H,se]=[s.scale(D[0]),s.scale(D[1])];if(T=H,k=fj({axis:o,ticks:u,bandSize:a,offset:i.offset,entry:P,index:O}),I=se-H,M=i.size,N={x:p.left,y:k,width:p.width,height:M},Math.abs(C)>0&&Math.abs(I)<Math.abs(C)){var ye=li(I||C)*(Math.abs(C)-Math.abs(I));I+=ye}}if(T==null||k==null||I==null||M==null)return null;var be=ia(ia({},P),{},{stackedBarStart:A,x:T,y:k,width:I,height:M,value:c?D:D[1],payload:P,background:N,tooltipPosition:{x:T+I/2,y:k+M/2},parentViewBox:g},f&&f[O]&&f[O].props);return be}).filter(Boolean)}function C4e(e){var t=di(e,N4e),n=ja();return S.createElement(nW,{id:t.id,type:"bar"},r=>S.createElement(S.Fragment,null,S.createElement(ywe,{legendPayload:g4e(t)}),S.createElement(v4e,{dataKey:t.dataKey,stroke:t.stroke,strokeWidth:t.strokeWidth,fill:t.fill,name:t.name,hide:t.hide,unit:t.unit,tooltipType:t.tooltipType}),S.createElement(jwe,{type:"bar",id:r,data:void 0,xAxisId:t.xAxisId,yAxisId:t.yAxisId,zAxisId:0,dataKey:t.dataKey,stackId:gpe(t.stackId),hide:t.hide,barSize:t.barSize,minPointSize:t.minPointSize,maxBarSize:t.maxBarSize,isPanorama:n}),S.createElement(go,{zIndex:t.zIndex},S.createElement(k4e,Gl({},t,{id:r})))))}var FP=S.memo(C4e,DP);FP.displayName="Bar";function TO(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function N1(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?TO(Object(n),!0).forEach(function(r){j4e(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):TO(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function j4e(e,t,n){return(t=I4e(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function I4e(e){var t=O4e(e,"string");return typeof t=="symbol"?t:t+""}function O4e(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var L4e=(e,t)=>t,R4e=(e,t,n)=>n,M4e=(e,t,n,r)=>r,D4e=(e,t,n,r,i)=>i,fg=Ae([Q6,D4e],(e,t)=>e.filter(n=>n.type==="bar").find(n=>n.id===t)),F4e=Ae([fg],e=>e==null?void 0:e.maxBarSize),B4e=(e,t,n,r,i,a)=>a,CO=(e,t,n)=>{var r=n??e;if(!ci(r))return Yi(r,t,0)},V4e=Ae([tn,Q6,L4e,R4e,M4e],(e,t,n,r,i)=>t.filter(a=>e==="horizontal"?a.xAxisId===n:a.yAxisId===r).filter(a=>a.isPanorama===i).filter(a=>a.hide===!1).filter(a=>a.type==="bar")),z4e=(e,t,n,r)=>{var i=tn(e);return i==="horizontal"?Z3(e,"yAxis",n,r):Z3(e,"xAxis",t,r)},$4e=(e,t,n)=>{var r=tn(e);return r==="horizontal"?DI(e,"xAxis",t):DI(e,"yAxis",n)},U4e=(e,t,n)=>{var r={},i=e.filter(jx),a=e.filter(u=>u.stackId==null),s=i.reduce((u,c)=>(u[c.stackId]||(u[c.stackId]=[]),u[c.stackId].push(c),u),r),o=Object.entries(s).map(u=>{var[c,d]=u,p=d.map(g=>g.dataKey),f=CO(t,n,d[0].barSize);return{stackId:c,dataKeys:p,barSize:f}}),l=a.map(u=>{var c=[u.dataKey].filter(p=>p!=null),d=CO(t,n,u.barSize);return{stackId:void 0,dataKeys:c,barSize:d}});return[...o,...l]},W4e=Ae([V4e,Pve,$4e],U4e),q4e=(e,t,n,r,i)=>{var a,s,o=fg(e,t,n,r,i);if(o!=null){var l=tn(e),u=b$(e),{maxBarSize:c}=o,d=ci(c)?u:c,p,f;return l==="horizontal"?(p=Ph(e,"xAxis",t,r),f=Ah(e,"xAxis",t,r)):(p=Ph(e,"yAxis",n,r),f=Ah(e,"yAxis",n,r)),(a=(s=_y(p,f,!0))!==null&&s!==void 0?s:d)!==null&&a!==void 0?a:0}},uW=(e,t,n,r)=>{var i=tn(e),a,s;return i==="horizontal"?(a=Ph(e,"xAxis",t,r),s=Ah(e,"xAxis",t,r)):(a=Ph(e,"yAxis",n,r),s=Ah(e,"yAxis",n,r)),_y(a,s)};function H4e(e,t,n,r,i){var a=r.length;if(!(a<1)){var s=Yi(e,n,0,!0),o,l=[];if(Cr(r[0].barSize)){var u=!1,c=n/a,d=r.reduce((x,w)=>x+(w.barSize||0),0);d+=(a-1)*s,d>=n&&(d-=(a-1)*s,s=0),d>=n&&c>0&&(u=!0,c*=.9,d=a*c);var p=(n-d)/2>>0,f={offset:p-s,size:0};o=r.reduce((x,w)=>{var A,P={stackId:w.stackId,dataKeys:w.dataKeys,position:{offset:f.offset+f.size+s,size:u?c:(A=w.barSize)!==null&&A!==void 0?A:0}},O=[...x,P];return f=O[O.length-1].position,O},l)}else{var g=Yi(t,n,0,!0);n-2*g-(a-1)*s<=0&&(s=0);var v=(n-2*g-(a-1)*s)/a;v>1&&(v>>=0);var b=Cr(i)?Math.min(v,i):v;o=r.reduce((x,w,A)=>[...x,{stackId:w.stackId,dataKeys:w.dataKeys,position:{offset:g+(v+s)*A+(v-b)/2,size:b}}],l)}return o}}var K4e=(e,t,n,r,i,a,s)=>{var o=ci(s)?t:s,l=H4e(n,r,i!==a?i:a,e,o);return i!==a&&l!=null&&(l=l.map(u=>N1(N1({},u),{},{position:N1(N1({},u.position),{},{offset:u.position.offset-i/2})}))),l},G4e=Ae([W4e,b$,Ave,w$,q4e,uW,F4e],K4e),Y4e=(e,t,n,r)=>Ph(e,"xAxis",t,r),X4e=(e,t,n,r)=>Ph(e,"yAxis",n,r),Q4e=(e,t,n,r)=>Ah(e,"xAxis",t,r),Z4e=(e,t,n,r)=>Ah(e,"yAxis",n,r),J4e=Ae([G4e,fg],(e,t)=>{if(!(e==null||t==null)){var n=e.find(r=>r.stackId===t.stackId&&t.dataKey!=null&&r.dataKeys.includes(t.dataKey));if(n!=null)return n.position}}),e3e=(e,t)=>{var n=G6(t);if(!(!e||n==null||t==null)){var{stackId:r}=t;if(r!=null){var i=e[r];if(i){var{stackedData:a}=i;if(a)return a.find(s=>s.key===n)}}}},t3e=Ae([z4e,fg],e3e),n3e=Ae([Gr,o6,Y4e,X4e,Q4e,Z4e,J4e,tn,B6,uW,t3e,fg,B4e],(e,t,n,r,i,a,s,o,l,u,c,d,p)=>{var{chartData:f,dataStartIndex:g,dataEndIndex:v}=l;if(!(d==null||s==null||t==null||o!=="horizontal"&&o!=="vertical"||n==null||r==null||i==null||a==null||u==null)){var{data:b}=d,x;if(b!=null&&b.length>0?x=b:x=f==null?void 0:f.slice(g,v+1),x!=null)return T4e({layout:o,barSettings:d,pos:s,parentViewBox:t,bandSize:u,xAxis:n,yAxis:r,xAxisTicks:i,yAxisTicks:a,stackedData:c,displayedData:x,offset:e,cells:p,dataStartIndex:g})}}),cW=e=>{var{chartData:t}=e,n=jn(),r=ja();return S.useEffect(()=>r?()=>{}:(n(YI(t)),()=>{n(YI(void 0))}),[t,n,r]),null},jO={x:0,y:0,width:0,height:0,padding:{top:0,right:0,bottom:0,left:0}},dW=Ca({name:"brush",initialState:jO,reducers:{setBrushSettings(e,t){return t.payload==null?jO:t.payload}}}),{setBrushSettings:FAe}=dW.actions,r3e=dW.reducer;function i3e(e,t,n){return(t=a3e(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function a3e(e){var t=s3e(e,"string");return typeof t=="symbol"?t:t+""}function s3e(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}class BP{static create(t){return new BP(t)}constructor(t){this.scale=t}get domain(){return this.scale.domain}get range(){return this.scale.range}get rangeMin(){return this.range()[0]}get rangeMax(){return this.range()[1]}get bandwidth(){return this.scale.bandwidth}apply(t){var{bandAware:n,position:r}=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(t!==void 0){if(r)switch(r){case"start":return this.scale(t);case"middle":{var i=this.bandwidth?this.bandwidth()/2:0;return this.scale(t)+i}case"end":{var a=this.bandwidth?this.bandwidth():0;return this.scale(t)+a}default:return this.scale(t)}if(n){var s=this.bandwidth?this.bandwidth()/2:0;return this.scale(t)+s}return this.scale(t)}}isInRange(t){var n=this.range(),r=n[0],i=n[n.length-1];return r<=i?t>=r&&t<=i:t>=i&&t<=r}}i3e(BP,"EPS",1e-4);function o3e(e){return(e%180+180)%180}var l3e=function(t){var{width:n,height:r}=t,i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,a=o3e(i),s=a*Math.PI/180,o=Math.atan(r/n),l=s>o&&s<Math.PI-o?r/Math.sin(s):n/Math.cos(s);return Math.abs(l)},u3e={dots:[],areas:[],lines:[]},fW=Ca({name:"referenceElements",initialState:u3e,reducers:{addDot:(e,t)=>{e.dots.push(t.payload)},removeDot:(e,t)=>{var n=ro(e).dots.findIndex(r=>r===t.payload);n!==-1&&e.dots.splice(n,1)},addArea:(e,t)=>{e.areas.push(t.payload)},removeArea:(e,t)=>{var n=ro(e).areas.findIndex(r=>r===t.payload);n!==-1&&e.areas.splice(n,1)},addLine:(e,t)=>{e.lines.push(t.payload)},removeLine:(e,t)=>{var n=ro(e).lines.findIndex(r=>r===t.payload);n!==-1&&e.lines.splice(n,1)}}}),{addDot:BAe,removeDot:VAe,addArea:zAe,removeArea:$Ae,addLine:UAe,removeLine:WAe}=fW.actions,c3e=fW.reducer,d3e=S.createContext(void 0),f3e=e=>{var{children:t}=e,[n]=S.useState("".concat(n0("recharts"),"-clip")),r=aW();if(r==null)return null;var{x:i,y:a,width:s,height:o}=r;return S.createElement(d3e.Provider,{value:n},S.createElement("defs",null,S.createElement("clipPath",{id:n},S.createElement("rect",{x:i,y:a,height:o,width:s}))),t)};function hW(e,t){if(t<1)return[];if(t===1)return e;for(var n=[],r=0;r<e.length;r+=t)n.push(e[r]);return n}function h3e(e,t,n){var r={width:e.width+t.width,height:e.height+t.height};return l3e(r,n)}function p3e(e,t,n){var r=n==="width",{x:i,y:a,width:s,height:o}=e;return t===1?{start:r?i:a,end:r?i+s:a+o}:{start:r?i+s:a+o,end:r?i:a}}function Zy(e,t,n,r,i){if(e*t<e*r||e*t>e*i)return!1;var a=n();return e*(t-e*a/2-r)>=0&&e*(t+e*a/2-i)<=0}function m3e(e,t){return hW(e,t+1)}function g3e(e,t,n,r,i){for(var a=(r||[]).slice(),{start:s,end:o}=t,l=0,u=1,c=s,d=function(){var g=r==null?void 0:r[l];if(g===void 0)return{v:hW(r,u)};var v=l,b,x=()=>(b===void 0&&(b=n(g,v)),b),w=g.coordinate,A=l===0||Zy(e,w,x,c,o);A||(l=0,c=s,u+=1),A&&(c=w+e*(x()/2+i),l+=u)},p;u<=a.length;)if(p=d(),p)return p.v;return[]}function IO(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function zi(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?IO(Object(n),!0).forEach(function(r){v3e(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):IO(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function v3e(e,t,n){return(t=y3e(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function y3e(e){var t=x3e(e,"string");return typeof t=="symbol"?t:t+""}function x3e(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function b3e(e,t,n,r,i){for(var a=(r||[]).slice(),s=a.length,{start:o}=t,{end:l}=t,u=function(p){var f=a[p],g,v=()=>(g===void 0&&(g=n(f,p)),g);if(p===s-1){var b=e*(f.coordinate+e*v()/2-l);a[p]=f=zi(zi({},f),{},{tickCoord:b>0?f.coordinate-b*e:f.coordinate})}else a[p]=f=zi(zi({},f),{},{tickCoord:f.coordinate});if(f.tickCoord!=null){var x=Zy(e,f.tickCoord,v,o,l);x&&(l=f.tickCoord-e*(v()/2+i),a[p]=zi(zi({},f),{},{isShow:!0}))}},c=s-1;c>=0;c--)u(c);return a}function w3e(e,t,n,r,i,a){var s=(r||[]).slice(),o=s.length,{start:l,end:u}=t;if(a){var c=r[o-1],d=n(c,o-1),p=e*(c.coordinate+e*d/2-u);if(s[o-1]=c=zi(zi({},c),{},{tickCoord:p>0?c.coordinate-p*e:c.coordinate}),c.tickCoord!=null){var f=Zy(e,c.tickCoord,()=>d,l,u);f&&(u=c.tickCoord-e*(d/2+i),s[o-1]=zi(zi({},c),{},{isShow:!0}))}}for(var g=a?o-1:o,v=function(w){var A=s[w],P,O=()=>(P===void 0&&(P=n(A,w)),P);if(w===0){var D=e*(A.coordinate-e*O()/2-l);s[w]=A=zi(zi({},A),{},{tickCoord:D<0?A.coordinate-D*e:A.coordinate})}else s[w]=A=zi(zi({},A),{},{tickCoord:A.coordinate});if(A.tickCoord!=null){var T=Zy(e,A.tickCoord,O,l,u);T&&(l=A.tickCoord+e*(O()/2+i),s[w]=zi(zi({},A),{},{isShow:!0}))}},b=0;b<g;b++)v(b);return s}function VP(e,t,n){var{tick:r,ticks:i,viewBox:a,minTickGap:s,orientation:o,interval:l,tickFormatter:u,unit:c,angle:d}=e;if(!i||!i.length||!r)return[];if(at(l)||X0.isSsr){var p;return(p=m3e(i,at(l)?l:0))!==null&&p!==void 0?p:[]}var f=[],g=o==="top"||o==="bottom"?"width":"height",v=c&&g==="width"?vm(c,{fontSize:t,letterSpacing:n}):{width:0,height:0},b=(A,P)=>{var O=typeof u=="function"?u(A.value,P):A.value;return g==="width"?h3e(vm(O,{fontSize:t,letterSpacing:n}),v,d):vm(O,{fontSize:t,letterSpacing:n})[g]},x=i.length>=2?li(i[1].coordinate-i[0].coordinate):1,w=p3e(a,x,g);return l==="equidistantPreserveStart"?g3e(x,w,b,i,s):(l==="preserveStart"||l==="preserveStartEnd"?f=w3e(x,w,b,i,s,l==="preserveStartEnd"):f=b3e(x,w,b,i,s),f.filter(A=>A.isShow))}var _3e=e=>{var{ticks:t,label:n,labelGapWithTick:r=5,tickSize:i=0,tickMargin:a=0}=e,s=0;if(t){Array.from(t).forEach(c=>{if(c){var d=c.getBoundingClientRect();d.width>s&&(s=d.width)}});var o=n?n.getBoundingClientRect().width:0,l=i+a,u=s+l+o+(n?r:0);return Math.round(u)}return 0},S3e=["axisLine","width","height","className","hide","ticks","axisType"];function A3e(e,t){if(e==null)return{};var n,r,i=P3e(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)===-1&&{}.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function P3e(e,t){if(e==null)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.indexOf(r)!==-1)continue;n[r]=e[r]}return n}function Dd(){return Dd=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Dd.apply(null,arguments)}function OO(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function Lr(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?OO(Object(n),!0).forEach(function(r){E3e(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):OO(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function E3e(e,t,n){return(t=N3e(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function N3e(e){var t=k3e(e,"string");return typeof t=="symbol"?t:t+""}function k3e(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var Cl={x:0,y:0,width:0,height:0,viewBox:{x:0,y:0,width:0,height:0},orientation:"bottom",ticks:[],stroke:"#666",tickLine:!0,axisLine:!0,tick:!0,mirror:!1,minTickGap:5,tickSize:6,tickMargin:2,interval:"preserveEnd",zIndex:Si.axis};function T3e(e){var{x:t,y:n,width:r,height:i,orientation:a,mirror:s,axisLine:o,otherSvgProps:l}=e;if(!o)return null;var u=Lr(Lr(Lr({},l),lo(o)),{},{fill:"none"});if(a==="top"||a==="bottom"){var c=+(a==="top"&&!s||a==="bottom"&&s);u=Lr(Lr({},u),{},{x1:t,y1:n+c*i,x2:t+r,y2:n+c*i})}else{var d=+(a==="left"&&!s||a==="right"&&s);u=Lr(Lr({},u),{},{x1:t+d*r,y1:n,x2:t+d*r,y2:n+i})}return S.createElement("line",Dd({},u,{className:yn("recharts-cartesian-axis-line",jd(o,"className"))}))}function C3e(e,t,n,r,i,a,s,o,l){var u,c,d,p,f,g,v=o?-1:1,b=e.tickSize||s,x=at(e.tickCoord)?e.tickCoord:e.coordinate;switch(a){case"top":u=c=e.coordinate,p=n+ +!o*i,d=p-v*b,g=d-v*l,f=x;break;case"left":d=p=e.coordinate,c=t+ +!o*r,u=c-v*b,f=u-v*l,g=x;break;case"right":d=p=e.coordinate,c=t+ +o*r,u=c+v*b,f=u+v*l,g=x;break;default:u=c=e.coordinate,p=n+ +o*i,d=p+v*b,g=d+v*l,f=x;break}return{line:{x1:u,y1:d,x2:c,y2:p},tick:{x:f,y:g}}}function j3e(e,t){switch(e){case"left":return t?"start":"end";case"right":return t?"end":"start";default:return"middle"}}function I3e(e,t){switch(e){case"left":case"right":return"middle";case"top":return t?"start":"end";default:return t?"end":"start"}}function O3e(e){var{option:t,tickProps:n,value:r}=e,i,a=yn(n.className,"recharts-cartesian-axis-tick-value");if(S.isValidElement(t))i=S.cloneElement(t,Lr(Lr({},n),{},{className:a}));else if(typeof t=="function")i=t(Lr(Lr({},n),{},{className:a}));else{var s="recharts-cartesian-axis-tick-value";typeof t!="boolean"&&(s=yn(s,t==null?void 0:t.className)),i=S.createElement(Fx,Dd({},n,{className:s}),r)}return i}var L3e=S.forwardRef((e,t)=>{var{ticks:n=[],tick:r,tickLine:i,stroke:a,tickFormatter:s,unit:o,padding:l,tickTextProps:u,orientation:c,mirror:d,x:p,y:f,width:g,height:v,tickSize:b,tickMargin:x,fontSize:w,letterSpacing:A,getTicksConfig:P,events:O,axisType:D}=e,T=VP(Lr(Lr({},P),{},{ticks:n}),w,A),k=j3e(c,d),I=I3e(c,d),M=lo(P),N=t0(r),C={};typeof i=="object"&&(C=i);var R=Lr(Lr({},M),{},{fill:"none"},C),W=T.map(ie=>Lr({entry:ie},C3e(ie,p,f,g,v,c,b,d,x))),Y=W.map(ie=>{var{entry:H,line:se}=ie;return S.createElement(ua,{className:"recharts-cartesian-axis-tick",key:"tick-".concat(H.value,"-").concat(H.coordinate,"-").concat(H.tickCoord)},i&&S.createElement("line",Dd({},R,se,{className:yn("recharts-cartesian-axis-tick-line",jd(i,"className"))})))}),ae=W.map((ie,H)=>{var{entry:se,tick:ye}=ie,be=Lr(Lr(Lr(Lr({textAnchor:k,verticalAnchor:I},M),{},{stroke:"none",fill:a},N),ye),{},{index:H,payload:se,visibleTicksCount:T.length,tickFormatter:s,padding:l},u);return S.createElement(ua,Dd({className:"recharts-cartesian-axis-tick-label",key:"tick-label-".concat(se.value,"-").concat(se.coordinate,"-").concat(se.tickCoord)},W0(O,se,H)),r&&S.createElement(O3e,{option:r,tickProps:be,value:"".concat(typeof s=="function"?s(se.value,H):se.value).concat(o||"")}))});return S.createElement("g",{className:"recharts-cartesian-axis-ticks recharts-".concat(D,"-ticks")},ae.length>0&&S.createElement(go,{zIndex:Si.label},S.createElement("g",{className:"recharts-cartesian-axis-tick-labels recharts-".concat(D,"-tick-labels"),ref:t},ae)),Y.length>0&&S.createElement("g",{className:"recharts-cartesian-axis-tick-lines recharts-".concat(D,"-tick-lines")},Y))}),R3e=S.forwardRef((e,t)=>{var{axisLine:n,width:r,height:i,className:a,hide:s,ticks:o,axisType:l}=e,u=A3e(e,S3e),[c,d]=S.useState(""),[p,f]=S.useState(""),g=S.useRef(null);S.useImperativeHandle(t,()=>({getCalculatedWidth:()=>{var b;return _3e({ticks:g.current,label:(b=e.labelRef)===null||b===void 0?void 0:b.current,labelGapWithTick:5,tickSize:e.tickSize,tickMargin:e.tickMargin})}}));var v=S.useCallback(b=>{if(b){var x=b.getElementsByClassName("recharts-cartesian-axis-tick-value");g.current=x;var w=x[0];if(w){var A=window.getComputedStyle(w),P=A.fontSize,O=A.letterSpacing;(P!==c||O!==p)&&(d(P),f(O))}}},[c,p]);return s||r!=null&&r<=0||i!=null&&i<=0?null:S.createElement(go,{zIndex:e.zIndex},S.createElement(ua,{className:yn("recharts-cartesian-axis",a)},S.createElement(T3e,{x:e.x,y:e.y,width:r,height:i,orientation:e.orientation,mirror:e.mirror,axisLine:n,otherSvgProps:lo(e)}),S.createElement(L3e,{ref:v,axisType:l,events:u,fontSize:c,getTicksConfig:e,height:e.height,letterSpacing:p,mirror:e.mirror,orientation:e.orientation,padding:e.padding,stroke:e.stroke,tick:e.tick,tickFormatter:e.tickFormatter,tickLine:e.tickLine,tickMargin:e.tickMargin,tickSize:e.tickSize,tickTextProps:e.tickTextProps,ticks:o,unit:e.unit,width:e.width,x:e.x,y:e.y}),S.createElement(vbe,{x:e.x,y:e.y,width:e.width,height:e.height,lowerWidth:e.width,upperWidth:e.width},S.createElement(Nbe,{label:e.label,labelRef:e.labelRef}),e.children)))}),zP=S.forwardRef((e,t)=>{var n=di(e,Cl);return S.createElement(R3e,Dd({},n,{ref:t}))});zP.displayName="CartesianAxis";var M3e=["x1","y1","x2","y2","key"],D3e=["offset"],F3e=["xAxisId","yAxisId"],B3e=["xAxisId","yAxisId"];function LO(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function qi(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?LO(Object(n),!0).forEach(function(r){V3e(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):LO(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function V3e(e,t,n){return(t=z3e(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function z3e(e){var t=$3e(e,"string");return typeof t=="symbol"?t:t+""}function $3e(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function ud(){return ud=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},ud.apply(null,arguments)}function Jy(e,t){if(e==null)return{};var n,r,i=U3e(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)===-1&&{}.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function U3e(e,t){if(e==null)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.indexOf(r)!==-1)continue;n[r]=e[r]}return n}var W3e=e=>{var{fill:t}=e;if(!t||t==="none")return null;var{fillOpacity:n,x:r,y:i,width:a,height:s,ry:o}=e;return S.createElement("rect",{x:r,y:i,ry:o,width:a,height:s,stroke:"none",fill:t,fillOpacity:n,className:"recharts-cartesian-grid-bg"})};function pW(e){var{option:t,lineItemProps:n}=e,r;if(S.isValidElement(t))r=S.cloneElement(t,n);else if(typeof t=="function")r=t(n);else{var i,{x1:a,y1:s,x2:o,y2:l,key:u}=n,c=Jy(n,M3e),d=(i=lo(c))!==null&&i!==void 0?i:{},{offset:p}=d,f=Jy(d,D3e);r=S.createElement("line",ud({},f,{x1:a,y1:s,x2:o,y2:l,fill:"none",key:u}))}return r}function q3e(e){var{x:t,width:n,horizontal:r=!0,horizontalPoints:i}=e;if(!r||!i||!i.length)return null;var{xAxisId:a,yAxisId:s}=e,o=Jy(e,F3e),l=i.map((u,c)=>{var d=qi(qi({},o),{},{x1:t,y1:u,x2:t+n,y2:u,key:"line-".concat(c),index:c});return S.createElement(pW,{key:"line-".concat(c),option:r,lineItemProps:d})});return S.createElement("g",{className:"recharts-cartesian-grid-horizontal"},l)}function H3e(e){var{y:t,height:n,vertical:r=!0,verticalPoints:i}=e;if(!r||!i||!i.length)return null;var{xAxisId:a,yAxisId:s}=e,o=Jy(e,B3e),l=i.map((u,c)=>{var d=qi(qi({},o),{},{x1:u,y1:t,x2:u,y2:t+n,key:"line-".concat(c),index:c});return S.createElement(pW,{option:r,lineItemProps:d,key:"line-".concat(c)})});return S.createElement("g",{className:"recharts-cartesian-grid-vertical"},l)}function K3e(e){var{horizontalFill:t,fillOpacity:n,x:r,y:i,width:a,height:s,horizontalPoints:o,horizontal:l=!0}=e;if(!l||!t||!t.length||o==null)return null;var u=o.map(d=>Math.round(d+i-i)).sort((d,p)=>d-p);i!==u[0]&&u.unshift(0);var c=u.map((d,p)=>{var f=!u[p+1],g=f?i+s-d:u[p+1]-d;if(g<=0)return null;var v=p%t.length;return S.createElement("rect",{key:"react-".concat(p),y:d,x:r,height:g,width:a,stroke:"none",fill:t[v],fillOpacity:n,className:"recharts-cartesian-grid-bg"})});return S.createElement("g",{className:"recharts-cartesian-gridstripes-horizontal"},c)}function G3e(e){var{vertical:t=!0,verticalFill:n,fillOpacity:r,x:i,y:a,width:s,height:o,verticalPoints:l}=e;if(!t||!n||!n.length)return null;var u=l.map(d=>Math.round(d+i-i)).sort((d,p)=>d-p);i!==u[0]&&u.unshift(0);var c=u.map((d,p)=>{var f=!u[p+1],g=f?i+s-d:u[p+1]-d;if(g<=0)return null;var v=p%n.length;return S.createElement("rect",{key:"react-".concat(p),x:d,y:a,width:g,height:o,stroke:"none",fill:n[v],fillOpacity:r,className:"recharts-cartesian-grid-bg"})});return S.createElement("g",{className:"recharts-cartesian-gridstripes-vertical"},c)}var Y3e=(e,t)=>{var{xAxis:n,width:r,height:i,offset:a}=e;return UV(VP(qi(qi(qi({},Cl),n),{},{ticks:WV(n),viewBox:{x:0,y:0,width:r,height:i}})),a.left,a.left+a.width,t)},X3e=(e,t)=>{var{yAxis:n,width:r,height:i,offset:a}=e;return UV(VP(qi(qi(qi({},Cl),n),{},{ticks:WV(n),viewBox:{x:0,y:0,width:r,height:i}})),a.top,a.top+a.height,t)},Q3e={horizontal:!0,vertical:!0,horizontalPoints:[],verticalPoints:[],stroke:"#ccc",fill:"none",verticalFill:[],horizontalFill:[],xAxisId:0,yAxisId:0,syncWithTicks:!1,zIndex:Si.grid};function $P(e){var t=u6(),n=c6(),r=tz(),i=qi(qi({},di(e,Q3e)),{},{x:at(e.x)?e.x:r.left,y:at(e.y)?e.y:r.top,width:at(e.width)?e.width:r.width,height:at(e.height)?e.height:r.height}),{xAxisId:a,yAxisId:s,x:o,y:l,width:u,height:c,syncWithTicks:d,horizontalValues:p,verticalValues:f}=i,g=ja(),v=Ze(I=>FI(I,"xAxis",a,g)),b=Ze(I=>FI(I,"yAxis",s,g));if(!Zo(u)||!Zo(c)||!at(o)||!at(l))return null;var x=i.verticalCoordinatesGenerator||Y3e,w=i.horizontalCoordinatesGenerator||X3e,{horizontalPoints:A,verticalPoints:P}=i;if((!A||!A.length)&&typeof w=="function"){var O=p&&p.length,D=w({yAxis:b?qi(qi({},b),{},{ticks:O?p:b.ticks}):void 0,width:t??u,height:n??c,offset:r},O?!0:d);Sy(Array.isArray(D),"horizontalCoordinatesGenerator should return Array but instead it returned [".concat(typeof D,"]")),Array.isArray(D)&&(A=D)}if((!P||!P.length)&&typeof x=="function"){var T=f&&f.length,k=x({xAxis:v?qi(qi({},v),{},{ticks:T?f:v.ticks}):void 0,width:t??u,height:n??c,offset:r},T?!0:d);Sy(Array.isArray(k),"verticalCoordinatesGenerator should return Array but instead it returned [".concat(typeof k,"]")),Array.isArray(k)&&(P=k)}return S.createElement(go,{zIndex:i.zIndex},S.createElement("g",{className:"recharts-cartesian-grid"},S.createElement(W3e,{fill:i.fill,fillOpacity:i.fillOpacity,x:i.x,y:i.y,width:i.width,height:i.height,ry:i.ry}),S.createElement(K3e,ud({},i,{horizontalPoints:A})),S.createElement(G3e,ud({},i,{verticalPoints:P})),S.createElement(q3e,ud({},i,{offset:r,horizontalPoints:A,xAxis:v,yAxis:b})),S.createElement(H3e,ud({},i,{offset:r,verticalPoints:P,xAxis:v,yAxis:b}))))}$P.displayName="CartesianGrid";var Z3e=["domain","range"],J3e=["domain","range"];function RO(e,t){if(e==null)return{};var n,r,i=e_e(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)===-1&&{}.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function e_e(e,t){if(e==null)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.indexOf(r)!==-1)continue;n[r]=e[r]}return n}function MO(e,t){return e===t?!0:Array.isArray(e)&&e.length===2&&Array.isArray(t)&&t.length===2?e[0]===t[0]&&e[1]===t[1]:!1}function mW(e,t){if(e===t)return!0;var{domain:n,range:r}=e,i=RO(e,Z3e),{domain:a,range:s}=t,o=RO(t,J3e);return!MO(n,a)||!MO(r,s)?!1:DP(i,o)}var t_e=["dangerouslySetInnerHTML","ticks"],n_e=["id"];function s_(){return s_=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},s_.apply(null,arguments)}function DO(e,t){if(e==null)return{};var n,r,i=r_e(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)===-1&&{}.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function r_e(e,t){if(e==null)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.indexOf(r)!==-1)continue;n[r]=e[r]}return n}function i_e(e){var t=jn(),n=S.useRef(null);return S.useLayoutEffect(()=>{n.current===null?t(l5e(e)):n.current!==e&&t(u5e({prev:n.current,next:e})),n.current=e},[e,t]),S.useLayoutEffect(()=>()=>{n.current&&(t(c5e(n.current)),n.current=null)},[t]),null}var a_e=e=>{var{xAxisId:t,className:n}=e,r=Ze(o6),i=ja(),a="xAxis",s=Ze(b=>Hh(b,a,t,i)),o=Ze(b=>J$(b,a,t,i)),l=Ze(b=>Y$(b,t)),u=Ze(b=>_ye(b,t)),c=Ze(b=>C$(b,t));if(l==null||u==null||c==null)return null;var{dangerouslySetInnerHTML:d,ticks:p}=e,f=DO(e,t_e),{id:g}=c,v=DO(c,n_e);return S.createElement(zP,s_({},f,v,{scale:s,x:u.x,y:u.y,width:l.width,height:l.height,className:yn("recharts-".concat(a," ").concat(a),n),viewBox:r,ticks:o,axisType:a}))},s_e={allowDataOverflow:ni.allowDataOverflow,allowDecimals:ni.allowDecimals,allowDuplicatedCategory:ni.allowDuplicatedCategory,angle:ni.angle,axisLine:Cl.axisLine,height:ni.height,hide:!1,includeHidden:ni.includeHidden,interval:ni.interval,minTickGap:ni.minTickGap,mirror:ni.mirror,orientation:ni.orientation,padding:ni.padding,reversed:ni.reversed,scale:ni.scale,tick:ni.tick,tickCount:ni.tickCount,tickLine:Cl.tickLine,tickSize:Cl.tickSize,type:ni.type,xAxisId:0},o_e=e=>{var t=di(e,s_e);return S.createElement(S.Fragment,null,S.createElement(i_e,{allowDataOverflow:t.allowDataOverflow,allowDecimals:t.allowDecimals,allowDuplicatedCategory:t.allowDuplicatedCategory,angle:t.angle,dataKey:t.dataKey,domain:t.domain,height:t.height,hide:t.hide,id:t.xAxisId,includeHidden:t.includeHidden,interval:t.interval,minTickGap:t.minTickGap,mirror:t.mirror,name:t.name,orientation:t.orientation,padding:t.padding,reversed:t.reversed,scale:t.scale,tick:t.tick,tickCount:t.tickCount,tickFormatter:t.tickFormatter,ticks:t.ticks,type:t.type,unit:t.unit}),S.createElement(a_e,t))},UP=S.memo(o_e,mW);UP.displayName="XAxis";var l_e=["dangerouslySetInnerHTML","ticks"],u_e=["id"];function o_(){return o_=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},o_.apply(null,arguments)}function FO(e,t){if(e==null)return{};var n,r,i=c_e(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)===-1&&{}.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function c_e(e,t){if(e==null)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.indexOf(r)!==-1)continue;n[r]=e[r]}return n}function d_e(e){var t=jn(),n=S.useRef(null);return S.useLayoutEffect(()=>{n.current===null?t(d5e(e)):n.current!==e&&t(f5e({prev:n.current,next:e})),n.current=e},[e,t]),S.useLayoutEffect(()=>()=>{n.current&&(t(h5e(n.current)),n.current=null)},[t]),null}var f_e=e=>{var{yAxisId:t,className:n,width:r,label:i}=e,a=S.useRef(null),s=S.useRef(null),o=Ze(o6),l=ja(),u=jn(),c="yAxis",d=Ze(O=>Hh(O,c,t,l)),p=Ze(O=>X$(O,t)),f=Ze(O=>Aye(O,t)),g=Ze(O=>J$(O,c,t,l)),v=Ze(O=>j$(O,t));if(S.useLayoutEffect(()=>{if(!(r!=="auto"||!p||NP(i)||S.isValidElement(i)||v==null)){var O=a.current;if(O){var D=O.getCalculatedWidth();Math.round(p.width)!==Math.round(D)&&u(p5e({id:t,width:D}))}}},[g,p,u,i,t,r,v]),p==null||f==null||v==null)return null;var{dangerouslySetInnerHTML:b,ticks:x}=e,w=FO(e,l_e),{id:A}=v,P=FO(v,u_e);return S.createElement(zP,o_({},w,P,{ref:a,labelRef:s,scale:d,x:f.x,y:f.y,tickTextProps:r==="auto"?{width:void 0}:{width:r},width:p.width,height:p.height,className:yn("recharts-".concat(c," ").concat(c),n),viewBox:o,ticks:g,axisType:c}))},h_e={allowDataOverflow:ri.allowDataOverflow,allowDecimals:ri.allowDecimals,allowDuplicatedCategory:ri.allowDuplicatedCategory,angle:ri.angle,axisLine:Cl.axisLine,hide:!1,includeHidden:ri.includeHidden,interval:ri.interval,minTickGap:ri.minTickGap,mirror:ri.mirror,orientation:ri.orientation,padding:ri.padding,reversed:ri.reversed,scale:ri.scale,tick:ri.tick,tickCount:ri.tickCount,tickLine:Cl.tickLine,tickSize:Cl.tickSize,type:ri.type,width:ri.width,yAxisId:0},p_e=e=>{var t=di(e,h_e);return S.createElement(S.Fragment,null,S.createElement(d_e,{interval:t.interval,id:t.yAxisId,scale:t.scale,type:t.type,domain:t.domain,allowDataOverflow:t.allowDataOverflow,dataKey:t.dataKey,allowDuplicatedCategory:t.allowDuplicatedCategory,allowDecimals:t.allowDecimals,tickCount:t.tickCount,padding:t.padding,includeHidden:t.includeHidden,reversed:t.reversed,ticks:t.ticks,width:t.width,orientation:t.orientation,mirror:t.mirror,hide:t.hide,unit:t.unit,name:t.name,angle:t.angle,minTickGap:t.minTickGap,tick:t.tick,tickFormatter:t.tickFormatter}),S.createElement(f_e,t))},WP=S.memo(p_e,mW);WP.displayName="YAxis";var m_e=(e,t)=>t,qP=Ae([m_e,tn,k$,Xr,mU,nu,B2e,Gr],H2e),HP=e=>{var t=e.currentTarget.getBoundingClientRect(),n=t.width/e.currentTarget.offsetWidth,r=t.height/e.currentTarget.offsetHeight;return{chartX:Math.round((e.clientX-t.left)/n),chartY:Math.round((e.clientY-t.top)/r)}},gW=js("mouseClick"),vW=K0();vW.startListening({actionCreator:gW,effect:(e,t)=>{var n=e.payload,r=qP(t.getState(),HP(n));(r==null?void 0:r.activeIndex)!=null&&t.dispatch(Fye({activeIndex:r.activeIndex,activeDataKey:void 0,activeCoordinate:r.activeCoordinate}))}});var l_=js("mouseMove"),yW=K0(),k1=null;yW.startListening({actionCreator:l_,effect:(e,t)=>{var n=e.payload;k1!==null&&cancelAnimationFrame(k1);var r=HP(n);k1=requestAnimationFrame(()=>{var i=t.getState(),a=gP(i,i.tooltip.settings.shared);if(a==="axis"){var s=qP(i,r);(s==null?void 0:s.activeIndex)!=null?t.dispatch(oU({activeIndex:s.activeIndex,activeDataKey:void 0,activeCoordinate:s.activeCoordinate})):t.dispatch(sU())}k1=null})}});var BO={accessibilityLayer:!0,barCategoryGap:"10%",barGap:4,barSize:void 0,className:void 0,maxBarSize:void 0,stackOffset:"none",syncId:void 0,syncMethod:"index",baseValue:void 0,reverseStackOrder:!1},xW=Ca({name:"rootProps",initialState:BO,reducers:{updateOptions:(e,t)=>{var n;e.accessibilityLayer=t.payload.accessibilityLayer,e.barCategoryGap=t.payload.barCategoryGap,e.barGap=(n=t.payload.barGap)!==null&&n!==void 0?n:BO.barGap,e.barSize=t.payload.barSize,e.maxBarSize=t.payload.maxBarSize,e.stackOffset=t.payload.stackOffset,e.syncId=t.payload.syncId,e.syncMethod=t.payload.syncMethod,e.className=t.payload.className,e.baseValue=t.payload.baseValue,e.reverseStackOrder=t.payload.reverseStackOrder}}}),g_e=xW.reducer,{updateOptions:v_e}=xW.actions,bW=Ca({name:"polarOptions",initialState:null,reducers:{updatePolarOptions:(e,t)=>t.payload}}),{updatePolarOptions:y_e}=bW.actions,x_e=bW.reducer,wW=js("keyDown"),_W=js("focus"),KP=K0();KP.startListening({actionCreator:wW,effect:(e,t)=>{var n=t.getState(),r=n.rootProps.accessibilityLayer!==!1;if(r){var{keyboardInteraction:i}=n.tooltip,a=e.payload;if(!(a!=="ArrowRight"&&a!=="ArrowLeft"&&a!=="Enter")){var s=vP(i,Gh(n),ag(n),ug(n)),o=s==null?-1:Number(s);if(!(!Number.isFinite(o)||o<0)){var l=nu(n);if(a==="Enter"){var u=qy(n,"axis","hover",String(i.index));t.dispatch(e_({active:!i.active,activeIndex:i.index,activeDataKey:i.dataKey,activeCoordinate:u}));return}var c=kye(n),d=c==="left-to-right"?1:-1,p=a==="ArrowRight"?1:-1,f=o+p*d;if(!(l==null||f>=l.length||f<0)){var g=qy(n,"axis","hover",String(f));t.dispatch(e_({active:!0,activeIndex:f.toString(),activeDataKey:void 0,activeCoordinate:g}))}}}}}});KP.startListening({actionCreator:_W,effect:(e,t)=>{var n=t.getState(),r=n.rootProps.accessibilityLayer!==!1;if(r){var{keyboardInteraction:i}=n.tooltip;if(!i.active&&i.index==null){var a="0",s=qy(n,"axis","hover",String(a));t.dispatch(e_({activeDataKey:void 0,active:!0,activeIndex:a,activeCoordinate:s}))}}}});var vs=js("externalEvent"),SW=K0(),o5=new Map;SW.startListening({actionCreator:vs,effect:(e,t)=>{var{handler:n,reactEvent:r}=e.payload;if(n!=null){r.persist();var i=r.type,a=o5.get(i);a!==void 0&&cancelAnimationFrame(a);var s=requestAnimationFrame(()=>{try{var o=t.getState(),l={activeCoordinate:A2e(o),activeDataKey:_P(o),activeIndex:Rd(o),activeLabel:yU(o),activeTooltipIndex:Rd(o),isTooltipActive:P2e(o)};n(l,r)}finally{o5.delete(i)}});o5.set(i,s)}}});var b_e=Ae([Kh],e=>e.tooltipItemPayloads),w_e=Ae([b_e,og,(e,t,n)=>t,(e,t,n)=>n],(e,t,n,r)=>{var i=e.find(o=>o.settings.dataKey===r);if(i!=null){var{positions:a}=i;if(a!=null){var s=t(a,n);return s}}}),AW=js("touchMove"),PW=K0();PW.startListening({actionCreator:AW,effect:(e,t)=>{var n=e.payload;if(!(n.touches==null||n.touches.length===0)){var r=t.getState(),i=gP(r,r.tooltip.settings.shared);if(i==="axis"){var a=qP(r,HP({clientX:n.touches[0].clientX,clientY:n.touches[0].clientY,currentTarget:n.currentTarget}));(a==null?void 0:a.activeIndex)!=null&&t.dispatch(oU({activeIndex:a.activeIndex,activeDataKey:void 0,activeCoordinate:a.activeCoordinate}))}else if(i==="item"){var s,o=n.touches[0];if(document.elementFromPoint==null)return;var l=document.elementFromPoint(o.clientX,o.clientY);if(!l||!l.getAttribute)return;var u=l.getAttribute(HV),c=(s=l.getAttribute(KV))!==null&&s!==void 0?s:void 0,d=w_e(t.getState(),u,c);t.dispatch(aU({activeDataKey:c,activeIndex:u,activeCoordinate:d}))}}}});var __e=pV({brush:r3e,cartesianAxis:m5e,chartData:_xe,errorBars:T5e,graphicalItems:Twe,layout:ape,legend:ume,options:vxe,polarAxis:qbe,polarOptions:x_e,referenceElements:c3e,rootProps:g_e,tooltip:Bye,zIndex:sxe}),S_e=function(t){return Che({reducer:__e,preloadedState:t,middleware:n=>{var r;return n({serializableCheck:!1,immutableCheck:!["commonjs","es6","production"].includes((r="es6")!==null&&r!==void 0?r:"")}).concat([vW.middleware,yW.middleware,KP.middleware,SW.middleware,PW.middleware])},enhancers:n=>{var r=n;return typeof n=="function"&&(r=n()),r.concat(TV({type:"raf"}))},devTools:X0.devToolsEnabled})};function EW(e){var{preloadedState:t,children:n,reduxStoreName:r}=e,i=ja(),a=S.useRef(null);if(i)return n;a.current==null&&(a.current=S_e(t));var s=XA;return S.createElement(a4e,{context:s,store:a.current},n)}function A_e(e){var{layout:t,margin:n}=e,r=jn(),i=ja();return S.useEffect(()=>{i||(r(npe(t)),r(tpe(n)))},[r,i,t,n]),null}var NW=S.memo(A_e,DP);function kW(e){var t=jn();return S.useEffect(()=>{t(v_e(e))},[t,e]),null}function VO(e){var{zIndex:t,isPanorama:n}=e,r=n?"recharts-zindex-panorama-":"recharts-zindex-",i=tW("".concat(r).concat(t)),a=jn();return S.useLayoutEffect(()=>(a(ixe({zIndex:t,elementId:i,isPanorama:n})),()=>{a(axe({zIndex:t,isPanorama:n}))}),[a,t,i,n]),S.createElement("g",{tabIndex:-1,id:i})}function zO(e){var{children:t,isPanorama:n}=e,r=Ze(G2e);if(!r||r.length===0)return t;var i=r.filter(s=>s<0),a=r.filter(s=>s>0);return S.createElement(S.Fragment,null,i.map(s=>S.createElement(VO,{key:s,zIndex:s,isPanorama:n})),t,a.map(s=>S.createElement(VO,{key:s,zIndex:s,isPanorama:n})))}var P_e=["children"];function E_e(e,t){if(e==null)return{};var n,r,i=N_e(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)===-1&&{}.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function N_e(e,t){if(e==null)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.indexOf(r)!==-1)continue;n[r]=e[r]}return n}function e2(){return e2=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},e2.apply(null,arguments)}var k_e={width:"100%",height:"100%",display:"block"},T_e=S.forwardRef((e,t)=>{var n=u6(),r=c6(),i=fz();if(!Zo(n)||!Zo(r))return null;var{children:a,otherAttributes:s,title:o,desc:l}=e,u,c;return s!=null&&(typeof s.tabIndex=="number"?u=s.tabIndex:u=i?0:void 0,typeof s.role=="string"?c=s.role:c=i?"application":void 0),S.createElement(RA,e2({},s,{title:o,desc:l,role:c,tabIndex:u,width:n,height:r,style:k_e,ref:t}),a)}),C_e=e=>{var{children:t}=e,n=Ze(px);if(!n)return null;var{width:r,height:i,y:a,x:s}=n;return S.createElement(RA,{width:r,height:i,x:s,y:a},t)},$O=S.forwardRef((e,t)=>{var{children:n}=e,r=E_e(e,P_e),i=ja();return i?S.createElement(C_e,null,S.createElement(zO,{isPanorama:!0},n)):S.createElement(T_e,e2({ref:t},r),S.createElement(zO,{isPanorama:!1},n))});function j_e(){var e=jn(),[t,n]=S.useState(null),r=Ze(Spe);return S.useEffect(()=>{if(t!=null){var i=t.getBoundingClientRect(),a=i.width/t.offsetWidth;Cr(a)&&a!==r&&e(ipe(a))}},[t,e,r]),n}function UO(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function I_e(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?UO(Object(n),!0).forEach(function(r){O_e(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):UO(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function O_e(e,t,n){return(t=L_e(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function L_e(e){var t=R_e(e,"string");return typeof t=="symbol"?t:t+""}function R_e(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Fd(){return Fd=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Fd.apply(null,arguments)}var M_e=()=>(jxe(),null);function t2(e){if(typeof e=="number")return e;if(typeof e=="string"){var t=parseFloat(e);if(!Number.isNaN(t))return t}return 0}var D_e=S.forwardRef((e,t)=>{var n,r,i=S.useRef(null),[a,s]=S.useState({containerWidth:t2((n=e.style)===null||n===void 0?void 0:n.width),containerHeight:t2((r=e.style)===null||r===void 0?void 0:r.height)}),o=S.useCallback((u,c)=>{s(d=>{var p=Math.round(u),f=Math.round(c);return d.containerWidth===p&&d.containerHeight===f?d:{containerWidth:p,containerHeight:f}})},[]),l=S.useCallback(u=>{if(typeof t=="function"&&t(u),u!=null&&typeof ResizeObserver<"u"){var{width:c,height:d}=u.getBoundingClientRect();o(c,d);var p=g=>{var{width:v,height:b}=g[0].contentRect;o(v,b)},f=new ResizeObserver(p);f.observe(u),i.current=f}},[t,o]);return S.useEffect(()=>()=>{var u=i.current;u!=null&&u.disconnect()},[o]),S.createElement(S.Fragment,null,S.createElement(vx,{width:a.containerWidth,height:a.containerHeight}),S.createElement("div",Fd({ref:l},e)))}),F_e=S.forwardRef((e,t)=>{var{width:n,height:r}=e,[i,a]=S.useState({containerWidth:t2(n),containerHeight:t2(r)}),s=S.useCallback((l,u)=>{a(c=>{var d=Math.round(l),p=Math.round(u);return c.containerWidth===d&&c.containerHeight===p?c:{containerWidth:d,containerHeight:p}})},[]),o=S.useCallback(l=>{if(typeof t=="function"&&t(l),l!=null){var{width:u,height:c}=l.getBoundingClientRect();s(u,c)}},[t,s]);return S.createElement(S.Fragment,null,S.createElement(vx,{width:i.containerWidth,height:i.containerHeight}),S.createElement("div",Fd({ref:o},e)))}),B_e=S.forwardRef((e,t)=>{var{width:n,height:r}=e;return S.createElement(S.Fragment,null,S.createElement(vx,{width:n,height:r}),S.createElement("div",Fd({ref:t},e)))}),V_e=S.forwardRef((e,t)=>{var{width:n,height:r}=e;return $l(n)||$l(r)?S.createElement(F_e,Fd({},e,{ref:t})):S.createElement(B_e,Fd({},e,{ref:t}))});function z_e(e){return e===!0?D_e:V_e}var $_e=S.forwardRef((e,t)=>{var{children:n,className:r,height:i,onClick:a,onContextMenu:s,onDoubleClick:o,onMouseDown:l,onMouseEnter:u,onMouseLeave:c,onMouseMove:d,onMouseUp:p,onTouchEnd:f,onTouchMove:g,onTouchStart:v,style:b,width:x,responsive:w,dispatchTouchEvents:A=!0}=e,P=S.useRef(null),O=jn(),[D,T]=S.useState(null),[k,I]=S.useState(null),M=j_e(),N=l6(),C=(N==null?void 0:N.width)>0?N.width:x,R=(N==null?void 0:N.height)>0?N.height:i,W=S.useCallback(J=>{M(J),typeof t=="function"&&t(J),T(J),I(J),J!=null&&(P.current=J)},[M,t,T,I]),Y=S.useCallback(J=>{O(gW(J)),O(vs({handler:a,reactEvent:J}))},[O,a]),ae=S.useCallback(J=>{O(l_(J)),O(vs({handler:u,reactEvent:J}))},[O,u]),ie=S.useCallback(J=>{O(sU()),O(vs({handler:c,reactEvent:J}))},[O,c]),H=S.useCallback(J=>{O(l_(J)),O(vs({handler:d,reactEvent:J}))},[O,d]),se=S.useCallback(()=>{O(_W())},[O]),ye=S.useCallback(J=>{O(wW(J.key))},[O]),be=S.useCallback(J=>{O(vs({handler:s,reactEvent:J}))},[O,s]),$=S.useCallback(J=>{O(vs({handler:o,reactEvent:J}))},[O,o]),X=S.useCallback(J=>{O(vs({handler:l,reactEvent:J}))},[O,l]),re=S.useCallback(J=>{O(vs({handler:p,reactEvent:J}))},[O,p]),oe=S.useCallback(J=>{O(vs({handler:v,reactEvent:J}))},[O,v]),de=S.useCallback(J=>{A&&O(AW(J)),O(vs({handler:g,reactEvent:J}))},[O,A,g]),ge=S.useCallback(J=>{O(vs({handler:f,reactEvent:J}))},[O,f]),ce=z_e(w);return S.createElement(PU.Provider,{value:D},S.createElement(mB.Provider,{value:k},S.createElement(ce,{width:C??(b==null?void 0:b.width),height:R??(b==null?void 0:b.height),className:yn("recharts-wrapper",r),style:I_e({position:"relative",cursor:"default",width:C,height:R},b),onClick:Y,onContextMenu:be,onDoubleClick:$,onFocus:se,onKeyDown:ye,onMouseDown:X,onMouseEnter:ae,onMouseLeave:ie,onMouseMove:H,onMouseUp:re,onTouchEnd:ge,onTouchMove:de,onTouchStart:oe,ref:W},S.createElement(M_e,null),n)))}),U_e=["width","height","responsive","children","className","style","compact","title","desc"];function W_e(e,t){if(e==null)return{};var n,r,i=q_e(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)===-1&&{}.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function q_e(e,t){if(e==null)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.indexOf(r)!==-1)continue;n[r]=e[r]}return n}var TW=S.forwardRef((e,t)=>{var{width:n,height:r,responsive:i,children:a,className:s,style:o,compact:l,title:u,desc:c}=e,d=W_e(e,U_e),p=lo(d);return l?S.createElement(S.Fragment,null,S.createElement(vx,{width:n,height:r}),S.createElement($O,{otherAttributes:p,title:u,desc:c},a)):S.createElement($_e,{className:s,style:o,width:n,height:r,responsive:i??!1,onClick:e.onClick,onMouseLeave:e.onMouseLeave,onMouseEnter:e.onMouseEnter,onMouseMove:e.onMouseMove,onMouseDown:e.onMouseDown,onMouseUp:e.onMouseUp,onContextMenu:e.onContextMenu,onDoubleClick:e.onDoubleClick,onTouchStart:e.onTouchStart,onTouchMove:e.onTouchMove,onTouchEnd:e.onTouchEnd},S.createElement($O,{otherAttributes:p,title:u,desc:c,ref:t},S.createElement(f3e,null,a)))});function u_(){return u_=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},u_.apply(null,arguments)}var H_e={top:5,right:5,bottom:5,left:5},K_e={accessibilityLayer:!0,barCategoryGap:"10%",barGap:4,layout:"horizontal",margin:H_e,responsive:!1,reverseStackOrder:!1,stackOffset:"none",syncMethod:"index"},G_e=S.forwardRef(function(t,n){var r,i=di(t.categoricalChartProps,K_e),{chartName:a,defaultTooltipEventType:s,validateTooltipEventTypes:o,tooltipPayloadSearcher:l,categoricalChartProps:u}=t,c={chartName:a,defaultTooltipEventType:s,validateTooltipEventTypes:o,tooltipPayloadSearcher:l,eventEmitter:void 0};return S.createElement(EW,{preloadedState:{options:c},reduxStoreName:(r=u.id)!==null&&r!==void 0?r:a},S.createElement(cW,{chartData:u.data}),S.createElement(NW,{layout:i.layout,margin:i.margin}),S.createElement(kW,{baseValue:i.baseValue,accessibilityLayer:i.accessibilityLayer,barCategoryGap:i.barCategoryGap,maxBarSize:i.maxBarSize,stackOffset:i.stackOffset,barGap:i.barGap,barSize:i.barSize,syncId:i.syncId,syncMethod:i.syncMethod,className:i.className,reverseStackOrder:i.reverseStackOrder}),S.createElement(TW,u_({},i,{ref:n})))}),Y_e=["axis","item"],CW=S.forwardRef((e,t)=>S.createElement(G_e,{chartName:"BarChart",defaultTooltipEventType:"axis",validateTooltipEventTypes:Y_e,tooltipPayloadSearcher:NU,categoricalChartProps:e,ref:t}));function X_e(e){var t=jn();return S.useEffect(()=>{t(y_e(e))},[t,e]),null}var Q_e=["layout"];function c_(){return c_=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},c_.apply(null,arguments)}function Z_e(e,t){if(e==null)return{};var n,r,i=J_e(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)===-1&&{}.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function J_e(e,t){if(e==null)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.indexOf(r)!==-1)continue;n[r]=e[r]}return n}var eSe={top:5,right:5,bottom:5,left:5},jW={accessibilityLayer:!0,stackOffset:"none",barCategoryGap:"10%",barGap:4,margin:eSe,reverseStackOrder:!1,syncMethod:"index",layout:"radial",responsive:!1,cx:"50%",cy:"50%",innerRadius:0,outerRadius:"80%"},tSe=S.forwardRef(function(t,n){var r,i=di(t.categoricalChartProps,jW),{layout:a}=i,s=Z_e(i,Q_e),{chartName:o,defaultTooltipEventType:l,validateTooltipEventTypes:u,tooltipPayloadSearcher:c}=t,d={chartName:o,defaultTooltipEventType:l,validateTooltipEventTypes:u,tooltipPayloadSearcher:c,eventEmitter:void 0};return S.createElement(EW,{preloadedState:{options:d},reduxStoreName:(r=i.id)!==null&&r!==void 0?r:o},S.createElement(cW,{chartData:i.data}),S.createElement(NW,{layout:a,margin:i.margin}),S.createElement(kW,{baseValue:void 0,accessibilityLayer:i.accessibilityLayer,barCategoryGap:i.barCategoryGap,maxBarSize:i.maxBarSize,stackOffset:i.stackOffset,barGap:i.barGap,barSize:i.barSize,syncId:i.syncId,syncMethod:i.syncMethod,className:i.className,reverseStackOrder:i.reverseStackOrder}),S.createElement(X_e,{cx:i.cx,cy:i.cy,startAngle:i.startAngle,endAngle:i.endAngle,innerRadius:i.innerRadius,outerRadius:i.outerRadius}),S.createElement(TW,c_({},s,{ref:n})))});function WO(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function qO(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?WO(Object(n),!0).forEach(function(r){nSe(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):WO(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function nSe(e,t,n){return(t=rSe(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function rSe(e){var t=iSe(e,"string");return typeof t=="symbol"?t:t+""}function iSe(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var aSe=["item"],sSe=qO(qO({},jW),{},{layout:"centric",startAngle:0,endAngle:360}),IW=S.forwardRef((e,t)=>{var n=di(e,sSe);return S.createElement(tSe,{chartName:"PieChart",defaultTooltipEventType:"item",validateTooltipEventTypes:aSe,tooltipPayloadSearcher:NU,categoricalChartProps:n,ref:t})});const OW=6048e5,oSe=864e5,HO=Symbol.for("constructDateFrom");function pc(e,t){return typeof e=="function"?e(t):e&&typeof e=="object"&&HO in e?e[HO](t):e instanceof Date?new e.constructor(t):new Date(t)}function vo(e,t){return pc(t||e,e)}let lSe={};function Zx(){return lSe}function g0(e,t){var o,l,u,c;const n=Zx(),r=(t==null?void 0:t.weekStartsOn)??((l=(o=t==null?void 0:t.locale)==null?void 0:o.options)==null?void 0:l.weekStartsOn)??n.weekStartsOn??((c=(u=n.locale)==null?void 0:u.options)==null?void 0:c.weekStartsOn)??0,i=vo(e,t==null?void 0:t.in),a=i.getDay(),s=(a<r?7:0)+a-r;return i.setDate(i.getDate()-s),i.setHours(0,0,0,0),i}function n2(e,t){return g0(e,{...t,weekStartsOn:1})}function LW(e,t){const n=vo(e,t==null?void 0:t.in),r=n.getFullYear(),i=pc(n,0);i.setFullYear(r+1,0,4),i.setHours(0,0,0,0);const a=n2(i),s=pc(n,0);s.setFullYear(r,0,4),s.setHours(0,0,0,0);const o=n2(s);return n.getTime()>=a.getTime()?r+1:n.getTime()>=o.getTime()?r:r-1}function KO(e){const t=vo(e),n=new Date(Date.UTC(t.getFullYear(),t.getMonth(),t.getDate(),t.getHours(),t.getMinutes(),t.getSeconds(),t.getMilliseconds()));return n.setUTCFullYear(t.getFullYear()),+e-+n}function uSe(e,...t){const n=pc.bind(null,t.find(r=>typeof r=="object"));return t.map(n)}function GO(e,t){const n=vo(e,t==null?void 0:t.in);return n.setHours(0,0,0,0),n}function cSe(e,t,n){const[r,i]=uSe(n==null?void 0:n.in,e,t),a=GO(r),s=GO(i),o=+a-KO(a),l=+s-KO(s);return Math.round((o-l)/oSe)}function dSe(e,t){const n=LW(e,t),r=pc(e,0);return r.setFullYear(n,0,4),r.setHours(0,0,0,0),n2(r)}function fSe(e){return e instanceof Date||typeof e=="object"&&Object.prototype.toString.call(e)==="[object Date]"}function hSe(e){return!(!fSe(e)&&typeof e!="number"||isNaN(+vo(e)))}function pSe(e,t){const n=vo(e,t==null?void 0:t.in);return n.setFullYear(n.getFullYear(),0,1),n.setHours(0,0,0,0),n}const mSe={lessThanXSeconds:{one:"less than a second",other:"less than {{count}} seconds"},xSeconds:{one:"1 second",other:"{{count}} seconds"},halfAMinute:"half a minute",lessThanXMinutes:{one:"less than a minute",other:"less than {{count}} minutes"},xMinutes:{one:"1 minute",other:"{{count}} minutes"},aboutXHours:{one:"about 1 hour",other:"about {{count}} hours"},xHours:{one:"1 hour",other:"{{count}} hours"},xDays:{one:"1 day",other:"{{count}} days"},aboutXWeeks:{one:"about 1 week",other:"about {{count}} weeks"},xWeeks:{one:"1 week",other:"{{count}} weeks"},aboutXMonths:{one:"about 1 month",other:"about {{count}} months"},xMonths:{one:"1 month",other:"{{count}} months"},aboutXYears:{one:"about 1 year",other:"about {{count}} years"},xYears:{one:"1 year",other:"{{count}} years"},overXYears:{one:"over 1 year",other:"over {{count}} years"},almostXYears:{one:"almost 1 year",other:"almost {{count}} years"}},gSe=(e,t,n)=>{let r;const i=mSe[e];return typeof i=="string"?r=i:t===1?r=i.one:r=i.other.replace("{{count}}",t.toString()),n!=null&&n.addSuffix?n.comparison&&n.comparison>0?"in "+r:r+" ago":r};function l5(e){return(t={})=>{const n=t.width?String(t.width):e.defaultWidth;return e.formats[n]||e.formats[e.defaultWidth]}}const vSe={full:"EEEE, MMMM do, y",long:"MMMM do, y",medium:"MMM d, y",short:"MM/dd/yyyy"},ySe={full:"h:mm:ss a zzzz",long:"h:mm:ss a z",medium:"h:mm:ss a",short:"h:mm a"},xSe={full:"{{date}} 'at' {{time}}",long:"{{date}} 'at' {{time}}",medium:"{{date}}, {{time}}",short:"{{date}}, {{time}}"},bSe={date:l5({formats:vSe,defaultWidth:"full"}),time:l5({formats:ySe,defaultWidth:"full"}),dateTime:l5({formats:xSe,defaultWidth:"full"})},wSe={lastWeek:"'last' eeee 'at' p",yesterday:"'yesterday at' p",today:"'today at' p",tomorrow:"'tomorrow at' p",nextWeek:"eeee 'at' p",other:"P"},_Se=(e,t,n,r)=>wSe[e];function Dp(e){return(t,n)=>{const r=n!=null&&n.context?String(n.context):"standalone";let i;if(r==="formatting"&&e.formattingValues){const s=e.defaultFormattingWidth||e.defaultWidth,o=n!=null&&n.width?String(n.width):s;i=e.formattingValues[o]||e.formattingValues[s]}else{const s=e.defaultWidth,o=n!=null&&n.width?String(n.width):e.defaultWidth;i=e.values[o]||e.values[s]}const a=e.argumentCallback?e.argumentCallback(t):t;return i[a]}}const SSe={narrow:["B","A"],abbreviated:["BC","AD"],wide:["Before Christ","Anno Domini"]},ASe={narrow:["1","2","3","4"],abbreviated:["Q1","Q2","Q3","Q4"],wide:["1st quarter","2nd quarter","3rd quarter","4th quarter"]},PSe={narrow:["J","F","M","A","M","J","J","A","S","O","N","D"],abbreviated:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],wide:["January","February","March","April","May","June","July","August","September","October","November","December"]},ESe={narrow:["S","M","T","W","T","F","S"],short:["Su","Mo","Tu","We","Th","Fr","Sa"],abbreviated:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],wide:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"]},NSe={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"}},kSe={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"}},TSe=(e,t)=>{const n=Number(e),r=n%100;if(r>20||r<10)switch(r%10){case 1:return n+"st";case 2:return n+"nd";case 3:return n+"rd"}return n+"th"},CSe={ordinalNumber:TSe,era:Dp({values:SSe,defaultWidth:"wide"}),quarter:Dp({values:ASe,defaultWidth:"wide",argumentCallback:e=>e-1}),month:Dp({values:PSe,defaultWidth:"wide"}),day:Dp({values:ESe,defaultWidth:"wide"}),dayPeriod:Dp({values:NSe,defaultWidth:"wide",formattingValues:kSe,defaultFormattingWidth:"wide"})};function Fp(e){return(t,n={})=>{const r=n.width,i=r&&e.matchPatterns[r]||e.matchPatterns[e.defaultMatchWidth],a=t.match(i);if(!a)return null;const s=a[0],o=r&&e.parsePatterns[r]||e.parsePatterns[e.defaultParseWidth],l=Array.isArray(o)?ISe(o,d=>d.test(s)):jSe(o,d=>d.test(s));let u;u=e.valueCallback?e.valueCallback(l):l,u=n.valueCallback?n.valueCallback(u):u;const c=t.slice(s.length);return{value:u,rest:c}}}function jSe(e,t){for(const n in e)if(Object.prototype.hasOwnProperty.call(e,n)&&t(e[n]))return n}function ISe(e,t){for(let n=0;n<e.length;n++)if(t(e[n]))return n}function OSe(e){return(t,n={})=>{const r=t.match(e.matchPattern);if(!r)return null;const i=r[0],a=t.match(e.parsePattern);if(!a)return null;let s=e.valueCallback?e.valueCallback(a[0]):a[0];s=n.valueCallback?n.valueCallback(s):s;const o=t.slice(i.length);return{value:s,rest:o}}}const LSe=/^(\d+)(th|st|nd|rd)?/i,RSe=/\d+/i,MSe={narrow:/^(b|a)/i,abbreviated:/^(b\.?\s?c\.?|b\.?\s?c\.?\s?e\.?|a\.?\s?d\.?|c\.?\s?e\.?)/i,wide:/^(before christ|before common era|anno domini|common era)/i},DSe={any:[/^b/i,/^(a|c)/i]},FSe={narrow:/^[1234]/i,abbreviated:/^q[1234]/i,wide:/^[1234](th|st|nd|rd)? quarter/i},BSe={any:[/1/i,/2/i,/3/i,/4/i]},VSe={narrow:/^[jfmasond]/i,abbreviated:/^(jan|feb|mar|apr|may|jun|jul|aug|sep|oct|nov|dec)/i,wide:/^(january|february|march|april|may|june|july|august|september|october|november|december)/i},zSe={narrow:[/^j/i,/^f/i,/^m/i,/^a/i,/^m/i,/^j/i,/^j/i,/^a/i,/^s/i,/^o/i,/^n/i,/^d/i],any:[/^ja/i,/^f/i,/^mar/i,/^ap/i,/^may/i,/^jun/i,/^jul/i,/^au/i,/^s/i,/^o/i,/^n/i,/^d/i]},$Se={narrow:/^[smtwf]/i,short:/^(su|mo|tu|we|th|fr|sa)/i,abbreviated:/^(sun|mon|tue|wed|thu|fri|sat)/i,wide:/^(sunday|monday|tuesday|wednesday|thursday|friday|saturday)/i},USe={narrow:[/^s/i,/^m/i,/^t/i,/^w/i,/^t/i,/^f/i,/^s/i],any:[/^su/i,/^m/i,/^tu/i,/^w/i,/^th/i,/^f/i,/^sa/i]},WSe={narrow:/^(a|p|mi|n|(in the|at) (morning|afternoon|evening|night))/i,any:/^([ap]\.?\s?m\.?|midnight|noon|(in the|at) (morning|afternoon|evening|night))/i},qSe={any:{am:/^a/i,pm:/^p/i,midnight:/^mi/i,noon:/^no/i,morning:/morning/i,afternoon:/afternoon/i,evening:/evening/i,night:/night/i}},HSe={ordinalNumber:OSe({matchPattern:LSe,parsePattern:RSe,valueCallback:e=>parseInt(e,10)}),era:Fp({matchPatterns:MSe,defaultMatchWidth:"wide",parsePatterns:DSe,defaultParseWidth:"any"}),quarter:Fp({matchPatterns:FSe,defaultMatchWidth:"wide",parsePatterns:BSe,defaultParseWidth:"any",valueCallback:e=>e+1}),month:Fp({matchPatterns:VSe,defaultMatchWidth:"wide",parsePatterns:zSe,defaultParseWidth:"any"}),day:Fp({matchPatterns:$Se,defaultMatchWidth:"wide",parsePatterns:USe,defaultParseWidth:"any"}),dayPeriod:Fp({matchPatterns:WSe,defaultMatchWidth:"any",parsePatterns:qSe,defaultParseWidth:"any"})},KSe={code:"en-US",formatDistance:gSe,formatLong:bSe,formatRelative:_Se,localize:CSe,match:HSe,options:{weekStartsOn:0,firstWeekContainsDate:1}};function GSe(e,t){const n=vo(e,t==null?void 0:t.in);return cSe(n,pSe(n))+1}function YSe(e,t){const n=vo(e,t==null?void 0:t.in),r=+n2(n)-+dSe(n);return Math.round(r/OW)+1}function RW(e,t){var c,d,p,f;const n=vo(e,t==null?void 0:t.in),r=n.getFullYear(),i=Zx(),a=(t==null?void 0:t.firstWeekContainsDate)??((d=(c=t==null?void 0:t.locale)==null?void 0:c.options)==null?void 0:d.firstWeekContainsDate)??i.firstWeekContainsDate??((f=(p=i.locale)==null?void 0:p.options)==null?void 0:f.firstWeekContainsDate)??1,s=pc((t==null?void 0:t.in)||e,0);s.setFullYear(r+1,0,a),s.setHours(0,0,0,0);const o=g0(s,t),l=pc((t==null?void 0:t.in)||e,0);l.setFullYear(r,0,a),l.setHours(0,0,0,0);const u=g0(l,t);return+n>=+o?r+1:+n>=+u?r:r-1}function XSe(e,t){var o,l,u,c;const n=Zx(),r=(t==null?void 0:t.firstWeekContainsDate)??((l=(o=t==null?void 0:t.locale)==null?void 0:o.options)==null?void 0:l.firstWeekContainsDate)??n.firstWeekContainsDate??((c=(u=n.locale)==null?void 0:u.options)==null?void 0:c.firstWeekContainsDate)??1,i=RW(e,t),a=pc((t==null?void 0:t.in)||e,0);return a.setFullYear(i,0,r),a.setHours(0,0,0,0),g0(a,t)}function QSe(e,t){const n=vo(e,t==null?void 0:t.in),r=+g0(n,t)-+XSe(n,t);return Math.round(r/OW)+1}function hn(e,t){const n=e<0?"-":"",r=Math.abs(e).toString().padStart(t,"0");return n+r}const ku={y(e,t){const n=e.getFullYear(),r=n>0?n:1-n;return hn(t==="yy"?r%100:r,t.length)},M(e,t){const n=e.getMonth();return t==="M"?String(n+1):hn(n+1,2)},d(e,t){return hn(e.getDate(),t.length)},a(e,t){const n=e.getHours()/12>=1?"pm":"am";switch(t){case"a":case"aa":return n.toUpperCase();case"aaa":return n;case"aaaaa":return n[0];case"aaaa":default:return n==="am"?"a.m.":"p.m."}},h(e,t){return hn(e.getHours()%12||12,t.length)},H(e,t){return hn(e.getHours(),t.length)},m(e,t){return hn(e.getMinutes(),t.length)},s(e,t){return hn(e.getSeconds(),t.length)},S(e,t){const n=t.length,r=e.getMilliseconds(),i=Math.trunc(r*Math.pow(10,n-3));return hn(i,t.length)}},cf={midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},YO={G:function(e,t,n){const r=e.getFullYear()>0?1:0;switch(t){case"G":case"GG":case"GGG":return n.era(r,{width:"abbreviated"});case"GGGGG":return n.era(r,{width:"narrow"});case"GGGG":default:return n.era(r,{width:"wide"})}},y:function(e,t,n){if(t==="yo"){const r=e.getFullYear(),i=r>0?r:1-r;return n.ordinalNumber(i,{unit:"year"})}return ku.y(e,t)},Y:function(e,t,n,r){const i=RW(e,r),a=i>0?i:1-i;if(t==="YY"){const s=a%100;return hn(s,2)}return t==="Yo"?n.ordinalNumber(a,{unit:"year"}):hn(a,t.length)},R:function(e,t){const n=LW(e);return hn(n,t.length)},u:function(e,t){const n=e.getFullYear();return hn(n,t.length)},Q:function(e,t,n){const r=Math.ceil((e.getMonth()+1)/3);switch(t){case"Q":return String(r);case"QQ":return hn(r,2);case"Qo":return n.ordinalNumber(r,{unit:"quarter"});case"QQQ":return n.quarter(r,{width:"abbreviated",context:"formatting"});case"QQQQQ":return n.quarter(r,{width:"narrow",context:"formatting"});case"QQQQ":default:return n.quarter(r,{width:"wide",context:"formatting"})}},q:function(e,t,n){const r=Math.ceil((e.getMonth()+1)/3);switch(t){case"q":return String(r);case"qq":return hn(r,2);case"qo":return n.ordinalNumber(r,{unit:"quarter"});case"qqq":return n.quarter(r,{width:"abbreviated",context:"standalone"});case"qqqqq":return n.quarter(r,{width:"narrow",context:"standalone"});case"qqqq":default:return n.quarter(r,{width:"wide",context:"standalone"})}},M:function(e,t,n){const r=e.getMonth();switch(t){case"M":case"MM":return ku.M(e,t);case"Mo":return n.ordinalNumber(r+1,{unit:"month"});case"MMM":return n.month(r,{width:"abbreviated",context:"formatting"});case"MMMMM":return n.month(r,{width:"narrow",context:"formatting"});case"MMMM":default:return n.month(r,{width:"wide",context:"formatting"})}},L:function(e,t,n){const r=e.getMonth();switch(t){case"L":return String(r+1);case"LL":return hn(r+1,2);case"Lo":return n.ordinalNumber(r+1,{unit:"month"});case"LLL":return n.month(r,{width:"abbreviated",context:"standalone"});case"LLLLL":return n.month(r,{width:"narrow",context:"standalone"});case"LLLL":default:return n.month(r,{width:"wide",context:"standalone"})}},w:function(e,t,n,r){const i=QSe(e,r);return t==="wo"?n.ordinalNumber(i,{unit:"week"}):hn(i,t.length)},I:function(e,t,n){const r=YSe(e);return t==="Io"?n.ordinalNumber(r,{unit:"week"}):hn(r,t.length)},d:function(e,t,n){return t==="do"?n.ordinalNumber(e.getDate(),{unit:"date"}):ku.d(e,t)},D:function(e,t,n){const r=GSe(e);return t==="Do"?n.ordinalNumber(r,{unit:"dayOfYear"}):hn(r,t.length)},E:function(e,t,n){const r=e.getDay();switch(t){case"E":case"EE":case"EEE":return n.day(r,{width:"abbreviated",context:"formatting"});case"EEEEE":return n.day(r,{width:"narrow",context:"formatting"});case"EEEEEE":return n.day(r,{width:"short",context:"formatting"});case"EEEE":default:return n.day(r,{width:"wide",context:"formatting"})}},e:function(e,t,n,r){const i=e.getDay(),a=(i-r.weekStartsOn+8)%7||7;switch(t){case"e":return String(a);case"ee":return hn(a,2);case"eo":return n.ordinalNumber(a,{unit:"day"});case"eee":return n.day(i,{width:"abbreviated",context:"formatting"});case"eeeee":return n.day(i,{width:"narrow",context:"formatting"});case"eeeeee":return n.day(i,{width:"short",context:"formatting"});case"eeee":default:return n.day(i,{width:"wide",context:"formatting"})}},c:function(e,t,n,r){const i=e.getDay(),a=(i-r.weekStartsOn+8)%7||7;switch(t){case"c":return String(a);case"cc":return hn(a,t.length);case"co":return n.ordinalNumber(a,{unit:"day"});case"ccc":return n.day(i,{width:"abbreviated",context:"standalone"});case"ccccc":return n.day(i,{width:"narrow",context:"standalone"});case"cccccc":return n.day(i,{width:"short",context:"standalone"});case"cccc":default:return n.day(i,{width:"wide",context:"standalone"})}},i:function(e,t,n){const r=e.getDay(),i=r===0?7:r;switch(t){case"i":return String(i);case"ii":return hn(i,t.length);case"io":return n.ordinalNumber(i,{unit:"day"});case"iii":return n.day(r,{width:"abbreviated",context:"formatting"});case"iiiii":return n.day(r,{width:"narrow",context:"formatting"});case"iiiiii":return n.day(r,{width:"short",context:"formatting"});case"iiii":default:return n.day(r,{width:"wide",context:"formatting"})}},a:function(e,t,n){const i=e.getHours()/12>=1?"pm":"am";switch(t){case"a":case"aa":return n.dayPeriod(i,{width:"abbreviated",context:"formatting"});case"aaa":return n.dayPeriod(i,{width:"abbreviated",context:"formatting"}).toLowerCase();case"aaaaa":return n.dayPeriod(i,{width:"narrow",context:"formatting"});case"aaaa":default:return n.dayPeriod(i,{width:"wide",context:"formatting"})}},b:function(e,t,n){const r=e.getHours();let i;switch(r===12?i=cf.noon:r===0?i=cf.midnight:i=r/12>=1?"pm":"am",t){case"b":case"bb":return n.dayPeriod(i,{width:"abbreviated",context:"formatting"});case"bbb":return n.dayPeriod(i,{width:"abbreviated",context:"formatting"}).toLowerCase();case"bbbbb":return n.dayPeriod(i,{width:"narrow",context:"formatting"});case"bbbb":default:return n.dayPeriod(i,{width:"wide",context:"formatting"})}},B:function(e,t,n){const r=e.getHours();let i;switch(r>=17?i=cf.evening:r>=12?i=cf.afternoon:r>=4?i=cf.morning:i=cf.night,t){case"B":case"BB":case"BBB":return n.dayPeriod(i,{width:"abbreviated",context:"formatting"});case"BBBBB":return n.dayPeriod(i,{width:"narrow",context:"formatting"});case"BBBB":default:return n.dayPeriod(i,{width:"wide",context:"formatting"})}},h:function(e,t,n){if(t==="ho"){let r=e.getHours()%12;return r===0&&(r=12),n.ordinalNumber(r,{unit:"hour"})}return ku.h(e,t)},H:function(e,t,n){return t==="Ho"?n.ordinalNumber(e.getHours(),{unit:"hour"}):ku.H(e,t)},K:function(e,t,n){const r=e.getHours()%12;return t==="Ko"?n.ordinalNumber(r,{unit:"hour"}):hn(r,t.length)},k:function(e,t,n){let r=e.getHours();return r===0&&(r=24),t==="ko"?n.ordinalNumber(r,{unit:"hour"}):hn(r,t.length)},m:function(e,t,n){return t==="mo"?n.ordinalNumber(e.getMinutes(),{unit:"minute"}):ku.m(e,t)},s:function(e,t,n){return t==="so"?n.ordinalNumber(e.getSeconds(),{unit:"second"}):ku.s(e,t)},S:function(e,t){return ku.S(e,t)},X:function(e,t,n){const r=e.getTimezoneOffset();if(r===0)return"Z";switch(t){case"X":return QO(r);case"XXXX":case"XX":return Jc(r);case"XXXXX":case"XXX":default:return Jc(r,":")}},x:function(e,t,n){const r=e.getTimezoneOffset();switch(t){case"x":return QO(r);case"xxxx":case"xx":return Jc(r);case"xxxxx":case"xxx":default:return Jc(r,":")}},O:function(e,t,n){const r=e.getTimezoneOffset();switch(t){case"O":case"OO":case"OOO":return"GMT"+XO(r,":");case"OOOO":default:return"GMT"+Jc(r,":")}},z:function(e,t,n){const r=e.getTimezoneOffset();switch(t){case"z":case"zz":case"zzz":return"GMT"+XO(r,":");case"zzzz":default:return"GMT"+Jc(r,":")}},t:function(e,t,n){const r=Math.trunc(+e/1e3);return hn(r,t.length)},T:function(e,t,n){return hn(+e,t.length)}};function XO(e,t=""){const n=e>0?"-":"+",r=Math.abs(e),i=Math.trunc(r/60),a=r%60;return a===0?n+String(i):n+String(i)+t+hn(a,2)}function QO(e,t){return e%60===0?(e>0?"-":"+")+hn(Math.abs(e)/60,2):Jc(e,t)}function Jc(e,t=""){const n=e>0?"-":"+",r=Math.abs(e),i=hn(Math.trunc(r/60),2),a=hn(r%60,2);return n+i+t+a}const ZO=(e,t)=>{switch(e){case"P":return t.date({width:"short"});case"PP":return t.date({width:"medium"});case"PPP":return t.date({width:"long"});case"PPPP":default:return t.date({width:"full"})}},MW=(e,t)=>{switch(e){case"p":return t.time({width:"short"});case"pp":return t.time({width:"medium"});case"ppp":return t.time({width:"long"});case"pppp":default:return t.time({width:"full"})}},ZSe=(e,t)=>{const n=e.match(/(P+)(p+)?/)||[],r=n[1],i=n[2];if(!i)return ZO(e,t);let a;switch(r){case"P":a=t.dateTime({width:"short"});break;case"PP":a=t.dateTime({width:"medium"});break;case"PPP":a=t.dateTime({width:"long"});break;case"PPPP":default:a=t.dateTime({width:"full"});break}return a.replace("{{date}}",ZO(r,t)).replace("{{time}}",MW(i,t))},JSe={p:MW,P:ZSe},eAe=/^D+$/,tAe=/^Y+$/,nAe=["D","DD","YY","YYYY"];function rAe(e){return eAe.test(e)}function iAe(e){return tAe.test(e)}function aAe(e,t,n){const r=sAe(e,t,n);if(console.warn(r),nAe.includes(e))throw new RangeError(r)}function sAe(e,t,n){const r=e[0]==="Y"?"years":"days of the month";return`Use \`${e.toLowerCase()}\` instead of \`${e}\` (in \`${t}\`) for formatting ${r} to the input \`${n}\`; see: https://github.com/date-fns/date-fns/blob/master/docs/unicodeTokens.md`}const oAe=/[yYQqMLwIdDecihHKkms]o|(\w)\1*|''|'(''|[^'])+('|$)|./g,lAe=/P+p+|P+|p+|''|'(''|[^'])+('|$)|./g,uAe=/^'([^]*?)'?$/,cAe=/''/g,dAe=/[a-zA-Z]/;function Wc(e,t,n){var c,d,p,f;const r=Zx(),i=r.locale??KSe,a=r.firstWeekContainsDate??((d=(c=r.locale)==null?void 0:c.options)==null?void 0:d.firstWeekContainsDate)??1,s=r.weekStartsOn??((f=(p=r.locale)==null?void 0:p.options)==null?void 0:f.weekStartsOn)??0,o=vo(e,n==null?void 0:n.in);if(!hSe(o))throw new RangeError("Invalid time value");let l=t.match(lAe).map(g=>{const v=g[0];if(v==="p"||v==="P"){const b=JSe[v];return b(g,i.formatLong)}return g}).join("").match(oAe).map(g=>{if(g==="''")return{isToken:!1,value:"'"};const v=g[0];if(v==="'")return{isToken:!1,value:fAe(g)};if(YO[v])return{isToken:!0,value:g};if(v.match(dAe))throw new RangeError("Format string contains an unescaped latin alphabet character `"+v+"`");return{isToken:!1,value:g}});i.localize.preprocessor&&(l=i.localize.preprocessor(o,l));const u={firstWeekContainsDate:a,weekStartsOn:s,locale:i};return l.map(g=>{if(!g.isToken)return g.value;const v=g.value;(iAe(v)||rAe(v))&&aAe(v,t,String(e));const b=YO[v[0]];return b(o,v,i.localize,u)}).join("")}function fAe(e){const t=e.match(uAe);return t?t[1].replace(cAe,"'"):e}const hAe=()=>{const[e,t]=S.useState([]),[n,r]=S.useState(!1),[i,a]=S.useState(null),[s,o]=S.useState({startDate:new Date(new Date().getFullYear(),new Date().getMonth(),1).toISOString().split("T")[0],endDate:new Date().toISOString().split("T")[0]}),[l,u]=S.useState({totalDiscountGiven:0,discountCount:0,avgDiscount:0,discountPercentage:0,totalGrossSales:0,maxDiscountValues:{amount:0,reason:"N/A"}}),[c,d]=S.useState([]),[p,f]=S.useState([]);S.useEffect(()=>{g()},[s]);const g=async()=>{r(!0);try{const[P,O]=await Promise.all([Fl(new Date(s.startDate),new Date(s.endDate)),fo()]);O&&a(O);const D=P.filter(T=>(Number(T.discount)||0)>0);v(P,D),t(D)}catch(P){console.error("Error fetching report:",P)}finally{r(!1)}},v=(P,O)=>{const D=O.reduce((R,W)=>R+(Number(W.discount)||0),0),T=P.reduce((R,W)=>R+(Number(W.subTotal)||Number(W.totalAmount)||0),0);let k={amount:0,reason:"N/A"};O.forEach(R=>{(Number(R.discount)||0)>k.amount&&(k={amount:R.discount,reason:R.discountReason||"Manual"})});const I={};O.forEach(R=>{const W=R.discountReason||(R.couponCode?`Coupon: ${R.couponCode}`:"Manual Override");I[W]||(I[W]=0),I[W]+=Number(R.discount)});const M=Object.keys(I).map(R=>({name:R,value:I[R]})).sort((R,W)=>W.value-R.value),N={};O.forEach(R=>{const W=R.finalizedAt?Wc(R.finalizedAt,"dd MMM"):"Unknown";N[W]||(N[W]=0),N[W]+=Number(R.discount)});const C=Object.keys(N).map(R=>({date:R,amount:N[R]}));u({totalDiscountGiven:D,discountCount:O.length,avgDiscount:O.length?D/O.length:0,discountPercentage:T?D/T*100:0,totalGrossSales:T,maxDiscountValues:k}),d(M),f(C)},b=P=>{o({...s,[P.target.name]:P.target.value})},x=()=>{if(!e.length){alert("No data to export.");return}const O=[["Date","Time","Bill ID","Table","Staff","Order Type","Bill Amount","Discount Amount","Discount %","Reason","Coupon Code"].join(",")];e.forEach(I=>{const M=I.finalizedAt?Wc(I.finalizedAt,"yyyy-MM-dd"):"",N=I.finalizedAt?Wc(I.finalizedAt,"HH:mm"):"",C=Number(I.subTotal)||Number(I.totalAmount)||0,R=Number(I.discount)||0,W=C>0?(R/C*100).toFixed(2):0,Y=[M,N,`"${I.id}"`,`"${I.tableName||"N/A"}"`,`"${I.staffName||"N/A"}"`,`"${I.orderType||"N/A"}"`,C,R,`${W}%`,`"${I.discountReason||"Manual"}"`,`"${I.couponCode||""}"`];O.push(Y.join(","))});const D="data:text/csv;charset=utf-8,"+O.join(`
`),T=encodeURI(D),k=document.createElement("a");k.setAttribute("href",T),k.setAttribute("download",`Discount_Report_${s.startDate}_to_${s.endDate}.csv`),document.body.appendChild(k),k.click(),document.body.removeChild(k)},w=()=>{window.print()},A=["#F59E0B","#EF4444","#10B981","#3B82F6","#8B5CF6","#EC4899"];return h.jsxs("div",{className:"p-4 md:p-6 bg-gray-50 min-h-screen print:bg-white print:p-0",children:[h.jsx("div",{className:"hidden print:block mb-8 border-b-2 border-gray-800 pb-4",children:h.jsxs("div",{className:"flex justify-between items-start",children:[h.jsxs("div",{children:[h.jsx("h1",{className:"text-3xl font-bold text-gray-900",children:(i==null?void 0:i.storeName)||"Restaurant Discount Report"}),h.jsx("p",{className:"text-sm text-gray-600 mt-1",children:(i==null?void 0:i.address)||"Address Not Available"}),h.jsxs("p",{className:"text-sm text-gray-600",children:["Ph: ",(i==null?void 0:i.contactNumber)||"N/A"]})]}),h.jsxs("div",{className:"text-right",children:[h.jsx("h2",{className:"text-xl font-bold text-gray-800 uppercase tracking-wide",children:"Discount Analysis"}),h.jsxs("p",{className:"text-sm text-gray-600 mt-1",children:["Period: ",h.jsx("span",{className:"font-semibold",children:Wc(new Date(s.startDate),"dd MMM yyyy")})," to ",h.jsx("span",{className:"font-semibold",children:Wc(new Date(s.endDate),"dd MMM yyyy")})]}),h.jsxs("p",{className:"text-xs text-gray-400 mt-1",children:["Generated: ",Wc(new Date,"dd MMM yyyy, hh:mm a")]})]})]})}),h.jsx("div",{className:"mb-6 print:hidden",children:h.jsxs(S2,{to:"/reports/sales-and-revenue",className:"inline-flex items-center text-gray-500 hover:text-orange-600 transition-colors font-medium",children:[h.jsx(Sse,{className:"h-5 w-5 mr-2"}),"Back to Reports Dashboard"]})}),h.jsxs("div",{className:"flex flex-col md:flex-row justify-between items-start md:items-center mb-8 gap-4 print:hidden",children:[h.jsxs("div",{children:[h.jsx("h1",{className:"text-2xl md:text-3xl font-bold text-gray-900",children:"Discount & Offer Report"}),h.jsx("p",{className:"text-gray-500 mt-1 text-sm",children:'Analyze "Burn Rate", coupon usage, and staff complimentaries.'})]}),h.jsxs("div",{className:"flex flex-wrap gap-2 items-center bg-white p-2 rounded-lg shadow-sm border border-gray-200",children:[h.jsxs("div",{className:"flex items-center space-x-2 px-2",children:[h.jsx("span",{className:"text-gray-400 text-xs uppercase font-semibold",children:"From"}),h.jsx("input",{type:"date",name:"startDate",value:s.startDate,onChange:b,className:"border-none p-1 text-sm text-gray-700 focus:ring-0 bg-transparent font-medium"})]}),h.jsx("div",{className:"w-px h-6 bg-gray-200"}),h.jsxs("div",{className:"flex items-center space-x-2 px-2",children:[h.jsx("span",{className:"text-gray-400 text-xs uppercase font-semibold",children:"To"}),h.jsx("input",{type:"date",name:"endDate",value:s.endDate,onChange:b,className:"border-none p-1 text-sm text-gray-700 focus:ring-0 bg-transparent font-medium"})]}),h.jsxs("div",{className:"flex gap-1 ml-2",children:[h.jsx("button",{onClick:x,className:"bg-gray-100 hover:bg-green-50 hover:text-green-600 text-gray-600 p-2 rounded-md transition-colors border border-transparent hover:border-green-200",title:"Export to CSV",children:h.jsx(X4,{className:"h-5 w-5"})}),h.jsx("button",{onClick:w,className:"bg-gray-100 hover:bg-blue-50 hover:text-blue-600 text-gray-600 p-2 rounded-md transition-colors border border-transparent hover:border-blue-200",title:"Print Report",children:h.jsx(iF,{className:"h-5 w-5"})})]})]})]}),n?h.jsx("div",{className:"flex justify-center items-center h-64",children:h.jsx("div",{className:"animate-spin rounded-full h-10 w-10 border-b-2 border-orange-500"})}):h.jsxs(h.Fragment,{children:[h.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-4 mb-6 print:grid-cols-4 print:gap-2",children:[h.jsx("div",{className:"bg-white p-5 rounded-xl shadow-sm border-t-4 border-orange-500 print:shadow-none print:border print:p-3",children:h.jsxs("div",{className:"flex justify-between",children:[h.jsxs("div",{children:[h.jsx("p",{className:"text-xs font-bold text-gray-400 uppercase tracking-wide",children:"Total Discount"}),h.jsxs("h3",{className:"text-2xl font-extrabold text-gray-800 mt-1",children:["",l.totalDiscountGiven.toLocaleString("en-IN")]}),h.jsxs("p",{className:"text-xs text-gray-400 mt-1",children:[l.discountCount," Bills"]})]}),h.jsx("div",{className:"p-3 bg-orange-50 rounded-full h-12 w-12 flex items-center justify-center print:hidden",children:h.jsx(nF,{className:"h-6 w-6 text-orange-600"})})]})}),h.jsx("div",{className:"bg-white p-5 rounded-xl shadow-sm border-t-4 border-red-500 print:shadow-none print:border print:p-3",children:h.jsxs("div",{className:"flex justify-between",children:[h.jsxs("div",{children:[h.jsx("p",{className:"text-xs font-bold text-gray-400 uppercase tracking-wide",children:"Burn Rate"}),h.jsxs("h3",{className:"text-2xl font-extrabold text-gray-800 mt-1",children:[l.discountPercentage.toFixed(2),"%"]}),h.jsxs("p",{className:"text-xs text-gray-500 mt-1 flex items-center gap-1",children:["of ",l.totalGrossSales.toLocaleString("en-IN")," Sales"]})]}),h.jsx("div",{className:"p-3 bg-red-50 rounded-full h-12 w-12 flex items-center justify-center print:hidden",children:h.jsx(Lse,{className:"h-6 w-6 text-red-600"})})]})}),h.jsx("div",{className:"bg-white p-5 rounded-xl shadow-sm border-t-4 border-blue-500 print:shadow-none print:border print:p-3",children:h.jsxs("div",{className:"flex justify-between",children:[h.jsxs("div",{children:[h.jsx("p",{className:"text-xs font-bold text-gray-400 uppercase tracking-wide",children:"Avg Disc / Bill"}),h.jsxs("h3",{className:"text-2xl font-extrabold text-gray-800 mt-1",children:["",l.avgDiscount.toFixed(0)]})]}),h.jsx("div",{className:"p-3 bg-blue-50 rounded-full h-12 w-12 flex items-center justify-center print:hidden",children:h.jsx(aF,{className:"h-6 w-6 text-blue-600"})})]})}),h.jsx("div",{className:"bg-white p-5 rounded-xl shadow-sm border-t-4 border-green-500 print:shadow-none print:border print:p-3",children:h.jsxs("div",{className:"flex justify-between",children:[h.jsxs("div",{children:[h.jsx("p",{className:"text-xs font-bold text-gray-400 uppercase tracking-wide",children:"Max Discount"}),h.jsxs("h3",{className:"text-2xl font-extrabold text-gray-800 mt-1",children:["",l.maxDiscountValues.amount.toLocaleString("en-IN")]}),h.jsx("p",{className:"text-xs text-gray-500 mt-1 truncate w-24 print:w-auto",title:l.maxDiscountValues.reason,children:l.maxDiscountValues.reason})]}),h.jsx("div",{className:"p-3 bg-green-50 rounded-full h-12 w-12 flex items-center justify-center print:hidden",children:h.jsx(qse,{className:"h-6 w-6 text-green-600"})})]})})]}),h.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-6 mb-6 print:break-inside-avoid print:hidden",children:[h.jsxs("div",{className:"bg-white p-6 rounded-xl shadow-sm border border-gray-100 flex flex-col print:shadow-none print:border",children:[h.jsxs("h3",{className:"text-lg font-bold text-gray-800 mb-4 flex items-center gap-2",children:[h.jsx(rF,{className:"h-5 w-5 text-gray-400"}),"Discount Reasons"]}),h.jsx("div",{className:"flex-1 min-h-[300px]",children:h.jsx(Ay,{width:"100%",height:"100%",children:h.jsxs(IW,{children:[h.jsx(MP,{data:c,cx:"50%",cy:"50%",innerRadius:60,outerRadius:80,paddingAngle:5,dataKey:"value",children:c.map((P,O)=>h.jsx(Md,{fill:A[O%A.length]},`cell-${O}`))}),h.jsx(Hy,{formatter:P=>`${P}`}),h.jsx(h6,{verticalAlign:"bottom",height:36,iconType:"circle"})]})})})]}),h.jsxs("div",{className:"lg:col-span-2 bg-white p-6 rounded-xl shadow-sm border border-gray-100 flex flex-col print:shadow-none print:border",children:[h.jsx("h3",{className:"text-lg font-bold text-gray-800 mb-4",children:"Daily Discount Trend"}),h.jsx("div",{className:"flex-1 min-h-[300px]",children:h.jsx(Ay,{width:"100%",height:"100%",children:h.jsxs(CW,{data:p,margin:{top:20,right:30,left:20,bottom:5},children:[h.jsx($P,{strokeDasharray:"3 3",vertical:!1,stroke:"#E5E7EB"}),h.jsx(UP,{dataKey:"date",tick:{fontSize:12,fill:"#6B7280"},axisLine:!1,tickLine:!1}),h.jsx(WP,{tick:{fontSize:12,fill:"#6B7280"},axisLine:!1,tickLine:!1,tickFormatter:P=>`${P}`}),h.jsx(Hy,{cursor:{fill:"#F3F4F6"},contentStyle:{borderRadius:"8px",border:"none",boxShadow:"0 4px 6px -1px rgba(0, 0, 0, 0.1)"}}),h.jsx(FP,{dataKey:"amount",fill:"#F59E0B",radius:[4,4,0,0],name:"Discount Given",barSize:32})]})})})]})]}),h.jsxs("div",{className:"bg-white rounded-xl shadow-sm border border-gray-200 overflow-hidden print:shadow-none print:border-t-2 print:border-gray-800 print:rounded-none",children:[h.jsxs("div",{className:"px-6 py-4 border-b border-gray-200 bg-gray-50 flex justify-between items-center print:bg-white print:px-0",children:[h.jsx("h3",{className:"text-lg font-bold text-gray-800",children:"Discounted Bill Log"}),h.jsxs("span",{className:"text-xs font-medium bg-gray-200 text-gray-700 px-2 py-1 rounded-full print:border print:bg-white",children:[e.length," Records"]})]}),h.jsx("div",{className:"overflow-x-auto",children:h.jsxs("table",{className:"min-w-full divide-y divide-gray-200 print:divide-gray-300",children:[h.jsx("thead",{className:"bg-gray-50 print:bg-gray-100",children:h.jsxs("tr",{children:[h.jsx("th",{className:"px-6 py-3 text-left text-xs font-bold text-gray-500 uppercase tracking-wider print:px-2 print:text-black",children:"Date"}),h.jsx("th",{className:"px-6 py-3 text-left text-xs font-bold text-gray-500 uppercase tracking-wider print:px-2 print:text-black",children:"Bill Details"}),h.jsx("th",{className:"px-6 py-3 text-left text-xs font-bold text-gray-500 uppercase tracking-wider print:px-2 print:text-black",children:"Reason / Code"}),h.jsx("th",{className:"px-6 py-3 text-right text-xs font-bold text-gray-500 uppercase tracking-wider print:px-2 print:text-black",children:"Bill Amt"}),h.jsx("th",{className:"px-6 py-3 text-right text-xs font-bold text-gray-500 uppercase tracking-wider print:px-2 print:text-black",children:"Discount"}),h.jsx("th",{className:"px-6 py-3 text-center text-xs font-bold text-gray-500 uppercase tracking-wider print:px-2 print:text-black",children:"% Given"})]})}),h.jsx("tbody",{className:"bg-white divide-y divide-gray-200 print:divide-gray-300",children:e.length>0?e.sort((P,O)=>O.finalizedAt-P.finalizedAt).map(P=>{const O=Number(P.subTotal)||Number(P.totalAmount)||0,D=Number(P.discount)||0,T=O>0?(D/O*100).toFixed(1):0,k=T>15;return h.jsxs("tr",{className:"hover:bg-orange-50 transition-colors print:hover:bg-transparent",children:[h.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500 print:px-2 print:py-2 print:text-black",children:P.finalizedAt?Wc(P.finalizedAt,"dd MMM, hh:mm a"):"N/A"}),h.jsxs("td",{className:"px-6 py-4 whitespace-nowrap print:px-2 print:py-2",children:[h.jsx("div",{className:"text-sm font-medium text-gray-900 print:text-black",children:P.tableName||"Takeaway"}),h.jsx("div",{className:"text-xs text-gray-500 print:text-gray-600",children:P.staffName||"Unknown Staff"})]}),h.jsxs("td",{className:"px-6 py-4 whitespace-nowrap print:px-2 print:py-2",children:[h.jsx("span",{className:`px-2 py-1 inline-flex text-xs leading-5 font-semibold rounded-full ${P.couponCode?"bg-green-100 text-green-800":"bg-gray-100 text-gray-800"} print:border print:bg-transparent print:text-black print:px-0`,children:P.discountReason||P.couponCode||"Manual"}),P.couponCode&&h.jsxs("div",{className:"text-xs text-gray-400 mt-1 print:text-black",children:["Code: ",P.couponCode]})]}),h.jsxs("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-900 text-right print:px-2 print:py-2 print:text-black",children:["",O.toLocaleString("en-IN")]}),h.jsxs("td",{className:`px-6 py-4 whitespace-nowrap text-sm font-bold text-right ${k?"text-red-600":"text-gray-700"} print:px-2 print:py-2 print:text-black`,children:["- ",D.toLocaleString("en-IN")]}),h.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-center print:px-2 print:py-2",children:h.jsxs("span",{className:`text-xs font-bold px-2 py-1 rounded ${k?"bg-red-100 text-red-700":"bg-green-50 text-green-700"} print:border print:bg-transparent print:text-black print:px-0`,children:[T,"%"]})})]},P.id)}):h.jsx("tr",{children:h.jsx("td",{colSpan:"6",className:"px-6 py-10 text-center text-gray-400 italic",children:"No discounts found in this period. Great for revenue, boring for reports!"})})})]})})]}),h.jsxs("div",{className:"hidden print:flex mt-8 border-t pt-4 text-xs text-gray-500 justify-between",children:[h.jsx("p",{children:"Printed from SyncServe Restaurant Management System"}),h.jsx("p",{children:"Page 1 of 1"})]})]})]})},pAe=()=>{const e=S0(),[t,n]=S.useState(()=>{const D=new Date;return D.setMonth(D.getMonth()-1),D.toISOString().split("T")[0]}),[r,i]=S.useState(()=>new Date().toISOString().split("T")[0]),[a,s]=S.useState(!1),[o,l]=S.useState([]),[u,c]=S.useState({name:"SyncServe Restaurant",address:"123 Culinary Ave, Food City",contact:""}),[d,p]=S.useState({totalRevenue:0,totalOrders:0,avgOrderValue:0}),f={"Dine-in":"#3B82F6",Takeaway:"#10B981",Delivery:"#F59E0B",Other:"#8B5CF6"},g={"Dine-in":"#1E3A8A",Takeaway:"#047857",Delivery:"#B45309",Other:"#5B21B6"},v=["#333333","#666666","#999999","#CCCCCC"],b=async()=>{s(!0);try{const D=await Fl(new Date(t),new Date(r));x(D);const T=await fo();T&&c({name:T.restaurantName||"SyncServe Restaurant",address:T.address||"123 Culinary Ave, Food City",contact:T.contact||""})}catch(D){console.error("Error fetching data:",D)}finally{s(!1)}};S.useEffect(()=>{b()},[t,r]);const x=D=>{const T={};let k=0,I=0;D.forEach(N=>{let C=N.orderType||"Other";C.toLowerCase()==="parcel"&&(C="Takeaway"),C=C.charAt(0).toUpperCase()+C.slice(1).toLowerCase(),T[C]||(T[C]={name:C,value:0,revenue:0,count:0});const R=Number(N.grandTotal||N.totalAmount||0);T[C].value+=R,T[C].revenue+=R,T[C].count+=1,k+=R,I+=1});const M=Object.values(T).sort((N,C)=>C.revenue-N.revenue);l(M),p({totalRevenue:k,totalOrders:I,avgOrderValue:I>0?k/I:0})},w=D=>new Intl.NumberFormat("en-IN",{style:"currency",currency:"INR",maximumFractionDigits:0}).format(D),A=()=>{let D=0;const T=o.map((k,I)=>{const M=d.totalRevenue?k.revenue/d.totalRevenue*100:0,N=g[k.name]||v[I%v.length],C=D,R=D+M;return D=R,`${N} ${C}% ${R}%`});return T.length===0?"gray 0% 100%":`conic-gradient(${T.join(", ")})`},P=()=>Math.max(...o.map(D=>D.count),1),O=()=>{if(o.length===0)return;const D=["Order Type","Total Orders","Gross Sales","Avg Ticket Size","Contribution %"],T=o.map(N=>{const C=N.count?(N.revenue/N.count).toFixed(2):0,R=d.totalRevenue?(N.revenue/d.totalRevenue*100).toFixed(1)+"%":"0%";return[N.name,N.count,N.revenue.toFixed(2),C,R]});T.push(["TOTAL",d.totalOrders,d.totalRevenue.toFixed(2),"-","100%"]);let k="data:text/csv;charset=utf-8,"+D.join(",")+`
`+T.map(N=>N.join(",")).join(`
`);const I=encodeURI(k),M=document.createElement("a");M.setAttribute("href",I),M.setAttribute("download",`OrderTypeReport_${t}_${r}.csv`),document.body.appendChild(M),M.click(),document.body.removeChild(M)};return h.jsxs("div",{className:"p-6 max-w-7xl mx-auto space-y-8 relative font-sans",children:[h.jsx("style",{children:`
        @media print {
          @page {
            size: A4;
            margin: 15mm;
          }
          
          /* RESET & HIDE SCREEN ELEMENTS */
          body {
            background: white;
            color: #111;
            font-family: 'Inter', 'Helvetica Neue', Arial, sans-serif;
            -webkit-print-color-adjust: exact !important;
            print-color-adjust: exact !important;
          }
          .screen-only, nav, header, aside, button, .no-print { display: none !important; }
          .print-only { display: block !important; }

          /* MAIN CONTAINER */
          .print-container {
            width: 100%;
            max-width: 100%;
          }

          /* TYPOGRAPHY */
          h1 { font-size: 24pt; font-weight: 800; margin-bottom: 2pt; text-transform: uppercase; letter-spacing: 0.5px; color: #111; }
          .header-meta { font-size: 10pt; color: #444; margin-bottom: 2pt; }
          
          h2 { font-size: 14pt; font-weight: 700; margin-bottom: 15px; border-bottom: 2px solid #000; padding-bottom: 5px; text-transform: uppercase; }
          h3 { font-size: 11pt; font-weight: 700; margin-bottom: 10px; color: #333; }
          
          /* METRIC BOXES */
          .summary-grid { display: grid; grid-template-columns: 1fr 1fr 1fr; gap: 15px; margin-bottom: 30px; }
          .summary-box { border: 1px solid #ccc; padding: 12px; background: #f9f9f9; }
          .summary-label { font-size: 9pt; text-transform: uppercase; color: #666; font-weight: 600; }
          .summary-value { font-size: 16pt; font-weight: 800; margin-top: 4px; color: #000; }

          /* CHART LAYOUT */
          .charts-row { display: grid; grid-template-columns: 45% 50%; gap: 5%; margin-bottom: 30px; page-break-inside: avoid; height: 220px; }
          .chart-container { border: 1px solid #eee; padding: 10px; }

          /* CSS PIE CHART */
          .css-pie {
            width: 140px; height: 140px; border-radius: 50%;
            margin: 0 auto;
            border: 1px solid #eee;
          }
          .pie-legend { display: flex; flex-wrap: wrap; gap: 8px; justify-content: center; margin-top: 15px; font-size: 8pt; }
          .legend-item { display: flex; align-items: center; gap: 4px; }
          .color-dot { width: 8px; height: 8px; display: inline-block; }

          /* CSS BAR CHART */
          .css-bar-chart { 
            display: flex; align-items: flex-end; justify-content: space-around; 
            height: 150px; width: 100%; padding-top: 10px; padding-bottom: 5px;
            border-bottom: 1px solid #333;
          }
          .bar-group { display: flex; flex-direction: column; align-items: center; width: 100%; position: relative; }
          .bar { width: 60%; background: #333; transition: none; min-height: 2px; }
          .bar-label { font-size: 7pt; margin-top: 5px; text-align: center; font-weight: 600; text-transform: uppercase; }
          .bar-value { font-size: 7pt; margin-bottom: 3px; font-weight: bold; }

          /* DATA TABLE */
          table { width: 100%; border-collapse: collapse; font-size: 9pt; margin-bottom: 20px; }
          thead th { 
            background-color: #eee !important; 
            color: #000; 
            font-weight: 700; 
            text-transform: uppercase; 
            font-size: 8pt; 
            padding: 8px 6px; 
            border-bottom: 2px solid #000;
            text-align: right;
          }
          thead th:first-child { text-align: left; }
          td { border-bottom: 1px solid #ddd; padding: 6px; text-align: right; color: #333; }
          td:first-child { text-align: left; font-weight: 600; color: #000; }
          tr.total-row td { border-top: 2px solid #000; border-bottom: none; font-weight: 800; font-size: 10pt; background-color: #f9f9f9; }

          /* FOOTER */
          .report-footer {
            margin-top: 40px; 
            border-top: 1px solid #000; 
            padding-top: 8px; 
            font-size: 8pt; 
            display: flex; 
            justify-content: space-between;
            color: #555;
          }
        }
        
        /* HIDE PRINT CONTENT ON SCREEN */
        .print-only { display: none; }
      `}),h.jsxs("div",{className:"screen-only space-y-8",children:[h.jsxs("div",{className:"flex flex-col md:flex-row justify-between items-start md:items-center gap-4 bg-white p-4 rounded-xl shadow-sm border border-gray-100",children:[h.jsxs("div",{className:"flex items-center gap-4",children:[h.jsx("button",{onClick:()=>e("/reports/sales-and-revenue"),className:"p-2 rounded-full hover:bg-gray-100 transition-colors text-gray-500",children:h.jsx(Hae,{className:"w-6 h-6"})}),h.jsxs("div",{children:[h.jsx("h1",{className:"text-2xl font-bold text-gray-800",children:"Order Type Analysis"}),h.jsx("p",{className:"text-sm text-gray-500",children:"Track revenue across Dine-in, Takeaway, and Delivery"})]})]}),h.jsxs("div",{className:"flex flex-wrap items-center gap-3 w-full md:w-auto",children:[h.jsxs("div",{className:"flex items-center gap-2 bg-gray-50 p-2 rounded-lg border border-gray-200",children:[h.jsx(Gae,{className:"w-4 h-4 text-gray-500"}),h.jsx("input",{type:"date",value:t,onChange:D=>n(D.target.value),className:"bg-transparent border-none text-sm focus:ring-0 p-0 text-gray-700 w-32 cursor-pointer"}),h.jsx("span",{className:"text-gray-400",children:"to"}),h.jsx("input",{type:"date",value:r,onChange:D=>i(D.target.value),className:"bg-transparent border-none text-sm focus:ring-0 p-0 text-gray-700 w-32 cursor-pointer"})]}),h.jsx("button",{onClick:b,disabled:a,className:`p-2.5 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-shadow shadow-sm ${a?"opacity-70":""}`,children:h.jsx(ose,{className:`w-5 h-5 ${a?"animate-spin":""}`})}),h.jsx("div",{className:"h-8 w-px bg-gray-200 mx-2 hidden sm:block"}),h.jsxs("button",{onClick:()=>window.print(),disabled:o.length===0,className:"flex items-center gap-2 px-4 py-2.5 bg-gray-800 text-white rounded-lg hover:bg-gray-900 transition-all shadow-sm disabled:opacity-50 disabled:cursor-not-allowed",children:[h.jsx(X1,{className:"w-4 h-4"}),h.jsx("span",{className:"font-medium",children:"Print Report"})]})]})]}),h.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:[h.jsxs("div",{className:"bg-white rounded-xl p-6 shadow-sm border border-blue-100 relative overflow-hidden",children:[h.jsxs("div",{className:"relative z-10",children:[h.jsx("p",{className:"text-sm font-medium text-blue-600 mb-1",children:"Total Revenue"}),h.jsx("h3",{className:"text-3xl font-bold text-gray-900",children:w(d.totalRevenue)})]}),h.jsx("div",{className:"absolute right-0 top-0 h-full w-24 bg-gradient-to-l from-blue-50 to-transparent"})]}),h.jsxs("div",{className:"bg-white rounded-xl p-6 shadow-sm border border-green-100 relative overflow-hidden",children:[h.jsxs("div",{className:"relative z-10",children:[h.jsx("p",{className:"text-sm font-medium text-green-600 mb-1",children:"Total Orders"}),h.jsx("h3",{className:"text-3xl font-bold text-gray-900",children:d.totalOrders})]}),h.jsx("div",{className:"absolute right-0 top-0 h-full w-24 bg-gradient-to-l from-green-50 to-transparent"})]}),h.jsxs("div",{className:"bg-white rounded-xl p-6 shadow-sm border border-purple-100 relative overflow-hidden",children:[h.jsxs("div",{className:"relative z-10",children:[h.jsx("p",{className:"text-sm font-medium text-purple-600 mb-1",children:"Avg. Ticket Size"}),h.jsx("h3",{className:"text-3xl font-bold text-gray-900",children:w(d.avgOrderValue)})]}),h.jsx("div",{className:"absolute right-0 top-0 h-full w-24 bg-gradient-to-l from-purple-50 to-transparent"})]})]}),a&&o.length===0?h.jsx("div",{className:"flex justify-center items-center h-64 bg-white rounded-xl border border-gray-100",children:h.jsxs("div",{className:"flex flex-col items-center",children:[h.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-blue-600 mb-2"}),h.jsx("span",{className:"text-sm text-gray-500",children:"Loading data..."})]})}):h.jsx(h.Fragment,{children:o.length===0?h.jsxs("div",{className:"bg-white rounded-xl p-16 text-center border border-dashed border-gray-300",children:[h.jsx("div",{className:"w-16 h-16 bg-gray-50 rounded-full flex items-center justify-center mx-auto mb-4",children:h.jsx(gse,{className:"w-8 h-8 text-gray-400"})}),h.jsx("h3",{className:"text-lg font-medium text-gray-900",children:"No Data Available"}),h.jsx("p",{className:"text-gray-500 mt-1",children:"Try selecting a different date range."})]}):h.jsxs("div",{className:"space-y-6",children:[h.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[h.jsxs("div",{className:"bg-white p-6 rounded-xl shadow-sm border border-gray-100",children:[h.jsxs("h3",{className:"text-base font-bold text-gray-800 mb-6 flex items-center gap-2",children:[h.jsx(pse,{className:"w-4 h-4 text-gray-500"}),"Revenue Contribution"]}),h.jsx("div",{className:"h-64",children:h.jsx(Ay,{width:"100%",height:"100%",children:h.jsxs(IW,{children:[h.jsx(MP,{data:o,cx:"50%",cy:"50%",innerRadius:60,outerRadius:90,paddingAngle:4,dataKey:"value",stroke:"none",children:o.map((D,T)=>h.jsx(Md,{fill:f[D.name]||v[T]},`cell-${T}`))}),h.jsx(Hy,{formatter:D=>w(D)}),h.jsx(h6,{verticalAlign:"bottom",height:36,iconType:"circle"})]})})})]}),h.jsxs("div",{className:"bg-white p-6 rounded-xl shadow-sm border border-gray-100",children:[h.jsxs("h3",{className:"text-base font-bold text-gray-800 mb-6 flex items-center gap-2",children:[h.jsx(dse,{className:"w-4 h-4 text-gray-500"}),"Order Volume"]}),h.jsx("div",{className:"h-64",children:h.jsx(Ay,{width:"100%",height:"100%",children:h.jsxs(CW,{data:o,margin:{top:10,right:30,left:0,bottom:0},children:[h.jsx($P,{strokeDasharray:"3 3",vertical:!1,stroke:"#f0f0f0"}),h.jsx(UP,{dataKey:"name",axisLine:!1,tickLine:!1,tick:{fill:"#6B7280",fontSize:12},dy:10}),h.jsx(WP,{axisLine:!1,tickLine:!1,tick:{fill:"#6B7280",fontSize:12}}),h.jsx(Hy,{cursor:{fill:"#f9fafb"}}),h.jsx(FP,{dataKey:"count",radius:[4,4,0,0],barSize:40,children:o.map((D,T)=>h.jsx(Md,{fill:f[D.name]||v[T]},`cell-${T}`))})]})})})]})]}),h.jsxs("div",{className:"bg-white rounded-xl shadow-sm border border-gray-200 overflow-hidden",children:[h.jsxs("div",{className:"p-5 border-b border-gray-100 flex justify-between items-center",children:[h.jsx("h3",{className:"font-bold text-gray-800",children:"Detailed Breakdown"}),h.jsxs("button",{onClick:O,className:"text-sm text-blue-600 hover:text-blue-800 font-medium flex items-center gap-1",children:[h.jsx(ese,{className:"w-4 h-4"})," Export CSV"]})]}),h.jsx("div",{className:"overflow-x-auto",children:h.jsxs("table",{className:"w-full text-left",children:[h.jsx("thead",{className:"bg-gray-50 border-b border-gray-100",children:h.jsxs("tr",{children:[h.jsx("th",{className:"px-6 py-4 text-xs font-semibold text-gray-500 uppercase tracking-wider",children:"Channel"}),h.jsx("th",{className:"px-6 py-4 text-xs font-semibold text-gray-500 uppercase tracking-wider text-right",children:"Orders"}),h.jsx("th",{className:"px-6 py-4 text-xs font-semibold text-gray-500 uppercase tracking-wider text-right",children:"Gross Sales"}),h.jsx("th",{className:"px-6 py-4 text-xs font-semibold text-gray-500 uppercase tracking-wider text-right",children:"Avg. Ticket"}),h.jsx("th",{className:"px-6 py-4 text-xs font-semibold text-gray-500 uppercase tracking-wider text-right",children:"Contrib. %"})]})}),h.jsx("tbody",{className:"divide-y divide-gray-100",children:o.map((D,T)=>h.jsxs("tr",{className:"hover:bg-gray-50 transition-colors",children:[h.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:h.jsxs("div",{className:"flex items-center gap-3",children:[h.jsx("span",{className:"w-2.5 h-2.5 rounded-full",style:{backgroundColor:f[D.name]}}),h.jsx("span",{className:"font-medium text-gray-900",children:D.name})]})}),h.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-right text-gray-600",children:D.count}),h.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-right text-gray-900 font-bold",children:w(D.revenue)}),h.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-right text-gray-600",children:w(D.count?D.revenue/D.count:0)}),h.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-right",children:h.jsxs("span",{className:"inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium bg-gray-100 text-gray-800",children:[d.totalRevenue?(D.revenue/d.totalRevenue*100).toFixed(1):0,"%"]})})]},T))})]})})]})]})})]}),h.jsxs("div",{className:"print-only print-container",children:[h.jsxs("div",{style:{display:"flex",justifyContent:"space-between",borderBottom:"2px solid #111",paddingBottom:"20px",marginBottom:"30px"},children:[h.jsxs("div",{children:[h.jsx("h1",{children:u.name}),h.jsx("p",{className:"header-meta",children:u.address}),u.contact&&h.jsxs("p",{className:"header-meta",children:["Tel: ",u.contact]})]}),h.jsxs("div",{style:{textAlign:"right"},children:[h.jsx("h2",{style:{borderBottom:"none",marginBottom:"5px",fontSize:"16pt"},children:"ORDER TYPE REPORT"}),h.jsxs("p",{style:{fontSize:"10pt",color:"#666"},children:["Period: ",h.jsx("strong",{children:t})," to ",h.jsx("strong",{children:r})]}),h.jsxs("p",{style:{fontSize:"9pt",color:"#888",marginTop:"4px"},children:["Generated: ",new Date().toLocaleDateString()," ",new Date().toLocaleTimeString()]})]})]}),h.jsxs("div",{className:"summary-grid",children:[h.jsxs("div",{className:"summary-box",children:[h.jsx("div",{className:"summary-label",children:"Total Revenue"}),h.jsx("div",{className:"summary-value",children:w(d.totalRevenue)})]}),h.jsxs("div",{className:"summary-box",children:[h.jsx("div",{className:"summary-label",children:"Total Orders"}),h.jsx("div",{className:"summary-value",children:d.totalOrders})]}),h.jsxs("div",{className:"summary-box",children:[h.jsx("div",{className:"summary-label",children:"Avg Order Value"}),h.jsx("div",{className:"summary-value",children:w(d.avgOrderValue)})]})]}),o.length>0&&h.jsxs("div",{className:"charts-row",children:[h.jsxs("div",{className:"chart-container",children:[h.jsx("h3",{children:"Revenue Contribution"}),h.jsxs("div",{style:{padding:"10px 0",textAlign:"center"},children:[h.jsx("div",{className:"css-pie",style:{background:A()}}),h.jsx("div",{className:"pie-legend",children:o.map((D,T)=>h.jsxs("div",{className:"legend-item",children:[h.jsx("span",{className:"color-dot",style:{background:g[D.name]||v[T]}}),h.jsxs("span",{children:[D.name," (",(D.revenue/d.totalRevenue*100).toFixed(0),"%)"]})]},D.name))})]})]}),h.jsxs("div",{className:"chart-container",children:[h.jsx("h3",{children:"Order Volume By Type"}),h.jsx("div",{className:"css-bar-chart",children:o.map((D,T)=>{const k=P(),I=k>0?D.count/k*85:0;return h.jsxs("div",{className:"bar-group",children:[h.jsx("div",{className:"bar-value",children:D.count}),h.jsx("div",{className:"bar",style:{height:`${Math.max(I,2)}%`,backgroundColor:g[D.name]||v[T]}}),h.jsx("div",{className:"bar-label",children:D.name})]},D.name)})})]})]}),h.jsxs("div",{style:{marginTop:"30px"},children:[h.jsx("h3",{children:"Order Type Breakdown"}),h.jsxs("table",{children:[h.jsx("thead",{children:h.jsxs("tr",{children:[h.jsx("th",{width:"30%",children:"Type"}),h.jsx("th",{width:"15%",children:"Orders"}),h.jsx("th",{width:"20%",children:"Gross Sales"}),h.jsx("th",{width:"20%",children:"Avg Ticket"}),h.jsx("th",{width:"15%",children:"Contribution"})]})}),h.jsxs("tbody",{children:[o.map((D,T)=>h.jsxs("tr",{children:[h.jsx("td",{children:D.name}),h.jsx("td",{children:D.count}),h.jsx("td",{children:w(D.revenue)}),h.jsx("td",{children:w(D.count?D.revenue/D.count:0)}),h.jsxs("td",{children:[d.totalRevenue?(D.revenue/d.totalRevenue*100).toFixed(1):0,"%"]})]},T)),h.jsxs("tr",{className:"total-row",children:[h.jsx("td",{children:"TOTAL"}),h.jsx("td",{children:d.totalOrders}),h.jsx("td",{children:w(d.totalRevenue)}),h.jsx("td",{children:w(d.avgOrderValue)}),h.jsx("td",{children:"100%"})]})]})]})]}),h.jsxs("div",{className:"report-footer",children:[h.jsx("span",{children:"SyncServe Restaurant Management System"}),h.jsx("span",{children:"Printed by: Administrator"})]})]})]})},mAe=()=>{const[e,t]=S.useState(new Date().toISOString().split("T")[0]),[n,r]=S.useState(new Date().toISOString().split("T")[0]),[i,a]=S.useState([]),[s,o]=S.useState([]),[l,u]=S.useState(!1),[c,d]=S.useState(null),[p,f]=S.useState(null);S.useEffect(()=>{g()},[e,n]);const g=async()=>{u(!0);try{const P=await Fl(new Date(e),new Date(n));a(P),b(P),P.length>0&&console.log("Sample Sale Data:",P[0])}catch(P){console.error("Error fetching hourly sales:",P)}finally{u(!1)}},v=P=>{if(typeof P=="number")return P;if(!P)return 0;const O=P.toString().replace(/[^0-9.-]+/g,""),D=parseFloat(O);return isNaN(D)?0:D},b=P=>{const O=Array.from({length:24},(M,N)=>({hour:N,label:`${N.toString().padStart(2,"0")}:00 - ${(N+1).toString().padStart(2,"0")}:00`,shortLabel:`${N.toString().padStart(2,"0")}:00`,count:0,total:0}));P.forEach(M=>{if(M.finalizedAt){const C=(M.finalizedAt.toDate?M.finalizedAt.toDate():new Date(M.finalizedAt)).getHours(),R=M.totalAmount||M.total||M.grandTotal||M.amount||0,W=v(R);C>=0&&C<24&&(O[C].total+=W,O[C].count+=1)}});let D=0,T=1/0,k=null,I=null;O.forEach(M=>{M.total>D&&(D=M.total,k=M),M.total>0&&M.total<T&&(T=M.total,I=M)}),o(O),d(k),f(I||{label:"N/A",total:0})},x=()=>{window.print()},w=()=>{let P="data:text/csv;charset=utf-8,";P+=`Time Slot,Orders Count,Total Revenue
`,s.forEach(T=>{P+=`${T.label},${T.count},${T.total.toFixed(2)}
`});const O=encodeURI(P),D=document.createElement("a");D.setAttribute("href",O),D.setAttribute("download",`hourly_sales_${e}_to_${n}.csv`),document.body.appendChild(D),D.click(),document.body.removeChild(D)},A=s.reduce((P,O)=>Math.max(P,O.total),0)||1;return h.jsxs("div",{className:"p-6 min-h-screen bg-gray-50 text-gray-800 font-sans",children:[h.jsxs("div",{className:"flex flex-col md:flex-row md:items-center justify-between mb-8 print:hidden",children:[h.jsxs("div",{children:[h.jsx("h1",{className:"text-3xl font-bold text-gray-900",children:"Hourly Sales Report"}),h.jsx("p",{className:"text-gray-500 mt-1",children:"Analyze performance by time of day to optimize staffing and prep."})]}),h.jsxs("div",{className:"flex gap-3 mt-4 md:mt-0",children:[h.jsxs("button",{onClick:w,className:"flex items-center gap-2 bg-white border border-gray-300 text-gray-700 px-4 py-2 rounded-lg shadow-sm hover:bg-gray-50 transition-colors",children:[h.jsx(X4,{className:"w-5 h-5"}),"Export CSV"]}),h.jsxs("button",{onClick:x,className:"flex items-center gap-2 bg-blue-600 text-white px-4 py-2 rounded-lg shadow-sm hover:bg-blue-700 transition-colors",children:[h.jsx(iF,{className:"w-5 h-5"}),"Print / PDF"]})]})]}),h.jsxs("div",{className:"bg-white p-4 rounded-xl shadow-sm border border-gray-200 mb-6 flex flex-wrap gap-4 items-end print:hidden",children:[h.jsxs("div",{children:[h.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Start Date"}),h.jsx("input",{type:"date",value:e,onChange:P=>t(P.target.value),className:"border-gray-300 rounded-lg shadow-sm focus:ring-blue-500 focus:border-blue-500 block w-full sm:text-sm p-2.5 border"})]}),h.jsxs("div",{children:[h.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"End Date"}),h.jsx("input",{type:"date",value:n,onChange:P=>r(P.target.value),className:"border-gray-300 rounded-lg shadow-sm focus:ring-blue-500 focus:border-blue-500 block w-full sm:text-sm p-2.5 border"})]}),h.jsx("div",{className:"pb-1",children:h.jsxs("button",{onClick:g,className:"flex items-center gap-2 bg-gray-800 text-white px-4 py-2 rounded-lg hover:bg-gray-900 transition-colors",children:[h.jsx(rF,{className:"w-4 h-4"}),"Apply Filters"]})})]}),h.jsxs("div",{className:"print:block print:w-full",children:[h.jsxs("div",{className:"hidden print:block mb-8 text-center border-b pb-4",children:[h.jsx("h1",{className:"text-2xl font-bold text-black",children:"Hourly Sales Report"}),h.jsxs("p",{className:"text-gray-600",children:["Period: ",e," to ",n]})]}),l?h.jsxs("div",{className:"text-center py-20",children:[h.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-blue-500 mx-auto"}),h.jsx("p",{className:"mt-4 text-gray-500",children:"Loading sales data..."})]}):h.jsxs(h.Fragment,{children:[h.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6 mb-8 print:grid-cols-3",children:[h.jsxs("div",{className:"bg-white p-6 rounded-xl shadow-sm border border-gray-200 print:border-gray-300",children:[h.jsxs("div",{className:"flex items-center justify-between mb-2",children:[h.jsx("h3",{className:"text-gray-500 font-medium text-sm uppercase tracking-wider",children:"Total Revenue"}),h.jsx("div",{className:"p-2 bg-green-100 rounded-full print:hidden",children:h.jsx(nF,{className:"w-5 h-5 text-green-600"})})]}),h.jsxs("p",{className:"text-2xl font-bold text-gray-900",children:["",s.reduce((P,O)=>P+O.total,0).toLocaleString()]}),h.jsxs("p",{className:"text-sm text-gray-500 mt-1",children:[s.reduce((P,O)=>P+O.count,0)," Total Orders"]})]}),h.jsxs("div",{className:"bg-white p-6 rounded-xl shadow-sm border border-gray-200 print:border-gray-300",children:[h.jsxs("div",{className:"flex items-center justify-between mb-2",children:[h.jsx("h3",{className:"text-gray-500 font-medium text-sm uppercase tracking-wider",children:"Peak Hour"}),h.jsx("div",{className:"p-2 bg-blue-100 rounded-full print:hidden",children:h.jsx(X4,{className:"w-5 h-5 text-blue-600 rotate-180"})})]}),h.jsx("p",{className:"text-2xl font-bold text-gray-900",children:c?c.label:"N/A"}),h.jsxs("p",{className:"text-sm text-green-600 font-medium mt-1",children:["",c?c.total.toLocaleString():0," Revenue"]})]}),h.jsxs("div",{className:"bg-white p-6 rounded-xl shadow-sm border border-gray-200 print:border-gray-300",children:[h.jsxs("div",{className:"flex items-center justify-between mb-2",children:[h.jsx("h3",{className:"text-gray-500 font-medium text-sm uppercase tracking-wider",children:"Slowest Hour"}),h.jsx("div",{className:"p-2 bg-orange-100 rounded-full print:hidden",children:h.jsx(tF,{className:"w-5 h-5 text-orange-600"})})]}),h.jsx("p",{className:"text-2xl font-bold text-gray-900",children:p?p.label:"N/A"}),h.jsxs("p",{className:"text-sm text-orange-600 font-medium mt-1",children:["",p?p.total.toLocaleString():0," Revenue"]})]})]}),h.jsxs("div",{className:"bg-white p-6 rounded-xl shadow-sm border border-gray-200 mb-8 print:break-inside-avoid",children:[h.jsx("h3",{className:"text-lg font-bold text-gray-800 mb-6",children:"Hourly Revenue Trend"}),h.jsxs("div",{className:"h-64 flex items-end justify-between gap-1 print:h-48 border-b border-gray-200 relative",children:[h.jsxs("div",{className:"absolute inset-0 pointer-events-none flex flex-col justify-between",children:[h.jsx("div",{className:"border-t border-dashed border-gray-100 w-full h-px"}),h.jsx("div",{className:"border-t border-dashed border-gray-100 w-full h-px"}),h.jsx("div",{className:"border-t border-dashed border-gray-100 w-full h-px"}),h.jsx("div",{className:"border-t border-dashed border-gray-100 w-full h-px"})]}),s.map((P,O)=>{const D=Number(P.total)||0,T=A>0?D/A*100:0,k=c&&c.hour===P.hour;return h.jsxs("div",{className:"flex-1 flex flex-col justify-end group relative h-full",children:[h.jsxs("div",{className:"absolute bottom-full mb-2 left-1/2 -translate-x-1/2 bg-gray-800 text-white text-xs p-2 rounded opacity-0 group-hover:opacity-100 transition-opacity z-10 pointer-events-none w-32 text-center print:hidden shadow-lg",children:[h.jsx("div",{className:"font-bold",children:P.label}),h.jsxs("div",{children:["",D.toFixed(2)]}),h.jsxs("div",{children:[P.count," Orders"]})]}),h.jsx("div",{className:"w-full flex items-end h-full px-[1px] relative z-0",children:h.jsx("div",{className:`w-full rounded-t-sm transition-all duration-500 ${k?"bg-blue-600":"bg-blue-300 hover:bg-blue-400"}`,style:{height:`${T}%`}})}),O%3===0&&h.jsxs("div",{className:"absolute top-full flex flex-col items-center left-1/2 -translate-x-1/2",children:[h.jsx("div",{className:"h-1.5 w-px bg-gray-400"}),h.jsx("div",{className:"mt-1 transform -rotate-45 origin-top-left translate-x-1",children:h.jsx("span",{className:"text-[10px] text-gray-500 whitespace-nowrap",children:P.shortLabel})})]})]},O)})]}),h.jsx("div",{className:"mt-12 text-center text-xs text-gray-400",children:"Hours (24h format)"})]}),h.jsxs("div",{className:"bg-white rounded-xl shadow-sm border border-gray-200 overflow-hidden print:border-gray-300",children:[h.jsx("div",{className:"px-6 py-4 border-b border-gray-200 bg-gray-50 print:bg-gray-100",children:h.jsx("h3",{className:"font-semibold text-gray-800",children:"Detailed Breakdown"})}),h.jsxs("table",{className:"w-full text-left border-collapse",children:[h.jsx("thead",{children:h.jsxs("tr",{className:"border-b border-gray-200 text-xs font-semibold tracking-wide text-gray-500 uppercase bg-gray-50 print:bg-gray-100",children:[h.jsx("th",{className:"px-6 py-3",children:"Time Slot"}),h.jsx("th",{className:"px-6 py-3 text-right",children:"Orders Count"}),h.jsx("th",{className:"px-6 py-3 text-right",children:"Average Order Value"}),h.jsx("th",{className:"px-6 py-3 text-right",children:"Total Revenue"})]})}),h.jsxs("tbody",{className:"divide-y divide-gray-200",children:[s.map(P=>h.jsxs("tr",{className:`hover:bg-gray-50 ${P.total===0?"text-gray-400":"text-gray-700"}`,children:[h.jsxs("td",{className:"px-6 py-3 text-sm font-medium",children:[P.label,c&&c.hour===P.hour&&h.jsx("span",{className:"ml-2 inline-flex items-center px-2 py-0.5 rounded text-xs font-medium bg-green-100 text-green-800 print:hidden",children:"Peak"})]}),h.jsx("td",{className:"px-6 py-3 text-sm text-right",children:P.count}),h.jsxs("td",{className:"px-6 py-3 text-sm text-right",children:["",P.count>0?(P.total/P.count).toFixed(2):"0.00"]}),h.jsxs("td",{className:"px-6 py-3 text-sm text-right font-bold",children:["",P.total.toLocaleString(void 0,{minimumFractionDigits:2,maximumFractionDigits:2})]})]},P.hour)),h.jsxs("tr",{className:"bg-gray-100 font-bold border-t-2 border-gray-300",children:[h.jsx("td",{className:"px-6 py-3 text-sm",children:"TOTAL"}),h.jsx("td",{className:"px-6 py-3 text-sm text-right",children:s.reduce((P,O)=>P+O.count,0)}),h.jsx("td",{className:"px-6 py-3 text-sm text-right",children:"-"}),h.jsxs("td",{className:"px-6 py-3 text-sm text-right text-blue-700",children:["",s.reduce((P,O)=>P+O.total,0).toLocaleString(void 0,{minimumFractionDigits:2,maximumFractionDigits:2})]})]})]})]})]}),h.jsxs("div",{className:"mt-8 text-center text-xs text-gray-400 print:block hidden",children:["Generated by SyncServe  ",new Date().toLocaleString()]})]})]})]})},gAe=()=>h.jsxs(h.Fragment,{children:[h.jsx(SY,{}),h.jsxs("div",{className:"flex min-h-screen",children:[h.jsx(_Y,{}),h.jsx("main",{className:"flex-1 p-4 bg-gray-100 overflow-y-auto",children:h.jsxs(MG,{children:[h.jsx(Ur,{path:"/",element:h.jsx(uae,{})}),h.jsx(Ur,{path:"/dashboard",element:h.jsx(cae,{})}),h.jsx(Ur,{path:"/smart-assign",element:h.jsx(ide,{})}),h.jsx(Ur,{path:"/order",element:h.jsx(pae,{})}),h.jsx(Ur,{path:"/menu",element:h.jsx(vae,{})}),h.jsx(Ur,{path:"/staff",element:h.jsx(_ae,{})}),h.jsx(Ur,{path:"/kitchen",element:h.jsx(Eae,{})}),h.jsx(Ur,{path:"/billing",element:h.jsx(Bae,{})}),h.jsx(Ur,{path:"/reports",element:h.jsx(Qse,{})}),h.jsx(Ur,{path:"/reports/sales",element:h.jsx(Ece,{})}),h.jsx(Ur,{path:"/reports/sales-and-revenue",element:h.jsx(kce,{})}),h.jsx(Ur,{path:"/reports/item-wise-sales",element:h.jsx(Bce,{})}),h.jsx(Ur,{path:"/reports/table-wise-sales",element:h.jsx(Yce,{})}),h.jsx(Ur,{path:"/reports/payment-mode",element:h.jsx(Zce,{})}),h.jsx(Ur,{path:"/reports/discounts",element:h.jsx(hAe,{})}),h.jsx(Ur,{path:"/reports/order-type",element:h.jsx(pAe,{})}),h.jsx(Ur,{path:"/reports/hourly-sales",element:h.jsx(mAe,{})}),h.jsx(Ur,{path:"/settings",element:h.jsx(bse,{})})]})})]})]});u5.createRoot(document.getElementById("root")).render(h.jsx(pn.StrictMode,{children:h.jsx(WG,{children:h.jsx(gAe,{})})}));export{gn as _,yAe as c,Yl as g};
