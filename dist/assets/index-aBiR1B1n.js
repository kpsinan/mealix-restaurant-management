var pC=Object.defineProperty;var mC=(t,e,n)=>e in t?pC(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n;var on=(t,e,n)=>mC(t,typeof e!="symbol"?e+"":e,n);function gC(t,e){for(var n=0;n<e.length;n++){const r=e[n];if(typeof r!="string"&&!Array.isArray(r)){for(const i in r)if(i!=="default"&&!(i in t)){const s=Object.getOwnPropertyDescriptor(r,i);s&&Object.defineProperty(t,i,s.get?s:{enumerable:!0,get:()=>r[i]})}}}return Object.freeze(Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}))}(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))r(i);new MutationObserver(i=>{for(const s of i)if(s.type==="childList")for(const o of s.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&r(o)}).observe(document,{childList:!0,subtree:!0});function n(i){const s={};return i.integrity&&(s.integrity=i.integrity),i.referrerPolicy&&(s.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?s.credentials="include":i.crossOrigin==="anonymous"?s.credentials="omit":s.credentials="same-origin",s}function r(i){if(i.ep)return;i.ep=!0;const s=n(i);fetch(i.href,s)}})();var hH=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function yC(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}var __={exports:{}},jm={},S_={exports:{}},Dt={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Of=Symbol.for("react.element"),vC=Symbol.for("react.portal"),wC=Symbol.for("react.fragment"),xC=Symbol.for("react.strict_mode"),bC=Symbol.for("react.profiler"),_C=Symbol.for("react.provider"),SC=Symbol.for("react.context"),AC=Symbol.for("react.forward_ref"),NC=Symbol.for("react.suspense"),EC=Symbol.for("react.memo"),TC=Symbol.for("react.lazy"),dw=Symbol.iterator;function CC(t){return t===null||typeof t!="object"?null:(t=dw&&t[dw]||t["@@iterator"],typeof t=="function"?t:null)}var A_={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},N_=Object.assign,E_={};function kc(t,e,n){this.props=t,this.context=e,this.refs=E_,this.updater=n||A_}kc.prototype.isReactComponent={};kc.prototype.setState=function(t,e){if(typeof t!="object"&&typeof t!="function"&&t!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,t,e,"setState")};kc.prototype.forceUpdate=function(t){this.updater.enqueueForceUpdate(this,t,"forceUpdate")};function T_(){}T_.prototype=kc.prototype;function ay(t,e,n){this.props=t,this.context=e,this.refs=E_,this.updater=n||A_}var ly=ay.prototype=new T_;ly.constructor=ay;N_(ly,kc.prototype);ly.isPureReactComponent=!0;var pw=Array.isArray,C_=Object.prototype.hasOwnProperty,uy={current:null},P_={key:!0,ref:!0,__self:!0,__source:!0};function k_(t,e,n){var r,i={},s=null,o=null;if(e!=null)for(r in e.ref!==void 0&&(o=e.ref),e.key!==void 0&&(s=""+e.key),e)C_.call(e,r)&&!P_.hasOwnProperty(r)&&(i[r]=e[r]);var a=arguments.length-2;if(a===1)i.children=n;else if(1<a){for(var l=Array(a),u=0;u<a;u++)l[u]=arguments[u+2];i.children=l}if(t&&t.defaultProps)for(r in a=t.defaultProps,a)i[r]===void 0&&(i[r]=a[r]);return{$$typeof:Of,type:t,key:s,ref:o,props:i,_owner:uy.current}}function PC(t,e){return{$$typeof:Of,type:t.type,key:e,ref:t.ref,props:t.props,_owner:t._owner}}function cy(t){return typeof t=="object"&&t!==null&&t.$$typeof===Of}function kC(t){var e={"=":"=0",":":"=2"};return"$"+t.replace(/[=:]/g,function(n){return e[n]})}var mw=/\/+/g;function M0(t,e){return typeof t=="object"&&t!==null&&t.key!=null?kC(""+t.key):e.toString(36)}function lp(t,e,n,r,i){var s=typeof t;(s==="undefined"||s==="boolean")&&(t=null);var o=!1;if(t===null)o=!0;else switch(s){case"string":case"number":o=!0;break;case"object":switch(t.$$typeof){case Of:case vC:o=!0}}if(o)return o=t,i=i(o),t=r===""?"."+M0(o,0):r,pw(i)?(n="",t!=null&&(n=t.replace(mw,"$&/")+"/"),lp(i,e,n,"",function(u){return u})):i!=null&&(cy(i)&&(i=PC(i,n+(!i.key||o&&o.key===i.key?"":(""+i.key).replace(mw,"$&/")+"/")+t)),e.push(i)),1;if(o=0,r=r===""?".":r+":",pw(t))for(var a=0;a<t.length;a++){s=t[a];var l=r+M0(s,a);o+=lp(s,e,n,l,i)}else if(l=CC(t),typeof l=="function")for(t=l.call(t),a=0;!(s=t.next()).done;)s=s.value,l=r+M0(s,a++),o+=lp(s,e,n,l,i);else if(s==="object")throw e=String(t),Error("Objects are not valid as a React child (found: "+(e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e)+"). If you meant to render a collection of children, use an array instead.");return o}function Cd(t,e,n){if(t==null)return t;var r=[],i=0;return lp(t,r,"","",function(s){return e.call(n,s,i++)}),r}function IC(t){if(t._status===-1){var e=t._result;e=e(),e.then(function(n){(t._status===0||t._status===-1)&&(t._status=1,t._result=n)},function(n){(t._status===0||t._status===-1)&&(t._status=2,t._result=n)}),t._status===-1&&(t._status=0,t._result=e)}if(t._status===1)return t._result.default;throw t._result}var gi={current:null},up={transition:null},LC={ReactCurrentDispatcher:gi,ReactCurrentBatchConfig:up,ReactCurrentOwner:uy};function I_(){throw Error("act(...) is not supported in production builds of React.")}Dt.Children={map:Cd,forEach:function(t,e,n){Cd(t,function(){e.apply(this,arguments)},n)},count:function(t){var e=0;return Cd(t,function(){e++}),e},toArray:function(t){return Cd(t,function(e){return e})||[]},only:function(t){if(!cy(t))throw Error("React.Children.only expected to receive a single React element child.");return t}};Dt.Component=kc;Dt.Fragment=wC;Dt.Profiler=bC;Dt.PureComponent=ay;Dt.StrictMode=xC;Dt.Suspense=NC;Dt.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=LC;Dt.act=I_;Dt.cloneElement=function(t,e,n){if(t==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+t+".");var r=N_({},t.props),i=t.key,s=t.ref,o=t._owner;if(e!=null){if(e.ref!==void 0&&(s=e.ref,o=uy.current),e.key!==void 0&&(i=""+e.key),t.type&&t.type.defaultProps)var a=t.type.defaultProps;for(l in e)C_.call(e,l)&&!P_.hasOwnProperty(l)&&(r[l]=e[l]===void 0&&a!==void 0?a[l]:e[l])}var l=arguments.length-2;if(l===1)r.children=n;else if(1<l){a=Array(l);for(var u=0;u<l;u++)a[u]=arguments[u+2];r.children=a}return{$$typeof:Of,type:t.type,key:i,ref:s,props:r,_owner:o}};Dt.createContext=function(t){return t={$$typeof:SC,_currentValue:t,_currentValue2:t,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},t.Provider={$$typeof:_C,_context:t},t.Consumer=t};Dt.createElement=k_;Dt.createFactory=function(t){var e=k_.bind(null,t);return e.type=t,e};Dt.createRef=function(){return{current:null}};Dt.forwardRef=function(t){return{$$typeof:AC,render:t}};Dt.isValidElement=cy;Dt.lazy=function(t){return{$$typeof:TC,_payload:{_status:-1,_result:t},_init:IC}};Dt.memo=function(t,e){return{$$typeof:EC,type:t,compare:e===void 0?null:e}};Dt.startTransition=function(t){var e=up.transition;up.transition={};try{t()}finally{up.transition=e}};Dt.unstable_act=I_;Dt.useCallback=function(t,e){return gi.current.useCallback(t,e)};Dt.useContext=function(t){return gi.current.useContext(t)};Dt.useDebugValue=function(){};Dt.useDeferredValue=function(t){return gi.current.useDeferredValue(t)};Dt.useEffect=function(t,e){return gi.current.useEffect(t,e)};Dt.useId=function(){return gi.current.useId()};Dt.useImperativeHandle=function(t,e,n){return gi.current.useImperativeHandle(t,e,n)};Dt.useInsertionEffect=function(t,e){return gi.current.useInsertionEffect(t,e)};Dt.useLayoutEffect=function(t,e){return gi.current.useLayoutEffect(t,e)};Dt.useMemo=function(t,e){return gi.current.useMemo(t,e)};Dt.useReducer=function(t,e,n){return gi.current.useReducer(t,e,n)};Dt.useRef=function(t){return gi.current.useRef(t)};Dt.useState=function(t){return gi.current.useState(t)};Dt.useSyncExternalStore=function(t,e,n){return gi.current.useSyncExternalStore(t,e,n)};Dt.useTransition=function(){return gi.current.useTransition()};Dt.version="18.3.1";S_.exports=Dt;var G=S_.exports;const Zt=yC(G),RC=gC({__proto__:null,default:Zt},[G]);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var jC=G,DC=Symbol.for("react.element"),MC=Symbol.for("react.fragment"),FC=Object.prototype.hasOwnProperty,OC=jC.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,VC={key:!0,ref:!0,__self:!0,__source:!0};function L_(t,e,n){var r,i={},s=null,o=null;n!==void 0&&(s=""+n),e.key!==void 0&&(s=""+e.key),e.ref!==void 0&&(o=e.ref);for(r in e)FC.call(e,r)&&!VC.hasOwnProperty(r)&&(i[r]=e[r]);if(t&&t.defaultProps)for(r in e=t.defaultProps,e)i[r]===void 0&&(i[r]=e[r]);return{$$typeof:DC,type:t,key:s,ref:o,props:i,_owner:OC.current}}jm.Fragment=MC;jm.jsx=L_;jm.jsxs=L_;__.exports=jm;var p=__.exports,o1={},R_={exports:{}},ts={},j_={exports:{}},D_={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(t){function e(ee,se){var ye=ee.length;ee.push(se);e:for(;0<ye;){var Se=ye-1>>>1,V=ee[Se];if(0<i(V,se))ee[Se]=se,ee[ye]=V,ye=Se;else break e}}function n(ee){return ee.length===0?null:ee[0]}function r(ee){if(ee.length===0)return null;var se=ee[0],ye=ee.pop();if(ye!==se){ee[0]=ye;e:for(var Se=0,V=ee.length,Q=V>>>1;Se<Q;){var te=2*(Se+1)-1,ie=ee[te],le=te+1,ve=ee[le];if(0>i(ie,ye))le<V&&0>i(ve,ie)?(ee[Se]=ve,ee[le]=ye,Se=le):(ee[Se]=ie,ee[te]=ye,Se=te);else if(le<V&&0>i(ve,ye))ee[Se]=ve,ee[le]=ye,Se=le;else break e}}return se}function i(ee,se){var ye=ee.sortIndex-se.sortIndex;return ye!==0?ye:ee.id-se.id}if(typeof performance=="object"&&typeof performance.now=="function"){var s=performance;t.unstable_now=function(){return s.now()}}else{var o=Date,a=o.now();t.unstable_now=function(){return o.now()-a}}var l=[],u=[],c=1,d=null,g=3,m=!1,b=!1,x=!1,A=typeof setTimeout=="function"?setTimeout:null,v=typeof clearTimeout=="function"?clearTimeout:null,_=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function E(ee){for(var se=n(u);se!==null;){if(se.callback===null)r(u);else if(se.startTime<=ee)r(u),se.sortIndex=se.expirationTime,e(l,se);else break;se=n(u)}}function L(ee){if(x=!1,E(ee),!b)if(n(l)!==null)b=!0,ue(z);else{var se=n(u);se!==null&&ae(L,se.startTime-ee)}}function z(ee,se){b=!1,x&&(x=!1,v(C),C=-1),m=!0;var ye=g;try{for(E(se),d=n(l);d!==null&&(!(d.expirationTime>se)||ee&&!T());){var Se=d.callback;if(typeof Se=="function"){d.callback=null,g=d.priorityLevel;var V=Se(d.expirationTime<=se);se=t.unstable_now(),typeof V=="function"?d.callback=V:d===n(l)&&r(l),E(se)}else r(l);d=n(l)}if(d!==null)var Q=!0;else{var te=n(u);te!==null&&ae(L,te.startTime-se),Q=!1}return Q}finally{d=null,g=ye,m=!1}}var Y=!1,R=null,C=-1,k=5,M=-1;function T(){return!(t.unstable_now()-M<k)}function I(){if(R!==null){var ee=t.unstable_now();M=ee;var se=!0;try{se=R(!0,ee)}finally{se?D():(Y=!1,R=null)}}else Y=!1}var D;if(typeof _=="function")D=function(){_(I)};else if(typeof MessageChannel<"u"){var H=new MessageChannel,ne=H.port2;H.port1.onmessage=I,D=function(){ne.postMessage(null)}}else D=function(){A(I,0)};function ue(ee){R=ee,Y||(Y=!0,D())}function ae(ee,se){C=A(function(){ee(t.unstable_now())},se)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(ee){ee.callback=null},t.unstable_continueExecution=function(){b||m||(b=!0,ue(z))},t.unstable_forceFrameRate=function(ee){0>ee||125<ee?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):k=0<ee?Math.floor(1e3/ee):5},t.unstable_getCurrentPriorityLevel=function(){return g},t.unstable_getFirstCallbackNode=function(){return n(l)},t.unstable_next=function(ee){switch(g){case 1:case 2:case 3:var se=3;break;default:se=g}var ye=g;g=se;try{return ee()}finally{g=ye}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(ee,se){switch(ee){case 1:case 2:case 3:case 4:case 5:break;default:ee=3}var ye=g;g=ee;try{return se()}finally{g=ye}},t.unstable_scheduleCallback=function(ee,se,ye){var Se=t.unstable_now();switch(typeof ye=="object"&&ye!==null?(ye=ye.delay,ye=typeof ye=="number"&&0<ye?Se+ye:Se):ye=Se,ee){case 1:var V=-1;break;case 2:V=250;break;case 5:V=1073741823;break;case 4:V=1e4;break;default:V=5e3}return V=ye+V,ee={id:c++,callback:se,priorityLevel:ee,startTime:ye,expirationTime:V,sortIndex:-1},ye>Se?(ee.sortIndex=ye,e(u,ee),n(l)===null&&ee===n(u)&&(x?(v(C),C=-1):x=!0,ae(L,ye-Se))):(ee.sortIndex=V,e(l,ee),b||m||(b=!0,ue(z))),ee},t.unstable_shouldYield=T,t.unstable_wrapCallback=function(ee){var se=g;return function(){var ye=g;g=se;try{return ee.apply(this,arguments)}finally{g=ye}}}})(D_);j_.exports=D_;var BC=j_.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var UC=G,es=BC;function Fe(t){for(var e="https://reactjs.org/docs/error-decoder.html?invariant="+t,n=1;n<arguments.length;n++)e+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+t+"; visit "+e+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var M_=new Set,Zh={};function fu(t,e){dc(t,e),dc(t+"Capture",e)}function dc(t,e){for(Zh[t]=e,t=0;t<e.length;t++)M_.add(e[t])}var Ko=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),a1=Object.prototype.hasOwnProperty,zC=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,gw={},yw={};function qC(t){return a1.call(yw,t)?!0:a1.call(gw,t)?!1:zC.test(t)?yw[t]=!0:(gw[t]=!0,!1)}function $C(t,e,n,r){if(n!==null&&n.type===0)return!1;switch(typeof e){case"function":case"symbol":return!0;case"boolean":return r?!1:n!==null?!n.acceptsBooleans:(t=t.toLowerCase().slice(0,5),t!=="data-"&&t!=="aria-");default:return!1}}function HC(t,e,n,r){if(e===null||typeof e>"u"||$C(t,e,n,r))return!0;if(r)return!1;if(n!==null)switch(n.type){case 3:return!e;case 4:return e===!1;case 5:return isNaN(e);case 6:return isNaN(e)||1>e}return!1}function yi(t,e,n,r,i,s,o){this.acceptsBooleans=e===2||e===3||e===4,this.attributeName=r,this.attributeNamespace=i,this.mustUseProperty=n,this.propertyName=t,this.type=e,this.sanitizeURL=s,this.removeEmptyString=o}var Vr={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(t){Vr[t]=new yi(t,0,!1,t,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(t){var e=t[0];Vr[e]=new yi(e,1,!1,t[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(t){Vr[t]=new yi(t,2,!1,t.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(t){Vr[t]=new yi(t,2,!1,t,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(t){Vr[t]=new yi(t,3,!1,t.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(t){Vr[t]=new yi(t,3,!0,t,null,!1,!1)});["capture","download"].forEach(function(t){Vr[t]=new yi(t,4,!1,t,null,!1,!1)});["cols","rows","size","span"].forEach(function(t){Vr[t]=new yi(t,6,!1,t,null,!1,!1)});["rowSpan","start"].forEach(function(t){Vr[t]=new yi(t,5,!1,t.toLowerCase(),null,!1,!1)});var hy=/[\-:]([a-z])/g;function fy(t){return t[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(t){var e=t.replace(hy,fy);Vr[e]=new yi(e,1,!1,t,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(t){var e=t.replace(hy,fy);Vr[e]=new yi(e,1,!1,t,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(t){var e=t.replace(hy,fy);Vr[e]=new yi(e,1,!1,t,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(t){Vr[t]=new yi(t,1,!1,t.toLowerCase(),null,!1,!1)});Vr.xlinkHref=new yi("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(t){Vr[t]=new yi(t,1,!1,t.toLowerCase(),null,!0,!0)});function dy(t,e,n,r){var i=Vr.hasOwnProperty(e)?Vr[e]:null;(i!==null?i.type!==0:r||!(2<e.length)||e[0]!=="o"&&e[0]!=="O"||e[1]!=="n"&&e[1]!=="N")&&(HC(e,n,i,r)&&(n=null),r||i===null?qC(e)&&(n===null?t.removeAttribute(e):t.setAttribute(e,""+n)):i.mustUseProperty?t[i.propertyName]=n===null?i.type===3?!1:"":n:(e=i.attributeName,r=i.attributeNamespace,n===null?t.removeAttribute(e):(i=i.type,n=i===3||i===4&&n===!0?"":""+n,r?t.setAttributeNS(r,e,n):t.setAttribute(e,n))))}var ia=UC.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,Pd=Symbol.for("react.element"),Du=Symbol.for("react.portal"),Mu=Symbol.for("react.fragment"),py=Symbol.for("react.strict_mode"),l1=Symbol.for("react.profiler"),F_=Symbol.for("react.provider"),O_=Symbol.for("react.context"),my=Symbol.for("react.forward_ref"),u1=Symbol.for("react.suspense"),c1=Symbol.for("react.suspense_list"),gy=Symbol.for("react.memo"),Ra=Symbol.for("react.lazy"),V_=Symbol.for("react.offscreen"),vw=Symbol.iterator;function ch(t){return t===null||typeof t!="object"?null:(t=vw&&t[vw]||t["@@iterator"],typeof t=="function"?t:null)}var On=Object.assign,F0;function Sh(t){if(F0===void 0)try{throw Error()}catch(n){var e=n.stack.trim().match(/\n( *(at )?)/);F0=e&&e[1]||""}return`
`+F0+t}var O0=!1;function V0(t,e){if(!t||O0)return"";O0=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(e)if(e=function(){throw Error()},Object.defineProperty(e.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(e,[])}catch(u){var r=u}Reflect.construct(t,[],e)}else{try{e.call()}catch(u){r=u}t.call(e.prototype)}else{try{throw Error()}catch(u){r=u}t()}}catch(u){if(u&&r&&typeof u.stack=="string"){for(var i=u.stack.split(`
`),s=r.stack.split(`
`),o=i.length-1,a=s.length-1;1<=o&&0<=a&&i[o]!==s[a];)a--;for(;1<=o&&0<=a;o--,a--)if(i[o]!==s[a]){if(o!==1||a!==1)do if(o--,a--,0>a||i[o]!==s[a]){var l=`
`+i[o].replace(" at new "," at ");return t.displayName&&l.includes("<anonymous>")&&(l=l.replace("<anonymous>",t.displayName)),l}while(1<=o&&0<=a);break}}}finally{O0=!1,Error.prepareStackTrace=n}return(t=t?t.displayName||t.name:"")?Sh(t):""}function WC(t){switch(t.tag){case 5:return Sh(t.type);case 16:return Sh("Lazy");case 13:return Sh("Suspense");case 19:return Sh("SuspenseList");case 0:case 2:case 15:return t=V0(t.type,!1),t;case 11:return t=V0(t.type.render,!1),t;case 1:return t=V0(t.type,!0),t;default:return""}}function h1(t){if(t==null)return null;if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case Mu:return"Fragment";case Du:return"Portal";case l1:return"Profiler";case py:return"StrictMode";case u1:return"Suspense";case c1:return"SuspenseList"}if(typeof t=="object")switch(t.$$typeof){case O_:return(t.displayName||"Context")+".Consumer";case F_:return(t._context.displayName||"Context")+".Provider";case my:var e=t.render;return t=t.displayName,t||(t=e.displayName||e.name||"",t=t!==""?"ForwardRef("+t+")":"ForwardRef"),t;case gy:return e=t.displayName||null,e!==null?e:h1(t.type)||"Memo";case Ra:e=t._payload,t=t._init;try{return h1(t(e))}catch{}}return null}function GC(t){var e=t.type;switch(t.tag){case 24:return"Cache";case 9:return(e.displayName||"Context")+".Consumer";case 10:return(e._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return t=e.render,t=t.displayName||t.name||"",e.displayName||(t!==""?"ForwardRef("+t+")":"ForwardRef");case 7:return"Fragment";case 5:return e;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return h1(e);case 8:return e===py?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e}return null}function tl(t){switch(typeof t){case"boolean":case"number":case"string":case"undefined":return t;case"object":return t;default:return""}}function B_(t){var e=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(e==="checkbox"||e==="radio")}function KC(t){var e=B_(t)?"checked":"value",n=Object.getOwnPropertyDescriptor(t.constructor.prototype,e),r=""+t[e];if(!t.hasOwnProperty(e)&&typeof n<"u"&&typeof n.get=="function"&&typeof n.set=="function"){var i=n.get,s=n.set;return Object.defineProperty(t,e,{configurable:!0,get:function(){return i.call(this)},set:function(o){r=""+o,s.call(this,o)}}),Object.defineProperty(t,e,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(o){r=""+o},stopTracking:function(){t._valueTracker=null,delete t[e]}}}}function kd(t){t._valueTracker||(t._valueTracker=KC(t))}function U_(t){if(!t)return!1;var e=t._valueTracker;if(!e)return!0;var n=e.getValue(),r="";return t&&(r=B_(t)?t.checked?"true":"false":t.value),t=r,t!==n?(e.setValue(t),!0):!1}function Dp(t){if(t=t||(typeof document<"u"?document:void 0),typeof t>"u")return null;try{return t.activeElement||t.body}catch{return t.body}}function f1(t,e){var n=e.checked;return On({},e,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:n??t._wrapperState.initialChecked})}function ww(t,e){var n=e.defaultValue==null?"":e.defaultValue,r=e.checked!=null?e.checked:e.defaultChecked;n=tl(e.value!=null?e.value:n),t._wrapperState={initialChecked:r,initialValue:n,controlled:e.type==="checkbox"||e.type==="radio"?e.checked!=null:e.value!=null}}function z_(t,e){e=e.checked,e!=null&&dy(t,"checked",e,!1)}function d1(t,e){z_(t,e);var n=tl(e.value),r=e.type;if(n!=null)r==="number"?(n===0&&t.value===""||t.value!=n)&&(t.value=""+n):t.value!==""+n&&(t.value=""+n);else if(r==="submit"||r==="reset"){t.removeAttribute("value");return}e.hasOwnProperty("value")?p1(t,e.type,n):e.hasOwnProperty("defaultValue")&&p1(t,e.type,tl(e.defaultValue)),e.checked==null&&e.defaultChecked!=null&&(t.defaultChecked=!!e.defaultChecked)}function xw(t,e,n){if(e.hasOwnProperty("value")||e.hasOwnProperty("defaultValue")){var r=e.type;if(!(r!=="submit"&&r!=="reset"||e.value!==void 0&&e.value!==null))return;e=""+t._wrapperState.initialValue,n||e===t.value||(t.value=e),t.defaultValue=e}n=t.name,n!==""&&(t.name=""),t.defaultChecked=!!t._wrapperState.initialChecked,n!==""&&(t.name=n)}function p1(t,e,n){(e!=="number"||Dp(t.ownerDocument)!==t)&&(n==null?t.defaultValue=""+t._wrapperState.initialValue:t.defaultValue!==""+n&&(t.defaultValue=""+n))}var Ah=Array.isArray;function ec(t,e,n,r){if(t=t.options,e){e={};for(var i=0;i<n.length;i++)e["$"+n[i]]=!0;for(n=0;n<t.length;n++)i=e.hasOwnProperty("$"+t[n].value),t[n].selected!==i&&(t[n].selected=i),i&&r&&(t[n].defaultSelected=!0)}else{for(n=""+tl(n),e=null,i=0;i<t.length;i++){if(t[i].value===n){t[i].selected=!0,r&&(t[i].defaultSelected=!0);return}e!==null||t[i].disabled||(e=t[i])}e!==null&&(e.selected=!0)}}function m1(t,e){if(e.dangerouslySetInnerHTML!=null)throw Error(Fe(91));return On({},e,{value:void 0,defaultValue:void 0,children:""+t._wrapperState.initialValue})}function bw(t,e){var n=e.value;if(n==null){if(n=e.children,e=e.defaultValue,n!=null){if(e!=null)throw Error(Fe(92));if(Ah(n)){if(1<n.length)throw Error(Fe(93));n=n[0]}e=n}e==null&&(e=""),n=e}t._wrapperState={initialValue:tl(n)}}function q_(t,e){var n=tl(e.value),r=tl(e.defaultValue);n!=null&&(n=""+n,n!==t.value&&(t.value=n),e.defaultValue==null&&t.defaultValue!==n&&(t.defaultValue=n)),r!=null&&(t.defaultValue=""+r)}function _w(t){var e=t.textContent;e===t._wrapperState.initialValue&&e!==""&&e!==null&&(t.value=e)}function $_(t){switch(t){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function g1(t,e){return t==null||t==="http://www.w3.org/1999/xhtml"?$_(e):t==="http://www.w3.org/2000/svg"&&e==="foreignObject"?"http://www.w3.org/1999/xhtml":t}var Id,H_=function(t){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(e,n,r,i){MSApp.execUnsafeLocalFunction(function(){return t(e,n,r,i)})}:t}(function(t,e){if(t.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in t)t.innerHTML=e;else{for(Id=Id||document.createElement("div"),Id.innerHTML="<svg>"+e.valueOf().toString()+"</svg>",e=Id.firstChild;t.firstChild;)t.removeChild(t.firstChild);for(;e.firstChild;)t.appendChild(e.firstChild)}});function ef(t,e){if(e){var n=t.firstChild;if(n&&n===t.lastChild&&n.nodeType===3){n.nodeValue=e;return}}t.textContent=e}var Lh={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},QC=["Webkit","ms","Moz","O"];Object.keys(Lh).forEach(function(t){QC.forEach(function(e){e=e+t.charAt(0).toUpperCase()+t.substring(1),Lh[e]=Lh[t]})});function W_(t,e,n){return e==null||typeof e=="boolean"||e===""?"":n||typeof e!="number"||e===0||Lh.hasOwnProperty(t)&&Lh[t]?(""+e).trim():e+"px"}function G_(t,e){t=t.style;for(var n in e)if(e.hasOwnProperty(n)){var r=n.indexOf("--")===0,i=W_(n,e[n],r);n==="float"&&(n="cssFloat"),r?t.setProperty(n,i):t[n]=i}}var YC=On({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function y1(t,e){if(e){if(YC[t]&&(e.children!=null||e.dangerouslySetInnerHTML!=null))throw Error(Fe(137,t));if(e.dangerouslySetInnerHTML!=null){if(e.children!=null)throw Error(Fe(60));if(typeof e.dangerouslySetInnerHTML!="object"||!("__html"in e.dangerouslySetInnerHTML))throw Error(Fe(61))}if(e.style!=null&&typeof e.style!="object")throw Error(Fe(62))}}function v1(t,e){if(t.indexOf("-")===-1)return typeof e.is=="string";switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var w1=null;function yy(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var x1=null,tc=null,nc=null;function Sw(t){if(t=Uf(t)){if(typeof x1!="function")throw Error(Fe(280));var e=t.stateNode;e&&(e=Vm(e),x1(t.stateNode,t.type,e))}}function K_(t){tc?nc?nc.push(t):nc=[t]:tc=t}function Q_(){if(tc){var t=tc,e=nc;if(nc=tc=null,Sw(t),e)for(t=0;t<e.length;t++)Sw(e[t])}}function Y_(t,e){return t(e)}function X_(){}var B0=!1;function J_(t,e,n){if(B0)return t(e,n);B0=!0;try{return Y_(t,e,n)}finally{B0=!1,(tc!==null||nc!==null)&&(X_(),Q_())}}function tf(t,e){var n=t.stateNode;if(n===null)return null;var r=Vm(n);if(r===null)return null;n=r[e];e:switch(e){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(t=t.type,r=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!r;break e;default:t=!1}if(t)return null;if(n&&typeof n!="function")throw Error(Fe(231,e,typeof n));return n}var b1=!1;if(Ko)try{var hh={};Object.defineProperty(hh,"passive",{get:function(){b1=!0}}),window.addEventListener("test",hh,hh),window.removeEventListener("test",hh,hh)}catch{b1=!1}function XC(t,e,n,r,i,s,o,a,l){var u=Array.prototype.slice.call(arguments,3);try{e.apply(n,u)}catch(c){this.onError(c)}}var Rh=!1,Mp=null,Fp=!1,_1=null,JC={onError:function(t){Rh=!0,Mp=t}};function ZC(t,e,n,r,i,s,o,a,l){Rh=!1,Mp=null,XC.apply(JC,arguments)}function eP(t,e,n,r,i,s,o,a,l){if(ZC.apply(this,arguments),Rh){if(Rh){var u=Mp;Rh=!1,Mp=null}else throw Error(Fe(198));Fp||(Fp=!0,_1=u)}}function du(t){var e=t,n=t;if(t.alternate)for(;e.return;)e=e.return;else{t=e;do e=t,e.flags&4098&&(n=e.return),t=e.return;while(t)}return e.tag===3?n:null}function Z_(t){if(t.tag===13){var e=t.memoizedState;if(e===null&&(t=t.alternate,t!==null&&(e=t.memoizedState)),e!==null)return e.dehydrated}return null}function Aw(t){if(du(t)!==t)throw Error(Fe(188))}function tP(t){var e=t.alternate;if(!e){if(e=du(t),e===null)throw Error(Fe(188));return e!==t?null:t}for(var n=t,r=e;;){var i=n.return;if(i===null)break;var s=i.alternate;if(s===null){if(r=i.return,r!==null){n=r;continue}break}if(i.child===s.child){for(s=i.child;s;){if(s===n)return Aw(i),t;if(s===r)return Aw(i),e;s=s.sibling}throw Error(Fe(188))}if(n.return!==r.return)n=i,r=s;else{for(var o=!1,a=i.child;a;){if(a===n){o=!0,n=i,r=s;break}if(a===r){o=!0,r=i,n=s;break}a=a.sibling}if(!o){for(a=s.child;a;){if(a===n){o=!0,n=s,r=i;break}if(a===r){o=!0,r=s,n=i;break}a=a.sibling}if(!o)throw Error(Fe(189))}}if(n.alternate!==r)throw Error(Fe(190))}if(n.tag!==3)throw Error(Fe(188));return n.stateNode.current===n?t:e}function e6(t){return t=tP(t),t!==null?t6(t):null}function t6(t){if(t.tag===5||t.tag===6)return t;for(t=t.child;t!==null;){var e=t6(t);if(e!==null)return e;t=t.sibling}return null}var n6=es.unstable_scheduleCallback,Nw=es.unstable_cancelCallback,nP=es.unstable_shouldYield,rP=es.unstable_requestPaint,ir=es.unstable_now,iP=es.unstable_getCurrentPriorityLevel,vy=es.unstable_ImmediatePriority,r6=es.unstable_UserBlockingPriority,Op=es.unstable_NormalPriority,sP=es.unstable_LowPriority,i6=es.unstable_IdlePriority,Dm=null,po=null;function oP(t){if(po&&typeof po.onCommitFiberRoot=="function")try{po.onCommitFiberRoot(Dm,t,void 0,(t.current.flags&128)===128)}catch{}}var Fs=Math.clz32?Math.clz32:uP,aP=Math.log,lP=Math.LN2;function uP(t){return t>>>=0,t===0?32:31-(aP(t)/lP|0)|0}var Ld=64,Rd=4194304;function Nh(t){switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return t&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return t}}function Vp(t,e){var n=t.pendingLanes;if(n===0)return 0;var r=0,i=t.suspendedLanes,s=t.pingedLanes,o=n&268435455;if(o!==0){var a=o&~i;a!==0?r=Nh(a):(s&=o,s!==0&&(r=Nh(s)))}else o=n&~i,o!==0?r=Nh(o):s!==0&&(r=Nh(s));if(r===0)return 0;if(e!==0&&e!==r&&!(e&i)&&(i=r&-r,s=e&-e,i>=s||i===16&&(s&4194240)!==0))return e;if(r&4&&(r|=n&16),e=t.entangledLanes,e!==0)for(t=t.entanglements,e&=r;0<e;)n=31-Fs(e),i=1<<n,r|=t[n],e&=~i;return r}function cP(t,e){switch(t){case 1:case 2:case 4:return e+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function hP(t,e){for(var n=t.suspendedLanes,r=t.pingedLanes,i=t.expirationTimes,s=t.pendingLanes;0<s;){var o=31-Fs(s),a=1<<o,l=i[o];l===-1?(!(a&n)||a&r)&&(i[o]=cP(a,e)):l<=e&&(t.expiredLanes|=a),s&=~a}}function S1(t){return t=t.pendingLanes&-1073741825,t!==0?t:t&1073741824?1073741824:0}function s6(){var t=Ld;return Ld<<=1,!(Ld&4194240)&&(Ld=64),t}function U0(t){for(var e=[],n=0;31>n;n++)e.push(t);return e}function Vf(t,e,n){t.pendingLanes|=e,e!==536870912&&(t.suspendedLanes=0,t.pingedLanes=0),t=t.eventTimes,e=31-Fs(e),t[e]=n}function fP(t,e){var n=t.pendingLanes&~e;t.pendingLanes=e,t.suspendedLanes=0,t.pingedLanes=0,t.expiredLanes&=e,t.mutableReadLanes&=e,t.entangledLanes&=e,e=t.entanglements;var r=t.eventTimes;for(t=t.expirationTimes;0<n;){var i=31-Fs(n),s=1<<i;e[i]=0,r[i]=-1,t[i]=-1,n&=~s}}function wy(t,e){var n=t.entangledLanes|=e;for(t=t.entanglements;n;){var r=31-Fs(n),i=1<<r;i&e|t[r]&e&&(t[r]|=e),n&=~i}}var ln=0;function o6(t){return t&=-t,1<t?4<t?t&268435455?16:536870912:4:1}var a6,xy,l6,u6,c6,A1=!1,jd=[],qa=null,$a=null,Ha=null,nf=new Map,rf=new Map,Da=[],dP="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function Ew(t,e){switch(t){case"focusin":case"focusout":qa=null;break;case"dragenter":case"dragleave":$a=null;break;case"mouseover":case"mouseout":Ha=null;break;case"pointerover":case"pointerout":nf.delete(e.pointerId);break;case"gotpointercapture":case"lostpointercapture":rf.delete(e.pointerId)}}function fh(t,e,n,r,i,s){return t===null||t.nativeEvent!==s?(t={blockedOn:e,domEventName:n,eventSystemFlags:r,nativeEvent:s,targetContainers:[i]},e!==null&&(e=Uf(e),e!==null&&xy(e)),t):(t.eventSystemFlags|=r,e=t.targetContainers,i!==null&&e.indexOf(i)===-1&&e.push(i),t)}function pP(t,e,n,r,i){switch(e){case"focusin":return qa=fh(qa,t,e,n,r,i),!0;case"dragenter":return $a=fh($a,t,e,n,r,i),!0;case"mouseover":return Ha=fh(Ha,t,e,n,r,i),!0;case"pointerover":var s=i.pointerId;return nf.set(s,fh(nf.get(s)||null,t,e,n,r,i)),!0;case"gotpointercapture":return s=i.pointerId,rf.set(s,fh(rf.get(s)||null,t,e,n,r,i)),!0}return!1}function h6(t){var e=zl(t.target);if(e!==null){var n=du(e);if(n!==null){if(e=n.tag,e===13){if(e=Z_(n),e!==null){t.blockedOn=e,c6(t.priority,function(){l6(n)});return}}else if(e===3&&n.stateNode.current.memoizedState.isDehydrated){t.blockedOn=n.tag===3?n.stateNode.containerInfo:null;return}}}t.blockedOn=null}function cp(t){if(t.blockedOn!==null)return!1;for(var e=t.targetContainers;0<e.length;){var n=N1(t.domEventName,t.eventSystemFlags,e[0],t.nativeEvent);if(n===null){n=t.nativeEvent;var r=new n.constructor(n.type,n);w1=r,n.target.dispatchEvent(r),w1=null}else return e=Uf(n),e!==null&&xy(e),t.blockedOn=n,!1;e.shift()}return!0}function Tw(t,e,n){cp(t)&&n.delete(e)}function mP(){A1=!1,qa!==null&&cp(qa)&&(qa=null),$a!==null&&cp($a)&&($a=null),Ha!==null&&cp(Ha)&&(Ha=null),nf.forEach(Tw),rf.forEach(Tw)}function dh(t,e){t.blockedOn===e&&(t.blockedOn=null,A1||(A1=!0,es.unstable_scheduleCallback(es.unstable_NormalPriority,mP)))}function sf(t){function e(i){return dh(i,t)}if(0<jd.length){dh(jd[0],t);for(var n=1;n<jd.length;n++){var r=jd[n];r.blockedOn===t&&(r.blockedOn=null)}}for(qa!==null&&dh(qa,t),$a!==null&&dh($a,t),Ha!==null&&dh(Ha,t),nf.forEach(e),rf.forEach(e),n=0;n<Da.length;n++)r=Da[n],r.blockedOn===t&&(r.blockedOn=null);for(;0<Da.length&&(n=Da[0],n.blockedOn===null);)h6(n),n.blockedOn===null&&Da.shift()}var rc=ia.ReactCurrentBatchConfig,Bp=!0;function gP(t,e,n,r){var i=ln,s=rc.transition;rc.transition=null;try{ln=1,by(t,e,n,r)}finally{ln=i,rc.transition=s}}function yP(t,e,n,r){var i=ln,s=rc.transition;rc.transition=null;try{ln=4,by(t,e,n,r)}finally{ln=i,rc.transition=s}}function by(t,e,n,r){if(Bp){var i=N1(t,e,n,r);if(i===null)X0(t,e,r,Up,n),Ew(t,r);else if(pP(i,t,e,n,r))r.stopPropagation();else if(Ew(t,r),e&4&&-1<dP.indexOf(t)){for(;i!==null;){var s=Uf(i);if(s!==null&&a6(s),s=N1(t,e,n,r),s===null&&X0(t,e,r,Up,n),s===i)break;i=s}i!==null&&r.stopPropagation()}else X0(t,e,r,null,n)}}var Up=null;function N1(t,e,n,r){if(Up=null,t=yy(r),t=zl(t),t!==null)if(e=du(t),e===null)t=null;else if(n=e.tag,n===13){if(t=Z_(e),t!==null)return t;t=null}else if(n===3){if(e.stateNode.current.memoizedState.isDehydrated)return e.tag===3?e.stateNode.containerInfo:null;t=null}else e!==t&&(t=null);return Up=t,null}function f6(t){switch(t){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(iP()){case vy:return 1;case r6:return 4;case Op:case sP:return 16;case i6:return 536870912;default:return 16}default:return 16}}var Fa=null,_y=null,hp=null;function d6(){if(hp)return hp;var t,e=_y,n=e.length,r,i="value"in Fa?Fa.value:Fa.textContent,s=i.length;for(t=0;t<n&&e[t]===i[t];t++);var o=n-t;for(r=1;r<=o&&e[n-r]===i[s-r];r++);return hp=i.slice(t,1<r?1-r:void 0)}function fp(t){var e=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&e===13&&(t=13)):t=e,t===10&&(t=13),32<=t||t===13?t:0}function Dd(){return!0}function Cw(){return!1}function ns(t){function e(n,r,i,s,o){this._reactName=n,this._targetInst=i,this.type=r,this.nativeEvent=s,this.target=o,this.currentTarget=null;for(var a in t)t.hasOwnProperty(a)&&(n=t[a],this[a]=n?n(s):s[a]);return this.isDefaultPrevented=(s.defaultPrevented!=null?s.defaultPrevented:s.returnValue===!1)?Dd:Cw,this.isPropagationStopped=Cw,this}return On(e.prototype,{preventDefault:function(){this.defaultPrevented=!0;var n=this.nativeEvent;n&&(n.preventDefault?n.preventDefault():typeof n.returnValue!="unknown"&&(n.returnValue=!1),this.isDefaultPrevented=Dd)},stopPropagation:function(){var n=this.nativeEvent;n&&(n.stopPropagation?n.stopPropagation():typeof n.cancelBubble!="unknown"&&(n.cancelBubble=!0),this.isPropagationStopped=Dd)},persist:function(){},isPersistent:Dd}),e}var Ic={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Sy=ns(Ic),Bf=On({},Ic,{view:0,detail:0}),vP=ns(Bf),z0,q0,ph,Mm=On({},Bf,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Ay,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==ph&&(ph&&t.type==="mousemove"?(z0=t.screenX-ph.screenX,q0=t.screenY-ph.screenY):q0=z0=0,ph=t),z0)},movementY:function(t){return"movementY"in t?t.movementY:q0}}),Pw=ns(Mm),wP=On({},Mm,{dataTransfer:0}),xP=ns(wP),bP=On({},Bf,{relatedTarget:0}),$0=ns(bP),_P=On({},Ic,{animationName:0,elapsedTime:0,pseudoElement:0}),SP=ns(_P),AP=On({},Ic,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),NP=ns(AP),EP=On({},Ic,{data:0}),kw=ns(EP),TP={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},CP={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},PP={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function kP(t){var e=this.nativeEvent;return e.getModifierState?e.getModifierState(t):(t=PP[t])?!!e[t]:!1}function Ay(){return kP}var IP=On({},Bf,{key:function(t){if(t.key){var e=TP[t.key]||t.key;if(e!=="Unidentified")return e}return t.type==="keypress"?(t=fp(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?CP[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Ay,charCode:function(t){return t.type==="keypress"?fp(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?fp(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),LP=ns(IP),RP=On({},Mm,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Iw=ns(RP),jP=On({},Bf,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Ay}),DP=ns(jP),MP=On({},Ic,{propertyName:0,elapsedTime:0,pseudoElement:0}),FP=ns(MP),OP=On({},Mm,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),VP=ns(OP),BP=[9,13,27,32],Ny=Ko&&"CompositionEvent"in window,jh=null;Ko&&"documentMode"in document&&(jh=document.documentMode);var UP=Ko&&"TextEvent"in window&&!jh,p6=Ko&&(!Ny||jh&&8<jh&&11>=jh),Lw=" ",Rw=!1;function m6(t,e){switch(t){case"keyup":return BP.indexOf(e.keyCode)!==-1;case"keydown":return e.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function g6(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var Fu=!1;function zP(t,e){switch(t){case"compositionend":return g6(e);case"keypress":return e.which!==32?null:(Rw=!0,Lw);case"textInput":return t=e.data,t===Lw&&Rw?null:t;default:return null}}function qP(t,e){if(Fu)return t==="compositionend"||!Ny&&m6(t,e)?(t=d6(),hp=_y=Fa=null,Fu=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(e.ctrlKey||e.altKey||e.metaKey)||e.ctrlKey&&e.altKey){if(e.char&&1<e.char.length)return e.char;if(e.which)return String.fromCharCode(e.which)}return null;case"compositionend":return p6&&e.locale!=="ko"?null:e.data;default:return null}}var $P={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function jw(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e==="input"?!!$P[t.type]:e==="textarea"}function y6(t,e,n,r){K_(r),e=zp(e,"onChange"),0<e.length&&(n=new Sy("onChange","change",null,n,r),t.push({event:n,listeners:e}))}var Dh=null,of=null;function HP(t){C6(t,0)}function Fm(t){var e=Bu(t);if(U_(e))return t}function WP(t,e){if(t==="change")return e}var v6=!1;if(Ko){var H0;if(Ko){var W0="oninput"in document;if(!W0){var Dw=document.createElement("div");Dw.setAttribute("oninput","return;"),W0=typeof Dw.oninput=="function"}H0=W0}else H0=!1;v6=H0&&(!document.documentMode||9<document.documentMode)}function Mw(){Dh&&(Dh.detachEvent("onpropertychange",w6),of=Dh=null)}function w6(t){if(t.propertyName==="value"&&Fm(of)){var e=[];y6(e,of,t,yy(t)),J_(HP,e)}}function GP(t,e,n){t==="focusin"?(Mw(),Dh=e,of=n,Dh.attachEvent("onpropertychange",w6)):t==="focusout"&&Mw()}function KP(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return Fm(of)}function QP(t,e){if(t==="click")return Fm(e)}function YP(t,e){if(t==="input"||t==="change")return Fm(e)}function XP(t,e){return t===e&&(t!==0||1/t===1/e)||t!==t&&e!==e}var Vs=typeof Object.is=="function"?Object.is:XP;function af(t,e){if(Vs(t,e))return!0;if(typeof t!="object"||t===null||typeof e!="object"||e===null)return!1;var n=Object.keys(t),r=Object.keys(e);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++){var i=n[r];if(!a1.call(e,i)||!Vs(t[i],e[i]))return!1}return!0}function Fw(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function Ow(t,e){var n=Fw(t);t=0;for(var r;n;){if(n.nodeType===3){if(r=t+n.textContent.length,t<=e&&r>=e)return{node:n,offset:e-t};t=r}e:{for(;n;){if(n.nextSibling){n=n.nextSibling;break e}n=n.parentNode}n=void 0}n=Fw(n)}}function x6(t,e){return t&&e?t===e?!0:t&&t.nodeType===3?!1:e&&e.nodeType===3?x6(t,e.parentNode):"contains"in t?t.contains(e):t.compareDocumentPosition?!!(t.compareDocumentPosition(e)&16):!1:!1}function b6(){for(var t=window,e=Dp();e instanceof t.HTMLIFrameElement;){try{var n=typeof e.contentWindow.location.href=="string"}catch{n=!1}if(n)t=e.contentWindow;else break;e=Dp(t.document)}return e}function Ey(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e&&(e==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||e==="textarea"||t.contentEditable==="true")}function JP(t){var e=b6(),n=t.focusedElem,r=t.selectionRange;if(e!==n&&n&&n.ownerDocument&&x6(n.ownerDocument.documentElement,n)){if(r!==null&&Ey(n)){if(e=r.start,t=r.end,t===void 0&&(t=e),"selectionStart"in n)n.selectionStart=e,n.selectionEnd=Math.min(t,n.value.length);else if(t=(e=n.ownerDocument||document)&&e.defaultView||window,t.getSelection){t=t.getSelection();var i=n.textContent.length,s=Math.min(r.start,i);r=r.end===void 0?s:Math.min(r.end,i),!t.extend&&s>r&&(i=r,r=s,s=i),i=Ow(n,s);var o=Ow(n,r);i&&o&&(t.rangeCount!==1||t.anchorNode!==i.node||t.anchorOffset!==i.offset||t.focusNode!==o.node||t.focusOffset!==o.offset)&&(e=e.createRange(),e.setStart(i.node,i.offset),t.removeAllRanges(),s>r?(t.addRange(e),t.extend(o.node,o.offset)):(e.setEnd(o.node,o.offset),t.addRange(e)))}}for(e=[],t=n;t=t.parentNode;)t.nodeType===1&&e.push({element:t,left:t.scrollLeft,top:t.scrollTop});for(typeof n.focus=="function"&&n.focus(),n=0;n<e.length;n++)t=e[n],t.element.scrollLeft=t.left,t.element.scrollTop=t.top}}var ZP=Ko&&"documentMode"in document&&11>=document.documentMode,Ou=null,E1=null,Mh=null,T1=!1;function Vw(t,e,n){var r=n.window===n?n.document:n.nodeType===9?n:n.ownerDocument;T1||Ou==null||Ou!==Dp(r)||(r=Ou,"selectionStart"in r&&Ey(r)?r={start:r.selectionStart,end:r.selectionEnd}:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection(),r={anchorNode:r.anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset}),Mh&&af(Mh,r)||(Mh=r,r=zp(E1,"onSelect"),0<r.length&&(e=new Sy("onSelect","select",null,e,n),t.push({event:e,listeners:r}),e.target=Ou)))}function Md(t,e){var n={};return n[t.toLowerCase()]=e.toLowerCase(),n["Webkit"+t]="webkit"+e,n["Moz"+t]="moz"+e,n}var Vu={animationend:Md("Animation","AnimationEnd"),animationiteration:Md("Animation","AnimationIteration"),animationstart:Md("Animation","AnimationStart"),transitionend:Md("Transition","TransitionEnd")},G0={},_6={};Ko&&(_6=document.createElement("div").style,"AnimationEvent"in window||(delete Vu.animationend.animation,delete Vu.animationiteration.animation,delete Vu.animationstart.animation),"TransitionEvent"in window||delete Vu.transitionend.transition);function Om(t){if(G0[t])return G0[t];if(!Vu[t])return t;var e=Vu[t],n;for(n in e)if(e.hasOwnProperty(n)&&n in _6)return G0[t]=e[n];return t}var S6=Om("animationend"),A6=Om("animationiteration"),N6=Om("animationstart"),E6=Om("transitionend"),T6=new Map,Bw="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function ul(t,e){T6.set(t,e),fu(e,[t])}for(var K0=0;K0<Bw.length;K0++){var Q0=Bw[K0],ek=Q0.toLowerCase(),tk=Q0[0].toUpperCase()+Q0.slice(1);ul(ek,"on"+tk)}ul(S6,"onAnimationEnd");ul(A6,"onAnimationIteration");ul(N6,"onAnimationStart");ul("dblclick","onDoubleClick");ul("focusin","onFocus");ul("focusout","onBlur");ul(E6,"onTransitionEnd");dc("onMouseEnter",["mouseout","mouseover"]);dc("onMouseLeave",["mouseout","mouseover"]);dc("onPointerEnter",["pointerout","pointerover"]);dc("onPointerLeave",["pointerout","pointerover"]);fu("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));fu("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));fu("onBeforeInput",["compositionend","keypress","textInput","paste"]);fu("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));fu("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));fu("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Eh="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),nk=new Set("cancel close invalid load scroll toggle".split(" ").concat(Eh));function Uw(t,e,n){var r=t.type||"unknown-event";t.currentTarget=n,eP(r,e,void 0,t),t.currentTarget=null}function C6(t,e){e=(e&4)!==0;for(var n=0;n<t.length;n++){var r=t[n],i=r.event;r=r.listeners;e:{var s=void 0;if(e)for(var o=r.length-1;0<=o;o--){var a=r[o],l=a.instance,u=a.currentTarget;if(a=a.listener,l!==s&&i.isPropagationStopped())break e;Uw(i,a,u),s=l}else for(o=0;o<r.length;o++){if(a=r[o],l=a.instance,u=a.currentTarget,a=a.listener,l!==s&&i.isPropagationStopped())break e;Uw(i,a,u),s=l}}}if(Fp)throw t=_1,Fp=!1,_1=null,t}function bn(t,e){var n=e[L1];n===void 0&&(n=e[L1]=new Set);var r=t+"__bubble";n.has(r)||(P6(e,t,2,!1),n.add(r))}function Y0(t,e,n){var r=0;e&&(r|=4),P6(n,t,r,e)}var Fd="_reactListening"+Math.random().toString(36).slice(2);function lf(t){if(!t[Fd]){t[Fd]=!0,M_.forEach(function(n){n!=="selectionchange"&&(nk.has(n)||Y0(n,!1,t),Y0(n,!0,t))});var e=t.nodeType===9?t:t.ownerDocument;e===null||e[Fd]||(e[Fd]=!0,Y0("selectionchange",!1,e))}}function P6(t,e,n,r){switch(f6(e)){case 1:var i=gP;break;case 4:i=yP;break;default:i=by}n=i.bind(null,e,n,t),i=void 0,!b1||e!=="touchstart"&&e!=="touchmove"&&e!=="wheel"||(i=!0),r?i!==void 0?t.addEventListener(e,n,{capture:!0,passive:i}):t.addEventListener(e,n,!0):i!==void 0?t.addEventListener(e,n,{passive:i}):t.addEventListener(e,n,!1)}function X0(t,e,n,r,i){var s=r;if(!(e&1)&&!(e&2)&&r!==null)e:for(;;){if(r===null)return;var o=r.tag;if(o===3||o===4){var a=r.stateNode.containerInfo;if(a===i||a.nodeType===8&&a.parentNode===i)break;if(o===4)for(o=r.return;o!==null;){var l=o.tag;if((l===3||l===4)&&(l=o.stateNode.containerInfo,l===i||l.nodeType===8&&l.parentNode===i))return;o=o.return}for(;a!==null;){if(o=zl(a),o===null)return;if(l=o.tag,l===5||l===6){r=s=o;continue e}a=a.parentNode}}r=r.return}J_(function(){var u=s,c=yy(n),d=[];e:{var g=T6.get(t);if(g!==void 0){var m=Sy,b=t;switch(t){case"keypress":if(fp(n)===0)break e;case"keydown":case"keyup":m=LP;break;case"focusin":b="focus",m=$0;break;case"focusout":b="blur",m=$0;break;case"beforeblur":case"afterblur":m=$0;break;case"click":if(n.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":m=Pw;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":m=xP;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":m=DP;break;case S6:case A6:case N6:m=SP;break;case E6:m=FP;break;case"scroll":m=vP;break;case"wheel":m=VP;break;case"copy":case"cut":case"paste":m=NP;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":m=Iw}var x=(e&4)!==0,A=!x&&t==="scroll",v=x?g!==null?g+"Capture":null:g;x=[];for(var _=u,E;_!==null;){E=_;var L=E.stateNode;if(E.tag===5&&L!==null&&(E=L,v!==null&&(L=tf(_,v),L!=null&&x.push(uf(_,L,E)))),A)break;_=_.return}0<x.length&&(g=new m(g,b,null,n,c),d.push({event:g,listeners:x}))}}if(!(e&7)){e:{if(g=t==="mouseover"||t==="pointerover",m=t==="mouseout"||t==="pointerout",g&&n!==w1&&(b=n.relatedTarget||n.fromElement)&&(zl(b)||b[Qo]))break e;if((m||g)&&(g=c.window===c?c:(g=c.ownerDocument)?g.defaultView||g.parentWindow:window,m?(b=n.relatedTarget||n.toElement,m=u,b=b?zl(b):null,b!==null&&(A=du(b),b!==A||b.tag!==5&&b.tag!==6)&&(b=null)):(m=null,b=u),m!==b)){if(x=Pw,L="onMouseLeave",v="onMouseEnter",_="mouse",(t==="pointerout"||t==="pointerover")&&(x=Iw,L="onPointerLeave",v="onPointerEnter",_="pointer"),A=m==null?g:Bu(m),E=b==null?g:Bu(b),g=new x(L,_+"leave",m,n,c),g.target=A,g.relatedTarget=E,L=null,zl(c)===u&&(x=new x(v,_+"enter",b,n,c),x.target=E,x.relatedTarget=A,L=x),A=L,m&&b)t:{for(x=m,v=b,_=0,E=x;E;E=Eu(E))_++;for(E=0,L=v;L;L=Eu(L))E++;for(;0<_-E;)x=Eu(x),_--;for(;0<E-_;)v=Eu(v),E--;for(;_--;){if(x===v||v!==null&&x===v.alternate)break t;x=Eu(x),v=Eu(v)}x=null}else x=null;m!==null&&zw(d,g,m,x,!1),b!==null&&A!==null&&zw(d,A,b,x,!0)}}e:{if(g=u?Bu(u):window,m=g.nodeName&&g.nodeName.toLowerCase(),m==="select"||m==="input"&&g.type==="file")var z=WP;else if(jw(g))if(v6)z=YP;else{z=KP;var Y=GP}else(m=g.nodeName)&&m.toLowerCase()==="input"&&(g.type==="checkbox"||g.type==="radio")&&(z=QP);if(z&&(z=z(t,u))){y6(d,z,n,c);break e}Y&&Y(t,g,u),t==="focusout"&&(Y=g._wrapperState)&&Y.controlled&&g.type==="number"&&p1(g,"number",g.value)}switch(Y=u?Bu(u):window,t){case"focusin":(jw(Y)||Y.contentEditable==="true")&&(Ou=Y,E1=u,Mh=null);break;case"focusout":Mh=E1=Ou=null;break;case"mousedown":T1=!0;break;case"contextmenu":case"mouseup":case"dragend":T1=!1,Vw(d,n,c);break;case"selectionchange":if(ZP)break;case"keydown":case"keyup":Vw(d,n,c)}var R;if(Ny)e:{switch(t){case"compositionstart":var C="onCompositionStart";break e;case"compositionend":C="onCompositionEnd";break e;case"compositionupdate":C="onCompositionUpdate";break e}C=void 0}else Fu?m6(t,n)&&(C="onCompositionEnd"):t==="keydown"&&n.keyCode===229&&(C="onCompositionStart");C&&(p6&&n.locale!=="ko"&&(Fu||C!=="onCompositionStart"?C==="onCompositionEnd"&&Fu&&(R=d6()):(Fa=c,_y="value"in Fa?Fa.value:Fa.textContent,Fu=!0)),Y=zp(u,C),0<Y.length&&(C=new kw(C,t,null,n,c),d.push({event:C,listeners:Y}),R?C.data=R:(R=g6(n),R!==null&&(C.data=R)))),(R=UP?zP(t,n):qP(t,n))&&(u=zp(u,"onBeforeInput"),0<u.length&&(c=new kw("onBeforeInput","beforeinput",null,n,c),d.push({event:c,listeners:u}),c.data=R))}C6(d,e)})}function uf(t,e,n){return{instance:t,listener:e,currentTarget:n}}function zp(t,e){for(var n=e+"Capture",r=[];t!==null;){var i=t,s=i.stateNode;i.tag===5&&s!==null&&(i=s,s=tf(t,n),s!=null&&r.unshift(uf(t,s,i)),s=tf(t,e),s!=null&&r.push(uf(t,s,i))),t=t.return}return r}function Eu(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5);return t||null}function zw(t,e,n,r,i){for(var s=e._reactName,o=[];n!==null&&n!==r;){var a=n,l=a.alternate,u=a.stateNode;if(l!==null&&l===r)break;a.tag===5&&u!==null&&(a=u,i?(l=tf(n,s),l!=null&&o.unshift(uf(n,l,a))):i||(l=tf(n,s),l!=null&&o.push(uf(n,l,a)))),n=n.return}o.length!==0&&t.push({event:e,listeners:o})}var rk=/\r\n?/g,ik=/\u0000|\uFFFD/g;function qw(t){return(typeof t=="string"?t:""+t).replace(rk,`
`).replace(ik,"")}function Od(t,e,n){if(e=qw(e),qw(t)!==e&&n)throw Error(Fe(425))}function qp(){}var C1=null,P1=null;function k1(t,e){return t==="textarea"||t==="noscript"||typeof e.children=="string"||typeof e.children=="number"||typeof e.dangerouslySetInnerHTML=="object"&&e.dangerouslySetInnerHTML!==null&&e.dangerouslySetInnerHTML.__html!=null}var I1=typeof setTimeout=="function"?setTimeout:void 0,sk=typeof clearTimeout=="function"?clearTimeout:void 0,$w=typeof Promise=="function"?Promise:void 0,ok=typeof queueMicrotask=="function"?queueMicrotask:typeof $w<"u"?function(t){return $w.resolve(null).then(t).catch(ak)}:I1;function ak(t){setTimeout(function(){throw t})}function J0(t,e){var n=e,r=0;do{var i=n.nextSibling;if(t.removeChild(n),i&&i.nodeType===8)if(n=i.data,n==="/$"){if(r===0){t.removeChild(i),sf(e);return}r--}else n!=="$"&&n!=="$?"&&n!=="$!"||r++;n=i}while(n);sf(e)}function Wa(t){for(;t!=null;t=t.nextSibling){var e=t.nodeType;if(e===1||e===3)break;if(e===8){if(e=t.data,e==="$"||e==="$!"||e==="$?")break;if(e==="/$")return null}}return t}function Hw(t){t=t.previousSibling;for(var e=0;t;){if(t.nodeType===8){var n=t.data;if(n==="$"||n==="$!"||n==="$?"){if(e===0)return t;e--}else n==="/$"&&e++}t=t.previousSibling}return null}var Lc=Math.random().toString(36).slice(2),ho="__reactFiber$"+Lc,cf="__reactProps$"+Lc,Qo="__reactContainer$"+Lc,L1="__reactEvents$"+Lc,lk="__reactListeners$"+Lc,uk="__reactHandles$"+Lc;function zl(t){var e=t[ho];if(e)return e;for(var n=t.parentNode;n;){if(e=n[Qo]||n[ho]){if(n=e.alternate,e.child!==null||n!==null&&n.child!==null)for(t=Hw(t);t!==null;){if(n=t[ho])return n;t=Hw(t)}return e}t=n,n=t.parentNode}return null}function Uf(t){return t=t[ho]||t[Qo],!t||t.tag!==5&&t.tag!==6&&t.tag!==13&&t.tag!==3?null:t}function Bu(t){if(t.tag===5||t.tag===6)return t.stateNode;throw Error(Fe(33))}function Vm(t){return t[cf]||null}var R1=[],Uu=-1;function cl(t){return{current:t}}function An(t){0>Uu||(t.current=R1[Uu],R1[Uu]=null,Uu--)}function yn(t,e){Uu++,R1[Uu]=t.current,t.current=e}var nl={},ii=cl(nl),ki=cl(!1),tu=nl;function pc(t,e){var n=t.type.contextTypes;if(!n)return nl;var r=t.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===e)return r.__reactInternalMemoizedMaskedChildContext;var i={},s;for(s in n)i[s]=e[s];return r&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=e,t.__reactInternalMemoizedMaskedChildContext=i),i}function Ii(t){return t=t.childContextTypes,t!=null}function $p(){An(ki),An(ii)}function Ww(t,e,n){if(ii.current!==nl)throw Error(Fe(168));yn(ii,e),yn(ki,n)}function k6(t,e,n){var r=t.stateNode;if(e=e.childContextTypes,typeof r.getChildContext!="function")return n;r=r.getChildContext();for(var i in r)if(!(i in e))throw Error(Fe(108,GC(t)||"Unknown",i));return On({},n,r)}function Hp(t){return t=(t=t.stateNode)&&t.__reactInternalMemoizedMergedChildContext||nl,tu=ii.current,yn(ii,t),yn(ki,ki.current),!0}function Gw(t,e,n){var r=t.stateNode;if(!r)throw Error(Fe(169));n?(t=k6(t,e,tu),r.__reactInternalMemoizedMergedChildContext=t,An(ki),An(ii),yn(ii,t)):An(ki),yn(ki,n)}var Uo=null,Bm=!1,Z0=!1;function I6(t){Uo===null?Uo=[t]:Uo.push(t)}function ck(t){Bm=!0,I6(t)}function hl(){if(!Z0&&Uo!==null){Z0=!0;var t=0,e=ln;try{var n=Uo;for(ln=1;t<n.length;t++){var r=n[t];do r=r(!0);while(r!==null)}Uo=null,Bm=!1}catch(i){throw Uo!==null&&(Uo=Uo.slice(t+1)),n6(vy,hl),i}finally{ln=e,Z0=!1}}return null}var zu=[],qu=0,Wp=null,Gp=0,ds=[],ps=0,nu=null,qo=1,$o="";function Ml(t,e){zu[qu++]=Gp,zu[qu++]=Wp,Wp=t,Gp=e}function L6(t,e,n){ds[ps++]=qo,ds[ps++]=$o,ds[ps++]=nu,nu=t;var r=qo;t=$o;var i=32-Fs(r)-1;r&=~(1<<i),n+=1;var s=32-Fs(e)+i;if(30<s){var o=i-i%5;s=(r&(1<<o)-1).toString(32),r>>=o,i-=o,qo=1<<32-Fs(e)+i|n<<i|r,$o=s+t}else qo=1<<s|n<<i|r,$o=t}function Ty(t){t.return!==null&&(Ml(t,1),L6(t,1,0))}function Cy(t){for(;t===Wp;)Wp=zu[--qu],zu[qu]=null,Gp=zu[--qu],zu[qu]=null;for(;t===nu;)nu=ds[--ps],ds[ps]=null,$o=ds[--ps],ds[ps]=null,qo=ds[--ps],ds[ps]=null}var Zi=null,Yi=null,Pn=!1,Ms=null;function R6(t,e){var n=ms(5,null,null,0);n.elementType="DELETED",n.stateNode=e,n.return=t,e=t.deletions,e===null?(t.deletions=[n],t.flags|=16):e.push(n)}function Kw(t,e){switch(t.tag){case 5:var n=t.type;return e=e.nodeType!==1||n.toLowerCase()!==e.nodeName.toLowerCase()?null:e,e!==null?(t.stateNode=e,Zi=t,Yi=Wa(e.firstChild),!0):!1;case 6:return e=t.pendingProps===""||e.nodeType!==3?null:e,e!==null?(t.stateNode=e,Zi=t,Yi=null,!0):!1;case 13:return e=e.nodeType!==8?null:e,e!==null?(n=nu!==null?{id:qo,overflow:$o}:null,t.memoizedState={dehydrated:e,treeContext:n,retryLane:1073741824},n=ms(18,null,null,0),n.stateNode=e,n.return=t,t.child=n,Zi=t,Yi=null,!0):!1;default:return!1}}function j1(t){return(t.mode&1)!==0&&(t.flags&128)===0}function D1(t){if(Pn){var e=Yi;if(e){var n=e;if(!Kw(t,e)){if(j1(t))throw Error(Fe(418));e=Wa(n.nextSibling);var r=Zi;e&&Kw(t,e)?R6(r,n):(t.flags=t.flags&-4097|2,Pn=!1,Zi=t)}}else{if(j1(t))throw Error(Fe(418));t.flags=t.flags&-4097|2,Pn=!1,Zi=t}}}function Qw(t){for(t=t.return;t!==null&&t.tag!==5&&t.tag!==3&&t.tag!==13;)t=t.return;Zi=t}function Vd(t){if(t!==Zi)return!1;if(!Pn)return Qw(t),Pn=!0,!1;var e;if((e=t.tag!==3)&&!(e=t.tag!==5)&&(e=t.type,e=e!=="head"&&e!=="body"&&!k1(t.type,t.memoizedProps)),e&&(e=Yi)){if(j1(t))throw j6(),Error(Fe(418));for(;e;)R6(t,e),e=Wa(e.nextSibling)}if(Qw(t),t.tag===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(Fe(317));e:{for(t=t.nextSibling,e=0;t;){if(t.nodeType===8){var n=t.data;if(n==="/$"){if(e===0){Yi=Wa(t.nextSibling);break e}e--}else n!=="$"&&n!=="$!"&&n!=="$?"||e++}t=t.nextSibling}Yi=null}}else Yi=Zi?Wa(t.stateNode.nextSibling):null;return!0}function j6(){for(var t=Yi;t;)t=Wa(t.nextSibling)}function mc(){Yi=Zi=null,Pn=!1}function Py(t){Ms===null?Ms=[t]:Ms.push(t)}var hk=ia.ReactCurrentBatchConfig;function mh(t,e,n){if(t=n.ref,t!==null&&typeof t!="function"&&typeof t!="object"){if(n._owner){if(n=n._owner,n){if(n.tag!==1)throw Error(Fe(309));var r=n.stateNode}if(!r)throw Error(Fe(147,t));var i=r,s=""+t;return e!==null&&e.ref!==null&&typeof e.ref=="function"&&e.ref._stringRef===s?e.ref:(e=function(o){var a=i.refs;o===null?delete a[s]:a[s]=o},e._stringRef=s,e)}if(typeof t!="string")throw Error(Fe(284));if(!n._owner)throw Error(Fe(290,t))}return t}function Bd(t,e){throw t=Object.prototype.toString.call(e),Error(Fe(31,t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t))}function Yw(t){var e=t._init;return e(t._payload)}function D6(t){function e(v,_){if(t){var E=v.deletions;E===null?(v.deletions=[_],v.flags|=16):E.push(_)}}function n(v,_){if(!t)return null;for(;_!==null;)e(v,_),_=_.sibling;return null}function r(v,_){for(v=new Map;_!==null;)_.key!==null?v.set(_.key,_):v.set(_.index,_),_=_.sibling;return v}function i(v,_){return v=Ya(v,_),v.index=0,v.sibling=null,v}function s(v,_,E){return v.index=E,t?(E=v.alternate,E!==null?(E=E.index,E<_?(v.flags|=2,_):E):(v.flags|=2,_)):(v.flags|=1048576,_)}function o(v){return t&&v.alternate===null&&(v.flags|=2),v}function a(v,_,E,L){return _===null||_.tag!==6?(_=og(E,v.mode,L),_.return=v,_):(_=i(_,E),_.return=v,_)}function l(v,_,E,L){var z=E.type;return z===Mu?c(v,_,E.props.children,L,E.key):_!==null&&(_.elementType===z||typeof z=="object"&&z!==null&&z.$$typeof===Ra&&Yw(z)===_.type)?(L=i(_,E.props),L.ref=mh(v,_,E),L.return=v,L):(L=wp(E.type,E.key,E.props,null,v.mode,L),L.ref=mh(v,_,E),L.return=v,L)}function u(v,_,E,L){return _===null||_.tag!==4||_.stateNode.containerInfo!==E.containerInfo||_.stateNode.implementation!==E.implementation?(_=ag(E,v.mode,L),_.return=v,_):(_=i(_,E.children||[]),_.return=v,_)}function c(v,_,E,L,z){return _===null||_.tag!==7?(_=Ql(E,v.mode,L,z),_.return=v,_):(_=i(_,E),_.return=v,_)}function d(v,_,E){if(typeof _=="string"&&_!==""||typeof _=="number")return _=og(""+_,v.mode,E),_.return=v,_;if(typeof _=="object"&&_!==null){switch(_.$$typeof){case Pd:return E=wp(_.type,_.key,_.props,null,v.mode,E),E.ref=mh(v,null,_),E.return=v,E;case Du:return _=ag(_,v.mode,E),_.return=v,_;case Ra:var L=_._init;return d(v,L(_._payload),E)}if(Ah(_)||ch(_))return _=Ql(_,v.mode,E,null),_.return=v,_;Bd(v,_)}return null}function g(v,_,E,L){var z=_!==null?_.key:null;if(typeof E=="string"&&E!==""||typeof E=="number")return z!==null?null:a(v,_,""+E,L);if(typeof E=="object"&&E!==null){switch(E.$$typeof){case Pd:return E.key===z?l(v,_,E,L):null;case Du:return E.key===z?u(v,_,E,L):null;case Ra:return z=E._init,g(v,_,z(E._payload),L)}if(Ah(E)||ch(E))return z!==null?null:c(v,_,E,L,null);Bd(v,E)}return null}function m(v,_,E,L,z){if(typeof L=="string"&&L!==""||typeof L=="number")return v=v.get(E)||null,a(_,v,""+L,z);if(typeof L=="object"&&L!==null){switch(L.$$typeof){case Pd:return v=v.get(L.key===null?E:L.key)||null,l(_,v,L,z);case Du:return v=v.get(L.key===null?E:L.key)||null,u(_,v,L,z);case Ra:var Y=L._init;return m(v,_,E,Y(L._payload),z)}if(Ah(L)||ch(L))return v=v.get(E)||null,c(_,v,L,z,null);Bd(_,L)}return null}function b(v,_,E,L){for(var z=null,Y=null,R=_,C=_=0,k=null;R!==null&&C<E.length;C++){R.index>C?(k=R,R=null):k=R.sibling;var M=g(v,R,E[C],L);if(M===null){R===null&&(R=k);break}t&&R&&M.alternate===null&&e(v,R),_=s(M,_,C),Y===null?z=M:Y.sibling=M,Y=M,R=k}if(C===E.length)return n(v,R),Pn&&Ml(v,C),z;if(R===null){for(;C<E.length;C++)R=d(v,E[C],L),R!==null&&(_=s(R,_,C),Y===null?z=R:Y.sibling=R,Y=R);return Pn&&Ml(v,C),z}for(R=r(v,R);C<E.length;C++)k=m(R,v,C,E[C],L),k!==null&&(t&&k.alternate!==null&&R.delete(k.key===null?C:k.key),_=s(k,_,C),Y===null?z=k:Y.sibling=k,Y=k);return t&&R.forEach(function(T){return e(v,T)}),Pn&&Ml(v,C),z}function x(v,_,E,L){var z=ch(E);if(typeof z!="function")throw Error(Fe(150));if(E=z.call(E),E==null)throw Error(Fe(151));for(var Y=z=null,R=_,C=_=0,k=null,M=E.next();R!==null&&!M.done;C++,M=E.next()){R.index>C?(k=R,R=null):k=R.sibling;var T=g(v,R,M.value,L);if(T===null){R===null&&(R=k);break}t&&R&&T.alternate===null&&e(v,R),_=s(T,_,C),Y===null?z=T:Y.sibling=T,Y=T,R=k}if(M.done)return n(v,R),Pn&&Ml(v,C),z;if(R===null){for(;!M.done;C++,M=E.next())M=d(v,M.value,L),M!==null&&(_=s(M,_,C),Y===null?z=M:Y.sibling=M,Y=M);return Pn&&Ml(v,C),z}for(R=r(v,R);!M.done;C++,M=E.next())M=m(R,v,C,M.value,L),M!==null&&(t&&M.alternate!==null&&R.delete(M.key===null?C:M.key),_=s(M,_,C),Y===null?z=M:Y.sibling=M,Y=M);return t&&R.forEach(function(I){return e(v,I)}),Pn&&Ml(v,C),z}function A(v,_,E,L){if(typeof E=="object"&&E!==null&&E.type===Mu&&E.key===null&&(E=E.props.children),typeof E=="object"&&E!==null){switch(E.$$typeof){case Pd:e:{for(var z=E.key,Y=_;Y!==null;){if(Y.key===z){if(z=E.type,z===Mu){if(Y.tag===7){n(v,Y.sibling),_=i(Y,E.props.children),_.return=v,v=_;break e}}else if(Y.elementType===z||typeof z=="object"&&z!==null&&z.$$typeof===Ra&&Yw(z)===Y.type){n(v,Y.sibling),_=i(Y,E.props),_.ref=mh(v,Y,E),_.return=v,v=_;break e}n(v,Y);break}else e(v,Y);Y=Y.sibling}E.type===Mu?(_=Ql(E.props.children,v.mode,L,E.key),_.return=v,v=_):(L=wp(E.type,E.key,E.props,null,v.mode,L),L.ref=mh(v,_,E),L.return=v,v=L)}return o(v);case Du:e:{for(Y=E.key;_!==null;){if(_.key===Y)if(_.tag===4&&_.stateNode.containerInfo===E.containerInfo&&_.stateNode.implementation===E.implementation){n(v,_.sibling),_=i(_,E.children||[]),_.return=v,v=_;break e}else{n(v,_);break}else e(v,_);_=_.sibling}_=ag(E,v.mode,L),_.return=v,v=_}return o(v);case Ra:return Y=E._init,A(v,_,Y(E._payload),L)}if(Ah(E))return b(v,_,E,L);if(ch(E))return x(v,_,E,L);Bd(v,E)}return typeof E=="string"&&E!==""||typeof E=="number"?(E=""+E,_!==null&&_.tag===6?(n(v,_.sibling),_=i(_,E),_.return=v,v=_):(n(v,_),_=og(E,v.mode,L),_.return=v,v=_),o(v)):n(v,_)}return A}var gc=D6(!0),M6=D6(!1),Kp=cl(null),Qp=null,$u=null,ky=null;function Iy(){ky=$u=Qp=null}function Ly(t){var e=Kp.current;An(Kp),t._currentValue=e}function M1(t,e,n){for(;t!==null;){var r=t.alternate;if((t.childLanes&e)!==e?(t.childLanes|=e,r!==null&&(r.childLanes|=e)):r!==null&&(r.childLanes&e)!==e&&(r.childLanes|=e),t===n)break;t=t.return}}function ic(t,e){Qp=t,ky=$u=null,t=t.dependencies,t!==null&&t.firstContext!==null&&(t.lanes&e&&(Ci=!0),t.firstContext=null)}function vs(t){var e=t._currentValue;if(ky!==t)if(t={context:t,memoizedValue:e,next:null},$u===null){if(Qp===null)throw Error(Fe(308));$u=t,Qp.dependencies={lanes:0,firstContext:t}}else $u=$u.next=t;return e}var ql=null;function Ry(t){ql===null?ql=[t]:ql.push(t)}function F6(t,e,n,r){var i=e.interleaved;return i===null?(n.next=n,Ry(e)):(n.next=i.next,i.next=n),e.interleaved=n,Yo(t,r)}function Yo(t,e){t.lanes|=e;var n=t.alternate;for(n!==null&&(n.lanes|=e),n=t,t=t.return;t!==null;)t.childLanes|=e,n=t.alternate,n!==null&&(n.childLanes|=e),n=t,t=t.return;return n.tag===3?n.stateNode:null}var ja=!1;function jy(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function O6(t,e){t=t.updateQueue,e.updateQueue===t&&(e.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,effects:t.effects})}function Wo(t,e){return{eventTime:t,lane:e,tag:0,payload:null,callback:null,next:null}}function Ga(t,e,n){var r=t.updateQueue;if(r===null)return null;if(r=r.shared,Gt&2){var i=r.pending;return i===null?e.next=e:(e.next=i.next,i.next=e),r.pending=e,Yo(t,n)}return i=r.interleaved,i===null?(e.next=e,Ry(r)):(e.next=i.next,i.next=e),r.interleaved=e,Yo(t,n)}function dp(t,e,n){if(e=e.updateQueue,e!==null&&(e=e.shared,(n&4194240)!==0)){var r=e.lanes;r&=t.pendingLanes,n|=r,e.lanes=n,wy(t,n)}}function Xw(t,e){var n=t.updateQueue,r=t.alternate;if(r!==null&&(r=r.updateQueue,n===r)){var i=null,s=null;if(n=n.firstBaseUpdate,n!==null){do{var o={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};s===null?i=s=o:s=s.next=o,n=n.next}while(n!==null);s===null?i=s=e:s=s.next=e}else i=s=e;n={baseState:r.baseState,firstBaseUpdate:i,lastBaseUpdate:s,shared:r.shared,effects:r.effects},t.updateQueue=n;return}t=n.lastBaseUpdate,t===null?n.firstBaseUpdate=e:t.next=e,n.lastBaseUpdate=e}function Yp(t,e,n,r){var i=t.updateQueue;ja=!1;var s=i.firstBaseUpdate,o=i.lastBaseUpdate,a=i.shared.pending;if(a!==null){i.shared.pending=null;var l=a,u=l.next;l.next=null,o===null?s=u:o.next=u,o=l;var c=t.alternate;c!==null&&(c=c.updateQueue,a=c.lastBaseUpdate,a!==o&&(a===null?c.firstBaseUpdate=u:a.next=u,c.lastBaseUpdate=l))}if(s!==null){var d=i.baseState;o=0,c=u=l=null,a=s;do{var g=a.lane,m=a.eventTime;if((r&g)===g){c!==null&&(c=c.next={eventTime:m,lane:0,tag:a.tag,payload:a.payload,callback:a.callback,next:null});e:{var b=t,x=a;switch(g=e,m=n,x.tag){case 1:if(b=x.payload,typeof b=="function"){d=b.call(m,d,g);break e}d=b;break e;case 3:b.flags=b.flags&-65537|128;case 0:if(b=x.payload,g=typeof b=="function"?b.call(m,d,g):b,g==null)break e;d=On({},d,g);break e;case 2:ja=!0}}a.callback!==null&&a.lane!==0&&(t.flags|=64,g=i.effects,g===null?i.effects=[a]:g.push(a))}else m={eventTime:m,lane:g,tag:a.tag,payload:a.payload,callback:a.callback,next:null},c===null?(u=c=m,l=d):c=c.next=m,o|=g;if(a=a.next,a===null){if(a=i.shared.pending,a===null)break;g=a,a=g.next,g.next=null,i.lastBaseUpdate=g,i.shared.pending=null}}while(!0);if(c===null&&(l=d),i.baseState=l,i.firstBaseUpdate=u,i.lastBaseUpdate=c,e=i.shared.interleaved,e!==null){i=e;do o|=i.lane,i=i.next;while(i!==e)}else s===null&&(i.shared.lanes=0);iu|=o,t.lanes=o,t.memoizedState=d}}function Jw(t,e,n){if(t=e.effects,e.effects=null,t!==null)for(e=0;e<t.length;e++){var r=t[e],i=r.callback;if(i!==null){if(r.callback=null,r=n,typeof i!="function")throw Error(Fe(191,i));i.call(r)}}}var zf={},mo=cl(zf),hf=cl(zf),ff=cl(zf);function $l(t){if(t===zf)throw Error(Fe(174));return t}function Dy(t,e){switch(yn(ff,e),yn(hf,t),yn(mo,zf),t=e.nodeType,t){case 9:case 11:e=(e=e.documentElement)?e.namespaceURI:g1(null,"");break;default:t=t===8?e.parentNode:e,e=t.namespaceURI||null,t=t.tagName,e=g1(e,t)}An(mo),yn(mo,e)}function yc(){An(mo),An(hf),An(ff)}function V6(t){$l(ff.current);var e=$l(mo.current),n=g1(e,t.type);e!==n&&(yn(hf,t),yn(mo,n))}function My(t){hf.current===t&&(An(mo),An(hf))}var jn=cl(0);function Xp(t){for(var e=t;e!==null;){if(e.tag===13){var n=e.memoizedState;if(n!==null&&(n=n.dehydrated,n===null||n.data==="$?"||n.data==="$!"))return e}else if(e.tag===19&&e.memoizedProps.revealOrder!==void 0){if(e.flags&128)return e}else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return null;e=e.return}e.sibling.return=e.return,e=e.sibling}return null}var eg=[];function Fy(){for(var t=0;t<eg.length;t++)eg[t]._workInProgressVersionPrimary=null;eg.length=0}var pp=ia.ReactCurrentDispatcher,tg=ia.ReactCurrentBatchConfig,ru=0,Mn=null,vr=null,Nr=null,Jp=!1,Fh=!1,df=0,fk=0;function Wr(){throw Error(Fe(321))}function Oy(t,e){if(e===null)return!1;for(var n=0;n<e.length&&n<t.length;n++)if(!Vs(t[n],e[n]))return!1;return!0}function Vy(t,e,n,r,i,s){if(ru=s,Mn=e,e.memoizedState=null,e.updateQueue=null,e.lanes=0,pp.current=t===null||t.memoizedState===null?gk:yk,t=n(r,i),Fh){s=0;do{if(Fh=!1,df=0,25<=s)throw Error(Fe(301));s+=1,Nr=vr=null,e.updateQueue=null,pp.current=vk,t=n(r,i)}while(Fh)}if(pp.current=Zp,e=vr!==null&&vr.next!==null,ru=0,Nr=vr=Mn=null,Jp=!1,e)throw Error(Fe(300));return t}function By(){var t=df!==0;return df=0,t}function co(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Nr===null?Mn.memoizedState=Nr=t:Nr=Nr.next=t,Nr}function ws(){if(vr===null){var t=Mn.alternate;t=t!==null?t.memoizedState:null}else t=vr.next;var e=Nr===null?Mn.memoizedState:Nr.next;if(e!==null)Nr=e,vr=t;else{if(t===null)throw Error(Fe(310));vr=t,t={memoizedState:vr.memoizedState,baseState:vr.baseState,baseQueue:vr.baseQueue,queue:vr.queue,next:null},Nr===null?Mn.memoizedState=Nr=t:Nr=Nr.next=t}return Nr}function pf(t,e){return typeof e=="function"?e(t):e}function ng(t){var e=ws(),n=e.queue;if(n===null)throw Error(Fe(311));n.lastRenderedReducer=t;var r=vr,i=r.baseQueue,s=n.pending;if(s!==null){if(i!==null){var o=i.next;i.next=s.next,s.next=o}r.baseQueue=i=s,n.pending=null}if(i!==null){s=i.next,r=r.baseState;var a=o=null,l=null,u=s;do{var c=u.lane;if((ru&c)===c)l!==null&&(l=l.next={lane:0,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null}),r=u.hasEagerState?u.eagerState:t(r,u.action);else{var d={lane:c,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null};l===null?(a=l=d,o=r):l=l.next=d,Mn.lanes|=c,iu|=c}u=u.next}while(u!==null&&u!==s);l===null?o=r:l.next=a,Vs(r,e.memoizedState)||(Ci=!0),e.memoizedState=r,e.baseState=o,e.baseQueue=l,n.lastRenderedState=r}if(t=n.interleaved,t!==null){i=t;do s=i.lane,Mn.lanes|=s,iu|=s,i=i.next;while(i!==t)}else i===null&&(n.lanes=0);return[e.memoizedState,n.dispatch]}function rg(t){var e=ws(),n=e.queue;if(n===null)throw Error(Fe(311));n.lastRenderedReducer=t;var r=n.dispatch,i=n.pending,s=e.memoizedState;if(i!==null){n.pending=null;var o=i=i.next;do s=t(s,o.action),o=o.next;while(o!==i);Vs(s,e.memoizedState)||(Ci=!0),e.memoizedState=s,e.baseQueue===null&&(e.baseState=s),n.lastRenderedState=s}return[s,r]}function B6(){}function U6(t,e){var n=Mn,r=ws(),i=e(),s=!Vs(r.memoizedState,i);if(s&&(r.memoizedState=i,Ci=!0),r=r.queue,Uy($6.bind(null,n,r,t),[t]),r.getSnapshot!==e||s||Nr!==null&&Nr.memoizedState.tag&1){if(n.flags|=2048,mf(9,q6.bind(null,n,r,i,e),void 0,null),Tr===null)throw Error(Fe(349));ru&30||z6(n,e,i)}return i}function z6(t,e,n){t.flags|=16384,t={getSnapshot:e,value:n},e=Mn.updateQueue,e===null?(e={lastEffect:null,stores:null},Mn.updateQueue=e,e.stores=[t]):(n=e.stores,n===null?e.stores=[t]:n.push(t))}function q6(t,e,n,r){e.value=n,e.getSnapshot=r,H6(e)&&W6(t)}function $6(t,e,n){return n(function(){H6(e)&&W6(t)})}function H6(t){var e=t.getSnapshot;t=t.value;try{var n=e();return!Vs(t,n)}catch{return!0}}function W6(t){var e=Yo(t,1);e!==null&&Os(e,t,1,-1)}function Zw(t){var e=co();return typeof t=="function"&&(t=t()),e.memoizedState=e.baseState=t,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:pf,lastRenderedState:t},e.queue=t,t=t.dispatch=mk.bind(null,Mn,t),[e.memoizedState,t]}function mf(t,e,n,r){return t={tag:t,create:e,destroy:n,deps:r,next:null},e=Mn.updateQueue,e===null?(e={lastEffect:null,stores:null},Mn.updateQueue=e,e.lastEffect=t.next=t):(n=e.lastEffect,n===null?e.lastEffect=t.next=t:(r=n.next,n.next=t,t.next=r,e.lastEffect=t)),t}function G6(){return ws().memoizedState}function mp(t,e,n,r){var i=co();Mn.flags|=t,i.memoizedState=mf(1|e,n,void 0,r===void 0?null:r)}function Um(t,e,n,r){var i=ws();r=r===void 0?null:r;var s=void 0;if(vr!==null){var o=vr.memoizedState;if(s=o.destroy,r!==null&&Oy(r,o.deps)){i.memoizedState=mf(e,n,s,r);return}}Mn.flags|=t,i.memoizedState=mf(1|e,n,s,r)}function ex(t,e){return mp(8390656,8,t,e)}function Uy(t,e){return Um(2048,8,t,e)}function K6(t,e){return Um(4,2,t,e)}function Q6(t,e){return Um(4,4,t,e)}function Y6(t,e){if(typeof e=="function")return t=t(),e(t),function(){e(null)};if(e!=null)return t=t(),e.current=t,function(){e.current=null}}function X6(t,e,n){return n=n!=null?n.concat([t]):null,Um(4,4,Y6.bind(null,e,t),n)}function zy(){}function J6(t,e){var n=ws();e=e===void 0?null:e;var r=n.memoizedState;return r!==null&&e!==null&&Oy(e,r[1])?r[0]:(n.memoizedState=[t,e],t)}function Z6(t,e){var n=ws();e=e===void 0?null:e;var r=n.memoizedState;return r!==null&&e!==null&&Oy(e,r[1])?r[0]:(t=t(),n.memoizedState=[t,e],t)}function eS(t,e,n){return ru&21?(Vs(n,e)||(n=s6(),Mn.lanes|=n,iu|=n,t.baseState=!0),e):(t.baseState&&(t.baseState=!1,Ci=!0),t.memoizedState=n)}function dk(t,e){var n=ln;ln=n!==0&&4>n?n:4,t(!0);var r=tg.transition;tg.transition={};try{t(!1),e()}finally{ln=n,tg.transition=r}}function tS(){return ws().memoizedState}function pk(t,e,n){var r=Qa(t);if(n={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null},nS(t))rS(e,n);else if(n=F6(t,e,n,r),n!==null){var i=di();Os(n,t,r,i),iS(n,e,r)}}function mk(t,e,n){var r=Qa(t),i={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null};if(nS(t))rS(e,i);else{var s=t.alternate;if(t.lanes===0&&(s===null||s.lanes===0)&&(s=e.lastRenderedReducer,s!==null))try{var o=e.lastRenderedState,a=s(o,n);if(i.hasEagerState=!0,i.eagerState=a,Vs(a,o)){var l=e.interleaved;l===null?(i.next=i,Ry(e)):(i.next=l.next,l.next=i),e.interleaved=i;return}}catch{}finally{}n=F6(t,e,i,r),n!==null&&(i=di(),Os(n,t,r,i),iS(n,e,r))}}function nS(t){var e=t.alternate;return t===Mn||e!==null&&e===Mn}function rS(t,e){Fh=Jp=!0;var n=t.pending;n===null?e.next=e:(e.next=n.next,n.next=e),t.pending=e}function iS(t,e,n){if(n&4194240){var r=e.lanes;r&=t.pendingLanes,n|=r,e.lanes=n,wy(t,n)}}var Zp={readContext:vs,useCallback:Wr,useContext:Wr,useEffect:Wr,useImperativeHandle:Wr,useInsertionEffect:Wr,useLayoutEffect:Wr,useMemo:Wr,useReducer:Wr,useRef:Wr,useState:Wr,useDebugValue:Wr,useDeferredValue:Wr,useTransition:Wr,useMutableSource:Wr,useSyncExternalStore:Wr,useId:Wr,unstable_isNewReconciler:!1},gk={readContext:vs,useCallback:function(t,e){return co().memoizedState=[t,e===void 0?null:e],t},useContext:vs,useEffect:ex,useImperativeHandle:function(t,e,n){return n=n!=null?n.concat([t]):null,mp(4194308,4,Y6.bind(null,e,t),n)},useLayoutEffect:function(t,e){return mp(4194308,4,t,e)},useInsertionEffect:function(t,e){return mp(4,2,t,e)},useMemo:function(t,e){var n=co();return e=e===void 0?null:e,t=t(),n.memoizedState=[t,e],t},useReducer:function(t,e,n){var r=co();return e=n!==void 0?n(e):e,r.memoizedState=r.baseState=e,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:e},r.queue=t,t=t.dispatch=pk.bind(null,Mn,t),[r.memoizedState,t]},useRef:function(t){var e=co();return t={current:t},e.memoizedState=t},useState:Zw,useDebugValue:zy,useDeferredValue:function(t){return co().memoizedState=t},useTransition:function(){var t=Zw(!1),e=t[0];return t=dk.bind(null,t[1]),co().memoizedState=t,[e,t]},useMutableSource:function(){},useSyncExternalStore:function(t,e,n){var r=Mn,i=co();if(Pn){if(n===void 0)throw Error(Fe(407));n=n()}else{if(n=e(),Tr===null)throw Error(Fe(349));ru&30||z6(r,e,n)}i.memoizedState=n;var s={value:n,getSnapshot:e};return i.queue=s,ex($6.bind(null,r,s,t),[t]),r.flags|=2048,mf(9,q6.bind(null,r,s,n,e),void 0,null),n},useId:function(){var t=co(),e=Tr.identifierPrefix;if(Pn){var n=$o,r=qo;n=(r&~(1<<32-Fs(r)-1)).toString(32)+n,e=":"+e+"R"+n,n=df++,0<n&&(e+="H"+n.toString(32)),e+=":"}else n=fk++,e=":"+e+"r"+n.toString(32)+":";return t.memoizedState=e},unstable_isNewReconciler:!1},yk={readContext:vs,useCallback:J6,useContext:vs,useEffect:Uy,useImperativeHandle:X6,useInsertionEffect:K6,useLayoutEffect:Q6,useMemo:Z6,useReducer:ng,useRef:G6,useState:function(){return ng(pf)},useDebugValue:zy,useDeferredValue:function(t){var e=ws();return eS(e,vr.memoizedState,t)},useTransition:function(){var t=ng(pf)[0],e=ws().memoizedState;return[t,e]},useMutableSource:B6,useSyncExternalStore:U6,useId:tS,unstable_isNewReconciler:!1},vk={readContext:vs,useCallback:J6,useContext:vs,useEffect:Uy,useImperativeHandle:X6,useInsertionEffect:K6,useLayoutEffect:Q6,useMemo:Z6,useReducer:rg,useRef:G6,useState:function(){return rg(pf)},useDebugValue:zy,useDeferredValue:function(t){var e=ws();return vr===null?e.memoizedState=t:eS(e,vr.memoizedState,t)},useTransition:function(){var t=rg(pf)[0],e=ws().memoizedState;return[t,e]},useMutableSource:B6,useSyncExternalStore:U6,useId:tS,unstable_isNewReconciler:!1};function js(t,e){if(t&&t.defaultProps){e=On({},e),t=t.defaultProps;for(var n in t)e[n]===void 0&&(e[n]=t[n]);return e}return e}function F1(t,e,n,r){e=t.memoizedState,n=n(r,e),n=n==null?e:On({},e,n),t.memoizedState=n,t.lanes===0&&(t.updateQueue.baseState=n)}var zm={isMounted:function(t){return(t=t._reactInternals)?du(t)===t:!1},enqueueSetState:function(t,e,n){t=t._reactInternals;var r=di(),i=Qa(t),s=Wo(r,i);s.payload=e,n!=null&&(s.callback=n),e=Ga(t,s,i),e!==null&&(Os(e,t,i,r),dp(e,t,i))},enqueueReplaceState:function(t,e,n){t=t._reactInternals;var r=di(),i=Qa(t),s=Wo(r,i);s.tag=1,s.payload=e,n!=null&&(s.callback=n),e=Ga(t,s,i),e!==null&&(Os(e,t,i,r),dp(e,t,i))},enqueueForceUpdate:function(t,e){t=t._reactInternals;var n=di(),r=Qa(t),i=Wo(n,r);i.tag=2,e!=null&&(i.callback=e),e=Ga(t,i,r),e!==null&&(Os(e,t,r,n),dp(e,t,r))}};function tx(t,e,n,r,i,s,o){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(r,s,o):e.prototype&&e.prototype.isPureReactComponent?!af(n,r)||!af(i,s):!0}function sS(t,e,n){var r=!1,i=nl,s=e.contextType;return typeof s=="object"&&s!==null?s=vs(s):(i=Ii(e)?tu:ii.current,r=e.contextTypes,s=(r=r!=null)?pc(t,i):nl),e=new e(n,s),t.memoizedState=e.state!==null&&e.state!==void 0?e.state:null,e.updater=zm,t.stateNode=e,e._reactInternals=t,r&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=i,t.__reactInternalMemoizedMaskedChildContext=s),e}function nx(t,e,n,r){t=e.state,typeof e.componentWillReceiveProps=="function"&&e.componentWillReceiveProps(n,r),typeof e.UNSAFE_componentWillReceiveProps=="function"&&e.UNSAFE_componentWillReceiveProps(n,r),e.state!==t&&zm.enqueueReplaceState(e,e.state,null)}function O1(t,e,n,r){var i=t.stateNode;i.props=n,i.state=t.memoizedState,i.refs={},jy(t);var s=e.contextType;typeof s=="object"&&s!==null?i.context=vs(s):(s=Ii(e)?tu:ii.current,i.context=pc(t,s)),i.state=t.memoizedState,s=e.getDerivedStateFromProps,typeof s=="function"&&(F1(t,e,s,n),i.state=t.memoizedState),typeof e.getDerivedStateFromProps=="function"||typeof i.getSnapshotBeforeUpdate=="function"||typeof i.UNSAFE_componentWillMount!="function"&&typeof i.componentWillMount!="function"||(e=i.state,typeof i.componentWillMount=="function"&&i.componentWillMount(),typeof i.UNSAFE_componentWillMount=="function"&&i.UNSAFE_componentWillMount(),e!==i.state&&zm.enqueueReplaceState(i,i.state,null),Yp(t,n,i,r),i.state=t.memoizedState),typeof i.componentDidMount=="function"&&(t.flags|=4194308)}function vc(t,e){try{var n="",r=e;do n+=WC(r),r=r.return;while(r);var i=n}catch(s){i=`
Error generating stack: `+s.message+`
`+s.stack}return{value:t,source:e,stack:i,digest:null}}function ig(t,e,n){return{value:t,source:null,stack:n??null,digest:e??null}}function V1(t,e){try{console.error(e.value)}catch(n){setTimeout(function(){throw n})}}var wk=typeof WeakMap=="function"?WeakMap:Map;function oS(t,e,n){n=Wo(-1,n),n.tag=3,n.payload={element:null};var r=e.value;return n.callback=function(){tm||(tm=!0,Q1=r),V1(t,e)},n}function aS(t,e,n){n=Wo(-1,n),n.tag=3;var r=t.type.getDerivedStateFromError;if(typeof r=="function"){var i=e.value;n.payload=function(){return r(i)},n.callback=function(){V1(t,e)}}var s=t.stateNode;return s!==null&&typeof s.componentDidCatch=="function"&&(n.callback=function(){V1(t,e),typeof r!="function"&&(Ka===null?Ka=new Set([this]):Ka.add(this));var o=e.stack;this.componentDidCatch(e.value,{componentStack:o!==null?o:""})}),n}function rx(t,e,n){var r=t.pingCache;if(r===null){r=t.pingCache=new wk;var i=new Set;r.set(e,i)}else i=r.get(e),i===void 0&&(i=new Set,r.set(e,i));i.has(n)||(i.add(n),t=Rk.bind(null,t,e,n),e.then(t,t))}function ix(t){do{var e;if((e=t.tag===13)&&(e=t.memoizedState,e=e!==null?e.dehydrated!==null:!0),e)return t;t=t.return}while(t!==null);return null}function sx(t,e,n,r,i){return t.mode&1?(t.flags|=65536,t.lanes=i,t):(t===e?t.flags|=65536:(t.flags|=128,n.flags|=131072,n.flags&=-52805,n.tag===1&&(n.alternate===null?n.tag=17:(e=Wo(-1,1),e.tag=2,Ga(n,e,1))),n.lanes|=1),t)}var xk=ia.ReactCurrentOwner,Ci=!1;function hi(t,e,n,r){e.child=t===null?M6(e,null,n,r):gc(e,t.child,n,r)}function ox(t,e,n,r,i){n=n.render;var s=e.ref;return ic(e,i),r=Vy(t,e,n,r,s,i),n=By(),t!==null&&!Ci?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~i,Xo(t,e,i)):(Pn&&n&&Ty(e),e.flags|=1,hi(t,e,r,i),e.child)}function ax(t,e,n,r,i){if(t===null){var s=n.type;return typeof s=="function"&&!Yy(s)&&s.defaultProps===void 0&&n.compare===null&&n.defaultProps===void 0?(e.tag=15,e.type=s,lS(t,e,s,r,i)):(t=wp(n.type,null,r,e,e.mode,i),t.ref=e.ref,t.return=e,e.child=t)}if(s=t.child,!(t.lanes&i)){var o=s.memoizedProps;if(n=n.compare,n=n!==null?n:af,n(o,r)&&t.ref===e.ref)return Xo(t,e,i)}return e.flags|=1,t=Ya(s,r),t.ref=e.ref,t.return=e,e.child=t}function lS(t,e,n,r,i){if(t!==null){var s=t.memoizedProps;if(af(s,r)&&t.ref===e.ref)if(Ci=!1,e.pendingProps=r=s,(t.lanes&i)!==0)t.flags&131072&&(Ci=!0);else return e.lanes=t.lanes,Xo(t,e,i)}return B1(t,e,n,r,i)}function uS(t,e,n){var r=e.pendingProps,i=r.children,s=t!==null?t.memoizedState:null;if(r.mode==="hidden")if(!(e.mode&1))e.memoizedState={baseLanes:0,cachePool:null,transitions:null},yn(Wu,Qi),Qi|=n;else{if(!(n&1073741824))return t=s!==null?s.baseLanes|n:n,e.lanes=e.childLanes=1073741824,e.memoizedState={baseLanes:t,cachePool:null,transitions:null},e.updateQueue=null,yn(Wu,Qi),Qi|=t,null;e.memoizedState={baseLanes:0,cachePool:null,transitions:null},r=s!==null?s.baseLanes:n,yn(Wu,Qi),Qi|=r}else s!==null?(r=s.baseLanes|n,e.memoizedState=null):r=n,yn(Wu,Qi),Qi|=r;return hi(t,e,i,n),e.child}function cS(t,e){var n=e.ref;(t===null&&n!==null||t!==null&&t.ref!==n)&&(e.flags|=512,e.flags|=2097152)}function B1(t,e,n,r,i){var s=Ii(n)?tu:ii.current;return s=pc(e,s),ic(e,i),n=Vy(t,e,n,r,s,i),r=By(),t!==null&&!Ci?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~i,Xo(t,e,i)):(Pn&&r&&Ty(e),e.flags|=1,hi(t,e,n,i),e.child)}function lx(t,e,n,r,i){if(Ii(n)){var s=!0;Hp(e)}else s=!1;if(ic(e,i),e.stateNode===null)gp(t,e),sS(e,n,r),O1(e,n,r,i),r=!0;else if(t===null){var o=e.stateNode,a=e.memoizedProps;o.props=a;var l=o.context,u=n.contextType;typeof u=="object"&&u!==null?u=vs(u):(u=Ii(n)?tu:ii.current,u=pc(e,u));var c=n.getDerivedStateFromProps,d=typeof c=="function"||typeof o.getSnapshotBeforeUpdate=="function";d||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(a!==r||l!==u)&&nx(e,o,r,u),ja=!1;var g=e.memoizedState;o.state=g,Yp(e,r,o,i),l=e.memoizedState,a!==r||g!==l||ki.current||ja?(typeof c=="function"&&(F1(e,n,c,r),l=e.memoizedState),(a=ja||tx(e,n,a,r,g,l,u))?(d||typeof o.UNSAFE_componentWillMount!="function"&&typeof o.componentWillMount!="function"||(typeof o.componentWillMount=="function"&&o.componentWillMount(),typeof o.UNSAFE_componentWillMount=="function"&&o.UNSAFE_componentWillMount()),typeof o.componentDidMount=="function"&&(e.flags|=4194308)):(typeof o.componentDidMount=="function"&&(e.flags|=4194308),e.memoizedProps=r,e.memoizedState=l),o.props=r,o.state=l,o.context=u,r=a):(typeof o.componentDidMount=="function"&&(e.flags|=4194308),r=!1)}else{o=e.stateNode,O6(t,e),a=e.memoizedProps,u=e.type===e.elementType?a:js(e.type,a),o.props=u,d=e.pendingProps,g=o.context,l=n.contextType,typeof l=="object"&&l!==null?l=vs(l):(l=Ii(n)?tu:ii.current,l=pc(e,l));var m=n.getDerivedStateFromProps;(c=typeof m=="function"||typeof o.getSnapshotBeforeUpdate=="function")||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(a!==d||g!==l)&&nx(e,o,r,l),ja=!1,g=e.memoizedState,o.state=g,Yp(e,r,o,i);var b=e.memoizedState;a!==d||g!==b||ki.current||ja?(typeof m=="function"&&(F1(e,n,m,r),b=e.memoizedState),(u=ja||tx(e,n,u,r,g,b,l)||!1)?(c||typeof o.UNSAFE_componentWillUpdate!="function"&&typeof o.componentWillUpdate!="function"||(typeof o.componentWillUpdate=="function"&&o.componentWillUpdate(r,b,l),typeof o.UNSAFE_componentWillUpdate=="function"&&o.UNSAFE_componentWillUpdate(r,b,l)),typeof o.componentDidUpdate=="function"&&(e.flags|=4),typeof o.getSnapshotBeforeUpdate=="function"&&(e.flags|=1024)):(typeof o.componentDidUpdate!="function"||a===t.memoizedProps&&g===t.memoizedState||(e.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||a===t.memoizedProps&&g===t.memoizedState||(e.flags|=1024),e.memoizedProps=r,e.memoizedState=b),o.props=r,o.state=b,o.context=l,r=u):(typeof o.componentDidUpdate!="function"||a===t.memoizedProps&&g===t.memoizedState||(e.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||a===t.memoizedProps&&g===t.memoizedState||(e.flags|=1024),r=!1)}return U1(t,e,n,r,s,i)}function U1(t,e,n,r,i,s){cS(t,e);var o=(e.flags&128)!==0;if(!r&&!o)return i&&Gw(e,n,!1),Xo(t,e,s);r=e.stateNode,xk.current=e;var a=o&&typeof n.getDerivedStateFromError!="function"?null:r.render();return e.flags|=1,t!==null&&o?(e.child=gc(e,t.child,null,s),e.child=gc(e,null,a,s)):hi(t,e,a,s),e.memoizedState=r.state,i&&Gw(e,n,!0),e.child}function hS(t){var e=t.stateNode;e.pendingContext?Ww(t,e.pendingContext,e.pendingContext!==e.context):e.context&&Ww(t,e.context,!1),Dy(t,e.containerInfo)}function ux(t,e,n,r,i){return mc(),Py(i),e.flags|=256,hi(t,e,n,r),e.child}var z1={dehydrated:null,treeContext:null,retryLane:0};function q1(t){return{baseLanes:t,cachePool:null,transitions:null}}function fS(t,e,n){var r=e.pendingProps,i=jn.current,s=!1,o=(e.flags&128)!==0,a;if((a=o)||(a=t!==null&&t.memoizedState===null?!1:(i&2)!==0),a?(s=!0,e.flags&=-129):(t===null||t.memoizedState!==null)&&(i|=1),yn(jn,i&1),t===null)return D1(e),t=e.memoizedState,t!==null&&(t=t.dehydrated,t!==null)?(e.mode&1?t.data==="$!"?e.lanes=8:e.lanes=1073741824:e.lanes=1,null):(o=r.children,t=r.fallback,s?(r=e.mode,s=e.child,o={mode:"hidden",children:o},!(r&1)&&s!==null?(s.childLanes=0,s.pendingProps=o):s=Hm(o,r,0,null),t=Ql(t,r,n,null),s.return=e,t.return=e,s.sibling=t,e.child=s,e.child.memoizedState=q1(n),e.memoizedState=z1,t):qy(e,o));if(i=t.memoizedState,i!==null&&(a=i.dehydrated,a!==null))return bk(t,e,o,r,a,i,n);if(s){s=r.fallback,o=e.mode,i=t.child,a=i.sibling;var l={mode:"hidden",children:r.children};return!(o&1)&&e.child!==i?(r=e.child,r.childLanes=0,r.pendingProps=l,e.deletions=null):(r=Ya(i,l),r.subtreeFlags=i.subtreeFlags&14680064),a!==null?s=Ya(a,s):(s=Ql(s,o,n,null),s.flags|=2),s.return=e,r.return=e,r.sibling=s,e.child=r,r=s,s=e.child,o=t.child.memoizedState,o=o===null?q1(n):{baseLanes:o.baseLanes|n,cachePool:null,transitions:o.transitions},s.memoizedState=o,s.childLanes=t.childLanes&~n,e.memoizedState=z1,r}return s=t.child,t=s.sibling,r=Ya(s,{mode:"visible",children:r.children}),!(e.mode&1)&&(r.lanes=n),r.return=e,r.sibling=null,t!==null&&(n=e.deletions,n===null?(e.deletions=[t],e.flags|=16):n.push(t)),e.child=r,e.memoizedState=null,r}function qy(t,e){return e=Hm({mode:"visible",children:e},t.mode,0,null),e.return=t,t.child=e}function Ud(t,e,n,r){return r!==null&&Py(r),gc(e,t.child,null,n),t=qy(e,e.pendingProps.children),t.flags|=2,e.memoizedState=null,t}function bk(t,e,n,r,i,s,o){if(n)return e.flags&256?(e.flags&=-257,r=ig(Error(Fe(422))),Ud(t,e,o,r)):e.memoizedState!==null?(e.child=t.child,e.flags|=128,null):(s=r.fallback,i=e.mode,r=Hm({mode:"visible",children:r.children},i,0,null),s=Ql(s,i,o,null),s.flags|=2,r.return=e,s.return=e,r.sibling=s,e.child=r,e.mode&1&&gc(e,t.child,null,o),e.child.memoizedState=q1(o),e.memoizedState=z1,s);if(!(e.mode&1))return Ud(t,e,o,null);if(i.data==="$!"){if(r=i.nextSibling&&i.nextSibling.dataset,r)var a=r.dgst;return r=a,s=Error(Fe(419)),r=ig(s,r,void 0),Ud(t,e,o,r)}if(a=(o&t.childLanes)!==0,Ci||a){if(r=Tr,r!==null){switch(o&-o){case 4:i=2;break;case 16:i=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:i=32;break;case 536870912:i=268435456;break;default:i=0}i=i&(r.suspendedLanes|o)?0:i,i!==0&&i!==s.retryLane&&(s.retryLane=i,Yo(t,i),Os(r,t,i,-1))}return Qy(),r=ig(Error(Fe(421))),Ud(t,e,o,r)}return i.data==="$?"?(e.flags|=128,e.child=t.child,e=jk.bind(null,t),i._reactRetry=e,null):(t=s.treeContext,Yi=Wa(i.nextSibling),Zi=e,Pn=!0,Ms=null,t!==null&&(ds[ps++]=qo,ds[ps++]=$o,ds[ps++]=nu,qo=t.id,$o=t.overflow,nu=e),e=qy(e,r.children),e.flags|=4096,e)}function cx(t,e,n){t.lanes|=e;var r=t.alternate;r!==null&&(r.lanes|=e),M1(t.return,e,n)}function sg(t,e,n,r,i){var s=t.memoizedState;s===null?t.memoizedState={isBackwards:e,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:i}:(s.isBackwards=e,s.rendering=null,s.renderingStartTime=0,s.last=r,s.tail=n,s.tailMode=i)}function dS(t,e,n){var r=e.pendingProps,i=r.revealOrder,s=r.tail;if(hi(t,e,r.children,n),r=jn.current,r&2)r=r&1|2,e.flags|=128;else{if(t!==null&&t.flags&128)e:for(t=e.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&cx(t,n,e);else if(t.tag===19)cx(t,n,e);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break e;for(;t.sibling===null;){if(t.return===null||t.return===e)break e;t=t.return}t.sibling.return=t.return,t=t.sibling}r&=1}if(yn(jn,r),!(e.mode&1))e.memoizedState=null;else switch(i){case"forwards":for(n=e.child,i=null;n!==null;)t=n.alternate,t!==null&&Xp(t)===null&&(i=n),n=n.sibling;n=i,n===null?(i=e.child,e.child=null):(i=n.sibling,n.sibling=null),sg(e,!1,i,n,s);break;case"backwards":for(n=null,i=e.child,e.child=null;i!==null;){if(t=i.alternate,t!==null&&Xp(t)===null){e.child=i;break}t=i.sibling,i.sibling=n,n=i,i=t}sg(e,!0,n,null,s);break;case"together":sg(e,!1,null,null,void 0);break;default:e.memoizedState=null}return e.child}function gp(t,e){!(e.mode&1)&&t!==null&&(t.alternate=null,e.alternate=null,e.flags|=2)}function Xo(t,e,n){if(t!==null&&(e.dependencies=t.dependencies),iu|=e.lanes,!(n&e.childLanes))return null;if(t!==null&&e.child!==t.child)throw Error(Fe(153));if(e.child!==null){for(t=e.child,n=Ya(t,t.pendingProps),e.child=n,n.return=e;t.sibling!==null;)t=t.sibling,n=n.sibling=Ya(t,t.pendingProps),n.return=e;n.sibling=null}return e.child}function _k(t,e,n){switch(e.tag){case 3:hS(e),mc();break;case 5:V6(e);break;case 1:Ii(e.type)&&Hp(e);break;case 4:Dy(e,e.stateNode.containerInfo);break;case 10:var r=e.type._context,i=e.memoizedProps.value;yn(Kp,r._currentValue),r._currentValue=i;break;case 13:if(r=e.memoizedState,r!==null)return r.dehydrated!==null?(yn(jn,jn.current&1),e.flags|=128,null):n&e.child.childLanes?fS(t,e,n):(yn(jn,jn.current&1),t=Xo(t,e,n),t!==null?t.sibling:null);yn(jn,jn.current&1);break;case 19:if(r=(n&e.childLanes)!==0,t.flags&128){if(r)return dS(t,e,n);e.flags|=128}if(i=e.memoizedState,i!==null&&(i.rendering=null,i.tail=null,i.lastEffect=null),yn(jn,jn.current),r)break;return null;case 22:case 23:return e.lanes=0,uS(t,e,n)}return Xo(t,e,n)}var pS,$1,mS,gS;pS=function(t,e){for(var n=e.child;n!==null;){if(n.tag===5||n.tag===6)t.appendChild(n.stateNode);else if(n.tag!==4&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===e)break;for(;n.sibling===null;){if(n.return===null||n.return===e)return;n=n.return}n.sibling.return=n.return,n=n.sibling}};$1=function(){};mS=function(t,e,n,r){var i=t.memoizedProps;if(i!==r){t=e.stateNode,$l(mo.current);var s=null;switch(n){case"input":i=f1(t,i),r=f1(t,r),s=[];break;case"select":i=On({},i,{value:void 0}),r=On({},r,{value:void 0}),s=[];break;case"textarea":i=m1(t,i),r=m1(t,r),s=[];break;default:typeof i.onClick!="function"&&typeof r.onClick=="function"&&(t.onclick=qp)}y1(n,r);var o;n=null;for(u in i)if(!r.hasOwnProperty(u)&&i.hasOwnProperty(u)&&i[u]!=null)if(u==="style"){var a=i[u];for(o in a)a.hasOwnProperty(o)&&(n||(n={}),n[o]="")}else u!=="dangerouslySetInnerHTML"&&u!=="children"&&u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&u!=="autoFocus"&&(Zh.hasOwnProperty(u)?s||(s=[]):(s=s||[]).push(u,null));for(u in r){var l=r[u];if(a=i!=null?i[u]:void 0,r.hasOwnProperty(u)&&l!==a&&(l!=null||a!=null))if(u==="style")if(a){for(o in a)!a.hasOwnProperty(o)||l&&l.hasOwnProperty(o)||(n||(n={}),n[o]="");for(o in l)l.hasOwnProperty(o)&&a[o]!==l[o]&&(n||(n={}),n[o]=l[o])}else n||(s||(s=[]),s.push(u,n)),n=l;else u==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,a=a?a.__html:void 0,l!=null&&a!==l&&(s=s||[]).push(u,l)):u==="children"?typeof l!="string"&&typeof l!="number"||(s=s||[]).push(u,""+l):u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&(Zh.hasOwnProperty(u)?(l!=null&&u==="onScroll"&&bn("scroll",t),s||a===l||(s=[])):(s=s||[]).push(u,l))}n&&(s=s||[]).push("style",n);var u=s;(e.updateQueue=u)&&(e.flags|=4)}};gS=function(t,e,n,r){n!==r&&(e.flags|=4)};function gh(t,e){if(!Pn)switch(t.tailMode){case"hidden":e=t.tail;for(var n=null;e!==null;)e.alternate!==null&&(n=e),e=e.sibling;n===null?t.tail=null:n.sibling=null;break;case"collapsed":n=t.tail;for(var r=null;n!==null;)n.alternate!==null&&(r=n),n=n.sibling;r===null?e||t.tail===null?t.tail=null:t.tail.sibling=null:r.sibling=null}}function Gr(t){var e=t.alternate!==null&&t.alternate.child===t.child,n=0,r=0;if(e)for(var i=t.child;i!==null;)n|=i.lanes|i.childLanes,r|=i.subtreeFlags&14680064,r|=i.flags&14680064,i.return=t,i=i.sibling;else for(i=t.child;i!==null;)n|=i.lanes|i.childLanes,r|=i.subtreeFlags,r|=i.flags,i.return=t,i=i.sibling;return t.subtreeFlags|=r,t.childLanes=n,e}function Sk(t,e,n){var r=e.pendingProps;switch(Cy(e),e.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Gr(e),null;case 1:return Ii(e.type)&&$p(),Gr(e),null;case 3:return r=e.stateNode,yc(),An(ki),An(ii),Fy(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),(t===null||t.child===null)&&(Vd(e)?e.flags|=4:t===null||t.memoizedState.isDehydrated&&!(e.flags&256)||(e.flags|=1024,Ms!==null&&(J1(Ms),Ms=null))),$1(t,e),Gr(e),null;case 5:My(e);var i=$l(ff.current);if(n=e.type,t!==null&&e.stateNode!=null)mS(t,e,n,r,i),t.ref!==e.ref&&(e.flags|=512,e.flags|=2097152);else{if(!r){if(e.stateNode===null)throw Error(Fe(166));return Gr(e),null}if(t=$l(mo.current),Vd(e)){r=e.stateNode,n=e.type;var s=e.memoizedProps;switch(r[ho]=e,r[cf]=s,t=(e.mode&1)!==0,n){case"dialog":bn("cancel",r),bn("close",r);break;case"iframe":case"object":case"embed":bn("load",r);break;case"video":case"audio":for(i=0;i<Eh.length;i++)bn(Eh[i],r);break;case"source":bn("error",r);break;case"img":case"image":case"link":bn("error",r),bn("load",r);break;case"details":bn("toggle",r);break;case"input":ww(r,s),bn("invalid",r);break;case"select":r._wrapperState={wasMultiple:!!s.multiple},bn("invalid",r);break;case"textarea":bw(r,s),bn("invalid",r)}y1(n,s),i=null;for(var o in s)if(s.hasOwnProperty(o)){var a=s[o];o==="children"?typeof a=="string"?r.textContent!==a&&(s.suppressHydrationWarning!==!0&&Od(r.textContent,a,t),i=["children",a]):typeof a=="number"&&r.textContent!==""+a&&(s.suppressHydrationWarning!==!0&&Od(r.textContent,a,t),i=["children",""+a]):Zh.hasOwnProperty(o)&&a!=null&&o==="onScroll"&&bn("scroll",r)}switch(n){case"input":kd(r),xw(r,s,!0);break;case"textarea":kd(r),_w(r);break;case"select":case"option":break;default:typeof s.onClick=="function"&&(r.onclick=qp)}r=i,e.updateQueue=r,r!==null&&(e.flags|=4)}else{o=i.nodeType===9?i:i.ownerDocument,t==="http://www.w3.org/1999/xhtml"&&(t=$_(n)),t==="http://www.w3.org/1999/xhtml"?n==="script"?(t=o.createElement("div"),t.innerHTML="<script><\/script>",t=t.removeChild(t.firstChild)):typeof r.is=="string"?t=o.createElement(n,{is:r.is}):(t=o.createElement(n),n==="select"&&(o=t,r.multiple?o.multiple=!0:r.size&&(o.size=r.size))):t=o.createElementNS(t,n),t[ho]=e,t[cf]=r,pS(t,e,!1,!1),e.stateNode=t;e:{switch(o=v1(n,r),n){case"dialog":bn("cancel",t),bn("close",t),i=r;break;case"iframe":case"object":case"embed":bn("load",t),i=r;break;case"video":case"audio":for(i=0;i<Eh.length;i++)bn(Eh[i],t);i=r;break;case"source":bn("error",t),i=r;break;case"img":case"image":case"link":bn("error",t),bn("load",t),i=r;break;case"details":bn("toggle",t),i=r;break;case"input":ww(t,r),i=f1(t,r),bn("invalid",t);break;case"option":i=r;break;case"select":t._wrapperState={wasMultiple:!!r.multiple},i=On({},r,{value:void 0}),bn("invalid",t);break;case"textarea":bw(t,r),i=m1(t,r),bn("invalid",t);break;default:i=r}y1(n,i),a=i;for(s in a)if(a.hasOwnProperty(s)){var l=a[s];s==="style"?G_(t,l):s==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,l!=null&&H_(t,l)):s==="children"?typeof l=="string"?(n!=="textarea"||l!=="")&&ef(t,l):typeof l=="number"&&ef(t,""+l):s!=="suppressContentEditableWarning"&&s!=="suppressHydrationWarning"&&s!=="autoFocus"&&(Zh.hasOwnProperty(s)?l!=null&&s==="onScroll"&&bn("scroll",t):l!=null&&dy(t,s,l,o))}switch(n){case"input":kd(t),xw(t,r,!1);break;case"textarea":kd(t),_w(t);break;case"option":r.value!=null&&t.setAttribute("value",""+tl(r.value));break;case"select":t.multiple=!!r.multiple,s=r.value,s!=null?ec(t,!!r.multiple,s,!1):r.defaultValue!=null&&ec(t,!!r.multiple,r.defaultValue,!0);break;default:typeof i.onClick=="function"&&(t.onclick=qp)}switch(n){case"button":case"input":case"select":case"textarea":r=!!r.autoFocus;break e;case"img":r=!0;break e;default:r=!1}}r&&(e.flags|=4)}e.ref!==null&&(e.flags|=512,e.flags|=2097152)}return Gr(e),null;case 6:if(t&&e.stateNode!=null)gS(t,e,t.memoizedProps,r);else{if(typeof r!="string"&&e.stateNode===null)throw Error(Fe(166));if(n=$l(ff.current),$l(mo.current),Vd(e)){if(r=e.stateNode,n=e.memoizedProps,r[ho]=e,(s=r.nodeValue!==n)&&(t=Zi,t!==null))switch(t.tag){case 3:Od(r.nodeValue,n,(t.mode&1)!==0);break;case 5:t.memoizedProps.suppressHydrationWarning!==!0&&Od(r.nodeValue,n,(t.mode&1)!==0)}s&&(e.flags|=4)}else r=(n.nodeType===9?n:n.ownerDocument).createTextNode(r),r[ho]=e,e.stateNode=r}return Gr(e),null;case 13:if(An(jn),r=e.memoizedState,t===null||t.memoizedState!==null&&t.memoizedState.dehydrated!==null){if(Pn&&Yi!==null&&e.mode&1&&!(e.flags&128))j6(),mc(),e.flags|=98560,s=!1;else if(s=Vd(e),r!==null&&r.dehydrated!==null){if(t===null){if(!s)throw Error(Fe(318));if(s=e.memoizedState,s=s!==null?s.dehydrated:null,!s)throw Error(Fe(317));s[ho]=e}else mc(),!(e.flags&128)&&(e.memoizedState=null),e.flags|=4;Gr(e),s=!1}else Ms!==null&&(J1(Ms),Ms=null),s=!0;if(!s)return e.flags&65536?e:null}return e.flags&128?(e.lanes=n,e):(r=r!==null,r!==(t!==null&&t.memoizedState!==null)&&r&&(e.child.flags|=8192,e.mode&1&&(t===null||jn.current&1?wr===0&&(wr=3):Qy())),e.updateQueue!==null&&(e.flags|=4),Gr(e),null);case 4:return yc(),$1(t,e),t===null&&lf(e.stateNode.containerInfo),Gr(e),null;case 10:return Ly(e.type._context),Gr(e),null;case 17:return Ii(e.type)&&$p(),Gr(e),null;case 19:if(An(jn),s=e.memoizedState,s===null)return Gr(e),null;if(r=(e.flags&128)!==0,o=s.rendering,o===null)if(r)gh(s,!1);else{if(wr!==0||t!==null&&t.flags&128)for(t=e.child;t!==null;){if(o=Xp(t),o!==null){for(e.flags|=128,gh(s,!1),r=o.updateQueue,r!==null&&(e.updateQueue=r,e.flags|=4),e.subtreeFlags=0,r=n,n=e.child;n!==null;)s=n,t=r,s.flags&=14680066,o=s.alternate,o===null?(s.childLanes=0,s.lanes=t,s.child=null,s.subtreeFlags=0,s.memoizedProps=null,s.memoizedState=null,s.updateQueue=null,s.dependencies=null,s.stateNode=null):(s.childLanes=o.childLanes,s.lanes=o.lanes,s.child=o.child,s.subtreeFlags=0,s.deletions=null,s.memoizedProps=o.memoizedProps,s.memoizedState=o.memoizedState,s.updateQueue=o.updateQueue,s.type=o.type,t=o.dependencies,s.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext}),n=n.sibling;return yn(jn,jn.current&1|2),e.child}t=t.sibling}s.tail!==null&&ir()>wc&&(e.flags|=128,r=!0,gh(s,!1),e.lanes=4194304)}else{if(!r)if(t=Xp(o),t!==null){if(e.flags|=128,r=!0,n=t.updateQueue,n!==null&&(e.updateQueue=n,e.flags|=4),gh(s,!0),s.tail===null&&s.tailMode==="hidden"&&!o.alternate&&!Pn)return Gr(e),null}else 2*ir()-s.renderingStartTime>wc&&n!==1073741824&&(e.flags|=128,r=!0,gh(s,!1),e.lanes=4194304);s.isBackwards?(o.sibling=e.child,e.child=o):(n=s.last,n!==null?n.sibling=o:e.child=o,s.last=o)}return s.tail!==null?(e=s.tail,s.rendering=e,s.tail=e.sibling,s.renderingStartTime=ir(),e.sibling=null,n=jn.current,yn(jn,r?n&1|2:n&1),e):(Gr(e),null);case 22:case 23:return Ky(),r=e.memoizedState!==null,t!==null&&t.memoizedState!==null!==r&&(e.flags|=8192),r&&e.mode&1?Qi&1073741824&&(Gr(e),e.subtreeFlags&6&&(e.flags|=8192)):Gr(e),null;case 24:return null;case 25:return null}throw Error(Fe(156,e.tag))}function Ak(t,e){switch(Cy(e),e.tag){case 1:return Ii(e.type)&&$p(),t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 3:return yc(),An(ki),An(ii),Fy(),t=e.flags,t&65536&&!(t&128)?(e.flags=t&-65537|128,e):null;case 5:return My(e),null;case 13:if(An(jn),t=e.memoizedState,t!==null&&t.dehydrated!==null){if(e.alternate===null)throw Error(Fe(340));mc()}return t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 19:return An(jn),null;case 4:return yc(),null;case 10:return Ly(e.type._context),null;case 22:case 23:return Ky(),null;case 24:return null;default:return null}}var zd=!1,ei=!1,Nk=typeof WeakSet=="function"?WeakSet:Set,We=null;function Hu(t,e){var n=t.ref;if(n!==null)if(typeof n=="function")try{n(null)}catch(r){Gn(t,e,r)}else n.current=null}function H1(t,e,n){try{n()}catch(r){Gn(t,e,r)}}var hx=!1;function Ek(t,e){if(C1=Bp,t=b6(),Ey(t)){if("selectionStart"in t)var n={start:t.selectionStart,end:t.selectionEnd};else e:{n=(n=t.ownerDocument)&&n.defaultView||window;var r=n.getSelection&&n.getSelection();if(r&&r.rangeCount!==0){n=r.anchorNode;var i=r.anchorOffset,s=r.focusNode;r=r.focusOffset;try{n.nodeType,s.nodeType}catch{n=null;break e}var o=0,a=-1,l=-1,u=0,c=0,d=t,g=null;t:for(;;){for(var m;d!==n||i!==0&&d.nodeType!==3||(a=o+i),d!==s||r!==0&&d.nodeType!==3||(l=o+r),d.nodeType===3&&(o+=d.nodeValue.length),(m=d.firstChild)!==null;)g=d,d=m;for(;;){if(d===t)break t;if(g===n&&++u===i&&(a=o),g===s&&++c===r&&(l=o),(m=d.nextSibling)!==null)break;d=g,g=d.parentNode}d=m}n=a===-1||l===-1?null:{start:a,end:l}}else n=null}n=n||{start:0,end:0}}else n=null;for(P1={focusedElem:t,selectionRange:n},Bp=!1,We=e;We!==null;)if(e=We,t=e.child,(e.subtreeFlags&1028)!==0&&t!==null)t.return=e,We=t;else for(;We!==null;){e=We;try{var b=e.alternate;if(e.flags&1024)switch(e.tag){case 0:case 11:case 15:break;case 1:if(b!==null){var x=b.memoizedProps,A=b.memoizedState,v=e.stateNode,_=v.getSnapshotBeforeUpdate(e.elementType===e.type?x:js(e.type,x),A);v.__reactInternalSnapshotBeforeUpdate=_}break;case 3:var E=e.stateNode.containerInfo;E.nodeType===1?E.textContent="":E.nodeType===9&&E.documentElement&&E.removeChild(E.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(Fe(163))}}catch(L){Gn(e,e.return,L)}if(t=e.sibling,t!==null){t.return=e.return,We=t;break}We=e.return}return b=hx,hx=!1,b}function Oh(t,e,n){var r=e.updateQueue;if(r=r!==null?r.lastEffect:null,r!==null){var i=r=r.next;do{if((i.tag&t)===t){var s=i.destroy;i.destroy=void 0,s!==void 0&&H1(e,n,s)}i=i.next}while(i!==r)}}function qm(t,e){if(e=e.updateQueue,e=e!==null?e.lastEffect:null,e!==null){var n=e=e.next;do{if((n.tag&t)===t){var r=n.create;n.destroy=r()}n=n.next}while(n!==e)}}function W1(t){var e=t.ref;if(e!==null){var n=t.stateNode;switch(t.tag){case 5:t=n;break;default:t=n}typeof e=="function"?e(t):e.current=t}}function yS(t){var e=t.alternate;e!==null&&(t.alternate=null,yS(e)),t.child=null,t.deletions=null,t.sibling=null,t.tag===5&&(e=t.stateNode,e!==null&&(delete e[ho],delete e[cf],delete e[L1],delete e[lk],delete e[uk])),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}function vS(t){return t.tag===5||t.tag===3||t.tag===4}function fx(t){e:for(;;){for(;t.sibling===null;){if(t.return===null||vS(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==5&&t.tag!==6&&t.tag!==18;){if(t.flags&2||t.child===null||t.tag===4)continue e;t.child.return=t,t=t.child}if(!(t.flags&2))return t.stateNode}}function G1(t,e,n){var r=t.tag;if(r===5||r===6)t=t.stateNode,e?n.nodeType===8?n.parentNode.insertBefore(t,e):n.insertBefore(t,e):(n.nodeType===8?(e=n.parentNode,e.insertBefore(t,n)):(e=n,e.appendChild(t)),n=n._reactRootContainer,n!=null||e.onclick!==null||(e.onclick=qp));else if(r!==4&&(t=t.child,t!==null))for(G1(t,e,n),t=t.sibling;t!==null;)G1(t,e,n),t=t.sibling}function K1(t,e,n){var r=t.tag;if(r===5||r===6)t=t.stateNode,e?n.insertBefore(t,e):n.appendChild(t);else if(r!==4&&(t=t.child,t!==null))for(K1(t,e,n),t=t.sibling;t!==null;)K1(t,e,n),t=t.sibling}var Rr=null,Ds=!1;function Pa(t,e,n){for(n=n.child;n!==null;)wS(t,e,n),n=n.sibling}function wS(t,e,n){if(po&&typeof po.onCommitFiberUnmount=="function")try{po.onCommitFiberUnmount(Dm,n)}catch{}switch(n.tag){case 5:ei||Hu(n,e);case 6:var r=Rr,i=Ds;Rr=null,Pa(t,e,n),Rr=r,Ds=i,Rr!==null&&(Ds?(t=Rr,n=n.stateNode,t.nodeType===8?t.parentNode.removeChild(n):t.removeChild(n)):Rr.removeChild(n.stateNode));break;case 18:Rr!==null&&(Ds?(t=Rr,n=n.stateNode,t.nodeType===8?J0(t.parentNode,n):t.nodeType===1&&J0(t,n),sf(t)):J0(Rr,n.stateNode));break;case 4:r=Rr,i=Ds,Rr=n.stateNode.containerInfo,Ds=!0,Pa(t,e,n),Rr=r,Ds=i;break;case 0:case 11:case 14:case 15:if(!ei&&(r=n.updateQueue,r!==null&&(r=r.lastEffect,r!==null))){i=r=r.next;do{var s=i,o=s.destroy;s=s.tag,o!==void 0&&(s&2||s&4)&&H1(n,e,o),i=i.next}while(i!==r)}Pa(t,e,n);break;case 1:if(!ei&&(Hu(n,e),r=n.stateNode,typeof r.componentWillUnmount=="function"))try{r.props=n.memoizedProps,r.state=n.memoizedState,r.componentWillUnmount()}catch(a){Gn(n,e,a)}Pa(t,e,n);break;case 21:Pa(t,e,n);break;case 22:n.mode&1?(ei=(r=ei)||n.memoizedState!==null,Pa(t,e,n),ei=r):Pa(t,e,n);break;default:Pa(t,e,n)}}function dx(t){var e=t.updateQueue;if(e!==null){t.updateQueue=null;var n=t.stateNode;n===null&&(n=t.stateNode=new Nk),e.forEach(function(r){var i=Dk.bind(null,t,r);n.has(r)||(n.add(r),r.then(i,i))})}}function Is(t,e){var n=e.deletions;if(n!==null)for(var r=0;r<n.length;r++){var i=n[r];try{var s=t,o=e,a=o;e:for(;a!==null;){switch(a.tag){case 5:Rr=a.stateNode,Ds=!1;break e;case 3:Rr=a.stateNode.containerInfo,Ds=!0;break e;case 4:Rr=a.stateNode.containerInfo,Ds=!0;break e}a=a.return}if(Rr===null)throw Error(Fe(160));wS(s,o,i),Rr=null,Ds=!1;var l=i.alternate;l!==null&&(l.return=null),i.return=null}catch(u){Gn(i,e,u)}}if(e.subtreeFlags&12854)for(e=e.child;e!==null;)xS(e,t),e=e.sibling}function xS(t,e){var n=t.alternate,r=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:if(Is(e,t),ao(t),r&4){try{Oh(3,t,t.return),qm(3,t)}catch(x){Gn(t,t.return,x)}try{Oh(5,t,t.return)}catch(x){Gn(t,t.return,x)}}break;case 1:Is(e,t),ao(t),r&512&&n!==null&&Hu(n,n.return);break;case 5:if(Is(e,t),ao(t),r&512&&n!==null&&Hu(n,n.return),t.flags&32){var i=t.stateNode;try{ef(i,"")}catch(x){Gn(t,t.return,x)}}if(r&4&&(i=t.stateNode,i!=null)){var s=t.memoizedProps,o=n!==null?n.memoizedProps:s,a=t.type,l=t.updateQueue;if(t.updateQueue=null,l!==null)try{a==="input"&&s.type==="radio"&&s.name!=null&&z_(i,s),v1(a,o);var u=v1(a,s);for(o=0;o<l.length;o+=2){var c=l[o],d=l[o+1];c==="style"?G_(i,d):c==="dangerouslySetInnerHTML"?H_(i,d):c==="children"?ef(i,d):dy(i,c,d,u)}switch(a){case"input":d1(i,s);break;case"textarea":q_(i,s);break;case"select":var g=i._wrapperState.wasMultiple;i._wrapperState.wasMultiple=!!s.multiple;var m=s.value;m!=null?ec(i,!!s.multiple,m,!1):g!==!!s.multiple&&(s.defaultValue!=null?ec(i,!!s.multiple,s.defaultValue,!0):ec(i,!!s.multiple,s.multiple?[]:"",!1))}i[cf]=s}catch(x){Gn(t,t.return,x)}}break;case 6:if(Is(e,t),ao(t),r&4){if(t.stateNode===null)throw Error(Fe(162));i=t.stateNode,s=t.memoizedProps;try{i.nodeValue=s}catch(x){Gn(t,t.return,x)}}break;case 3:if(Is(e,t),ao(t),r&4&&n!==null&&n.memoizedState.isDehydrated)try{sf(e.containerInfo)}catch(x){Gn(t,t.return,x)}break;case 4:Is(e,t),ao(t);break;case 13:Is(e,t),ao(t),i=t.child,i.flags&8192&&(s=i.memoizedState!==null,i.stateNode.isHidden=s,!s||i.alternate!==null&&i.alternate.memoizedState!==null||(Wy=ir())),r&4&&dx(t);break;case 22:if(c=n!==null&&n.memoizedState!==null,t.mode&1?(ei=(u=ei)||c,Is(e,t),ei=u):Is(e,t),ao(t),r&8192){if(u=t.memoizedState!==null,(t.stateNode.isHidden=u)&&!c&&t.mode&1)for(We=t,c=t.child;c!==null;){for(d=We=c;We!==null;){switch(g=We,m=g.child,g.tag){case 0:case 11:case 14:case 15:Oh(4,g,g.return);break;case 1:Hu(g,g.return);var b=g.stateNode;if(typeof b.componentWillUnmount=="function"){r=g,n=g.return;try{e=r,b.props=e.memoizedProps,b.state=e.memoizedState,b.componentWillUnmount()}catch(x){Gn(r,n,x)}}break;case 5:Hu(g,g.return);break;case 22:if(g.memoizedState!==null){mx(d);continue}}m!==null?(m.return=g,We=m):mx(d)}c=c.sibling}e:for(c=null,d=t;;){if(d.tag===5){if(c===null){c=d;try{i=d.stateNode,u?(s=i.style,typeof s.setProperty=="function"?s.setProperty("display","none","important"):s.display="none"):(a=d.stateNode,l=d.memoizedProps.style,o=l!=null&&l.hasOwnProperty("display")?l.display:null,a.style.display=W_("display",o))}catch(x){Gn(t,t.return,x)}}}else if(d.tag===6){if(c===null)try{d.stateNode.nodeValue=u?"":d.memoizedProps}catch(x){Gn(t,t.return,x)}}else if((d.tag!==22&&d.tag!==23||d.memoizedState===null||d===t)&&d.child!==null){d.child.return=d,d=d.child;continue}if(d===t)break e;for(;d.sibling===null;){if(d.return===null||d.return===t)break e;c===d&&(c=null),d=d.return}c===d&&(c=null),d.sibling.return=d.return,d=d.sibling}}break;case 19:Is(e,t),ao(t),r&4&&dx(t);break;case 21:break;default:Is(e,t),ao(t)}}function ao(t){var e=t.flags;if(e&2){try{e:{for(var n=t.return;n!==null;){if(vS(n)){var r=n;break e}n=n.return}throw Error(Fe(160))}switch(r.tag){case 5:var i=r.stateNode;r.flags&32&&(ef(i,""),r.flags&=-33);var s=fx(t);K1(t,s,i);break;case 3:case 4:var o=r.stateNode.containerInfo,a=fx(t);G1(t,a,o);break;default:throw Error(Fe(161))}}catch(l){Gn(t,t.return,l)}t.flags&=-3}e&4096&&(t.flags&=-4097)}function Tk(t,e,n){We=t,bS(t)}function bS(t,e,n){for(var r=(t.mode&1)!==0;We!==null;){var i=We,s=i.child;if(i.tag===22&&r){var o=i.memoizedState!==null||zd;if(!o){var a=i.alternate,l=a!==null&&a.memoizedState!==null||ei;a=zd;var u=ei;if(zd=o,(ei=l)&&!u)for(We=i;We!==null;)o=We,l=o.child,o.tag===22&&o.memoizedState!==null?gx(i):l!==null?(l.return=o,We=l):gx(i);for(;s!==null;)We=s,bS(s),s=s.sibling;We=i,zd=a,ei=u}px(t)}else i.subtreeFlags&8772&&s!==null?(s.return=i,We=s):px(t)}}function px(t){for(;We!==null;){var e=We;if(e.flags&8772){var n=e.alternate;try{if(e.flags&8772)switch(e.tag){case 0:case 11:case 15:ei||qm(5,e);break;case 1:var r=e.stateNode;if(e.flags&4&&!ei)if(n===null)r.componentDidMount();else{var i=e.elementType===e.type?n.memoizedProps:js(e.type,n.memoizedProps);r.componentDidUpdate(i,n.memoizedState,r.__reactInternalSnapshotBeforeUpdate)}var s=e.updateQueue;s!==null&&Jw(e,s,r);break;case 3:var o=e.updateQueue;if(o!==null){if(n=null,e.child!==null)switch(e.child.tag){case 5:n=e.child.stateNode;break;case 1:n=e.child.stateNode}Jw(e,o,n)}break;case 5:var a=e.stateNode;if(n===null&&e.flags&4){n=a;var l=e.memoizedProps;switch(e.type){case"button":case"input":case"select":case"textarea":l.autoFocus&&n.focus();break;case"img":l.src&&(n.src=l.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(e.memoizedState===null){var u=e.alternate;if(u!==null){var c=u.memoizedState;if(c!==null){var d=c.dehydrated;d!==null&&sf(d)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(Fe(163))}ei||e.flags&512&&W1(e)}catch(g){Gn(e,e.return,g)}}if(e===t){We=null;break}if(n=e.sibling,n!==null){n.return=e.return,We=n;break}We=e.return}}function mx(t){for(;We!==null;){var e=We;if(e===t){We=null;break}var n=e.sibling;if(n!==null){n.return=e.return,We=n;break}We=e.return}}function gx(t){for(;We!==null;){var e=We;try{switch(e.tag){case 0:case 11:case 15:var n=e.return;try{qm(4,e)}catch(l){Gn(e,n,l)}break;case 1:var r=e.stateNode;if(typeof r.componentDidMount=="function"){var i=e.return;try{r.componentDidMount()}catch(l){Gn(e,i,l)}}var s=e.return;try{W1(e)}catch(l){Gn(e,s,l)}break;case 5:var o=e.return;try{W1(e)}catch(l){Gn(e,o,l)}}}catch(l){Gn(e,e.return,l)}if(e===t){We=null;break}var a=e.sibling;if(a!==null){a.return=e.return,We=a;break}We=e.return}}var Ck=Math.ceil,em=ia.ReactCurrentDispatcher,$y=ia.ReactCurrentOwner,gs=ia.ReactCurrentBatchConfig,Gt=0,Tr=null,fr=null,Fr=0,Qi=0,Wu=cl(0),wr=0,gf=null,iu=0,$m=0,Hy=0,Vh=null,Ei=null,Wy=0,wc=1/0,Bo=null,tm=!1,Q1=null,Ka=null,qd=!1,Oa=null,nm=0,Bh=0,Y1=null,yp=-1,vp=0;function di(){return Gt&6?ir():yp!==-1?yp:yp=ir()}function Qa(t){return t.mode&1?Gt&2&&Fr!==0?Fr&-Fr:hk.transition!==null?(vp===0&&(vp=s6()),vp):(t=ln,t!==0||(t=window.event,t=t===void 0?16:f6(t.type)),t):1}function Os(t,e,n,r){if(50<Bh)throw Bh=0,Y1=null,Error(Fe(185));Vf(t,n,r),(!(Gt&2)||t!==Tr)&&(t===Tr&&(!(Gt&2)&&($m|=n),wr===4&&Ma(t,Fr)),Li(t,r),n===1&&Gt===0&&!(e.mode&1)&&(wc=ir()+500,Bm&&hl()))}function Li(t,e){var n=t.callbackNode;hP(t,e);var r=Vp(t,t===Tr?Fr:0);if(r===0)n!==null&&Nw(n),t.callbackNode=null,t.callbackPriority=0;else if(e=r&-r,t.callbackPriority!==e){if(n!=null&&Nw(n),e===1)t.tag===0?ck(yx.bind(null,t)):I6(yx.bind(null,t)),ok(function(){!(Gt&6)&&hl()}),n=null;else{switch(o6(r)){case 1:n=vy;break;case 4:n=r6;break;case 16:n=Op;break;case 536870912:n=i6;break;default:n=Op}n=PS(n,_S.bind(null,t))}t.callbackPriority=e,t.callbackNode=n}}function _S(t,e){if(yp=-1,vp=0,Gt&6)throw Error(Fe(327));var n=t.callbackNode;if(sc()&&t.callbackNode!==n)return null;var r=Vp(t,t===Tr?Fr:0);if(r===0)return null;if(r&30||r&t.expiredLanes||e)e=rm(t,r);else{e=r;var i=Gt;Gt|=2;var s=AS();(Tr!==t||Fr!==e)&&(Bo=null,wc=ir()+500,Kl(t,e));do try{Ik();break}catch(a){SS(t,a)}while(!0);Iy(),em.current=s,Gt=i,fr!==null?e=0:(Tr=null,Fr=0,e=wr)}if(e!==0){if(e===2&&(i=S1(t),i!==0&&(r=i,e=X1(t,i))),e===1)throw n=gf,Kl(t,0),Ma(t,r),Li(t,ir()),n;if(e===6)Ma(t,r);else{if(i=t.current.alternate,!(r&30)&&!Pk(i)&&(e=rm(t,r),e===2&&(s=S1(t),s!==0&&(r=s,e=X1(t,s))),e===1))throw n=gf,Kl(t,0),Ma(t,r),Li(t,ir()),n;switch(t.finishedWork=i,t.finishedLanes=r,e){case 0:case 1:throw Error(Fe(345));case 2:Fl(t,Ei,Bo);break;case 3:if(Ma(t,r),(r&130023424)===r&&(e=Wy+500-ir(),10<e)){if(Vp(t,0)!==0)break;if(i=t.suspendedLanes,(i&r)!==r){di(),t.pingedLanes|=t.suspendedLanes&i;break}t.timeoutHandle=I1(Fl.bind(null,t,Ei,Bo),e);break}Fl(t,Ei,Bo);break;case 4:if(Ma(t,r),(r&4194240)===r)break;for(e=t.eventTimes,i=-1;0<r;){var o=31-Fs(r);s=1<<o,o=e[o],o>i&&(i=o),r&=~s}if(r=i,r=ir()-r,r=(120>r?120:480>r?480:1080>r?1080:1920>r?1920:3e3>r?3e3:4320>r?4320:1960*Ck(r/1960))-r,10<r){t.timeoutHandle=I1(Fl.bind(null,t,Ei,Bo),r);break}Fl(t,Ei,Bo);break;case 5:Fl(t,Ei,Bo);break;default:throw Error(Fe(329))}}}return Li(t,ir()),t.callbackNode===n?_S.bind(null,t):null}function X1(t,e){var n=Vh;return t.current.memoizedState.isDehydrated&&(Kl(t,e).flags|=256),t=rm(t,e),t!==2&&(e=Ei,Ei=n,e!==null&&J1(e)),t}function J1(t){Ei===null?Ei=t:Ei.push.apply(Ei,t)}function Pk(t){for(var e=t;;){if(e.flags&16384){var n=e.updateQueue;if(n!==null&&(n=n.stores,n!==null))for(var r=0;r<n.length;r++){var i=n[r],s=i.getSnapshot;i=i.value;try{if(!Vs(s(),i))return!1}catch{return!1}}}if(n=e.child,e.subtreeFlags&16384&&n!==null)n.return=e,e=n;else{if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return!0;e=e.return}e.sibling.return=e.return,e=e.sibling}}return!0}function Ma(t,e){for(e&=~Hy,e&=~$m,t.suspendedLanes|=e,t.pingedLanes&=~e,t=t.expirationTimes;0<e;){var n=31-Fs(e),r=1<<n;t[n]=-1,e&=~r}}function yx(t){if(Gt&6)throw Error(Fe(327));sc();var e=Vp(t,0);if(!(e&1))return Li(t,ir()),null;var n=rm(t,e);if(t.tag!==0&&n===2){var r=S1(t);r!==0&&(e=r,n=X1(t,r))}if(n===1)throw n=gf,Kl(t,0),Ma(t,e),Li(t,ir()),n;if(n===6)throw Error(Fe(345));return t.finishedWork=t.current.alternate,t.finishedLanes=e,Fl(t,Ei,Bo),Li(t,ir()),null}function Gy(t,e){var n=Gt;Gt|=1;try{return t(e)}finally{Gt=n,Gt===0&&(wc=ir()+500,Bm&&hl())}}function su(t){Oa!==null&&Oa.tag===0&&!(Gt&6)&&sc();var e=Gt;Gt|=1;var n=gs.transition,r=ln;try{if(gs.transition=null,ln=1,t)return t()}finally{ln=r,gs.transition=n,Gt=e,!(Gt&6)&&hl()}}function Ky(){Qi=Wu.current,An(Wu)}function Kl(t,e){t.finishedWork=null,t.finishedLanes=0;var n=t.timeoutHandle;if(n!==-1&&(t.timeoutHandle=-1,sk(n)),fr!==null)for(n=fr.return;n!==null;){var r=n;switch(Cy(r),r.tag){case 1:r=r.type.childContextTypes,r!=null&&$p();break;case 3:yc(),An(ki),An(ii),Fy();break;case 5:My(r);break;case 4:yc();break;case 13:An(jn);break;case 19:An(jn);break;case 10:Ly(r.type._context);break;case 22:case 23:Ky()}n=n.return}if(Tr=t,fr=t=Ya(t.current,null),Fr=Qi=e,wr=0,gf=null,Hy=$m=iu=0,Ei=Vh=null,ql!==null){for(e=0;e<ql.length;e++)if(n=ql[e],r=n.interleaved,r!==null){n.interleaved=null;var i=r.next,s=n.pending;if(s!==null){var o=s.next;s.next=i,r.next=o}n.pending=r}ql=null}return t}function SS(t,e){do{var n=fr;try{if(Iy(),pp.current=Zp,Jp){for(var r=Mn.memoizedState;r!==null;){var i=r.queue;i!==null&&(i.pending=null),r=r.next}Jp=!1}if(ru=0,Nr=vr=Mn=null,Fh=!1,df=0,$y.current=null,n===null||n.return===null){wr=1,gf=e,fr=null;break}e:{var s=t,o=n.return,a=n,l=e;if(e=Fr,a.flags|=32768,l!==null&&typeof l=="object"&&typeof l.then=="function"){var u=l,c=a,d=c.tag;if(!(c.mode&1)&&(d===0||d===11||d===15)){var g=c.alternate;g?(c.updateQueue=g.updateQueue,c.memoizedState=g.memoizedState,c.lanes=g.lanes):(c.updateQueue=null,c.memoizedState=null)}var m=ix(o);if(m!==null){m.flags&=-257,sx(m,o,a,s,e),m.mode&1&&rx(s,u,e),e=m,l=u;var b=e.updateQueue;if(b===null){var x=new Set;x.add(l),e.updateQueue=x}else b.add(l);break e}else{if(!(e&1)){rx(s,u,e),Qy();break e}l=Error(Fe(426))}}else if(Pn&&a.mode&1){var A=ix(o);if(A!==null){!(A.flags&65536)&&(A.flags|=256),sx(A,o,a,s,e),Py(vc(l,a));break e}}s=l=vc(l,a),wr!==4&&(wr=2),Vh===null?Vh=[s]:Vh.push(s),s=o;do{switch(s.tag){case 3:s.flags|=65536,e&=-e,s.lanes|=e;var v=oS(s,l,e);Xw(s,v);break e;case 1:a=l;var _=s.type,E=s.stateNode;if(!(s.flags&128)&&(typeof _.getDerivedStateFromError=="function"||E!==null&&typeof E.componentDidCatch=="function"&&(Ka===null||!Ka.has(E)))){s.flags|=65536,e&=-e,s.lanes|=e;var L=aS(s,a,e);Xw(s,L);break e}}s=s.return}while(s!==null)}ES(n)}catch(z){e=z,fr===n&&n!==null&&(fr=n=n.return);continue}break}while(!0)}function AS(){var t=em.current;return em.current=Zp,t===null?Zp:t}function Qy(){(wr===0||wr===3||wr===2)&&(wr=4),Tr===null||!(iu&268435455)&&!($m&268435455)||Ma(Tr,Fr)}function rm(t,e){var n=Gt;Gt|=2;var r=AS();(Tr!==t||Fr!==e)&&(Bo=null,Kl(t,e));do try{kk();break}catch(i){SS(t,i)}while(!0);if(Iy(),Gt=n,em.current=r,fr!==null)throw Error(Fe(261));return Tr=null,Fr=0,wr}function kk(){for(;fr!==null;)NS(fr)}function Ik(){for(;fr!==null&&!nP();)NS(fr)}function NS(t){var e=CS(t.alternate,t,Qi);t.memoizedProps=t.pendingProps,e===null?ES(t):fr=e,$y.current=null}function ES(t){var e=t;do{var n=e.alternate;if(t=e.return,e.flags&32768){if(n=Ak(n,e),n!==null){n.flags&=32767,fr=n;return}if(t!==null)t.flags|=32768,t.subtreeFlags=0,t.deletions=null;else{wr=6,fr=null;return}}else if(n=Sk(n,e,Qi),n!==null){fr=n;return}if(e=e.sibling,e!==null){fr=e;return}fr=e=t}while(e!==null);wr===0&&(wr=5)}function Fl(t,e,n){var r=ln,i=gs.transition;try{gs.transition=null,ln=1,Lk(t,e,n,r)}finally{gs.transition=i,ln=r}return null}function Lk(t,e,n,r){do sc();while(Oa!==null);if(Gt&6)throw Error(Fe(327));n=t.finishedWork;var i=t.finishedLanes;if(n===null)return null;if(t.finishedWork=null,t.finishedLanes=0,n===t.current)throw Error(Fe(177));t.callbackNode=null,t.callbackPriority=0;var s=n.lanes|n.childLanes;if(fP(t,s),t===Tr&&(fr=Tr=null,Fr=0),!(n.subtreeFlags&2064)&&!(n.flags&2064)||qd||(qd=!0,PS(Op,function(){return sc(),null})),s=(n.flags&15990)!==0,n.subtreeFlags&15990||s){s=gs.transition,gs.transition=null;var o=ln;ln=1;var a=Gt;Gt|=4,$y.current=null,Ek(t,n),xS(n,t),JP(P1),Bp=!!C1,P1=C1=null,t.current=n,Tk(n),rP(),Gt=a,ln=o,gs.transition=s}else t.current=n;if(qd&&(qd=!1,Oa=t,nm=i),s=t.pendingLanes,s===0&&(Ka=null),oP(n.stateNode),Li(t,ir()),e!==null)for(r=t.onRecoverableError,n=0;n<e.length;n++)i=e[n],r(i.value,{componentStack:i.stack,digest:i.digest});if(tm)throw tm=!1,t=Q1,Q1=null,t;return nm&1&&t.tag!==0&&sc(),s=t.pendingLanes,s&1?t===Y1?Bh++:(Bh=0,Y1=t):Bh=0,hl(),null}function sc(){if(Oa!==null){var t=o6(nm),e=gs.transition,n=ln;try{if(gs.transition=null,ln=16>t?16:t,Oa===null)var r=!1;else{if(t=Oa,Oa=null,nm=0,Gt&6)throw Error(Fe(331));var i=Gt;for(Gt|=4,We=t.current;We!==null;){var s=We,o=s.child;if(We.flags&16){var a=s.deletions;if(a!==null){for(var l=0;l<a.length;l++){var u=a[l];for(We=u;We!==null;){var c=We;switch(c.tag){case 0:case 11:case 15:Oh(8,c,s)}var d=c.child;if(d!==null)d.return=c,We=d;else for(;We!==null;){c=We;var g=c.sibling,m=c.return;if(yS(c),c===u){We=null;break}if(g!==null){g.return=m,We=g;break}We=m}}}var b=s.alternate;if(b!==null){var x=b.child;if(x!==null){b.child=null;do{var A=x.sibling;x.sibling=null,x=A}while(x!==null)}}We=s}}if(s.subtreeFlags&2064&&o!==null)o.return=s,We=o;else e:for(;We!==null;){if(s=We,s.flags&2048)switch(s.tag){case 0:case 11:case 15:Oh(9,s,s.return)}var v=s.sibling;if(v!==null){v.return=s.return,We=v;break e}We=s.return}}var _=t.current;for(We=_;We!==null;){o=We;var E=o.child;if(o.subtreeFlags&2064&&E!==null)E.return=o,We=E;else e:for(o=_;We!==null;){if(a=We,a.flags&2048)try{switch(a.tag){case 0:case 11:case 15:qm(9,a)}}catch(z){Gn(a,a.return,z)}if(a===o){We=null;break e}var L=a.sibling;if(L!==null){L.return=a.return,We=L;break e}We=a.return}}if(Gt=i,hl(),po&&typeof po.onPostCommitFiberRoot=="function")try{po.onPostCommitFiberRoot(Dm,t)}catch{}r=!0}return r}finally{ln=n,gs.transition=e}}return!1}function vx(t,e,n){e=vc(n,e),e=oS(t,e,1),t=Ga(t,e,1),e=di(),t!==null&&(Vf(t,1,e),Li(t,e))}function Gn(t,e,n){if(t.tag===3)vx(t,t,n);else for(;e!==null;){if(e.tag===3){vx(e,t,n);break}else if(e.tag===1){var r=e.stateNode;if(typeof e.type.getDerivedStateFromError=="function"||typeof r.componentDidCatch=="function"&&(Ka===null||!Ka.has(r))){t=vc(n,t),t=aS(e,t,1),e=Ga(e,t,1),t=di(),e!==null&&(Vf(e,1,t),Li(e,t));break}}e=e.return}}function Rk(t,e,n){var r=t.pingCache;r!==null&&r.delete(e),e=di(),t.pingedLanes|=t.suspendedLanes&n,Tr===t&&(Fr&n)===n&&(wr===4||wr===3&&(Fr&130023424)===Fr&&500>ir()-Wy?Kl(t,0):Hy|=n),Li(t,e)}function TS(t,e){e===0&&(t.mode&1?(e=Rd,Rd<<=1,!(Rd&130023424)&&(Rd=4194304)):e=1);var n=di();t=Yo(t,e),t!==null&&(Vf(t,e,n),Li(t,n))}function jk(t){var e=t.memoizedState,n=0;e!==null&&(n=e.retryLane),TS(t,n)}function Dk(t,e){var n=0;switch(t.tag){case 13:var r=t.stateNode,i=t.memoizedState;i!==null&&(n=i.retryLane);break;case 19:r=t.stateNode;break;default:throw Error(Fe(314))}r!==null&&r.delete(e),TS(t,n)}var CS;CS=function(t,e,n){if(t!==null)if(t.memoizedProps!==e.pendingProps||ki.current)Ci=!0;else{if(!(t.lanes&n)&&!(e.flags&128))return Ci=!1,_k(t,e,n);Ci=!!(t.flags&131072)}else Ci=!1,Pn&&e.flags&1048576&&L6(e,Gp,e.index);switch(e.lanes=0,e.tag){case 2:var r=e.type;gp(t,e),t=e.pendingProps;var i=pc(e,ii.current);ic(e,n),i=Vy(null,e,r,t,i,n);var s=By();return e.flags|=1,typeof i=="object"&&i!==null&&typeof i.render=="function"&&i.$$typeof===void 0?(e.tag=1,e.memoizedState=null,e.updateQueue=null,Ii(r)?(s=!0,Hp(e)):s=!1,e.memoizedState=i.state!==null&&i.state!==void 0?i.state:null,jy(e),i.updater=zm,e.stateNode=i,i._reactInternals=e,O1(e,r,t,n),e=U1(null,e,r,!0,s,n)):(e.tag=0,Pn&&s&&Ty(e),hi(null,e,i,n),e=e.child),e;case 16:r=e.elementType;e:{switch(gp(t,e),t=e.pendingProps,i=r._init,r=i(r._payload),e.type=r,i=e.tag=Fk(r),t=js(r,t),i){case 0:e=B1(null,e,r,t,n);break e;case 1:e=lx(null,e,r,t,n);break e;case 11:e=ox(null,e,r,t,n);break e;case 14:e=ax(null,e,r,js(r.type,t),n);break e}throw Error(Fe(306,r,""))}return e;case 0:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:js(r,i),B1(t,e,r,i,n);case 1:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:js(r,i),lx(t,e,r,i,n);case 3:e:{if(hS(e),t===null)throw Error(Fe(387));r=e.pendingProps,s=e.memoizedState,i=s.element,O6(t,e),Yp(e,r,null,n);var o=e.memoizedState;if(r=o.element,s.isDehydrated)if(s={element:r,isDehydrated:!1,cache:o.cache,pendingSuspenseBoundaries:o.pendingSuspenseBoundaries,transitions:o.transitions},e.updateQueue.baseState=s,e.memoizedState=s,e.flags&256){i=vc(Error(Fe(423)),e),e=ux(t,e,r,n,i);break e}else if(r!==i){i=vc(Error(Fe(424)),e),e=ux(t,e,r,n,i);break e}else for(Yi=Wa(e.stateNode.containerInfo.firstChild),Zi=e,Pn=!0,Ms=null,n=M6(e,null,r,n),e.child=n;n;)n.flags=n.flags&-3|4096,n=n.sibling;else{if(mc(),r===i){e=Xo(t,e,n);break e}hi(t,e,r,n)}e=e.child}return e;case 5:return V6(e),t===null&&D1(e),r=e.type,i=e.pendingProps,s=t!==null?t.memoizedProps:null,o=i.children,k1(r,i)?o=null:s!==null&&k1(r,s)&&(e.flags|=32),cS(t,e),hi(t,e,o,n),e.child;case 6:return t===null&&D1(e),null;case 13:return fS(t,e,n);case 4:return Dy(e,e.stateNode.containerInfo),r=e.pendingProps,t===null?e.child=gc(e,null,r,n):hi(t,e,r,n),e.child;case 11:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:js(r,i),ox(t,e,r,i,n);case 7:return hi(t,e,e.pendingProps,n),e.child;case 8:return hi(t,e,e.pendingProps.children,n),e.child;case 12:return hi(t,e,e.pendingProps.children,n),e.child;case 10:e:{if(r=e.type._context,i=e.pendingProps,s=e.memoizedProps,o=i.value,yn(Kp,r._currentValue),r._currentValue=o,s!==null)if(Vs(s.value,o)){if(s.children===i.children&&!ki.current){e=Xo(t,e,n);break e}}else for(s=e.child,s!==null&&(s.return=e);s!==null;){var a=s.dependencies;if(a!==null){o=s.child;for(var l=a.firstContext;l!==null;){if(l.context===r){if(s.tag===1){l=Wo(-1,n&-n),l.tag=2;var u=s.updateQueue;if(u!==null){u=u.shared;var c=u.pending;c===null?l.next=l:(l.next=c.next,c.next=l),u.pending=l}}s.lanes|=n,l=s.alternate,l!==null&&(l.lanes|=n),M1(s.return,n,e),a.lanes|=n;break}l=l.next}}else if(s.tag===10)o=s.type===e.type?null:s.child;else if(s.tag===18){if(o=s.return,o===null)throw Error(Fe(341));o.lanes|=n,a=o.alternate,a!==null&&(a.lanes|=n),M1(o,n,e),o=s.sibling}else o=s.child;if(o!==null)o.return=s;else for(o=s;o!==null;){if(o===e){o=null;break}if(s=o.sibling,s!==null){s.return=o.return,o=s;break}o=o.return}s=o}hi(t,e,i.children,n),e=e.child}return e;case 9:return i=e.type,r=e.pendingProps.children,ic(e,n),i=vs(i),r=r(i),e.flags|=1,hi(t,e,r,n),e.child;case 14:return r=e.type,i=js(r,e.pendingProps),i=js(r.type,i),ax(t,e,r,i,n);case 15:return lS(t,e,e.type,e.pendingProps,n);case 17:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:js(r,i),gp(t,e),e.tag=1,Ii(r)?(t=!0,Hp(e)):t=!1,ic(e,n),sS(e,r,i),O1(e,r,i,n),U1(null,e,r,!0,t,n);case 19:return dS(t,e,n);case 22:return uS(t,e,n)}throw Error(Fe(156,e.tag))};function PS(t,e){return n6(t,e)}function Mk(t,e,n,r){this.tag=t,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=e,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function ms(t,e,n,r){return new Mk(t,e,n,r)}function Yy(t){return t=t.prototype,!(!t||!t.isReactComponent)}function Fk(t){if(typeof t=="function")return Yy(t)?1:0;if(t!=null){if(t=t.$$typeof,t===my)return 11;if(t===gy)return 14}return 2}function Ya(t,e){var n=t.alternate;return n===null?(n=ms(t.tag,e,t.key,t.mode),n.elementType=t.elementType,n.type=t.type,n.stateNode=t.stateNode,n.alternate=t,t.alternate=n):(n.pendingProps=e,n.type=t.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=t.flags&14680064,n.childLanes=t.childLanes,n.lanes=t.lanes,n.child=t.child,n.memoizedProps=t.memoizedProps,n.memoizedState=t.memoizedState,n.updateQueue=t.updateQueue,e=t.dependencies,n.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext},n.sibling=t.sibling,n.index=t.index,n.ref=t.ref,n}function wp(t,e,n,r,i,s){var o=2;if(r=t,typeof t=="function")Yy(t)&&(o=1);else if(typeof t=="string")o=5;else e:switch(t){case Mu:return Ql(n.children,i,s,e);case py:o=8,i|=8;break;case l1:return t=ms(12,n,e,i|2),t.elementType=l1,t.lanes=s,t;case u1:return t=ms(13,n,e,i),t.elementType=u1,t.lanes=s,t;case c1:return t=ms(19,n,e,i),t.elementType=c1,t.lanes=s,t;case V_:return Hm(n,i,s,e);default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case F_:o=10;break e;case O_:o=9;break e;case my:o=11;break e;case gy:o=14;break e;case Ra:o=16,r=null;break e}throw Error(Fe(130,t==null?t:typeof t,""))}return e=ms(o,n,e,i),e.elementType=t,e.type=r,e.lanes=s,e}function Ql(t,e,n,r){return t=ms(7,t,r,e),t.lanes=n,t}function Hm(t,e,n,r){return t=ms(22,t,r,e),t.elementType=V_,t.lanes=n,t.stateNode={isHidden:!1},t}function og(t,e,n){return t=ms(6,t,null,e),t.lanes=n,t}function ag(t,e,n){return e=ms(4,t.children!==null?t.children:[],t.key,e),e.lanes=n,e.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},e}function Ok(t,e,n,r,i){this.tag=e,this.containerInfo=t,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=U0(0),this.expirationTimes=U0(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=U0(0),this.identifierPrefix=r,this.onRecoverableError=i,this.mutableSourceEagerHydrationData=null}function Xy(t,e,n,r,i,s,o,a,l){return t=new Ok(t,e,n,a,l),e===1?(e=1,s===!0&&(e|=8)):e=0,s=ms(3,null,null,e),t.current=s,s.stateNode=t,s.memoizedState={element:r,isDehydrated:n,cache:null,transitions:null,pendingSuspenseBoundaries:null},jy(s),t}function Vk(t,e,n){var r=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:Du,key:r==null?null:""+r,children:t,containerInfo:e,implementation:n}}function kS(t){if(!t)return nl;t=t._reactInternals;e:{if(du(t)!==t||t.tag!==1)throw Error(Fe(170));var e=t;do{switch(e.tag){case 3:e=e.stateNode.context;break e;case 1:if(Ii(e.type)){e=e.stateNode.__reactInternalMemoizedMergedChildContext;break e}}e=e.return}while(e!==null);throw Error(Fe(171))}if(t.tag===1){var n=t.type;if(Ii(n))return k6(t,n,e)}return e}function IS(t,e,n,r,i,s,o,a,l){return t=Xy(n,r,!0,t,i,s,o,a,l),t.context=kS(null),n=t.current,r=di(),i=Qa(n),s=Wo(r,i),s.callback=e??null,Ga(n,s,i),t.current.lanes=i,Vf(t,i,r),Li(t,r),t}function Wm(t,e,n,r){var i=e.current,s=di(),o=Qa(i);return n=kS(n),e.context===null?e.context=n:e.pendingContext=n,e=Wo(s,o),e.payload={element:t},r=r===void 0?null:r,r!==null&&(e.callback=r),t=Ga(i,e,o),t!==null&&(Os(t,i,o,s),dp(t,i,o)),o}function im(t){if(t=t.current,!t.child)return null;switch(t.child.tag){case 5:return t.child.stateNode;default:return t.child.stateNode}}function wx(t,e){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var n=t.retryLane;t.retryLane=n!==0&&n<e?n:e}}function Jy(t,e){wx(t,e),(t=t.alternate)&&wx(t,e)}function Bk(){return null}var LS=typeof reportError=="function"?reportError:function(t){console.error(t)};function Zy(t){this._internalRoot=t}Gm.prototype.render=Zy.prototype.render=function(t){var e=this._internalRoot;if(e===null)throw Error(Fe(409));Wm(t,e,null,null)};Gm.prototype.unmount=Zy.prototype.unmount=function(){var t=this._internalRoot;if(t!==null){this._internalRoot=null;var e=t.containerInfo;su(function(){Wm(null,t,null,null)}),e[Qo]=null}};function Gm(t){this._internalRoot=t}Gm.prototype.unstable_scheduleHydration=function(t){if(t){var e=u6();t={blockedOn:null,target:t,priority:e};for(var n=0;n<Da.length&&e!==0&&e<Da[n].priority;n++);Da.splice(n,0,t),n===0&&h6(t)}};function ev(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)}function Km(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11&&(t.nodeType!==8||t.nodeValue!==" react-mount-point-unstable "))}function xx(){}function Uk(t,e,n,r,i){if(i){if(typeof r=="function"){var s=r;r=function(){var u=im(o);s.call(u)}}var o=IS(e,r,t,0,null,!1,!1,"",xx);return t._reactRootContainer=o,t[Qo]=o.current,lf(t.nodeType===8?t.parentNode:t),su(),o}for(;i=t.lastChild;)t.removeChild(i);if(typeof r=="function"){var a=r;r=function(){var u=im(l);a.call(u)}}var l=Xy(t,0,!1,null,null,!1,!1,"",xx);return t._reactRootContainer=l,t[Qo]=l.current,lf(t.nodeType===8?t.parentNode:t),su(function(){Wm(e,l,n,r)}),l}function Qm(t,e,n,r,i){var s=n._reactRootContainer;if(s){var o=s;if(typeof i=="function"){var a=i;i=function(){var l=im(o);a.call(l)}}Wm(e,o,t,i)}else o=Uk(n,e,t,i,r);return im(o)}a6=function(t){switch(t.tag){case 3:var e=t.stateNode;if(e.current.memoizedState.isDehydrated){var n=Nh(e.pendingLanes);n!==0&&(wy(e,n|1),Li(e,ir()),!(Gt&6)&&(wc=ir()+500,hl()))}break;case 13:su(function(){var r=Yo(t,1);if(r!==null){var i=di();Os(r,t,1,i)}}),Jy(t,1)}};xy=function(t){if(t.tag===13){var e=Yo(t,134217728);if(e!==null){var n=di();Os(e,t,134217728,n)}Jy(t,134217728)}};l6=function(t){if(t.tag===13){var e=Qa(t),n=Yo(t,e);if(n!==null){var r=di();Os(n,t,e,r)}Jy(t,e)}};u6=function(){return ln};c6=function(t,e){var n=ln;try{return ln=t,e()}finally{ln=n}};x1=function(t,e,n){switch(e){case"input":if(d1(t,n),e=n.name,n.type==="radio"&&e!=null){for(n=t;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+e)+'][type="radio"]'),e=0;e<n.length;e++){var r=n[e];if(r!==t&&r.form===t.form){var i=Vm(r);if(!i)throw Error(Fe(90));U_(r),d1(r,i)}}}break;case"textarea":q_(t,n);break;case"select":e=n.value,e!=null&&ec(t,!!n.multiple,e,!1)}};Y_=Gy;X_=su;var zk={usingClientEntryPoint:!1,Events:[Uf,Bu,Vm,K_,Q_,Gy]},yh={findFiberByHostInstance:zl,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},qk={bundleType:yh.bundleType,version:yh.version,rendererPackageName:yh.rendererPackageName,rendererConfig:yh.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:ia.ReactCurrentDispatcher,findHostInstanceByFiber:function(t){return t=e6(t),t===null?null:t.stateNode},findFiberByHostInstance:yh.findFiberByHostInstance||Bk,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var $d=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!$d.isDisabled&&$d.supportsFiber)try{Dm=$d.inject(qk),po=$d}catch{}}ts.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=zk;ts.createPortal=function(t,e){var n=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!ev(e))throw Error(Fe(200));return Vk(t,e,null,n)};ts.createRoot=function(t,e){if(!ev(t))throw Error(Fe(299));var n=!1,r="",i=LS;return e!=null&&(e.unstable_strictMode===!0&&(n=!0),e.identifierPrefix!==void 0&&(r=e.identifierPrefix),e.onRecoverableError!==void 0&&(i=e.onRecoverableError)),e=Xy(t,1,!1,null,null,n,!1,r,i),t[Qo]=e.current,lf(t.nodeType===8?t.parentNode:t),new Zy(e)};ts.findDOMNode=function(t){if(t==null)return null;if(t.nodeType===1)return t;var e=t._reactInternals;if(e===void 0)throw typeof t.render=="function"?Error(Fe(188)):(t=Object.keys(t).join(","),Error(Fe(268,t)));return t=e6(e),t=t===null?null:t.stateNode,t};ts.flushSync=function(t){return su(t)};ts.hydrate=function(t,e,n){if(!Km(e))throw Error(Fe(200));return Qm(null,t,e,!0,n)};ts.hydrateRoot=function(t,e,n){if(!ev(t))throw Error(Fe(405));var r=n!=null&&n.hydratedSources||null,i=!1,s="",o=LS;if(n!=null&&(n.unstable_strictMode===!0&&(i=!0),n.identifierPrefix!==void 0&&(s=n.identifierPrefix),n.onRecoverableError!==void 0&&(o=n.onRecoverableError)),e=IS(e,null,t,1,n??null,i,!1,s,o),t[Qo]=e.current,lf(t),r)for(t=0;t<r.length;t++)n=r[t],i=n._getVersion,i=i(n._source),e.mutableSourceEagerHydrationData==null?e.mutableSourceEagerHydrationData=[n,i]:e.mutableSourceEagerHydrationData.push(n,i);return new Gm(e)};ts.render=function(t,e,n){if(!Km(e))throw Error(Fe(200));return Qm(null,t,e,!1,n)};ts.unmountComponentAtNode=function(t){if(!Km(t))throw Error(Fe(40));return t._reactRootContainer?(su(function(){Qm(null,null,t,!1,function(){t._reactRootContainer=null,t[Qo]=null})}),!0):!1};ts.unstable_batchedUpdates=Gy;ts.unstable_renderSubtreeIntoContainer=function(t,e,n,r){if(!Km(n))throw Error(Fe(200));if(t==null||t._reactInternals===void 0)throw Error(Fe(38));return Qm(t,e,n,!1,r)};ts.version="18.3.1-next-f1338f8080-20240426";function RS(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(RS)}catch(t){console.error(t)}}RS(),R_.exports=ts;var $k=R_.exports,bx=$k;o1.createRoot=bx.createRoot,o1.hydrateRoot=bx.hydrateRoot;/**
 * @remix-run/router v1.23.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function yf(){return yf=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},yf.apply(this,arguments)}var Va;(function(t){t.Pop="POP",t.Push="PUSH",t.Replace="REPLACE"})(Va||(Va={}));const _x="popstate";function Hk(t){t===void 0&&(t={});function e(r,i){let{pathname:s,search:o,hash:a}=r.location;return Z1("",{pathname:s,search:o,hash:a},i.state&&i.state.usr||null,i.state&&i.state.key||"default")}function n(r,i){return typeof i=="string"?i:sm(i)}return Gk(e,n,null,t)}function Kn(t,e){if(t===!1||t===null||typeof t>"u")throw new Error(e)}function jS(t,e){if(!t){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function Wk(){return Math.random().toString(36).substr(2,8)}function Sx(t,e){return{usr:t.state,key:t.key,idx:e}}function Z1(t,e,n,r){return n===void 0&&(n=null),yf({pathname:typeof t=="string"?t:t.pathname,search:"",hash:""},typeof e=="string"?Rc(e):e,{state:n,key:e&&e.key||r||Wk()})}function sm(t){let{pathname:e="/",search:n="",hash:r=""}=t;return n&&n!=="?"&&(e+=n.charAt(0)==="?"?n:"?"+n),r&&r!=="#"&&(e+=r.charAt(0)==="#"?r:"#"+r),e}function Rc(t){let e={};if(t){let n=t.indexOf("#");n>=0&&(e.hash=t.substr(n),t=t.substr(0,n));let r=t.indexOf("?");r>=0&&(e.search=t.substr(r),t=t.substr(0,r)),t&&(e.pathname=t)}return e}function Gk(t,e,n,r){r===void 0&&(r={});let{window:i=document.defaultView,v5Compat:s=!1}=r,o=i.history,a=Va.Pop,l=null,u=c();u==null&&(u=0,o.replaceState(yf({},o.state,{idx:u}),""));function c(){return(o.state||{idx:null}).idx}function d(){a=Va.Pop;let A=c(),v=A==null?null:A-u;u=A,l&&l({action:a,location:x.location,delta:v})}function g(A,v){a=Va.Push;let _=Z1(x.location,A,v);u=c()+1;let E=Sx(_,u),L=x.createHref(_);try{o.pushState(E,"",L)}catch(z){if(z instanceof DOMException&&z.name==="DataCloneError")throw z;i.location.assign(L)}s&&l&&l({action:a,location:x.location,delta:1})}function m(A,v){a=Va.Replace;let _=Z1(x.location,A,v);u=c();let E=Sx(_,u),L=x.createHref(_);o.replaceState(E,"",L),s&&l&&l({action:a,location:x.location,delta:0})}function b(A){let v=i.location.origin!=="null"?i.location.origin:i.location.href,_=typeof A=="string"?A:sm(A);return _=_.replace(/ $/,"%20"),Kn(v,"No window.location.(origin|href) available to create URL for href: "+_),new URL(_,v)}let x={get action(){return a},get location(){return t(i,o)},listen(A){if(l)throw new Error("A history only accepts one active listener");return i.addEventListener(_x,d),l=A,()=>{i.removeEventListener(_x,d),l=null}},createHref(A){return e(i,A)},createURL:b,encodeLocation(A){let v=b(A);return{pathname:v.pathname,search:v.search,hash:v.hash}},push:g,replace:m,go(A){return o.go(A)}};return x}var Ax;(function(t){t.data="data",t.deferred="deferred",t.redirect="redirect",t.error="error"})(Ax||(Ax={}));function Kk(t,e,n){return n===void 0&&(n="/"),Qk(t,e,n)}function Qk(t,e,n,r){let i=typeof e=="string"?Rc(e):e,s=xc(i.pathname||"/",n);if(s==null)return null;let o=DS(t);Yk(o);let a=null;for(let l=0;a==null&&l<o.length;++l){let u=a7(s);a=s7(o[l],u)}return a}function DS(t,e,n,r){e===void 0&&(e=[]),n===void 0&&(n=[]),r===void 0&&(r="");let i=(s,o,a)=>{let l={relativePath:a===void 0?s.path||"":a,caseSensitive:s.caseSensitive===!0,childrenIndex:o,route:s};l.relativePath.startsWith("/")&&(Kn(l.relativePath.startsWith(r),'Absolute route path "'+l.relativePath+'" nested under path '+('"'+r+'" is not valid. An absolute child route path ')+"must start with the combined path of all its parent routes."),l.relativePath=l.relativePath.slice(r.length));let u=Xa([r,l.relativePath]),c=n.concat(l);s.children&&s.children.length>0&&(Kn(s.index!==!0,"Index routes must not have child routes. Please remove "+('all child routes from route path "'+u+'".')),DS(s.children,e,c,u)),!(s.path==null&&!s.index)&&e.push({path:u,score:r7(u,s.index),routesMeta:c})};return t.forEach((s,o)=>{var a;if(s.path===""||!((a=s.path)!=null&&a.includes("?")))i(s,o);else for(let l of MS(s.path))i(s,o,l)}),e}function MS(t){let e=t.split("/");if(e.length===0)return[];let[n,...r]=e,i=n.endsWith("?"),s=n.replace(/\?$/,"");if(r.length===0)return i?[s,""]:[s];let o=MS(r.join("/")),a=[];return a.push(...o.map(l=>l===""?s:[s,l].join("/"))),i&&a.push(...o),a.map(l=>t.startsWith("/")&&l===""?"/":l)}function Yk(t){t.sort((e,n)=>e.score!==n.score?n.score-e.score:i7(e.routesMeta.map(r=>r.childrenIndex),n.routesMeta.map(r=>r.childrenIndex)))}const Xk=/^:[\w-]+$/,Jk=3,Zk=2,e7=1,t7=10,n7=-2,Nx=t=>t==="*";function r7(t,e){let n=t.split("/"),r=n.length;return n.some(Nx)&&(r+=n7),e&&(r+=Zk),n.filter(i=>!Nx(i)).reduce((i,s)=>i+(Xk.test(s)?Jk:s===""?e7:t7),r)}function i7(t,e){return t.length===e.length&&t.slice(0,-1).every((r,i)=>r===e[i])?t[t.length-1]-e[e.length-1]:0}function s7(t,e,n){let{routesMeta:r}=t,i={},s="/",o=[];for(let a=0;a<r.length;++a){let l=r[a],u=a===r.length-1,c=s==="/"?e:e.slice(s.length)||"/",d=e2({path:l.relativePath,caseSensitive:l.caseSensitive,end:u},c),g=l.route;if(!d)return null;Object.assign(i,d.params),o.push({params:i,pathname:Xa([s,d.pathname]),pathnameBase:h7(Xa([s,d.pathnameBase])),route:g}),d.pathnameBase!=="/"&&(s=Xa([s,d.pathnameBase]))}return o}function e2(t,e){typeof t=="string"&&(t={path:t,caseSensitive:!1,end:!0});let[n,r]=o7(t.path,t.caseSensitive,t.end),i=e.match(n);if(!i)return null;let s=i[0],o=s.replace(/(.)\/+$/,"$1"),a=i.slice(1);return{params:r.reduce((u,c,d)=>{let{paramName:g,isOptional:m}=c;if(g==="*"){let x=a[d]||"";o=s.slice(0,s.length-x.length).replace(/(.)\/+$/,"$1")}const b=a[d];return m&&!b?u[g]=void 0:u[g]=(b||"").replace(/%2F/g,"/"),u},{}),pathname:s,pathnameBase:o,pattern:t}}function o7(t,e,n){e===void 0&&(e=!1),n===void 0&&(n=!0),jS(t==="*"||!t.endsWith("*")||t.endsWith("/*"),'Route path "'+t+'" will be treated as if it were '+('"'+t.replace(/\*$/,"/*")+'" because the `*` character must ')+"always follow a `/` in the pattern. To get rid of this warning, "+('please change the route path to "'+t.replace(/\*$/,"/*")+'".'));let r=[],i="^"+t.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(o,a,l)=>(r.push({paramName:a,isOptional:l!=null}),l?"/?([^\\/]+)?":"/([^\\/]+)"));return t.endsWith("*")?(r.push({paramName:"*"}),i+=t==="*"||t==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?i+="\\/*$":t!==""&&t!=="/"&&(i+="(?:(?=\\/|$))"),[new RegExp(i,e?void 0:"i"),r]}function a7(t){try{return t.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return jS(!1,'The URL path "'+t+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent '+("encoding ("+e+").")),t}}function xc(t,e){if(e==="/")return t;if(!t.toLowerCase().startsWith(e.toLowerCase()))return null;let n=e.endsWith("/")?e.length-1:e.length,r=t.charAt(n);return r&&r!=="/"?null:t.slice(n)||"/"}function l7(t,e){e===void 0&&(e="/");let{pathname:n,search:r="",hash:i=""}=typeof t=="string"?Rc(t):t;return{pathname:n?n.startsWith("/")?n:u7(n,e):e,search:f7(r),hash:d7(i)}}function u7(t,e){let n=e.replace(/\/+$/,"").split("/");return t.split("/").forEach(i=>{i===".."?n.length>1&&n.pop():i!=="."&&n.push(i)}),n.length>1?n.join("/"):"/"}function lg(t,e,n,r){return"Cannot include a '"+t+"' character in a manually specified "+("`to."+e+"` field ["+JSON.stringify(r)+"].  Please separate it out to the ")+("`to."+n+"` field. Alternatively you may provide the full path as ")+'a string in <Link to="..."> and the router will parse it for you.'}function c7(t){return t.filter((e,n)=>n===0||e.route.path&&e.route.path.length>0)}function FS(t,e){let n=c7(t);return e?n.map((r,i)=>i===n.length-1?r.pathname:r.pathnameBase):n.map(r=>r.pathnameBase)}function OS(t,e,n,r){r===void 0&&(r=!1);let i;typeof t=="string"?i=Rc(t):(i=yf({},t),Kn(!i.pathname||!i.pathname.includes("?"),lg("?","pathname","search",i)),Kn(!i.pathname||!i.pathname.includes("#"),lg("#","pathname","hash",i)),Kn(!i.search||!i.search.includes("#"),lg("#","search","hash",i)));let s=t===""||i.pathname==="",o=s?"/":i.pathname,a;if(o==null)a=n;else{let d=e.length-1;if(!r&&o.startsWith("..")){let g=o.split("/");for(;g[0]==="..";)g.shift(),d-=1;i.pathname=g.join("/")}a=d>=0?e[d]:"/"}let l=l7(i,a),u=o&&o!=="/"&&o.endsWith("/"),c=(s||o===".")&&n.endsWith("/");return!l.pathname.endsWith("/")&&(u||c)&&(l.pathname+="/"),l}const Xa=t=>t.join("/").replace(/\/\/+/g,"/"),h7=t=>t.replace(/\/+$/,"").replace(/^\/*/,"/"),f7=t=>!t||t==="?"?"":t.startsWith("?")?t:"?"+t,d7=t=>!t||t==="#"?"":t.startsWith("#")?t:"#"+t;function p7(t){return t!=null&&typeof t.status=="number"&&typeof t.statusText=="string"&&typeof t.internal=="boolean"&&"data"in t}const VS=["post","put","patch","delete"];new Set(VS);const m7=["get",...VS];new Set(m7);/**
 * React Router v6.30.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function vf(){return vf=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},vf.apply(this,arguments)}const Ym=G.createContext(null),BS=G.createContext(null),fl=G.createContext(null),Xm=G.createContext(null),pu=G.createContext({outlet:null,matches:[],isDataRoute:!1}),US=G.createContext(null);function g7(t,e){let{relative:n}=e===void 0?{}:e;qf()||Kn(!1);let{basename:r,navigator:i}=G.useContext(fl),{hash:s,pathname:o,search:a}=Jm(t,{relative:n}),l=o;return r!=="/"&&(l=o==="/"?r:Xa([r,o])),i.createHref({pathname:l,search:a,hash:s})}function qf(){return G.useContext(Xm)!=null}function jc(){return qf()||Kn(!1),G.useContext(Xm).location}function zS(t){G.useContext(fl).static||G.useLayoutEffect(t)}function qS(){let{isDataRoute:t}=G.useContext(pu);return t?P7():y7()}function y7(){qf()||Kn(!1);let t=G.useContext(Ym),{basename:e,future:n,navigator:r}=G.useContext(fl),{matches:i}=G.useContext(pu),{pathname:s}=jc(),o=JSON.stringify(FS(i,n.v7_relativeSplatPath)),a=G.useRef(!1);return zS(()=>{a.current=!0}),G.useCallback(function(u,c){if(c===void 0&&(c={}),!a.current)return;if(typeof u=="number"){r.go(u);return}let d=OS(u,JSON.parse(o),s,c.relative==="path");t==null&&e!=="/"&&(d.pathname=d.pathname==="/"?e:Xa([e,d.pathname])),(c.replace?r.replace:r.push)(d,c.state,c)},[e,r,o,s,t])}function Jm(t,e){let{relative:n}=e===void 0?{}:e,{future:r}=G.useContext(fl),{matches:i}=G.useContext(pu),{pathname:s}=jc(),o=JSON.stringify(FS(i,r.v7_relativeSplatPath));return G.useMemo(()=>OS(t,JSON.parse(o),s,n==="path"),[t,o,s,n])}function v7(t,e){return w7(t,e)}function w7(t,e,n,r){qf()||Kn(!1);let{navigator:i}=G.useContext(fl),{matches:s}=G.useContext(pu),o=s[s.length-1],a=o?o.params:{};o&&o.pathname;let l=o?o.pathnameBase:"/";o&&o.route;let u=jc(),c;if(e){var d;let A=typeof e=="string"?Rc(e):e;l==="/"||(d=A.pathname)!=null&&d.startsWith(l)||Kn(!1),c=A}else c=u;let g=c.pathname||"/",m=g;if(l!=="/"){let A=l.replace(/^\//,"").split("/");m="/"+g.replace(/^\//,"").split("/").slice(A.length).join("/")}let b=Kk(t,{pathname:m}),x=A7(b&&b.map(A=>Object.assign({},A,{params:Object.assign({},a,A.params),pathname:Xa([l,i.encodeLocation?i.encodeLocation(A.pathname).pathname:A.pathname]),pathnameBase:A.pathnameBase==="/"?l:Xa([l,i.encodeLocation?i.encodeLocation(A.pathnameBase).pathname:A.pathnameBase])})),s,n,r);return e&&x?G.createElement(Xm.Provider,{value:{location:vf({pathname:"/",search:"",hash:"",state:null,key:"default"},c),navigationType:Va.Pop}},x):x}function x7(){let t=C7(),e=p7(t)?t.status+" "+t.statusText:t instanceof Error?t.message:JSON.stringify(t),n=t instanceof Error?t.stack:null,i={padding:"0.5rem",backgroundColor:"rgba(200,200,200, 0.5)"};return G.createElement(G.Fragment,null,G.createElement("h2",null,"Unexpected Application Error!"),G.createElement("h3",{style:{fontStyle:"italic"}},e),n?G.createElement("pre",{style:i},n):null,null)}const b7=G.createElement(x7,null);class _7 extends G.Component{constructor(e){super(e),this.state={location:e.location,revalidation:e.revalidation,error:e.error}}static getDerivedStateFromError(e){return{error:e}}static getDerivedStateFromProps(e,n){return n.location!==e.location||n.revalidation!=="idle"&&e.revalidation==="idle"?{error:e.error,location:e.location,revalidation:e.revalidation}:{error:e.error!==void 0?e.error:n.error,location:n.location,revalidation:e.revalidation||n.revalidation}}componentDidCatch(e,n){console.error("React Router caught the following error during render",e,n)}render(){return this.state.error!==void 0?G.createElement(pu.Provider,{value:this.props.routeContext},G.createElement(US.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function S7(t){let{routeContext:e,match:n,children:r}=t,i=G.useContext(Ym);return i&&i.static&&i.staticContext&&(n.route.errorElement||n.route.ErrorBoundary)&&(i.staticContext._deepestRenderedBoundaryId=n.route.id),G.createElement(pu.Provider,{value:e},r)}function A7(t,e,n,r){var i;if(e===void 0&&(e=[]),n===void 0&&(n=null),r===void 0&&(r=null),t==null){var s;if(!n)return null;if(n.errors)t=n.matches;else if((s=r)!=null&&s.v7_partialHydration&&e.length===0&&!n.initialized&&n.matches.length>0)t=n.matches;else return null}let o=t,a=(i=n)==null?void 0:i.errors;if(a!=null){let c=o.findIndex(d=>d.route.id&&(a==null?void 0:a[d.route.id])!==void 0);c>=0||Kn(!1),o=o.slice(0,Math.min(o.length,c+1))}let l=!1,u=-1;if(n&&r&&r.v7_partialHydration)for(let c=0;c<o.length;c++){let d=o[c];if((d.route.HydrateFallback||d.route.hydrateFallbackElement)&&(u=c),d.route.id){let{loaderData:g,errors:m}=n,b=d.route.loader&&g[d.route.id]===void 0&&(!m||m[d.route.id]===void 0);if(d.route.lazy||b){l=!0,u>=0?o=o.slice(0,u+1):o=[o[0]];break}}}return o.reduceRight((c,d,g)=>{let m,b=!1,x=null,A=null;n&&(m=a&&d.route.id?a[d.route.id]:void 0,x=d.route.errorElement||b7,l&&(u<0&&g===0?(k7("route-fallback"),b=!0,A=null):u===g&&(b=!0,A=d.route.hydrateFallbackElement||null)));let v=e.concat(o.slice(0,g+1)),_=()=>{let E;return m?E=x:b?E=A:d.route.Component?E=G.createElement(d.route.Component,null):d.route.element?E=d.route.element:E=c,G.createElement(S7,{match:d,routeContext:{outlet:c,matches:v,isDataRoute:n!=null},children:E})};return n&&(d.route.ErrorBoundary||d.route.errorElement||g===0)?G.createElement(_7,{location:n.location,revalidation:n.revalidation,component:x,error:m,children:_(),routeContext:{outlet:null,matches:v,isDataRoute:!0}}):_()},null)}var $S=function(t){return t.UseBlocker="useBlocker",t.UseRevalidator="useRevalidator",t.UseNavigateStable="useNavigate",t}($S||{}),HS=function(t){return t.UseBlocker="useBlocker",t.UseLoaderData="useLoaderData",t.UseActionData="useActionData",t.UseRouteError="useRouteError",t.UseNavigation="useNavigation",t.UseRouteLoaderData="useRouteLoaderData",t.UseMatches="useMatches",t.UseRevalidator="useRevalidator",t.UseNavigateStable="useNavigate",t.UseRouteId="useRouteId",t}(HS||{});function N7(t){let e=G.useContext(Ym);return e||Kn(!1),e}function E7(t){let e=G.useContext(BS);return e||Kn(!1),e}function T7(t){let e=G.useContext(pu);return e||Kn(!1),e}function WS(t){let e=T7(),n=e.matches[e.matches.length-1];return n.route.id||Kn(!1),n.route.id}function C7(){var t;let e=G.useContext(US),n=E7(),r=WS();return e!==void 0?e:(t=n.errors)==null?void 0:t[r]}function P7(){let{router:t}=N7($S.UseNavigateStable),e=WS(HS.UseNavigateStable),n=G.useRef(!1);return zS(()=>{n.current=!0}),G.useCallback(function(i,s){s===void 0&&(s={}),n.current&&(typeof i=="number"?t.navigate(i):t.navigate(i,vf({fromRouteId:e},s)))},[t,e])}const Ex={};function k7(t,e,n){Ex[t]||(Ex[t]=!0)}function I7(t,e){t==null||t.v7_startTransition,t==null||t.v7_relativeSplatPath}function Ni(t){Kn(!1)}function L7(t){let{basename:e="/",children:n=null,location:r,navigationType:i=Va.Pop,navigator:s,static:o=!1,future:a}=t;qf()&&Kn(!1);let l=e.replace(/^\/*/,"/"),u=G.useMemo(()=>({basename:l,navigator:s,static:o,future:vf({v7_relativeSplatPath:!1},a)}),[l,a,s,o]);typeof r=="string"&&(r=Rc(r));let{pathname:c="/",search:d="",hash:g="",state:m=null,key:b="default"}=r,x=G.useMemo(()=>{let A=xc(c,l);return A==null?null:{location:{pathname:A,search:d,hash:g,state:m,key:b},navigationType:i}},[l,c,d,g,m,b,i]);return x==null?null:G.createElement(fl.Provider,{value:u},G.createElement(Xm.Provider,{children:n,value:x}))}function R7(t){let{children:e,location:n}=t;return v7(t2(e),n)}new Promise(()=>{});function t2(t,e){e===void 0&&(e=[]);let n=[];return G.Children.forEach(t,(r,i)=>{if(!G.isValidElement(r))return;let s=[...e,i];if(r.type===G.Fragment){n.push.apply(n,t2(r.props.children,s));return}r.type!==Ni&&Kn(!1),!r.props.index||!r.props.children||Kn(!1);let o={id:r.props.id||s.join("-"),caseSensitive:r.props.caseSensitive,element:r.props.element,Component:r.props.Component,index:r.props.index,path:r.props.path,loader:r.props.loader,action:r.props.action,errorElement:r.props.errorElement,ErrorBoundary:r.props.ErrorBoundary,hasErrorBoundary:r.props.ErrorBoundary!=null||r.props.errorElement!=null,shouldRevalidate:r.props.shouldRevalidate,handle:r.props.handle,lazy:r.props.lazy};r.props.children&&(o.children=t2(r.props.children,s)),n.push(o)}),n}/**
 * React Router DOM v6.30.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function om(){return om=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},om.apply(this,arguments)}function GS(t,e){if(t==null)return{};var n={},r=Object.keys(t),i,s;for(s=0;s<r.length;s++)i=r[s],!(e.indexOf(i)>=0)&&(n[i]=t[i]);return n}function j7(t){return!!(t.metaKey||t.altKey||t.ctrlKey||t.shiftKey)}function D7(t,e){return t.button===0&&(!e||e==="_self")&&!j7(t)}const M7=["onClick","relative","reloadDocument","replace","state","target","to","preventScrollReset","viewTransition"],F7=["aria-current","caseSensitive","className","end","style","to","viewTransition","children"],O7="6";try{window.__reactRouterVersion=O7}catch{}const V7=G.createContext({isTransitioning:!1}),B7="startTransition",Tx=RC[B7];function U7(t){let{basename:e,children:n,future:r,window:i}=t,s=G.useRef();s.current==null&&(s.current=Hk({window:i,v5Compat:!0}));let o=s.current,[a,l]=G.useState({action:o.action,location:o.location}),{v7_startTransition:u}=r||{},c=G.useCallback(d=>{u&&Tx?Tx(()=>l(d)):l(d)},[l,u]);return G.useLayoutEffect(()=>o.listen(c),[o,c]),G.useEffect(()=>I7(r),[r]),G.createElement(L7,{basename:e,children:n,location:a.location,navigationType:a.action,navigator:o,future:r})}const z7=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",q7=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,tv=G.forwardRef(function(e,n){let{onClick:r,relative:i,reloadDocument:s,replace:o,state:a,target:l,to:u,preventScrollReset:c,viewTransition:d}=e,g=GS(e,M7),{basename:m}=G.useContext(fl),b,x=!1;if(typeof u=="string"&&q7.test(u)&&(b=u,z7))try{let E=new URL(window.location.href),L=u.startsWith("//")?new URL(E.protocol+u):new URL(u),z=xc(L.pathname,m);L.origin===E.origin&&z!=null?u=z+L.search+L.hash:x=!0}catch{}let A=g7(u,{relative:i}),v=H7(u,{replace:o,state:a,target:l,preventScrollReset:c,relative:i,viewTransition:d});function _(E){r&&r(E),E.defaultPrevented||v(E)}return G.createElement("a",om({},g,{href:b||A,onClick:x||s?r:_,ref:n,target:l}))}),Cx=G.forwardRef(function(e,n){let{"aria-current":r="page",caseSensitive:i=!1,className:s="",end:o=!1,style:a,to:l,viewTransition:u,children:c}=e,d=GS(e,F7),g=Jm(l,{relative:d.relative}),m=jc(),b=G.useContext(BS),{navigator:x,basename:A}=G.useContext(fl),v=b!=null&&W7(g)&&u===!0,_=x.encodeLocation?x.encodeLocation(g).pathname:g.pathname,E=m.pathname,L=b&&b.navigation&&b.navigation.location?b.navigation.location.pathname:null;i||(E=E.toLowerCase(),L=L?L.toLowerCase():null,_=_.toLowerCase()),L&&A&&(L=xc(L,A)||L);const z=_!=="/"&&_.endsWith("/")?_.length-1:_.length;let Y=E===_||!o&&E.startsWith(_)&&E.charAt(z)==="/",R=L!=null&&(L===_||!o&&L.startsWith(_)&&L.charAt(_.length)==="/"),C={isActive:Y,isPending:R,isTransitioning:v},k=Y?r:void 0,M;typeof s=="function"?M=s(C):M=[s,Y?"active":null,R?"pending":null,v?"transitioning":null].filter(Boolean).join(" ");let T=typeof a=="function"?a(C):a;return G.createElement(tv,om({},d,{"aria-current":k,className:M,ref:n,style:T,to:l,viewTransition:u}),typeof c=="function"?c(C):c)});var n2;(function(t){t.UseScrollRestoration="useScrollRestoration",t.UseSubmit="useSubmit",t.UseSubmitFetcher="useSubmitFetcher",t.UseFetcher="useFetcher",t.useViewTransitionState="useViewTransitionState"})(n2||(n2={}));var Px;(function(t){t.UseFetcher="useFetcher",t.UseFetchers="useFetchers",t.UseScrollRestoration="useScrollRestoration"})(Px||(Px={}));function $7(t){let e=G.useContext(Ym);return e||Kn(!1),e}function H7(t,e){let{target:n,replace:r,state:i,preventScrollReset:s,relative:o,viewTransition:a}=e===void 0?{}:e,l=qS(),u=jc(),c=Jm(t,{relative:o});return G.useCallback(d=>{if(D7(d,n)){d.preventDefault();let g=r!==void 0?r:sm(u)===sm(c);l(t,{replace:g,state:i,preventScrollReset:s,relative:o,viewTransition:a})}},[u,l,c,r,i,n,t,s,o,a])}function W7(t,e){e===void 0&&(e={});let n=G.useContext(V7);n==null&&Kn(!1);let{basename:r}=$7(n2.useViewTransitionState),i=Jm(t,{relative:e.relative});if(!n.isTransitioning)return!1;let s=xc(n.currentLocation.pathname,r)||n.currentLocation.pathname,o=xc(n.nextLocation.pathname,r)||n.nextLocation.pathname;return e2(i.pathname,o)!=null||e2(i.pathname,s)!=null}var KS={color:void 0,size:void 0,className:void 0,style:void 0,attr:void 0},kx=Zt.createContext&&Zt.createContext(KS),G7=["attr","size","title"];function K7(t,e){if(t==null)return{};var n=Q7(t,e),r,i;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(i=0;i<s.length;i++)r=s[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function Q7(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}function am(){return am=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},am.apply(this,arguments)}function Ix(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function lm(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?Ix(Object(n),!0).forEach(function(r){Y7(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):Ix(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Y7(t,e,n){return e=X7(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function X7(t){var e=J7(t,"string");return typeof e=="symbol"?e:e+""}function J7(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function QS(t){return t&&t.map((e,n)=>Zt.createElement(e.tag,lm({key:n},e.attr),QS(e.child)))}function vi(t){return e=>Zt.createElement(Z7,am({attr:lm({},t.attr)},e),QS(t.child))}function Z7(t){var e=n=>{var{attr:r,size:i,title:s}=t,o=K7(t,G7),a=i||n.size||"1em",l;return n.className&&(l=n.className),t.className&&(l=(l?l+" ":"")+t.className),Zt.createElement("svg",am({stroke:"currentColor",fill:"currentColor",strokeWidth:"0"},n.attr,r,o,{className:l,style:lm(lm({color:t.color||n.color},n.style),t.style),height:a,width:a,xmlns:"http://www.w3.org/2000/svg"}),s&&Zt.createElement("title",null,s),t.children)};return kx!==void 0?Zt.createElement(kx.Consumer,null,n=>e(n)):e(KS)}function eI(t){return vi({attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M16 132h416c8.837 0 16-7.163 16-16V76c0-8.837-7.163-16-16-16H16C7.163 60 0 67.163 0 76v40c0 8.837 7.163 16 16 16zm0 160h416c8.837 0 16-7.163 16-16v-40c0-8.837-7.163-16-16-16H16c-8.837 0-16 7.163-16 16v40c0 8.837 7.163 16 16 16zm0 160h416c8.837 0 16-7.163 16-16v-40c0-8.837-7.163-16-16-16H16c-8.837 0-16 7.163-16 16v40c0 8.837 7.163 16 16 16z"},child:[]}]})(t)}function tI(t){return vi({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M332.8 320h38.4c6.4 0 12.8-6.4 12.8-12.8V172.8c0-6.4-6.4-12.8-12.8-12.8h-38.4c-6.4 0-12.8 6.4-12.8 12.8v134.4c0 6.4 6.4 12.8 12.8 12.8zm96 0h38.4c6.4 0 12.8-6.4 12.8-12.8V76.8c0-6.4-6.4-12.8-12.8-12.8h-38.4c-6.4 0-12.8 6.4-12.8 12.8v230.4c0 6.4 6.4 12.8 12.8 12.8zm-288 0h38.4c6.4 0 12.8-6.4 12.8-12.8v-70.4c0-6.4-6.4-12.8-12.8-12.8h-38.4c-6.4 0-12.8 6.4-12.8 12.8v70.4c0 6.4 6.4 12.8 12.8 12.8zm96 0h38.4c6.4 0 12.8-6.4 12.8-12.8V108.8c0-6.4-6.4-12.8-12.8-12.8h-38.4c-6.4 0-12.8 6.4-12.8 12.8v198.4c0 6.4 6.4 12.8 12.8 12.8zM496 384H64V80c0-8.84-7.16-16-16-16H16C7.16 64 0 71.16 0 80v336c0 17.67 14.33 32 32 32h464c8.84 0 16-7.16 16-16v-32c0-8.84-7.16-16-16-16z"},child:[]}]})(t)}function nI(t){return vi({attr:{viewBox:"0 0 320 512"},child:[{tag:"path",attr:{d:"M34.52 239.03L228.87 44.69c9.37-9.37 24.57-9.37 33.94 0l22.67 22.67c9.36 9.36 9.37 24.52.04 33.9L131.49 256l154.02 154.75c9.34 9.38 9.32 24.54-.04 33.9l-22.67 22.67c-9.37 9.37-24.57 9.37-33.94 0L34.52 272.97c-9.37-9.37-9.37-24.57 0-33.94z"},child:[]}]})(t)}function rI(t){return vi({attr:{viewBox:"0 0 384 512"},child:[{tag:"path",attr:{d:"M336 64h-80c0-35.3-28.7-64-64-64s-64 28.7-64 64H48C21.5 64 0 85.5 0 112v352c0 26.5 21.5 48 48 48h288c26.5 0 48-21.5 48-48V112c0-26.5-21.5-48-48-48zM96 424c-13.3 0-24-10.7-24-24s10.7-24 24-24 24 10.7 24 24-10.7 24-24 24zm0-96c-13.3 0-24-10.7-24-24s10.7-24 24-24 24 10.7 24 24-10.7 24-24 24zm0-96c-13.3 0-24-10.7-24-24s10.7-24 24-24 24 10.7 24 24-10.7 24-24 24zm96-192c13.3 0 24 10.7 24 24s-10.7 24-24 24-24-10.7-24-24 10.7-24 24-24zm128 368c0 4.4-3.6 8-8 8H168c-4.4 0-8-3.6-8-8v-16c0-4.4 3.6-8 8-8h144c4.4 0 8 3.6 8 8v16zm0-96c0 4.4-3.6 8-8 8H168c-4.4 0-8-3.6-8-8v-16c0-4.4 3.6-8 8-8h144c4.4 0 8 3.6 8 8v16zm0-96c0 4.4-3.6 8-8 8H168c-4.4 0-8-3.6-8-8v-16c0-4.4 3.6-8 8-8h144c4.4 0 8 3.6 8 8v16z"},child:[]}]})(t)}function iI(t){return vi({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M487.4 315.7l-42.6-24.6c4.3-23.2 4.3-47 0-70.2l42.6-24.6c4.9-2.8 7.1-8.6 5.5-14-11.1-35.6-30-67.8-54.7-94.6-3.8-4.1-10-5.1-14.8-2.3L380.8 110c-17.9-15.4-38.5-27.3-60.8-35.1V25.8c0-5.6-3.9-10.5-9.4-11.7-36.7-8.2-74.3-7.8-109.2 0-5.5 1.2-9.4 6.1-9.4 11.7V75c-22.2 7.9-42.8 19.8-60.8 35.1L88.7 85.5c-4.9-2.8-11-1.9-14.8 2.3-24.7 26.7-43.6 58.9-54.7 94.6-1.7 5.4.6 11.2 5.5 14L67.3 221c-4.3 23.2-4.3 47 0 70.2l-42.6 24.6c-4.9 2.8-7.1 8.6-5.5 14 11.1 35.6 30 67.8 54.7 94.6 3.8 4.1 10 5.1 14.8 2.3l42.6-24.6c17.9 15.4 38.5 27.3 60.8 35.1v49.2c0 5.6 3.9 10.5 9.4 11.7 36.7 8.2 74.3 7.8 109.2 0 5.5-1.2 9.4-6.1 9.4-11.7v-49.2c22.2-7.9 42.8-19.8 60.8-35.1l42.6 24.6c4.9 2.8 11 1.9 14.8-2.3 24.7-26.7 43.6-58.9 54.7-94.6 1.5-5.5-.7-11.3-5.6-14.1zM256 336c-44.1 0-80-35.9-80-80s35.9-80 80-80 80 35.9 80 80-35.9 80-80 80z"},child:[]}]})(t)}function sI(t){return vi({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M288 130.54V112h16c8.84 0 16-7.16 16-16V80c0-8.84-7.16-16-16-16h-96c-8.84 0-16 7.16-16 16v16c0 8.84 7.16 16 16 16h16v18.54C115.49 146.11 32 239.18 32 352h448c0-112.82-83.49-205.89-192-221.46zM496 384H16c-8.84 0-16 7.16-16 16v32c0 8.84 7.16 16 16 16h480c8.84 0 16-7.16 16-16v-32c0-8.84-7.16-16-16-16z"},child:[]}]})(t)}function oI(t){return vi({attr:{viewBox:"0 0 384 512"},child:[{tag:"path",attr:{d:"M377 105L279.1 7c-4.5-4.5-10.6-7-17-7H256v128h128v-6.1c0-6.3-2.5-12.4-7-16.9zm-153 31V0H24C10.7 0 0 10.7 0 24v464c0 13.3 10.7 24 24 24h336c13.3 0 24-10.7 24-24V160H248c-13.2 0-24-10.8-24-24zM64 72c0-4.42 3.58-8 8-8h80c4.42 0 8 3.58 8 8v16c0 4.42-3.58 8-8 8H72c-4.42 0-8-3.58-8-8V72zm0 80v-16c0-4.42 3.58-8 8-8h80c4.42 0 8 3.58 8 8v16c0 4.42-3.58 8-8 8H72c-4.42 0-8-3.58-8-8zm144 263.88V440c0 4.42-3.58 8-8 8h-16c-4.42 0-8-3.58-8-8v-24.29c-11.29-.58-22.27-4.52-31.37-11.35-3.9-2.93-4.1-8.77-.57-12.14l11.75-11.21c2.77-2.64 6.89-2.76 10.13-.73 3.87 2.42 8.26 3.72 12.82 3.72h28.11c6.5 0 11.8-5.92 11.8-13.19 0-5.95-3.61-11.19-8.77-12.73l-45-13.5c-18.59-5.58-31.58-23.42-31.58-43.39 0-24.52 19.05-44.44 42.67-45.07V232c0-4.42 3.58-8 8-8h16c4.42 0 8 3.58 8 8v24.29c11.29.58 22.27 4.51 31.37 11.35 3.9 2.93 4.1 8.77.57 12.14l-11.75 11.21c-2.77 2.64-6.89 2.76-10.13.73-3.87-2.43-8.26-3.72-12.82-3.72h-28.11c-6.5 0-11.8 5.92-11.8 13.19 0 5.95 3.61 11.19 8.77 12.73l45 13.5c18.59 5.58 31.58 23.42 31.58 43.39 0 24.53-19.05 44.44-42.67 45.07z"},child:[]}]})(t)}function aI(t){return vi({attr:{viewBox:"0 0 384 512"},child:[{tag:"path",attr:{d:"M181.9 256.1c-5-16-4.9-46.9-2-46.9 8.4 0 7.6 36.9 2 46.9zm-1.7 47.2c-7.7 20.2-17.3 43.3-28.4 62.7 18.3-7 39-17.2 62.9-21.9-12.7-9.6-24.9-23.4-34.5-40.8zM86.1 428.1c0 .8 13.2-5.4 34.9-40.2-6.7 6.3-29.1 24.5-34.9 40.2zM248 160h136v328c0 13.3-10.7 24-24 24H24c-13.3 0-24-10.7-24-24V24C0 10.7 10.7 0 24 0h200v136c0 13.2 10.8 24 24 24zm-8 171.8c-20-12.2-33.3-29-42.7-53.8 4.5-18.5 11.6-46.6 6.2-64.2-4.7-29.4-42.4-26.5-47.8-6.8-5 18.3-.4 44.1 8.1 77-11.6 27.6-28.7 64.6-40.8 85.8-.1 0-.1.1-.2.1-27.1 13.9-73.6 44.5-54.5 68 5.6 6.9 16 10 21.5 10 17.9 0 35.7-18 61.1-61.8 25.8-8.5 54.1-19.1 79-23.2 21.7 11.8 47.1 19.5 64 19.5 29.2 0 31.2-32 19.7-43.4-13.9-13.6-54.3-9.7-73.6-7.2zM377 105L279 7c-4.5-4.5-10.6-7-17-7h-6v128h128v-6.1c0-6.3-2.5-12.4-7-16.9zm-74.1 255.3c4.1-2.7-2.5-11.9-42.8-9 37.1 15.8 42.8 9 42.8 9z"},child:[]}]})(t)}function lI(t){return vi({attr:{viewBox:"0 0 576 512"},child:[{tag:"path",attr:{d:"M280.37 148.26L96 300.11V464a16 16 0 0 0 16 16l112.06-.29a16 16 0 0 0 15.92-16V368a16 16 0 0 1 16-16h64a16 16 0 0 1 16 16v95.64a16 16 0 0 0 16 16.05L464 480a16 16 0 0 0 16-16V300L295.67 148.26a12.19 12.19 0 0 0-15.3 0zM571.6 251.47L488 182.56V44.05a12 12 0 0 0-12-12h-56a12 12 0 0 0-12 12v72.61L318.47 43a48 48 0 0 0-61 0L4.34 251.47a12 12 0 0 0-1.6 16.9l25.5 31A12 12 0 0 0 45.15 301l235.22-193.74a12.19 12.19 0 0 1 15.3 0L530.9 301a12 12 0 0 0 16.9-1.6l25.5-31a12 12 0 0 0-1.7-16.93z"},child:[]}]})(t)}function uI(t){return vi({attr:{viewBox:"0 0 576 512"},child:[{tag:"path",attr:{d:"M567.938 243.908L462.25 85.374A48.003 48.003 0 0 0 422.311 64H153.689a48 48 0 0 0-39.938 21.374L8.062 243.908A47.994 47.994 0 0 0 0 270.533V400c0 26.51 21.49 48 48 48h480c26.51 0 48-21.49 48-48V270.533a47.994 47.994 0 0 0-8.062-26.625zM162.252 128h251.497l85.333 128H376l-32 64H232l-32-64H76.918l85.334-128z"},child:[]}]})(t)}function cI(t){return vi({attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M424.4 214.7L72.4 6.6C43.8-10.3 0 6.1 0 47.9V464c0 37.5 40.7 60.1 72.4 41.3l352-208c31.4-18.5 31.5-64.1 0-82.6z"},child:[]}]})(t)}function hI(t){return vi({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M497 273L329 441c-15 15-41 4.5-41-17v-96H152c-13.3 0-24-10.7-24-24v-96c0-13.3 10.7-24 24-24h136V88c0-21.4 25.9-32 41-17l168 168c9.3 9.4 9.3 24.6 0 34zM192 436v-40c0-6.6-5.4-12-12-12H96c-17.7 0-32-14.3-32-32V160c0-17.7 14.3-32 32-32h84c6.6 0 12-5.4 12-12V76c0-6.6-5.4-12-12-12H96c-53 0-96 43-96 96v192c0 53 43 96 96 96h84c6.6 0 12-5.4 12-12z"},child:[]}]})(t)}function fI(t){return vi({attr:{viewBox:"0 0 496 512"},child:[{tag:"path",attr:{d:"M248 8C111 8 0 119 0 256s111 248 248 248 248-111 248-248S385 8 248 8zm0 96c48.6 0 88 39.4 88 88s-39.4 88-88 88-88-39.4-88-88 39.4-88 88-88zm0 344c-58.7 0-111.3-26.6-146.5-68.2 18.8-35.4 55.6-59.8 98.5-59.8 2.4 0 4.8.4 7.1 1.1 13 4.2 26.6 6.9 40.9 6.9 14.3 0 28-2.7 40.9-6.9 2.3-.7 4.7-1.1 7.1-1.1 42.9 0 79.7 24.4 98.5 59.8C359.3 421.4 306.7 448 248 448z"},child:[]}]})(t)}function dI(t){return vi({attr:{viewBox:"0 0 640 512"},child:[{tag:"path",attr:{d:"M96 224c35.3 0 64-28.7 64-64s-28.7-64-64-64-64 28.7-64 64 28.7 64 64 64zm448 0c35.3 0 64-28.7 64-64s-28.7-64-64-64-64 28.7-64 64 28.7 64 64 64zm32 32h-64c-17.6 0-33.5 7.1-45.1 18.6 40.3 22.1 68.9 62 75.1 109.4h66c17.7 0 32-14.3 32-32v-32c0-35.3-28.7-64-64-64zm-256 0c61.9 0 112-50.1 112-112S381.9 32 320 32 208 82.1 208 144s50.1 112 112 112zm76.8 32h-8.3c-20.8 10-43.9 16-68.5 16s-47.6-6-68.5-16h-8.3C179.6 288 128 339.6 128 403.2V432c0 26.5 21.5 48 48 48h288c26.5 0 48-21.5 48-48v-28.8c0-63.6-51.6-115.2-115.2-115.2zm-223.7-13.4C161.5 263.1 145.6 256 128 256H64c-35.3 0-64 28.7-64 64v32c0 17.7 14.3 32 32 32h65.9c6.3-47.4 34.9-87.3 75.2-109.4z"},child:[]}]})(t)}function pI(t){return vi({attr:{viewBox:"0 0 416 512"},child:[{tag:"path",attr:{d:"M207.9 15.2c.8 4.7 16.1 94.5 16.1 128.8 0 52.3-27.8 89.6-68.9 104.6L168 486.7c.7 13.7-10.2 25.3-24 25.3H80c-13.7 0-24.7-11.5-24-25.3l12.9-238.1C27.7 233.6 0 196.2 0 144 0 109.6 15.3 19.9 16.1 15.2 19.3-5.1 61.4-5.4 64 16.3v141.2c1.3 3.4 15.1 3.2 16 0 1.4-25.3 7.9-139.2 8-141.8 3.3-20.8 44.7-20.8 47.9 0 .2 2.7 6.6 116.5 8 141.8.9 3.2 14.8 3.4 16 0V16.3c2.6-21.6 44.8-21.4 48-1.1zm119.2 285.7l-15 185.1c-1.2 14 9.9 26 23.9 26h56c13.3 0 24-10.7 24-24V24c0-13.2-10.7-24-24-24-82.5 0-221.4 178.5-64.9 300.9z"},child:[]}]})(t)}const mI=(t,e)=>{G.useEffect(()=>{const n=r=>{t.current&&!t.current.contains(r.target)&&e()};return document.addEventListener("mousedown",n),()=>{document.removeEventListener("mousedown",n)}},[t,e])},gI=[{path:"/",label:"Home",icon:lI},{path:"/menu",label:"Menu",icon:pI},{path:"/billing",label:"Billing",icon:oI},{path:"/reports",label:"Reports",icon:tI},{path:"/staff",label:"Staff",icon:dI},{path:"/order",label:"Order",icon:rI},{path:"/kitchen",label:"Kitchen",icon:sI}],yI=()=>{const[t,e]=G.useState(!0),[n,r]=G.useState(!1),i=G.useRef(null);return mI(i,()=>r(!1)),G.useEffect(()=>{const s=localStorage.getItem("sidebarOpen");s!==null&&e(JSON.parse(s))},[]),G.useEffect(()=>{localStorage.setItem("sidebarOpen",JSON.stringify(t))},[t]),p.jsxs("aside",{className:`sticky top-0 h-screen bg-slate-900 text-slate-300 flex flex-col transition-all duration-300 ease-in-out ${t?"w-64":"w-20"}`,children:[p.jsx("button",{onClick:()=>e(!t),"aria-label":t?"Collapse sidebar":"Expand sidebar",className:"absolute -right-3 top-8 z-10 p-1.5 rounded-full bg-slate-800 text-slate-300 hover:bg-amber-500 hover:text-slate-900 transition-colors",children:t?p.jsx(nI,{size:14}):p.jsx(eI,{size:14})}),p.jsxs("div",{className:`flex-1 flex flex-col ${t?"overflow-y-auto overflow-x-hidden":"overflow-hidden"}`,children:[p.jsxs("div",{className:"flex items-center h-20 px-6 shrink-0",children:[p.jsx("span",{className:"text-amber-400 text-3xl",children:""}),t&&p.jsxs("div",{className:"ml-4 flex flex-col",children:[p.jsx("span",{className:"text-2xl font-bold tracking-wider text-amber-400 leading-tight",children:"MealiX"}),p.jsx("span",{className:"text-xs text-slate-500 tracking-wider mt-0.5",children:"Developed by Sinan KP"})]})]}),p.jsx("nav",{className:"px-4 space-y-2",children:gI.map(({path:s,label:o,icon:a})=>p.jsxs(Cx,{to:s,className:({isActive:l})=>`relative flex items-center rounded-lg font-medium py-3 px-4 transition-colors group
                ${l?"bg-amber-500 text-slate-900 shadow-lg":"hover:bg-slate-800 hover:text-amber-400"}`,children:[p.jsx(a,{className:"w-6 h-6 shrink-0","aria-hidden":"true"}),t&&p.jsx("span",{className:"ml-4 flex-1 whitespace-nowrap",children:o}),!t&&p.jsx("span",{className:"absolute left-full top-1/2 -translate-y-1/2 ml-4 px-3 py-1.5 bg-slate-800 text-amber-400 text-xs font-medium rounded-md opacity-0 group-hover:opacity-100 whitespace-nowrap shadow-lg transition-opacity pointer-events-none z-20",children:o})]},s))})]}),p.jsxs("div",{className:"px-4 py-4 border-t border-slate-700/50",children:[p.jsxs(Cx,{to:"/settings",className:({isActive:s})=>`relative flex items-center rounded-lg font-medium py-3 px-4 transition-colors group
            ${s?"bg-amber-500 text-slate-900 shadow-lg":"hover:bg-slate-800 hover:text-amber-400"}`,children:[p.jsx(iI,{className:"w-6 h-6 shrink-0","aria-hidden":"true"}),t&&p.jsx("span",{className:"ml-4",children:"Settings"}),!t&&p.jsx("span",{className:"absolute left-full top-1/2 -translate-y-1/2 ml-4 px-3 py-1.5 bg-slate-800 text-amber-400 text-xs font-medium rounded-md opacity-0 group-hover:opacity-100 whitespace-nowrap shadow-lg transition-opacity pointer-events-none z-20",children:"Settings"})]}),p.jsxs("div",{ref:i,className:"relative mt-2",children:[n&&p.jsxs("div",{className:`absolute bottom-full mb-2 w-56 ${t?"left-0":"left-4"} bg-slate-800 rounded-lg shadow-lg py-2 transition-all duration-300 ease-in-out transform origin-bottom ${n?"scale-100 opacity-100":"scale-95 opacity-0"}`,children:[p.jsxs("div",{className:"px-4 py-3 border-b border-slate-700",children:[p.jsx("p",{className:"font-semibold text-slate-200",children:"Manager"}),p.jsx("p",{className:"text-sm text-slate-400 truncate",children:"manager@restrogrid.com"})]}),p.jsxs("button",{className:"flex w-full items-center px-4 py-2 text-sm text-slate-300 hover:bg-slate-700 hover:text-amber-400",children:[p.jsx(fI,{className:"mr-3"})," Profile"]}),p.jsxs("button",{className:"flex w-full items-center px-4 py-2 text-sm text-red-400 hover:bg-slate-700",children:[p.jsx(hI,{className:"mr-3"})," Logout"]})]}),p.jsxs("div",{className:`mt-2 p-2 flex items-center cursor-pointer rounded-lg hover:bg-slate-800 transition-colors ${!t&&"justify-center"}`,onClick:()=>r(s=>!s),children:[p.jsx("img",{src:"https://i.pravatar.cc/48",alt:"profile",className:"w-10 h-10 rounded-full border-2 border-amber-400"}),t&&p.jsxs("div",{className:"ml-3",children:[p.jsx("p",{className:"font-semibold text-slate-200",children:"Manager"}),p.jsx("p",{className:"text-xs text-slate-400",children:"Admin"})]})]})]})]})]})},vI=()=>{const[t,e]=G.useState(navigator.onLine?"online":"offline"),[n,r]=G.useState(0),i=3,s=2500;G.useEffect(()=>{const l=()=>{setTimeout(()=>{e("online"),r(0)},1e3)},u=()=>{e("offline"),o()};return window.addEventListener("online",l),window.addEventListener("offline",u),navigator.onLine||o(),()=>{window.removeEventListener("online",l),window.removeEventListener("offline",u)}},[]);const o=()=>{let l=0;e("retrying");const u=setInterval(()=>{l++,r(l),navigator.onLine?(e("online"),r(0),clearInterval(u)):l>=i&&(e("offline"),clearInterval(u))},s)},a=()=>{e("manual_checking"),setTimeout(()=>{navigator.onLine?window.location.reload():(e("offline"),r(0))},1500)};return t==="online"?null:p.jsx("div",{className:"fixed inset-0 z-[9999] flex items-center justify-center px-4 bg-gray-900/60 backdrop-blur-sm transition-all duration-300",children:p.jsxs("div",{className:"bg-white w-full max-w-sm rounded-2xl shadow-2xl overflow-hidden transform transition-all animate-in fade-in zoom-in-95 duration-300",children:[p.jsx("div",{className:`h-2 w-full ${t==="retrying"?"bg-blue-500 animate-pulse":"bg-red-500"}`}),p.jsxs("div",{className:"p-8 flex flex-col items-center text-center",children:[p.jsxs("div",{className:"relative mb-6",children:[p.jsx("div",{className:`absolute inset-0 rounded-full opacity-20 ${t==="retrying"?"bg-blue-500 animate-ping":"bg-red-500"}`}),p.jsx("div",{className:`relative p-4 rounded-full ${t==="retrying"?"bg-blue-50 text-blue-600":"bg-red-50 text-red-600"}`,children:t==="retrying"||t==="manual_checking"?p.jsxs("svg",{className:"w-10 h-10 animate-spin",fill:"none",viewBox:"0 0 24 24",children:[p.jsx("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),p.jsx("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})]}):p.jsx("svg",{className:"w-10 h-10",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",strokeWidth:"2",children:p.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M3 3l18 18M12 18h.01M8.217 14.217a5.002 5.002 0 016.224 0M6.8 11.29a8.004 8.004 0 0110.386 0M5.39 8.373a10.004 10.004 0 0113.2 0"})})})]}),p.jsx("h2",{className:"text-2xl font-bold text-gray-800 mb-2",children:t==="retrying"?"Trying to Connect...":"No Internet Connection"}),p.jsx("p",{className:"text-gray-500 mb-8 leading-relaxed",children:t==="retrying"?`We are attempting to restore your connection automatically. (Attempt ${n}/${i})`:"Please check your Wi-Fi or mobile data settings and try again."}),p.jsxs("div",{className:"w-full space-y-3",children:[t!=="retrying"&&p.jsx("button",{onClick:a,disabled:t==="manual_checking",className:`
                  w-full py-3.5 px-6 rounded-xl font-semibold text-white shadow-lg 
                  flex items-center justify-center space-x-2 transition-all duration-200
                  ${t==="manual_checking"?"bg-gray-400 cursor-not-allowed":"bg-red-600 hover:bg-red-700 active:scale-[0.98] shadow-red-200"}
                `,children:t==="manual_checking"?p.jsxs(p.Fragment,{children:[p.jsx("span",{children:"Checking Connection"}),p.jsxs("span",{className:"flex space-x-1 ml-2",children:[p.jsx("span",{className:"w-1.5 h-1.5 bg-white rounded-full animate-bounce delay-0"}),p.jsx("span",{className:"w-1.5 h-1.5 bg-white rounded-full animate-bounce delay-100"}),p.jsx("span",{className:"w-1.5 h-1.5 bg-white rounded-full animate-bounce delay-200"})]})]}):p.jsx("span",{children:"Tap to Reconnect"})}),t==="retrying"&&p.jsx("div",{className:"w-full bg-gray-100 rounded-full h-2.5 overflow-hidden",children:p.jsx("div",{className:"bg-blue-500 h-2.5 rounded-full transition-all duration-500 ease-out",style:{width:`${n/i*100}%`}})})]})]})]})})};var Lx={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const YS=function(t){const e=[];let n=0;for(let r=0;r<t.length;r++){let i=t.charCodeAt(r);i<128?e[n++]=i:i<2048?(e[n++]=i>>6|192,e[n++]=i&63|128):(i&64512)===55296&&r+1<t.length&&(t.charCodeAt(r+1)&64512)===56320?(i=65536+((i&1023)<<10)+(t.charCodeAt(++r)&1023),e[n++]=i>>18|240,e[n++]=i>>12&63|128,e[n++]=i>>6&63|128,e[n++]=i&63|128):(e[n++]=i>>12|224,e[n++]=i>>6&63|128,e[n++]=i&63|128)}return e},wI=function(t){const e=[];let n=0,r=0;for(;n<t.length;){const i=t[n++];if(i<128)e[r++]=String.fromCharCode(i);else if(i>191&&i<224){const s=t[n++];e[r++]=String.fromCharCode((i&31)<<6|s&63)}else if(i>239&&i<365){const s=t[n++],o=t[n++],a=t[n++],l=((i&7)<<18|(s&63)<<12|(o&63)<<6|a&63)-65536;e[r++]=String.fromCharCode(55296+(l>>10)),e[r++]=String.fromCharCode(56320+(l&1023))}else{const s=t[n++],o=t[n++];e[r++]=String.fromCharCode((i&15)<<12|(s&63)<<6|o&63)}}return e.join("")},XS={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(t,e){if(!Array.isArray(t))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let i=0;i<t.length;i+=3){const s=t[i],o=i+1<t.length,a=o?t[i+1]:0,l=i+2<t.length,u=l?t[i+2]:0,c=s>>2,d=(s&3)<<4|a>>4;let g=(a&15)<<2|u>>6,m=u&63;l||(m=64,o||(g=64)),r.push(n[c],n[d],n[g],n[m])}return r.join("")},encodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(t):this.encodeByteArray(YS(t),e)},decodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(t):wI(this.decodeStringToByteArray(t,e))},decodeStringToByteArray(t,e){this.init_();const n=e?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let i=0;i<t.length;){const s=n[t.charAt(i++)],a=i<t.length?n[t.charAt(i)]:0;++i;const u=i<t.length?n[t.charAt(i)]:64;++i;const d=i<t.length?n[t.charAt(i)]:64;if(++i,s==null||a==null||u==null||d==null)throw new xI;const g=s<<2|a>>4;if(r.push(g),u!==64){const m=a<<4&240|u>>2;if(r.push(m),d!==64){const b=u<<6&192|d;r.push(b)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let t=0;t<this.ENCODED_VALS.length;t++)this.byteToCharMap_[t]=this.ENCODED_VALS.charAt(t),this.charToByteMap_[this.byteToCharMap_[t]]=t,this.byteToCharMapWebSafe_[t]=this.ENCODED_VALS_WEBSAFE.charAt(t),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[t]]=t,t>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(t)]=t,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(t)]=t)}}};class xI extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const bI=function(t){const e=YS(t);return XS.encodeByteArray(e,!0)},um=function(t){return bI(t).replace(/\./g,"")},_I=function(t){try{return XS.decodeString(t,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function SI(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const AI=()=>SI().__FIREBASE_DEFAULTS__,NI=()=>{if(typeof process>"u"||typeof Lx>"u")return;const t=Lx.__FIREBASE_DEFAULTS__;if(t)return JSON.parse(t)},EI=()=>{if(typeof document>"u")return;let t;try{t=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=t&&_I(t[1]);return e&&JSON.parse(e)},nv=()=>{try{return AI()||NI()||EI()}catch(t){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${t}`);return}},TI=t=>{var e,n;return(n=(e=nv())===null||e===void 0?void 0:e.emulatorHosts)===null||n===void 0?void 0:n[t]},CI=t=>{const e=TI(t);if(!e)return;const n=e.lastIndexOf(":");if(n<=0||n+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const r=parseInt(e.substring(n+1),10);return e[0]==="["?[e.substring(1,n-1),r]:[e.substring(0,n),r]},JS=()=>{var t;return(t=nv())===null||t===void 0?void 0:t.config};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class PI{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}wrapCallback(e){return(n,r)=>{n?this.reject(n):this.resolve(r),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(n):e(n,r))}}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function kI(t,e){if(t.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const n={alg:"none",type:"JWT"},r=e||"demo-project",i=t.iat||0,s=t.sub||t.user_id;if(!s)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const o=Object.assign({iss:`https://securetoken.google.com/${r}`,aud:r,iat:i,exp:i+3600,auth_time:i,sub:s,user_id:s,firebase:{sign_in_provider:"custom",identities:{}}},t);return[um(JSON.stringify(n)),um(JSON.stringify(o)),""].join(".")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function II(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function LI(){var t;const e=(t=nv())===null||t===void 0?void 0:t.forceEnvironment;if(e==="node")return!0;if(e==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function RI(){return!LI()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function jI(){try{return typeof indexedDB=="object"}catch{return!1}}function DI(){return new Promise((t,e)=>{try{let n=!0;const r="validate-browser-context-for-indexeddb-analytics-module",i=self.indexedDB.open(r);i.onsuccess=()=>{i.result.close(),n||self.indexedDB.deleteDatabase(r),t(!0)},i.onupgradeneeded=()=>{n=!1},i.onerror=()=>{var s;e(((s=i.error)===null||s===void 0?void 0:s.message)||"")}}catch(n){e(n)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const MI="FirebaseError";class Dc extends Error{constructor(e,n,r){super(n),this.code=e,this.customData=r,this.name=MI,Object.setPrototypeOf(this,Dc.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,ZS.prototype.create)}}class ZS{constructor(e,n,r){this.service=e,this.serviceName=n,this.errors=r}create(e,...n){const r=n[0]||{},i=`${this.service}/${e}`,s=this.errors[e],o=s?FI(s,r):"Error",a=`${this.serviceName}: ${o} (${i}).`;return new Dc(i,a,r)}}function FI(t,e){return t.replace(OI,(n,r)=>{const i=e[r];return i!=null?String(i):`<${r}?>`})}const OI=/\{\$([^}]+)}/g;function r2(t,e){if(t===e)return!0;const n=Object.keys(t),r=Object.keys(e);for(const i of n){if(!r.includes(i))return!1;const s=t[i],o=e[i];if(Rx(s)&&Rx(o)){if(!r2(s,o))return!1}else if(s!==o)return!1}for(const i of r)if(!n.includes(i))return!1;return!0}function Rx(t){return t!==null&&typeof t=="object"}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function xs(t){return t&&t._delegate?t._delegate:t}class wf{constructor(e,n,r){this.name=e,this.instanceFactory=n,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ol="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class VI{constructor(e,n){this.name=e,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const n=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(n)){const r=new PI;if(this.instancesDeferred.set(n,r),this.isInitialized(n)||this.shouldAutoInitialize())try{const i=this.getOrInitializeService({instanceIdentifier:n});i&&r.resolve(i)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(e){var n;const r=this.normalizeInstanceIdentifier(e==null?void 0:e.identifier),i=(n=e==null?void 0:e.optional)!==null&&n!==void 0?n:!1;if(this.isInitialized(r)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:r})}catch(s){if(i)return null;throw s}else{if(i)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(UI(e))try{this.getOrInitializeService({instanceIdentifier:Ol})}catch{}for(const[n,r]of this.instancesDeferred.entries()){const i=this.normalizeInstanceIdentifier(n);try{const s=this.getOrInitializeService({instanceIdentifier:i});r.resolve(s)}catch{}}}}clearInstance(e=Ol){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(n=>"INTERNAL"in n).map(n=>n.INTERNAL.delete()),...e.filter(n=>"_delete"in n).map(n=>n._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=Ol){return this.instances.has(e)}getOptions(e=Ol){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:n={}}=e,r=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(r))throw Error(`${this.name}(${r}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const i=this.getOrInitializeService({instanceIdentifier:r,options:n});for(const[s,o]of this.instancesDeferred.entries()){const a=this.normalizeInstanceIdentifier(s);r===a&&o.resolve(i)}return i}onInit(e,n){var r;const i=this.normalizeInstanceIdentifier(n),s=(r=this.onInitCallbacks.get(i))!==null&&r!==void 0?r:new Set;s.add(e),this.onInitCallbacks.set(i,s);const o=this.instances.get(i);return o&&e(o,i),()=>{s.delete(e)}}invokeOnInitCallbacks(e,n){const r=this.onInitCallbacks.get(n);if(r)for(const i of r)try{i(e,n)}catch{}}getOrInitializeService({instanceIdentifier:e,options:n={}}){let r=this.instances.get(e);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:BI(e),options:n}),this.instances.set(e,r),this.instancesOptions.set(e,n),this.invokeOnInitCallbacks(r,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,r)}catch{}return r||null}normalizeInstanceIdentifier(e=Ol){return this.component?this.component.multipleInstances?e:Ol:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function BI(t){return t===Ol?void 0:t}function UI(t){return t.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zI{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const n=this.getProvider(e.name);if(n.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);n.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const n=new VI(e,this);return this.providers.set(e,n),n}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Wt;(function(t){t[t.DEBUG=0]="DEBUG",t[t.VERBOSE=1]="VERBOSE",t[t.INFO=2]="INFO",t[t.WARN=3]="WARN",t[t.ERROR=4]="ERROR",t[t.SILENT=5]="SILENT"})(Wt||(Wt={}));const qI={debug:Wt.DEBUG,verbose:Wt.VERBOSE,info:Wt.INFO,warn:Wt.WARN,error:Wt.ERROR,silent:Wt.SILENT},$I=Wt.INFO,HI={[Wt.DEBUG]:"log",[Wt.VERBOSE]:"log",[Wt.INFO]:"info",[Wt.WARN]:"warn",[Wt.ERROR]:"error"},WI=(t,e,...n)=>{if(e<t.logLevel)return;const r=new Date().toISOString(),i=HI[e];if(i)console[i](`[${r}]  ${t.name}:`,...n);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class e8{constructor(e){this.name=e,this._logLevel=$I,this._logHandler=WI,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in Wt))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?qI[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,Wt.DEBUG,...e),this._logHandler(this,Wt.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,Wt.VERBOSE,...e),this._logHandler(this,Wt.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,Wt.INFO,...e),this._logHandler(this,Wt.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,Wt.WARN,...e),this._logHandler(this,Wt.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,Wt.ERROR,...e),this._logHandler(this,Wt.ERROR,...e)}}const GI=(t,e)=>e.some(n=>t instanceof n);let jx,Dx;function KI(){return jx||(jx=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function QI(){return Dx||(Dx=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const t8=new WeakMap,i2=new WeakMap,n8=new WeakMap,ug=new WeakMap,rv=new WeakMap;function YI(t){const e=new Promise((n,r)=>{const i=()=>{t.removeEventListener("success",s),t.removeEventListener("error",o)},s=()=>{n(Ja(t.result)),i()},o=()=>{r(t.error),i()};t.addEventListener("success",s),t.addEventListener("error",o)});return e.then(n=>{n instanceof IDBCursor&&t8.set(n,t)}).catch(()=>{}),rv.set(e,t),e}function XI(t){if(i2.has(t))return;const e=new Promise((n,r)=>{const i=()=>{t.removeEventListener("complete",s),t.removeEventListener("error",o),t.removeEventListener("abort",o)},s=()=>{n(),i()},o=()=>{r(t.error||new DOMException("AbortError","AbortError")),i()};t.addEventListener("complete",s),t.addEventListener("error",o),t.addEventListener("abort",o)});i2.set(t,e)}let s2={get(t,e,n){if(t instanceof IDBTransaction){if(e==="done")return i2.get(t);if(e==="objectStoreNames")return t.objectStoreNames||n8.get(t);if(e==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return Ja(t[e])},set(t,e,n){return t[e]=n,!0},has(t,e){return t instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in t}};function JI(t){s2=t(s2)}function ZI(t){return t===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...n){const r=t.call(cg(this),e,...n);return n8.set(r,e.sort?e.sort():[e]),Ja(r)}:QI().includes(t)?function(...e){return t.apply(cg(this),e),Ja(t8.get(this))}:function(...e){return Ja(t.apply(cg(this),e))}}function eL(t){return typeof t=="function"?ZI(t):(t instanceof IDBTransaction&&XI(t),GI(t,KI())?new Proxy(t,s2):t)}function Ja(t){if(t instanceof IDBRequest)return YI(t);if(ug.has(t))return ug.get(t);const e=eL(t);return e!==t&&(ug.set(t,e),rv.set(e,t)),e}const cg=t=>rv.get(t);function tL(t,e,{blocked:n,upgrade:r,blocking:i,terminated:s}={}){const o=indexedDB.open(t,e),a=Ja(o);return r&&o.addEventListener("upgradeneeded",l=>{r(Ja(o.result),l.oldVersion,l.newVersion,Ja(o.transaction),l)}),n&&o.addEventListener("blocked",l=>n(l.oldVersion,l.newVersion,l)),a.then(l=>{s&&l.addEventListener("close",()=>s()),i&&l.addEventListener("versionchange",u=>i(u.oldVersion,u.newVersion,u))}).catch(()=>{}),a}const nL=["get","getKey","getAll","getAllKeys","count"],rL=["put","add","delete","clear"],hg=new Map;function Mx(t,e){if(!(t instanceof IDBDatabase&&!(e in t)&&typeof e=="string"))return;if(hg.get(e))return hg.get(e);const n=e.replace(/FromIndex$/,""),r=e!==n,i=rL.includes(n);if(!(n in(r?IDBIndex:IDBObjectStore).prototype)||!(i||nL.includes(n)))return;const s=async function(o,...a){const l=this.transaction(o,i?"readwrite":"readonly");let u=l.store;return r&&(u=u.index(a.shift())),(await Promise.all([u[n](...a),i&&l.done]))[0]};return hg.set(e,s),s}JI(t=>({...t,get:(e,n,r)=>Mx(e,n)||t.get(e,n,r),has:(e,n)=>!!Mx(e,n)||t.has(e,n)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class iL{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(sL(n)){const r=n.getImmediate();return`${r.library}/${r.version}`}else return null}).filter(n=>n).join(" ")}}function sL(t){const e=t.getComponent();return(e==null?void 0:e.type)==="VERSION"}const o2="@firebase/app",Fx="0.10.13";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Jo=new e8("@firebase/app"),oL="@firebase/app-compat",aL="@firebase/analytics-compat",lL="@firebase/analytics",uL="@firebase/app-check-compat",cL="@firebase/app-check",hL="@firebase/auth",fL="@firebase/auth-compat",dL="@firebase/database",pL="@firebase/data-connect",mL="@firebase/database-compat",gL="@firebase/functions",yL="@firebase/functions-compat",vL="@firebase/installations",wL="@firebase/installations-compat",xL="@firebase/messaging",bL="@firebase/messaging-compat",_L="@firebase/performance",SL="@firebase/performance-compat",AL="@firebase/remote-config",NL="@firebase/remote-config-compat",EL="@firebase/storage",TL="@firebase/storage-compat",CL="@firebase/firestore",PL="@firebase/vertexai-preview",kL="@firebase/firestore-compat",IL="firebase",LL="10.14.1";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const a2="[DEFAULT]",RL={[o2]:"fire-core",[oL]:"fire-core-compat",[lL]:"fire-analytics",[aL]:"fire-analytics-compat",[cL]:"fire-app-check",[uL]:"fire-app-check-compat",[hL]:"fire-auth",[fL]:"fire-auth-compat",[dL]:"fire-rtdb",[pL]:"fire-data-connect",[mL]:"fire-rtdb-compat",[gL]:"fire-fn",[yL]:"fire-fn-compat",[vL]:"fire-iid",[wL]:"fire-iid-compat",[xL]:"fire-fcm",[bL]:"fire-fcm-compat",[_L]:"fire-perf",[SL]:"fire-perf-compat",[AL]:"fire-rc",[NL]:"fire-rc-compat",[EL]:"fire-gcs",[TL]:"fire-gcs-compat",[CL]:"fire-fst",[kL]:"fire-fst-compat",[PL]:"fire-vertex","fire-js":"fire-js",[IL]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const cm=new Map,jL=new Map,l2=new Map;function Ox(t,e){try{t.container.addComponent(e)}catch(n){Jo.debug(`Component ${e.name} failed to register with FirebaseApp ${t.name}`,n)}}function hm(t){const e=t.name;if(l2.has(e))return Jo.debug(`There were multiple attempts to register component ${e}.`),!1;l2.set(e,t);for(const n of cm.values())Ox(n,t);for(const n of jL.values())Ox(n,t);return!0}function DL(t,e){const n=t.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),t.container.getProvider(e)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ML={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},Za=new ZS("app","Firebase",ML);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class FL{constructor(e,n,r){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},n),this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new wf("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw Za.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const OL=LL;function r8(t,e={}){let n=t;typeof e!="object"&&(e={name:e});const r=Object.assign({name:a2,automaticDataCollectionEnabled:!1},e),i=r.name;if(typeof i!="string"||!i)throw Za.create("bad-app-name",{appName:String(i)});if(n||(n=JS()),!n)throw Za.create("no-options");const s=cm.get(i);if(s){if(r2(n,s.options)&&r2(r,s.config))return s;throw Za.create("duplicate-app",{appName:i})}const o=new zI(i);for(const l of l2.values())o.addComponent(l);const a=new FL(n,r,o);return cm.set(i,a),a}function VL(t=a2){const e=cm.get(t);if(!e&&t===a2&&JS())return r8();if(!e)throw Za.create("no-app",{appName:t});return e}function oc(t,e,n){var r;let i=(r=RL[t])!==null&&r!==void 0?r:t;n&&(i+=`-${n}`);const s=i.match(/\s|\//),o=e.match(/\s|\//);if(s||o){const a=[`Unable to register library "${i}" with version "${e}":`];s&&a.push(`library name "${i}" contains illegal characters (whitespace or "/")`),s&&o&&a.push("and"),o&&a.push(`version name "${e}" contains illegal characters (whitespace or "/")`),Jo.warn(a.join(" "));return}hm(new wf(`${i}-version`,()=>({library:i,version:e}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const BL="firebase-heartbeat-database",UL=1,xf="firebase-heartbeat-store";let fg=null;function i8(){return fg||(fg=tL(BL,UL,{upgrade:(t,e)=>{switch(e){case 0:try{t.createObjectStore(xf)}catch(n){console.warn(n)}}}}).catch(t=>{throw Za.create("idb-open",{originalErrorMessage:t.message})})),fg}async function zL(t){try{const n=(await i8()).transaction(xf),r=await n.objectStore(xf).get(s8(t));return await n.done,r}catch(e){if(e instanceof Dc)Jo.warn(e.message);else{const n=Za.create("idb-get",{originalErrorMessage:e==null?void 0:e.message});Jo.warn(n.message)}}}async function Vx(t,e){try{const r=(await i8()).transaction(xf,"readwrite");await r.objectStore(xf).put(e,s8(t)),await r.done}catch(n){if(n instanceof Dc)Jo.warn(n.message);else{const r=Za.create("idb-set",{originalErrorMessage:n==null?void 0:n.message});Jo.warn(r.message)}}}function s8(t){return`${t.name}!${t.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const qL=1024,$L=30*24*60*60*1e3;class HL{constructor(e){this.container=e,this._heartbeatsCache=null;const n=this.container.getProvider("app").getImmediate();this._storage=new GL(n),this._heartbeatsCachePromise=this._storage.read().then(r=>(this._heartbeatsCache=r,r))}async triggerHeartbeat(){var e,n;try{const i=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),s=Bx();return((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,((n=this._heartbeatsCache)===null||n===void 0?void 0:n.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===s||this._heartbeatsCache.heartbeats.some(o=>o.date===s)?void 0:(this._heartbeatsCache.heartbeats.push({date:s,agent:i}),this._heartbeatsCache.heartbeats=this._heartbeatsCache.heartbeats.filter(o=>{const a=new Date(o.date).valueOf();return Date.now()-a<=$L}),this._storage.overwrite(this._heartbeatsCache))}catch(r){Jo.warn(r)}}async getHeartbeatsHeader(){var e;try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";const n=Bx(),{heartbeatsToSend:r,unsentEntries:i}=WL(this._heartbeatsCache.heartbeats),s=um(JSON.stringify({version:2,heartbeats:r}));return this._heartbeatsCache.lastSentHeartbeatDate=n,i.length>0?(this._heartbeatsCache.heartbeats=i,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),s}catch(n){return Jo.warn(n),""}}}function Bx(){return new Date().toISOString().substring(0,10)}function WL(t,e=qL){const n=[];let r=t.slice();for(const i of t){const s=n.find(o=>o.agent===i.agent);if(s){if(s.dates.push(i.date),Ux(n)>e){s.dates.pop();break}}else if(n.push({agent:i.agent,dates:[i.date]}),Ux(n)>e){n.pop();break}r=r.slice(1)}return{heartbeatsToSend:n,unsentEntries:r}}class GL{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return jI()?DI().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const n=await zL(this.app);return n!=null&&n.heartbeats?n:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){var n;if(await this._canUseIndexedDBPromise){const i=await this.read();return Vx(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:i.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){var n;if(await this._canUseIndexedDBPromise){const i=await this.read();return Vx(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:i.lastSentHeartbeatDate,heartbeats:[...i.heartbeats,...e.heartbeats]})}else return}}function Ux(t){return um(JSON.stringify({version:2,heartbeats:t})).length}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function KL(t){hm(new wf("platform-logger",e=>new iL(e),"PRIVATE")),hm(new wf("heartbeat",e=>new HL(e),"PRIVATE")),oc(o2,Fx,t),oc(o2,Fx,"esm2017"),oc("fire-js","")}KL("");var QL="firebase",YL="10.14.1";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */oc(QL,YL,"app");var zx=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var Yl,o8;(function(){var t;/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/function e(R,C){function k(){}k.prototype=C.prototype,R.D=C.prototype,R.prototype=new k,R.prototype.constructor=R,R.C=function(M,T,I){for(var D=Array(arguments.length-2),H=2;H<arguments.length;H++)D[H-2]=arguments[H];return C.prototype[T].apply(M,D)}}function n(){this.blockSize=-1}function r(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.B=Array(this.blockSize),this.o=this.h=0,this.s()}e(r,n),r.prototype.s=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function i(R,C,k){k||(k=0);var M=Array(16);if(typeof C=="string")for(var T=0;16>T;++T)M[T]=C.charCodeAt(k++)|C.charCodeAt(k++)<<8|C.charCodeAt(k++)<<16|C.charCodeAt(k++)<<24;else for(T=0;16>T;++T)M[T]=C[k++]|C[k++]<<8|C[k++]<<16|C[k++]<<24;C=R.g[0],k=R.g[1],T=R.g[2];var I=R.g[3],D=C+(I^k&(T^I))+M[0]+3614090360&4294967295;C=k+(D<<7&4294967295|D>>>25),D=I+(T^C&(k^T))+M[1]+3905402710&4294967295,I=C+(D<<12&4294967295|D>>>20),D=T+(k^I&(C^k))+M[2]+606105819&4294967295,T=I+(D<<17&4294967295|D>>>15),D=k+(C^T&(I^C))+M[3]+3250441966&4294967295,k=T+(D<<22&4294967295|D>>>10),D=C+(I^k&(T^I))+M[4]+4118548399&4294967295,C=k+(D<<7&4294967295|D>>>25),D=I+(T^C&(k^T))+M[5]+1200080426&4294967295,I=C+(D<<12&4294967295|D>>>20),D=T+(k^I&(C^k))+M[6]+2821735955&4294967295,T=I+(D<<17&4294967295|D>>>15),D=k+(C^T&(I^C))+M[7]+4249261313&4294967295,k=T+(D<<22&4294967295|D>>>10),D=C+(I^k&(T^I))+M[8]+1770035416&4294967295,C=k+(D<<7&4294967295|D>>>25),D=I+(T^C&(k^T))+M[9]+2336552879&4294967295,I=C+(D<<12&4294967295|D>>>20),D=T+(k^I&(C^k))+M[10]+4294925233&4294967295,T=I+(D<<17&4294967295|D>>>15),D=k+(C^T&(I^C))+M[11]+2304563134&4294967295,k=T+(D<<22&4294967295|D>>>10),D=C+(I^k&(T^I))+M[12]+1804603682&4294967295,C=k+(D<<7&4294967295|D>>>25),D=I+(T^C&(k^T))+M[13]+4254626195&4294967295,I=C+(D<<12&4294967295|D>>>20),D=T+(k^I&(C^k))+M[14]+2792965006&4294967295,T=I+(D<<17&4294967295|D>>>15),D=k+(C^T&(I^C))+M[15]+1236535329&4294967295,k=T+(D<<22&4294967295|D>>>10),D=C+(T^I&(k^T))+M[1]+4129170786&4294967295,C=k+(D<<5&4294967295|D>>>27),D=I+(k^T&(C^k))+M[6]+3225465664&4294967295,I=C+(D<<9&4294967295|D>>>23),D=T+(C^k&(I^C))+M[11]+643717713&4294967295,T=I+(D<<14&4294967295|D>>>18),D=k+(I^C&(T^I))+M[0]+3921069994&4294967295,k=T+(D<<20&4294967295|D>>>12),D=C+(T^I&(k^T))+M[5]+3593408605&4294967295,C=k+(D<<5&4294967295|D>>>27),D=I+(k^T&(C^k))+M[10]+38016083&4294967295,I=C+(D<<9&4294967295|D>>>23),D=T+(C^k&(I^C))+M[15]+3634488961&4294967295,T=I+(D<<14&4294967295|D>>>18),D=k+(I^C&(T^I))+M[4]+3889429448&4294967295,k=T+(D<<20&4294967295|D>>>12),D=C+(T^I&(k^T))+M[9]+568446438&4294967295,C=k+(D<<5&4294967295|D>>>27),D=I+(k^T&(C^k))+M[14]+3275163606&4294967295,I=C+(D<<9&4294967295|D>>>23),D=T+(C^k&(I^C))+M[3]+4107603335&4294967295,T=I+(D<<14&4294967295|D>>>18),D=k+(I^C&(T^I))+M[8]+1163531501&4294967295,k=T+(D<<20&4294967295|D>>>12),D=C+(T^I&(k^T))+M[13]+2850285829&4294967295,C=k+(D<<5&4294967295|D>>>27),D=I+(k^T&(C^k))+M[2]+4243563512&4294967295,I=C+(D<<9&4294967295|D>>>23),D=T+(C^k&(I^C))+M[7]+1735328473&4294967295,T=I+(D<<14&4294967295|D>>>18),D=k+(I^C&(T^I))+M[12]+2368359562&4294967295,k=T+(D<<20&4294967295|D>>>12),D=C+(k^T^I)+M[5]+4294588738&4294967295,C=k+(D<<4&4294967295|D>>>28),D=I+(C^k^T)+M[8]+2272392833&4294967295,I=C+(D<<11&4294967295|D>>>21),D=T+(I^C^k)+M[11]+1839030562&4294967295,T=I+(D<<16&4294967295|D>>>16),D=k+(T^I^C)+M[14]+4259657740&4294967295,k=T+(D<<23&4294967295|D>>>9),D=C+(k^T^I)+M[1]+2763975236&4294967295,C=k+(D<<4&4294967295|D>>>28),D=I+(C^k^T)+M[4]+1272893353&4294967295,I=C+(D<<11&4294967295|D>>>21),D=T+(I^C^k)+M[7]+4139469664&4294967295,T=I+(D<<16&4294967295|D>>>16),D=k+(T^I^C)+M[10]+3200236656&4294967295,k=T+(D<<23&4294967295|D>>>9),D=C+(k^T^I)+M[13]+681279174&4294967295,C=k+(D<<4&4294967295|D>>>28),D=I+(C^k^T)+M[0]+3936430074&4294967295,I=C+(D<<11&4294967295|D>>>21),D=T+(I^C^k)+M[3]+3572445317&4294967295,T=I+(D<<16&4294967295|D>>>16),D=k+(T^I^C)+M[6]+76029189&4294967295,k=T+(D<<23&4294967295|D>>>9),D=C+(k^T^I)+M[9]+3654602809&4294967295,C=k+(D<<4&4294967295|D>>>28),D=I+(C^k^T)+M[12]+3873151461&4294967295,I=C+(D<<11&4294967295|D>>>21),D=T+(I^C^k)+M[15]+530742520&4294967295,T=I+(D<<16&4294967295|D>>>16),D=k+(T^I^C)+M[2]+3299628645&4294967295,k=T+(D<<23&4294967295|D>>>9),D=C+(T^(k|~I))+M[0]+4096336452&4294967295,C=k+(D<<6&4294967295|D>>>26),D=I+(k^(C|~T))+M[7]+1126891415&4294967295,I=C+(D<<10&4294967295|D>>>22),D=T+(C^(I|~k))+M[14]+2878612391&4294967295,T=I+(D<<15&4294967295|D>>>17),D=k+(I^(T|~C))+M[5]+4237533241&4294967295,k=T+(D<<21&4294967295|D>>>11),D=C+(T^(k|~I))+M[12]+1700485571&4294967295,C=k+(D<<6&4294967295|D>>>26),D=I+(k^(C|~T))+M[3]+2399980690&4294967295,I=C+(D<<10&4294967295|D>>>22),D=T+(C^(I|~k))+M[10]+4293915773&4294967295,T=I+(D<<15&4294967295|D>>>17),D=k+(I^(T|~C))+M[1]+2240044497&4294967295,k=T+(D<<21&4294967295|D>>>11),D=C+(T^(k|~I))+M[8]+1873313359&4294967295,C=k+(D<<6&4294967295|D>>>26),D=I+(k^(C|~T))+M[15]+4264355552&4294967295,I=C+(D<<10&4294967295|D>>>22),D=T+(C^(I|~k))+M[6]+2734768916&4294967295,T=I+(D<<15&4294967295|D>>>17),D=k+(I^(T|~C))+M[13]+1309151649&4294967295,k=T+(D<<21&4294967295|D>>>11),D=C+(T^(k|~I))+M[4]+4149444226&4294967295,C=k+(D<<6&4294967295|D>>>26),D=I+(k^(C|~T))+M[11]+3174756917&4294967295,I=C+(D<<10&4294967295|D>>>22),D=T+(C^(I|~k))+M[2]+718787259&4294967295,T=I+(D<<15&4294967295|D>>>17),D=k+(I^(T|~C))+M[9]+3951481745&4294967295,R.g[0]=R.g[0]+C&4294967295,R.g[1]=R.g[1]+(T+(D<<21&4294967295|D>>>11))&4294967295,R.g[2]=R.g[2]+T&4294967295,R.g[3]=R.g[3]+I&4294967295}r.prototype.u=function(R,C){C===void 0&&(C=R.length);for(var k=C-this.blockSize,M=this.B,T=this.h,I=0;I<C;){if(T==0)for(;I<=k;)i(this,R,I),I+=this.blockSize;if(typeof R=="string"){for(;I<C;)if(M[T++]=R.charCodeAt(I++),T==this.blockSize){i(this,M),T=0;break}}else for(;I<C;)if(M[T++]=R[I++],T==this.blockSize){i(this,M),T=0;break}}this.h=T,this.o+=C},r.prototype.v=function(){var R=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);R[0]=128;for(var C=1;C<R.length-8;++C)R[C]=0;var k=8*this.o;for(C=R.length-8;C<R.length;++C)R[C]=k&255,k/=256;for(this.u(R),R=Array(16),C=k=0;4>C;++C)for(var M=0;32>M;M+=8)R[k++]=this.g[C]>>>M&255;return R};function s(R,C){var k=a;return Object.prototype.hasOwnProperty.call(k,R)?k[R]:k[R]=C(R)}function o(R,C){this.h=C;for(var k=[],M=!0,T=R.length-1;0<=T;T--){var I=R[T]|0;M&&I==C||(k[T]=I,M=!1)}this.g=k}var a={};function l(R){return-128<=R&&128>R?s(R,function(C){return new o([C|0],0>C?-1:0)}):new o([R|0],0>R?-1:0)}function u(R){if(isNaN(R)||!isFinite(R))return d;if(0>R)return A(u(-R));for(var C=[],k=1,M=0;R>=k;M++)C[M]=R/k|0,k*=4294967296;return new o(C,0)}function c(R,C){if(R.length==0)throw Error("number format error: empty string");if(C=C||10,2>C||36<C)throw Error("radix out of range: "+C);if(R.charAt(0)=="-")return A(c(R.substring(1),C));if(0<=R.indexOf("-"))throw Error('number format error: interior "-" character');for(var k=u(Math.pow(C,8)),M=d,T=0;T<R.length;T+=8){var I=Math.min(8,R.length-T),D=parseInt(R.substring(T,T+I),C);8>I?(I=u(Math.pow(C,I)),M=M.j(I).add(u(D))):(M=M.j(k),M=M.add(u(D)))}return M}var d=l(0),g=l(1),m=l(16777216);t=o.prototype,t.m=function(){if(x(this))return-A(this).m();for(var R=0,C=1,k=0;k<this.g.length;k++){var M=this.i(k);R+=(0<=M?M:4294967296+M)*C,C*=4294967296}return R},t.toString=function(R){if(R=R||10,2>R||36<R)throw Error("radix out of range: "+R);if(b(this))return"0";if(x(this))return"-"+A(this).toString(R);for(var C=u(Math.pow(R,6)),k=this,M="";;){var T=L(k,C).g;k=v(k,T.j(C));var I=((0<k.g.length?k.g[0]:k.h)>>>0).toString(R);if(k=T,b(k))return I+M;for(;6>I.length;)I="0"+I;M=I+M}},t.i=function(R){return 0>R?0:R<this.g.length?this.g[R]:this.h};function b(R){if(R.h!=0)return!1;for(var C=0;C<R.g.length;C++)if(R.g[C]!=0)return!1;return!0}function x(R){return R.h==-1}t.l=function(R){return R=v(this,R),x(R)?-1:b(R)?0:1};function A(R){for(var C=R.g.length,k=[],M=0;M<C;M++)k[M]=~R.g[M];return new o(k,~R.h).add(g)}t.abs=function(){return x(this)?A(this):this},t.add=function(R){for(var C=Math.max(this.g.length,R.g.length),k=[],M=0,T=0;T<=C;T++){var I=M+(this.i(T)&65535)+(R.i(T)&65535),D=(I>>>16)+(this.i(T)>>>16)+(R.i(T)>>>16);M=D>>>16,I&=65535,D&=65535,k[T]=D<<16|I}return new o(k,k[k.length-1]&-2147483648?-1:0)};function v(R,C){return R.add(A(C))}t.j=function(R){if(b(this)||b(R))return d;if(x(this))return x(R)?A(this).j(A(R)):A(A(this).j(R));if(x(R))return A(this.j(A(R)));if(0>this.l(m)&&0>R.l(m))return u(this.m()*R.m());for(var C=this.g.length+R.g.length,k=[],M=0;M<2*C;M++)k[M]=0;for(M=0;M<this.g.length;M++)for(var T=0;T<R.g.length;T++){var I=this.i(M)>>>16,D=this.i(M)&65535,H=R.i(T)>>>16,ne=R.i(T)&65535;k[2*M+2*T]+=D*ne,_(k,2*M+2*T),k[2*M+2*T+1]+=I*ne,_(k,2*M+2*T+1),k[2*M+2*T+1]+=D*H,_(k,2*M+2*T+1),k[2*M+2*T+2]+=I*H,_(k,2*M+2*T+2)}for(M=0;M<C;M++)k[M]=k[2*M+1]<<16|k[2*M];for(M=C;M<2*C;M++)k[M]=0;return new o(k,0)};function _(R,C){for(;(R[C]&65535)!=R[C];)R[C+1]+=R[C]>>>16,R[C]&=65535,C++}function E(R,C){this.g=R,this.h=C}function L(R,C){if(b(C))throw Error("division by zero");if(b(R))return new E(d,d);if(x(R))return C=L(A(R),C),new E(A(C.g),A(C.h));if(x(C))return C=L(R,A(C)),new E(A(C.g),C.h);if(30<R.g.length){if(x(R)||x(C))throw Error("slowDivide_ only works with positive integers.");for(var k=g,M=C;0>=M.l(R);)k=z(k),M=z(M);var T=Y(k,1),I=Y(M,1);for(M=Y(M,2),k=Y(k,2);!b(M);){var D=I.add(M);0>=D.l(R)&&(T=T.add(k),I=D),M=Y(M,1),k=Y(k,1)}return C=v(R,T.j(C)),new E(T,C)}for(T=d;0<=R.l(C);){for(k=Math.max(1,Math.floor(R.m()/C.m())),M=Math.ceil(Math.log(k)/Math.LN2),M=48>=M?1:Math.pow(2,M-48),I=u(k),D=I.j(C);x(D)||0<D.l(R);)k-=M,I=u(k),D=I.j(C);b(I)&&(I=g),T=T.add(I),R=v(R,D)}return new E(T,R)}t.A=function(R){return L(this,R).h},t.and=function(R){for(var C=Math.max(this.g.length,R.g.length),k=[],M=0;M<C;M++)k[M]=this.i(M)&R.i(M);return new o(k,this.h&R.h)},t.or=function(R){for(var C=Math.max(this.g.length,R.g.length),k=[],M=0;M<C;M++)k[M]=this.i(M)|R.i(M);return new o(k,this.h|R.h)},t.xor=function(R){for(var C=Math.max(this.g.length,R.g.length),k=[],M=0;M<C;M++)k[M]=this.i(M)^R.i(M);return new o(k,this.h^R.h)};function z(R){for(var C=R.g.length+1,k=[],M=0;M<C;M++)k[M]=R.i(M)<<1|R.i(M-1)>>>31;return new o(k,R.h)}function Y(R,C){var k=C>>5;C%=32;for(var M=R.g.length-k,T=[],I=0;I<M;I++)T[I]=0<C?R.i(I+k)>>>C|R.i(I+k+1)<<32-C:R.i(I+k);return new o(T,R.h)}r.prototype.digest=r.prototype.v,r.prototype.reset=r.prototype.s,r.prototype.update=r.prototype.u,o8=r,o.prototype.add=o.prototype.add,o.prototype.multiply=o.prototype.j,o.prototype.modulo=o.prototype.A,o.prototype.compare=o.prototype.l,o.prototype.toNumber=o.prototype.m,o.prototype.toString=o.prototype.toString,o.prototype.getBits=o.prototype.i,o.fromNumber=u,o.fromString=c,Yl=o}).apply(typeof zx<"u"?zx:typeof self<"u"?self:typeof window<"u"?window:{});var Hd=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var a8,Th,l8,xp,u2,u8,c8,h8;(function(){var t,e=typeof Object.defineProperties=="function"?Object.defineProperty:function(f,N,j){return f==Array.prototype||f==Object.prototype||(f[N]=j.value),f};function n(f){f=[typeof globalThis=="object"&&globalThis,f,typeof window=="object"&&window,typeof self=="object"&&self,typeof Hd=="object"&&Hd];for(var N=0;N<f.length;++N){var j=f[N];if(j&&j.Math==Math)return j}throw Error("Cannot find global object")}var r=n(this);function i(f,N){if(N)e:{var j=r;f=f.split(".");for(var $=0;$<f.length-1;$++){var me=f[$];if(!(me in j))break e;j=j[me]}f=f[f.length-1],$=j[f],N=N($),N!=$&&N!=null&&e(j,f,{configurable:!0,writable:!0,value:N})}}function s(f,N){f instanceof String&&(f+="");var j=0,$=!1,me={next:function(){if(!$&&j<f.length){var _e=j++;return{value:N(_e,f[_e]),done:!1}}return $=!0,{done:!0,value:void 0}}};return me[Symbol.iterator]=function(){return me},me}i("Array.prototype.values",function(f){return f||function(){return s(this,function(N,j){return j})}});/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/var o=o||{},a=this||self;function l(f){var N=typeof f;return N=N!="object"?N:f?Array.isArray(f)?"array":N:"null",N=="array"||N=="object"&&typeof f.length=="number"}function u(f){var N=typeof f;return N=="object"&&f!=null||N=="function"}function c(f,N,j){return f.call.apply(f.bind,arguments)}function d(f,N,j){if(!f)throw Error();if(2<arguments.length){var $=Array.prototype.slice.call(arguments,2);return function(){var me=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(me,$),f.apply(N,me)}}return function(){return f.apply(N,arguments)}}function g(f,N,j){return g=Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?c:d,g.apply(null,arguments)}function m(f,N){var j=Array.prototype.slice.call(arguments,1);return function(){var $=j.slice();return $.push.apply($,arguments),f.apply(this,$)}}function b(f,N){function j(){}j.prototype=N.prototype,f.aa=N.prototype,f.prototype=new j,f.prototype.constructor=f,f.Qb=function($,me,_e){for(var Oe=Array(arguments.length-2),Vt=2;Vt<arguments.length;Vt++)Oe[Vt-2]=arguments[Vt];return N.prototype[me].apply($,Oe)}}function x(f){const N=f.length;if(0<N){const j=Array(N);for(let $=0;$<N;$++)j[$]=f[$];return j}return[]}function A(f,N){for(let j=1;j<arguments.length;j++){const $=arguments[j];if(l($)){const me=f.length||0,_e=$.length||0;f.length=me+_e;for(let Oe=0;Oe<_e;Oe++)f[me+Oe]=$[Oe]}else f.push($)}}class v{constructor(N,j){this.i=N,this.j=j,this.h=0,this.g=null}get(){let N;return 0<this.h?(this.h--,N=this.g,this.g=N.next,N.next=null):N=this.i(),N}}function _(f){return/^[\s\xa0]*$/.test(f)}function E(){var f=a.navigator;return f&&(f=f.userAgent)?f:""}function L(f){return L[" "](f),f}L[" "]=function(){};var z=E().indexOf("Gecko")!=-1&&!(E().toLowerCase().indexOf("webkit")!=-1&&E().indexOf("Edge")==-1)&&!(E().indexOf("Trident")!=-1||E().indexOf("MSIE")!=-1)&&E().indexOf("Edge")==-1;function Y(f,N,j){for(const $ in f)N.call(j,f[$],$,f)}function R(f,N){for(const j in f)N.call(void 0,f[j],j,f)}function C(f){const N={};for(const j in f)N[j]=f[j];return N}const k="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function M(f,N){let j,$;for(let me=1;me<arguments.length;me++){$=arguments[me];for(j in $)f[j]=$[j];for(let _e=0;_e<k.length;_e++)j=k[_e],Object.prototype.hasOwnProperty.call($,j)&&(f[j]=$[j])}}function T(f){var N=1;f=f.split(":");const j=[];for(;0<N&&f.length;)j.push(f.shift()),N--;return f.length&&j.push(f.join(":")),j}function I(f){a.setTimeout(()=>{throw f},0)}function D(){var f=se;let N=null;return f.g&&(N=f.g,f.g=f.g.next,f.g||(f.h=null),N.next=null),N}class H{constructor(){this.h=this.g=null}add(N,j){const $=ne.get();$.set(N,j),this.h?this.h.next=$:this.g=$,this.h=$}}var ne=new v(()=>new ue,f=>f.reset());class ue{constructor(){this.next=this.g=this.h=null}set(N,j){this.h=N,this.g=j,this.next=null}reset(){this.next=this.g=this.h=null}}let ae,ee=!1,se=new H,ye=()=>{const f=a.Promise.resolve(void 0);ae=()=>{f.then(Se)}};var Se=()=>{for(var f;f=D();){try{f.h.call(f.g)}catch(j){I(j)}var N=ne;N.j(f),100>N.h&&(N.h++,f.next=N.g,N.g=f)}ee=!1};function V(){this.s=this.s,this.C=this.C}V.prototype.s=!1,V.prototype.ma=function(){this.s||(this.s=!0,this.N())},V.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function Q(f,N){this.type=f,this.g=this.target=N,this.defaultPrevented=!1}Q.prototype.h=function(){this.defaultPrevented=!0};var te=function(){if(!a.addEventListener||!Object.defineProperty)return!1;var f=!1,N=Object.defineProperty({},"passive",{get:function(){f=!0}});try{const j=()=>{};a.addEventListener("test",j,N),a.removeEventListener("test",j,N)}catch{}return f}();function ie(f,N){if(Q.call(this,f?f.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,f){var j=this.type=f.type,$=f.changedTouches&&f.changedTouches.length?f.changedTouches[0]:null;if(this.target=f.target||f.srcElement,this.g=N,N=f.relatedTarget){if(z){e:{try{L(N.nodeName);var me=!0;break e}catch{}me=!1}me||(N=null)}}else j=="mouseover"?N=f.fromElement:j=="mouseout"&&(N=f.toElement);this.relatedTarget=N,$?(this.clientX=$.clientX!==void 0?$.clientX:$.pageX,this.clientY=$.clientY!==void 0?$.clientY:$.pageY,this.screenX=$.screenX||0,this.screenY=$.screenY||0):(this.clientX=f.clientX!==void 0?f.clientX:f.pageX,this.clientY=f.clientY!==void 0?f.clientY:f.pageY,this.screenX=f.screenX||0,this.screenY=f.screenY||0),this.button=f.button,this.key=f.key||"",this.ctrlKey=f.ctrlKey,this.altKey=f.altKey,this.shiftKey=f.shiftKey,this.metaKey=f.metaKey,this.pointerId=f.pointerId||0,this.pointerType=typeof f.pointerType=="string"?f.pointerType:le[f.pointerType]||"",this.state=f.state,this.i=f,f.defaultPrevented&&ie.aa.h.call(this)}}b(ie,Q);var le={2:"touch",3:"pen",4:"mouse"};ie.prototype.h=function(){ie.aa.h.call(this);var f=this.i;f.preventDefault?f.preventDefault():f.returnValue=!1};var ve="closure_listenable_"+(1e6*Math.random()|0),Ne=0;function Ae(f,N,j,$,me){this.listener=f,this.proxy=null,this.src=N,this.type=j,this.capture=!!$,this.ha=me,this.key=++Ne,this.da=this.fa=!1}function he(f){f.da=!0,f.listener=null,f.proxy=null,f.src=null,f.ha=null}function be(f){this.src=f,this.g={},this.h=0}be.prototype.add=function(f,N,j,$,me){var _e=f.toString();f=this.g[_e],f||(f=this.g[_e]=[],this.h++);var Oe=Ee(f,N,$,me);return-1<Oe?(N=f[Oe],j||(N.fa=!1)):(N=new Ae(N,this.src,_e,!!$,me),N.fa=j,f.push(N)),N};function pe(f,N){var j=N.type;if(j in f.g){var $=f.g[j],me=Array.prototype.indexOf.call($,N,void 0),_e;(_e=0<=me)&&Array.prototype.splice.call($,me,1),_e&&(he(N),f.g[j].length==0&&(delete f.g[j],f.h--))}}function Ee(f,N,j,$){for(var me=0;me<f.length;++me){var _e=f[me];if(!_e.da&&_e.listener==N&&_e.capture==!!j&&_e.ha==$)return me}return-1}var fe="closure_lm_"+(1e6*Math.random()|0),W={};function ze(f,N,j,$,me){if(Array.isArray(N)){for(var _e=0;_e<N.length;_e++)ze(f,N[_e],j,$,me);return null}return j=wt(j),f&&f[ve]?f.K(N,j,u($)?!!$.capture:!1,me):Qe(f,N,j,!1,$,me)}function Qe(f,N,j,$,me,_e){if(!N)throw Error("Invalid event type");var Oe=u(me)?!!me.capture:!!me,Vt=nt(f);if(Vt||(f[fe]=Vt=new be(f)),j=Vt.add(N,j,$,Oe,_e),j.proxy)return j;if($=Ue(),j.proxy=$,$.src=f,$.listener=j,f.addEventListener)te||(me=Oe),me===void 0&&(me=!1),f.addEventListener(N.toString(),$,me);else if(f.attachEvent)f.attachEvent(Be(N.toString()),$);else if(f.addListener&&f.removeListener)f.addListener($);else throw Error("addEventListener and attachEvent are unavailable.");return j}function Ue(){function f(j){return N.call(f.src,f.listener,j)}const N=_t;return f}function Le(f,N,j,$,me){if(Array.isArray(N))for(var _e=0;_e<N.length;_e++)Le(f,N[_e],j,$,me);else $=u($)?!!$.capture:!!$,j=wt(j),f&&f[ve]?(f=f.i,N=String(N).toString(),N in f.g&&(_e=f.g[N],j=Ee(_e,j,$,me),-1<j&&(he(_e[j]),Array.prototype.splice.call(_e,j,1),_e.length==0&&(delete f.g[N],f.h--)))):f&&(f=nt(f))&&(N=f.g[N.toString()],f=-1,N&&(f=Ee(N,j,$,me)),(j=-1<f?N[f]:null)&&qe(j))}function qe(f){if(typeof f!="number"&&f&&!f.da){var N=f.src;if(N&&N[ve])pe(N.i,f);else{var j=f.type,$=f.proxy;N.removeEventListener?N.removeEventListener(j,$,f.capture):N.detachEvent?N.detachEvent(Be(j),$):N.addListener&&N.removeListener&&N.removeListener($),(j=nt(N))?(pe(j,f),j.h==0&&(j.src=null,N[fe]=null)):he(f)}}}function Be(f){return f in W?W[f]:W[f]="on"+f}function _t(f,N){if(f.da)f=!0;else{N=new ie(N,this);var j=f.listener,$=f.ha||f.src;f.fa&&qe(f),f=j.call($,N)}return f}function nt(f){return f=f[fe],f instanceof be?f:null}var Ot="__closure_events_fn_"+(1e9*Math.random()>>>0);function wt(f){return typeof f=="function"?f:(f[Ot]||(f[Ot]=function(N){return f.handleEvent(N)}),f[Ot])}function tt(){V.call(this),this.i=new be(this),this.M=this,this.F=null}b(tt,V),tt.prototype[ve]=!0,tt.prototype.removeEventListener=function(f,N,j,$){Le(this,f,N,j,$)};function St(f,N){var j,$=f.F;if($)for(j=[];$;$=$.F)j.push($);if(f=f.M,$=N.type||N,typeof N=="string")N=new Q(N,f);else if(N instanceof Q)N.target=N.target||f;else{var me=N;N=new Q($,f),M(N,me)}if(me=!0,j)for(var _e=j.length-1;0<=_e;_e--){var Oe=N.g=j[_e];me=mt(Oe,$,!0,N)&&me}if(Oe=N.g=f,me=mt(Oe,$,!0,N)&&me,me=mt(Oe,$,!1,N)&&me,j)for(_e=0;_e<j.length;_e++)Oe=N.g=j[_e],me=mt(Oe,$,!1,N)&&me}tt.prototype.N=function(){if(tt.aa.N.call(this),this.i){var f=this.i,N;for(N in f.g){for(var j=f.g[N],$=0;$<j.length;$++)he(j[$]);delete f.g[N],f.h--}}this.F=null},tt.prototype.K=function(f,N,j,$){return this.i.add(String(f),N,!1,j,$)},tt.prototype.L=function(f,N,j,$){return this.i.add(String(f),N,!0,j,$)};function mt(f,N,j,$){if(N=f.i.g[String(N)],!N)return!0;N=N.concat();for(var me=!0,_e=0;_e<N.length;++_e){var Oe=N[_e];if(Oe&&!Oe.da&&Oe.capture==j){var Vt=Oe.listener,Rn=Oe.ha||Oe.src;Oe.fa&&pe(f.i,Oe),me=Vt.call(Rn,$)!==!1&&me}}return me&&!$.defaultPrevented}function rt(f,N,j){if(typeof f=="function")j&&(f=g(f,j));else if(f&&typeof f.handleEvent=="function")f=g(f.handleEvent,f);else throw Error("Invalid listener argument");return 2147483647<Number(N)?-1:a.setTimeout(f,N||0)}function ht(f){f.g=rt(()=>{f.g=null,f.i&&(f.i=!1,ht(f))},f.l);const N=f.h;f.h=null,f.m.apply(null,N)}class ot extends V{constructor(N,j){super(),this.m=N,this.l=j,this.h=null,this.i=!1,this.g=null}j(N){this.h=arguments,this.g?this.i=!0:ht(this)}N(){super.N(),this.g&&(a.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function Kt(f){V.call(this),this.h=f,this.g={}}b(Kt,V);var Ut=[];function Je(f){Y(f.g,function(N,j){this.g.hasOwnProperty(j)&&qe(N)},f),f.g={}}Kt.prototype.N=function(){Kt.aa.N.call(this),Je(this)},Kt.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var gt=a.JSON.stringify,en=a.JSON.parse,ut=class{stringify(f){return a.JSON.stringify(f,void 0)}parse(f){return a.JSON.parse(f,void 0)}};function kt(){}kt.prototype.h=null;function xt(f){return f.h||(f.h=f.i())}function Nn(){}var vn={OPEN:"a",kb:"b",Ja:"c",wb:"d"};function Yt(){Q.call(this,"d")}b(Yt,Q);function ft(){Q.call(this,"c")}b(ft,Q);var Lt={},Hs=null;function Yn(){return Hs=Hs||new tt}Lt.La="serverreachability";function rs(f){Q.call(this,Lt.La,f)}b(rs,Q);function Ur(f){const N=Yn();St(N,new rs(N))}Lt.STAT_EVENT="statevent";function lt(f,N){Q.call(this,Lt.STAT_EVENT,f),this.stat=N}b(lt,Q);function wn(f){const N=Yn();St(N,new lt(N,f))}Lt.Ma="timingevent";function is(f,N){Q.call(this,Lt.Ma,f),this.size=N}b(is,Q);function xr(f,N){if(typeof f!="function")throw Error("Fn must not be null and must be a function");return a.setTimeout(function(){f()},N)}function br(){this.g=!0}br.prototype.xa=function(){this.g=!1};function En(f,N,j,$,me,_e){f.info(function(){if(f.g)if(_e)for(var Oe="",Vt=_e.split("&"),Rn=0;Rn<Vt.length;Rn++){var Rt=Vt[Rn].split("=");if(1<Rt.length){var It=Rt[0];Rt=Rt[1];var mn=It.split("_");Oe=2<=mn.length&&mn[1]=="type"?Oe+(It+"="+Rt+"&"):Oe+(It+"=redacted&")}}else Oe=null;else Oe=_e;return"XMLHTTP REQ ("+$+") [attempt "+me+"]: "+N+`
`+j+`
`+Oe})}function ur(f,N,j,$,me,_e,Oe){f.info(function(){return"XMLHTTP RESP ("+$+") [ attempt "+me+"]: "+N+`
`+j+`
`+_e+" "+Oe})}function Tn(f,N,j,$){f.info(function(){return"XMLHTTP TEXT ("+N+"): "+Ws(f,j)+($?" "+$:"")})}function Ao(f,N){f.info(function(){return"TIMEOUT: "+N})}br.prototype.info=function(){};function Ws(f,N){if(!f.g)return N;if(!N)return null;try{var j=JSON.parse(N);if(j){for(f=0;f<j.length;f++)if(Array.isArray(j[f])){var $=j[f];if(!(2>$.length)){var me=$[1];if(Array.isArray(me)&&!(1>me.length)){var _e=me[0];if(_e!="noop"&&_e!="stop"&&_e!="close")for(var Oe=1;Oe<me.length;Oe++)me[Oe]=""}}}}return gt(j)}catch{return N}}var zr={NO_ERROR:0,gb:1,tb:2,sb:3,nb:4,rb:5,ub:6,Ia:7,TIMEOUT:8,xb:9},ji={lb:"complete",Hb:"success",Ja:"error",Ia:"abort",zb:"ready",Ab:"readystatechange",TIMEOUT:"timeout",vb:"incrementaldata",yb:"progress",ob:"downloadprogress",Pb:"uploadprogress"},si;function qr(){}b(qr,kt),qr.prototype.g=function(){return new XMLHttpRequest},qr.prototype.i=function(){return{}},si=new qr;function Xn(f,N,j,$){this.j=f,this.i=N,this.l=j,this.R=$||1,this.U=new Kt(this),this.I=45e3,this.H=null,this.o=!1,this.m=this.A=this.v=this.L=this.F=this.S=this.B=null,this.D=[],this.g=null,this.C=0,this.s=this.u=null,this.X=-1,this.J=!1,this.O=0,this.M=null,this.W=this.K=this.T=this.P=!1,this.h=new Gs}function Gs(){this.i=null,this.g="",this.h=!1}var Di={},_s={};function Ks(f,N,j){f.L=1,f.v=Co(oi(N)),f.m=j,f.P=!0,No(f,null)}function No(f,N){f.F=Date.now(),Qs(f),f.A=oi(f.v);var j=f.A,$=f.R;Array.isArray($)||($=[String($)]),dt(j.i,"t",$),f.C=0,j=f.j.J,f.h=new Gs,f.g=Bn(f.j,j?N:null,!f.m),0<f.O&&(f.M=new ot(g(f.Y,f,f.g),f.O)),N=f.U,j=f.g,$=f.ca;var me="readystatechange";Array.isArray(me)||(me&&(Ut[0]=me.toString()),me=Ut);for(var _e=0;_e<me.length;_e++){var Oe=ze(j,me[_e],$||N.handleEvent,!1,N.h||N);if(!Oe)break;N.g[Oe.key]=Oe}N=f.H?C(f.H):{},f.m?(f.u||(f.u="POST"),N["Content-Type"]="application/x-www-form-urlencoded",f.g.ea(f.A,f.u,f.m,N)):(f.u="GET",f.g.ea(f.A,f.u,null,N)),Ur(),En(f.i,f.u,f.A,f.l,f.R,f.m)}Xn.prototype.ca=function(f){f=f.target;const N=this.M;N&&_i(f)==3?N.j():this.Y(f)},Xn.prototype.Y=function(f){try{if(f==this.g)e:{const mn=_i(this.g);var N=this.g.Ba();const Vi=this.g.Z();if(!(3>mn)&&(mn!=3||this.g&&(this.h.h||this.g.oa()||Tl(this.g)))){this.J||mn!=4||N==7||(N==8||0>=Vi?Ur(3):Ur(2)),aa(this);var j=this.g.Z();this.X=j;t:if(Eo(this)){var $=Tl(this.g);f="";var me=$.length,_e=_i(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){Mi(this),_r(this);var Oe="";break t}this.h.i=new a.TextDecoder}for(N=0;N<me;N++)this.h.h=!0,f+=this.h.i.decode($[N],{stream:!(_e&&N==me-1)});$.length=0,this.h.g+=f,this.C=0,Oe=this.h.g}else Oe=this.g.oa();if(this.o=j==200,ur(this.i,this.u,this.A,this.l,this.R,mn,j),this.o){if(this.T&&!this.K){t:{if(this.g){var Vt,Rn=this.g;if((Vt=Rn.g?Rn.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!_(Vt)){var Rt=Vt;break t}}Rt=null}if(j=Rt)Tn(this.i,this.l,j,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,la(this,j);else{this.o=!1,this.s=3,wn(12),Mi(this),_r(this);break e}}if(this.P){j=!0;let $r;for(;!this.J&&this.C<Oe.length;)if($r=qc(this,Oe),$r==_s){mn==4&&(this.s=4,wn(14),j=!1),Tn(this.i,this.l,null,"[Incomplete Response]");break}else if($r==Di){this.s=4,wn(15),Tn(this.i,this.l,Oe,"[Invalid Chunk]"),j=!1;break}else Tn(this.i,this.l,$r,null),la(this,$r);if(Eo(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),mn!=4||Oe.length!=0||this.h.h||(this.s=1,wn(16),j=!1),this.o=this.o&&j,!j)Tn(this.i,this.l,Oe,"[Invalid Chunked Response]"),Mi(this),_r(this);else if(0<Oe.length&&!this.W){this.W=!0;var It=this.j;It.g==this&&It.ba&&!It.M&&(It.j.info("Great, no buffering proxy detected. Bytes received: "+Oe.length),He(It),It.M=!0,wn(11))}}else Tn(this.i,this.l,Oe,null),la(this,Oe);mn==4&&Mi(this),this.o&&!this.J&&(mn==4?yt(this.j,this):(this.o=!1,Qs(this)))}else Es(this.g),j==400&&0<Oe.indexOf("Unknown SID")?(this.s=3,wn(12)):(this.s=0,wn(13)),Mi(this),_r(this)}}}catch{}finally{}};function Eo(f){return f.g?f.u=="GET"&&f.L!=2&&f.j.Ca:!1}function qc(f,N){var j=f.C,$=N.indexOf(`
`,j);return $==-1?_s:(j=Number(N.substring(j,$)),isNaN(j)?Di:($+=1,$+j>N.length?_s:(N=N.slice($,$+j),f.C=$+j,N)))}Xn.prototype.cancel=function(){this.J=!0,Mi(this)};function Qs(f){f.S=Date.now()+f.I,gl(f,f.I)}function gl(f,N){if(f.B!=null)throw Error("WatchDog timer not null");f.B=xr(g(f.ba,f),N)}function aa(f){f.B&&(a.clearTimeout(f.B),f.B=null)}Xn.prototype.ba=function(){this.B=null;const f=Date.now();0<=f-this.S?(Ao(this.i,this.A),this.L!=2&&(Ur(),wn(17)),Mi(this),this.s=2,_r(this)):gl(this,this.S-f)};function _r(f){f.j.G==0||f.J||yt(f.j,f)}function Mi(f){aa(f);var N=f.M;N&&typeof N.ma=="function"&&N.ma(),f.M=null,Je(f.U),f.g&&(N=f.g,f.g=null,N.abort(),N.ma())}function la(f,N){try{var j=f.j;if(j.G!=0&&(j.g==f||Ys(j.h,f))){if(!f.K&&Ys(j.h,f)&&j.G==3){try{var $=j.Da.g.parse(N)}catch{$=null}if(Array.isArray($)&&$.length==3){var me=$;if(me[0]==0){e:if(!j.u){if(j.g)if(j.g.F+3e3<f.F)ct(j),as(j);else break e;Re(j),wn(18)}}else j.za=me[1],0<j.za-j.T&&37500>me[2]&&j.F&&j.v==0&&!j.C&&(j.C=xr(g(j.Za,j),6e3));if(1>=xl(j.h)&&j.ca){try{j.ca()}catch{}j.ca=void 0}}else Xt(j,11)}else if((f.K||j.g==f)&&ct(j),!_(N))for(me=j.Da.g.parse(N),N=0;N<me.length;N++){let Rt=me[N];if(j.T=Rt[0],Rt=Rt[1],j.G==2)if(Rt[0]=="c"){j.K=Rt[1],j.ia=Rt[2];const It=Rt[3];It!=null&&(j.la=It,j.j.info("VER="+j.la));const mn=Rt[4];mn!=null&&(j.Aa=mn,j.j.info("SVER="+j.Aa));const Vi=Rt[5];Vi!=null&&typeof Vi=="number"&&0<Vi&&($=1.5*Vi,j.L=$,j.j.info("backChannelRequestTimeoutMs_="+$)),$=j;const $r=f.g;if($r){const Pr=$r.g?$r.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(Pr){var _e=$.h;_e.g||Pr.indexOf("spdy")==-1&&Pr.indexOf("quic")==-1&&Pr.indexOf("h2")==-1||(_e.j=_e.l,_e.g=new Set,_e.h&&(bl(_e,_e.h),_e.h=null))}if($.D){const Ts=$r.g?$r.g.getResponseHeader("X-HTTP-Session-Id"):null;Ts&&($.ya=Ts,Mt($.I,$.D,Ts))}}j.G=3,j.l&&j.l.ua(),j.ba&&(j.R=Date.now()-f.F,j.j.info("Handshake RTT: "+j.R+"ms")),$=j;var Oe=f;if($.qa=nn($,$.J?$.ia:null,$.W),Oe.K){kn($.h,Oe);var Vt=Oe,Rn=$.L;Rn&&(Vt.I=Rn),Vt.B&&(aa(Vt),Qs(Vt)),$.g=Oe}else Ce($);0<j.i.length&&w(j)}else Rt[0]!="stop"&&Rt[0]!="close"||Xt(j,7);else j.G==3&&(Rt[0]=="stop"||Rt[0]=="close"?Rt[0]=="stop"?Xt(j,7):ma(j):Rt[0]!="noop"&&j.l&&j.l.ta(Rt),j.v=0)}}Ur(4)}catch{}}var yl=class{constructor(f,N){this.g=f,this.map=N}};function vl(f){this.l=f||10,a.PerformanceNavigationTiming?(f=a.performance.getEntriesByType("navigation"),f=0<f.length&&(f[0].nextHopProtocol=="hq"||f[0].nextHopProtocol=="h2")):f=!!(a.chrome&&a.chrome.loadTimes&&a.chrome.loadTimes()&&a.chrome.loadTimes().wasFetchedViaSpdy),this.j=f?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}function wl(f){return f.h?!0:f.g?f.g.size>=f.j:!1}function xl(f){return f.h?1:f.g?f.g.size:0}function Ys(f,N){return f.h?f.h==N:f.g?f.g.has(N):!1}function bl(f,N){f.g?f.g.add(N):f.h=N}function kn(f,N){f.h&&f.h==N?f.h=null:f.g&&f.g.has(N)&&f.g.delete(N)}vl.prototype.cancel=function(){if(this.i=_l(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const f of this.g.values())f.cancel();this.g.clear()}};function _l(f){if(f.h!=null)return f.i.concat(f.h.D);if(f.g!=null&&f.g.size!==0){let N=f.i;for(const j of f.g.values())N=N.concat(j.D);return N}return x(f.i)}function xu(f){if(f.V&&typeof f.V=="function")return f.V();if(typeof Map<"u"&&f instanceof Map||typeof Set<"u"&&f instanceof Set)return Array.from(f.values());if(typeof f=="string")return f.split("");if(l(f)){for(var N=[],j=f.length,$=0;$<j;$++)N.push(f[$]);return N}N=[],j=0;for($ in f)N[j++]=f[$];return N}function Ss(f){if(f.na&&typeof f.na=="function")return f.na();if(!f.V||typeof f.V!="function"){if(typeof Map<"u"&&f instanceof Map)return Array.from(f.keys());if(!(typeof Set<"u"&&f instanceof Set)){if(l(f)||typeof f=="string"){var N=[];f=f.length;for(var j=0;j<f;j++)N.push(j);return N}N=[],j=0;for(const $ in f)N[j++]=$;return N}}}function Xs(f,N){if(f.forEach&&typeof f.forEach=="function")f.forEach(N,void 0);else if(l(f)||typeof f=="string")Array.prototype.forEach.call(f,N,void 0);else for(var j=Ss(f),$=xu(f),me=$.length,_e=0;_e<me;_e++)N.call(void 0,$[_e],j&&j[_e],f)}var wi=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function To(f,N){if(f){f=f.split("&");for(var j=0;j<f.length;j++){var $=f[j].indexOf("="),me=null;if(0<=$){var _e=f[j].substring(0,$);me=f[j].substring($+1)}else _e=f[j];N(_e,me?decodeURIComponent(me.replace(/\+/g," ")):"")}}}function tn(f){if(this.g=this.o=this.j="",this.s=null,this.m=this.l="",this.h=!1,f instanceof tn){this.h=f.h,ua(this,f.j),this.o=f.o,this.g=f.g,ca(this,f.s),this.l=f.l;var N=f.i,j=new bi;j.i=N.i,N.g&&(j.g=new Map(N.g),j.h=N.h),bu(this,j),this.m=f.m}else f&&(N=String(f).match(wi))?(this.h=!1,ua(this,N[1]||"",!0),this.o=Js(N[2]||""),this.g=Js(N[3]||"",!0),ca(this,N[4]),this.l=Js(N[5]||"",!0),bu(this,N[6]||"",!0),this.m=Js(N[7]||"")):(this.h=!1,this.i=new bi(null,this.h))}tn.prototype.toString=function(){var f=[],N=this.j;N&&f.push(xi(N,_u,!0),":");var j=this.g;return(j||N=="file")&&(f.push("//"),(N=this.o)&&f.push(xi(N,_u,!0),"@"),f.push(encodeURIComponent(String(j)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),j=this.s,j!=null&&f.push(":",String(j))),(j=this.l)&&(this.g&&j.charAt(0)!="/"&&f.push("/"),f.push(xi(j,j.charAt(0)=="/"?Hc:$c,!0))),(j=this.i.toString())&&f.push("?",j),(j=this.m)&&f.push("#",xi(j,Po)),f.join("")};function oi(f){return new tn(f)}function ua(f,N,j){f.j=j?Js(N,!0):N,f.j&&(f.j=f.j.replace(/:$/,""))}function ca(f,N){if(N){if(N=Number(N),isNaN(N)||0>N)throw Error("Bad port number "+N);f.s=N}else f.s=null}function bu(f,N,j){N instanceof bi?(f.i=N,Wc(f.i,f.h)):(j||(N=xi(N,Al)),f.i=new bi(N,f.h))}function Mt(f,N,j){f.i.set(N,j)}function Co(f){return Mt(f,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),f}function Js(f,N){return f?N?decodeURI(f.replace(/%25/g,"%2525")):decodeURIComponent(f):""}function xi(f,N,j){return typeof f=="string"?(f=encodeURI(f).replace(N,Sl),j&&(f=f.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),f):null}function Sl(f){return f=f.charCodeAt(0),"%"+(f>>4&15).toString(16)+(f&15).toString(16)}var _u=/[#\/\?@]/g,$c=/[#\?:]/g,Hc=/[#\?]/g,Al=/[#\?@]/g,Po=/#/g;function bi(f,N){this.h=this.g=null,this.i=f||null,this.j=!!N}function ss(f){f.g||(f.g=new Map,f.h=0,f.i&&To(f.i,function(N,j){f.add(decodeURIComponent(N.replace(/\+/g," ")),j)}))}t=bi.prototype,t.add=function(f,N){ss(this),this.i=null,f=eo(this,f);var j=this.g.get(f);return j||this.g.set(f,j=[]),j.push(N),this.h+=1,this};function Zs(f,N){ss(f),N=eo(f,N),f.g.has(N)&&(f.i=null,f.h-=f.g.get(N).length,f.g.delete(N))}function ha(f,N){return ss(f),N=eo(f,N),f.g.has(N)}t.forEach=function(f,N){ss(this),this.g.forEach(function(j,$){j.forEach(function(me){f.call(N,me,$,this)},this)},this)},t.na=function(){ss(this);const f=Array.from(this.g.values()),N=Array.from(this.g.keys()),j=[];for(let $=0;$<N.length;$++){const me=f[$];for(let _e=0;_e<me.length;_e++)j.push(N[$])}return j},t.V=function(f){ss(this);let N=[];if(typeof f=="string")ha(this,f)&&(N=N.concat(this.g.get(eo(this,f))));else{f=Array.from(this.g.values());for(let j=0;j<f.length;j++)N=N.concat(f[j])}return N},t.set=function(f,N){return ss(this),this.i=null,f=eo(this,f),ha(this,f)&&(this.h-=this.g.get(f).length),this.g.set(f,[N]),this.h+=1,this},t.get=function(f,N){return f?(f=this.V(f),0<f.length?String(f[0]):N):N};function dt(f,N,j){Zs(f,N),0<j.length&&(f.i=null,f.g.set(eo(f,N),x(j)),f.h+=j.length)}t.toString=function(){if(this.i)return this.i;if(!this.g)return"";const f=[],N=Array.from(this.g.keys());for(var j=0;j<N.length;j++){var $=N[j];const _e=encodeURIComponent(String($)),Oe=this.V($);for($=0;$<Oe.length;$++){var me=_e;Oe[$]!==""&&(me+="="+encodeURIComponent(String(Oe[$]))),f.push(me)}}return this.i=f.join("&")};function eo(f,N){return N=String(N),f.j&&(N=N.toLowerCase()),N}function Wc(f,N){N&&!f.j&&(ss(f),f.i=null,f.g.forEach(function(j,$){var me=$.toLowerCase();$!=me&&(Zs(this,$),dt(this,me,j))},f)),f.j=N}function Gc(f,N){const j=new br;if(a.Image){const $=new Image;$.onload=m(Sr,j,"TestLoadImage: loaded",!0,N,$),$.onerror=m(Sr,j,"TestLoadImage: error",!1,N,$),$.onabort=m(Sr,j,"TestLoadImage: abort",!1,N,$),$.ontimeout=m(Sr,j,"TestLoadImage: timeout",!1,N,$),a.setTimeout(function(){$.ontimeout&&$.ontimeout()},1e4),$.src=f}else N(!1)}function Kc(f,N){const j=new br,$=new AbortController,me=setTimeout(()=>{$.abort(),Sr(j,"TestPingServer: timeout",!1,N)},1e4);fetch(f,{signal:$.signal}).then(_e=>{clearTimeout(me),_e.ok?Sr(j,"TestPingServer: ok",!0,N):Sr(j,"TestPingServer: server error",!1,N)}).catch(()=>{clearTimeout(me),Sr(j,"TestPingServer: error",!1,N)})}function Sr(f,N,j,$,me){try{me&&(me.onload=null,me.onerror=null,me.onabort=null,me.ontimeout=null),$(j)}catch{}}function As(){this.g=new ut}function Qc(f,N,j){const $=j||"";try{Xs(f,function(me,_e){let Oe=me;u(me)&&(Oe=gt(me)),N.push($+_e+"="+encodeURIComponent(Oe))})}catch(me){throw N.push($+"type="+encodeURIComponent("_badmap")),me}}function fa(f){this.l=f.Ub||null,this.j=f.eb||!1}b(fa,kt),fa.prototype.g=function(){return new Ns(this.l,this.j)},fa.prototype.i=function(f){return function(){return f}}({});function Ns(f,N){tt.call(this),this.D=f,this.o=N,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.u=new Headers,this.h=null,this.B="GET",this.A="",this.g=!1,this.v=this.j=this.l=null}b(Ns,tt),t=Ns.prototype,t.open=function(f,N){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.B=f,this.A=N,this.readyState=1,os(this)},t.send=function(f){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;const N={headers:this.u,method:this.B,credentials:this.m,cache:void 0};f&&(N.body=f),(this.D||a).fetch(new Request(this.A,N)).then(this.Sa.bind(this),this.ga.bind(this))},t.abort=function(){this.response=this.responseText="",this.u=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,Fi(this)),this.readyState=0},t.Sa=function(f){if(this.g&&(this.l=f,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=f.headers,this.readyState=2,os(this)),this.g&&(this.readyState=3,os(this),this.g)))if(this.responseType==="arraybuffer")f.arrayBuffer().then(this.Qa.bind(this),this.ga.bind(this));else if(typeof a.ReadableStream<"u"&&"body"in f){if(this.j=f.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.v=new TextDecoder;da(this)}else f.text().then(this.Ra.bind(this),this.ga.bind(this))};function da(f){f.j.read().then(f.Pa.bind(f)).catch(f.ga.bind(f))}t.Pa=function(f){if(this.g){if(this.o&&f.value)this.response.push(f.value);else if(!this.o){var N=f.value?f.value:new Uint8Array(0);(N=this.v.decode(N,{stream:!f.done}))&&(this.response=this.responseText+=N)}f.done?Fi(this):os(this),this.readyState==3&&da(this)}},t.Ra=function(f){this.g&&(this.response=this.responseText=f,Fi(this))},t.Qa=function(f){this.g&&(this.response=f,Fi(this))},t.ga=function(){this.g&&Fi(this)};function Fi(f){f.readyState=4,f.l=null,f.j=null,f.v=null,os(f)}t.setRequestHeader=function(f,N){this.u.append(f,N)},t.getResponseHeader=function(f){return this.h&&this.h.get(f.toLowerCase())||""},t.getAllResponseHeaders=function(){if(!this.h)return"";const f=[],N=this.h.entries();for(var j=N.next();!j.done;)j=j.value,f.push(j[0]+": "+j[1]),j=N.next();return f.join(`\r
`)};function os(f){f.onreadystatechange&&f.onreadystatechange.call(f)}Object.defineProperty(Ns.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(f){this.m=f?"include":"same-origin"}});function ko(f){let N="";return Y(f,function(j,$){N+=$,N+=":",N+=j,N+=`\r
`}),N}function Nl(f,N,j){e:{for($ in j){var $=!1;break e}$=!0}$||(j=ko(j),typeof f=="string"?j!=null&&encodeURIComponent(String(j)):Mt(f,N,j))}function cn(f){tt.call(this),this.headers=new Map,this.o=f||null,this.h=!1,this.v=this.g=null,this.D="",this.m=0,this.l="",this.j=this.B=this.u=this.A=!1,this.I=null,this.H="",this.J=!1}b(cn,tt);var El=/^https?$/i,Io=["POST","PUT"];t=cn.prototype,t.Ha=function(f){this.J=f},t.ea=function(f,N,j,$){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+f);N=N?N.toUpperCase():"GET",this.D=f,this.l="",this.m=0,this.A=!1,this.h=!0,this.g=this.o?this.o.g():si.g(),this.v=this.o?xt(this.o):xt(si),this.g.onreadystatechange=g(this.Ea,this);try{this.B=!0,this.g.open(N,String(f),!0),this.B=!1}catch(_e){to(this,_e);return}if(f=j||"",j=new Map(this.headers),$)if(Object.getPrototypeOf($)===Object.prototype)for(var me in $)j.set(me,$[me]);else if(typeof $.keys=="function"&&typeof $.get=="function")for(const _e of $.keys())j.set(_e,$.get(_e));else throw Error("Unknown input type for opt_headers: "+String($));$=Array.from(j.keys()).find(_e=>_e.toLowerCase()=="content-type"),me=a.FormData&&f instanceof a.FormData,!(0<=Array.prototype.indexOf.call(Io,N,void 0))||$||me||j.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[_e,Oe]of j)this.g.setRequestHeader(_e,Oe);this.H&&(this.g.responseType=this.H),"withCredentials"in this.g&&this.g.withCredentials!==this.J&&(this.g.withCredentials=this.J);try{ro(this),this.u=!0,this.g.send(f),this.u=!1}catch(_e){to(this,_e)}};function to(f,N){f.h=!1,f.g&&(f.j=!0,f.g.abort(),f.j=!1),f.l=N,f.m=5,pa(f),no(f)}function pa(f){f.A||(f.A=!0,St(f,"complete"),St(f,"error"))}t.abort=function(f){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.m=f||7,St(this,"complete"),St(this,"abort"),no(this))},t.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),no(this,!0)),cn.aa.N.call(this)},t.Ea=function(){this.s||(this.B||this.u||this.j?Lo(this):this.bb())},t.bb=function(){Lo(this)};function Lo(f){if(f.h&&typeof o<"u"&&(!f.v[1]||_i(f)!=4||f.Z()!=2)){if(f.u&&_i(f)==4)rt(f.Ea,0,f);else if(St(f,"readystatechange"),_i(f)==4){f.h=!1;try{const Oe=f.Z();e:switch(Oe){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var N=!0;break e;default:N=!1}var j;if(!(j=N)){var $;if($=Oe===0){var me=String(f.D).match(wi)[1]||null;!me&&a.self&&a.self.location&&(me=a.self.location.protocol.slice(0,-1)),$=!El.test(me?me.toLowerCase():"")}j=$}if(j)St(f,"complete"),St(f,"success");else{f.m=6;try{var _e=2<_i(f)?f.g.statusText:""}catch{_e=""}f.l=_e+" ["+f.Z()+"]",pa(f)}}finally{no(f)}}}}function no(f,N){if(f.g){ro(f);const j=f.g,$=f.v[0]?()=>{}:null;f.g=null,f.v=null,N||St(f,"ready");try{j.onreadystatechange=$}catch{}}}function ro(f){f.I&&(a.clearTimeout(f.I),f.I=null)}t.isActive=function(){return!!this.g};function _i(f){return f.g?f.g.readyState:0}t.Z=function(){try{return 2<_i(this)?this.g.status:-1}catch{return-1}},t.oa=function(){try{return this.g?this.g.responseText:""}catch{return""}},t.Oa=function(f){if(this.g){var N=this.g.responseText;return f&&N.indexOf(f)==0&&(N=N.substring(f.length)),en(N)}};function Tl(f){try{if(!f.g)return null;if("response"in f.g)return f.g.response;switch(f.H){case"":case"text":return f.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in f.g)return f.g.mozResponseArrayBuffer}return null}catch{return null}}function Es(f){const N={};f=(f.g&&2<=_i(f)&&f.g.getAllResponseHeaders()||"").split(`\r
`);for(let $=0;$<f.length;$++){if(_(f[$]))continue;var j=T(f[$]);const me=j[0];if(j=j[1],typeof j!="string")continue;j=j.trim();const _e=N[me]||[];N[me]=_e,_e.push(j)}R(N,function($){return $.join(", ")})}t.Ba=function(){return this.m},t.Ka=function(){return typeof this.l=="string"?this.l:String(this.l)};function ai(f,N,j){return j&&j.internalChannelParams&&j.internalChannelParams[f]||N}function Cl(f){this.Aa=0,this.i=[],this.j=new br,this.ia=this.qa=this.I=this.W=this.g=this.ya=this.D=this.H=this.m=this.S=this.o=null,this.Ya=this.U=0,this.Va=ai("failFast",!1,f),this.F=this.C=this.u=this.s=this.l=null,this.X=!0,this.za=this.T=-1,this.Y=this.v=this.B=0,this.Ta=ai("baseRetryDelayMs",5e3,f),this.cb=ai("retryDelaySeedMs",1e4,f),this.Wa=ai("forwardChannelMaxRetries",2,f),this.wa=ai("forwardChannelRequestTimeoutMs",2e4,f),this.pa=f&&f.xmlHttpFactory||void 0,this.Xa=f&&f.Tb||void 0,this.Ca=f&&f.useFetchStreams||!1,this.L=void 0,this.J=f&&f.supportsCrossDomainXhr||!1,this.K="",this.h=new vl(f&&f.concurrentRequestLimit),this.Da=new As,this.P=f&&f.fastHandshake||!1,this.O=f&&f.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.Ua=f&&f.Rb||!1,f&&f.xa&&this.j.xa(),f&&f.forceLongPolling&&(this.X=!1),this.ba=!this.P&&this.X&&f&&f.detectBufferingProxy||!1,this.ja=void 0,f&&f.longPollingTimeout&&0<f.longPollingTimeout&&(this.ja=f.longPollingTimeout),this.ca=void 0,this.R=0,this.M=!1,this.ka=this.A=null}t=Cl.prototype,t.la=8,t.G=1,t.connect=function(f,N,j,$){wn(0),this.W=f,this.H=N||{},j&&$!==void 0&&(this.H.OSID=j,this.H.OAID=$),this.F=this.X,this.I=nn(this,null,this.W),w(this)};function ma(f){if(Pl(f),f.G==3){var N=f.U++,j=oi(f.I);if(Mt(j,"SID",f.K),Mt(j,"RID",N),Mt(j,"TYPE","terminate"),re(f,j),N=new Xn(f,f.j,N),N.L=2,N.v=Co(oi(j)),j=!1,a.navigator&&a.navigator.sendBeacon)try{j=a.navigator.sendBeacon(N.v.toString(),"")}catch{}!j&&a.Image&&(new Image().src=N.v,j=!0),j||(N.g=Bn(N.j,null),N.g.ea(N.v)),N.F=Date.now(),Qs(N)}In(f)}function as(f){f.g&&(He(f),f.g.cancel(),f.g=null)}function Pl(f){as(f),f.u&&(a.clearTimeout(f.u),f.u=null),ct(f),f.h.cancel(),f.s&&(typeof f.s=="number"&&a.clearTimeout(f.s),f.s=null)}function w(f){if(!wl(f.h)&&!f.s){f.s=!0;var N=f.Ga;ae||ye(),ee||(ae(),ee=!0),se.add(N,f),f.B=0}}function F(f,N){return xl(f.h)>=f.h.j-(f.s?1:0)?!1:f.s?(f.i=N.D.concat(f.i),!0):f.G==1||f.G==2||f.B>=(f.Va?0:f.Wa)?!1:(f.s=xr(g(f.Ga,f,N),zt(f,f.B)),f.B++,!0)}t.Ga=function(f){if(this.s)if(this.s=null,this.G==1){if(!f){this.U=Math.floor(1e5*Math.random()),f=this.U++;const me=new Xn(this,this.j,f);let _e=this.o;if(this.S&&(_e?(_e=C(_e),M(_e,this.S)):_e=this.S),this.m!==null||this.O||(me.H=_e,_e=null),this.P)e:{for(var N=0,j=0;j<this.i.length;j++){t:{var $=this.i[j];if("__data__"in $.map&&($=$.map.__data__,typeof $=="string")){$=$.length;break t}$=void 0}if($===void 0)break;if(N+=$,4096<N){N=j;break e}if(N===4096||j===this.i.length-1){N=j+1;break e}}N=1e3}else N=1e3;N=de(this,me,N),j=oi(this.I),Mt(j,"RID",f),Mt(j,"CVER",22),this.D&&Mt(j,"X-HTTP-Session-Id",this.D),re(this,j),_e&&(this.O?N="headers="+encodeURIComponent(String(ko(_e)))+"&"+N:this.m&&Nl(j,this.m,_e)),bl(this.h,me),this.Ua&&Mt(j,"TYPE","init"),this.P?(Mt(j,"$req",N),Mt(j,"SID","null"),me.T=!0,Ks(me,j,null)):Ks(me,j,N),this.G=2}}else this.G==3&&(f?X(this,f):this.i.length==0||wl(this.h)||X(this))};function X(f,N){var j;N?j=N.l:j=f.U++;const $=oi(f.I);Mt($,"SID",f.K),Mt($,"RID",j),Mt($,"AID",f.T),re(f,$),f.m&&f.o&&Nl($,f.m,f.o),j=new Xn(f,f.j,j,f.B+1),f.m===null&&(j.H=f.o),N&&(f.i=N.D.concat(f.i)),N=de(f,j,1e3),j.I=Math.round(.5*f.wa)+Math.round(.5*f.wa*Math.random()),bl(f.h,j),Ks(j,$,N)}function re(f,N){f.H&&Y(f.H,function(j,$){Mt(N,$,j)}),f.l&&Xs({},function(j,$){Mt(N,$,j)})}function de(f,N,j){j=Math.min(f.i.length,j);var $=f.l?g(f.l.Na,f.l,f):null;e:{var me=f.i;let _e=-1;for(;;){const Oe=["count="+j];_e==-1?0<j?(_e=me[0].g,Oe.push("ofs="+_e)):_e=0:Oe.push("ofs="+_e);let Vt=!0;for(let Rn=0;Rn<j;Rn++){let Rt=me[Rn].g;const It=me[Rn].map;if(Rt-=_e,0>Rt)_e=Math.max(0,me[Rn].g-100),Vt=!1;else try{Qc(It,Oe,"req"+Rt+"_")}catch{$&&$(It)}}if(Vt){$=Oe.join("&");break e}}}return f=f.i.splice(0,j),N.D=f,$}function Ce(f){if(!f.g&&!f.u){f.Y=1;var N=f.Fa;ae||ye(),ee||(ae(),ee=!0),se.add(N,f),f.v=0}}function Re(f){return f.g||f.u||3<=f.v?!1:(f.Y++,f.u=xr(g(f.Fa,f),zt(f,f.v)),f.v++,!0)}t.Fa=function(){if(this.u=null,Ye(this),this.ba&&!(this.M||this.g==null||0>=this.R)){var f=2*this.R;this.j.info("BP detection timer enabled: "+f),this.A=xr(g(this.ab,this),f)}},t.ab=function(){this.A&&(this.A=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.M=!0,wn(10),as(this),Ye(this))};function He(f){f.A!=null&&(a.clearTimeout(f.A),f.A=null)}function Ye(f){f.g=new Xn(f,f.j,"rpc",f.Y),f.m===null&&(f.g.H=f.o),f.g.O=0;var N=oi(f.qa);Mt(N,"RID","rpc"),Mt(N,"SID",f.K),Mt(N,"AID",f.T),Mt(N,"CI",f.F?"0":"1"),!f.F&&f.ja&&Mt(N,"TO",f.ja),Mt(N,"TYPE","xmlhttp"),re(f,N),f.m&&f.o&&Nl(N,f.m,f.o),f.L&&(f.g.I=f.L);var j=f.g;f=f.ia,j.L=1,j.v=Co(oi(N)),j.m=null,j.P=!0,No(j,f)}t.Za=function(){this.C!=null&&(this.C=null,as(this),Re(this),wn(19))};function ct(f){f.C!=null&&(a.clearTimeout(f.C),f.C=null)}function yt(f,N){var j=null;if(f.g==N){ct(f),He(f),f.g=null;var $=2}else if(Ys(f.h,N))j=N.D,kn(f.h,N),$=1;else return;if(f.G!=0){if(N.o)if($==1){j=N.m?N.m.length:0,N=Date.now()-N.F;var me=f.B;$=Yn(),St($,new is($,j)),w(f)}else Ce(f);else if(me=N.s,me==3||me==0&&0<N.X||!($==1&&F(f,N)||$==2&&Re(f)))switch(j&&0<j.length&&(N=f.h,N.i=N.i.concat(j)),me){case 1:Xt(f,5);break;case 4:Xt(f,10);break;case 3:Xt(f,6);break;default:Xt(f,2)}}}function zt(f,N){let j=f.Ta+Math.floor(Math.random()*f.cb);return f.isActive()||(j*=2),j*N}function Xt(f,N){if(f.j.info("Error code "+N),N==2){var j=g(f.fb,f),$=f.Xa;const me=!$;$=new tn($||"//www.google.com/images/cleardot.gif"),a.location&&a.location.protocol=="http"||ua($,"https"),Co($),me?Gc($.toString(),j):Kc($.toString(),j)}else wn(2);f.G=0,f.l&&f.l.sa(N),In(f),Pl(f)}t.fb=function(f){f?(this.j.info("Successfully pinged google.com"),wn(2)):(this.j.info("Failed to ping google.com"),wn(1))};function In(f){if(f.G=0,f.ka=[],f.l){const N=_l(f.h);(N.length!=0||f.i.length!=0)&&(A(f.ka,N),A(f.ka,f.i),f.h.i.length=0,x(f.i),f.i.length=0),f.l.ra()}}function nn(f,N,j){var $=j instanceof tn?oi(j):new tn(j);if($.g!="")N&&($.g=N+"."+$.g),ca($,$.s);else{var me=a.location;$=me.protocol,N=N?N+"."+me.hostname:me.hostname,me=+me.port;var _e=new tn(null);$&&ua(_e,$),N&&(_e.g=N),me&&ca(_e,me),j&&(_e.l=j),$=_e}return j=f.D,N=f.ya,j&&N&&Mt($,j,N),Mt($,"VER",f.la),re(f,$),$}function Bn(f,N,j){if(N&&!f.J)throw Error("Can't create secondary domain capable XhrIo object.");return N=f.Ca&&!f.pa?new cn(new fa({eb:j})):new cn(f.pa),N.Ha(f.J),N}t.isActive=function(){return!!this.l&&this.l.isActive(this)};function Ln(){}t=Ln.prototype,t.ua=function(){},t.ta=function(){},t.sa=function(){},t.ra=function(){},t.isActive=function(){return!0},t.Na=function(){};function Un(){}Un.prototype.g=function(f,N){return new pn(f,N)};function pn(f,N){tt.call(this),this.g=new Cl(N),this.l=f,this.h=N&&N.messageUrlParams||null,f=N&&N.messageHeaders||null,N&&N.clientProtocolHeaderRequired&&(f?f["X-Client-Protocol"]="webchannel":f={"X-Client-Protocol":"webchannel"}),this.g.o=f,f=N&&N.initMessageHeaders||null,N&&N.messageContentType&&(f?f["X-WebChannel-Content-Type"]=N.messageContentType:f={"X-WebChannel-Content-Type":N.messageContentType}),N&&N.va&&(f?f["X-WebChannel-Client-Profile"]=N.va:f={"X-WebChannel-Client-Profile":N.va}),this.g.S=f,(f=N&&N.Sb)&&!_(f)&&(this.g.m=f),this.v=N&&N.supportsCrossDomainXhr||!1,this.u=N&&N.sendRawJson||!1,(N=N&&N.httpSessionIdParam)&&!_(N)&&(this.g.D=N,f=this.h,f!==null&&N in f&&(f=this.h,N in f&&delete f[N])),this.j=new Oi(this)}b(pn,tt),pn.prototype.m=function(){this.g.l=this.j,this.v&&(this.g.J=!0),this.g.connect(this.l,this.h||void 0)},pn.prototype.close=function(){ma(this.g)},pn.prototype.o=function(f){var N=this.g;if(typeof f=="string"){var j={};j.__data__=f,f=j}else this.u&&(j={},j.__data__=gt(f),f=j);N.i.push(new yl(N.Ya++,f)),N.G==3&&w(N)},pn.prototype.N=function(){this.g.l=null,delete this.j,ma(this.g),delete this.g,pn.aa.N.call(this)};function Cr(f){Yt.call(this),f.__headers__&&(this.headers=f.__headers__,this.statusCode=f.__status__,delete f.__headers__,delete f.__status__);var N=f.__sm__;if(N){e:{for(const j in N){f=j;break e}f=void 0}(this.i=f)&&(f=this.i,N=N!==null&&f in N?N[f]:void 0),this.data=N}else this.data=f}b(Cr,Yt);function kl(){ft.call(this),this.status=1}b(kl,ft);function Oi(f){this.g=f}b(Oi,Ln),Oi.prototype.ua=function(){St(this.g,"a")},Oi.prototype.ta=function(f){St(this.g,new Cr(f))},Oi.prototype.sa=function(f){St(this.g,new kl)},Oi.prototype.ra=function(){St(this.g,"b")},Un.prototype.createWebChannel=Un.prototype.g,pn.prototype.send=pn.prototype.o,pn.prototype.open=pn.prototype.m,pn.prototype.close=pn.prototype.close,h8=function(){return new Un},c8=function(){return Yn()},u8=Lt,u2={mb:0,pb:1,qb:2,Jb:3,Ob:4,Lb:5,Mb:6,Kb:7,Ib:8,Nb:9,PROXY:10,NOPROXY:11,Gb:12,Cb:13,Db:14,Bb:15,Eb:16,Fb:17,ib:18,hb:19,jb:20},zr.NO_ERROR=0,zr.TIMEOUT=8,zr.HTTP_ERROR=6,xp=zr,ji.COMPLETE="complete",l8=ji,Nn.EventType=vn,vn.OPEN="a",vn.CLOSE="b",vn.ERROR="c",vn.MESSAGE="d",tt.prototype.listen=tt.prototype.K,Th=Nn,cn.prototype.listenOnce=cn.prototype.L,cn.prototype.getLastError=cn.prototype.Ka,cn.prototype.getLastErrorCode=cn.prototype.Ba,cn.prototype.getStatus=cn.prototype.Z,cn.prototype.getResponseJson=cn.prototype.Oa,cn.prototype.getResponseText=cn.prototype.oa,cn.prototype.send=cn.prototype.ea,cn.prototype.setWithCredentials=cn.prototype.Ha,a8=cn}).apply(typeof Hd<"u"?Hd:typeof self<"u"?self:typeof window<"u"?window:{});const qx="@firebase/firestore";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zr{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}Zr.UNAUTHENTICATED=new Zr(null),Zr.GOOGLE_CREDENTIALS=new Zr("google-credentials-uid"),Zr.FIRST_PARTY=new Zr("first-party-uid"),Zr.MOCK_USER=new Zr("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Mc="10.14.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ou=new e8("@firebase/firestore");function vh(){return ou.logLevel}function Xe(t,...e){if(ou.logLevel<=Wt.DEBUG){const n=e.map(iv);ou.debug(`Firestore (${Mc}): ${t}`,...n)}}function Zo(t,...e){if(ou.logLevel<=Wt.ERROR){const n=e.map(iv);ou.error(`Firestore (${Mc}): ${t}`,...n)}}function bc(t,...e){if(ou.logLevel<=Wt.WARN){const n=e.map(iv);ou.warn(`Firestore (${Mc}): ${t}`,...n)}}function iv(t){if(typeof t=="string")return t;try{/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/return function(n){return JSON.stringify(n)}(t)}catch{return t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function bt(t="Unexpected state"){const e=`FIRESTORE (${Mc}) INTERNAL ASSERTION FAILED: `+t;throw Zo(e),new Error(e)}function un(t,e){t||bt()}function Et(t,e){return t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ie={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class $e extends Dc{constructor(e,n){super(e,n),this.code=e,this.message=n,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Go{constructor(){this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class f8{constructor(e,n){this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class XL{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,n){e.enqueueRetryable(()=>n(Zr.UNAUTHENTICATED))}shutdown(){}}class JL{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,n){this.changeListener=n,e.enqueueRetryable(()=>n(this.token.user))}shutdown(){this.changeListener=null}}class ZL{constructor(e){this.t=e,this.currentUser=Zr.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,n){un(this.o===void 0);let r=this.i;const i=l=>this.i!==r?(r=this.i,n(l)):Promise.resolve();let s=new Go;this.o=()=>{this.i++,this.currentUser=this.u(),s.resolve(),s=new Go,e.enqueueRetryable(()=>i(this.currentUser))};const o=()=>{const l=s;e.enqueueRetryable(async()=>{await l.promise,await i(this.currentUser)})},a=l=>{Xe("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=l,this.o&&(this.auth.addAuthTokenListener(this.o),o())};this.t.onInit(l=>a(l)),setTimeout(()=>{if(!this.auth){const l=this.t.getImmediate({optional:!0});l?a(l):(Xe("FirebaseAuthCredentialsProvider","Auth not yet detected"),s.resolve(),s=new Go)}},0),o()}getToken(){const e=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then(r=>this.i!==e?(Xe("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):r?(un(typeof r.accessToken=="string"),new f8(r.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return un(e===null||typeof e=="string"),new Zr(e)}}class eR{constructor(e,n,r){this.l=e,this.h=n,this.P=r,this.type="FirstParty",this.user=Zr.FIRST_PARTY,this.I=new Map}T(){return this.P?this.P():null}get headers(){this.I.set("X-Goog-AuthUser",this.l);const e=this.T();return e&&this.I.set("Authorization",e),this.h&&this.I.set("X-Goog-Iam-Authorization-Token",this.h),this.I}}class tR{constructor(e,n,r){this.l=e,this.h=n,this.P=r}getToken(){return Promise.resolve(new eR(this.l,this.h,this.P))}start(e,n){e.enqueueRetryable(()=>n(Zr.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class nR{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class rR{constructor(e){this.A=e,this.forceRefresh=!1,this.appCheck=null,this.R=null}start(e,n){un(this.o===void 0);const r=s=>{s.error!=null&&Xe("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${s.error.message}`);const o=s.token!==this.R;return this.R=s.token,Xe("FirebaseAppCheckTokenProvider",`Received ${o?"new":"existing"} token.`),o?n(s.token):Promise.resolve()};this.o=s=>{e.enqueueRetryable(()=>r(s))};const i=s=>{Xe("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=s,this.o&&this.appCheck.addTokenListener(this.o)};this.A.onInit(s=>i(s)),setTimeout(()=>{if(!this.appCheck){const s=this.A.getImmediate({optional:!0});s?i(s):Xe("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(n=>n?(un(typeof n.token=="string"),this.R=n.token,new nR(n.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function iR(t){const e=typeof self<"u"&&(self.crypto||self.msCrypto),n=new Uint8Array(t);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(n);else for(let r=0;r<t;r++)n[r]=Math.floor(256*Math.random());return n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class d8{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n=Math.floor(256/e.length)*e.length;let r="";for(;r.length<20;){const i=iR(40);for(let s=0;s<i.length;++s)r.length<20&&i[s]<n&&(r+=e.charAt(i[s]%e.length))}return r}}function Qt(t,e){return t<e?-1:t>e?1:0}function _c(t,e,n){return t.length===e.length&&t.every((r,i)=>n(r,e[i]))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qn{constructor(e,n){if(this.seconds=e,this.nanoseconds=n,n<0)throw new $e(Ie.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new $e(Ie.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(e<-62135596800)throw new $e(Ie.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new $e(Ie.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}static now(){return Qn.fromMillis(Date.now())}static fromDate(e){return Qn.fromMillis(e.getTime())}static fromMillis(e){const n=Math.floor(e/1e3),r=Math.floor(1e6*(e-1e3*n));return new Qn(n,r)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/1e6}_compareTo(e){return this.seconds===e.seconds?Qt(this.nanoseconds,e.nanoseconds):Qt(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){const e=this.seconds- -62135596800;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Nt{constructor(e){this.timestamp=e}static fromTimestamp(e){return new Nt(e)}static min(){return new Nt(new Qn(0,0))}static max(){return new Nt(new Qn(253402300799,999999999))}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bf{constructor(e,n,r){n===void 0?n=0:n>e.length&&bt(),r===void 0?r=e.length-n:r>e.length-n&&bt(),this.segments=e,this.offset=n,this.len=r}get length(){return this.len}isEqual(e){return bf.comparator(this,e)===0}child(e){const n=this.segments.slice(this.offset,this.limit());return e instanceof bf?e.forEach(r=>{n.push(r)}):n.push(e),this.construct(n)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}forEach(e){for(let n=this.offset,r=this.limit();n<r;n++)e(this.segments[n])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,n){const r=Math.min(e.length,n.length);for(let i=0;i<r;i++){const s=e.get(i),o=n.get(i);if(s<o)return-1;if(s>o)return 1}return e.length<n.length?-1:e.length>n.length?1:0}}class _n extends bf{construct(e,n,r){return new _n(e,n,r)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const n=[];for(const r of e){if(r.indexOf("//")>=0)throw new $e(Ie.INVALID_ARGUMENT,`Invalid segment (${r}). Paths must not contain // in them.`);n.push(...r.split("/").filter(i=>i.length>0))}return new _n(n)}static emptyPath(){return new _n([])}}const sR=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class Mr extends bf{construct(e,n,r){return new Mr(e,n,r)}static isValidIdentifier(e){return sR.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),Mr.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)==="__name__"}static keyField(){return new Mr(["__name__"])}static fromServerFormat(e){const n=[];let r="",i=0;const s=()=>{if(r.length===0)throw new $e(Ie.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);n.push(r),r=""};let o=!1;for(;i<e.length;){const a=e[i];if(a==="\\"){if(i+1===e.length)throw new $e(Ie.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const l=e[i+1];if(l!=="\\"&&l!=="."&&l!=="`")throw new $e(Ie.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);r+=l,i+=2}else a==="`"?(o=!o,i++):a!=="."||o?(r+=a,i++):(s(),i++)}if(s(),o)throw new $e(Ie.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new Mr(n)}static emptyPath(){return new Mr([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class at{constructor(e){this.path=e}static fromPath(e){return new at(_n.fromString(e))}static fromName(e){return new at(_n.fromString(e).popFirst(5))}static empty(){return new at(_n.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&_n.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,n){return _n.comparator(e.path,n.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new at(new _n(e.slice()))}}function oR(t,e){const n=t.toTimestamp().seconds,r=t.toTimestamp().nanoseconds+1,i=Nt.fromTimestamp(r===1e9?new Qn(n+1,0):new Qn(n,r));return new rl(i,at.empty(),e)}function aR(t){return new rl(t.readTime,t.key,-1)}class rl{constructor(e,n,r){this.readTime=e,this.documentKey=n,this.largestBatchId=r}static min(){return new rl(Nt.min(),at.empty(),-1)}static max(){return new rl(Nt.max(),at.empty(),-1)}}function lR(t,e){let n=t.readTime.compareTo(e.readTime);return n!==0?n:(n=at.comparator(t.documentKey,e.documentKey),n!==0?n:Qt(t.largestBatchId,e.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const uR="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class cR{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function $f(t){if(t.code!==Ie.FAILED_PRECONDITION||t.message!==uR)throw t;Xe("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class De{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(n=>{this.isDone=!0,this.result=n,this.nextCallback&&this.nextCallback(n)},n=>{this.isDone=!0,this.error=n,this.catchCallback&&this.catchCallback(n)})}catch(e){return this.next(void 0,e)}next(e,n){return this.callbackAttached&&bt(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(e,this.result):new De((r,i)=>{this.nextCallback=s=>{this.wrapSuccess(e,s).next(r,i)},this.catchCallback=s=>{this.wrapFailure(n,s).next(r,i)}})}toPromise(){return new Promise((e,n)=>{this.next(e,n)})}wrapUserFunction(e){try{const n=e();return n instanceof De?n:De.resolve(n)}catch(n){return De.reject(n)}}wrapSuccess(e,n){return e?this.wrapUserFunction(()=>e(n)):De.resolve(n)}wrapFailure(e,n){return e?this.wrapUserFunction(()=>e(n)):De.reject(n)}static resolve(e){return new De((n,r)=>{n(e)})}static reject(e){return new De((n,r)=>{r(e)})}static waitFor(e){return new De((n,r)=>{let i=0,s=0,o=!1;e.forEach(a=>{++i,a.next(()=>{++s,o&&s===i&&n()},l=>r(l))}),o=!0,s===i&&n()})}static or(e){let n=De.resolve(!1);for(const r of e)n=n.next(i=>i?De.resolve(i):r());return n}static forEach(e,n){const r=[];return e.forEach((i,s)=>{r.push(n.call(this,i,s))}),this.waitFor(r)}static mapArray(e,n){return new De((r,i)=>{const s=e.length,o=new Array(s);let a=0;for(let l=0;l<s;l++){const u=l;n(e[u]).next(c=>{o[u]=c,++a,a===s&&r(o)},c=>i(c))}})}static doWhile(e,n){return new De((r,i)=>{const s=()=>{e()===!0?n().next(()=>{s()},i):r()};s()})}}function hR(t){const e=t.match(/Android ([\d.]+)/i),n=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(n)}function Hf(t){return t.name==="IndexedDbTransactionError"}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sv{constructor(e,n){this.previousValue=e,n&&(n.sequenceNumberHandler=r=>this.ie(r),this.se=r=>n.writeSequenceNumber(r))}ie(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.se&&this.se(e),e}}sv.oe=-1;function Zm(t){return t==null}function fm(t){return t===0&&1/t==-1/0}function fR(t){return typeof t=="number"&&Number.isInteger(t)&&!fm(t)&&t<=Number.MAX_SAFE_INTEGER&&t>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function $x(t){let e=0;for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e++;return e}function mu(t,e){for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e(n,t[n])}function p8(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vn{constructor(e,n){this.comparator=e,this.root=n||Dr.EMPTY}insert(e,n){return new Vn(this.comparator,this.root.insert(e,n,this.comparator).copy(null,null,Dr.BLACK,null,null))}remove(e){return new Vn(this.comparator,this.root.remove(e,this.comparator).copy(null,null,Dr.BLACK,null,null))}get(e){let n=this.root;for(;!n.isEmpty();){const r=this.comparator(e,n.key);if(r===0)return n.value;r<0?n=n.left:r>0&&(n=n.right)}return null}indexOf(e){let n=0,r=this.root;for(;!r.isEmpty();){const i=this.comparator(e,r.key);if(i===0)return n+r.left.size;i<0?r=r.left:(n+=r.left.size+1,r=r.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((n,r)=>(e(n,r),!1))}toString(){const e=[];return this.inorderTraversal((n,r)=>(e.push(`${n}:${r}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new Wd(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new Wd(this.root,e,this.comparator,!1)}getReverseIterator(){return new Wd(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new Wd(this.root,e,this.comparator,!0)}}class Wd{constructor(e,n,r,i){this.isReverse=i,this.nodeStack=[];let s=1;for(;!e.isEmpty();)if(s=n?r(e.key,n):1,n&&i&&(s*=-1),s<0)e=this.isReverse?e.left:e.right;else{if(s===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const n={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return n}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class Dr{constructor(e,n,r,i,s){this.key=e,this.value=n,this.color=r??Dr.RED,this.left=i??Dr.EMPTY,this.right=s??Dr.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,n,r,i,s){return new Dr(e??this.key,n??this.value,r??this.color,i??this.left,s??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,n,r){let i=this;const s=r(e,i.key);return i=s<0?i.copy(null,null,null,i.left.insert(e,n,r),null):s===0?i.copy(null,n,null,null,null):i.copy(null,null,null,null,i.right.insert(e,n,r)),i.fixUp()}removeMin(){if(this.left.isEmpty())return Dr.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,n){let r,i=this;if(n(e,i.key)<0)i.left.isEmpty()||i.left.isRed()||i.left.left.isRed()||(i=i.moveRedLeft()),i=i.copy(null,null,null,i.left.remove(e,n),null);else{if(i.left.isRed()&&(i=i.rotateRight()),i.right.isEmpty()||i.right.isRed()||i.right.left.isRed()||(i=i.moveRedRight()),n(e,i.key)===0){if(i.right.isEmpty())return Dr.EMPTY;r=i.right.min(),i=i.copy(r.key,r.value,null,null,i.right.removeMin())}i=i.copy(null,null,null,null,i.right.remove(e,n))}return i.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,Dr.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,Dr.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,n)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw bt();const e=this.left.check();if(e!==this.right.check())throw bt();return e+(this.isRed()?0:1)}}Dr.EMPTY=null,Dr.RED=!0,Dr.BLACK=!1;Dr.EMPTY=new class{constructor(){this.size=0}get key(){throw bt()}get value(){throw bt()}get color(){throw bt()}get left(){throw bt()}get right(){throw bt()}copy(e,n,r,i,s){return this}insert(e,n,r){return new Dr(e,n)}remove(e,n){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Or{constructor(e){this.comparator=e,this.data=new Vn(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((n,r)=>(e(n),!1))}forEachInRange(e,n){const r=this.data.getIteratorFrom(e[0]);for(;r.hasNext();){const i=r.getNext();if(this.comparator(i.key,e[1])>=0)return;n(i.key)}}forEachWhile(e,n){let r;for(r=n!==void 0?this.data.getIteratorFrom(n):this.data.getIterator();r.hasNext();)if(!e(r.getNext().key))return}firstAfterOrEqual(e){const n=this.data.getIteratorFrom(e);return n.hasNext()?n.getNext().key:null}getIterator(){return new Hx(this.data.getIterator())}getIteratorFrom(e){return new Hx(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let n=this;return n.size<e.size&&(n=e,e=this),e.forEach(r=>{n=n.add(r)}),n}isEqual(e){if(!(e instanceof Or)||this.size!==e.size)return!1;const n=this.data.getIterator(),r=e.data.getIterator();for(;n.hasNext();){const i=n.getNext().key,s=r.getNext().key;if(this.comparator(i,s)!==0)return!1}return!0}toArray(){const e=[];return this.forEach(n=>{e.push(n)}),e}toString(){const e=[];return this.forEach(n=>e.push(n)),"SortedSet("+e.toString()+")"}copy(e){const n=new Or(this.comparator);return n.data=e,n}}class Hx{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xi{constructor(e){this.fields=e,e.sort(Mr.comparator)}static empty(){return new Xi([])}unionWith(e){let n=new Or(Mr.comparator);for(const r of this.fields)n=n.add(r);for(const r of e)n=n.add(r);return new Xi(n.toArray())}covers(e){for(const n of this.fields)if(n.isPrefixOf(e))return!0;return!1}isEqual(e){return _c(this.fields,e.fields,(n,r)=>n.isEqual(r))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class m8 extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Br{constructor(e){this.binaryString=e}static fromBase64String(e){const n=function(i){try{return atob(i)}catch(s){throw typeof DOMException<"u"&&s instanceof DOMException?new m8("Invalid base64 string: "+s):s}}(e);return new Br(n)}static fromUint8Array(e){const n=function(i){let s="";for(let o=0;o<i.length;++o)s+=String.fromCharCode(i[o]);return s}(e);return new Br(n)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return function(n){return btoa(n)}(this.binaryString)}toUint8Array(){return function(n){const r=new Uint8Array(n.length);for(let i=0;i<n.length;i++)r[i]=n.charCodeAt(i);return r}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return Qt(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}Br.EMPTY_BYTE_STRING=new Br("");const dR=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function il(t){if(un(!!t),typeof t=="string"){let e=0;const n=dR.exec(t);if(un(!!n),n[1]){let i=n[1];i=(i+"000000000").substr(0,9),e=Number(i)}const r=new Date(t);return{seconds:Math.floor(r.getTime()/1e3),nanos:e}}return{seconds:rr(t.seconds),nanos:rr(t.nanos)}}function rr(t){return typeof t=="number"?t:typeof t=="string"?Number(t):0}function au(t){return typeof t=="string"?Br.fromBase64String(t):Br.fromUint8Array(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ov(t){var e,n;return((n=(((e=t==null?void 0:t.mapValue)===null||e===void 0?void 0:e.fields)||{}).__type__)===null||n===void 0?void 0:n.stringValue)==="server_timestamp"}function av(t){const e=t.mapValue.fields.__previous_value__;return ov(e)?av(e):e}function _f(t){const e=il(t.mapValue.fields.__local_write_time__.timestampValue);return new Qn(e.seconds,e.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pR{constructor(e,n,r,i,s,o,a,l,u){this.databaseId=e,this.appId=n,this.persistenceKey=r,this.host=i,this.ssl=s,this.forceLongPolling=o,this.autoDetectLongPolling=a,this.longPollingOptions=l,this.useFetchStreams=u}}class Sf{constructor(e,n){this.projectId=e,this.database=n||"(default)"}static empty(){return new Sf("","")}get isDefaultDatabase(){return this.database==="(default)"}isEqual(e){return e instanceof Sf&&e.projectId===this.projectId&&e.database===this.database}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Gd={mapValue:{}};function lu(t){return"nullValue"in t?0:"booleanValue"in t?1:"integerValue"in t||"doubleValue"in t?2:"timestampValue"in t?3:"stringValue"in t?5:"bytesValue"in t?6:"referenceValue"in t?7:"geoPointValue"in t?8:"arrayValue"in t?9:"mapValue"in t?ov(t)?4:gR(t)?9007199254740991:mR(t)?10:11:bt()}function bo(t,e){if(t===e)return!0;const n=lu(t);if(n!==lu(e))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return t.booleanValue===e.booleanValue;case 4:return _f(t).isEqual(_f(e));case 3:return function(i,s){if(typeof i.timestampValue=="string"&&typeof s.timestampValue=="string"&&i.timestampValue.length===s.timestampValue.length)return i.timestampValue===s.timestampValue;const o=il(i.timestampValue),a=il(s.timestampValue);return o.seconds===a.seconds&&o.nanos===a.nanos}(t,e);case 5:return t.stringValue===e.stringValue;case 6:return function(i,s){return au(i.bytesValue).isEqual(au(s.bytesValue))}(t,e);case 7:return t.referenceValue===e.referenceValue;case 8:return function(i,s){return rr(i.geoPointValue.latitude)===rr(s.geoPointValue.latitude)&&rr(i.geoPointValue.longitude)===rr(s.geoPointValue.longitude)}(t,e);case 2:return function(i,s){if("integerValue"in i&&"integerValue"in s)return rr(i.integerValue)===rr(s.integerValue);if("doubleValue"in i&&"doubleValue"in s){const o=rr(i.doubleValue),a=rr(s.doubleValue);return o===a?fm(o)===fm(a):isNaN(o)&&isNaN(a)}return!1}(t,e);case 9:return _c(t.arrayValue.values||[],e.arrayValue.values||[],bo);case 10:case 11:return function(i,s){const o=i.mapValue.fields||{},a=s.mapValue.fields||{};if($x(o)!==$x(a))return!1;for(const l in o)if(o.hasOwnProperty(l)&&(a[l]===void 0||!bo(o[l],a[l])))return!1;return!0}(t,e);default:return bt()}}function Af(t,e){return(t.values||[]).find(n=>bo(n,e))!==void 0}function Sc(t,e){if(t===e)return 0;const n=lu(t),r=lu(e);if(n!==r)return Qt(n,r);switch(n){case 0:case 9007199254740991:return 0;case 1:return Qt(t.booleanValue,e.booleanValue);case 2:return function(s,o){const a=rr(s.integerValue||s.doubleValue),l=rr(o.integerValue||o.doubleValue);return a<l?-1:a>l?1:a===l?0:isNaN(a)?isNaN(l)?0:-1:1}(t,e);case 3:return Wx(t.timestampValue,e.timestampValue);case 4:return Wx(_f(t),_f(e));case 5:return Qt(t.stringValue,e.stringValue);case 6:return function(s,o){const a=au(s),l=au(o);return a.compareTo(l)}(t.bytesValue,e.bytesValue);case 7:return function(s,o){const a=s.split("/"),l=o.split("/");for(let u=0;u<a.length&&u<l.length;u++){const c=Qt(a[u],l[u]);if(c!==0)return c}return Qt(a.length,l.length)}(t.referenceValue,e.referenceValue);case 8:return function(s,o){const a=Qt(rr(s.latitude),rr(o.latitude));return a!==0?a:Qt(rr(s.longitude),rr(o.longitude))}(t.geoPointValue,e.geoPointValue);case 9:return Gx(t.arrayValue,e.arrayValue);case 10:return function(s,o){var a,l,u,c;const d=s.fields||{},g=o.fields||{},m=(a=d.value)===null||a===void 0?void 0:a.arrayValue,b=(l=g.value)===null||l===void 0?void 0:l.arrayValue,x=Qt(((u=m==null?void 0:m.values)===null||u===void 0?void 0:u.length)||0,((c=b==null?void 0:b.values)===null||c===void 0?void 0:c.length)||0);return x!==0?x:Gx(m,b)}(t.mapValue,e.mapValue);case 11:return function(s,o){if(s===Gd.mapValue&&o===Gd.mapValue)return 0;if(s===Gd.mapValue)return 1;if(o===Gd.mapValue)return-1;const a=s.fields||{},l=Object.keys(a),u=o.fields||{},c=Object.keys(u);l.sort(),c.sort();for(let d=0;d<l.length&&d<c.length;++d){const g=Qt(l[d],c[d]);if(g!==0)return g;const m=Sc(a[l[d]],u[c[d]]);if(m!==0)return m}return Qt(l.length,c.length)}(t.mapValue,e.mapValue);default:throw bt()}}function Wx(t,e){if(typeof t=="string"&&typeof e=="string"&&t.length===e.length)return Qt(t,e);const n=il(t),r=il(e),i=Qt(n.seconds,r.seconds);return i!==0?i:Qt(n.nanos,r.nanos)}function Gx(t,e){const n=t.values||[],r=e.values||[];for(let i=0;i<n.length&&i<r.length;++i){const s=Sc(n[i],r[i]);if(s)return s}return Qt(n.length,r.length)}function Ac(t){return c2(t)}function c2(t){return"nullValue"in t?"null":"booleanValue"in t?""+t.booleanValue:"integerValue"in t?""+t.integerValue:"doubleValue"in t?""+t.doubleValue:"timestampValue"in t?function(n){const r=il(n);return`time(${r.seconds},${r.nanos})`}(t.timestampValue):"stringValue"in t?t.stringValue:"bytesValue"in t?function(n){return au(n).toBase64()}(t.bytesValue):"referenceValue"in t?function(n){return at.fromName(n).toString()}(t.referenceValue):"geoPointValue"in t?function(n){return`geo(${n.latitude},${n.longitude})`}(t.geoPointValue):"arrayValue"in t?function(n){let r="[",i=!0;for(const s of n.values||[])i?i=!1:r+=",",r+=c2(s);return r+"]"}(t.arrayValue):"mapValue"in t?function(n){const r=Object.keys(n.fields||{}).sort();let i="{",s=!0;for(const o of r)s?s=!1:i+=",",i+=`${o}:${c2(n.fields[o])}`;return i+"}"}(t.mapValue):bt()}function Kx(t,e){return{referenceValue:`projects/${t.projectId}/databases/${t.database}/documents/${e.path.canonicalString()}`}}function h2(t){return!!t&&"integerValue"in t}function lv(t){return!!t&&"arrayValue"in t}function Qx(t){return!!t&&"nullValue"in t}function Yx(t){return!!t&&"doubleValue"in t&&isNaN(Number(t.doubleValue))}function bp(t){return!!t&&"mapValue"in t}function mR(t){var e,n;return((n=(((e=t==null?void 0:t.mapValue)===null||e===void 0?void 0:e.fields)||{}).__type__)===null||n===void 0?void 0:n.stringValue)==="__vector__"}function Uh(t){if(t.geoPointValue)return{geoPointValue:Object.assign({},t.geoPointValue)};if(t.timestampValue&&typeof t.timestampValue=="object")return{timestampValue:Object.assign({},t.timestampValue)};if(t.mapValue){const e={mapValue:{fields:{}}};return mu(t.mapValue.fields,(n,r)=>e.mapValue.fields[n]=Uh(r)),e}if(t.arrayValue){const e={arrayValue:{values:[]}};for(let n=0;n<(t.arrayValue.values||[]).length;++n)e.arrayValue.values[n]=Uh(t.arrayValue.values[n]);return e}return Object.assign({},t)}function gR(t){return(((t.mapValue||{}).fields||{}).__type__||{}).stringValue==="__max__"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ti{constructor(e){this.value=e}static empty(){return new Ti({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let n=this.value;for(let r=0;r<e.length-1;++r)if(n=(n.mapValue.fields||{})[e.get(r)],!bp(n))return null;return n=(n.mapValue.fields||{})[e.lastSegment()],n||null}}set(e,n){this.getFieldsMap(e.popLast())[e.lastSegment()]=Uh(n)}setAll(e){let n=Mr.emptyPath(),r={},i=[];e.forEach((o,a)=>{if(!n.isImmediateParentOf(a)){const l=this.getFieldsMap(n);this.applyChanges(l,r,i),r={},i=[],n=a.popLast()}o?r[a.lastSegment()]=Uh(o):i.push(a.lastSegment())});const s=this.getFieldsMap(n);this.applyChanges(s,r,i)}delete(e){const n=this.field(e.popLast());bp(n)&&n.mapValue.fields&&delete n.mapValue.fields[e.lastSegment()]}isEqual(e){return bo(this.value,e.value)}getFieldsMap(e){let n=this.value;n.mapValue.fields||(n.mapValue={fields:{}});for(let r=0;r<e.length;++r){let i=n.mapValue.fields[e.get(r)];bp(i)&&i.mapValue.fields||(i={mapValue:{fields:{}}},n.mapValue.fields[e.get(r)]=i),n=i}return n.mapValue.fields}applyChanges(e,n,r){mu(n,(i,s)=>e[i]=s);for(const i of r)delete e[i]}clone(){return new Ti(Uh(this.value))}}function g8(t){const e=[];return mu(t.fields,(n,r)=>{const i=new Mr([n]);if(bp(r)){const s=g8(r.mapValue).fields;if(s.length===0)e.push(i);else for(const o of s)e.push(i.child(o))}else e.push(i)}),new Xi(e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ti{constructor(e,n,r,i,s,o,a){this.key=e,this.documentType=n,this.version=r,this.readTime=i,this.createTime=s,this.data=o,this.documentState=a}static newInvalidDocument(e){return new ti(e,0,Nt.min(),Nt.min(),Nt.min(),Ti.empty(),0)}static newFoundDocument(e,n,r,i){return new ti(e,1,n,Nt.min(),r,i,0)}static newNoDocument(e,n){return new ti(e,2,n,Nt.min(),Nt.min(),Ti.empty(),0)}static newUnknownDocument(e,n){return new ti(e,3,n,Nt.min(),Nt.min(),Ti.empty(),2)}convertToFoundDocument(e,n){return!this.createTime.isEqual(Nt.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=n,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=Ti.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=Ti.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=Nt.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof ti&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new ti(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dm{constructor(e,n){this.position=e,this.inclusive=n}}function Xx(t,e,n){let r=0;for(let i=0;i<t.position.length;i++){const s=e[i],o=t.position[i];if(s.field.isKeyField()?r=at.comparator(at.fromName(o.referenceValue),n.key):r=Sc(o,n.data.field(s.field)),s.dir==="desc"&&(r*=-1),r!==0)break}return r}function Jx(t,e){if(t===null)return e===null;if(e===null||t.inclusive!==e.inclusive||t.position.length!==e.position.length)return!1;for(let n=0;n<t.position.length;n++)if(!bo(t.position[n],e.position[n]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pm{constructor(e,n="asc"){this.field=e,this.dir=n}}function yR(t,e){return t.dir===e.dir&&t.field.isEqual(e.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class y8{}class dr extends y8{constructor(e,n,r){super(),this.field=e,this.op=n,this.value=r}static create(e,n,r){return e.isKeyField()?n==="in"||n==="not-in"?this.createKeyFieldInFilter(e,n,r):new wR(e,n,r):n==="array-contains"?new _R(e,r):n==="in"?new SR(e,r):n==="not-in"?new AR(e,r):n==="array-contains-any"?new NR(e,r):new dr(e,n,r)}static createKeyFieldInFilter(e,n,r){return n==="in"?new xR(e,r):new bR(e,r)}matches(e){const n=e.data.field(this.field);return this.op==="!="?n!==null&&this.matchesComparison(Sc(n,this.value)):n!==null&&lu(this.value)===lu(n)&&this.matchesComparison(Sc(n,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return bt()}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class Bs extends y8{constructor(e,n){super(),this.filters=e,this.op=n,this.ae=null}static create(e,n){return new Bs(e,n)}matches(e){return v8(this)?this.filters.find(n=>!n.matches(e))===void 0:this.filters.find(n=>n.matches(e))!==void 0}getFlattenedFilters(){return this.ae!==null||(this.ae=this.filters.reduce((e,n)=>e.concat(n.getFlattenedFilters()),[])),this.ae}getFilters(){return Object.assign([],this.filters)}}function v8(t){return t.op==="and"}function w8(t){return vR(t)&&v8(t)}function vR(t){for(const e of t.filters)if(e instanceof Bs)return!1;return!0}function f2(t){if(t instanceof dr)return t.field.canonicalString()+t.op.toString()+Ac(t.value);if(w8(t))return t.filters.map(e=>f2(e)).join(",");{const e=t.filters.map(n=>f2(n)).join(",");return`${t.op}(${e})`}}function x8(t,e){return t instanceof dr?function(r,i){return i instanceof dr&&r.op===i.op&&r.field.isEqual(i.field)&&bo(r.value,i.value)}(t,e):t instanceof Bs?function(r,i){return i instanceof Bs&&r.op===i.op&&r.filters.length===i.filters.length?r.filters.reduce((s,o,a)=>s&&x8(o,i.filters[a]),!0):!1}(t,e):void bt()}function b8(t){return t instanceof dr?function(n){return`${n.field.canonicalString()} ${n.op} ${Ac(n.value)}`}(t):t instanceof Bs?function(n){return n.op.toString()+" {"+n.getFilters().map(b8).join(" ,")+"}"}(t):"Filter"}class wR extends dr{constructor(e,n,r){super(e,n,r),this.key=at.fromName(r.referenceValue)}matches(e){const n=at.comparator(e.key,this.key);return this.matchesComparison(n)}}class xR extends dr{constructor(e,n){super(e,"in",n),this.keys=_8("in",n)}matches(e){return this.keys.some(n=>n.isEqual(e.key))}}class bR extends dr{constructor(e,n){super(e,"not-in",n),this.keys=_8("not-in",n)}matches(e){return!this.keys.some(n=>n.isEqual(e.key))}}function _8(t,e){var n;return(((n=e.arrayValue)===null||n===void 0?void 0:n.values)||[]).map(r=>at.fromName(r.referenceValue))}class _R extends dr{constructor(e,n){super(e,"array-contains",n)}matches(e){const n=e.data.field(this.field);return lv(n)&&Af(n.arrayValue,this.value)}}class SR extends dr{constructor(e,n){super(e,"in",n)}matches(e){const n=e.data.field(this.field);return n!==null&&Af(this.value.arrayValue,n)}}class AR extends dr{constructor(e,n){super(e,"not-in",n)}matches(e){if(Af(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const n=e.data.field(this.field);return n!==null&&!Af(this.value.arrayValue,n)}}class NR extends dr{constructor(e,n){super(e,"array-contains-any",n)}matches(e){const n=e.data.field(this.field);return!(!lv(n)||!n.arrayValue.values)&&n.arrayValue.values.some(r=>Af(this.value.arrayValue,r))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ER{constructor(e,n=null,r=[],i=[],s=null,o=null,a=null){this.path=e,this.collectionGroup=n,this.orderBy=r,this.filters=i,this.limit=s,this.startAt=o,this.endAt=a,this.ue=null}}function Zx(t,e=null,n=[],r=[],i=null,s=null,o=null){return new ER(t,e,n,r,i,s,o)}function uv(t){const e=Et(t);if(e.ue===null){let n=e.path.canonicalString();e.collectionGroup!==null&&(n+="|cg:"+e.collectionGroup),n+="|f:",n+=e.filters.map(r=>f2(r)).join(","),n+="|ob:",n+=e.orderBy.map(r=>function(s){return s.field.canonicalString()+s.dir}(r)).join(","),Zm(e.limit)||(n+="|l:",n+=e.limit),e.startAt&&(n+="|lb:",n+=e.startAt.inclusive?"b:":"a:",n+=e.startAt.position.map(r=>Ac(r)).join(",")),e.endAt&&(n+="|ub:",n+=e.endAt.inclusive?"a:":"b:",n+=e.endAt.position.map(r=>Ac(r)).join(",")),e.ue=n}return e.ue}function cv(t,e){if(t.limit!==e.limit||t.orderBy.length!==e.orderBy.length)return!1;for(let n=0;n<t.orderBy.length;n++)if(!yR(t.orderBy[n],e.orderBy[n]))return!1;if(t.filters.length!==e.filters.length)return!1;for(let n=0;n<t.filters.length;n++)if(!x8(t.filters[n],e.filters[n]))return!1;return t.collectionGroup===e.collectionGroup&&!!t.path.isEqual(e.path)&&!!Jx(t.startAt,e.startAt)&&Jx(t.endAt,e.endAt)}function d2(t){return at.isDocumentKey(t.path)&&t.collectionGroup===null&&t.filters.length===0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wf{constructor(e,n=null,r=[],i=[],s=null,o="F",a=null,l=null){this.path=e,this.collectionGroup=n,this.explicitOrderBy=r,this.filters=i,this.limit=s,this.limitType=o,this.startAt=a,this.endAt=l,this.ce=null,this.le=null,this.he=null,this.startAt,this.endAt}}function TR(t,e,n,r,i,s,o,a){return new Wf(t,e,n,r,i,s,o,a)}function e0(t){return new Wf(t)}function e4(t){return t.filters.length===0&&t.limit===null&&t.startAt==null&&t.endAt==null&&(t.explicitOrderBy.length===0||t.explicitOrderBy.length===1&&t.explicitOrderBy[0].field.isKeyField())}function S8(t){return t.collectionGroup!==null}function zh(t){const e=Et(t);if(e.ce===null){e.ce=[];const n=new Set;for(const s of e.explicitOrderBy)e.ce.push(s),n.add(s.field.canonicalString());const r=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(o){let a=new Or(Mr.comparator);return o.filters.forEach(l=>{l.getFlattenedFilters().forEach(u=>{u.isInequality()&&(a=a.add(u.field))})}),a})(e).forEach(s=>{n.has(s.canonicalString())||s.isKeyField()||e.ce.push(new pm(s,r))}),n.has(Mr.keyField().canonicalString())||e.ce.push(new pm(Mr.keyField(),r))}return e.ce}function go(t){const e=Et(t);return e.le||(e.le=CR(e,zh(t))),e.le}function CR(t,e){if(t.limitType==="F")return Zx(t.path,t.collectionGroup,e,t.filters,t.limit,t.startAt,t.endAt);{e=e.map(i=>{const s=i.dir==="desc"?"asc":"desc";return new pm(i.field,s)});const n=t.endAt?new dm(t.endAt.position,t.endAt.inclusive):null,r=t.startAt?new dm(t.startAt.position,t.startAt.inclusive):null;return Zx(t.path,t.collectionGroup,e,t.filters,t.limit,n,r)}}function p2(t,e){const n=t.filters.concat([e]);return new Wf(t.path,t.collectionGroup,t.explicitOrderBy.slice(),n,t.limit,t.limitType,t.startAt,t.endAt)}function m2(t,e,n){return new Wf(t.path,t.collectionGroup,t.explicitOrderBy.slice(),t.filters.slice(),e,n,t.startAt,t.endAt)}function t0(t,e){return cv(go(t),go(e))&&t.limitType===e.limitType}function A8(t){return`${uv(go(t))}|lt:${t.limitType}`}function ku(t){return`Query(target=${function(n){let r=n.path.canonicalString();return n.collectionGroup!==null&&(r+=" collectionGroup="+n.collectionGroup),n.filters.length>0&&(r+=`, filters: [${n.filters.map(i=>b8(i)).join(", ")}]`),Zm(n.limit)||(r+=", limit: "+n.limit),n.orderBy.length>0&&(r+=`, orderBy: [${n.orderBy.map(i=>function(o){return`${o.field.canonicalString()} (${o.dir})`}(i)).join(", ")}]`),n.startAt&&(r+=", startAt: ",r+=n.startAt.inclusive?"b:":"a:",r+=n.startAt.position.map(i=>Ac(i)).join(",")),n.endAt&&(r+=", endAt: ",r+=n.endAt.inclusive?"a:":"b:",r+=n.endAt.position.map(i=>Ac(i)).join(",")),`Target(${r})`}(go(t))}; limitType=${t.limitType})`}function n0(t,e){return e.isFoundDocument()&&function(r,i){const s=i.key.path;return r.collectionGroup!==null?i.key.hasCollectionId(r.collectionGroup)&&r.path.isPrefixOf(s):at.isDocumentKey(r.path)?r.path.isEqual(s):r.path.isImmediateParentOf(s)}(t,e)&&function(r,i){for(const s of zh(r))if(!s.field.isKeyField()&&i.data.field(s.field)===null)return!1;return!0}(t,e)&&function(r,i){for(const s of r.filters)if(!s.matches(i))return!1;return!0}(t,e)&&function(r,i){return!(r.startAt&&!function(o,a,l){const u=Xx(o,a,l);return o.inclusive?u<=0:u<0}(r.startAt,zh(r),i)||r.endAt&&!function(o,a,l){const u=Xx(o,a,l);return o.inclusive?u>=0:u>0}(r.endAt,zh(r),i))}(t,e)}function PR(t){return t.collectionGroup||(t.path.length%2==1?t.path.lastSegment():t.path.get(t.path.length-2))}function N8(t){return(e,n)=>{let r=!1;for(const i of zh(t)){const s=kR(i,e,n);if(s!==0)return s;r=r||i.field.isKeyField()}return 0}}function kR(t,e,n){const r=t.field.isKeyField()?at.comparator(e.key,n.key):function(s,o,a){const l=o.data.field(s),u=a.data.field(s);return l!==null&&u!==null?Sc(l,u):bt()}(t.field,e,n);switch(t.dir){case"asc":return r;case"desc":return-1*r;default:return bt()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fc{constructor(e,n){this.mapKeyFn=e,this.equalsFn=n,this.inner={},this.innerSize=0}get(e){const n=this.mapKeyFn(e),r=this.inner[n];if(r!==void 0){for(const[i,s]of r)if(this.equalsFn(i,e))return s}}has(e){return this.get(e)!==void 0}set(e,n){const r=this.mapKeyFn(e),i=this.inner[r];if(i===void 0)return this.inner[r]=[[e,n]],void this.innerSize++;for(let s=0;s<i.length;s++)if(this.equalsFn(i[s][0],e))return void(i[s]=[e,n]);i.push([e,n]),this.innerSize++}delete(e){const n=this.mapKeyFn(e),r=this.inner[n];if(r===void 0)return!1;for(let i=0;i<r.length;i++)if(this.equalsFn(r[i][0],e))return r.length===1?delete this.inner[n]:r.splice(i,1),this.innerSize--,!0;return!1}forEach(e){mu(this.inner,(n,r)=>{for(const[i,s]of r)e(i,s)})}isEmpty(){return p8(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const IR=new Vn(at.comparator);function ea(){return IR}const E8=new Vn(at.comparator);function Ch(...t){let e=E8;for(const n of t)e=e.insert(n.key,n);return e}function T8(t){let e=E8;return t.forEach((n,r)=>e=e.insert(n,r.overlayedDocument)),e}function Hl(){return qh()}function C8(){return qh()}function qh(){return new Fc(t=>t.toString(),(t,e)=>t.isEqual(e))}const LR=new Vn(at.comparator),RR=new Or(at.comparator);function Ft(...t){let e=RR;for(const n of t)e=e.add(n);return e}const jR=new Or(Qt);function DR(){return jR}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function hv(t,e){if(t.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:fm(e)?"-0":e}}function P8(t){return{integerValue:""+t}}function MR(t,e){return fR(e)?P8(e):hv(t,e)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class r0{constructor(){this._=void 0}}function FR(t,e,n){return t instanceof mm?function(i,s){const o={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:i.seconds,nanos:i.nanoseconds}}}};return s&&ov(s)&&(s=av(s)),s&&(o.fields.__previous_value__=s),{mapValue:o}}(n,e):t instanceof Nf?I8(t,e):t instanceof Ef?L8(t,e):function(i,s){const o=k8(i,s),a=t4(o)+t4(i.Pe);return h2(o)&&h2(i.Pe)?P8(a):hv(i.serializer,a)}(t,e)}function OR(t,e,n){return t instanceof Nf?I8(t,e):t instanceof Ef?L8(t,e):n}function k8(t,e){return t instanceof gm?function(r){return h2(r)||function(s){return!!s&&"doubleValue"in s}(r)}(e)?e:{integerValue:0}:null}class mm extends r0{}class Nf extends r0{constructor(e){super(),this.elements=e}}function I8(t,e){const n=R8(e);for(const r of t.elements)n.some(i=>bo(i,r))||n.push(r);return{arrayValue:{values:n}}}class Ef extends r0{constructor(e){super(),this.elements=e}}function L8(t,e){let n=R8(e);for(const r of t.elements)n=n.filter(i=>!bo(i,r));return{arrayValue:{values:n}}}class gm extends r0{constructor(e,n){super(),this.serializer=e,this.Pe=n}}function t4(t){return rr(t.integerValue||t.doubleValue)}function R8(t){return lv(t)&&t.arrayValue.values?t.arrayValue.values.slice():[]}function VR(t,e){return t.field.isEqual(e.field)&&function(r,i){return r instanceof Nf&&i instanceof Nf||r instanceof Ef&&i instanceof Ef?_c(r.elements,i.elements,bo):r instanceof gm&&i instanceof gm?bo(r.Pe,i.Pe):r instanceof mm&&i instanceof mm}(t.transform,e.transform)}class BR{constructor(e,n){this.version=e,this.transformResults=n}}class pi{constructor(e,n){this.updateTime=e,this.exists=n}static none(){return new pi}static exists(e){return new pi(void 0,e)}static updateTime(e){return new pi(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function _p(t,e){return t.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(t.updateTime):t.exists===void 0||t.exists===e.isFoundDocument()}class i0{}function j8(t,e){if(!t.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return t.isNoDocument()?new s0(t.key,pi.none()):new Gf(t.key,t.data,pi.none());{const n=t.data,r=Ti.empty();let i=new Or(Mr.comparator);for(let s of e.fields)if(!i.has(s)){let o=n.field(s);o===null&&s.length>1&&(s=s.popLast(),o=n.field(s)),o===null?r.delete(s):r.set(s,o),i=i.add(s)}return new dl(t.key,r,new Xi(i.toArray()),pi.none())}}function UR(t,e,n){t instanceof Gf?function(i,s,o){const a=i.value.clone(),l=r4(i.fieldTransforms,s,o.transformResults);a.setAll(l),s.convertToFoundDocument(o.version,a).setHasCommittedMutations()}(t,e,n):t instanceof dl?function(i,s,o){if(!_p(i.precondition,s))return void s.convertToUnknownDocument(o.version);const a=r4(i.fieldTransforms,s,o.transformResults),l=s.data;l.setAll(D8(i)),l.setAll(a),s.convertToFoundDocument(o.version,l).setHasCommittedMutations()}(t,e,n):function(i,s,o){s.convertToNoDocument(o.version).setHasCommittedMutations()}(0,e,n)}function $h(t,e,n,r){return t instanceof Gf?function(s,o,a,l){if(!_p(s.precondition,o))return a;const u=s.value.clone(),c=i4(s.fieldTransforms,l,o);return u.setAll(c),o.convertToFoundDocument(o.version,u).setHasLocalMutations(),null}(t,e,n,r):t instanceof dl?function(s,o,a,l){if(!_p(s.precondition,o))return a;const u=i4(s.fieldTransforms,l,o),c=o.data;return c.setAll(D8(s)),c.setAll(u),o.convertToFoundDocument(o.version,c).setHasLocalMutations(),a===null?null:a.unionWith(s.fieldMask.fields).unionWith(s.fieldTransforms.map(d=>d.field))}(t,e,n,r):function(s,o,a){return _p(s.precondition,o)?(o.convertToNoDocument(o.version).setHasLocalMutations(),null):a}(t,e,n)}function zR(t,e){let n=null;for(const r of t.fieldTransforms){const i=e.data.field(r.field),s=k8(r.transform,i||null);s!=null&&(n===null&&(n=Ti.empty()),n.set(r.field,s))}return n||null}function n4(t,e){return t.type===e.type&&!!t.key.isEqual(e.key)&&!!t.precondition.isEqual(e.precondition)&&!!function(r,i){return r===void 0&&i===void 0||!(!r||!i)&&_c(r,i,(s,o)=>VR(s,o))}(t.fieldTransforms,e.fieldTransforms)&&(t.type===0?t.value.isEqual(e.value):t.type!==1||t.data.isEqual(e.data)&&t.fieldMask.isEqual(e.fieldMask))}class Gf extends i0{constructor(e,n,r,i=[]){super(),this.key=e,this.value=n,this.precondition=r,this.fieldTransforms=i,this.type=0}getFieldMask(){return null}}class dl extends i0{constructor(e,n,r,i,s=[]){super(),this.key=e,this.data=n,this.fieldMask=r,this.precondition=i,this.fieldTransforms=s,this.type=1}getFieldMask(){return this.fieldMask}}function D8(t){const e=new Map;return t.fieldMask.fields.forEach(n=>{if(!n.isEmpty()){const r=t.data.field(n);e.set(n,r)}}),e}function r4(t,e,n){const r=new Map;un(t.length===n.length);for(let i=0;i<n.length;i++){const s=t[i],o=s.transform,a=e.data.field(s.field);r.set(s.field,OR(o,a,n[i]))}return r}function i4(t,e,n){const r=new Map;for(const i of t){const s=i.transform,o=n.data.field(i.field);r.set(i.field,FR(s,o,e))}return r}class s0 extends i0{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class qR extends i0{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $R{constructor(e,n,r,i){this.batchId=e,this.localWriteTime=n,this.baseMutations=r,this.mutations=i}applyToRemoteDocument(e,n){const r=n.mutationResults;for(let i=0;i<this.mutations.length;i++){const s=this.mutations[i];s.key.isEqual(e.key)&&UR(s,e,r[i])}}applyToLocalView(e,n){for(const r of this.baseMutations)r.key.isEqual(e.key)&&(n=$h(r,e,n,this.localWriteTime));for(const r of this.mutations)r.key.isEqual(e.key)&&(n=$h(r,e,n,this.localWriteTime));return n}applyToLocalDocumentSet(e,n){const r=C8();return this.mutations.forEach(i=>{const s=e.get(i.key),o=s.overlayedDocument;let a=this.applyToLocalView(o,s.mutatedFields);a=n.has(i.key)?null:a;const l=j8(o,a);l!==null&&r.set(i.key,l),o.isValidDocument()||o.convertToNoDocument(Nt.min())}),r}keys(){return this.mutations.reduce((e,n)=>e.add(n.key),Ft())}isEqual(e){return this.batchId===e.batchId&&_c(this.mutations,e.mutations,(n,r)=>n4(n,r))&&_c(this.baseMutations,e.baseMutations,(n,r)=>n4(n,r))}}class fv{constructor(e,n,r,i){this.batch=e,this.commitVersion=n,this.mutationResults=r,this.docVersions=i}static from(e,n,r){un(e.mutations.length===r.length);let i=function(){return LR}();const s=e.mutations;for(let o=0;o<s.length;o++)i=i.insert(s[o].key,r[o].version);return new fv(e,n,r,i)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class HR{constructor(e,n){this.largestBatchId=e,this.mutation=n}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class WR{constructor(e,n){this.count=e,this.unchangedNames=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var cr,$t;function GR(t){switch(t){default:return bt();case Ie.CANCELLED:case Ie.UNKNOWN:case Ie.DEADLINE_EXCEEDED:case Ie.RESOURCE_EXHAUSTED:case Ie.INTERNAL:case Ie.UNAVAILABLE:case Ie.UNAUTHENTICATED:return!1;case Ie.INVALID_ARGUMENT:case Ie.NOT_FOUND:case Ie.ALREADY_EXISTS:case Ie.PERMISSION_DENIED:case Ie.FAILED_PRECONDITION:case Ie.ABORTED:case Ie.OUT_OF_RANGE:case Ie.UNIMPLEMENTED:case Ie.DATA_LOSS:return!0}}function M8(t){if(t===void 0)return Zo("GRPC error has no .code"),Ie.UNKNOWN;switch(t){case cr.OK:return Ie.OK;case cr.CANCELLED:return Ie.CANCELLED;case cr.UNKNOWN:return Ie.UNKNOWN;case cr.DEADLINE_EXCEEDED:return Ie.DEADLINE_EXCEEDED;case cr.RESOURCE_EXHAUSTED:return Ie.RESOURCE_EXHAUSTED;case cr.INTERNAL:return Ie.INTERNAL;case cr.UNAVAILABLE:return Ie.UNAVAILABLE;case cr.UNAUTHENTICATED:return Ie.UNAUTHENTICATED;case cr.INVALID_ARGUMENT:return Ie.INVALID_ARGUMENT;case cr.NOT_FOUND:return Ie.NOT_FOUND;case cr.ALREADY_EXISTS:return Ie.ALREADY_EXISTS;case cr.PERMISSION_DENIED:return Ie.PERMISSION_DENIED;case cr.FAILED_PRECONDITION:return Ie.FAILED_PRECONDITION;case cr.ABORTED:return Ie.ABORTED;case cr.OUT_OF_RANGE:return Ie.OUT_OF_RANGE;case cr.UNIMPLEMENTED:return Ie.UNIMPLEMENTED;case cr.DATA_LOSS:return Ie.DATA_LOSS;default:return bt()}}($t=cr||(cr={}))[$t.OK=0]="OK",$t[$t.CANCELLED=1]="CANCELLED",$t[$t.UNKNOWN=2]="UNKNOWN",$t[$t.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",$t[$t.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",$t[$t.NOT_FOUND=5]="NOT_FOUND",$t[$t.ALREADY_EXISTS=6]="ALREADY_EXISTS",$t[$t.PERMISSION_DENIED=7]="PERMISSION_DENIED",$t[$t.UNAUTHENTICATED=16]="UNAUTHENTICATED",$t[$t.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",$t[$t.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",$t[$t.ABORTED=10]="ABORTED",$t[$t.OUT_OF_RANGE=11]="OUT_OF_RANGE",$t[$t.UNIMPLEMENTED=12]="UNIMPLEMENTED",$t[$t.INTERNAL=13]="INTERNAL",$t[$t.UNAVAILABLE=14]="UNAVAILABLE",$t[$t.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function KR(){return new TextEncoder}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const QR=new Yl([4294967295,4294967295],0);function s4(t){const e=KR().encode(t),n=new o8;return n.update(e),new Uint8Array(n.digest())}function o4(t){const e=new DataView(t.buffer),n=e.getUint32(0,!0),r=e.getUint32(4,!0),i=e.getUint32(8,!0),s=e.getUint32(12,!0);return[new Yl([n,r],0),new Yl([i,s],0)]}class dv{constructor(e,n,r){if(this.bitmap=e,this.padding=n,this.hashCount=r,n<0||n>=8)throw new Ph(`Invalid padding: ${n}`);if(r<0)throw new Ph(`Invalid hash count: ${r}`);if(e.length>0&&this.hashCount===0)throw new Ph(`Invalid hash count: ${r}`);if(e.length===0&&n!==0)throw new Ph(`Invalid padding when bitmap length is 0: ${n}`);this.Ie=8*e.length-n,this.Te=Yl.fromNumber(this.Ie)}Ee(e,n,r){let i=e.add(n.multiply(Yl.fromNumber(r)));return i.compare(QR)===1&&(i=new Yl([i.getBits(0),i.getBits(1)],0)),i.modulo(this.Te).toNumber()}de(e){return(this.bitmap[Math.floor(e/8)]&1<<e%8)!=0}mightContain(e){if(this.Ie===0)return!1;const n=s4(e),[r,i]=o4(n);for(let s=0;s<this.hashCount;s++){const o=this.Ee(r,i,s);if(!this.de(o))return!1}return!0}static create(e,n,r){const i=e%8==0?0:8-e%8,s=new Uint8Array(Math.ceil(e/8)),o=new dv(s,i,n);return r.forEach(a=>o.insert(a)),o}insert(e){if(this.Ie===0)return;const n=s4(e),[r,i]=o4(n);for(let s=0;s<this.hashCount;s++){const o=this.Ee(r,i,s);this.Ae(o)}}Ae(e){const n=Math.floor(e/8),r=e%8;this.bitmap[n]|=1<<r}}class Ph extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class o0{constructor(e,n,r,i,s){this.snapshotVersion=e,this.targetChanges=n,this.targetMismatches=r,this.documentUpdates=i,this.resolvedLimboDocuments=s}static createSynthesizedRemoteEventForCurrentChange(e,n,r){const i=new Map;return i.set(e,Kf.createSynthesizedTargetChangeForCurrentChange(e,n,r)),new o0(Nt.min(),i,new Vn(Qt),ea(),Ft())}}class Kf{constructor(e,n,r,i,s){this.resumeToken=e,this.current=n,this.addedDocuments=r,this.modifiedDocuments=i,this.removedDocuments=s}static createSynthesizedTargetChangeForCurrentChange(e,n,r){return new Kf(r,n,Ft(),Ft(),Ft())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Sp{constructor(e,n,r,i){this.Re=e,this.removedTargetIds=n,this.key=r,this.Ve=i}}class F8{constructor(e,n){this.targetId=e,this.me=n}}class O8{constructor(e,n,r=Br.EMPTY_BYTE_STRING,i=null){this.state=e,this.targetIds=n,this.resumeToken=r,this.cause=i}}class a4{constructor(){this.fe=0,this.ge=u4(),this.pe=Br.EMPTY_BYTE_STRING,this.ye=!1,this.we=!0}get current(){return this.ye}get resumeToken(){return this.pe}get Se(){return this.fe!==0}get be(){return this.we}De(e){e.approximateByteSize()>0&&(this.we=!0,this.pe=e)}ve(){let e=Ft(),n=Ft(),r=Ft();return this.ge.forEach((i,s)=>{switch(s){case 0:e=e.add(i);break;case 2:n=n.add(i);break;case 1:r=r.add(i);break;default:bt()}}),new Kf(this.pe,this.ye,e,n,r)}Ce(){this.we=!1,this.ge=u4()}Fe(e,n){this.we=!0,this.ge=this.ge.insert(e,n)}Me(e){this.we=!0,this.ge=this.ge.remove(e)}xe(){this.fe+=1}Oe(){this.fe-=1,un(this.fe>=0)}Ne(){this.we=!0,this.ye=!0}}class YR{constructor(e){this.Le=e,this.Be=new Map,this.ke=ea(),this.qe=l4(),this.Qe=new Vn(Qt)}Ke(e){for(const n of e.Re)e.Ve&&e.Ve.isFoundDocument()?this.$e(n,e.Ve):this.Ue(n,e.key,e.Ve);for(const n of e.removedTargetIds)this.Ue(n,e.key,e.Ve)}We(e){this.forEachTarget(e,n=>{const r=this.Ge(n);switch(e.state){case 0:this.ze(n)&&r.De(e.resumeToken);break;case 1:r.Oe(),r.Se||r.Ce(),r.De(e.resumeToken);break;case 2:r.Oe(),r.Se||this.removeTarget(n);break;case 3:this.ze(n)&&(r.Ne(),r.De(e.resumeToken));break;case 4:this.ze(n)&&(this.je(n),r.De(e.resumeToken));break;default:bt()}})}forEachTarget(e,n){e.targetIds.length>0?e.targetIds.forEach(n):this.Be.forEach((r,i)=>{this.ze(i)&&n(i)})}He(e){const n=e.targetId,r=e.me.count,i=this.Je(n);if(i){const s=i.target;if(d2(s))if(r===0){const o=new at(s.path);this.Ue(n,o,ti.newNoDocument(o,Nt.min()))}else un(r===1);else{const o=this.Ye(n);if(o!==r){const a=this.Ze(e),l=a?this.Xe(a,e,o):1;if(l!==0){this.je(n);const u=l===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Qe=this.Qe.insert(n,u)}}}}}Ze(e){const n=e.me.unchangedNames;if(!n||!n.bits)return null;const{bits:{bitmap:r="",padding:i=0},hashCount:s=0}=n;let o,a;try{o=au(r).toUint8Array()}catch(l){if(l instanceof m8)return bc("Decoding the base64 bloom filter in existence filter failed ("+l.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw l}try{a=new dv(o,i,s)}catch(l){return bc(l instanceof Ph?"BloomFilter error: ":"Applying bloom filter failed: ",l),null}return a.Ie===0?null:a}Xe(e,n,r){return n.me.count===r-this.nt(e,n.targetId)?0:2}nt(e,n){const r=this.Le.getRemoteKeysForTarget(n);let i=0;return r.forEach(s=>{const o=this.Le.tt(),a=`projects/${o.projectId}/databases/${o.database}/documents/${s.path.canonicalString()}`;e.mightContain(a)||(this.Ue(n,s,null),i++)}),i}rt(e){const n=new Map;this.Be.forEach((s,o)=>{const a=this.Je(o);if(a){if(s.current&&d2(a.target)){const l=new at(a.target.path);this.ke.get(l)!==null||this.it(o,l)||this.Ue(o,l,ti.newNoDocument(l,e))}s.be&&(n.set(o,s.ve()),s.Ce())}});let r=Ft();this.qe.forEach((s,o)=>{let a=!0;o.forEachWhile(l=>{const u=this.Je(l);return!u||u.purpose==="TargetPurposeLimboResolution"||(a=!1,!1)}),a&&(r=r.add(s))}),this.ke.forEach((s,o)=>o.setReadTime(e));const i=new o0(e,n,this.Qe,this.ke,r);return this.ke=ea(),this.qe=l4(),this.Qe=new Vn(Qt),i}$e(e,n){if(!this.ze(e))return;const r=this.it(e,n.key)?2:0;this.Ge(e).Fe(n.key,r),this.ke=this.ke.insert(n.key,n),this.qe=this.qe.insert(n.key,this.st(n.key).add(e))}Ue(e,n,r){if(!this.ze(e))return;const i=this.Ge(e);this.it(e,n)?i.Fe(n,1):i.Me(n),this.qe=this.qe.insert(n,this.st(n).delete(e)),r&&(this.ke=this.ke.insert(n,r))}removeTarget(e){this.Be.delete(e)}Ye(e){const n=this.Ge(e).ve();return this.Le.getRemoteKeysForTarget(e).size+n.addedDocuments.size-n.removedDocuments.size}xe(e){this.Ge(e).xe()}Ge(e){let n=this.Be.get(e);return n||(n=new a4,this.Be.set(e,n)),n}st(e){let n=this.qe.get(e);return n||(n=new Or(Qt),this.qe=this.qe.insert(e,n)),n}ze(e){const n=this.Je(e)!==null;return n||Xe("WatchChangeAggregator","Detected inactive target",e),n}Je(e){const n=this.Be.get(e);return n&&n.Se?null:this.Le.ot(e)}je(e){this.Be.set(e,new a4),this.Le.getRemoteKeysForTarget(e).forEach(n=>{this.Ue(e,n,null)})}it(e,n){return this.Le.getRemoteKeysForTarget(e).has(n)}}function l4(){return new Vn(at.comparator)}function u4(){return new Vn(at.comparator)}const XR={asc:"ASCENDING",desc:"DESCENDING"},JR={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},ZR={and:"AND",or:"OR"};class ej{constructor(e,n){this.databaseId=e,this.useProto3Json=n}}function g2(t,e){return t.useProto3Json||Zm(e)?e:{value:e}}function ym(t,e){return t.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function V8(t,e){return t.useProto3Json?e.toBase64():e.toUint8Array()}function tj(t,e){return ym(t,e.toTimestamp())}function yo(t){return un(!!t),Nt.fromTimestamp(function(n){const r=il(n);return new Qn(r.seconds,r.nanos)}(t))}function pv(t,e){return y2(t,e).canonicalString()}function y2(t,e){const n=function(i){return new _n(["projects",i.projectId,"databases",i.database])}(t).child("documents");return e===void 0?n:n.child(e)}function B8(t){const e=_n.fromString(t);return un(H8(e)),e}function v2(t,e){return pv(t.databaseId,e.path)}function dg(t,e){const n=B8(e);if(n.get(1)!==t.databaseId.projectId)throw new $e(Ie.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+t.databaseId.projectId);if(n.get(3)!==t.databaseId.database)throw new $e(Ie.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+t.databaseId.database);return new at(z8(n))}function U8(t,e){return pv(t.databaseId,e)}function nj(t){const e=B8(t);return e.length===4?_n.emptyPath():z8(e)}function w2(t){return new _n(["projects",t.databaseId.projectId,"databases",t.databaseId.database]).canonicalString()}function z8(t){return un(t.length>4&&t.get(4)==="documents"),t.popFirst(5)}function c4(t,e,n){return{name:v2(t,e),fields:n.value.mapValue.fields}}function rj(t,e){let n;if("targetChange"in e){e.targetChange;const r=function(u){return u==="NO_CHANGE"?0:u==="ADD"?1:u==="REMOVE"?2:u==="CURRENT"?3:u==="RESET"?4:bt()}(e.targetChange.targetChangeType||"NO_CHANGE"),i=e.targetChange.targetIds||[],s=function(u,c){return u.useProto3Json?(un(c===void 0||typeof c=="string"),Br.fromBase64String(c||"")):(un(c===void 0||c instanceof Buffer||c instanceof Uint8Array),Br.fromUint8Array(c||new Uint8Array))}(t,e.targetChange.resumeToken),o=e.targetChange.cause,a=o&&function(u){const c=u.code===void 0?Ie.UNKNOWN:M8(u.code);return new $e(c,u.message||"")}(o);n=new O8(r,i,s,a||null)}else if("documentChange"in e){e.documentChange;const r=e.documentChange;r.document,r.document.name,r.document.updateTime;const i=dg(t,r.document.name),s=yo(r.document.updateTime),o=r.document.createTime?yo(r.document.createTime):Nt.min(),a=new Ti({mapValue:{fields:r.document.fields}}),l=ti.newFoundDocument(i,s,o,a),u=r.targetIds||[],c=r.removedTargetIds||[];n=new Sp(u,c,l.key,l)}else if("documentDelete"in e){e.documentDelete;const r=e.documentDelete;r.document;const i=dg(t,r.document),s=r.readTime?yo(r.readTime):Nt.min(),o=ti.newNoDocument(i,s),a=r.removedTargetIds||[];n=new Sp([],a,o.key,o)}else if("documentRemove"in e){e.documentRemove;const r=e.documentRemove;r.document;const i=dg(t,r.document),s=r.removedTargetIds||[];n=new Sp([],s,i,null)}else{if(!("filter"in e))return bt();{e.filter;const r=e.filter;r.targetId;const{count:i=0,unchangedNames:s}=r,o=new WR(i,s),a=r.targetId;n=new F8(a,o)}}return n}function ij(t,e){let n;if(e instanceof Gf)n={update:c4(t,e.key,e.value)};else if(e instanceof s0)n={delete:v2(t,e.key)};else if(e instanceof dl)n={update:c4(t,e.key,e.data),updateMask:dj(e.fieldMask)};else{if(!(e instanceof qR))return bt();n={verify:v2(t,e.key)}}return e.fieldTransforms.length>0&&(n.updateTransforms=e.fieldTransforms.map(r=>function(s,o){const a=o.transform;if(a instanceof mm)return{fieldPath:o.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(a instanceof Nf)return{fieldPath:o.field.canonicalString(),appendMissingElements:{values:a.elements}};if(a instanceof Ef)return{fieldPath:o.field.canonicalString(),removeAllFromArray:{values:a.elements}};if(a instanceof gm)return{fieldPath:o.field.canonicalString(),increment:a.Pe};throw bt()}(0,r))),e.precondition.isNone||(n.currentDocument=function(i,s){return s.updateTime!==void 0?{updateTime:tj(i,s.updateTime)}:s.exists!==void 0?{exists:s.exists}:bt()}(t,e.precondition)),n}function sj(t,e){return t&&t.length>0?(un(e!==void 0),t.map(n=>function(i,s){let o=i.updateTime?yo(i.updateTime):yo(s);return o.isEqual(Nt.min())&&(o=yo(s)),new BR(o,i.transformResults||[])}(n,e))):[]}function oj(t,e){return{documents:[U8(t,e.path)]}}function aj(t,e){const n={structuredQuery:{}},r=e.path;let i;e.collectionGroup!==null?(i=r,n.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(i=r.popLast(),n.structuredQuery.from=[{collectionId:r.lastSegment()}]),n.parent=U8(t,i);const s=function(u){if(u.length!==0)return $8(Bs.create(u,"and"))}(e.filters);s&&(n.structuredQuery.where=s);const o=function(u){if(u.length!==0)return u.map(c=>function(g){return{field:Iu(g.field),direction:cj(g.dir)}}(c))}(e.orderBy);o&&(n.structuredQuery.orderBy=o);const a=g2(t,e.limit);return a!==null&&(n.structuredQuery.limit=a),e.startAt&&(n.structuredQuery.startAt=function(u){return{before:u.inclusive,values:u.position}}(e.startAt)),e.endAt&&(n.structuredQuery.endAt=function(u){return{before:!u.inclusive,values:u.position}}(e.endAt)),{_t:n,parent:i}}function lj(t){let e=nj(t.parent);const n=t.structuredQuery,r=n.from?n.from.length:0;let i=null;if(r>0){un(r===1);const c=n.from[0];c.allDescendants?i=c.collectionId:e=e.child(c.collectionId)}let s=[];n.where&&(s=function(d){const g=q8(d);return g instanceof Bs&&w8(g)?g.getFilters():[g]}(n.where));let o=[];n.orderBy&&(o=function(d){return d.map(g=>function(b){return new pm(Lu(b.field),function(A){switch(A){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(b.direction))}(g))}(n.orderBy));let a=null;n.limit&&(a=function(d){let g;return g=typeof d=="object"?d.value:d,Zm(g)?null:g}(n.limit));let l=null;n.startAt&&(l=function(d){const g=!!d.before,m=d.values||[];return new dm(m,g)}(n.startAt));let u=null;return n.endAt&&(u=function(d){const g=!d.before,m=d.values||[];return new dm(m,g)}(n.endAt)),TR(e,i,o,s,a,"F",l,u)}function uj(t,e){const n=function(i){switch(i){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return bt()}}(e.purpose);return n==null?null:{"goog-listen-tags":n}}function q8(t){return t.unaryFilter!==void 0?function(n){switch(n.unaryFilter.op){case"IS_NAN":const r=Lu(n.unaryFilter.field);return dr.create(r,"==",{doubleValue:NaN});case"IS_NULL":const i=Lu(n.unaryFilter.field);return dr.create(i,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const s=Lu(n.unaryFilter.field);return dr.create(s,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const o=Lu(n.unaryFilter.field);return dr.create(o,"!=",{nullValue:"NULL_VALUE"});default:return bt()}}(t):t.fieldFilter!==void 0?function(n){return dr.create(Lu(n.fieldFilter.field),function(i){switch(i){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return bt()}}(n.fieldFilter.op),n.fieldFilter.value)}(t):t.compositeFilter!==void 0?function(n){return Bs.create(n.compositeFilter.filters.map(r=>q8(r)),function(i){switch(i){case"AND":return"and";case"OR":return"or";default:return bt()}}(n.compositeFilter.op))}(t):bt()}function cj(t){return XR[t]}function hj(t){return JR[t]}function fj(t){return ZR[t]}function Iu(t){return{fieldPath:t.canonicalString()}}function Lu(t){return Mr.fromServerFormat(t.fieldPath)}function $8(t){return t instanceof dr?function(n){if(n.op==="=="){if(Yx(n.value))return{unaryFilter:{field:Iu(n.field),op:"IS_NAN"}};if(Qx(n.value))return{unaryFilter:{field:Iu(n.field),op:"IS_NULL"}}}else if(n.op==="!="){if(Yx(n.value))return{unaryFilter:{field:Iu(n.field),op:"IS_NOT_NAN"}};if(Qx(n.value))return{unaryFilter:{field:Iu(n.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:Iu(n.field),op:hj(n.op),value:n.value}}}(t):t instanceof Bs?function(n){const r=n.getFilters().map(i=>$8(i));return r.length===1?r[0]:{compositeFilter:{op:fj(n.op),filters:r}}}(t):bt()}function dj(t){const e=[];return t.fields.forEach(n=>e.push(n.canonicalString())),{fieldPaths:e}}function H8(t){return t.length>=4&&t.get(0)==="projects"&&t.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ba{constructor(e,n,r,i,s=Nt.min(),o=Nt.min(),a=Br.EMPTY_BYTE_STRING,l=null){this.target=e,this.targetId=n,this.purpose=r,this.sequenceNumber=i,this.snapshotVersion=s,this.lastLimboFreeSnapshotVersion=o,this.resumeToken=a,this.expectedCount=l}withSequenceNumber(e){return new Ba(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,n){return new Ba(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new Ba(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new Ba(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pj{constructor(e){this.ct=e}}function mj(t){const e=lj({parent:t.parent,structuredQuery:t.structuredQuery});return t.limitType==="LAST"?m2(e,e.limit,"L"):e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gj{constructor(){this.un=new yj}addToCollectionParentIndex(e,n){return this.un.add(n),De.resolve()}getCollectionParents(e,n){return De.resolve(this.un.getEntries(n))}addFieldIndex(e,n){return De.resolve()}deleteFieldIndex(e,n){return De.resolve()}deleteAllFieldIndexes(e){return De.resolve()}createTargetIndexes(e,n){return De.resolve()}getDocumentsMatchingTarget(e,n){return De.resolve(null)}getIndexType(e,n){return De.resolve(0)}getFieldIndexes(e,n){return De.resolve([])}getNextCollectionGroupToUpdate(e){return De.resolve(null)}getMinOffset(e,n){return De.resolve(rl.min())}getMinOffsetFromCollectionGroup(e,n){return De.resolve(rl.min())}updateCollectionGroup(e,n,r){return De.resolve()}updateIndexEntries(e,n){return De.resolve()}}class yj{constructor(){this.index={}}add(e){const n=e.lastSegment(),r=e.popLast(),i=this.index[n]||new Or(_n.comparator),s=!i.has(r);return this.index[n]=i.add(r),s}has(e){const n=e.lastSegment(),r=e.popLast(),i=this.index[n];return i&&i.has(r)}getEntries(e){return(this.index[e]||new Or(_n.comparator)).toArray()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Nc{constructor(e){this.Ln=e}next(){return this.Ln+=2,this.Ln}static Bn(){return new Nc(0)}static kn(){return new Nc(-1)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vj{constructor(){this.changes=new Fc(e=>e.toString(),(e,n)=>e.isEqual(n)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,n){this.assertNotApplied(),this.changes.set(e,ti.newInvalidDocument(e).setReadTime(n))}getEntry(e,n){this.assertNotApplied();const r=this.changes.get(n);return r!==void 0?De.resolve(r):this.getFromCache(e,n)}getEntries(e,n){return this.getAllFromCache(e,n)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wj{constructor(e,n){this.overlayedDocument=e,this.mutatedFields=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xj{constructor(e,n,r,i){this.remoteDocumentCache=e,this.mutationQueue=n,this.documentOverlayCache=r,this.indexManager=i}getDocument(e,n){let r=null;return this.documentOverlayCache.getOverlay(e,n).next(i=>(r=i,this.remoteDocumentCache.getEntry(e,n))).next(i=>(r!==null&&$h(r.mutation,i,Xi.empty(),Qn.now()),i))}getDocuments(e,n){return this.remoteDocumentCache.getEntries(e,n).next(r=>this.getLocalViewOfDocuments(e,r,Ft()).next(()=>r))}getLocalViewOfDocuments(e,n,r=Ft()){const i=Hl();return this.populateOverlays(e,i,n).next(()=>this.computeViews(e,n,i,r).next(s=>{let o=Ch();return s.forEach((a,l)=>{o=o.insert(a,l.overlayedDocument)}),o}))}getOverlayedDocuments(e,n){const r=Hl();return this.populateOverlays(e,r,n).next(()=>this.computeViews(e,n,r,Ft()))}populateOverlays(e,n,r){const i=[];return r.forEach(s=>{n.has(s)||i.push(s)}),this.documentOverlayCache.getOverlays(e,i).next(s=>{s.forEach((o,a)=>{n.set(o,a)})})}computeViews(e,n,r,i){let s=ea();const o=qh(),a=function(){return qh()}();return n.forEach((l,u)=>{const c=r.get(u.key);i.has(u.key)&&(c===void 0||c.mutation instanceof dl)?s=s.insert(u.key,u):c!==void 0?(o.set(u.key,c.mutation.getFieldMask()),$h(c.mutation,u,c.mutation.getFieldMask(),Qn.now())):o.set(u.key,Xi.empty())}),this.recalculateAndSaveOverlays(e,s).next(l=>(l.forEach((u,c)=>o.set(u,c)),n.forEach((u,c)=>{var d;return a.set(u,new wj(c,(d=o.get(u))!==null&&d!==void 0?d:null))}),a))}recalculateAndSaveOverlays(e,n){const r=qh();let i=new Vn((o,a)=>o-a),s=Ft();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,n).next(o=>{for(const a of o)a.keys().forEach(l=>{const u=n.get(l);if(u===null)return;let c=r.get(l)||Xi.empty();c=a.applyToLocalView(u,c),r.set(l,c);const d=(i.get(a.batchId)||Ft()).add(l);i=i.insert(a.batchId,d)})}).next(()=>{const o=[],a=i.getReverseIterator();for(;a.hasNext();){const l=a.getNext(),u=l.key,c=l.value,d=C8();c.forEach(g=>{if(!s.has(g)){const m=j8(n.get(g),r.get(g));m!==null&&d.set(g,m),s=s.add(g)}}),o.push(this.documentOverlayCache.saveOverlays(e,u,d))}return De.waitFor(o)}).next(()=>r)}recalculateAndSaveOverlaysForDocumentKeys(e,n){return this.remoteDocumentCache.getEntries(e,n).next(r=>this.recalculateAndSaveOverlays(e,r))}getDocumentsMatchingQuery(e,n,r,i){return function(o){return at.isDocumentKey(o.path)&&o.collectionGroup===null&&o.filters.length===0}(n)?this.getDocumentsMatchingDocumentQuery(e,n.path):S8(n)?this.getDocumentsMatchingCollectionGroupQuery(e,n,r,i):this.getDocumentsMatchingCollectionQuery(e,n,r,i)}getNextDocuments(e,n,r,i){return this.remoteDocumentCache.getAllFromCollectionGroup(e,n,r,i).next(s=>{const o=i-s.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,n,r.largestBatchId,i-s.size):De.resolve(Hl());let a=-1,l=s;return o.next(u=>De.forEach(u,(c,d)=>(a<d.largestBatchId&&(a=d.largestBatchId),s.get(c)?De.resolve():this.remoteDocumentCache.getEntry(e,c).next(g=>{l=l.insert(c,g)}))).next(()=>this.populateOverlays(e,u,s)).next(()=>this.computeViews(e,l,u,Ft())).next(c=>({batchId:a,changes:T8(c)})))})}getDocumentsMatchingDocumentQuery(e,n){return this.getDocument(e,new at(n)).next(r=>{let i=Ch();return r.isFoundDocument()&&(i=i.insert(r.key,r)),i})}getDocumentsMatchingCollectionGroupQuery(e,n,r,i){const s=n.collectionGroup;let o=Ch();return this.indexManager.getCollectionParents(e,s).next(a=>De.forEach(a,l=>{const u=function(d,g){return new Wf(g,null,d.explicitOrderBy.slice(),d.filters.slice(),d.limit,d.limitType,d.startAt,d.endAt)}(n,l.child(s));return this.getDocumentsMatchingCollectionQuery(e,u,r,i).next(c=>{c.forEach((d,g)=>{o=o.insert(d,g)})})}).next(()=>o))}getDocumentsMatchingCollectionQuery(e,n,r,i){let s;return this.documentOverlayCache.getOverlaysForCollection(e,n.path,r.largestBatchId).next(o=>(s=o,this.remoteDocumentCache.getDocumentsMatchingQuery(e,n,r,s,i))).next(o=>{s.forEach((l,u)=>{const c=u.getKey();o.get(c)===null&&(o=o.insert(c,ti.newInvalidDocument(c)))});let a=Ch();return o.forEach((l,u)=>{const c=s.get(l);c!==void 0&&$h(c.mutation,u,Xi.empty(),Qn.now()),n0(n,u)&&(a=a.insert(l,u))}),a})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bj{constructor(e){this.serializer=e,this.hr=new Map,this.Pr=new Map}getBundleMetadata(e,n){return De.resolve(this.hr.get(n))}saveBundleMetadata(e,n){return this.hr.set(n.id,function(i){return{id:i.id,version:i.version,createTime:yo(i.createTime)}}(n)),De.resolve()}getNamedQuery(e,n){return De.resolve(this.Pr.get(n))}saveNamedQuery(e,n){return this.Pr.set(n.name,function(i){return{name:i.name,query:mj(i.bundledQuery),readTime:yo(i.readTime)}}(n)),De.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _j{constructor(){this.overlays=new Vn(at.comparator),this.Ir=new Map}getOverlay(e,n){return De.resolve(this.overlays.get(n))}getOverlays(e,n){const r=Hl();return De.forEach(n,i=>this.getOverlay(e,i).next(s=>{s!==null&&r.set(i,s)})).next(()=>r)}saveOverlays(e,n,r){return r.forEach((i,s)=>{this.ht(e,n,s)}),De.resolve()}removeOverlaysForBatchId(e,n,r){const i=this.Ir.get(r);return i!==void 0&&(i.forEach(s=>this.overlays=this.overlays.remove(s)),this.Ir.delete(r)),De.resolve()}getOverlaysForCollection(e,n,r){const i=Hl(),s=n.length+1,o=new at(n.child("")),a=this.overlays.getIteratorFrom(o);for(;a.hasNext();){const l=a.getNext().value,u=l.getKey();if(!n.isPrefixOf(u.path))break;u.path.length===s&&l.largestBatchId>r&&i.set(l.getKey(),l)}return De.resolve(i)}getOverlaysForCollectionGroup(e,n,r,i){let s=new Vn((u,c)=>u-c);const o=this.overlays.getIterator();for(;o.hasNext();){const u=o.getNext().value;if(u.getKey().getCollectionGroup()===n&&u.largestBatchId>r){let c=s.get(u.largestBatchId);c===null&&(c=Hl(),s=s.insert(u.largestBatchId,c)),c.set(u.getKey(),u)}}const a=Hl(),l=s.getIterator();for(;l.hasNext()&&(l.getNext().value.forEach((u,c)=>a.set(u,c)),!(a.size()>=i)););return De.resolve(a)}ht(e,n,r){const i=this.overlays.get(r.key);if(i!==null){const o=this.Ir.get(i.largestBatchId).delete(r.key);this.Ir.set(i.largestBatchId,o)}this.overlays=this.overlays.insert(r.key,new HR(n,r));let s=this.Ir.get(n);s===void 0&&(s=Ft(),this.Ir.set(n,s)),this.Ir.set(n,s.add(r.key))}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Sj{constructor(){this.sessionToken=Br.EMPTY_BYTE_STRING}getSessionToken(e){return De.resolve(this.sessionToken)}setSessionToken(e,n){return this.sessionToken=n,De.resolve()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mv{constructor(){this.Tr=new Or(Ar.Er),this.dr=new Or(Ar.Ar)}isEmpty(){return this.Tr.isEmpty()}addReference(e,n){const r=new Ar(e,n);this.Tr=this.Tr.add(r),this.dr=this.dr.add(r)}Rr(e,n){e.forEach(r=>this.addReference(r,n))}removeReference(e,n){this.Vr(new Ar(e,n))}mr(e,n){e.forEach(r=>this.removeReference(r,n))}gr(e){const n=new at(new _n([])),r=new Ar(n,e),i=new Ar(n,e+1),s=[];return this.dr.forEachInRange([r,i],o=>{this.Vr(o),s.push(o.key)}),s}pr(){this.Tr.forEach(e=>this.Vr(e))}Vr(e){this.Tr=this.Tr.delete(e),this.dr=this.dr.delete(e)}yr(e){const n=new at(new _n([])),r=new Ar(n,e),i=new Ar(n,e+1);let s=Ft();return this.dr.forEachInRange([r,i],o=>{s=s.add(o.key)}),s}containsKey(e){const n=new Ar(e,0),r=this.Tr.firstAfterOrEqual(n);return r!==null&&e.isEqual(r.key)}}class Ar{constructor(e,n){this.key=e,this.wr=n}static Er(e,n){return at.comparator(e.key,n.key)||Qt(e.wr,n.wr)}static Ar(e,n){return Qt(e.wr,n.wr)||at.comparator(e.key,n.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Aj{constructor(e,n){this.indexManager=e,this.referenceDelegate=n,this.mutationQueue=[],this.Sr=1,this.br=new Or(Ar.Er)}checkEmpty(e){return De.resolve(this.mutationQueue.length===0)}addMutationBatch(e,n,r,i){const s=this.Sr;this.Sr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const o=new $R(s,n,r,i);this.mutationQueue.push(o);for(const a of i)this.br=this.br.add(new Ar(a.key,s)),this.indexManager.addToCollectionParentIndex(e,a.key.path.popLast());return De.resolve(o)}lookupMutationBatch(e,n){return De.resolve(this.Dr(n))}getNextMutationBatchAfterBatchId(e,n){const r=n+1,i=this.vr(r),s=i<0?0:i;return De.resolve(this.mutationQueue.length>s?this.mutationQueue[s]:null)}getHighestUnacknowledgedBatchId(){return De.resolve(this.mutationQueue.length===0?-1:this.Sr-1)}getAllMutationBatches(e){return De.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,n){const r=new Ar(n,0),i=new Ar(n,Number.POSITIVE_INFINITY),s=[];return this.br.forEachInRange([r,i],o=>{const a=this.Dr(o.wr);s.push(a)}),De.resolve(s)}getAllMutationBatchesAffectingDocumentKeys(e,n){let r=new Or(Qt);return n.forEach(i=>{const s=new Ar(i,0),o=new Ar(i,Number.POSITIVE_INFINITY);this.br.forEachInRange([s,o],a=>{r=r.add(a.wr)})}),De.resolve(this.Cr(r))}getAllMutationBatchesAffectingQuery(e,n){const r=n.path,i=r.length+1;let s=r;at.isDocumentKey(s)||(s=s.child(""));const o=new Ar(new at(s),0);let a=new Or(Qt);return this.br.forEachWhile(l=>{const u=l.key.path;return!!r.isPrefixOf(u)&&(u.length===i&&(a=a.add(l.wr)),!0)},o),De.resolve(this.Cr(a))}Cr(e){const n=[];return e.forEach(r=>{const i=this.Dr(r);i!==null&&n.push(i)}),n}removeMutationBatch(e,n){un(this.Fr(n.batchId,"removed")===0),this.mutationQueue.shift();let r=this.br;return De.forEach(n.mutations,i=>{const s=new Ar(i.key,n.batchId);return r=r.delete(s),this.referenceDelegate.markPotentiallyOrphaned(e,i.key)}).next(()=>{this.br=r})}On(e){}containsKey(e,n){const r=new Ar(n,0),i=this.br.firstAfterOrEqual(r);return De.resolve(n.isEqual(i&&i.key))}performConsistencyCheck(e){return this.mutationQueue.length,De.resolve()}Fr(e,n){return this.vr(e)}vr(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Dr(e){const n=this.vr(e);return n<0||n>=this.mutationQueue.length?null:this.mutationQueue[n]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Nj{constructor(e){this.Mr=e,this.docs=function(){return new Vn(at.comparator)}(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,n){const r=n.key,i=this.docs.get(r),s=i?i.size:0,o=this.Mr(n);return this.docs=this.docs.insert(r,{document:n.mutableCopy(),size:o}),this.size+=o-s,this.indexManager.addToCollectionParentIndex(e,r.path.popLast())}removeEntry(e){const n=this.docs.get(e);n&&(this.docs=this.docs.remove(e),this.size-=n.size)}getEntry(e,n){const r=this.docs.get(n);return De.resolve(r?r.document.mutableCopy():ti.newInvalidDocument(n))}getEntries(e,n){let r=ea();return n.forEach(i=>{const s=this.docs.get(i);r=r.insert(i,s?s.document.mutableCopy():ti.newInvalidDocument(i))}),De.resolve(r)}getDocumentsMatchingQuery(e,n,r,i){let s=ea();const o=n.path,a=new at(o.child("")),l=this.docs.getIteratorFrom(a);for(;l.hasNext();){const{key:u,value:{document:c}}=l.getNext();if(!o.isPrefixOf(u.path))break;u.path.length>o.length+1||lR(aR(c),r)<=0||(i.has(c.key)||n0(n,c))&&(s=s.insert(c.key,c.mutableCopy()))}return De.resolve(s)}getAllFromCollectionGroup(e,n,r,i){bt()}Or(e,n){return De.forEach(this.docs,r=>n(r))}newChangeBuffer(e){return new Ej(this)}getSize(e){return De.resolve(this.size)}}class Ej extends vj{constructor(e){super(),this.cr=e}applyChanges(e){const n=[];return this.changes.forEach((r,i)=>{i.isValidDocument()?n.push(this.cr.addEntry(e,i)):this.cr.removeEntry(r)}),De.waitFor(n)}getFromCache(e,n){return this.cr.getEntry(e,n)}getAllFromCache(e,n){return this.cr.getEntries(e,n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Tj{constructor(e){this.persistence=e,this.Nr=new Fc(n=>uv(n),cv),this.lastRemoteSnapshotVersion=Nt.min(),this.highestTargetId=0,this.Lr=0,this.Br=new mv,this.targetCount=0,this.kr=Nc.Bn()}forEachTarget(e,n){return this.Nr.forEach((r,i)=>n(i)),De.resolve()}getLastRemoteSnapshotVersion(e){return De.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return De.resolve(this.Lr)}allocateTargetId(e){return this.highestTargetId=this.kr.next(),De.resolve(this.highestTargetId)}setTargetsMetadata(e,n,r){return r&&(this.lastRemoteSnapshotVersion=r),n>this.Lr&&(this.Lr=n),De.resolve()}Kn(e){this.Nr.set(e.target,e);const n=e.targetId;n>this.highestTargetId&&(this.kr=new Nc(n),this.highestTargetId=n),e.sequenceNumber>this.Lr&&(this.Lr=e.sequenceNumber)}addTargetData(e,n){return this.Kn(n),this.targetCount+=1,De.resolve()}updateTargetData(e,n){return this.Kn(n),De.resolve()}removeTargetData(e,n){return this.Nr.delete(n.target),this.Br.gr(n.targetId),this.targetCount-=1,De.resolve()}removeTargets(e,n,r){let i=0;const s=[];return this.Nr.forEach((o,a)=>{a.sequenceNumber<=n&&r.get(a.targetId)===null&&(this.Nr.delete(o),s.push(this.removeMatchingKeysForTargetId(e,a.targetId)),i++)}),De.waitFor(s).next(()=>i)}getTargetCount(e){return De.resolve(this.targetCount)}getTargetData(e,n){const r=this.Nr.get(n)||null;return De.resolve(r)}addMatchingKeys(e,n,r){return this.Br.Rr(n,r),De.resolve()}removeMatchingKeys(e,n,r){this.Br.mr(n,r);const i=this.persistence.referenceDelegate,s=[];return i&&n.forEach(o=>{s.push(i.markPotentiallyOrphaned(e,o))}),De.waitFor(s)}removeMatchingKeysForTargetId(e,n){return this.Br.gr(n),De.resolve()}getMatchingKeysForTargetId(e,n){const r=this.Br.yr(n);return De.resolve(r)}containsKey(e,n){return De.resolve(this.Br.containsKey(n))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Cj{constructor(e,n){this.qr={},this.overlays={},this.Qr=new sv(0),this.Kr=!1,this.Kr=!0,this.$r=new Sj,this.referenceDelegate=e(this),this.Ur=new Tj(this),this.indexManager=new gj,this.remoteDocumentCache=function(i){return new Nj(i)}(r=>this.referenceDelegate.Wr(r)),this.serializer=new pj(n),this.Gr=new bj(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.Kr=!1,Promise.resolve()}get started(){return this.Kr}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let n=this.overlays[e.toKey()];return n||(n=new _j,this.overlays[e.toKey()]=n),n}getMutationQueue(e,n){let r=this.qr[e.toKey()];return r||(r=new Aj(n,this.referenceDelegate),this.qr[e.toKey()]=r),r}getGlobalsCache(){return this.$r}getTargetCache(){return this.Ur}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Gr}runTransaction(e,n,r){Xe("MemoryPersistence","Starting transaction:",e);const i=new Pj(this.Qr.next());return this.referenceDelegate.zr(),r(i).next(s=>this.referenceDelegate.jr(i).next(()=>s)).toPromise().then(s=>(i.raiseOnCommittedEvent(),s))}Hr(e,n){return De.or(Object.values(this.qr).map(r=>()=>r.containsKey(e,n)))}}class Pj extends cR{constructor(e){super(),this.currentSequenceNumber=e}}class gv{constructor(e){this.persistence=e,this.Jr=new mv,this.Yr=null}static Zr(e){return new gv(e)}get Xr(){if(this.Yr)return this.Yr;throw bt()}addReference(e,n,r){return this.Jr.addReference(r,n),this.Xr.delete(r.toString()),De.resolve()}removeReference(e,n,r){return this.Jr.removeReference(r,n),this.Xr.add(r.toString()),De.resolve()}markPotentiallyOrphaned(e,n){return this.Xr.add(n.toString()),De.resolve()}removeTarget(e,n){this.Jr.gr(n.targetId).forEach(i=>this.Xr.add(i.toString()));const r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(e,n.targetId).next(i=>{i.forEach(s=>this.Xr.add(s.toString()))}).next(()=>r.removeTargetData(e,n))}zr(){this.Yr=new Set}jr(e){const n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return De.forEach(this.Xr,r=>{const i=at.fromPath(r);return this.ei(e,i).next(s=>{s||n.removeEntry(i,Nt.min())})}).next(()=>(this.Yr=null,n.apply(e)))}updateLimboDocument(e,n){return this.ei(e,n).next(r=>{r?this.Xr.delete(n.toString()):this.Xr.add(n.toString())})}Wr(e){return 0}ei(e,n){return De.or([()=>De.resolve(this.Jr.containsKey(n)),()=>this.persistence.getTargetCache().containsKey(e,n),()=>this.persistence.Hr(e,n)])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yv{constructor(e,n,r,i){this.targetId=e,this.fromCache=n,this.$i=r,this.Ui=i}static Wi(e,n){let r=Ft(),i=Ft();for(const s of n.docChanges)switch(s.type){case 0:r=r.add(s.doc.key);break;case 1:i=i.add(s.doc.key)}return new yv(e,n.fromCache,r,i)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kj{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ij{constructor(){this.Gi=!1,this.zi=!1,this.ji=100,this.Hi=function(){return RI()?8:hR(II())>0?6:4}()}initialize(e,n){this.Ji=e,this.indexManager=n,this.Gi=!0}getDocumentsMatchingQuery(e,n,r,i){const s={result:null};return this.Yi(e,n).next(o=>{s.result=o}).next(()=>{if(!s.result)return this.Zi(e,n,i,r).next(o=>{s.result=o})}).next(()=>{if(s.result)return;const o=new kj;return this.Xi(e,n,o).next(a=>{if(s.result=a,this.zi)return this.es(e,n,o,a.size)})}).next(()=>s.result)}es(e,n,r,i){return r.documentReadCount<this.ji?(vh()<=Wt.DEBUG&&Xe("QueryEngine","SDK will not create cache indexes for query:",ku(n),"since it only creates cache indexes for collection contains","more than or equal to",this.ji,"documents"),De.resolve()):(vh()<=Wt.DEBUG&&Xe("QueryEngine","Query:",ku(n),"scans",r.documentReadCount,"local documents and returns",i,"documents as results."),r.documentReadCount>this.Hi*i?(vh()<=Wt.DEBUG&&Xe("QueryEngine","The SDK decides to create cache indexes for query:",ku(n),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,go(n))):De.resolve())}Yi(e,n){if(e4(n))return De.resolve(null);let r=go(n);return this.indexManager.getIndexType(e,r).next(i=>i===0?null:(n.limit!==null&&i===1&&(n=m2(n,null,"F"),r=go(n)),this.indexManager.getDocumentsMatchingTarget(e,r).next(s=>{const o=Ft(...s);return this.Ji.getDocuments(e,o).next(a=>this.indexManager.getMinOffset(e,r).next(l=>{const u=this.ts(n,a);return this.ns(n,u,o,l.readTime)?this.Yi(e,m2(n,null,"F")):this.rs(e,u,n,l)}))})))}Zi(e,n,r,i){return e4(n)||i.isEqual(Nt.min())?De.resolve(null):this.Ji.getDocuments(e,r).next(s=>{const o=this.ts(n,s);return this.ns(n,o,r,i)?De.resolve(null):(vh()<=Wt.DEBUG&&Xe("QueryEngine","Re-using previous result from %s to execute query: %s",i.toString(),ku(n)),this.rs(e,o,n,oR(i,-1)).next(a=>a))})}ts(e,n){let r=new Or(N8(e));return n.forEach((i,s)=>{n0(e,s)&&(r=r.add(s))}),r}ns(e,n,r,i){if(e.limit===null)return!1;if(r.size!==n.size)return!0;const s=e.limitType==="F"?n.last():n.first();return!!s&&(s.hasPendingWrites||s.version.compareTo(i)>0)}Xi(e,n,r){return vh()<=Wt.DEBUG&&Xe("QueryEngine","Using full collection scan to execute query:",ku(n)),this.Ji.getDocumentsMatchingQuery(e,n,rl.min(),r)}rs(e,n,r,i){return this.Ji.getDocumentsMatchingQuery(e,r,i).next(s=>(n.forEach(o=>{s=s.insert(o.key,o)}),s))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Lj{constructor(e,n,r,i){this.persistence=e,this.ss=n,this.serializer=i,this.os=new Vn(Qt),this._s=new Fc(s=>uv(s),cv),this.us=new Map,this.cs=e.getRemoteDocumentCache(),this.Ur=e.getTargetCache(),this.Gr=e.getBundleCache(),this.ls(r)}ls(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new xj(this.cs,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.cs.setIndexManager(this.indexManager),this.ss.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",n=>e.collect(n,this.os))}}function Rj(t,e,n,r){return new Lj(t,e,n,r)}async function W8(t,e){const n=Et(t);return await n.persistence.runTransaction("Handle user change","readonly",r=>{let i;return n.mutationQueue.getAllMutationBatches(r).next(s=>(i=s,n.ls(e),n.mutationQueue.getAllMutationBatches(r))).next(s=>{const o=[],a=[];let l=Ft();for(const u of i){o.push(u.batchId);for(const c of u.mutations)l=l.add(c.key)}for(const u of s){a.push(u.batchId);for(const c of u.mutations)l=l.add(c.key)}return n.localDocuments.getDocuments(r,l).next(u=>({hs:u,removedBatchIds:o,addedBatchIds:a}))})})}function jj(t,e){const n=Et(t);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",r=>{const i=e.batch.keys(),s=n.cs.newChangeBuffer({trackRemovals:!0});return function(a,l,u,c){const d=u.batch,g=d.keys();let m=De.resolve();return g.forEach(b=>{m=m.next(()=>c.getEntry(l,b)).next(x=>{const A=u.docVersions.get(b);un(A!==null),x.version.compareTo(A)<0&&(d.applyToRemoteDocument(x,u),x.isValidDocument()&&(x.setReadTime(u.commitVersion),c.addEntry(x)))})}),m.next(()=>a.mutationQueue.removeMutationBatch(l,d))}(n,r,e,s).next(()=>s.apply(r)).next(()=>n.mutationQueue.performConsistencyCheck(r)).next(()=>n.documentOverlayCache.removeOverlaysForBatchId(r,i,e.batch.batchId)).next(()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(r,function(a){let l=Ft();for(let u=0;u<a.mutationResults.length;++u)a.mutationResults[u].transformResults.length>0&&(l=l.add(a.batch.mutations[u].key));return l}(e))).next(()=>n.localDocuments.getDocuments(r,i))})}function G8(t){const e=Et(t);return e.persistence.runTransaction("Get last remote snapshot version","readonly",n=>e.Ur.getLastRemoteSnapshotVersion(n))}function Dj(t,e){const n=Et(t),r=e.snapshotVersion;let i=n.os;return n.persistence.runTransaction("Apply remote event","readwrite-primary",s=>{const o=n.cs.newChangeBuffer({trackRemovals:!0});i=n.os;const a=[];e.targetChanges.forEach((c,d)=>{const g=i.get(d);if(!g)return;a.push(n.Ur.removeMatchingKeys(s,c.removedDocuments,d).next(()=>n.Ur.addMatchingKeys(s,c.addedDocuments,d)));let m=g.withSequenceNumber(s.currentSequenceNumber);e.targetMismatches.get(d)!==null?m=m.withResumeToken(Br.EMPTY_BYTE_STRING,Nt.min()).withLastLimboFreeSnapshotVersion(Nt.min()):c.resumeToken.approximateByteSize()>0&&(m=m.withResumeToken(c.resumeToken,r)),i=i.insert(d,m),function(x,A,v){return x.resumeToken.approximateByteSize()===0||A.snapshotVersion.toMicroseconds()-x.snapshotVersion.toMicroseconds()>=3e8?!0:v.addedDocuments.size+v.modifiedDocuments.size+v.removedDocuments.size>0}(g,m,c)&&a.push(n.Ur.updateTargetData(s,m))});let l=ea(),u=Ft();if(e.documentUpdates.forEach(c=>{e.resolvedLimboDocuments.has(c)&&a.push(n.persistence.referenceDelegate.updateLimboDocument(s,c))}),a.push(Mj(s,o,e.documentUpdates).next(c=>{l=c.Ps,u=c.Is})),!r.isEqual(Nt.min())){const c=n.Ur.getLastRemoteSnapshotVersion(s).next(d=>n.Ur.setTargetsMetadata(s,s.currentSequenceNumber,r));a.push(c)}return De.waitFor(a).next(()=>o.apply(s)).next(()=>n.localDocuments.getLocalViewOfDocuments(s,l,u)).next(()=>l)}).then(s=>(n.os=i,s))}function Mj(t,e,n){let r=Ft(),i=Ft();return n.forEach(s=>r=r.add(s)),e.getEntries(t,r).next(s=>{let o=ea();return n.forEach((a,l)=>{const u=s.get(a);l.isFoundDocument()!==u.isFoundDocument()&&(i=i.add(a)),l.isNoDocument()&&l.version.isEqual(Nt.min())?(e.removeEntry(a,l.readTime),o=o.insert(a,l)):!u.isValidDocument()||l.version.compareTo(u.version)>0||l.version.compareTo(u.version)===0&&u.hasPendingWrites?(e.addEntry(l),o=o.insert(a,l)):Xe("LocalStore","Ignoring outdated watch update for ",a,". Current version:",u.version," Watch version:",l.version)}),{Ps:o,Is:i}})}function Fj(t,e){const n=Et(t);return n.persistence.runTransaction("Get next mutation batch","readonly",r=>(e===void 0&&(e=-1),n.mutationQueue.getNextMutationBatchAfterBatchId(r,e)))}function Oj(t,e){const n=Et(t);return n.persistence.runTransaction("Allocate target","readwrite",r=>{let i;return n.Ur.getTargetData(r,e).next(s=>s?(i=s,De.resolve(i)):n.Ur.allocateTargetId(r).next(o=>(i=new Ba(e,o,"TargetPurposeListen",r.currentSequenceNumber),n.Ur.addTargetData(r,i).next(()=>i))))}).then(r=>{const i=n.os.get(r.targetId);return(i===null||r.snapshotVersion.compareTo(i.snapshotVersion)>0)&&(n.os=n.os.insert(r.targetId,r),n._s.set(e,r.targetId)),r})}async function x2(t,e,n){const r=Et(t),i=r.os.get(e),s=n?"readwrite":"readwrite-primary";try{n||await r.persistence.runTransaction("Release target",s,o=>r.persistence.referenceDelegate.removeTarget(o,i))}catch(o){if(!Hf(o))throw o;Xe("LocalStore",`Failed to update sequence numbers for target ${e}: ${o}`)}r.os=r.os.remove(e),r._s.delete(i.target)}function h4(t,e,n){const r=Et(t);let i=Nt.min(),s=Ft();return r.persistence.runTransaction("Execute query","readwrite",o=>function(l,u,c){const d=Et(l),g=d._s.get(c);return g!==void 0?De.resolve(d.os.get(g)):d.Ur.getTargetData(u,c)}(r,o,go(e)).next(a=>{if(a)return i=a.lastLimboFreeSnapshotVersion,r.Ur.getMatchingKeysForTargetId(o,a.targetId).next(l=>{s=l})}).next(()=>r.ss.getDocumentsMatchingQuery(o,e,n?i:Nt.min(),n?s:Ft())).next(a=>(Vj(r,PR(e),a),{documents:a,Ts:s})))}function Vj(t,e,n){let r=t.us.get(e)||Nt.min();n.forEach((i,s)=>{s.readTime.compareTo(r)>0&&(r=s.readTime)}),t.us.set(e,r)}class f4{constructor(){this.activeTargetIds=DR()}fs(e){this.activeTargetIds=this.activeTargetIds.add(e)}gs(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Vs(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class Bj{constructor(){this.so=new f4,this.oo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,n,r){}addLocalQueryTarget(e,n=!0){return n&&this.so.fs(e),this.oo[e]||"not-current"}updateQueryState(e,n,r){this.oo[e]=n}removeLocalQueryTarget(e){this.so.gs(e)}isLocalQueryTarget(e){return this.so.activeTargetIds.has(e)}clearQueryState(e){delete this.oo[e]}getAllActiveQueryTargets(){return this.so.activeTargetIds}isActiveQueryTarget(e){return this.so.activeTargetIds.has(e)}start(){return this.so=new f4,Promise.resolve()}handleUserChange(e,n,r){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Uj{_o(e){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class d4{constructor(){this.ao=()=>this.uo(),this.co=()=>this.lo(),this.ho=[],this.Po()}_o(e){this.ho.push(e)}shutdown(){window.removeEventListener("online",this.ao),window.removeEventListener("offline",this.co)}Po(){window.addEventListener("online",this.ao),window.addEventListener("offline",this.co)}uo(){Xe("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(const e of this.ho)e(0)}lo(){Xe("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(const e of this.ho)e(1)}static D(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Kd=null;function pg(){return Kd===null?Kd=function(){return 268435456+Math.round(2147483648*Math.random())}():Kd++,"0x"+Kd.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const zj={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qj{constructor(e){this.Io=e.Io,this.To=e.To}Eo(e){this.Ao=e}Ro(e){this.Vo=e}mo(e){this.fo=e}onMessage(e){this.po=e}close(){this.To()}send(e){this.Io(e)}yo(){this.Ao()}wo(){this.Vo()}So(e){this.fo(e)}bo(e){this.po(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Kr="WebChannelConnection";class $j extends class{constructor(n){this.databaseInfo=n,this.databaseId=n.databaseId;const r=n.ssl?"https":"http",i=encodeURIComponent(this.databaseId.projectId),s=encodeURIComponent(this.databaseId.database);this.Do=r+"://"+n.host,this.vo=`projects/${i}/databases/${s}`,this.Co=this.databaseId.database==="(default)"?`project_id=${i}`:`project_id=${i}&database_id=${s}`}get Fo(){return!1}Mo(n,r,i,s,o){const a=pg(),l=this.xo(n,r.toUriEncodedString());Xe("RestConnection",`Sending RPC '${n}' ${a}:`,l,i);const u={"google-cloud-resource-prefix":this.vo,"x-goog-request-params":this.Co};return this.Oo(u,s,o),this.No(n,l,u,i).then(c=>(Xe("RestConnection",`Received RPC '${n}' ${a}: `,c),c),c=>{throw bc("RestConnection",`RPC '${n}' ${a} failed with error: `,c,"url: ",l,"request:",i),c})}Lo(n,r,i,s,o,a){return this.Mo(n,r,i,s,o)}Oo(n,r,i){n["X-Goog-Api-Client"]=function(){return"gl-js/ fire/"+Mc}(),n["Content-Type"]="text/plain",this.databaseInfo.appId&&(n["X-Firebase-GMPID"]=this.databaseInfo.appId),r&&r.headers.forEach((s,o)=>n[o]=s),i&&i.headers.forEach((s,o)=>n[o]=s)}xo(n,r){const i=zj[n];return`${this.Do}/v1/${r}:${i}`}terminate(){}}{constructor(e){super(e),this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}No(e,n,r,i){const s=pg();return new Promise((o,a)=>{const l=new a8;l.setWithCredentials(!0),l.listenOnce(l8.COMPLETE,()=>{try{switch(l.getLastErrorCode()){case xp.NO_ERROR:const c=l.getResponseJson();Xe(Kr,`XHR for RPC '${e}' ${s} received:`,JSON.stringify(c)),o(c);break;case xp.TIMEOUT:Xe(Kr,`RPC '${e}' ${s} timed out`),a(new $e(Ie.DEADLINE_EXCEEDED,"Request time out"));break;case xp.HTTP_ERROR:const d=l.getStatus();if(Xe(Kr,`RPC '${e}' ${s} failed with status:`,d,"response text:",l.getResponseText()),d>0){let g=l.getResponseJson();Array.isArray(g)&&(g=g[0]);const m=g==null?void 0:g.error;if(m&&m.status&&m.message){const b=function(A){const v=A.toLowerCase().replace(/_/g,"-");return Object.values(Ie).indexOf(v)>=0?v:Ie.UNKNOWN}(m.status);a(new $e(b,m.message))}else a(new $e(Ie.UNKNOWN,"Server responded with status "+l.getStatus()))}else a(new $e(Ie.UNAVAILABLE,"Connection failed."));break;default:bt()}}finally{Xe(Kr,`RPC '${e}' ${s} completed.`)}});const u=JSON.stringify(i);Xe(Kr,`RPC '${e}' ${s} sending request:`,i),l.send(n,"POST",u,r,15)})}Bo(e,n,r){const i=pg(),s=[this.Do,"/","google.firestore.v1.Firestore","/",e,"/channel"],o=h8(),a=c8(),l={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},u=this.longPollingOptions.timeoutSeconds;u!==void 0&&(l.longPollingTimeout=Math.round(1e3*u)),this.useFetchStreams&&(l.useFetchStreams=!0),this.Oo(l.initMessageHeaders,n,r),l.encodeInitMessageHeaders=!0;const c=s.join("");Xe(Kr,`Creating RPC '${e}' stream ${i}: ${c}`,l);const d=o.createWebChannel(c,l);let g=!1,m=!1;const b=new qj({Io:A=>{m?Xe(Kr,`Not sending because RPC '${e}' stream ${i} is closed:`,A):(g||(Xe(Kr,`Opening RPC '${e}' stream ${i} transport.`),d.open(),g=!0),Xe(Kr,`RPC '${e}' stream ${i} sending:`,A),d.send(A))},To:()=>d.close()}),x=(A,v,_)=>{A.listen(v,E=>{try{_(E)}catch(L){setTimeout(()=>{throw L},0)}})};return x(d,Th.EventType.OPEN,()=>{m||(Xe(Kr,`RPC '${e}' stream ${i} transport opened.`),b.yo())}),x(d,Th.EventType.CLOSE,()=>{m||(m=!0,Xe(Kr,`RPC '${e}' stream ${i} transport closed`),b.So())}),x(d,Th.EventType.ERROR,A=>{m||(m=!0,bc(Kr,`RPC '${e}' stream ${i} transport errored:`,A),b.So(new $e(Ie.UNAVAILABLE,"The operation could not be completed")))}),x(d,Th.EventType.MESSAGE,A=>{var v;if(!m){const _=A.data[0];un(!!_);const E=_,L=E.error||((v=E[0])===null||v===void 0?void 0:v.error);if(L){Xe(Kr,`RPC '${e}' stream ${i} received error:`,L);const z=L.status;let Y=function(k){const M=cr[k];if(M!==void 0)return M8(M)}(z),R=L.message;Y===void 0&&(Y=Ie.INTERNAL,R="Unknown error status: "+z+" with message "+L.message),m=!0,b.So(new $e(Y,R)),d.close()}else Xe(Kr,`RPC '${e}' stream ${i} received:`,_),b.bo(_)}}),x(a,u8.STAT_EVENT,A=>{A.stat===u2.PROXY?Xe(Kr,`RPC '${e}' stream ${i} detected buffering proxy`):A.stat===u2.NOPROXY&&Xe(Kr,`RPC '${e}' stream ${i} detected no buffering proxy`)}),setTimeout(()=>{b.wo()},0),b}}function mg(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function a0(t){return new ej(t,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class K8{constructor(e,n,r=1e3,i=1.5,s=6e4){this.ui=e,this.timerId=n,this.ko=r,this.qo=i,this.Qo=s,this.Ko=0,this.$o=null,this.Uo=Date.now(),this.reset()}reset(){this.Ko=0}Wo(){this.Ko=this.Qo}Go(e){this.cancel();const n=Math.floor(this.Ko+this.zo()),r=Math.max(0,Date.now()-this.Uo),i=Math.max(0,n-r);i>0&&Xe("ExponentialBackoff",`Backing off for ${i} ms (base delay: ${this.Ko} ms, delay with jitter: ${n} ms, last attempt: ${r} ms ago)`),this.$o=this.ui.enqueueAfterDelay(this.timerId,i,()=>(this.Uo=Date.now(),e())),this.Ko*=this.qo,this.Ko<this.ko&&(this.Ko=this.ko),this.Ko>this.Qo&&(this.Ko=this.Qo)}jo(){this.$o!==null&&(this.$o.skipDelay(),this.$o=null)}cancel(){this.$o!==null&&(this.$o.cancel(),this.$o=null)}zo(){return(Math.random()-.5)*this.Ko}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Q8{constructor(e,n,r,i,s,o,a,l){this.ui=e,this.Ho=r,this.Jo=i,this.connection=s,this.authCredentialsProvider=o,this.appCheckCredentialsProvider=a,this.listener=l,this.state=0,this.Yo=0,this.Zo=null,this.Xo=null,this.stream=null,this.e_=0,this.t_=new K8(e,n)}n_(){return this.state===1||this.state===5||this.r_()}r_(){return this.state===2||this.state===3}start(){this.e_=0,this.state!==4?this.auth():this.i_()}async stop(){this.n_()&&await this.close(0)}s_(){this.state=0,this.t_.reset()}o_(){this.r_()&&this.Zo===null&&(this.Zo=this.ui.enqueueAfterDelay(this.Ho,6e4,()=>this.__()))}a_(e){this.u_(),this.stream.send(e)}async __(){if(this.r_())return this.close(0)}u_(){this.Zo&&(this.Zo.cancel(),this.Zo=null)}c_(){this.Xo&&(this.Xo.cancel(),this.Xo=null)}async close(e,n){this.u_(),this.c_(),this.t_.cancel(),this.Yo++,e!==4?this.t_.reset():n&&n.code===Ie.RESOURCE_EXHAUSTED?(Zo(n.toString()),Zo("Using maximum backoff delay to prevent overloading the backend."),this.t_.Wo()):n&&n.code===Ie.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.l_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.mo(n)}l_(){}auth(){this.state=1;const e=this.h_(this.Yo),n=this.Yo;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([r,i])=>{this.Yo===n&&this.P_(r,i)},r=>{e(()=>{const i=new $e(Ie.UNKNOWN,"Fetching auth token failed: "+r.message);return this.I_(i)})})}P_(e,n){const r=this.h_(this.Yo);this.stream=this.T_(e,n),this.stream.Eo(()=>{r(()=>this.listener.Eo())}),this.stream.Ro(()=>{r(()=>(this.state=2,this.Xo=this.ui.enqueueAfterDelay(this.Jo,1e4,()=>(this.r_()&&(this.state=3),Promise.resolve())),this.listener.Ro()))}),this.stream.mo(i=>{r(()=>this.I_(i))}),this.stream.onMessage(i=>{r(()=>++this.e_==1?this.E_(i):this.onNext(i))})}i_(){this.state=5,this.t_.Go(async()=>{this.state=0,this.start()})}I_(e){return Xe("PersistentStream",`close with error: ${e}`),this.stream=null,this.close(4,e)}h_(e){return n=>{this.ui.enqueueAndForget(()=>this.Yo===e?n():(Xe("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class Hj extends Q8{constructor(e,n,r,i,s,o){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",n,r,i,o),this.serializer=s}T_(e,n){return this.connection.Bo("Listen",e,n)}E_(e){return this.onNext(e)}onNext(e){this.t_.reset();const n=rj(this.serializer,e),r=function(s){if(!("targetChange"in s))return Nt.min();const o=s.targetChange;return o.targetIds&&o.targetIds.length?Nt.min():o.readTime?yo(o.readTime):Nt.min()}(e);return this.listener.d_(n,r)}A_(e){const n={};n.database=w2(this.serializer),n.addTarget=function(s,o){let a;const l=o.target;if(a=d2(l)?{documents:oj(s,l)}:{query:aj(s,l)._t},a.targetId=o.targetId,o.resumeToken.approximateByteSize()>0){a.resumeToken=V8(s,o.resumeToken);const u=g2(s,o.expectedCount);u!==null&&(a.expectedCount=u)}else if(o.snapshotVersion.compareTo(Nt.min())>0){a.readTime=ym(s,o.snapshotVersion.toTimestamp());const u=g2(s,o.expectedCount);u!==null&&(a.expectedCount=u)}return a}(this.serializer,e);const r=uj(this.serializer,e);r&&(n.labels=r),this.a_(n)}R_(e){const n={};n.database=w2(this.serializer),n.removeTarget=e,this.a_(n)}}class Wj extends Q8{constructor(e,n,r,i,s,o){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",n,r,i,o),this.serializer=s}get V_(){return this.e_>0}start(){this.lastStreamToken=void 0,super.start()}l_(){this.V_&&this.m_([])}T_(e,n){return this.connection.Bo("Write",e,n)}E_(e){return un(!!e.streamToken),this.lastStreamToken=e.streamToken,un(!e.writeResults||e.writeResults.length===0),this.listener.f_()}onNext(e){un(!!e.streamToken),this.lastStreamToken=e.streamToken,this.t_.reset();const n=sj(e.writeResults,e.commitTime),r=yo(e.commitTime);return this.listener.g_(r,n)}p_(){const e={};e.database=w2(this.serializer),this.a_(e)}m_(e){const n={streamToken:this.lastStreamToken,writes:e.map(r=>ij(this.serializer,r))};this.a_(n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Gj extends class{}{constructor(e,n,r,i){super(),this.authCredentials=e,this.appCheckCredentials=n,this.connection=r,this.serializer=i,this.y_=!1}w_(){if(this.y_)throw new $e(Ie.FAILED_PRECONDITION,"The client has already been terminated.")}Mo(e,n,r,i){return this.w_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([s,o])=>this.connection.Mo(e,y2(n,r),i,s,o)).catch(s=>{throw s.name==="FirebaseError"?(s.code===Ie.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),s):new $e(Ie.UNKNOWN,s.toString())})}Lo(e,n,r,i,s){return this.w_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([o,a])=>this.connection.Lo(e,y2(n,r),i,o,a,s)).catch(o=>{throw o.name==="FirebaseError"?(o.code===Ie.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),o):new $e(Ie.UNKNOWN,o.toString())})}terminate(){this.y_=!0,this.connection.terminate()}}class Kj{constructor(e,n){this.asyncQueue=e,this.onlineStateHandler=n,this.state="Unknown",this.S_=0,this.b_=null,this.D_=!0}v_(){this.S_===0&&(this.C_("Unknown"),this.b_=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.b_=null,this.F_("Backend didn't respond within 10 seconds."),this.C_("Offline"),Promise.resolve())))}M_(e){this.state==="Online"?this.C_("Unknown"):(this.S_++,this.S_>=1&&(this.x_(),this.F_(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.C_("Offline")))}set(e){this.x_(),this.S_=0,e==="Online"&&(this.D_=!1),this.C_(e)}C_(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}F_(e){const n=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.D_?(Zo(n),this.D_=!1):Xe("OnlineStateTracker",n)}x_(){this.b_!==null&&(this.b_.cancel(),this.b_=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qj{constructor(e,n,r,i,s){this.localStore=e,this.datastore=n,this.asyncQueue=r,this.remoteSyncer={},this.O_=[],this.N_=new Map,this.L_=new Set,this.B_=[],this.k_=s,this.k_._o(o=>{r.enqueueAndForget(async()=>{gu(this)&&(Xe("RemoteStore","Restarting streams for network reachability change."),await async function(l){const u=Et(l);u.L_.add(4),await Qf(u),u.q_.set("Unknown"),u.L_.delete(4),await l0(u)}(this))})}),this.q_=new Kj(r,i)}}async function l0(t){if(gu(t))for(const e of t.B_)await e(!0)}async function Qf(t){for(const e of t.B_)await e(!1)}function Y8(t,e){const n=Et(t);n.N_.has(e.targetId)||(n.N_.set(e.targetId,e),bv(n)?xv(n):Oc(n).r_()&&wv(n,e))}function vv(t,e){const n=Et(t),r=Oc(n);n.N_.delete(e),r.r_()&&X8(n,e),n.N_.size===0&&(r.r_()?r.o_():gu(n)&&n.q_.set("Unknown"))}function wv(t,e){if(t.Q_.xe(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(Nt.min())>0){const n=t.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(n)}Oc(t).A_(e)}function X8(t,e){t.Q_.xe(e),Oc(t).R_(e)}function xv(t){t.Q_=new YR({getRemoteKeysForTarget:e=>t.remoteSyncer.getRemoteKeysForTarget(e),ot:e=>t.N_.get(e)||null,tt:()=>t.datastore.serializer.databaseId}),Oc(t).start(),t.q_.v_()}function bv(t){return gu(t)&&!Oc(t).n_()&&t.N_.size>0}function gu(t){return Et(t).L_.size===0}function J8(t){t.Q_=void 0}async function Yj(t){t.q_.set("Online")}async function Xj(t){t.N_.forEach((e,n)=>{wv(t,e)})}async function Jj(t,e){J8(t),bv(t)?(t.q_.M_(e),xv(t)):t.q_.set("Unknown")}async function Zj(t,e,n){if(t.q_.set("Online"),e instanceof O8&&e.state===2&&e.cause)try{await async function(i,s){const o=s.cause;for(const a of s.targetIds)i.N_.has(a)&&(await i.remoteSyncer.rejectListen(a,o),i.N_.delete(a),i.Q_.removeTarget(a))}(t,e)}catch(r){Xe("RemoteStore","Failed to remove targets %s: %s ",e.targetIds.join(","),r),await vm(t,r)}else if(e instanceof Sp?t.Q_.Ke(e):e instanceof F8?t.Q_.He(e):t.Q_.We(e),!n.isEqual(Nt.min()))try{const r=await G8(t.localStore);n.compareTo(r)>=0&&await function(s,o){const a=s.Q_.rt(o);return a.targetChanges.forEach((l,u)=>{if(l.resumeToken.approximateByteSize()>0){const c=s.N_.get(u);c&&s.N_.set(u,c.withResumeToken(l.resumeToken,o))}}),a.targetMismatches.forEach((l,u)=>{const c=s.N_.get(l);if(!c)return;s.N_.set(l,c.withResumeToken(Br.EMPTY_BYTE_STRING,c.snapshotVersion)),X8(s,l);const d=new Ba(c.target,l,u,c.sequenceNumber);wv(s,d)}),s.remoteSyncer.applyRemoteEvent(a)}(t,n)}catch(r){Xe("RemoteStore","Failed to raise snapshot:",r),await vm(t,r)}}async function vm(t,e,n){if(!Hf(e))throw e;t.L_.add(1),await Qf(t),t.q_.set("Offline"),n||(n=()=>G8(t.localStore)),t.asyncQueue.enqueueRetryable(async()=>{Xe("RemoteStore","Retrying IndexedDB access"),await n(),t.L_.delete(1),await l0(t)})}function Z8(t,e){return e().catch(n=>vm(t,n,e))}async function u0(t){const e=Et(t),n=sl(e);let r=e.O_.length>0?e.O_[e.O_.length-1].batchId:-1;for(;e9(e);)try{const i=await Fj(e.localStore,r);if(i===null){e.O_.length===0&&n.o_();break}r=i.batchId,t9(e,i)}catch(i){await vm(e,i)}eA(e)&&tA(e)}function e9(t){return gu(t)&&t.O_.length<10}function t9(t,e){t.O_.push(e);const n=sl(t);n.r_()&&n.V_&&n.m_(e.mutations)}function eA(t){return gu(t)&&!sl(t).n_()&&t.O_.length>0}function tA(t){sl(t).start()}async function n9(t){sl(t).p_()}async function r9(t){const e=sl(t);for(const n of t.O_)e.m_(n.mutations)}async function i9(t,e,n){const r=t.O_.shift(),i=fv.from(r,e,n);await Z8(t,()=>t.remoteSyncer.applySuccessfulWrite(i)),await u0(t)}async function s9(t,e){e&&sl(t).V_&&await async function(r,i){if(function(o){return GR(o)&&o!==Ie.ABORTED}(i.code)){const s=r.O_.shift();sl(r).s_(),await Z8(r,()=>r.remoteSyncer.rejectFailedWrite(s.batchId,i)),await u0(r)}}(t,e),eA(t)&&tA(t)}async function p4(t,e){const n=Et(t);n.asyncQueue.verifyOperationInProgress(),Xe("RemoteStore","RemoteStore received new credentials");const r=gu(n);n.L_.add(3),await Qf(n),r&&n.q_.set("Unknown"),await n.remoteSyncer.handleCredentialChange(e),n.L_.delete(3),await l0(n)}async function o9(t,e){const n=Et(t);e?(n.L_.delete(2),await l0(n)):e||(n.L_.add(2),await Qf(n),n.q_.set("Unknown"))}function Oc(t){return t.K_||(t.K_=function(n,r,i){const s=Et(n);return s.w_(),new Hj(r,s.connection,s.authCredentials,s.appCheckCredentials,s.serializer,i)}(t.datastore,t.asyncQueue,{Eo:Yj.bind(null,t),Ro:Xj.bind(null,t),mo:Jj.bind(null,t),d_:Zj.bind(null,t)}),t.B_.push(async e=>{e?(t.K_.s_(),bv(t)?xv(t):t.q_.set("Unknown")):(await t.K_.stop(),J8(t))})),t.K_}function sl(t){return t.U_||(t.U_=function(n,r,i){const s=Et(n);return s.w_(),new Wj(r,s.connection,s.authCredentials,s.appCheckCredentials,s.serializer,i)}(t.datastore,t.asyncQueue,{Eo:()=>Promise.resolve(),Ro:n9.bind(null,t),mo:s9.bind(null,t),f_:r9.bind(null,t),g_:i9.bind(null,t)}),t.B_.push(async e=>{e?(t.U_.s_(),await u0(t)):(await t.U_.stop(),t.O_.length>0&&(Xe("RemoteStore",`Stopping write stream with ${t.O_.length} pending writes`),t.O_=[]))})),t.U_}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _v{constructor(e,n,r,i,s){this.asyncQueue=e,this.timerId=n,this.targetTimeMs=r,this.op=i,this.removalCallback=s,this.deferred=new Go,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(o=>{})}get promise(){return this.deferred.promise}static createAndSchedule(e,n,r,i,s){const o=Date.now()+r,a=new _v(e,n,o,i,s);return a.start(r),a}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new $e(Ie.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function Sv(t,e){if(Zo("AsyncQueue",`${e}: ${t}`),Hf(t))return new $e(Ie.UNAVAILABLE,`${e}: ${t}`);throw t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ac{constructor(e){this.comparator=e?(n,r)=>e(n,r)||at.comparator(n.key,r.key):(n,r)=>at.comparator(n.key,r.key),this.keyedMap=Ch(),this.sortedSet=new Vn(this.comparator)}static emptySet(e){return new ac(e.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const n=this.keyedMap.get(e);return n?this.sortedSet.indexOf(n):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((n,r)=>(e(n),!1))}add(e){const n=this.delete(e.key);return n.copy(n.keyedMap.insert(e.key,e),n.sortedSet.insert(e,null))}delete(e){const n=this.get(e);return n?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(n)):this}isEqual(e){if(!(e instanceof ac)||this.size!==e.size)return!1;const n=this.sortedSet.getIterator(),r=e.sortedSet.getIterator();for(;n.hasNext();){const i=n.getNext().key,s=r.getNext().key;if(!i.isEqual(s))return!1}return!0}toString(){const e=[];return this.forEach(n=>{e.push(n.toString())}),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,n){const r=new ac;return r.comparator=this.comparator,r.keyedMap=e,r.sortedSet=n,r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class m4{constructor(){this.W_=new Vn(at.comparator)}track(e){const n=e.doc.key,r=this.W_.get(n);r?e.type!==0&&r.type===3?this.W_=this.W_.insert(n,e):e.type===3&&r.type!==1?this.W_=this.W_.insert(n,{type:r.type,doc:e.doc}):e.type===2&&r.type===2?this.W_=this.W_.insert(n,{type:2,doc:e.doc}):e.type===2&&r.type===0?this.W_=this.W_.insert(n,{type:0,doc:e.doc}):e.type===1&&r.type===0?this.W_=this.W_.remove(n):e.type===1&&r.type===2?this.W_=this.W_.insert(n,{type:1,doc:r.doc}):e.type===0&&r.type===1?this.W_=this.W_.insert(n,{type:2,doc:e.doc}):bt():this.W_=this.W_.insert(n,e)}G_(){const e=[];return this.W_.inorderTraversal((n,r)=>{e.push(r)}),e}}class Ec{constructor(e,n,r,i,s,o,a,l,u){this.query=e,this.docs=n,this.oldDocs=r,this.docChanges=i,this.mutatedKeys=s,this.fromCache=o,this.syncStateChanged=a,this.excludesMetadataChanges=l,this.hasCachedResults=u}static fromInitialDocuments(e,n,r,i,s){const o=[];return n.forEach(a=>{o.push({type:0,doc:a})}),new Ec(e,n,ac.emptySet(n),o,r,i,!0,!1,s)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&t0(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const n=this.docChanges,r=e.docChanges;if(n.length!==r.length)return!1;for(let i=0;i<n.length;i++)if(n[i].type!==r[i].type||!n[i].doc.isEqual(r[i].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class a9{constructor(){this.z_=void 0,this.j_=[]}H_(){return this.j_.some(e=>e.J_())}}class l9{constructor(){this.queries=g4(),this.onlineState="Unknown",this.Y_=new Set}terminate(){(function(n,r){const i=Et(n),s=i.queries;i.queries=g4(),s.forEach((o,a)=>{for(const l of a.j_)l.onError(r)})})(this,new $e(Ie.ABORTED,"Firestore shutting down"))}}function g4(){return new Fc(t=>A8(t),t0)}async function Av(t,e){const n=Et(t);let r=3;const i=e.query;let s=n.queries.get(i);s?!s.H_()&&e.J_()&&(r=2):(s=new a9,r=e.J_()?0:1);try{switch(r){case 0:s.z_=await n.onListen(i,!0);break;case 1:s.z_=await n.onListen(i,!1);break;case 2:await n.onFirstRemoteStoreListen(i)}}catch(o){const a=Sv(o,`Initialization of query '${ku(e.query)}' failed`);return void e.onError(a)}n.queries.set(i,s),s.j_.push(e),e.Z_(n.onlineState),s.z_&&e.X_(s.z_)&&Ev(n)}async function Nv(t,e){const n=Et(t),r=e.query;let i=3;const s=n.queries.get(r);if(s){const o=s.j_.indexOf(e);o>=0&&(s.j_.splice(o,1),s.j_.length===0?i=e.J_()?0:1:!s.H_()&&e.J_()&&(i=2))}switch(i){case 0:return n.queries.delete(r),n.onUnlisten(r,!0);case 1:return n.queries.delete(r),n.onUnlisten(r,!1);case 2:return n.onLastRemoteStoreUnlisten(r);default:return}}function u9(t,e){const n=Et(t);let r=!1;for(const i of e){const s=i.query,o=n.queries.get(s);if(o){for(const a of o.j_)a.X_(i)&&(r=!0);o.z_=i}}r&&Ev(n)}function c9(t,e,n){const r=Et(t),i=r.queries.get(e);if(i)for(const s of i.j_)s.onError(n);r.queries.delete(e)}function Ev(t){t.Y_.forEach(e=>{e.next()})}var b2,y4;(y4=b2||(b2={})).ea="default",y4.Cache="cache";class Tv{constructor(e,n,r){this.query=e,this.ta=n,this.na=!1,this.ra=null,this.onlineState="Unknown",this.options=r||{}}X_(e){if(!this.options.includeMetadataChanges){const r=[];for(const i of e.docChanges)i.type!==3&&r.push(i);e=new Ec(e.query,e.docs,e.oldDocs,r,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let n=!1;return this.na?this.ia(e)&&(this.ta.next(e),n=!0):this.sa(e,this.onlineState)&&(this.oa(e),n=!0),this.ra=e,n}onError(e){this.ta.error(e)}Z_(e){this.onlineState=e;let n=!1;return this.ra&&!this.na&&this.sa(this.ra,e)&&(this.oa(this.ra),n=!0),n}sa(e,n){if(!e.fromCache||!this.J_())return!0;const r=n!=="Offline";return(!this.options._a||!r)&&(!e.docs.isEmpty()||e.hasCachedResults||n==="Offline")}ia(e){if(e.docChanges.length>0)return!0;const n=this.ra&&this.ra.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!n)&&this.options.includeMetadataChanges===!0}oa(e){e=Ec.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.na=!0,this.ta.next(e)}J_(){return this.options.source!==b2.Cache}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nA{constructor(e){this.key=e}}class rA{constructor(e){this.key=e}}class h9{constructor(e,n){this.query=e,this.Ta=n,this.Ea=null,this.hasCachedResults=!1,this.current=!1,this.da=Ft(),this.mutatedKeys=Ft(),this.Aa=N8(e),this.Ra=new ac(this.Aa)}get Va(){return this.Ta}ma(e,n){const r=n?n.fa:new m4,i=n?n.Ra:this.Ra;let s=n?n.mutatedKeys:this.mutatedKeys,o=i,a=!1;const l=this.query.limitType==="F"&&i.size===this.query.limit?i.last():null,u=this.query.limitType==="L"&&i.size===this.query.limit?i.first():null;if(e.inorderTraversal((c,d)=>{const g=i.get(c),m=n0(this.query,d)?d:null,b=!!g&&this.mutatedKeys.has(g.key),x=!!m&&(m.hasLocalMutations||this.mutatedKeys.has(m.key)&&m.hasCommittedMutations);let A=!1;g&&m?g.data.isEqual(m.data)?b!==x&&(r.track({type:3,doc:m}),A=!0):this.ga(g,m)||(r.track({type:2,doc:m}),A=!0,(l&&this.Aa(m,l)>0||u&&this.Aa(m,u)<0)&&(a=!0)):!g&&m?(r.track({type:0,doc:m}),A=!0):g&&!m&&(r.track({type:1,doc:g}),A=!0,(l||u)&&(a=!0)),A&&(m?(o=o.add(m),s=x?s.add(c):s.delete(c)):(o=o.delete(c),s=s.delete(c)))}),this.query.limit!==null)for(;o.size>this.query.limit;){const c=this.query.limitType==="F"?o.last():o.first();o=o.delete(c.key),s=s.delete(c.key),r.track({type:1,doc:c})}return{Ra:o,fa:r,ns:a,mutatedKeys:s}}ga(e,n){return e.hasLocalMutations&&n.hasCommittedMutations&&!n.hasLocalMutations}applyChanges(e,n,r,i){const s=this.Ra;this.Ra=e.Ra,this.mutatedKeys=e.mutatedKeys;const o=e.fa.G_();o.sort((c,d)=>function(m,b){const x=A=>{switch(A){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return bt()}};return x(m)-x(b)}(c.type,d.type)||this.Aa(c.doc,d.doc)),this.pa(r),i=i!=null&&i;const a=n&&!i?this.ya():[],l=this.da.size===0&&this.current&&!i?1:0,u=l!==this.Ea;return this.Ea=l,o.length!==0||u?{snapshot:new Ec(this.query,e.Ra,s,o,e.mutatedKeys,l===0,u,!1,!!r&&r.resumeToken.approximateByteSize()>0),wa:a}:{wa:a}}Z_(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({Ra:this.Ra,fa:new m4,mutatedKeys:this.mutatedKeys,ns:!1},!1)):{wa:[]}}Sa(e){return!this.Ta.has(e)&&!!this.Ra.has(e)&&!this.Ra.get(e).hasLocalMutations}pa(e){e&&(e.addedDocuments.forEach(n=>this.Ta=this.Ta.add(n)),e.modifiedDocuments.forEach(n=>{}),e.removedDocuments.forEach(n=>this.Ta=this.Ta.delete(n)),this.current=e.current)}ya(){if(!this.current)return[];const e=this.da;this.da=Ft(),this.Ra.forEach(r=>{this.Sa(r.key)&&(this.da=this.da.add(r.key))});const n=[];return e.forEach(r=>{this.da.has(r)||n.push(new rA(r))}),this.da.forEach(r=>{e.has(r)||n.push(new nA(r))}),n}ba(e){this.Ta=e.Ts,this.da=Ft();const n=this.ma(e.documents);return this.applyChanges(n,!0)}Da(){return Ec.fromInitialDocuments(this.query,this.Ra,this.mutatedKeys,this.Ea===0,this.hasCachedResults)}}class f9{constructor(e,n,r){this.query=e,this.targetId=n,this.view=r}}class d9{constructor(e){this.key=e,this.va=!1}}class p9{constructor(e,n,r,i,s,o){this.localStore=e,this.remoteStore=n,this.eventManager=r,this.sharedClientState=i,this.currentUser=s,this.maxConcurrentLimboResolutions=o,this.Ca={},this.Fa=new Fc(a=>A8(a),t0),this.Ma=new Map,this.xa=new Set,this.Oa=new Vn(at.comparator),this.Na=new Map,this.La=new mv,this.Ba={},this.ka=new Map,this.qa=Nc.kn(),this.onlineState="Unknown",this.Qa=void 0}get isPrimaryClient(){return this.Qa===!0}}async function m9(t,e,n=!0){const r=uA(t);let i;const s=r.Fa.get(e);return s?(r.sharedClientState.addLocalQueryTarget(s.targetId),i=s.view.Da()):i=await iA(r,e,n,!0),i}async function g9(t,e){const n=uA(t);await iA(n,e,!0,!1)}async function iA(t,e,n,r){const i=await Oj(t.localStore,go(e)),s=i.targetId,o=t.sharedClientState.addLocalQueryTarget(s,n);let a;return r&&(a=await y9(t,e,s,o==="current",i.resumeToken)),t.isPrimaryClient&&n&&Y8(t.remoteStore,i),a}async function y9(t,e,n,r,i){t.Ka=(d,g,m)=>async function(x,A,v,_){let E=A.view.ma(v);E.ns&&(E=await h4(x.localStore,A.query,!1).then(({documents:R})=>A.view.ma(R,E)));const L=_&&_.targetChanges.get(A.targetId),z=_&&_.targetMismatches.get(A.targetId)!=null,Y=A.view.applyChanges(E,x.isPrimaryClient,L,z);return w4(x,A.targetId,Y.wa),Y.snapshot}(t,d,g,m);const s=await h4(t.localStore,e,!0),o=new h9(e,s.Ts),a=o.ma(s.documents),l=Kf.createSynthesizedTargetChangeForCurrentChange(n,r&&t.onlineState!=="Offline",i),u=o.applyChanges(a,t.isPrimaryClient,l);w4(t,n,u.wa);const c=new f9(e,n,o);return t.Fa.set(e,c),t.Ma.has(n)?t.Ma.get(n).push(e):t.Ma.set(n,[e]),u.snapshot}async function v9(t,e,n){const r=Et(t),i=r.Fa.get(e),s=r.Ma.get(i.targetId);if(s.length>1)return r.Ma.set(i.targetId,s.filter(o=>!t0(o,e))),void r.Fa.delete(e);r.isPrimaryClient?(r.sharedClientState.removeLocalQueryTarget(i.targetId),r.sharedClientState.isActiveQueryTarget(i.targetId)||await x2(r.localStore,i.targetId,!1).then(()=>{r.sharedClientState.clearQueryState(i.targetId),n&&vv(r.remoteStore,i.targetId),_2(r,i.targetId)}).catch($f)):(_2(r,i.targetId),await x2(r.localStore,i.targetId,!0))}async function w9(t,e){const n=Et(t),r=n.Fa.get(e),i=n.Ma.get(r.targetId);n.isPrimaryClient&&i.length===1&&(n.sharedClientState.removeLocalQueryTarget(r.targetId),vv(n.remoteStore,r.targetId))}async function x9(t,e,n){const r=T9(t);try{const i=await function(o,a){const l=Et(o),u=Qn.now(),c=a.reduce((m,b)=>m.add(b.key),Ft());let d,g;return l.persistence.runTransaction("Locally write mutations","readwrite",m=>{let b=ea(),x=Ft();return l.cs.getEntries(m,c).next(A=>{b=A,b.forEach((v,_)=>{_.isValidDocument()||(x=x.add(v))})}).next(()=>l.localDocuments.getOverlayedDocuments(m,b)).next(A=>{d=A;const v=[];for(const _ of a){const E=zR(_,d.get(_.key).overlayedDocument);E!=null&&v.push(new dl(_.key,E,g8(E.value.mapValue),pi.exists(!0)))}return l.mutationQueue.addMutationBatch(m,u,v,a)}).next(A=>{g=A;const v=A.applyToLocalDocumentSet(d,x);return l.documentOverlayCache.saveOverlays(m,A.batchId,v)})}).then(()=>({batchId:g.batchId,changes:T8(d)}))}(r.localStore,e);r.sharedClientState.addPendingMutation(i.batchId),function(o,a,l){let u=o.Ba[o.currentUser.toKey()];u||(u=new Vn(Qt)),u=u.insert(a,l),o.Ba[o.currentUser.toKey()]=u}(r,i.batchId,n),await Yf(r,i.changes),await u0(r.remoteStore)}catch(i){const s=Sv(i,"Failed to persist write");n.reject(s)}}async function sA(t,e){const n=Et(t);try{const r=await Dj(n.localStore,e);e.targetChanges.forEach((i,s)=>{const o=n.Na.get(s);o&&(un(i.addedDocuments.size+i.modifiedDocuments.size+i.removedDocuments.size<=1),i.addedDocuments.size>0?o.va=!0:i.modifiedDocuments.size>0?un(o.va):i.removedDocuments.size>0&&(un(o.va),o.va=!1))}),await Yf(n,r,e)}catch(r){await $f(r)}}function v4(t,e,n){const r=Et(t);if(r.isPrimaryClient&&n===0||!r.isPrimaryClient&&n===1){const i=[];r.Fa.forEach((s,o)=>{const a=o.view.Z_(e);a.snapshot&&i.push(a.snapshot)}),function(o,a){const l=Et(o);l.onlineState=a;let u=!1;l.queries.forEach((c,d)=>{for(const g of d.j_)g.Z_(a)&&(u=!0)}),u&&Ev(l)}(r.eventManager,e),i.length&&r.Ca.d_(i),r.onlineState=e,r.isPrimaryClient&&r.sharedClientState.setOnlineState(e)}}async function b9(t,e,n){const r=Et(t);r.sharedClientState.updateQueryState(e,"rejected",n);const i=r.Na.get(e),s=i&&i.key;if(s){let o=new Vn(at.comparator);o=o.insert(s,ti.newNoDocument(s,Nt.min()));const a=Ft().add(s),l=new o0(Nt.min(),new Map,new Vn(Qt),o,a);await sA(r,l),r.Oa=r.Oa.remove(s),r.Na.delete(e),Cv(r)}else await x2(r.localStore,e,!1).then(()=>_2(r,e,n)).catch($f)}async function _9(t,e){const n=Et(t),r=e.batch.batchId;try{const i=await jj(n.localStore,e);aA(n,r,null),oA(n,r),n.sharedClientState.updateMutationState(r,"acknowledged"),await Yf(n,i)}catch(i){await $f(i)}}async function S9(t,e,n){const r=Et(t);try{const i=await function(o,a){const l=Et(o);return l.persistence.runTransaction("Reject batch","readwrite-primary",u=>{let c;return l.mutationQueue.lookupMutationBatch(u,a).next(d=>(un(d!==null),c=d.keys(),l.mutationQueue.removeMutationBatch(u,d))).next(()=>l.mutationQueue.performConsistencyCheck(u)).next(()=>l.documentOverlayCache.removeOverlaysForBatchId(u,c,a)).next(()=>l.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(u,c)).next(()=>l.localDocuments.getDocuments(u,c))})}(r.localStore,e);aA(r,e,n),oA(r,e),r.sharedClientState.updateMutationState(e,"rejected",n),await Yf(r,i)}catch(i){await $f(i)}}function oA(t,e){(t.ka.get(e)||[]).forEach(n=>{n.resolve()}),t.ka.delete(e)}function aA(t,e,n){const r=Et(t);let i=r.Ba[r.currentUser.toKey()];if(i){const s=i.get(e);s&&(n?s.reject(n):s.resolve(),i=i.remove(e)),r.Ba[r.currentUser.toKey()]=i}}function _2(t,e,n=null){t.sharedClientState.removeLocalQueryTarget(e);for(const r of t.Ma.get(e))t.Fa.delete(r),n&&t.Ca.$a(r,n);t.Ma.delete(e),t.isPrimaryClient&&t.La.gr(e).forEach(r=>{t.La.containsKey(r)||lA(t,r)})}function lA(t,e){t.xa.delete(e.path.canonicalString());const n=t.Oa.get(e);n!==null&&(vv(t.remoteStore,n),t.Oa=t.Oa.remove(e),t.Na.delete(n),Cv(t))}function w4(t,e,n){for(const r of n)r instanceof nA?(t.La.addReference(r.key,e),A9(t,r)):r instanceof rA?(Xe("SyncEngine","Document no longer in limbo: "+r.key),t.La.removeReference(r.key,e),t.La.containsKey(r.key)||lA(t,r.key)):bt()}function A9(t,e){const n=e.key,r=n.path.canonicalString();t.Oa.get(n)||t.xa.has(r)||(Xe("SyncEngine","New document in limbo: "+n),t.xa.add(r),Cv(t))}function Cv(t){for(;t.xa.size>0&&t.Oa.size<t.maxConcurrentLimboResolutions;){const e=t.xa.values().next().value;t.xa.delete(e);const n=new at(_n.fromString(e)),r=t.qa.next();t.Na.set(r,new d9(n)),t.Oa=t.Oa.insert(n,r),Y8(t.remoteStore,new Ba(go(e0(n.path)),r,"TargetPurposeLimboResolution",sv.oe))}}async function Yf(t,e,n){const r=Et(t),i=[],s=[],o=[];r.Fa.isEmpty()||(r.Fa.forEach((a,l)=>{o.push(r.Ka(l,e,n).then(u=>{var c;if((u||n)&&r.isPrimaryClient){const d=u?!u.fromCache:(c=n==null?void 0:n.targetChanges.get(l.targetId))===null||c===void 0?void 0:c.current;r.sharedClientState.updateQueryState(l.targetId,d?"current":"not-current")}if(u){i.push(u);const d=yv.Wi(l.targetId,u);s.push(d)}}))}),await Promise.all(o),r.Ca.d_(i),await async function(l,u){const c=Et(l);try{await c.persistence.runTransaction("notifyLocalViewChanges","readwrite",d=>De.forEach(u,g=>De.forEach(g.$i,m=>c.persistence.referenceDelegate.addReference(d,g.targetId,m)).next(()=>De.forEach(g.Ui,m=>c.persistence.referenceDelegate.removeReference(d,g.targetId,m)))))}catch(d){if(!Hf(d))throw d;Xe("LocalStore","Failed to update sequence numbers: "+d)}for(const d of u){const g=d.targetId;if(!d.fromCache){const m=c.os.get(g),b=m.snapshotVersion,x=m.withLastLimboFreeSnapshotVersion(b);c.os=c.os.insert(g,x)}}}(r.localStore,s))}async function N9(t,e){const n=Et(t);if(!n.currentUser.isEqual(e)){Xe("SyncEngine","User change. New user:",e.toKey());const r=await W8(n.localStore,e);n.currentUser=e,function(s,o){s.ka.forEach(a=>{a.forEach(l=>{l.reject(new $e(Ie.CANCELLED,o))})}),s.ka.clear()}(n,"'waitForPendingWrites' promise is rejected due to a user change."),n.sharedClientState.handleUserChange(e,r.removedBatchIds,r.addedBatchIds),await Yf(n,r.hs)}}function E9(t,e){const n=Et(t),r=n.Na.get(e);if(r&&r.va)return Ft().add(r.key);{let i=Ft();const s=n.Ma.get(e);if(!s)return i;for(const o of s){const a=n.Fa.get(o);i=i.unionWith(a.view.Va)}return i}}function uA(t){const e=Et(t);return e.remoteStore.remoteSyncer.applyRemoteEvent=sA.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=E9.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=b9.bind(null,e),e.Ca.d_=u9.bind(null,e.eventManager),e.Ca.$a=c9.bind(null,e.eventManager),e}function T9(t){const e=Et(t);return e.remoteStore.remoteSyncer.applySuccessfulWrite=_9.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=S9.bind(null,e),e}class wm{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=a0(e.databaseInfo.databaseId),this.sharedClientState=this.Wa(e),this.persistence=this.Ga(e),await this.persistence.start(),this.localStore=this.za(e),this.gcScheduler=this.ja(e,this.localStore),this.indexBackfillerScheduler=this.Ha(e,this.localStore)}ja(e,n){return null}Ha(e,n){return null}za(e){return Rj(this.persistence,new Ij,e.initialUser,this.serializer)}Ga(e){return new Cj(gv.Zr,this.serializer)}Wa(e){return new Bj}async terminate(){var e,n;(e=this.gcScheduler)===null||e===void 0||e.stop(),(n=this.indexBackfillerScheduler)===null||n===void 0||n.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}wm.provider={build:()=>new wm};class S2{async initialize(e,n){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(n),this.remoteStore=this.createRemoteStore(n),this.eventManager=this.createEventManager(n),this.syncEngine=this.createSyncEngine(n,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=r=>v4(this.syncEngine,r,1),this.remoteStore.remoteSyncer.handleCredentialChange=N9.bind(null,this.syncEngine),await o9(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return function(){return new l9}()}createDatastore(e){const n=a0(e.databaseInfo.databaseId),r=function(s){return new $j(s)}(e.databaseInfo);return function(s,o,a,l){return new Gj(s,o,a,l)}(e.authCredentials,e.appCheckCredentials,r,n)}createRemoteStore(e){return function(r,i,s,o,a){return new Qj(r,i,s,o,a)}(this.localStore,this.datastore,e.asyncQueue,n=>v4(this.syncEngine,n,0),function(){return d4.D()?new d4:new Uj}())}createSyncEngine(e,n){return function(i,s,o,a,l,u,c){const d=new p9(i,s,o,a,l,u);return c&&(d.Qa=!0),d}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,n)}async terminate(){var e,n;await async function(i){const s=Et(i);Xe("RemoteStore","RemoteStore shutting down."),s.L_.add(5),await Qf(s),s.k_.shutdown(),s.q_.set("Unknown")}(this.remoteStore),(e=this.datastore)===null||e===void 0||e.terminate(),(n=this.eventManager)===null||n===void 0||n.terminate()}}S2.provider={build:()=>new S2};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Pv{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.Ya(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.Ya(this.observer.error,e):Zo("Uncaught Error in snapshot listener:",e.toString()))}Za(){this.muted=!0}Ya(e,n){setTimeout(()=>{this.muted||e(n)},0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class C9{constructor(e,n,r,i,s){this.authCredentials=e,this.appCheckCredentials=n,this.asyncQueue=r,this.databaseInfo=i,this.user=Zr.UNAUTHENTICATED,this.clientId=d8.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=s,this.authCredentials.start(r,async o=>{Xe("FirestoreClient","Received user=",o.uid),await this.authCredentialListener(o),this.user=o}),this.appCheckCredentials.start(r,o=>(Xe("FirestoreClient","Received new app check token=",o),this.appCheckCredentialListener(o,this.user)))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();const e=new Go;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(n){const r=Sv(n,"Failed to shutdown persistence");e.reject(r)}}),e.promise}}async function gg(t,e){t.asyncQueue.verifyOperationInProgress(),Xe("FirestoreClient","Initializing OfflineComponentProvider");const n=t.configuration;await e.initialize(n);let r=n.initialUser;t.setCredentialChangeListener(async i=>{r.isEqual(i)||(await W8(e.localStore,i),r=i)}),e.persistence.setDatabaseDeletedListener(()=>t.terminate()),t._offlineComponents=e}async function x4(t,e){t.asyncQueue.verifyOperationInProgress();const n=await P9(t);Xe("FirestoreClient","Initializing OnlineComponentProvider"),await e.initialize(n,t.configuration),t.setCredentialChangeListener(r=>p4(e.remoteStore,r)),t.setAppCheckTokenChangeListener((r,i)=>p4(e.remoteStore,i)),t._onlineComponents=e}async function P9(t){if(!t._offlineComponents)if(t._uninitializedComponentsProvider){Xe("FirestoreClient","Using user provided OfflineComponentProvider");try{await gg(t,t._uninitializedComponentsProvider._offline)}catch(e){const n=e;if(!function(i){return i.name==="FirebaseError"?i.code===Ie.FAILED_PRECONDITION||i.code===Ie.UNIMPLEMENTED:!(typeof DOMException<"u"&&i instanceof DOMException)||i.code===22||i.code===20||i.code===11}(n))throw n;bc("Error using user provided cache. Falling back to memory cache: "+n),await gg(t,new wm)}}else Xe("FirestoreClient","Using default OfflineComponentProvider"),await gg(t,new wm);return t._offlineComponents}async function cA(t){return t._onlineComponents||(t._uninitializedComponentsProvider?(Xe("FirestoreClient","Using user provided OnlineComponentProvider"),await x4(t,t._uninitializedComponentsProvider._online)):(Xe("FirestoreClient","Using default OnlineComponentProvider"),await x4(t,new S2))),t._onlineComponents}function k9(t){return cA(t).then(e=>e.syncEngine)}async function xm(t){const e=await cA(t),n=e.eventManager;return n.onListen=m9.bind(null,e.syncEngine),n.onUnlisten=v9.bind(null,e.syncEngine),n.onFirstRemoteStoreListen=g9.bind(null,e.syncEngine),n.onLastRemoteStoreUnlisten=w9.bind(null,e.syncEngine),n}function I9(t,e,n={}){const r=new Go;return t.asyncQueue.enqueueAndForget(async()=>function(s,o,a,l,u){const c=new Pv({next:g=>{c.Za(),o.enqueueAndForget(()=>Nv(s,d));const m=g.docs.has(a);!m&&g.fromCache?u.reject(new $e(Ie.UNAVAILABLE,"Failed to get document because the client is offline.")):m&&g.fromCache&&l&&l.source==="server"?u.reject(new $e(Ie.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):u.resolve(g)},error:g=>u.reject(g)}),d=new Tv(e0(a.path),c,{includeMetadataChanges:!0,_a:!0});return Av(s,d)}(await xm(t),t.asyncQueue,e,n,r)),r.promise}function L9(t,e,n={}){const r=new Go;return t.asyncQueue.enqueueAndForget(async()=>function(s,o,a,l,u){const c=new Pv({next:g=>{c.Za(),o.enqueueAndForget(()=>Nv(s,d)),g.fromCache&&l.source==="server"?u.reject(new $e(Ie.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):u.resolve(g)},error:g=>u.reject(g)}),d=new Tv(a,c,{includeMetadataChanges:!0,_a:!0});return Av(s,d)}(await xm(t),t.asyncQueue,e,n,r)),r.promise}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function hA(t){const e={};return t.timeoutSeconds!==void 0&&(e.timeoutSeconds=t.timeoutSeconds),e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const b4=new Map;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function fA(t,e,n){if(!n)throw new $e(Ie.INVALID_ARGUMENT,`Function ${t}() cannot be called with an empty ${e}.`)}function R9(t,e,n,r){if(e===!0&&r===!0)throw new $e(Ie.INVALID_ARGUMENT,`${t} and ${n} cannot be used together.`)}function _4(t){if(!at.isDocumentKey(t))throw new $e(Ie.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${t} has ${t.length}.`)}function S4(t){if(at.isDocumentKey(t))throw new $e(Ie.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${t} has ${t.length}.`)}function c0(t){if(t===void 0)return"undefined";if(t===null)return"null";if(typeof t=="string")return t.length>20&&(t=`${t.substring(0,20)}...`),JSON.stringify(t);if(typeof t=="number"||typeof t=="boolean")return""+t;if(typeof t=="object"){if(t instanceof Array)return"an array";{const e=function(r){return r.constructor?r.constructor.name:null}(t);return e?`a custom ${e} object`:"an object"}}return typeof t=="function"?"a function":bt()}function mi(t,e){if("_delegate"in t&&(t=t._delegate),!(t instanceof e)){if(e.name===t.constructor.name)throw new $e(Ie.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const n=c0(t);throw new $e(Ie.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${n}`)}}return t}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class A4{constructor(e){var n,r;if(e.host===void 0){if(e.ssl!==void 0)throw new $e(Ie.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=e.host,this.ssl=(n=e.ssl)===null||n===void 0||n;if(this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=41943040;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<1048576)throw new $e(Ie.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}R9("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=hA((r=e.experimentalLongPollingOptions)!==null&&r!==void 0?r:{}),function(s){if(s.timeoutSeconds!==void 0){if(isNaN(s.timeoutSeconds))throw new $e(Ie.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (must not be NaN)`);if(s.timeoutSeconds<5)throw new $e(Ie.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (minimum allowed value is 5)`);if(s.timeoutSeconds>30)throw new $e(Ie.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&function(r,i){return r.timeoutSeconds===i.timeoutSeconds}(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class h0{constructor(e,n,r,i){this._authCredentials=e,this._appCheckCredentials=n,this._databaseId=r,this._app=i,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new A4({}),this._settingsFrozen=!1,this._terminateTask="notTerminated"}get app(){if(!this._app)throw new $e(Ie.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new $e(Ie.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new A4(e),e.credentials!==void 0&&(this._authCredentials=function(r){if(!r)return new XL;switch(r.type){case"firstParty":return new tR(r.sessionIndex||"0",r.iamToken||null,r.authTokenFactory||null);case"provider":return r.client;default:throw new $e(Ie.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(n){const r=b4.get(n);r&&(Xe("ComponentProvider","Removing Datastore"),b4.delete(n),r.terminate())}(this),Promise.resolve()}}function j9(t,e,n,r={}){var i;const s=(t=mi(t,h0))._getSettings(),o=`${e}:${n}`;if(s.host!=="firestore.googleapis.com"&&s.host!==o&&bc("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used."),t._setSettings(Object.assign(Object.assign({},s),{host:o,ssl:!1})),r.mockUserToken){let a,l;if(typeof r.mockUserToken=="string")a=r.mockUserToken,l=Zr.MOCK_USER;else{a=kI(r.mockUserToken,(i=t._app)===null||i===void 0?void 0:i.options.projectId);const u=r.mockUserToken.sub||r.mockUserToken.user_id;if(!u)throw new $e(Ie.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");l=new Zr(u)}t._authCredentials=new JL(new f8(a,l))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yu{constructor(e,n,r){this.converter=n,this._query=r,this.type="query",this.firestore=e}withConverter(e){return new yu(this.firestore,e,this._query)}}class ri{constructor(e,n,r){this.converter=n,this._key=r,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new el(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new ri(this.firestore,e,this._key)}}class el extends yu{constructor(e,n,r){super(e,n,e0(r)),this._path=r,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new ri(this.firestore,null,new at(e))}withConverter(e){return new el(this.firestore,e,this._path)}}function pl(t,e,...n){if(t=xs(t),fA("collection","path",e),t instanceof h0){const r=_n.fromString(e,...n);return S4(r),new el(t,null,r)}{if(!(t instanceof ri||t instanceof el))throw new $e(Ie.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=t._path.child(_n.fromString(e,...n));return S4(r),new el(t.firestore,null,r)}}function zs(t,e,...n){if(t=xs(t),arguments.length===1&&(e=d8.newId()),fA("doc","path",e),t instanceof h0){const r=_n.fromString(e,...n);return _4(r),new ri(t,null,new at(r))}{if(!(t instanceof ri||t instanceof el))throw new $e(Ie.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=t._path.child(_n.fromString(e,...n));return _4(r),new ri(t.firestore,t instanceof el?t.converter:null,new at(r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class N4{constructor(e=Promise.resolve()){this.Pu=[],this.Iu=!1,this.Tu=[],this.Eu=null,this.du=!1,this.Au=!1,this.Ru=[],this.t_=new K8(this,"async_queue_retry"),this.Vu=()=>{const r=mg();r&&Xe("AsyncQueue","Visibility state changed to "+r.visibilityState),this.t_.jo()},this.mu=e;const n=mg();n&&typeof n.addEventListener=="function"&&n.addEventListener("visibilitychange",this.Vu)}get isShuttingDown(){return this.Iu}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.fu(),this.gu(e)}enterRestrictedMode(e){if(!this.Iu){this.Iu=!0,this.Au=e||!1;const n=mg();n&&typeof n.removeEventListener=="function"&&n.removeEventListener("visibilitychange",this.Vu)}}enqueue(e){if(this.fu(),this.Iu)return new Promise(()=>{});const n=new Go;return this.gu(()=>this.Iu&&this.Au?Promise.resolve():(e().then(n.resolve,n.reject),n.promise)).then(()=>n.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.Pu.push(e),this.pu()))}async pu(){if(this.Pu.length!==0){try{await this.Pu[0](),this.Pu.shift(),this.t_.reset()}catch(e){if(!Hf(e))throw e;Xe("AsyncQueue","Operation failed with retryable error: "+e)}this.Pu.length>0&&this.t_.Go(()=>this.pu())}}gu(e){const n=this.mu.then(()=>(this.du=!0,e().catch(r=>{this.Eu=r,this.du=!1;const i=function(o){let a=o.message||"";return o.stack&&(a=o.stack.includes(o.message)?o.stack:o.message+`
`+o.stack),a}(r);throw Zo("INTERNAL UNHANDLED ERROR: ",i),r}).then(r=>(this.du=!1,r))));return this.mu=n,n}enqueueAfterDelay(e,n,r){this.fu(),this.Ru.indexOf(e)>-1&&(n=0);const i=_v.createAndSchedule(this,e,n,r,s=>this.yu(s));return this.Tu.push(i),i}fu(){this.Eu&&bt()}verifyOperationInProgress(){}async wu(){let e;do e=this.mu,await e;while(e!==this.mu)}Su(e){for(const n of this.Tu)if(n.timerId===e)return!0;return!1}bu(e){return this.wu().then(()=>{this.Tu.sort((n,r)=>n.targetTimeMs-r.targetTimeMs);for(const n of this.Tu)if(n.skipDelay(),e!=="all"&&n.timerId===e)break;return this.wu()})}Du(e){this.Ru.push(e)}yu(e){const n=this.Tu.indexOf(e);this.Tu.splice(n,1)}}function E4(t){return function(n,r){if(typeof n!="object"||n===null)return!1;const i=n;for(const s of r)if(s in i&&typeof i[s]=="function")return!0;return!1}(t,["next","error","complete"])}class _o extends h0{constructor(e,n,r,i){super(e,n,r,i),this.type="firestore",this._queue=new N4,this._persistenceKey=(i==null?void 0:i.name)||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new N4(e),this._firestoreClient=void 0,await e}}}function D9(t,e){const n=typeof t=="object"?t:VL(),r=typeof t=="string"?t:"(default)",i=DL(n,"firestore").getImmediate({identifier:r});if(!i._initialized){const s=CI("firestore");s&&j9(i,...s)}return i}function Xf(t){if(t._terminated)throw new $e(Ie.FAILED_PRECONDITION,"The client has already been terminated.");return t._firestoreClient||M9(t),t._firestoreClient}function M9(t){var e,n,r;const i=t._freezeSettings(),s=function(a,l,u,c){return new pR(a,l,u,c.host,c.ssl,c.experimentalForceLongPolling,c.experimentalAutoDetectLongPolling,hA(c.experimentalLongPollingOptions),c.useFetchStreams)}(t._databaseId,((e=t._app)===null||e===void 0?void 0:e.options.appId)||"",t._persistenceKey,i);t._componentsProvider||!((n=i.localCache)===null||n===void 0)&&n._offlineComponentProvider&&(!((r=i.localCache)===null||r===void 0)&&r._onlineComponentProvider)&&(t._componentsProvider={_offline:i.localCache._offlineComponentProvider,_online:i.localCache._onlineComponentProvider}),t._firestoreClient=new C9(t._authCredentials,t._appCheckCredentials,t._queue,s,t._componentsProvider&&function(a){const l=a==null?void 0:a._online.build();return{_offline:a==null?void 0:a._offline.build(l),_online:l}}(t._componentsProvider))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Tc{constructor(e){this._byteString=e}static fromBase64String(e){try{return new Tc(Br.fromBase64String(e))}catch(n){throw new $e(Ie.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+n)}}static fromUint8Array(e){return new Tc(Br.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Jf{constructor(...e){for(let n=0;n<e.length;++n)if(e[n].length===0)throw new $e(Ie.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new Mr(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kv{constructor(e){this._methodName=e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Iv{constructor(e,n){if(!isFinite(e)||e<-90||e>90)throw new $e(Ie.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(n)||n<-180||n>180)throw new $e(Ie.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=e,this._long=n}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return Qt(this._lat,e._lat)||Qt(this._long,e._long)}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Lv{constructor(e){this._values=(e||[]).map(n=>n)}toArray(){return this._values.map(e=>e)}isEqual(e){return function(r,i){if(r.length!==i.length)return!1;for(let s=0;s<r.length;++s)if(r[s]!==i[s])return!1;return!0}(this._values,e._values)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const F9=/^__.*__$/;class O9{constructor(e,n,r){this.data=e,this.fieldMask=n,this.fieldTransforms=r}toMutation(e,n){return this.fieldMask!==null?new dl(e,this.data,this.fieldMask,n,this.fieldTransforms):new Gf(e,this.data,n,this.fieldTransforms)}}class dA{constructor(e,n,r){this.data=e,this.fieldMask=n,this.fieldTransforms=r}toMutation(e,n){return new dl(e,this.data,this.fieldMask,n,this.fieldTransforms)}}function pA(t){switch(t){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw bt()}}class Rv{constructor(e,n,r,i,s,o){this.settings=e,this.databaseId=n,this.serializer=r,this.ignoreUndefinedProperties=i,s===void 0&&this.vu(),this.fieldTransforms=s||[],this.fieldMask=o||[]}get path(){return this.settings.path}get Cu(){return this.settings.Cu}Fu(e){return new Rv(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}Mu(e){var n;const r=(n=this.path)===null||n===void 0?void 0:n.child(e),i=this.Fu({path:r,xu:!1});return i.Ou(e),i}Nu(e){var n;const r=(n=this.path)===null||n===void 0?void 0:n.child(e),i=this.Fu({path:r,xu:!1});return i.vu(),i}Lu(e){return this.Fu({path:void 0,xu:!0})}Bu(e){return bm(e,this.settings.methodName,this.settings.ku||!1,this.path,this.settings.qu)}contains(e){return this.fieldMask.find(n=>e.isPrefixOf(n))!==void 0||this.fieldTransforms.find(n=>e.isPrefixOf(n.field))!==void 0}vu(){if(this.path)for(let e=0;e<this.path.length;e++)this.Ou(this.path.get(e))}Ou(e){if(e.length===0)throw this.Bu("Document fields must not be empty");if(pA(this.Cu)&&F9.test(e))throw this.Bu('Document fields cannot begin and end with "__"')}}class V9{constructor(e,n,r){this.databaseId=e,this.ignoreUndefinedProperties=n,this.serializer=r||a0(e)}Qu(e,n,r,i=!1){return new Rv({Cu:e,methodName:n,qu:r,path:Mr.emptyPath(),xu:!1,ku:i},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function Zf(t){const e=t._freezeSettings(),n=a0(t._databaseId);return new V9(t._databaseId,!!e.ignoreUndefinedProperties,n)}function jv(t,e,n,r,i,s={}){const o=t.Qu(s.merge||s.mergeFields?2:0,e,n,i);Dv("Data must be an object, but it was:",o,r);const a=yA(r,o);let l,u;if(s.merge)l=new Xi(o.fieldMask),u=o.fieldTransforms;else if(s.mergeFields){const c=[];for(const d of s.mergeFields){const g=A2(e,d,n);if(!o.contains(g))throw new $e(Ie.INVALID_ARGUMENT,`Field '${g}' is specified in your field mask but missing from your input data.`);wA(c,g)||c.push(g)}l=new Xi(c),u=o.fieldTransforms.filter(d=>l.covers(d.field))}else l=null,u=o.fieldTransforms;return new O9(new Ti(a),l,u)}class f0 extends kv{_toFieldTransform(e){if(e.Cu!==2)throw e.Cu===1?e.Bu(`${this._methodName}() can only appear at the top level of your update data`):e.Bu(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof f0}}function mA(t,e,n,r){const i=t.Qu(1,e,n);Dv("Data must be an object, but it was:",i,r);const s=[],o=Ti.empty();mu(r,(l,u)=>{const c=Mv(e,l,n);u=xs(u);const d=i.Nu(c);if(u instanceof f0)s.push(c);else{const g=ed(u,d);g!=null&&(s.push(c),o.set(c,g))}});const a=new Xi(s);return new dA(o,a,i.fieldTransforms)}function gA(t,e,n,r,i,s){const o=t.Qu(1,e,n),a=[A2(e,r,n)],l=[i];if(s.length%2!=0)throw new $e(Ie.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let g=0;g<s.length;g+=2)a.push(A2(e,s[g])),l.push(s[g+1]);const u=[],c=Ti.empty();for(let g=a.length-1;g>=0;--g)if(!wA(u,a[g])){const m=a[g];let b=l[g];b=xs(b);const x=o.Nu(m);if(b instanceof f0)u.push(m);else{const A=ed(b,x);A!=null&&(u.push(m),c.set(m,A))}}const d=new Xi(u);return new dA(c,d,o.fieldTransforms)}function B9(t,e,n,r=!1){return ed(n,t.Qu(r?4:3,e))}function ed(t,e){if(vA(t=xs(t)))return Dv("Unsupported field value:",e,t),yA(t,e);if(t instanceof kv)return function(r,i){if(!pA(i.Cu))throw i.Bu(`${r._methodName}() can only be used with update() and set()`);if(!i.path)throw i.Bu(`${r._methodName}() is not currently supported inside arrays`);const s=r._toFieldTransform(i);s&&i.fieldTransforms.push(s)}(t,e),null;if(t===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),t instanceof Array){if(e.settings.xu&&e.Cu!==4)throw e.Bu("Nested arrays are not supported");return function(r,i){const s=[];let o=0;for(const a of r){let l=ed(a,i.Lu(o));l==null&&(l={nullValue:"NULL_VALUE"}),s.push(l),o++}return{arrayValue:{values:s}}}(t,e)}return function(r,i){if((r=xs(r))===null)return{nullValue:"NULL_VALUE"};if(typeof r=="number")return MR(i.serializer,r);if(typeof r=="boolean")return{booleanValue:r};if(typeof r=="string")return{stringValue:r};if(r instanceof Date){const s=Qn.fromDate(r);return{timestampValue:ym(i.serializer,s)}}if(r instanceof Qn){const s=new Qn(r.seconds,1e3*Math.floor(r.nanoseconds/1e3));return{timestampValue:ym(i.serializer,s)}}if(r instanceof Iv)return{geoPointValue:{latitude:r.latitude,longitude:r.longitude}};if(r instanceof Tc)return{bytesValue:V8(i.serializer,r._byteString)};if(r instanceof ri){const s=i.databaseId,o=r.firestore._databaseId;if(!o.isEqual(s))throw i.Bu(`Document reference is for database ${o.projectId}/${o.database} but should be for database ${s.projectId}/${s.database}`);return{referenceValue:pv(r.firestore._databaseId||i.databaseId,r._key.path)}}if(r instanceof Lv)return function(o,a){return{mapValue:{fields:{__type__:{stringValue:"__vector__"},value:{arrayValue:{values:o.toArray().map(l=>{if(typeof l!="number")throw a.Bu("VectorValues must only contain numeric values.");return hv(a.serializer,l)})}}}}}}(r,i);throw i.Bu(`Unsupported field value: ${c0(r)}`)}(t,e)}function yA(t,e){const n={};return p8(t)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):mu(t,(r,i)=>{const s=ed(i,e.Mu(r));s!=null&&(n[r]=s)}),{mapValue:{fields:n}}}function vA(t){return!(typeof t!="object"||t===null||t instanceof Array||t instanceof Date||t instanceof Qn||t instanceof Iv||t instanceof Tc||t instanceof ri||t instanceof kv||t instanceof Lv)}function Dv(t,e,n){if(!vA(n)||!function(i){return typeof i=="object"&&i!==null&&(Object.getPrototypeOf(i)===Object.prototype||Object.getPrototypeOf(i)===null)}(n)){const r=c0(n);throw r==="an object"?e.Bu(t+" a custom object"):e.Bu(t+" "+r)}}function A2(t,e,n){if((e=xs(e))instanceof Jf)return e._internalPath;if(typeof e=="string")return Mv(t,e);throw bm("Field path arguments must be of type string or ",t,!1,void 0,n)}const U9=new RegExp("[~\\*/\\[\\]]");function Mv(t,e,n){if(e.search(U9)>=0)throw bm(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,t,!1,void 0,n);try{return new Jf(...e.split("."))._internalPath}catch{throw bm(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,t,!1,void 0,n)}}function bm(t,e,n,r,i){const s=r&&!r.isEmpty(),o=i!==void 0;let a=`Function ${e}() called with invalid data`;n&&(a+=" (via `toFirestore()`)"),a+=". ";let l="";return(s||o)&&(l+=" (found",s&&(l+=` in field ${r}`),o&&(l+=` in document ${i}`),l+=")"),new $e(Ie.INVALID_ARGUMENT,a+t+l)}function wA(t,e){return t.some(n=>n.isEqual(e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xA{constructor(e,n,r,i,s){this._firestore=e,this._userDataWriter=n,this._key=r,this._document=i,this._converter=s}get id(){return this._key.path.lastSegment()}get ref(){return new ri(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new z9(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const n=this._document.data.field(Fv("DocumentSnapshot.get",e));if(n!==null)return this._userDataWriter.convertValue(n)}}}class z9 extends xA{data(){return super.data()}}function Fv(t,e){return typeof e=="string"?Mv(t,e):e instanceof Jf?e._internalPath:e._delegate._internalPath}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function bA(t){if(t.limitType==="L"&&t.explicitOrderBy.length===0)throw new $e(Ie.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class Ov{}class q9 extends Ov{}function $9(t,e,...n){let r=[];e instanceof Ov&&r.push(e),r=r.concat(n),function(s){const o=s.filter(l=>l instanceof Vv).length,a=s.filter(l=>l instanceof d0).length;if(o>1||o>0&&a>0)throw new $e(Ie.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")}(r);for(const i of r)t=i._apply(t);return t}class d0 extends q9{constructor(e,n,r){super(),this._field=e,this._op=n,this._value=r,this.type="where"}static _create(e,n,r){return new d0(e,n,r)}_apply(e){const n=this._parse(e);return _A(e._query,n),new yu(e.firestore,e.converter,p2(e._query,n))}_parse(e){const n=Zf(e.firestore);return function(s,o,a,l,u,c,d){let g;if(u.isKeyField()){if(c==="array-contains"||c==="array-contains-any")throw new $e(Ie.INVALID_ARGUMENT,`Invalid Query. You can't perform '${c}' queries on documentId().`);if(c==="in"||c==="not-in"){P4(d,c);const m=[];for(const b of d)m.push(C4(l,s,b));g={arrayValue:{values:m}}}else g=C4(l,s,d)}else c!=="in"&&c!=="not-in"&&c!=="array-contains-any"||P4(d,c),g=B9(a,o,d,c==="in"||c==="not-in");return dr.create(u,c,g)}(e._query,"where",n,e.firestore._databaseId,this._field,this._op,this._value)}}function T4(t,e,n){const r=e,i=Fv("where",t);return d0._create(i,r,n)}class Vv extends Ov{constructor(e,n){super(),this.type=e,this._queryConstraints=n}static _create(e,n){return new Vv(e,n)}_parse(e){const n=this._queryConstraints.map(r=>r._parse(e)).filter(r=>r.getFilters().length>0);return n.length===1?n[0]:Bs.create(n,this._getOperator())}_apply(e){const n=this._parse(e);return n.getFilters().length===0?e:(function(i,s){let o=i;const a=s.getFlattenedFilters();for(const l of a)_A(o,l),o=p2(o,l)}(e._query,n),new yu(e.firestore,e.converter,p2(e._query,n)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}}function C4(t,e,n){if(typeof(n=xs(n))=="string"){if(n==="")throw new $e(Ie.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!S8(e)&&n.indexOf("/")!==-1)throw new $e(Ie.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${n}' contains a '/' character.`);const r=e.path.child(_n.fromString(n));if(!at.isDocumentKey(r))throw new $e(Ie.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${r}' is not because it has an odd number of segments (${r.length}).`);return Kx(t,new at(r))}if(n instanceof ri)return Kx(t,n._key);throw new $e(Ie.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${c0(n)}.`)}function P4(t,e){if(!Array.isArray(t)||t.length===0)throw new $e(Ie.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`)}function _A(t,e){const n=function(i,s){for(const o of i)for(const a of o.getFlattenedFilters())if(s.indexOf(a.op)>=0)return a.op;return null}(t.filters,function(i){switch(i){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}}(e.op));if(n!==null)throw n===e.op?new $e(Ie.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${e.op.toString()}' filter.`):new $e(Ie.INVALID_ARGUMENT,`Invalid query. You cannot use '${e.op.toString()}' filters with '${n.toString()}' filters.`)}class H9{convertValue(e,n="none"){switch(lu(e)){case 0:return null;case 1:return e.booleanValue;case 2:return rr(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,n);case 5:return e.stringValue;case 6:return this.convertBytes(au(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,n);case 11:return this.convertObject(e.mapValue,n);case 10:return this.convertVectorValue(e.mapValue);default:throw bt()}}convertObject(e,n){return this.convertObjectMap(e.fields,n)}convertObjectMap(e,n="none"){const r={};return mu(e,(i,s)=>{r[i]=this.convertValue(s,n)}),r}convertVectorValue(e){var n,r,i;const s=(i=(r=(n=e.fields)===null||n===void 0?void 0:n.value.arrayValue)===null||r===void 0?void 0:r.values)===null||i===void 0?void 0:i.map(o=>rr(o.doubleValue));return new Lv(s)}convertGeoPoint(e){return new Iv(rr(e.latitude),rr(e.longitude))}convertArray(e,n){return(e.values||[]).map(r=>this.convertValue(r,n))}convertServerTimestamp(e,n){switch(n){case"previous":const r=av(e);return r==null?null:this.convertValue(r,n);case"estimate":return this.convertTimestamp(_f(e));default:return null}}convertTimestamp(e){const n=il(e);return new Qn(n.seconds,n.nanos)}convertDocumentKey(e,n){const r=_n.fromString(e);un(H8(r));const i=new Sf(r.get(1),r.get(3)),s=new at(r.popFirst(5));return i.isEqual(n)||Zo(`Document ${s} contains a document reference within a different database (${i.projectId}/${i.database}) which is not supported. It will be treated as a reference in the current database (${n.projectId}/${n.database}) instead.`),s}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Bv(t,e,n){let r;return r=t?n&&(n.merge||n.mergeFields)?t.toFirestore(e,n):t.toFirestore(e):e,r}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kh{constructor(e,n){this.hasPendingWrites=e,this.fromCache=n}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class SA extends xA{constructor(e,n,r,i,s,o){super(e,n,r,i,o),this._firestore=e,this._firestoreImpl=e,this.metadata=s}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const n=new Ap(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(n,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,n={}){if(this._document){const r=this._document.data.field(Fv("DocumentSnapshot.get",e));if(r!==null)return this._userDataWriter.convertValue(r,n.serverTimestamps)}}}class Ap extends SA{data(e={}){return super.data(e)}}class AA{constructor(e,n,r,i){this._firestore=e,this._userDataWriter=n,this._snapshot=i,this.metadata=new kh(i.hasPendingWrites,i.fromCache),this.query=r}get docs(){const e=[];return this.forEach(n=>e.push(n)),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,n){this._snapshot.docs.forEach(r=>{e.call(n,new Ap(this._firestore,this._userDataWriter,r.key,r,new kh(this._snapshot.mutatedKeys.has(r.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){const n=!!e.includeMetadataChanges;if(n&&this._snapshot.excludesMetadataChanges)throw new $e(Ie.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===n||(this._cachedChanges=function(i,s){if(i._snapshot.oldDocs.isEmpty()){let o=0;return i._snapshot.docChanges.map(a=>{const l=new Ap(i._firestore,i._userDataWriter,a.doc.key,a.doc,new kh(i._snapshot.mutatedKeys.has(a.doc.key),i._snapshot.fromCache),i.query.converter);return a.doc,{type:"added",doc:l,oldIndex:-1,newIndex:o++}})}{let o=i._snapshot.oldDocs;return i._snapshot.docChanges.filter(a=>s||a.type!==3).map(a=>{const l=new Ap(i._firestore,i._userDataWriter,a.doc.key,a.doc,new kh(i._snapshot.mutatedKeys.has(a.doc.key),i._snapshot.fromCache),i.query.converter);let u=-1,c=-1;return a.type!==0&&(u=o.indexOf(a.doc.key),o=o.delete(a.doc.key)),a.type!==1&&(o=o.add(a.doc),c=o.indexOf(a.doc.key)),{type:W9(a.type),doc:l,oldIndex:u,newIndex:c}})}}(this,n),this._cachedChangesIncludeMetadataChanges=n),this._cachedChanges}}function W9(t){switch(t){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return bt()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function G9(t){t=mi(t,ri);const e=mi(t.firestore,_o);return I9(Xf(e),t._key).then(n=>TA(e,t,n))}class Uv extends H9{constructor(e){super(),this.firestore=e}convertBytes(e){return new Tc(e)}convertReference(e){const n=this.convertDocumentKey(e,this.firestore._databaseId);return new ri(this.firestore,null,n)}}function td(t){t=mi(t,yu);const e=mi(t.firestore,_o),n=Xf(e),r=new Uv(e);return bA(t._query),L9(n,t._query).then(i=>new AA(e,r,t,i))}function K9(t,e,n){t=mi(t,ri);const r=mi(t.firestore,_o),i=Bv(t.converter,e,n);return rd(r,[jv(Zf(r),"setDoc",t._key,i,t.converter!==null,n).toMutation(t._key,pi.none())])}function NA(t,e,n,...r){t=mi(t,ri);const i=mi(t.firestore,_o),s=Zf(i);let o;return o=typeof(e=xs(e))=="string"||e instanceof Jf?gA(s,"updateDoc",t._key,e,n,r):mA(s,"updateDoc",t._key,e),rd(i,[o.toMutation(t._key,pi.exists(!0))])}function EA(t){return rd(mi(t.firestore,_o),[new s0(t._key,pi.none())])}function nd(t,e){const n=mi(t.firestore,_o),r=zs(t),i=Bv(t.converter,e);return rd(n,[jv(Zf(t.firestore),"addDoc",r._key,i,t.converter!==null,{}).toMutation(r._key,pi.exists(!1))]).then(()=>r)}function zv(t,...e){var n,r,i;t=xs(t);let s={includeMetadataChanges:!1,source:"default"},o=0;typeof e[o]!="object"||E4(e[o])||(s=e[o],o++);const a={includeMetadataChanges:s.includeMetadataChanges,source:s.source};if(E4(e[o])){const d=e[o];e[o]=(n=d.next)===null||n===void 0?void 0:n.bind(d),e[o+1]=(r=d.error)===null||r===void 0?void 0:r.bind(d),e[o+2]=(i=d.complete)===null||i===void 0?void 0:i.bind(d)}let l,u,c;if(t instanceof ri)u=mi(t.firestore,_o),c=e0(t._key.path),l={next:d=>{e[o]&&e[o](TA(u,t,d))},error:e[o+1],complete:e[o+2]};else{const d=mi(t,yu);u=mi(d.firestore,_o),c=d._query;const g=new Uv(u);l={next:m=>{e[o]&&e[o](new AA(u,g,d,m))},error:e[o+1],complete:e[o+2]},bA(t._query)}return function(g,m,b,x){const A=new Pv(x),v=new Tv(m,A,b);return g.asyncQueue.enqueueAndForget(async()=>Av(await xm(g),v)),()=>{A.Za(),g.asyncQueue.enqueueAndForget(async()=>Nv(await xm(g),v))}}(Xf(u),c,a,l)}function rd(t,e){return function(r,i){const s=new Go;return r.asyncQueue.enqueueAndForget(async()=>x9(await k9(r),i,s)),s.promise}(Xf(t),e)}function TA(t,e,n){const r=n.docs.get(e._key),i=new Uv(t);return new SA(t,i,e._key,r,new kh(n.hasPendingWrites,n.fromCache),e.converter)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Q9{constructor(e,n){this._firestore=e,this._commitHandler=n,this._mutations=[],this._committed=!1,this._dataReader=Zf(e)}set(e,n,r){this._verifyNotCommitted();const i=yg(e,this._firestore),s=Bv(i.converter,n,r),o=jv(this._dataReader,"WriteBatch.set",i._key,s,i.converter!==null,r);return this._mutations.push(o.toMutation(i._key,pi.none())),this}update(e,n,r,...i){this._verifyNotCommitted();const s=yg(e,this._firestore);let o;return o=typeof(n=xs(n))=="string"||n instanceof Jf?gA(this._dataReader,"WriteBatch.update",s._key,n,r,i):mA(this._dataReader,"WriteBatch.update",s._key,n),this._mutations.push(o.toMutation(s._key,pi.exists(!0))),this}delete(e){this._verifyNotCommitted();const n=yg(e,this._firestore);return this._mutations=this._mutations.concat(new s0(n._key,pi.none())),this}commit(){return this._verifyNotCommitted(),this._committed=!0,this._mutations.length>0?this._commitHandler(this._mutations):Promise.resolve()}_verifyNotCommitted(){if(this._committed)throw new $e(Ie.FAILED_PRECONDITION,"A write batch can no longer be used after commit() has been called.")}}function yg(t,e){if((t=xs(t)).firestore!==e)throw new $e(Ie.INVALID_ARGUMENT,"Provided document reference is from a different Firestore instance.");return t}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function id(t){return Xf(t=mi(t,_o)),new Q9(t,e=>rd(t,e))}(function(e,n=!0){(function(i){Mc=i})(OL),hm(new wf("firestore",(r,{instanceIdentifier:i,options:s})=>{const o=r.getProvider("app").getImmediate(),a=new _o(new ZL(r.getProvider("auth-internal")),new rR(r.getProvider("app-check-internal")),function(u,c){if(!Object.prototype.hasOwnProperty.apply(u.options,["projectId"]))throw new $e(Ie.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Sf(u.options.projectId,c)}(o,i),o);return s=Object.assign({useFetchStreams:n},s),a._setSettings(s),a},"PUBLIC").setMultipleInstances(!0)),oc(qx,"4.7.3",e),oc(qx,"4.7.3","esm2017")})();const Y9={apiKey:"AIzaSyDXKdnkxtgKARc0fWiA1BD5ok3qc8AqCVc",authDomain:"syncserve-dev.firebaseapp.com",databaseURL:"https://syncserve-dev-default-rtdb.firebaseio.com",projectId:"syncserve-dev",storageBucket:"syncserve-dev.firebasestorage.app",messagingSenderId:"1029186931798",appId:"1:1029186931798:web:ec31db4513af2edc057ff7",measurementId:"G-LX9Z2Y6SN9"},X9=r8(Y9),lr=D9(X9),qv=pl(lr,"tables"),$v=pl(lr,"menuItems"),CA=pl(lr,"staff"),Hv=pl(lr,"orders");pl(lr,"settings");const PA=pl(lr,"salesRecords"),sa=async()=>{try{const t=zs(lr,"settings","appSettings"),e=await G9(t);return e.exists()?e.data():(console.warn("Settings document 'appSettings' not found. Using defaults."),null)}catch(t){throw console.error("Error fetching settings:",t),t}},J9=async t=>{try{const e=zs(lr,"settings","appSettings");await K9(e,t,{merge:!0})}catch(e){throw console.error("Error updating settings:",e),e}},Z9=async t=>{try{return{id:(await nd(qv,{name:t,status:"available"})).id,name:t,status:"available"}}catch(e){throw console.error("Error adding table:",e),e}},eD=async t=>{if(!t||t.length===0)throw new Error("addTablesInBulk: tableNames array is required and cannot be empty.");try{const e=id(lr);t.forEach(n=>{const r=zs(pl(lr,"tables"));e.set(r,{name:n,status:"available"})}),await e.commit()}catch(e){throw console.error("Error adding tables in bulk:",e),e}},kA=async()=>{try{return(await td(qv)).docs.map(e=>({id:e.id,...e.data()}))}catch(t){throw console.error("Error fetching tables:",t),t}},IA=(t,e)=>zv(qv,n=>{const r=n.docs.map(i=>({id:i.id,...i.data()}));t(r)},n=>{console.error("onTablesRealtime error:",n),e&&e(n)}),LA=async(t,e)=>{if(!t)throw new Error("updateTableStatus: tableId is required");try{const n=zs(lr,"tables",t);return await NA(n,{status:e}),!0}catch(n){throw console.error("Error updating table status:",n),n}},tD=async t=>{if(!t)throw new Error("deleteTable: tableId is required");try{return await EA(zs(lr,"tables",t)),!0}catch(e){throw console.error("Error deleting table:",e),e}},nD=async t=>{if(!t||t.length===0)throw new Error("deleteTablesInBulk: tableIds array is required and cannot be empty.");try{const e=id(lr);t.forEach(n=>{const r=zs(lr,"tables",n);e.delete(r)}),await e.commit()}catch(e){throw console.error("Error deleting tables in bulk:",e),e}},k4=async t=>{try{if(!t||!t.name||t.fullPrice==null)throw new Error("addMenuItem: item must have a name and a fullPrice.");return{id:(await nd($v,t)).id,...t}}catch(e){throw console.error("Error adding menu item:",e),e}},Wv=async()=>{try{return(await td($v)).docs.map(e=>({id:e.id,...e.data()}))}catch(t){throw console.error("Error fetching menu items:",t),t}},rD=async t=>{if(!t||t.length===0)throw new Error("deleteMenuItemsInBulk: itemIds array is required and cannot be empty.");try{const e=id(lr);t.forEach(n=>{const r=zs(lr,"menuItems",n);e.delete(r)}),await e.commit()}catch(e){throw console.error("Error deleting menu items in bulk:",e),e}},iD=(t,e)=>zv($v,n=>{const r=n.docs.map(i=>({id:i.id,...i.data()}));t(r)},n=>{console.error("onMenuItemsRealtime error:",n)}),sD=async t=>{try{if(!t||!t.name)throw new Error("addStaff: Staff data must include a name.");return{id:(await nd(CA,t)).id,...t}}catch(e){throw console.error("Error adding staff:",e),e}},oD=async t=>{if(!t||t.length===0)throw new Error("addStaffInBulk: staffArray is required and cannot be empty.");try{const e=id(lr);t.forEach(n=>{if(n.name&&n.name.trim()!==""){const r=zs(pl(lr,"staff"));e.set(r,{name:n.name||"",contact:n.contact||"",address:n.address||""})}}),await e.commit()}catch(e){throw console.error("Error adding staff in bulk:",e),e}},Tf=async()=>{try{return(await td(CA)).docs.map(e=>({id:e.id,...e.data()}))}catch(t){throw console.error("Error fetching staff:",t),t}},aD=async t=>{try{return{id:(await nd(Hv,t)).id,...t}}catch(e){throw console.error("Error adding order:",e),e}},lD=async t=>{if(!t)throw new Error("deleteOrder: orderId is required");try{return await EA(zs(lr,"orders",t)),!0}catch(e){throw console.error("Error deleting order:",e),e}},uD=async(t,e)=>{if(!t||!e)throw new Error("updateOrderStatus: orderId and newStatus are required.");try{const n=zs(lr,"orders",t);await NA(n,{status:e})}catch(n){throw console.error(`Error updating order status for order ${t}:`,n),n}},RA=(t,e)=>zv(Hv,n=>{const r=n.docs.map(i=>({id:i.id,...i.data()}));t(r)},n=>{console.error("onOrdersRealtime error:",n),e&&e(n)}),cD=async()=>{try{const t=await td(Hv);if(t.empty){console.log("No orders to delete.");return}const e=id(lr);t.docs.forEach(n=>{e.delete(n.ref)}),await e.commit(),console.log("All orders successfully deleted.")}catch(t){throw console.error("Error clearing all orders:",t),t}},hD=async t=>{try{const e={...t,finalizedAt:Qn.now()};await nd(PA,e)}catch(e){throw console.error("Error adding sale record:",e),e}},Cf=async(t,e)=>{try{const n=new Date(e);n.setHours(23,59,59,999);const r=$9(PA,T4("finalizedAt",">=",Qn.fromDate(t)),T4("finalizedAt","<=",Qn.fromDate(n)));return(await td(r)).docs.map(s=>{const o=s.data();return{id:s.id,...o,finalizedAt:o.finalizedAt.toDate()}})}catch(n){throw console.error("Error fetching sales by date range:",n),n}},Ua=({isOpen:t,onClose:e,children:n,size:r="md"})=>{const i=G.useRef(null);G.useEffect(()=>{const a=l=>{l.key==="Escape"&&e()};return t&&(document.body.style.overflow="hidden",window.addEventListener("keydown",a)),()=>{document.body.style.overflow="unset",window.removeEventListener("keydown",a)}},[t,e]);const s=a=>{i.current&&!i.current.contains(a.target)&&e()},o={sm:"max-w-sm",md:"max-w-md",lg:"max-w-lg",xl:"max-w-xl","2xl":"max-w-2xl","3xl":"max-w-3xl","4xl":"max-w-4xl","5xl":"max-w-5xl","6xl":"max-w-6xl"};return p.jsxs("div",{className:`fixed inset-0 z-50 overflow-y-auto transition-opacity duration-300 ease-in-out ${t?"opacity-100":"opacity-0 pointer-events-none"}`,onClick:s,"aria-modal":"true",role:"dialog",children:[p.jsx("div",{className:"fixed inset-0 bg-gray-900 bg-opacity-75"}),p.jsx("div",{className:"flex min-h-full items-center justify-center p-4 text-center",children:p.jsxs("div",{ref:i,className:`relative w-full transform rounded-xl bg-white text-left shadow-xl transition-all duration-300 ease-in-out ${o[r]||o.md} ${t?"translate-y-0 scale-100 opacity-100":"translate-y-4 scale-95 opacity-0"}`,children:[p.jsx("button",{onClick:e,className:"absolute top-4 right-4 z-10 rounded-full p-1 text-gray-400 transition-colors hover:bg-gray-100 hover:text-gray-700","aria-label":"Close modal",children:p.jsx("svg",{className:"h-6 w-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg",children:p.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M6 18L18 6M6 6l12 12"})})}),p.jsx("div",{className:"p-6",children:n})]})})]})},jA=G.createContext({});function fD(t){const e=G.useRef(null);return e.current===null&&(e.current=t()),e.current}const Gv=typeof window<"u",dD=Gv?G.useLayoutEffect:G.useEffect,Kv=G.createContext(null);function Qv(t,e){t.indexOf(e)===-1&&t.push(e)}function Yv(t,e){const n=t.indexOf(e);n>-1&&t.splice(n,1)}const ta=(t,e,n)=>n>e?e:n<t?t:n;let Xv=()=>{};const na={},DA=t=>/^-?(?:\d+(?:\.\d+)?|\.\d+)$/u.test(t);function MA(t){return typeof t=="object"&&t!==null}const FA=t=>/^0[^.\s]+$/u.test(t);function Jv(t){let e;return()=>(e===void 0&&(e=t()),e)}const ys=t=>t,pD=(t,e)=>n=>e(t(n)),sd=(...t)=>t.reduce(pD),Pf=(t,e,n)=>{const r=e-t;return r===0?1:(n-t)/r};class Zv{constructor(){this.subscriptions=[]}add(e){return Qv(this.subscriptions,e),()=>Yv(this.subscriptions,e)}notify(e,n,r){const i=this.subscriptions.length;if(i)if(i===1)this.subscriptions[0](e,n,r);else for(let s=0;s<i;s++){const o=this.subscriptions[s];o&&o(e,n,r)}}getSize(){return this.subscriptions.length}clear(){this.subscriptions.length=0}}const vo=t=>t*1e3,wo=t=>t/1e3;function OA(t,e){return e?t*(1e3/e):0}const VA=(t,e,n)=>(((1-3*n+3*e)*t+(3*n-6*e))*t+3*e)*t,mD=1e-7,gD=12;function yD(t,e,n,r,i){let s,o,a=0;do o=e+(n-e)/2,s=VA(o,r,i)-t,s>0?n=o:e=o;while(Math.abs(s)>mD&&++a<gD);return o}function od(t,e,n,r){if(t===e&&n===r)return ys;const i=s=>yD(s,0,1,t,n);return s=>s===0||s===1?s:VA(i(s),e,r)}const BA=t=>e=>e<=.5?t(2*e)/2:(2-t(2*(1-e)))/2,UA=t=>e=>1-t(1-e),zA=od(.33,1.53,.69,.99),e5=UA(zA),qA=BA(e5),$A=t=>(t*=2)<1?.5*e5(t):.5*(2-Math.pow(2,-10*(t-1))),t5=t=>1-Math.sin(Math.acos(t)),HA=UA(t5),WA=BA(t5),vD=od(.42,0,1,1),wD=od(0,0,.58,1),GA=od(.42,0,.58,1),xD=t=>Array.isArray(t)&&typeof t[0]!="number",KA=t=>Array.isArray(t)&&typeof t[0]=="number",bD={linear:ys,easeIn:vD,easeInOut:GA,easeOut:wD,circIn:t5,circInOut:WA,circOut:HA,backIn:e5,backInOut:qA,backOut:zA,anticipate:$A},_D=t=>typeof t=="string",I4=t=>{if(KA(t)){Xv(t.length===4);const[e,n,r,i]=t;return od(e,n,r,i)}else if(_D(t))return bD[t];return t},Qd=["setup","read","resolveKeyframes","preUpdate","update","preRender","render","postRender"],L4={value:null};function SD(t,e){let n=new Set,r=new Set,i=!1,s=!1;const o=new WeakSet;let a={delta:0,timestamp:0,isProcessing:!1},l=0;function u(d){o.has(d)&&(c.schedule(d),t()),l++,d(a)}const c={schedule:(d,g=!1,m=!1)=>{const x=m&&i?n:r;return g&&o.add(d),x.has(d)||x.add(d),d},cancel:d=>{r.delete(d),o.delete(d)},process:d=>{if(a=d,i){s=!0;return}i=!0,[n,r]=[r,n],n.forEach(u),e&&L4.value&&L4.value.frameloop[e].push(l),l=0,n.clear(),i=!1,s&&(s=!1,c.process(d))}};return c}const AD=40;function QA(t,e){let n=!1,r=!0;const i={delta:0,timestamp:0,isProcessing:!1},s=()=>n=!0,o=Qd.reduce((E,L)=>(E[L]=SD(s,e?L:void 0),E),{}),{setup:a,read:l,resolveKeyframes:u,preUpdate:c,update:d,preRender:g,render:m,postRender:b}=o,x=()=>{const E=na.useManualTiming?i.timestamp:performance.now();n=!1,na.useManualTiming||(i.delta=r?1e3/60:Math.max(Math.min(E-i.timestamp,AD),1)),i.timestamp=E,i.isProcessing=!0,a.process(i),l.process(i),u.process(i),c.process(i),d.process(i),g.process(i),m.process(i),b.process(i),i.isProcessing=!1,n&&e&&(r=!1,t(x))},A=()=>{n=!0,r=!0,i.isProcessing||t(x)};return{schedule:Qd.reduce((E,L)=>{const z=o[L];return E[L]=(Y,R=!1,C=!1)=>(n||A(),z.schedule(Y,R,C)),E},{}),cancel:E=>{for(let L=0;L<Qd.length;L++)o[Qd[L]].cancel(E)},state:i,steps:o}}const{schedule:Fn,cancel:ol,state:jr,steps:vg}=QA(typeof requestAnimationFrame<"u"?requestAnimationFrame:ys,!0);let Np;function ND(){Np=void 0}const Pi={now:()=>(Np===void 0&&Pi.set(jr.isProcessing||na.useManualTiming?jr.timestamp:performance.now()),Np),set:t=>{Np=t,queueMicrotask(ND)}},YA=t=>e=>typeof e=="string"&&e.startsWith(t),n5=YA("--"),ED=YA("var(--"),r5=t=>ED(t)?TD.test(t.split("/*")[0].trim()):!1,TD=/var\(--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)$/iu,Vc={test:t=>typeof t=="number",parse:parseFloat,transform:t=>t},kf={...Vc,transform:t=>ta(0,1,t)},Yd={...Vc,default:1},Hh=t=>Math.round(t*1e5)/1e5,i5=/-?(?:\d+(?:\.\d+)?|\.\d+)/gu;function CD(t){return t==null}const PD=/^(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))$/iu,s5=(t,e)=>n=>!!(typeof n=="string"&&PD.test(n)&&n.startsWith(t)||e&&!CD(n)&&Object.prototype.hasOwnProperty.call(n,e)),XA=(t,e,n)=>r=>{if(typeof r!="string")return r;const[i,s,o,a]=r.match(i5);return{[t]:parseFloat(i),[e]:parseFloat(s),[n]:parseFloat(o),alpha:a!==void 0?parseFloat(a):1}},kD=t=>ta(0,255,t),wg={...Vc,transform:t=>Math.round(kD(t))},Wl={test:s5("rgb","red"),parse:XA("red","green","blue"),transform:({red:t,green:e,blue:n,alpha:r=1})=>"rgba("+wg.transform(t)+", "+wg.transform(e)+", "+wg.transform(n)+", "+Hh(kf.transform(r))+")"};function ID(t){let e="",n="",r="",i="";return t.length>5?(e=t.substring(1,3),n=t.substring(3,5),r=t.substring(5,7),i=t.substring(7,9)):(e=t.substring(1,2),n=t.substring(2,3),r=t.substring(3,4),i=t.substring(4,5),e+=e,n+=n,r+=r,i+=i),{red:parseInt(e,16),green:parseInt(n,16),blue:parseInt(r,16),alpha:i?parseInt(i,16)/255:1}}const N2={test:s5("#"),parse:ID,transform:Wl.transform},ad=t=>({test:e=>typeof e=="string"&&e.endsWith(t)&&e.split(" ").length===1,parse:parseFloat,transform:e=>`${e}${t}`}),La=ad("deg"),xo=ad("%"),pt=ad("px"),LD=ad("vh"),RD=ad("vw"),R4={...xo,parse:t=>xo.parse(t)/100,transform:t=>xo.transform(t*100)},Gu={test:s5("hsl","hue"),parse:XA("hue","saturation","lightness"),transform:({hue:t,saturation:e,lightness:n,alpha:r=1})=>"hsla("+Math.round(t)+", "+xo.transform(Hh(e))+", "+xo.transform(Hh(n))+", "+Hh(kf.transform(r))+")"},hr={test:t=>Wl.test(t)||N2.test(t)||Gu.test(t),parse:t=>Wl.test(t)?Wl.parse(t):Gu.test(t)?Gu.parse(t):N2.parse(t),transform:t=>typeof t=="string"?t:t.hasOwnProperty("red")?Wl.transform(t):Gu.transform(t),getAnimatableNone:t=>{const e=hr.parse(t);return e.alpha=0,hr.transform(e)}},jD=/(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))/giu;function DD(t){var e,n;return isNaN(t)&&typeof t=="string"&&(((e=t.match(i5))==null?void 0:e.length)||0)+(((n=t.match(jD))==null?void 0:n.length)||0)>0}const JA="number",ZA="color",MD="var",FD="var(",j4="${}",OD=/var\s*\(\s*--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)|#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\)|-?(?:\d+(?:\.\d+)?|\.\d+)/giu;function If(t){const e=t.toString(),n=[],r={color:[],number:[],var:[]},i=[];let s=0;const a=e.replace(OD,l=>(hr.test(l)?(r.color.push(s),i.push(ZA),n.push(hr.parse(l))):l.startsWith(FD)?(r.var.push(s),i.push(MD),n.push(l)):(r.number.push(s),i.push(JA),n.push(parseFloat(l))),++s,j4)).split(j4);return{values:n,split:a,indexes:r,types:i}}function eN(t){return If(t).values}function tN(t){const{split:e,types:n}=If(t),r=e.length;return i=>{let s="";for(let o=0;o<r;o++)if(s+=e[o],i[o]!==void 0){const a=n[o];a===JA?s+=Hh(i[o]):a===ZA?s+=hr.transform(i[o]):s+=i[o]}return s}}const VD=t=>typeof t=="number"?0:hr.test(t)?hr.getAnimatableNone(t):t;function BD(t){const e=eN(t);return tN(t)(e.map(VD))}const al={test:DD,parse:eN,createTransformer:tN,getAnimatableNone:BD};function xg(t,e,n){return n<0&&(n+=1),n>1&&(n-=1),n<1/6?t+(e-t)*6*n:n<1/2?e:n<2/3?t+(e-t)*(2/3-n)*6:t}function UD({hue:t,saturation:e,lightness:n,alpha:r}){t/=360,e/=100,n/=100;let i=0,s=0,o=0;if(!e)i=s=o=n;else{const a=n<.5?n*(1+e):n+e-n*e,l=2*n-a;i=xg(l,a,t+1/3),s=xg(l,a,t),o=xg(l,a,t-1/3)}return{red:Math.round(i*255),green:Math.round(s*255),blue:Math.round(o*255),alpha:r}}function _m(t,e){return n=>n>0?e:t}const Dn=(t,e,n)=>t+(e-t)*n,bg=(t,e,n)=>{const r=t*t,i=n*(e*e-r)+r;return i<0?0:Math.sqrt(i)},zD=[N2,Wl,Gu],qD=t=>zD.find(e=>e.test(t));function D4(t){const e=qD(t);if(!e)return!1;let n=e.parse(t);return e===Gu&&(n=UD(n)),n}const M4=(t,e)=>{const n=D4(t),r=D4(e);if(!n||!r)return _m(t,e);const i={...n};return s=>(i.red=bg(n.red,r.red,s),i.green=bg(n.green,r.green,s),i.blue=bg(n.blue,r.blue,s),i.alpha=Dn(n.alpha,r.alpha,s),Wl.transform(i))},E2=new Set(["none","hidden"]);function $D(t,e){return E2.has(t)?n=>n<=0?t:e:n=>n>=1?e:t}function HD(t,e){return n=>Dn(t,e,n)}function o5(t){return typeof t=="number"?HD:typeof t=="string"?r5(t)?_m:hr.test(t)?M4:KD:Array.isArray(t)?nN:typeof t=="object"?hr.test(t)?M4:WD:_m}function nN(t,e){const n=[...t],r=n.length,i=t.map((s,o)=>o5(s)(s,e[o]));return s=>{for(let o=0;o<r;o++)n[o]=i[o](s);return n}}function WD(t,e){const n={...t,...e},r={};for(const i in n)t[i]!==void 0&&e[i]!==void 0&&(r[i]=o5(t[i])(t[i],e[i]));return i=>{for(const s in r)n[s]=r[s](i);return n}}function GD(t,e){const n=[],r={color:0,var:0,number:0};for(let i=0;i<e.values.length;i++){const s=e.types[i],o=t.indexes[s][r[s]],a=t.values[o]??0;n[i]=a,r[s]++}return n}const KD=(t,e)=>{const n=al.createTransformer(e),r=If(t),i=If(e);return r.indexes.var.length===i.indexes.var.length&&r.indexes.color.length===i.indexes.color.length&&r.indexes.number.length>=i.indexes.number.length?E2.has(t)&&!i.values.length||E2.has(e)&&!r.values.length?$D(t,e):sd(nN(GD(r,i),i.values),n):_m(t,e)};function rN(t,e,n){return typeof t=="number"&&typeof e=="number"&&typeof n=="number"?Dn(t,e,n):o5(t)(t,e)}const QD=t=>{const e=({timestamp:n})=>t(n);return{start:(n=!0)=>Fn.update(e,n),stop:()=>ol(e),now:()=>jr.isProcessing?jr.timestamp:Pi.now()}},iN=(t,e,n=10)=>{let r="";const i=Math.max(Math.round(e/n),2);for(let s=0;s<i;s++)r+=Math.round(t(s/(i-1))*1e4)/1e4+", ";return`linear(${r.substring(0,r.length-2)})`},Sm=2e4;function a5(t){let e=0;const n=50;let r=t.next(e);for(;!r.done&&e<Sm;)e+=n,r=t.next(e);return e>=Sm?1/0:e}function YD(t,e=100,n){const r=n({...t,keyframes:[0,e]}),i=Math.min(a5(r),Sm);return{type:"keyframes",ease:s=>r.next(i*s).value/e,duration:wo(i)}}const XD=5;function sN(t,e,n){const r=Math.max(e-XD,0);return OA(n-t(r),e-r)}const Wn={stiffness:100,damping:10,mass:1,velocity:0,duration:800,bounce:.3,visualDuration:.3,restSpeed:{granular:.01,default:2},restDelta:{granular:.005,default:.5},minDuration:.01,maxDuration:10,minDamping:.05,maxDamping:1},_g=.001;function JD({duration:t=Wn.duration,bounce:e=Wn.bounce,velocity:n=Wn.velocity,mass:r=Wn.mass}){let i,s,o=1-e;o=ta(Wn.minDamping,Wn.maxDamping,o),t=ta(Wn.minDuration,Wn.maxDuration,wo(t)),o<1?(i=u=>{const c=u*o,d=c*t,g=c-n,m=T2(u,o),b=Math.exp(-d);return _g-g/m*b},s=u=>{const d=u*o*t,g=d*n+n,m=Math.pow(o,2)*Math.pow(u,2)*t,b=Math.exp(-d),x=T2(Math.pow(u,2),o);return(-i(u)+_g>0?-1:1)*((g-m)*b)/x}):(i=u=>{const c=Math.exp(-u*t),d=(u-n)*t+1;return-_g+c*d},s=u=>{const c=Math.exp(-u*t),d=(n-u)*(t*t);return c*d});const a=5/t,l=eM(i,s,a);if(t=vo(t),isNaN(l))return{stiffness:Wn.stiffness,damping:Wn.damping,duration:t};{const u=Math.pow(l,2)*r;return{stiffness:u,damping:o*2*Math.sqrt(r*u),duration:t}}}const ZD=12;function eM(t,e,n){let r=n;for(let i=1;i<ZD;i++)r=r-t(r)/e(r);return r}function T2(t,e){return t*Math.sqrt(1-e*e)}const tM=["duration","bounce"],nM=["stiffness","damping","mass"];function F4(t,e){return e.some(n=>t[n]!==void 0)}function rM(t){let e={velocity:Wn.velocity,stiffness:Wn.stiffness,damping:Wn.damping,mass:Wn.mass,isResolvedFromDuration:!1,...t};if(!F4(t,nM)&&F4(t,tM))if(t.visualDuration){const n=t.visualDuration,r=2*Math.PI/(n*1.2),i=r*r,s=2*ta(.05,1,1-(t.bounce||0))*Math.sqrt(i);e={...e,mass:Wn.mass,stiffness:i,damping:s}}else{const n=JD(t);e={...e,...n,mass:Wn.mass},e.isResolvedFromDuration=!0}return e}function Am(t=Wn.visualDuration,e=Wn.bounce){const n=typeof t!="object"?{visualDuration:t,keyframes:[0,1],bounce:e}:t;let{restSpeed:r,restDelta:i}=n;const s=n.keyframes[0],o=n.keyframes[n.keyframes.length-1],a={done:!1,value:s},{stiffness:l,damping:u,mass:c,duration:d,velocity:g,isResolvedFromDuration:m}=rM({...n,velocity:-wo(n.velocity||0)}),b=g||0,x=u/(2*Math.sqrt(l*c)),A=o-s,v=wo(Math.sqrt(l/c)),_=Math.abs(A)<5;r||(r=_?Wn.restSpeed.granular:Wn.restSpeed.default),i||(i=_?Wn.restDelta.granular:Wn.restDelta.default);let E;if(x<1){const z=T2(v,x);E=Y=>{const R=Math.exp(-x*v*Y);return o-R*((b+x*v*A)/z*Math.sin(z*Y)+A*Math.cos(z*Y))}}else if(x===1)E=z=>o-Math.exp(-v*z)*(A+(b+v*A)*z);else{const z=v*Math.sqrt(x*x-1);E=Y=>{const R=Math.exp(-x*v*Y),C=Math.min(z*Y,300);return o-R*((b+x*v*A)*Math.sinh(C)+z*A*Math.cosh(C))/z}}const L={calculatedDuration:m&&d||null,next:z=>{const Y=E(z);if(m)a.done=z>=d;else{let R=z===0?b:0;x<1&&(R=z===0?vo(b):sN(E,z,Y));const C=Math.abs(R)<=r,k=Math.abs(o-Y)<=i;a.done=C&&k}return a.value=a.done?o:Y,a},toString:()=>{const z=Math.min(a5(L),Sm),Y=iN(R=>L.next(z*R).value,z,30);return z+"ms "+Y},toTransition:()=>{}};return L}Am.applyToOptions=t=>{const e=YD(t,100,Am);return t.ease=e.ease,t.duration=vo(e.duration),t.type="keyframes",t};function C2({keyframes:t,velocity:e=0,power:n=.8,timeConstant:r=325,bounceDamping:i=10,bounceStiffness:s=500,modifyTarget:o,min:a,max:l,restDelta:u=.5,restSpeed:c}){const d=t[0],g={done:!1,value:d},m=C=>a!==void 0&&C<a||l!==void 0&&C>l,b=C=>a===void 0?l:l===void 0||Math.abs(a-C)<Math.abs(l-C)?a:l;let x=n*e;const A=d+x,v=o===void 0?A:o(A);v!==A&&(x=v-d);const _=C=>-x*Math.exp(-C/r),E=C=>v+_(C),L=C=>{const k=_(C),M=E(C);g.done=Math.abs(k)<=u,g.value=g.done?v:M};let z,Y;const R=C=>{m(g.value)&&(z=C,Y=Am({keyframes:[g.value,b(g.value)],velocity:sN(E,C,g.value),damping:i,stiffness:s,restDelta:u,restSpeed:c}))};return R(0),{calculatedDuration:null,next:C=>{let k=!1;return!Y&&z===void 0&&(k=!0,L(C),R(C)),z!==void 0&&C>=z?Y.next(C-z):(!k&&L(C),g)}}}function iM(t,e,n){const r=[],i=n||na.mix||rN,s=t.length-1;for(let o=0;o<s;o++){let a=i(t[o],t[o+1]);if(e){const l=Array.isArray(e)?e[o]||ys:e;a=sd(l,a)}r.push(a)}return r}function sM(t,e,{clamp:n=!0,ease:r,mixer:i}={}){const s=t.length;if(Xv(s===e.length),s===1)return()=>e[0];if(s===2&&e[0]===e[1])return()=>e[1];const o=t[0]===t[1];t[0]>t[s-1]&&(t=[...t].reverse(),e=[...e].reverse());const a=iM(e,r,i),l=a.length,u=c=>{if(o&&c<t[0])return e[0];let d=0;if(l>1)for(;d<t.length-2&&!(c<t[d+1]);d++);const g=Pf(t[d],t[d+1],c);return a[d](g)};return n?c=>u(ta(t[0],t[s-1],c)):u}function oM(t,e){const n=t[t.length-1];for(let r=1;r<=e;r++){const i=Pf(0,e,r);t.push(Dn(n,1,i))}}function aM(t){const e=[0];return oM(e,t.length-1),e}function lM(t,e){return t.map(n=>n*e)}function uM(t,e){return t.map(()=>e||GA).splice(0,t.length-1)}function Wh({duration:t=300,keyframes:e,times:n,ease:r="easeInOut"}){const i=xD(r)?r.map(I4):I4(r),s={done:!1,value:e[0]},o=lM(n&&n.length===e.length?n:aM(e),t),a=sM(o,e,{ease:Array.isArray(i)?i:uM(e,i)});return{calculatedDuration:t,next:l=>(s.value=a(l),s.done=l>=t,s)}}const cM=t=>t!==null;function l5(t,{repeat:e,repeatType:n="loop"},r,i=1){const s=t.filter(cM),a=i<0||e&&n!=="loop"&&e%2===1?0:s.length-1;return!a||r===void 0?s[a]:r}const hM={decay:C2,inertia:C2,tween:Wh,keyframes:Wh,spring:Am};function oN(t){typeof t.type=="string"&&(t.type=hM[t.type])}class u5{constructor(){this.updateFinished()}get finished(){return this._finished}updateFinished(){this._finished=new Promise(e=>{this.resolve=e})}notifyFinished(){this.resolve()}then(e,n){return this.finished.then(e,n)}}const fM=t=>t/100;class c5 extends u5{constructor(e){super(),this.state="idle",this.startTime=null,this.isStopped=!1,this.currentTime=0,this.holdTime=null,this.playbackSpeed=1,this.stop=()=>{var r,i;const{motionValue:n}=this.options;n&&n.updatedAt!==Pi.now()&&this.tick(Pi.now()),this.isStopped=!0,this.state!=="idle"&&(this.teardown(),(i=(r=this.options).onStop)==null||i.call(r))},this.options=e,this.initAnimation(),this.play(),e.autoplay===!1&&this.pause()}initAnimation(){const{options:e}=this;oN(e);const{type:n=Wh,repeat:r=0,repeatDelay:i=0,repeatType:s,velocity:o=0}=e;let{keyframes:a}=e;const l=n||Wh;l!==Wh&&typeof a[0]!="number"&&(this.mixKeyframes=sd(fM,rN(a[0],a[1])),a=[0,100]);const u=l({...e,keyframes:a});s==="mirror"&&(this.mirroredGenerator=l({...e,keyframes:[...a].reverse(),velocity:-o})),u.calculatedDuration===null&&(u.calculatedDuration=a5(u));const{calculatedDuration:c}=u;this.calculatedDuration=c,this.resolvedDuration=c+i,this.totalDuration=this.resolvedDuration*(r+1)-i,this.generator=u}updateTime(e){const n=Math.round(e-this.startTime)*this.playbackSpeed;this.holdTime!==null?this.currentTime=this.holdTime:this.currentTime=n}tick(e,n=!1){const{generator:r,totalDuration:i,mixKeyframes:s,mirroredGenerator:o,resolvedDuration:a,calculatedDuration:l}=this;if(this.startTime===null)return r.next(0);const{delay:u=0,keyframes:c,repeat:d,repeatType:g,repeatDelay:m,type:b,onUpdate:x,finalKeyframe:A}=this.options;this.speed>0?this.startTime=Math.min(this.startTime,e):this.speed<0&&(this.startTime=Math.min(e-i/this.speed,this.startTime)),n?this.currentTime=e:this.updateTime(e);const v=this.currentTime-u*(this.playbackSpeed>=0?1:-1),_=this.playbackSpeed>=0?v<0:v>i;this.currentTime=Math.max(v,0),this.state==="finished"&&this.holdTime===null&&(this.currentTime=i);let E=this.currentTime,L=r;if(d){const C=Math.min(this.currentTime,i)/a;let k=Math.floor(C),M=C%1;!M&&C>=1&&(M=1),M===1&&k--,k=Math.min(k,d+1),!!(k%2)&&(g==="reverse"?(M=1-M,m&&(M-=m/a)):g==="mirror"&&(L=o)),E=ta(0,1,M)*a}const z=_?{done:!1,value:c[0]}:L.next(E);s&&(z.value=s(z.value));let{done:Y}=z;!_&&l!==null&&(Y=this.playbackSpeed>=0?this.currentTime>=i:this.currentTime<=0);const R=this.holdTime===null&&(this.state==="finished"||this.state==="running"&&Y);return R&&b!==C2&&(z.value=l5(c,this.options,A,this.speed)),x&&x(z.value),R&&this.finish(),z}then(e,n){return this.finished.then(e,n)}get duration(){return wo(this.calculatedDuration)}get time(){return wo(this.currentTime)}set time(e){var n;e=vo(e),this.currentTime=e,this.startTime===null||this.holdTime!==null||this.playbackSpeed===0?this.holdTime=e:this.driver&&(this.startTime=this.driver.now()-e/this.playbackSpeed),(n=this.driver)==null||n.start(!1)}get speed(){return this.playbackSpeed}set speed(e){this.updateTime(Pi.now());const n=this.playbackSpeed!==e;this.playbackSpeed=e,n&&(this.time=wo(this.currentTime))}play(){var i,s;if(this.isStopped)return;const{driver:e=QD,startTime:n}=this.options;this.driver||(this.driver=e(o=>this.tick(o))),(s=(i=this.options).onPlay)==null||s.call(i);const r=this.driver.now();this.state==="finished"?(this.updateFinished(),this.startTime=r):this.holdTime!==null?this.startTime=r-this.holdTime:this.startTime||(this.startTime=n??r),this.state==="finished"&&this.speed<0&&(this.startTime+=this.calculatedDuration),this.holdTime=null,this.state="running",this.driver.start()}pause(){this.state="paused",this.updateTime(Pi.now()),this.holdTime=this.currentTime}complete(){this.state!=="running"&&this.play(),this.state="finished",this.holdTime=null}finish(){var e,n;this.notifyFinished(),this.teardown(),this.state="finished",(n=(e=this.options).onComplete)==null||n.call(e)}cancel(){var e,n;this.holdTime=null,this.startTime=0,this.tick(0),this.teardown(),(n=(e=this.options).onCancel)==null||n.call(e)}teardown(){this.state="idle",this.stopDriver(),this.startTime=this.holdTime=null}stopDriver(){this.driver&&(this.driver.stop(),this.driver=void 0)}sample(e){return this.startTime=0,this.tick(e,!0)}attachTimeline(e){var n;return this.options.allowFlatten&&(this.options.type="keyframes",this.options.ease="linear",this.initAnimation()),(n=this.driver)==null||n.stop(),e.observe(this)}}function dM(t){for(let e=1;e<t.length;e++)t[e]??(t[e]=t[e-1])}const Gl=t=>t*180/Math.PI,P2=t=>{const e=Gl(Math.atan2(t[1],t[0]));return k2(e)},pM={x:4,y:5,translateX:4,translateY:5,scaleX:0,scaleY:3,scale:t=>(Math.abs(t[0])+Math.abs(t[3]))/2,rotate:P2,rotateZ:P2,skewX:t=>Gl(Math.atan(t[1])),skewY:t=>Gl(Math.atan(t[2])),skew:t=>(Math.abs(t[1])+Math.abs(t[2]))/2},k2=t=>(t=t%360,t<0&&(t+=360),t),O4=P2,V4=t=>Math.sqrt(t[0]*t[0]+t[1]*t[1]),B4=t=>Math.sqrt(t[4]*t[4]+t[5]*t[5]),mM={x:12,y:13,z:14,translateX:12,translateY:13,translateZ:14,scaleX:V4,scaleY:B4,scale:t=>(V4(t)+B4(t))/2,rotateX:t=>k2(Gl(Math.atan2(t[6],t[5]))),rotateY:t=>k2(Gl(Math.atan2(-t[2],t[0]))),rotateZ:O4,rotate:O4,skewX:t=>Gl(Math.atan(t[4])),skewY:t=>Gl(Math.atan(t[1])),skew:t=>(Math.abs(t[1])+Math.abs(t[4]))/2};function I2(t){return t.includes("scale")?1:0}function L2(t,e){if(!t||t==="none")return I2(e);const n=t.match(/^matrix3d\(([-\d.e\s,]+)\)$/u);let r,i;if(n)r=mM,i=n;else{const a=t.match(/^matrix\(([-\d.e\s,]+)\)$/u);r=pM,i=a}if(!i)return I2(e);const s=r[e],o=i[1].split(",").map(yM);return typeof s=="function"?s(o):o[s]}const gM=(t,e)=>{const{transform:n="none"}=getComputedStyle(t);return L2(n,e)};function yM(t){return parseFloat(t.trim())}const Bc=["transformPerspective","x","y","z","translateX","translateY","translateZ","scale","scaleX","scaleY","rotate","rotateX","rotateY","rotateZ","skew","skewX","skewY"],Uc=new Set(Bc),U4=t=>t===Vc||t===pt,vM=new Set(["x","y","z"]),wM=Bc.filter(t=>!vM.has(t));function xM(t){const e=[];return wM.forEach(n=>{const r=t.getValue(n);r!==void 0&&(e.push([n,r.get()]),r.set(n.startsWith("scale")?1:0))}),e}const Xl={width:({x:t},{paddingLeft:e="0",paddingRight:n="0"})=>t.max-t.min-parseFloat(e)-parseFloat(n),height:({y:t},{paddingTop:e="0",paddingBottom:n="0"})=>t.max-t.min-parseFloat(e)-parseFloat(n),top:(t,{top:e})=>parseFloat(e),left:(t,{left:e})=>parseFloat(e),bottom:({y:t},{top:e})=>parseFloat(e)+(t.max-t.min),right:({x:t},{left:e})=>parseFloat(e)+(t.max-t.min),x:(t,{transform:e})=>L2(e,"x"),y:(t,{transform:e})=>L2(e,"y")};Xl.translateX=Xl.x;Xl.translateY=Xl.y;const Jl=new Set;let R2=!1,j2=!1,D2=!1;function aN(){if(j2){const t=Array.from(Jl).filter(r=>r.needsMeasurement),e=new Set(t.map(r=>r.element)),n=new Map;e.forEach(r=>{const i=xM(r);i.length&&(n.set(r,i),r.render())}),t.forEach(r=>r.measureInitialState()),e.forEach(r=>{r.render();const i=n.get(r);i&&i.forEach(([s,o])=>{var a;(a=r.getValue(s))==null||a.set(o)})}),t.forEach(r=>r.measureEndState()),t.forEach(r=>{r.suspendedScrollY!==void 0&&window.scrollTo(0,r.suspendedScrollY)})}j2=!1,R2=!1,Jl.forEach(t=>t.complete(D2)),Jl.clear()}function lN(){Jl.forEach(t=>{t.readKeyframes(),t.needsMeasurement&&(j2=!0)})}function bM(){D2=!0,lN(),aN(),D2=!1}class h5{constructor(e,n,r,i,s,o=!1){this.state="pending",this.isAsync=!1,this.needsMeasurement=!1,this.unresolvedKeyframes=[...e],this.onComplete=n,this.name=r,this.motionValue=i,this.element=s,this.isAsync=o}scheduleResolve(){this.state="scheduled",this.isAsync?(Jl.add(this),R2||(R2=!0,Fn.read(lN),Fn.resolveKeyframes(aN))):(this.readKeyframes(),this.complete())}readKeyframes(){const{unresolvedKeyframes:e,name:n,element:r,motionValue:i}=this;if(e[0]===null){const s=i==null?void 0:i.get(),o=e[e.length-1];if(s!==void 0)e[0]=s;else if(r&&n){const a=r.readValue(n,o);a!=null&&(e[0]=a)}e[0]===void 0&&(e[0]=o),i&&s===void 0&&i.set(e[0])}dM(e)}setFinalKeyframe(){}measureInitialState(){}renderEndStyles(){}measureEndState(){}complete(e=!1){this.state="complete",this.onComplete(this.unresolvedKeyframes,this.finalKeyframe,e),Jl.delete(this)}cancel(){this.state==="scheduled"&&(Jl.delete(this),this.state="pending")}resume(){this.state==="pending"&&this.scheduleResolve()}}const _M=t=>t.startsWith("--");function SM(t,e,n){_M(e)?t.style.setProperty(e,n):t.style[e]=n}const AM=Jv(()=>window.ScrollTimeline!==void 0),NM={};function EM(t,e){const n=Jv(t);return()=>NM[e]??n()}const uN=EM(()=>{try{document.createElement("div").animate({opacity:0},{easing:"linear(0, 1)"})}catch{return!1}return!0},"linearEasing"),Ih=([t,e,n,r])=>`cubic-bezier(${t}, ${e}, ${n}, ${r})`,z4={linear:"linear",ease:"ease",easeIn:"ease-in",easeOut:"ease-out",easeInOut:"ease-in-out",circIn:Ih([0,.65,.55,1]),circOut:Ih([.55,0,1,.45]),backIn:Ih([.31,.01,.66,-.59]),backOut:Ih([.33,1.53,.69,.99])};function cN(t,e){if(t)return typeof t=="function"?uN()?iN(t,e):"ease-out":KA(t)?Ih(t):Array.isArray(t)?t.map(n=>cN(n,e)||z4.easeOut):z4[t]}function TM(t,e,n,{delay:r=0,duration:i=300,repeat:s=0,repeatType:o="loop",ease:a="easeOut",times:l}={},u=void 0){const c={[e]:n};l&&(c.offset=l);const d=cN(a,i);Array.isArray(d)&&(c.easing=d);const g={delay:r,duration:i,easing:Array.isArray(d)?"linear":d,fill:"both",iterations:s+1,direction:o==="reverse"?"alternate":"normal"};return u&&(g.pseudoElement=u),t.animate(c,g)}function hN(t){return typeof t=="function"&&"applyToOptions"in t}function CM({type:t,...e}){return hN(t)&&uN()?t.applyToOptions(e):(e.duration??(e.duration=300),e.ease??(e.ease="easeOut"),e)}class PM extends u5{constructor(e){if(super(),this.finishedTime=null,this.isStopped=!1,!e)return;const{element:n,name:r,keyframes:i,pseudoElement:s,allowFlatten:o=!1,finalKeyframe:a,onComplete:l}=e;this.isPseudoElement=!!s,this.allowFlatten=o,this.options=e,Xv(typeof e.type!="string");const u=CM(e);this.animation=TM(n,r,i,u,s),u.autoplay===!1&&this.animation.pause(),this.animation.onfinish=()=>{if(this.finishedTime=this.time,!s){const c=l5(i,this.options,a,this.speed);this.updateMotionValue?this.updateMotionValue(c):SM(n,r,c),this.animation.cancel()}l==null||l(),this.notifyFinished()}}play(){this.isStopped||(this.animation.play(),this.state==="finished"&&this.updateFinished())}pause(){this.animation.pause()}complete(){var e,n;(n=(e=this.animation).finish)==null||n.call(e)}cancel(){try{this.animation.cancel()}catch{}}stop(){if(this.isStopped)return;this.isStopped=!0;const{state:e}=this;e==="idle"||e==="finished"||(this.updateMotionValue?this.updateMotionValue():this.commitStyles(),this.isPseudoElement||this.cancel())}commitStyles(){var e,n;this.isPseudoElement||(n=(e=this.animation).commitStyles)==null||n.call(e)}get duration(){var n,r;const e=((r=(n=this.animation.effect)==null?void 0:n.getComputedTiming)==null?void 0:r.call(n).duration)||0;return wo(Number(e))}get time(){return wo(Number(this.animation.currentTime)||0)}set time(e){this.finishedTime=null,this.animation.currentTime=vo(e)}get speed(){return this.animation.playbackRate}set speed(e){e<0&&(this.finishedTime=null),this.animation.playbackRate=e}get state(){return this.finishedTime!==null?"finished":this.animation.playState}get startTime(){return Number(this.animation.startTime)}set startTime(e){this.animation.startTime=e}attachTimeline({timeline:e,observe:n}){var r;return this.allowFlatten&&((r=this.animation.effect)==null||r.updateTiming({easing:"linear"})),this.animation.onfinish=null,e&&AM()?(this.animation.timeline=e,ys):n(this)}}const fN={anticipate:$A,backInOut:qA,circInOut:WA};function kM(t){return t in fN}function IM(t){typeof t.ease=="string"&&kM(t.ease)&&(t.ease=fN[t.ease])}const q4=10;class LM extends PM{constructor(e){IM(e),oN(e),super(e),e.startTime&&(this.startTime=e.startTime),this.options=e}updateMotionValue(e){const{motionValue:n,onUpdate:r,onComplete:i,element:s,...o}=this.options;if(!n)return;if(e!==void 0){n.set(e);return}const a=new c5({...o,autoplay:!1}),l=vo(this.finishedTime??this.time);n.setWithVelocity(a.sample(l-q4).value,a.sample(l).value,q4),a.stop()}}const $4=(t,e)=>e==="zIndex"?!1:!!(typeof t=="number"||Array.isArray(t)||typeof t=="string"&&(al.test(t)||t==="0")&&!t.startsWith("url("));function RM(t){const e=t[0];if(t.length===1)return!0;for(let n=0;n<t.length;n++)if(t[n]!==e)return!0}function jM(t,e,n,r){const i=t[0];if(i===null)return!1;if(e==="display"||e==="visibility")return!0;const s=t[t.length-1],o=$4(i,e),a=$4(s,e);return!o||!a?!1:RM(t)||(n==="spring"||hN(n))&&r}function dN(t){return MA(t)&&"offsetHeight"in t}const DM=new Set(["opacity","clipPath","filter","transform"]),MM=Jv(()=>Object.hasOwnProperty.call(Element.prototype,"animate"));function FM(t){var u;const{motionValue:e,name:n,repeatDelay:r,repeatType:i,damping:s,type:o}=t;if(!dN((u=e==null?void 0:e.owner)==null?void 0:u.current))return!1;const{onUpdate:a,transformTemplate:l}=e.owner.getProps();return MM()&&n&&DM.has(n)&&(n!=="transform"||!l)&&!a&&!r&&i!=="mirror"&&s!==0&&o!=="inertia"}const OM=40;class VM extends u5{constructor({autoplay:e=!0,delay:n=0,type:r="keyframes",repeat:i=0,repeatDelay:s=0,repeatType:o="loop",keyframes:a,name:l,motionValue:u,element:c,...d}){var b;super(),this.stop=()=>{var x,A;this._animation&&(this._animation.stop(),(x=this.stopTimeline)==null||x.call(this)),(A=this.keyframeResolver)==null||A.cancel()},this.createdAt=Pi.now();const g={autoplay:e,delay:n,type:r,repeat:i,repeatDelay:s,repeatType:o,name:l,motionValue:u,element:c,...d},m=(c==null?void 0:c.KeyframeResolver)||h5;this.keyframeResolver=new m(a,(x,A,v)=>this.onKeyframesResolved(x,A,g,!v),l,u,c),(b=this.keyframeResolver)==null||b.scheduleResolve()}onKeyframesResolved(e,n,r,i){this.keyframeResolver=void 0;const{name:s,type:o,velocity:a,delay:l,isHandoff:u,onUpdate:c}=r;this.resolvedAt=Pi.now(),jM(e,s,o,a)||((na.instantAnimations||!l)&&(c==null||c(l5(e,r,n))),e[0]=e[e.length-1],r.duration=0,r.repeat=0);const g={startTime:i?this.resolvedAt?this.resolvedAt-this.createdAt>OM?this.resolvedAt:this.createdAt:this.createdAt:void 0,finalKeyframe:n,...r,keyframes:e},m=!u&&FM(g)?new LM({...g,element:g.motionValue.owner.current}):new c5(g);m.finished.then(()=>this.notifyFinished()).catch(ys),this.pendingTimeline&&(this.stopTimeline=m.attachTimeline(this.pendingTimeline),this.pendingTimeline=void 0),this._animation=m}get finished(){return this._animation?this.animation.finished:this._finished}then(e,n){return this.finished.finally(e).then(()=>{})}get animation(){var e;return this._animation||((e=this.keyframeResolver)==null||e.resume(),bM()),this._animation}get duration(){return this.animation.duration}get time(){return this.animation.time}set time(e){this.animation.time=e}get speed(){return this.animation.speed}get state(){return this.animation.state}set speed(e){this.animation.speed=e}get startTime(){return this.animation.startTime}attachTimeline(e){return this._animation?this.stopTimeline=this.animation.attachTimeline(e):this.pendingTimeline=e,()=>this.stop()}play(){this.animation.play()}pause(){this.animation.pause()}complete(){this.animation.complete()}cancel(){var e;this._animation&&this.animation.cancel(),(e=this.keyframeResolver)==null||e.cancel()}}const BM=/^var\(--(?:([\w-]+)|([\w-]+), ?([a-zA-Z\d ()%#.,-]+))\)/u;function UM(t){const e=BM.exec(t);if(!e)return[,];const[,n,r,i]=e;return[`--${n??r}`,i]}function pN(t,e,n=1){const[r,i]=UM(t);if(!r)return;const s=window.getComputedStyle(e).getPropertyValue(r);if(s){const o=s.trim();return DA(o)?parseFloat(o):o}return r5(i)?pN(i,e,n+1):i}function f5(t,e){return(t==null?void 0:t[e])??(t==null?void 0:t.default)??t}const mN=new Set(["width","height","top","left","right","bottom",...Bc]),zM={test:t=>t==="auto",parse:t=>t},gN=t=>e=>e.test(t),yN=[Vc,pt,xo,La,RD,LD,zM],H4=t=>yN.find(gN(t));function qM(t){return typeof t=="number"?t===0:t!==null?t==="none"||t==="0"||FA(t):!0}const $M=new Set(["brightness","contrast","saturate","opacity"]);function HM(t){const[e,n]=t.slice(0,-1).split("(");if(e==="drop-shadow")return t;const[r]=n.match(i5)||[];if(!r)return t;const i=n.replace(r,"");let s=$M.has(e)?1:0;return r!==n&&(s*=100),e+"("+s+i+")"}const WM=/\b([a-z-]*)\(.*?\)/gu,M2={...al,getAnimatableNone:t=>{const e=t.match(WM);return e?e.map(HM).join(" "):t}},W4={...Vc,transform:Math.round},GM={rotate:La,rotateX:La,rotateY:La,rotateZ:La,scale:Yd,scaleX:Yd,scaleY:Yd,scaleZ:Yd,skew:La,skewX:La,skewY:La,distance:pt,translateX:pt,translateY:pt,translateZ:pt,x:pt,y:pt,z:pt,perspective:pt,transformPerspective:pt,opacity:kf,originX:R4,originY:R4,originZ:pt},d5={borderWidth:pt,borderTopWidth:pt,borderRightWidth:pt,borderBottomWidth:pt,borderLeftWidth:pt,borderRadius:pt,radius:pt,borderTopLeftRadius:pt,borderTopRightRadius:pt,borderBottomRightRadius:pt,borderBottomLeftRadius:pt,width:pt,maxWidth:pt,height:pt,maxHeight:pt,top:pt,right:pt,bottom:pt,left:pt,padding:pt,paddingTop:pt,paddingRight:pt,paddingBottom:pt,paddingLeft:pt,margin:pt,marginTop:pt,marginRight:pt,marginBottom:pt,marginLeft:pt,backgroundPositionX:pt,backgroundPositionY:pt,...GM,zIndex:W4,fillOpacity:kf,strokeOpacity:kf,numOctaves:W4},KM={...d5,color:hr,backgroundColor:hr,outlineColor:hr,fill:hr,stroke:hr,borderColor:hr,borderTopColor:hr,borderRightColor:hr,borderBottomColor:hr,borderLeftColor:hr,filter:M2,WebkitFilter:M2},vN=t=>KM[t];function wN(t,e){let n=vN(t);return n!==M2&&(n=al),n.getAnimatableNone?n.getAnimatableNone(e):void 0}const QM=new Set(["auto","none","0"]);function YM(t,e,n){let r=0,i;for(;r<t.length&&!i;){const s=t[r];typeof s=="string"&&!QM.has(s)&&If(s).values.length&&(i=t[r]),r++}if(i&&n)for(const s of e)t[s]=wN(n,i)}class XM extends h5{constructor(e,n,r,i,s){super(e,n,r,i,s,!0)}readKeyframes(){const{unresolvedKeyframes:e,element:n,name:r}=this;if(!n||!n.current)return;super.readKeyframes();for(let l=0;l<e.length;l++){let u=e[l];if(typeof u=="string"&&(u=u.trim(),r5(u))){const c=pN(u,n.current);c!==void 0&&(e[l]=c),l===e.length-1&&(this.finalKeyframe=u)}}if(this.resolveNoneKeyframes(),!mN.has(r)||e.length!==2)return;const[i,s]=e,o=H4(i),a=H4(s);if(o!==a)if(U4(o)&&U4(a))for(let l=0;l<e.length;l++){const u=e[l];typeof u=="string"&&(e[l]=parseFloat(u))}else Xl[r]&&(this.needsMeasurement=!0)}resolveNoneKeyframes(){const{unresolvedKeyframes:e,name:n}=this,r=[];for(let i=0;i<e.length;i++)(e[i]===null||qM(e[i]))&&r.push(i);r.length&&YM(e,r,n)}measureInitialState(){const{element:e,unresolvedKeyframes:n,name:r}=this;if(!e||!e.current)return;r==="height"&&(this.suspendedScrollY=window.pageYOffset),this.measuredOrigin=Xl[r](e.measureViewportBox(),window.getComputedStyle(e.current)),n[0]=this.measuredOrigin;const i=n[n.length-1];i!==void 0&&e.getValue(r,i).jump(i,!1)}measureEndState(){var a;const{element:e,name:n,unresolvedKeyframes:r}=this;if(!e||!e.current)return;const i=e.getValue(n);i&&i.jump(this.measuredOrigin,!1);const s=r.length-1,o=r[s];r[s]=Xl[n](e.measureViewportBox(),window.getComputedStyle(e.current)),o!==null&&this.finalKeyframe===void 0&&(this.finalKeyframe=o),(a=this.removedTransforms)!=null&&a.length&&this.removedTransforms.forEach(([l,u])=>{e.getValue(l).set(u)}),this.resolveNoneKeyframes()}}function JM(t,e,n){if(t instanceof EventTarget)return[t];if(typeof t=="string"){let r=document;const i=(n==null?void 0:n[t])??r.querySelectorAll(t);return i?Array.from(i):[]}return Array.from(t)}const xN=(t,e)=>e&&typeof t=="number"?e.transform(t):t,G4=30,ZM=t=>!isNaN(parseFloat(t));class eF{constructor(e,n={}){this.canTrackVelocity=null,this.events={},this.updateAndNotify=(r,i=!0)=>{var o,a;const s=Pi.now();if(this.updatedAt!==s&&this.setPrevFrameValue(),this.prev=this.current,this.setCurrent(r),this.current!==this.prev&&((o=this.events.change)==null||o.notify(this.current),this.dependents))for(const l of this.dependents)l.dirty();i&&((a=this.events.renderRequest)==null||a.notify(this.current))},this.hasAnimated=!1,this.setCurrent(e),this.owner=n.owner}setCurrent(e){this.current=e,this.updatedAt=Pi.now(),this.canTrackVelocity===null&&e!==void 0&&(this.canTrackVelocity=ZM(this.current))}setPrevFrameValue(e=this.current){this.prevFrameValue=e,this.prevUpdatedAt=this.updatedAt}onChange(e){return this.on("change",e)}on(e,n){this.events[e]||(this.events[e]=new Zv);const r=this.events[e].add(n);return e==="change"?()=>{r(),Fn.read(()=>{this.events.change.getSize()||this.stop()})}:r}clearListeners(){for(const e in this.events)this.events[e].clear()}attach(e,n){this.passiveEffect=e,this.stopPassiveEffect=n}set(e,n=!0){!n||!this.passiveEffect?this.updateAndNotify(e,n):this.passiveEffect(e,this.updateAndNotify)}setWithVelocity(e,n,r){this.set(n),this.prev=void 0,this.prevFrameValue=e,this.prevUpdatedAt=this.updatedAt-r}jump(e,n=!0){this.updateAndNotify(e),this.prev=e,this.prevUpdatedAt=this.prevFrameValue=void 0,n&&this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}dirty(){var e;(e=this.events.change)==null||e.notify(this.current)}addDependent(e){this.dependents||(this.dependents=new Set),this.dependents.add(e)}removeDependent(e){this.dependents&&this.dependents.delete(e)}get(){return this.current}getPrevious(){return this.prev}getVelocity(){const e=Pi.now();if(!this.canTrackVelocity||this.prevFrameValue===void 0||e-this.updatedAt>G4)return 0;const n=Math.min(this.updatedAt-this.prevUpdatedAt,G4);return OA(parseFloat(this.current)-parseFloat(this.prevFrameValue),n)}start(e){return this.stop(),new Promise(n=>{this.hasAnimated=!0,this.animation=e(n),this.events.animationStart&&this.events.animationStart.notify()}).then(()=>{this.events.animationComplete&&this.events.animationComplete.notify(),this.clearAnimation()})}stop(){this.animation&&(this.animation.stop(),this.events.animationCancel&&this.events.animationCancel.notify()),this.clearAnimation()}isAnimating(){return!!this.animation}clearAnimation(){delete this.animation}destroy(){var e,n;(e=this.dependents)==null||e.clear(),(n=this.events.destroy)==null||n.notify(),this.clearListeners(),this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}}function Cc(t,e){return new eF(t,e)}const{schedule:p5}=QA(queueMicrotask,!1),Rs={x:!1,y:!1};function bN(){return Rs.x||Rs.y}function tF(t){return t==="x"||t==="y"?Rs[t]?null:(Rs[t]=!0,()=>{Rs[t]=!1}):Rs.x||Rs.y?null:(Rs.x=Rs.y=!0,()=>{Rs.x=Rs.y=!1})}function _N(t,e){const n=JM(t),r=new AbortController,i={passive:!0,...e,signal:r.signal};return[n,i,()=>r.abort()]}function K4(t){return!(t.pointerType==="touch"||bN())}function nF(t,e,n={}){const[r,i,s]=_N(t,n),o=a=>{if(!K4(a))return;const{target:l}=a,u=e(l,a);if(typeof u!="function"||!l)return;const c=d=>{K4(d)&&(u(d),l.removeEventListener("pointerleave",c))};l.addEventListener("pointerleave",c,i)};return r.forEach(a=>{a.addEventListener("pointerenter",o,i)}),s}const SN=(t,e)=>e?t===e?!0:SN(t,e.parentElement):!1,m5=t=>t.pointerType==="mouse"?typeof t.button!="number"||t.button<=0:t.isPrimary!==!1,rF=new Set(["BUTTON","INPUT","SELECT","TEXTAREA","A"]);function iF(t){return rF.has(t.tagName)||t.tabIndex!==-1}const Ep=new WeakSet;function Q4(t){return e=>{e.key==="Enter"&&t(e)}}function Sg(t,e){t.dispatchEvent(new PointerEvent("pointer"+e,{isPrimary:!0,bubbles:!0}))}const sF=(t,e)=>{const n=t.currentTarget;if(!n)return;const r=Q4(()=>{if(Ep.has(n))return;Sg(n,"down");const i=Q4(()=>{Sg(n,"up")}),s=()=>Sg(n,"cancel");n.addEventListener("keyup",i,e),n.addEventListener("blur",s,e)});n.addEventListener("keydown",r,e),n.addEventListener("blur",()=>n.removeEventListener("keydown",r),e)};function Y4(t){return m5(t)&&!bN()}function oF(t,e,n={}){const[r,i,s]=_N(t,n),o=a=>{const l=a.currentTarget;if(!Y4(a))return;Ep.add(l);const u=e(l,a),c=(m,b)=>{window.removeEventListener("pointerup",d),window.removeEventListener("pointercancel",g),Ep.has(l)&&Ep.delete(l),Y4(m)&&typeof u=="function"&&u(m,{success:b})},d=m=>{c(m,l===window||l===document||n.useGlobalTarget||SN(l,m.target))},g=m=>{c(m,!1)};window.addEventListener("pointerup",d,i),window.addEventListener("pointercancel",g,i)};return r.forEach(a=>{(n.useGlobalTarget?window:a).addEventListener("pointerdown",o,i),dN(a)&&(a.addEventListener("focus",u=>sF(u,i)),!iF(a)&&!a.hasAttribute("tabindex")&&(a.tabIndex=0))}),s}function AN(t){return MA(t)&&"ownerSVGElement"in t}function aF(t){return AN(t)&&t.tagName==="svg"}const ni=t=>!!(t&&t.getVelocity),lF=[...yN,hr,al],uF=t=>lF.find(gN(t)),NN=G.createContext({transformPagePoint:t=>t,isStatic:!1,reducedMotion:"never"});function cF(t=!0){const e=G.useContext(Kv);if(e===null)return[!0,null];const{isPresent:n,onExitComplete:r,register:i}=e,s=G.useId();G.useEffect(()=>{if(t)return i(s)},[t]);const o=G.useCallback(()=>t&&r&&r(s),[s,r,t]);return!n&&r?[!1,o]:[!0]}const EN=G.createContext({strict:!1}),X4={animation:["animate","variants","whileHover","whileTap","exit","whileInView","whileFocus","whileDrag"],exit:["exit"],drag:["drag","dragControls"],focus:["whileFocus"],hover:["whileHover","onHoverStart","onHoverEnd"],tap:["whileTap","onTap","onTapStart","onTapCancel"],pan:["onPan","onPanStart","onPanSessionStart","onPanEnd"],inView:["whileInView","onViewportEnter","onViewportLeave"],layout:["layout","layoutId"]},Pc={};for(const t in X4)Pc[t]={isEnabled:e=>X4[t].some(n=>!!e[n])};function hF(t){for(const e in t)Pc[e]={...Pc[e],...t[e]}}const fF=new Set(["animate","exit","variants","initial","style","values","variants","transition","transformTemplate","custom","inherit","onBeforeLayoutMeasure","onAnimationStart","onAnimationComplete","onUpdate","onDragStart","onDrag","onDragEnd","onMeasureDragConstraints","onDirectionLock","onDragTransitionEnd","_dragX","_dragY","onHoverStart","onHoverEnd","onViewportEnter","onViewportLeave","globalTapTarget","ignoreStrict","viewport"]);function Nm(t){return t.startsWith("while")||t.startsWith("drag")&&t!=="draggable"||t.startsWith("layout")||t.startsWith("onTap")||t.startsWith("onPan")||t.startsWith("onLayout")||fF.has(t)}let TN=t=>!Nm(t);function dF(t){typeof t=="function"&&(TN=e=>e.startsWith("on")?!Nm(e):t(e))}try{dF(require("@emotion/is-prop-valid").default)}catch{}function pF(t,e,n){const r={};for(const i in t)i==="values"&&typeof t.values=="object"||(TN(i)||n===!0&&Nm(i)||!e&&!Nm(i)||t.draggable&&i.startsWith("onDrag"))&&(r[i]=t[i]);return r}function mF(t){if(typeof Proxy>"u")return t;const e=new Map,n=(...r)=>t(...r);return new Proxy(n,{get:(r,i)=>i==="create"?t:(e.has(i)||e.set(i,t(i)),e.get(i))})}const p0=G.createContext({});function m0(t){return t!==null&&typeof t=="object"&&typeof t.start=="function"}function Lf(t){return typeof t=="string"||Array.isArray(t)}const g5=["animate","whileInView","whileFocus","whileHover","whileTap","whileDrag","exit"],y5=["initial",...g5];function g0(t){return m0(t.animate)||y5.some(e=>Lf(t[e]))}function CN(t){return!!(g0(t)||t.variants)}function gF(t,e){if(g0(t)){const{initial:n,animate:r}=t;return{initial:n===!1||Lf(n)?n:void 0,animate:Lf(r)?r:void 0}}return t.inherit!==!1?e:{}}function yF(t){const{initial:e,animate:n}=gF(t,G.useContext(p0));return G.useMemo(()=>({initial:e,animate:n}),[J4(e),J4(n)])}function J4(t){return Array.isArray(t)?t.join(" "):t}const vF=Symbol.for("motionComponentSymbol");function Ku(t){return t&&typeof t=="object"&&Object.prototype.hasOwnProperty.call(t,"current")}function wF(t,e,n){return G.useCallback(r=>{r&&t.onMount&&t.onMount(r),e&&(r?e.mount(r):e.unmount()),n&&(typeof n=="function"?n(r):Ku(n)&&(n.current=r))},[e])}const v5=t=>t.replace(/([a-z])([A-Z])/gu,"$1-$2").toLowerCase(),xF="framerAppearId",PN="data-"+v5(xF),kN=G.createContext({});function bF(t,e,n,r,i){var x,A;const{visualElement:s}=G.useContext(p0),o=G.useContext(EN),a=G.useContext(Kv),l=G.useContext(NN).reducedMotion,u=G.useRef(null);r=r||o.renderer,!u.current&&r&&(u.current=r(t,{visualState:e,parent:s,props:n,presenceContext:a,blockInitialAnimation:a?a.initial===!1:!1,reducedMotionConfig:l}));const c=u.current,d=G.useContext(kN);c&&!c.projection&&i&&(c.type==="html"||c.type==="svg")&&_F(u.current,n,i,d);const g=G.useRef(!1);G.useInsertionEffect(()=>{c&&g.current&&c.update(n,a)});const m=n[PN],b=G.useRef(!!m&&!((x=window.MotionHandoffIsComplete)!=null&&x.call(window,m))&&((A=window.MotionHasOptimisedAnimation)==null?void 0:A.call(window,m)));return dD(()=>{c&&(g.current=!0,window.MotionIsMounted=!0,c.updateFeatures(),p5.render(c.render),b.current&&c.animationState&&c.animationState.animateChanges())}),G.useEffect(()=>{c&&(!b.current&&c.animationState&&c.animationState.animateChanges(),b.current&&(queueMicrotask(()=>{var v;(v=window.MotionHandoffMarkAsComplete)==null||v.call(window,m)}),b.current=!1))}),c}function _F(t,e,n,r){const{layoutId:i,layout:s,drag:o,dragConstraints:a,layoutScroll:l,layoutRoot:u,layoutCrossfade:c}=e;t.projection=new n(t.latestValues,e["data-framer-portal-id"]?void 0:IN(t.parent)),t.projection.setOptions({layoutId:i,layout:s,alwaysMeasureLayout:!!o||a&&Ku(a),visualElement:t,animationType:typeof s=="string"?s:"both",initialPromotionConfig:r,crossfade:c,layoutScroll:l,layoutRoot:u})}function IN(t){if(t)return t.options.allowProjection!==!1?t.projection:IN(t.parent)}function SF({preloadedFeatures:t,createVisualElement:e,useRender:n,useVisualState:r,Component:i}){t&&hF(t);function s(a,l){let u;const c={...G.useContext(NN),...a,layoutId:AF(a)},{isStatic:d}=c,g=yF(a),m=r(a,d);if(!d&&Gv){NF();const b=EF(c);u=b.MeasureLayout,g.visualElement=bF(i,m,c,e,b.ProjectionNode)}return p.jsxs(p0.Provider,{value:g,children:[u&&g.visualElement?p.jsx(u,{visualElement:g.visualElement,...c}):null,n(i,a,wF(m,g.visualElement,l),m,d,g.visualElement)]})}s.displayName=`motion.${typeof i=="string"?i:`create(${i.displayName??i.name??""})`}`;const o=G.forwardRef(s);return o[vF]=i,o}function AF({layoutId:t}){const e=G.useContext(jA).id;return e&&t!==void 0?e+"-"+t:t}function NF(t,e){G.useContext(EN).strict}function EF(t){const{drag:e,layout:n}=Pc;if(!e&&!n)return{};const r={...e,...n};return{MeasureLayout:e!=null&&e.isEnabled(t)||n!=null&&n.isEnabled(t)?r.MeasureLayout:void 0,ProjectionNode:r.ProjectionNode}}const Rf={};function TF(t){for(const e in t)Rf[e]=t[e],n5(e)&&(Rf[e].isCSSVariable=!0)}function LN(t,{layout:e,layoutId:n}){return Uc.has(t)||t.startsWith("origin")||(e||n!==void 0)&&(!!Rf[t]||t==="opacity")}const CF={x:"translateX",y:"translateY",z:"translateZ",transformPerspective:"perspective"},PF=Bc.length;function kF(t,e,n){let r="",i=!0;for(let s=0;s<PF;s++){const o=Bc[s],a=t[o];if(a===void 0)continue;let l=!0;if(typeof a=="number"?l=a===(o.startsWith("scale")?1:0):l=parseFloat(a)===0,!l||n){const u=xN(a,d5[o]);if(!l){i=!1;const c=CF[o]||o;r+=`${c}(${u}) `}n&&(e[o]=u)}}return r=r.trim(),n?r=n(e,i?"":r):i&&(r="none"),r}function w5(t,e,n){const{style:r,vars:i,transformOrigin:s}=t;let o=!1,a=!1;for(const l in e){const u=e[l];if(Uc.has(l)){o=!0;continue}else if(n5(l)){i[l]=u;continue}else{const c=xN(u,d5[l]);l.startsWith("origin")?(a=!0,s[l]=c):r[l]=c}}if(e.transform||(o||n?r.transform=kF(e,t.transform,n):r.transform&&(r.transform="none")),a){const{originX:l="50%",originY:u="50%",originZ:c=0}=s;r.transformOrigin=`${l} ${u} ${c}`}}const x5=()=>({style:{},transform:{},transformOrigin:{},vars:{}});function RN(t,e,n){for(const r in e)!ni(e[r])&&!LN(r,n)&&(t[r]=e[r])}function IF({transformTemplate:t},e){return G.useMemo(()=>{const n=x5();return w5(n,e,t),Object.assign({},n.vars,n.style)},[e])}function LF(t,e){const n=t.style||{},r={};return RN(r,n,t),Object.assign(r,IF(t,e)),r}function RF(t,e){const n={},r=LF(t,e);return t.drag&&t.dragListener!==!1&&(n.draggable=!1,r.userSelect=r.WebkitUserSelect=r.WebkitTouchCallout="none",r.touchAction=t.drag===!0?"none":`pan-${t.drag==="x"?"y":"x"}`),t.tabIndex===void 0&&(t.onTap||t.onTapStart||t.whileTap)&&(n.tabIndex=0),n.style=r,n}const jF={offset:"stroke-dashoffset",array:"stroke-dasharray"},DF={offset:"strokeDashoffset",array:"strokeDasharray"};function MF(t,e,n=1,r=0,i=!0){t.pathLength=1;const s=i?jF:DF;t[s.offset]=pt.transform(-r);const o=pt.transform(e),a=pt.transform(n);t[s.array]=`${o} ${a}`}function jN(t,{attrX:e,attrY:n,attrScale:r,pathLength:i,pathSpacing:s=1,pathOffset:o=0,...a},l,u,c){if(w5(t,a,u),l){t.style.viewBox&&(t.attrs.viewBox=t.style.viewBox);return}t.attrs=t.style,t.style={};const{attrs:d,style:g}=t;d.transform&&(g.transform=d.transform,delete d.transform),(g.transform||d.transformOrigin)&&(g.transformOrigin=d.transformOrigin??"50% 50%",delete d.transformOrigin),g.transform&&(g.transformBox=(c==null?void 0:c.transformBox)??"fill-box",delete d.transformBox),e!==void 0&&(d.x=e),n!==void 0&&(d.y=n),r!==void 0&&(d.scale=r),i!==void 0&&MF(d,i,s,o,!1)}const DN=()=>({...x5(),attrs:{}}),MN=t=>typeof t=="string"&&t.toLowerCase()==="svg";function FF(t,e,n,r){const i=G.useMemo(()=>{const s=DN();return jN(s,e,MN(r),t.transformTemplate,t.style),{...s.attrs,style:{...s.style}}},[e]);if(t.style){const s={};RN(s,t.style,t),i.style={...s,...i.style}}return i}const OF=["animate","circle","defs","desc","ellipse","g","image","line","filter","marker","mask","metadata","path","pattern","polygon","polyline","rect","stop","switch","symbol","svg","text","tspan","use","view"];function b5(t){return typeof t!="string"||t.includes("-")?!1:!!(OF.indexOf(t)>-1||/[A-Z]/u.test(t))}function VF(t=!1){return(n,r,i,{latestValues:s},o)=>{const l=(b5(n)?FF:RF)(r,s,o,n),u=pF(r,typeof n=="string",t),c=n!==G.Fragment?{...u,...l,ref:i}:{},{children:d}=r,g=G.useMemo(()=>ni(d)?d.get():d,[d]);return G.createElement(n,{...c,children:g})}}function Z4(t){const e=[{},{}];return t==null||t.values.forEach((n,r)=>{e[0][r]=n.get(),e[1][r]=n.getVelocity()}),e}function _5(t,e,n,r){if(typeof e=="function"){const[i,s]=Z4(r);e=e(n!==void 0?n:t.custom,i,s)}if(typeof e=="string"&&(e=t.variants&&t.variants[e]),typeof e=="function"){const[i,s]=Z4(r);e=e(n!==void 0?n:t.custom,i,s)}return e}function Tp(t){return ni(t)?t.get():t}function BF({scrapeMotionValuesFromProps:t,createRenderState:e},n,r,i){return{latestValues:UF(n,r,i,t),renderState:e()}}const FN=t=>(e,n)=>{const r=G.useContext(p0),i=G.useContext(Kv),s=()=>BF(t,e,r,i);return n?s():fD(s)};function UF(t,e,n,r){const i={},s=r(t,{});for(const g in s)i[g]=Tp(s[g]);let{initial:o,animate:a}=t;const l=g0(t),u=CN(t);e&&u&&!l&&t.inherit!==!1&&(o===void 0&&(o=e.initial),a===void 0&&(a=e.animate));let c=n?n.initial===!1:!1;c=c||o===!1;const d=c?a:o;if(d&&typeof d!="boolean"&&!m0(d)){const g=Array.isArray(d)?d:[d];for(let m=0;m<g.length;m++){const b=_5(t,g[m]);if(b){const{transitionEnd:x,transition:A,...v}=b;for(const _ in v){let E=v[_];if(Array.isArray(E)){const L=c?E.length-1:0;E=E[L]}E!==null&&(i[_]=E)}for(const _ in x)i[_]=x[_]}}}return i}function S5(t,e,n){var s;const{style:r}=t,i={};for(const o in r)(ni(r[o])||e.style&&ni(e.style[o])||LN(o,t)||((s=n==null?void 0:n.getValue(o))==null?void 0:s.liveStyle)!==void 0)&&(i[o]=r[o]);return i}const zF={useVisualState:FN({scrapeMotionValuesFromProps:S5,createRenderState:x5})};function ON(t,e,n){const r=S5(t,e,n);for(const i in t)if(ni(t[i])||ni(e[i])){const s=Bc.indexOf(i)!==-1?"attr"+i.charAt(0).toUpperCase()+i.substring(1):i;r[s]=t[i]}return r}const qF={useVisualState:FN({scrapeMotionValuesFromProps:ON,createRenderState:DN})};function $F(t,e){return function(r,{forwardMotionProps:i}={forwardMotionProps:!1}){const o={...b5(r)?qF:zF,preloadedFeatures:t,useRender:VF(i),createVisualElement:e,Component:r};return SF(o)}}function jf(t,e,n){const r=t.getProps();return _5(r,e,n!==void 0?n:r.custom,t)}const F2=t=>Array.isArray(t);function HF(t,e,n){t.hasValue(e)?t.getValue(e).set(n):t.addValue(e,Cc(n))}function WF(t){return F2(t)?t[t.length-1]||0:t}function GF(t,e){const n=jf(t,e);let{transitionEnd:r={},transition:i={},...s}=n||{};s={...s,...r};for(const o in s){const a=WF(s[o]);HF(t,o,a)}}function KF(t){return!!(ni(t)&&t.add)}function O2(t,e){const n=t.getValue("willChange");if(KF(n))return n.add(e);if(!n&&na.WillChange){const r=new na.WillChange("auto");t.addValue("willChange",r),r.add(e)}}function VN(t){return t.props[PN]}const QF=t=>t!==null;function YF(t,{repeat:e,repeatType:n="loop"},r){const i=t.filter(QF),s=e&&n!=="loop"&&e%2===1?0:i.length-1;return i[s]}const XF={type:"spring",stiffness:500,damping:25,restSpeed:10},JF=t=>({type:"spring",stiffness:550,damping:t===0?2*Math.sqrt(550):30,restSpeed:10}),ZF={type:"keyframes",duration:.8},eO={type:"keyframes",ease:[.25,.1,.35,1],duration:.3},tO=(t,{keyframes:e})=>e.length>2?ZF:Uc.has(t)?t.startsWith("scale")?JF(e[1]):XF:eO;function nO({when:t,delay:e,delayChildren:n,staggerChildren:r,staggerDirection:i,repeat:s,repeatType:o,repeatDelay:a,from:l,elapsed:u,...c}){return!!Object.keys(c).length}const A5=(t,e,n,r={},i,s)=>o=>{const a=f5(r,t)||{},l=a.delay||r.delay||0;let{elapsed:u=0}=r;u=u-vo(l);const c={keyframes:Array.isArray(n)?n:[null,n],ease:"easeOut",velocity:e.getVelocity(),...a,delay:-u,onUpdate:g=>{e.set(g),a.onUpdate&&a.onUpdate(g)},onComplete:()=>{o(),a.onComplete&&a.onComplete()},name:t,motionValue:e,element:s?void 0:i};nO(a)||Object.assign(c,tO(t,c)),c.duration&&(c.duration=vo(c.duration)),c.repeatDelay&&(c.repeatDelay=vo(c.repeatDelay)),c.from!==void 0&&(c.keyframes[0]=c.from);let d=!1;if((c.type===!1||c.duration===0&&!c.repeatDelay)&&(c.duration=0,c.delay===0&&(d=!0)),(na.instantAnimations||na.skipAnimations)&&(d=!0,c.duration=0,c.delay=0),c.allowFlatten=!a.type&&!a.ease,d&&!s&&e.get()!==void 0){const g=YF(c.keyframes,a);if(g!==void 0){Fn.update(()=>{c.onUpdate(g),c.onComplete()});return}}return a.isSync?new c5(c):new VM(c)};function rO({protectedKeys:t,needsAnimating:e},n){const r=t.hasOwnProperty(n)&&e[n]!==!0;return e[n]=!1,r}function BN(t,e,{delay:n=0,transitionOverride:r,type:i}={}){let{transition:s=t.getDefaultTransition(),transitionEnd:o,...a}=e;r&&(s=r);const l=[],u=i&&t.animationState&&t.animationState.getState()[i];for(const c in a){const d=t.getValue(c,t.latestValues[c]??null),g=a[c];if(g===void 0||u&&rO(u,c))continue;const m={delay:n,...f5(s||{},c)},b=d.get();if(b!==void 0&&!d.isAnimating&&!Array.isArray(g)&&g===b&&!m.velocity)continue;let x=!1;if(window.MotionHandoffAnimation){const v=VN(t);if(v){const _=window.MotionHandoffAnimation(v,c,Fn);_!==null&&(m.startTime=_,x=!0)}}O2(t,c),d.start(A5(c,d,g,t.shouldReduceMotion&&mN.has(c)?{type:!1}:m,t,x));const A=d.animation;A&&l.push(A)}return o&&Promise.all(l).then(()=>{Fn.update(()=>{o&&GF(t,o)})}),l}function V2(t,e,n={}){var l;const r=jf(t,e,n.type==="exit"?(l=t.presenceContext)==null?void 0:l.custom:void 0);let{transition:i=t.getDefaultTransition()||{}}=r||{};n.transitionOverride&&(i=n.transitionOverride);const s=r?()=>Promise.all(BN(t,r,n)):()=>Promise.resolve(),o=t.variantChildren&&t.variantChildren.size?(u=0)=>{const{delayChildren:c=0,staggerChildren:d,staggerDirection:g}=i;return iO(t,e,c+u,d,g,n)}:()=>Promise.resolve(),{when:a}=i;if(a){const[u,c]=a==="beforeChildren"?[s,o]:[o,s];return u().then(()=>c())}else return Promise.all([s(),o(n.delay)])}function iO(t,e,n=0,r=0,i=1,s){const o=[],a=(t.variantChildren.size-1)*r,l=i===1?(u=0)=>u*r:(u=0)=>a-u*r;return Array.from(t.variantChildren).sort(sO).forEach((u,c)=>{u.notify("AnimationStart",e),o.push(V2(u,e,{...s,delay:n+l(c)}).then(()=>u.notify("AnimationComplete",e)))}),Promise.all(o)}function sO(t,e){return t.sortNodePosition(e)}function oO(t,e,n={}){t.notify("AnimationStart",e);let r;if(Array.isArray(e)){const i=e.map(s=>V2(t,s,n));r=Promise.all(i)}else if(typeof e=="string")r=V2(t,e,n);else{const i=typeof e=="function"?jf(t,e,n.custom):e;r=Promise.all(BN(t,i,n))}return r.then(()=>{t.notify("AnimationComplete",e)})}function UN(t,e){if(!Array.isArray(e))return!1;const n=e.length;if(n!==t.length)return!1;for(let r=0;r<n;r++)if(e[r]!==t[r])return!1;return!0}const aO=y5.length;function zN(t){if(!t)return;if(!t.isControllingVariants){const n=t.parent?zN(t.parent)||{}:{};return t.props.initial!==void 0&&(n.initial=t.props.initial),n}const e={};for(let n=0;n<aO;n++){const r=y5[n],i=t.props[r];(Lf(i)||i===!1)&&(e[r]=i)}return e}const lO=[...g5].reverse(),uO=g5.length;function cO(t){return e=>Promise.all(e.map(({animation:n,options:r})=>oO(t,n,r)))}function hO(t){let e=cO(t),n=eb(),r=!0;const i=l=>(u,c)=>{var g;const d=jf(t,c,l==="exit"?(g=t.presenceContext)==null?void 0:g.custom:void 0);if(d){const{transition:m,transitionEnd:b,...x}=d;u={...u,...x,...b}}return u};function s(l){e=l(t)}function o(l){const{props:u}=t,c=zN(t.parent)||{},d=[],g=new Set;let m={},b=1/0;for(let A=0;A<uO;A++){const v=lO[A],_=n[v],E=u[v]!==void 0?u[v]:c[v],L=Lf(E),z=v===l?_.isActive:null;z===!1&&(b=A);let Y=E===c[v]&&E!==u[v]&&L;if(Y&&r&&t.manuallyAnimateOnMount&&(Y=!1),_.protectedKeys={...m},!_.isActive&&z===null||!E&&!_.prevProp||m0(E)||typeof E=="boolean")continue;const R=fO(_.prevProp,E);let C=R||v===l&&_.isActive&&!Y&&L||A>b&&L,k=!1;const M=Array.isArray(E)?E:[E];let T=M.reduce(i(v),{});z===!1&&(T={});const{prevResolvedValues:I={}}=_,D={...I,...T},H=ae=>{C=!0,g.has(ae)&&(k=!0,g.delete(ae)),_.needsAnimating[ae]=!0;const ee=t.getValue(ae);ee&&(ee.liveStyle=!1)};for(const ae in D){const ee=T[ae],se=I[ae];if(m.hasOwnProperty(ae))continue;let ye=!1;F2(ee)&&F2(se)?ye=!UN(ee,se):ye=ee!==se,ye?ee!=null?H(ae):g.add(ae):ee!==void 0&&g.has(ae)?H(ae):_.protectedKeys[ae]=!0}_.prevProp=E,_.prevResolvedValues=T,_.isActive&&(m={...m,...T}),r&&t.blockInitialAnimation&&(C=!1),C&&(!(Y&&R)||k)&&d.push(...M.map(ae=>({animation:ae,options:{type:v}})))}if(g.size){const A={};if(typeof u.initial!="boolean"){const v=jf(t,Array.isArray(u.initial)?u.initial[0]:u.initial);v&&v.transition&&(A.transition=v.transition)}g.forEach(v=>{const _=t.getBaseTarget(v),E=t.getValue(v);E&&(E.liveStyle=!0),A[v]=_??null}),d.push({animation:A})}let x=!!d.length;return r&&(u.initial===!1||u.initial===u.animate)&&!t.manuallyAnimateOnMount&&(x=!1),r=!1,x?e(d):Promise.resolve()}function a(l,u){var d;if(n[l].isActive===u)return Promise.resolve();(d=t.variantChildren)==null||d.forEach(g=>{var m;return(m=g.animationState)==null?void 0:m.setActive(l,u)}),n[l].isActive=u;const c=o(l);for(const g in n)n[g].protectedKeys={};return c}return{animateChanges:o,setActive:a,setAnimateFunction:s,getState:()=>n,reset:()=>{n=eb(),r=!0}}}function fO(t,e){return typeof e=="string"?e!==t:Array.isArray(e)?!UN(e,t):!1}function Dl(t=!1){return{isActive:t,protectedKeys:{},needsAnimating:{},prevResolvedValues:{}}}function eb(){return{animate:Dl(!0),whileInView:Dl(),whileHover:Dl(),whileTap:Dl(),whileDrag:Dl(),whileFocus:Dl(),exit:Dl()}}class ml{constructor(e){this.isMounted=!1,this.node=e}update(){}}class dO extends ml{constructor(e){super(e),e.animationState||(e.animationState=hO(e))}updateAnimationControlsSubscription(){const{animate:e}=this.node.getProps();m0(e)&&(this.unmountControls=e.subscribe(this.node))}mount(){this.updateAnimationControlsSubscription()}update(){const{animate:e}=this.node.getProps(),{animate:n}=this.node.prevProps||{};e!==n&&this.updateAnimationControlsSubscription()}unmount(){var e;this.node.animationState.reset(),(e=this.unmountControls)==null||e.call(this)}}let pO=0;class mO extends ml{constructor(){super(...arguments),this.id=pO++}update(){if(!this.node.presenceContext)return;const{isPresent:e,onExitComplete:n}=this.node.presenceContext,{isPresent:r}=this.node.prevPresenceContext||{};if(!this.node.animationState||e===r)return;const i=this.node.animationState.setActive("exit",!e);n&&!e&&i.then(()=>{n(this.id)})}mount(){const{register:e,onExitComplete:n}=this.node.presenceContext||{};n&&n(this.id),e&&(this.unmount=e(this.id))}unmount(){}}const gO={animation:{Feature:dO},exit:{Feature:mO}};function Df(t,e,n,r={passive:!0}){return t.addEventListener(e,n,r),()=>t.removeEventListener(e,n)}function ld(t){return{point:{x:t.pageX,y:t.pageY}}}const yO=t=>e=>m5(e)&&t(e,ld(e));function Gh(t,e,n,r){return Df(t,e,yO(n),r)}function qN({top:t,left:e,right:n,bottom:r}){return{x:{min:e,max:n},y:{min:t,max:r}}}function vO({x:t,y:e}){return{top:e.min,right:t.max,bottom:e.max,left:t.min}}function wO(t,e){if(!e)return t;const n=e({x:t.left,y:t.top}),r=e({x:t.right,y:t.bottom});return{top:n.y,left:n.x,bottom:r.y,right:r.x}}const $N=1e-4,xO=1-$N,bO=1+$N,HN=.01,_O=0-HN,SO=0+HN;function fi(t){return t.max-t.min}function AO(t,e,n){return Math.abs(t-e)<=n}function tb(t,e,n,r=.5){t.origin=r,t.originPoint=Dn(e.min,e.max,t.origin),t.scale=fi(n)/fi(e),t.translate=Dn(n.min,n.max,t.origin)-t.originPoint,(t.scale>=xO&&t.scale<=bO||isNaN(t.scale))&&(t.scale=1),(t.translate>=_O&&t.translate<=SO||isNaN(t.translate))&&(t.translate=0)}function Kh(t,e,n,r){tb(t.x,e.x,n.x,r?r.originX:void 0),tb(t.y,e.y,n.y,r?r.originY:void 0)}function nb(t,e,n){t.min=n.min+e.min,t.max=t.min+fi(e)}function NO(t,e,n){nb(t.x,e.x,n.x),nb(t.y,e.y,n.y)}function rb(t,e,n){t.min=e.min-n.min,t.max=t.min+fi(e)}function Qh(t,e,n){rb(t.x,e.x,n.x),rb(t.y,e.y,n.y)}const ib=()=>({translate:0,scale:1,origin:0,originPoint:0}),Qu=()=>({x:ib(),y:ib()}),sb=()=>({min:0,max:0}),nr=()=>({x:sb(),y:sb()});function fs(t){return[t("x"),t("y")]}function Ag(t){return t===void 0||t===1}function B2({scale:t,scaleX:e,scaleY:n}){return!Ag(t)||!Ag(e)||!Ag(n)}function Vl(t){return B2(t)||WN(t)||t.z||t.rotate||t.rotateX||t.rotateY||t.skewX||t.skewY}function WN(t){return ob(t.x)||ob(t.y)}function ob(t){return t&&t!=="0%"}function Em(t,e,n){const r=t-n,i=e*r;return n+i}function ab(t,e,n,r,i){return i!==void 0&&(t=Em(t,i,r)),Em(t,n,r)+e}function U2(t,e=0,n=1,r,i){t.min=ab(t.min,e,n,r,i),t.max=ab(t.max,e,n,r,i)}function GN(t,{x:e,y:n}){U2(t.x,e.translate,e.scale,e.originPoint),U2(t.y,n.translate,n.scale,n.originPoint)}const lb=.999999999999,ub=1.0000000000001;function EO(t,e,n,r=!1){const i=n.length;if(!i)return;e.x=e.y=1;let s,o;for(let a=0;a<i;a++){s=n[a],o=s.projectionDelta;const{visualElement:l}=s.options;l&&l.props.style&&l.props.style.display==="contents"||(r&&s.options.layoutScroll&&s.scroll&&s!==s.root&&Xu(t,{x:-s.scroll.offset.x,y:-s.scroll.offset.y}),o&&(e.x*=o.x.scale,e.y*=o.y.scale,GN(t,o)),r&&Vl(s.latestValues)&&Xu(t,s.latestValues))}e.x<ub&&e.x>lb&&(e.x=1),e.y<ub&&e.y>lb&&(e.y=1)}function Yu(t,e){t.min=t.min+e,t.max=t.max+e}function cb(t,e,n,r,i=.5){const s=Dn(t.min,t.max,i);U2(t,e,n,s,r)}function Xu(t,e){cb(t.x,e.x,e.scaleX,e.scale,e.originX),cb(t.y,e.y,e.scaleY,e.scale,e.originY)}function KN(t,e){return qN(wO(t.getBoundingClientRect(),e))}function TO(t,e,n){const r=KN(t,n),{scroll:i}=e;return i&&(Yu(r.x,i.offset.x),Yu(r.y,i.offset.y)),r}const QN=({current:t})=>t?t.ownerDocument.defaultView:null,hb=(t,e)=>Math.abs(t-e);function CO(t,e){const n=hb(t.x,e.x),r=hb(t.y,e.y);return Math.sqrt(n**2+r**2)}class YN{constructor(e,n,{transformPagePoint:r,contextWindow:i,dragSnapToOrigin:s=!1}={}){if(this.startEvent=null,this.lastMoveEvent=null,this.lastMoveEventInfo=null,this.handlers={},this.contextWindow=window,this.updatePoint=()=>{if(!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const d=Eg(this.lastMoveEventInfo,this.history),g=this.startEvent!==null,m=CO(d.offset,{x:0,y:0})>=3;if(!g&&!m)return;const{point:b}=d,{timestamp:x}=jr;this.history.push({...b,timestamp:x});const{onStart:A,onMove:v}=this.handlers;g||(A&&A(this.lastMoveEvent,d),this.startEvent=this.lastMoveEvent),v&&v(this.lastMoveEvent,d)},this.handlePointerMove=(d,g)=>{this.lastMoveEvent=d,this.lastMoveEventInfo=Ng(g,this.transformPagePoint),Fn.update(this.updatePoint,!0)},this.handlePointerUp=(d,g)=>{this.end();const{onEnd:m,onSessionEnd:b,resumeAnimation:x}=this.handlers;if(this.dragSnapToOrigin&&x&&x(),!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const A=Eg(d.type==="pointercancel"?this.lastMoveEventInfo:Ng(g,this.transformPagePoint),this.history);this.startEvent&&m&&m(d,A),b&&b(d,A)},!m5(e))return;this.dragSnapToOrigin=s,this.handlers=n,this.transformPagePoint=r,this.contextWindow=i||window;const o=ld(e),a=Ng(o,this.transformPagePoint),{point:l}=a,{timestamp:u}=jr;this.history=[{...l,timestamp:u}];const{onSessionStart:c}=n;c&&c(e,Eg(a,this.history)),this.removeListeners=sd(Gh(this.contextWindow,"pointermove",this.handlePointerMove),Gh(this.contextWindow,"pointerup",this.handlePointerUp),Gh(this.contextWindow,"pointercancel",this.handlePointerUp))}updateHandlers(e){this.handlers=e}end(){this.removeListeners&&this.removeListeners(),ol(this.updatePoint)}}function Ng(t,e){return e?{point:e(t.point)}:t}function fb(t,e){return{x:t.x-e.x,y:t.y-e.y}}function Eg({point:t},e){return{point:t,delta:fb(t,XN(e)),offset:fb(t,PO(e)),velocity:kO(e,.1)}}function PO(t){return t[0]}function XN(t){return t[t.length-1]}function kO(t,e){if(t.length<2)return{x:0,y:0};let n=t.length-1,r=null;const i=XN(t);for(;n>=0&&(r=t[n],!(i.timestamp-r.timestamp>vo(e)));)n--;if(!r)return{x:0,y:0};const s=wo(i.timestamp-r.timestamp);if(s===0)return{x:0,y:0};const o={x:(i.x-r.x)/s,y:(i.y-r.y)/s};return o.x===1/0&&(o.x=0),o.y===1/0&&(o.y=0),o}function IO(t,{min:e,max:n},r){return e!==void 0&&t<e?t=r?Dn(e,t,r.min):Math.max(t,e):n!==void 0&&t>n&&(t=r?Dn(n,t,r.max):Math.min(t,n)),t}function db(t,e,n){return{min:e!==void 0?t.min+e:void 0,max:n!==void 0?t.max+n-(t.max-t.min):void 0}}function LO(t,{top:e,left:n,bottom:r,right:i}){return{x:db(t.x,n,i),y:db(t.y,e,r)}}function pb(t,e){let n=e.min-t.min,r=e.max-t.max;return e.max-e.min<t.max-t.min&&([n,r]=[r,n]),{min:n,max:r}}function RO(t,e){return{x:pb(t.x,e.x),y:pb(t.y,e.y)}}function jO(t,e){let n=.5;const r=fi(t),i=fi(e);return i>r?n=Pf(e.min,e.max-r,t.min):r>i&&(n=Pf(t.min,t.max-i,e.min)),ta(0,1,n)}function DO(t,e){const n={};return e.min!==void 0&&(n.min=e.min-t.min),e.max!==void 0&&(n.max=e.max-t.min),n}const z2=.35;function MO(t=z2){return t===!1?t=0:t===!0&&(t=z2),{x:mb(t,"left","right"),y:mb(t,"top","bottom")}}function mb(t,e,n){return{min:gb(t,e),max:gb(t,n)}}function gb(t,e){return typeof t=="number"?t:t[e]||0}const FO=new WeakMap;class OO{constructor(e){this.openDragLock=null,this.isDragging=!1,this.currentDirection=null,this.originPoint={x:0,y:0},this.constraints=!1,this.hasMutatedConstraints=!1,this.elastic=nr(),this.visualElement=e}start(e,{snapToCursor:n=!1}={}){const{presenceContext:r}=this.visualElement;if(r&&r.isPresent===!1)return;const i=c=>{const{dragSnapToOrigin:d}=this.getProps();d?this.pauseAnimation():this.stopAnimation(),n&&this.snapToCursor(ld(c).point)},s=(c,d)=>{const{drag:g,dragPropagation:m,onDragStart:b}=this.getProps();if(g&&!m&&(this.openDragLock&&this.openDragLock(),this.openDragLock=tF(g),!this.openDragLock))return;this.isDragging=!0,this.currentDirection=null,this.resolveConstraints(),this.visualElement.projection&&(this.visualElement.projection.isAnimationBlocked=!0,this.visualElement.projection.target=void 0),fs(A=>{let v=this.getAxisMotionValue(A).get()||0;if(xo.test(v)){const{projection:_}=this.visualElement;if(_&&_.layout){const E=_.layout.layoutBox[A];E&&(v=fi(E)*(parseFloat(v)/100))}}this.originPoint[A]=v}),b&&Fn.postRender(()=>b(c,d)),O2(this.visualElement,"transform");const{animationState:x}=this.visualElement;x&&x.setActive("whileDrag",!0)},o=(c,d)=>{const{dragPropagation:g,dragDirectionLock:m,onDirectionLock:b,onDrag:x}=this.getProps();if(!g&&!this.openDragLock)return;const{offset:A}=d;if(m&&this.currentDirection===null){this.currentDirection=VO(A),this.currentDirection!==null&&b&&b(this.currentDirection);return}this.updateAxis("x",d.point,A),this.updateAxis("y",d.point,A),this.visualElement.render(),x&&x(c,d)},a=(c,d)=>this.stop(c,d),l=()=>fs(c=>{var d;return this.getAnimationState(c)==="paused"&&((d=this.getAxisMotionValue(c).animation)==null?void 0:d.play())}),{dragSnapToOrigin:u}=this.getProps();this.panSession=new YN(e,{onSessionStart:i,onStart:s,onMove:o,onSessionEnd:a,resumeAnimation:l},{transformPagePoint:this.visualElement.getTransformPagePoint(),dragSnapToOrigin:u,contextWindow:QN(this.visualElement)})}stop(e,n){const r=this.isDragging;if(this.cancel(),!r)return;const{velocity:i}=n;this.startAnimation(i);const{onDragEnd:s}=this.getProps();s&&Fn.postRender(()=>s(e,n))}cancel(){this.isDragging=!1;const{projection:e,animationState:n}=this.visualElement;e&&(e.isAnimationBlocked=!1),this.panSession&&this.panSession.end(),this.panSession=void 0;const{dragPropagation:r}=this.getProps();!r&&this.openDragLock&&(this.openDragLock(),this.openDragLock=null),n&&n.setActive("whileDrag",!1)}updateAxis(e,n,r){const{drag:i}=this.getProps();if(!r||!Xd(e,i,this.currentDirection))return;const s=this.getAxisMotionValue(e);let o=this.originPoint[e]+r[e];this.constraints&&this.constraints[e]&&(o=IO(o,this.constraints[e],this.elastic[e])),s.set(o)}resolveConstraints(){var s;const{dragConstraints:e,dragElastic:n}=this.getProps(),r=this.visualElement.projection&&!this.visualElement.projection.layout?this.visualElement.projection.measure(!1):(s=this.visualElement.projection)==null?void 0:s.layout,i=this.constraints;e&&Ku(e)?this.constraints||(this.constraints=this.resolveRefConstraints()):e&&r?this.constraints=LO(r.layoutBox,e):this.constraints=!1,this.elastic=MO(n),i!==this.constraints&&r&&this.constraints&&!this.hasMutatedConstraints&&fs(o=>{this.constraints!==!1&&this.getAxisMotionValue(o)&&(this.constraints[o]=DO(r.layoutBox[o],this.constraints[o]))})}resolveRefConstraints(){const{dragConstraints:e,onMeasureDragConstraints:n}=this.getProps();if(!e||!Ku(e))return!1;const r=e.current,{projection:i}=this.visualElement;if(!i||!i.layout)return!1;const s=TO(r,i.root,this.visualElement.getTransformPagePoint());let o=RO(i.layout.layoutBox,s);if(n){const a=n(vO(o));this.hasMutatedConstraints=!!a,a&&(o=qN(a))}return o}startAnimation(e){const{drag:n,dragMomentum:r,dragElastic:i,dragTransition:s,dragSnapToOrigin:o,onDragTransitionEnd:a}=this.getProps(),l=this.constraints||{},u=fs(c=>{if(!Xd(c,n,this.currentDirection))return;let d=l&&l[c]||{};o&&(d={min:0,max:0});const g=i?200:1e6,m=i?40:1e7,b={type:"inertia",velocity:r?e[c]:0,bounceStiffness:g,bounceDamping:m,timeConstant:750,restDelta:1,restSpeed:10,...s,...d};return this.startAxisValueAnimation(c,b)});return Promise.all(u).then(a)}startAxisValueAnimation(e,n){const r=this.getAxisMotionValue(e);return O2(this.visualElement,e),r.start(A5(e,r,0,n,this.visualElement,!1))}stopAnimation(){fs(e=>this.getAxisMotionValue(e).stop())}pauseAnimation(){fs(e=>{var n;return(n=this.getAxisMotionValue(e).animation)==null?void 0:n.pause()})}getAnimationState(e){var n;return(n=this.getAxisMotionValue(e).animation)==null?void 0:n.state}getAxisMotionValue(e){const n=`_drag${e.toUpperCase()}`,r=this.visualElement.getProps(),i=r[n];return i||this.visualElement.getValue(e,(r.initial?r.initial[e]:void 0)||0)}snapToCursor(e){fs(n=>{const{drag:r}=this.getProps();if(!Xd(n,r,this.currentDirection))return;const{projection:i}=this.visualElement,s=this.getAxisMotionValue(n);if(i&&i.layout){const{min:o,max:a}=i.layout.layoutBox[n];s.set(e[n]-Dn(o,a,.5))}})}scalePositionWithinConstraints(){if(!this.visualElement.current)return;const{drag:e,dragConstraints:n}=this.getProps(),{projection:r}=this.visualElement;if(!Ku(n)||!r||!this.constraints)return;this.stopAnimation();const i={x:0,y:0};fs(o=>{const a=this.getAxisMotionValue(o);if(a&&this.constraints!==!1){const l=a.get();i[o]=jO({min:l,max:l},this.constraints[o])}});const{transformTemplate:s}=this.visualElement.getProps();this.visualElement.current.style.transform=s?s({},""):"none",r.root&&r.root.updateScroll(),r.updateLayout(),this.resolveConstraints(),fs(o=>{if(!Xd(o,e,null))return;const a=this.getAxisMotionValue(o),{min:l,max:u}=this.constraints[o];a.set(Dn(l,u,i[o]))})}addListeners(){if(!this.visualElement.current)return;FO.set(this.visualElement,this);const e=this.visualElement.current,n=Gh(e,"pointerdown",l=>{const{drag:u,dragListener:c=!0}=this.getProps();u&&c&&this.start(l)}),r=()=>{const{dragConstraints:l}=this.getProps();Ku(l)&&l.current&&(this.constraints=this.resolveRefConstraints())},{projection:i}=this.visualElement,s=i.addEventListener("measure",r);i&&!i.layout&&(i.root&&i.root.updateScroll(),i.updateLayout()),Fn.read(r);const o=Df(window,"resize",()=>this.scalePositionWithinConstraints()),a=i.addEventListener("didUpdate",({delta:l,hasLayoutChanged:u})=>{this.isDragging&&u&&(fs(c=>{const d=this.getAxisMotionValue(c);d&&(this.originPoint[c]+=l[c].translate,d.set(d.get()+l[c].translate))}),this.visualElement.render())});return()=>{o(),n(),s(),a&&a()}}getProps(){const e=this.visualElement.getProps(),{drag:n=!1,dragDirectionLock:r=!1,dragPropagation:i=!1,dragConstraints:s=!1,dragElastic:o=z2,dragMomentum:a=!0}=e;return{...e,drag:n,dragDirectionLock:r,dragPropagation:i,dragConstraints:s,dragElastic:o,dragMomentum:a}}}function Xd(t,e,n){return(e===!0||e===t)&&(n===null||n===t)}function VO(t,e=10){let n=null;return Math.abs(t.y)>e?n="y":Math.abs(t.x)>e&&(n="x"),n}class BO extends ml{constructor(e){super(e),this.removeGroupControls=ys,this.removeListeners=ys,this.controls=new OO(e)}mount(){const{dragControls:e}=this.node.getProps();e&&(this.removeGroupControls=e.subscribe(this.controls)),this.removeListeners=this.controls.addListeners()||ys}unmount(){this.removeGroupControls(),this.removeListeners()}}const yb=t=>(e,n)=>{t&&Fn.postRender(()=>t(e,n))};class UO extends ml{constructor(){super(...arguments),this.removePointerDownListener=ys}onPointerDown(e){this.session=new YN(e,this.createPanHandlers(),{transformPagePoint:this.node.getTransformPagePoint(),contextWindow:QN(this.node)})}createPanHandlers(){const{onPanSessionStart:e,onPanStart:n,onPan:r,onPanEnd:i}=this.node.getProps();return{onSessionStart:yb(e),onStart:yb(n),onMove:r,onEnd:(s,o)=>{delete this.session,i&&Fn.postRender(()=>i(s,o))}}}mount(){this.removePointerDownListener=Gh(this.node.current,"pointerdown",e=>this.onPointerDown(e))}update(){this.session&&this.session.updateHandlers(this.createPanHandlers())}unmount(){this.removePointerDownListener(),this.session&&this.session.end()}}const Cp={hasAnimatedSinceResize:!0,hasEverUpdated:!1};function vb(t,e){return e.max===e.min?0:t/(e.max-e.min)*100}const wh={correct:(t,e)=>{if(!e.target)return t;if(typeof t=="string")if(pt.test(t))t=parseFloat(t);else return t;const n=vb(t,e.target.x),r=vb(t,e.target.y);return`${n}% ${r}%`}},zO={correct:(t,{treeScale:e,projectionDelta:n})=>{const r=t,i=al.parse(t);if(i.length>5)return r;const s=al.createTransformer(t),o=typeof i[0]!="number"?1:0,a=n.x.scale*e.x,l=n.y.scale*e.y;i[0+o]/=a,i[1+o]/=l;const u=Dn(a,l,.5);return typeof i[2+o]=="number"&&(i[2+o]/=u),typeof i[3+o]=="number"&&(i[3+o]/=u),s(i)}};class qO extends G.Component{componentDidMount(){const{visualElement:e,layoutGroup:n,switchLayoutGroup:r,layoutId:i}=this.props,{projection:s}=e;TF($O),s&&(n.group&&n.group.add(s),r&&r.register&&i&&r.register(s),s.root.didUpdate(),s.addEventListener("animationComplete",()=>{this.safeToRemove()}),s.setOptions({...s.options,onExitComplete:()=>this.safeToRemove()})),Cp.hasEverUpdated=!0}getSnapshotBeforeUpdate(e){const{layoutDependency:n,visualElement:r,drag:i,isPresent:s}=this.props,{projection:o}=r;return o&&(o.isPresent=s,i||e.layoutDependency!==n||n===void 0||e.isPresent!==s?o.willUpdate():this.safeToRemove(),e.isPresent!==s&&(s?o.promote():o.relegate()||Fn.postRender(()=>{const a=o.getStack();(!a||!a.members.length)&&this.safeToRemove()}))),null}componentDidUpdate(){const{projection:e}=this.props.visualElement;e&&(e.root.didUpdate(),p5.postRender(()=>{!e.currentAnimation&&e.isLead()&&this.safeToRemove()}))}componentWillUnmount(){const{visualElement:e,layoutGroup:n,switchLayoutGroup:r}=this.props,{projection:i}=e;i&&(i.scheduleCheckAfterUnmount(),n&&n.group&&n.group.remove(i),r&&r.deregister&&r.deregister(i))}safeToRemove(){const{safeToRemove:e}=this.props;e&&e()}render(){return null}}function JN(t){const[e,n]=cF(),r=G.useContext(jA);return p.jsx(qO,{...t,layoutGroup:r,switchLayoutGroup:G.useContext(kN),isPresent:e,safeToRemove:n})}const $O={borderRadius:{...wh,applyTo:["borderTopLeftRadius","borderTopRightRadius","borderBottomLeftRadius","borderBottomRightRadius"]},borderTopLeftRadius:wh,borderTopRightRadius:wh,borderBottomLeftRadius:wh,borderBottomRightRadius:wh,boxShadow:zO};function HO(t,e,n){const r=ni(t)?t:Cc(t);return r.start(A5("",r,e,n)),r.animation}const WO=(t,e)=>t.depth-e.depth;class GO{constructor(){this.children=[],this.isDirty=!1}add(e){Qv(this.children,e),this.isDirty=!0}remove(e){Yv(this.children,e),this.isDirty=!0}forEach(e){this.isDirty&&this.children.sort(WO),this.isDirty=!1,this.children.forEach(e)}}function KO(t,e){const n=Pi.now(),r=({timestamp:i})=>{const s=i-n;s>=e&&(ol(r),t(s-e))};return Fn.setup(r,!0),()=>ol(r)}const ZN=["TopLeft","TopRight","BottomLeft","BottomRight"],QO=ZN.length,wb=t=>typeof t=="string"?parseFloat(t):t,xb=t=>typeof t=="number"||pt.test(t);function YO(t,e,n,r,i,s){i?(t.opacity=Dn(0,n.opacity??1,XO(r)),t.opacityExit=Dn(e.opacity??1,0,JO(r))):s&&(t.opacity=Dn(e.opacity??1,n.opacity??1,r));for(let o=0;o<QO;o++){const a=`border${ZN[o]}Radius`;let l=bb(e,a),u=bb(n,a);if(l===void 0&&u===void 0)continue;l||(l=0),u||(u=0),l===0||u===0||xb(l)===xb(u)?(t[a]=Math.max(Dn(wb(l),wb(u),r),0),(xo.test(u)||xo.test(l))&&(t[a]+="%")):t[a]=u}(e.rotate||n.rotate)&&(t.rotate=Dn(e.rotate||0,n.rotate||0,r))}function bb(t,e){return t[e]!==void 0?t[e]:t.borderRadius}const XO=eE(0,.5,HA),JO=eE(.5,.95,ys);function eE(t,e,n){return r=>r<t?0:r>e?1:n(Pf(t,e,r))}function _b(t,e){t.min=e.min,t.max=e.max}function hs(t,e){_b(t.x,e.x),_b(t.y,e.y)}function Sb(t,e){t.translate=e.translate,t.scale=e.scale,t.originPoint=e.originPoint,t.origin=e.origin}function Ab(t,e,n,r,i){return t-=e,t=Em(t,1/n,r),i!==void 0&&(t=Em(t,1/i,r)),t}function ZO(t,e=0,n=1,r=.5,i,s=t,o=t){if(xo.test(e)&&(e=parseFloat(e),e=Dn(o.min,o.max,e/100)-o.min),typeof e!="number")return;let a=Dn(s.min,s.max,r);t===s&&(a-=e),t.min=Ab(t.min,e,n,a,i),t.max=Ab(t.max,e,n,a,i)}function Nb(t,e,[n,r,i],s,o){ZO(t,e[n],e[r],e[i],e.scale,s,o)}const eV=["x","scaleX","originX"],tV=["y","scaleY","originY"];function Eb(t,e,n,r){Nb(t.x,e,eV,n?n.x:void 0,r?r.x:void 0),Nb(t.y,e,tV,n?n.y:void 0,r?r.y:void 0)}function Tb(t){return t.translate===0&&t.scale===1}function tE(t){return Tb(t.x)&&Tb(t.y)}function Cb(t,e){return t.min===e.min&&t.max===e.max}function nV(t,e){return Cb(t.x,e.x)&&Cb(t.y,e.y)}function Pb(t,e){return Math.round(t.min)===Math.round(e.min)&&Math.round(t.max)===Math.round(e.max)}function nE(t,e){return Pb(t.x,e.x)&&Pb(t.y,e.y)}function kb(t){return fi(t.x)/fi(t.y)}function Ib(t,e){return t.translate===e.translate&&t.scale===e.scale&&t.originPoint===e.originPoint}class rV{constructor(){this.members=[]}add(e){Qv(this.members,e),e.scheduleRender()}remove(e){if(Yv(this.members,e),e===this.prevLead&&(this.prevLead=void 0),e===this.lead){const n=this.members[this.members.length-1];n&&this.promote(n)}}relegate(e){const n=this.members.findIndex(i=>e===i);if(n===0)return!1;let r;for(let i=n;i>=0;i--){const s=this.members[i];if(s.isPresent!==!1){r=s;break}}return r?(this.promote(r),!0):!1}promote(e,n){const r=this.lead;if(e!==r&&(this.prevLead=r,this.lead=e,e.show(),r)){r.instance&&r.scheduleRender(),e.scheduleRender(),e.resumeFrom=r,n&&(e.resumeFrom.preserveOpacity=!0),r.snapshot&&(e.snapshot=r.snapshot,e.snapshot.latestValues=r.animationValues||r.latestValues),e.root&&e.root.isUpdating&&(e.isLayoutDirty=!0);const{crossfade:i}=e.options;i===!1&&r.hide()}}exitAnimationComplete(){this.members.forEach(e=>{const{options:n,resumingFrom:r}=e;n.onExitComplete&&n.onExitComplete(),r&&r.options.onExitComplete&&r.options.onExitComplete()})}scheduleRender(){this.members.forEach(e=>{e.instance&&e.scheduleRender(!1)})}removeLeadSnapshot(){this.lead&&this.lead.snapshot&&(this.lead.snapshot=void 0)}}function iV(t,e,n){let r="";const i=t.x.translate/e.x,s=t.y.translate/e.y,o=(n==null?void 0:n.z)||0;if((i||s||o)&&(r=`translate3d(${i}px, ${s}px, ${o}px) `),(e.x!==1||e.y!==1)&&(r+=`scale(${1/e.x}, ${1/e.y}) `),n){const{transformPerspective:u,rotate:c,rotateX:d,rotateY:g,skewX:m,skewY:b}=n;u&&(r=`perspective(${u}px) ${r}`),c&&(r+=`rotate(${c}deg) `),d&&(r+=`rotateX(${d}deg) `),g&&(r+=`rotateY(${g}deg) `),m&&(r+=`skewX(${m}deg) `),b&&(r+=`skewY(${b}deg) `)}const a=t.x.scale*e.x,l=t.y.scale*e.y;return(a!==1||l!==1)&&(r+=`scale(${a}, ${l})`),r||"none"}const Tg=["","X","Y","Z"],sV={visibility:"hidden"},oV=1e3;let aV=0;function Cg(t,e,n,r){const{latestValues:i}=e;i[t]&&(n[t]=i[t],e.setStaticValue(t,0),r&&(r[t]=0))}function rE(t){if(t.hasCheckedOptimisedAppear=!0,t.root===t)return;const{visualElement:e}=t.options;if(!e)return;const n=VN(e);if(window.MotionHasOptimisedAnimation(n,"transform")){const{layout:i,layoutId:s}=t.options;window.MotionCancelOptimisedAnimation(n,"transform",Fn,!(i||s))}const{parent:r}=t;r&&!r.hasCheckedOptimisedAppear&&rE(r)}function iE({attachResizeListener:t,defaultParent:e,measureScroll:n,checkIsScrollRoot:r,resetTransform:i}){return class{constructor(o={},a=e==null?void 0:e()){this.id=aV++,this.animationId=0,this.children=new Set,this.options={},this.isTreeAnimating=!1,this.isAnimationBlocked=!1,this.isLayoutDirty=!1,this.isProjectionDirty=!1,this.isSharedProjectionDirty=!1,this.isTransformDirty=!1,this.updateManuallyBlocked=!1,this.updateBlockedByResize=!1,this.isUpdating=!1,this.isSVG=!1,this.needsReset=!1,this.shouldResetTransform=!1,this.hasCheckedOptimisedAppear=!1,this.treeScale={x:1,y:1},this.eventHandlers=new Map,this.hasTreeAnimated=!1,this.updateScheduled=!1,this.scheduleUpdate=()=>this.update(),this.projectionUpdateScheduled=!1,this.checkUpdateFailed=()=>{this.isUpdating&&(this.isUpdating=!1,this.clearAllSnapshots())},this.updateProjection=()=>{this.projectionUpdateScheduled=!1,this.nodes.forEach(cV),this.nodes.forEach(mV),this.nodes.forEach(gV),this.nodes.forEach(hV)},this.resolvedRelativeTargetAt=0,this.hasProjected=!1,this.isVisible=!0,this.animationProgress=0,this.sharedNodes=new Map,this.latestValues=o,this.root=a?a.root||a:this,this.path=a?[...a.path,a]:[],this.parent=a,this.depth=a?a.depth+1:0;for(let l=0;l<this.path.length;l++)this.path[l].shouldResetTransform=!0;this.root===this&&(this.nodes=new GO)}addEventListener(o,a){return this.eventHandlers.has(o)||this.eventHandlers.set(o,new Zv),this.eventHandlers.get(o).add(a)}notifyListeners(o,...a){const l=this.eventHandlers.get(o);l&&l.notify(...a)}hasListeners(o){return this.eventHandlers.has(o)}mount(o){if(this.instance)return;this.isSVG=AN(o)&&!aF(o),this.instance=o;const{layoutId:a,layout:l,visualElement:u}=this.options;if(u&&!u.current&&u.mount(o),this.root.nodes.add(this),this.parent&&this.parent.children.add(this),this.root.hasTreeAnimated&&(l||a)&&(this.isLayoutDirty=!0),t){let c;const d=()=>this.root.updateBlockedByResize=!1;t(o,()=>{this.root.updateBlockedByResize=!0,c&&c(),c=KO(d,250),Cp.hasAnimatedSinceResize&&(Cp.hasAnimatedSinceResize=!1,this.nodes.forEach(Rb))})}a&&this.root.registerSharedNode(a,this),this.options.animate!==!1&&u&&(a||l)&&this.addEventListener("didUpdate",({delta:c,hasLayoutChanged:d,hasRelativeLayoutChanged:g,layout:m})=>{if(this.isTreeAnimationBlocked()){this.target=void 0,this.relativeTarget=void 0;return}const b=this.options.transition||u.getDefaultTransition()||bV,{onLayoutAnimationStart:x,onLayoutAnimationComplete:A}=u.getProps(),v=!this.targetLayout||!nE(this.targetLayout,m),_=!d&&g;if(this.options.layoutRoot||this.resumeFrom||_||d&&(v||!this.currentAnimation)){this.resumeFrom&&(this.resumingFrom=this.resumeFrom,this.resumingFrom.resumingFrom=void 0);const E={...f5(b,"layout"),onPlay:x,onComplete:A};(u.shouldReduceMotion||this.options.layoutRoot)&&(E.delay=0,E.type=!1),this.startAnimation(E),this.setAnimationOrigin(c,_)}else d||Rb(this),this.isLead()&&this.options.onExitComplete&&this.options.onExitComplete();this.targetLayout=m})}unmount(){this.options.layoutId&&this.willUpdate(),this.root.nodes.remove(this);const o=this.getStack();o&&o.remove(this),this.parent&&this.parent.children.delete(this),this.instance=void 0,this.eventHandlers.clear(),ol(this.updateProjection)}blockUpdate(){this.updateManuallyBlocked=!0}unblockUpdate(){this.updateManuallyBlocked=!1}isUpdateBlocked(){return this.updateManuallyBlocked||this.updateBlockedByResize}isTreeAnimationBlocked(){return this.isAnimationBlocked||this.parent&&this.parent.isTreeAnimationBlocked()||!1}startUpdate(){this.isUpdateBlocked()||(this.isUpdating=!0,this.nodes&&this.nodes.forEach(yV),this.animationId++)}getTransformTemplate(){const{visualElement:o}=this.options;return o&&o.getProps().transformTemplate}willUpdate(o=!0){if(this.root.hasTreeAnimated=!0,this.root.isUpdateBlocked()){this.options.onExitComplete&&this.options.onExitComplete();return}if(window.MotionCancelOptimisedAnimation&&!this.hasCheckedOptimisedAppear&&rE(this),!this.root.isUpdating&&this.root.startUpdate(),this.isLayoutDirty)return;this.isLayoutDirty=!0;for(let c=0;c<this.path.length;c++){const d=this.path[c];d.shouldResetTransform=!0,d.updateScroll("snapshot"),d.options.layoutRoot&&d.willUpdate(!1)}const{layoutId:a,layout:l}=this.options;if(a===void 0&&!l)return;const u=this.getTransformTemplate();this.prevTransformTemplateValue=u?u(this.latestValues,""):void 0,this.updateSnapshot(),o&&this.notifyListeners("willUpdate")}update(){if(this.updateScheduled=!1,this.isUpdateBlocked()){this.unblockUpdate(),this.clearAllSnapshots(),this.nodes.forEach(Lb);return}this.isUpdating||this.nodes.forEach(dV),this.isUpdating=!1,this.nodes.forEach(pV),this.nodes.forEach(lV),this.nodes.forEach(uV),this.clearAllSnapshots();const a=Pi.now();jr.delta=ta(0,1e3/60,a-jr.timestamp),jr.timestamp=a,jr.isProcessing=!0,vg.update.process(jr),vg.preRender.process(jr),vg.render.process(jr),jr.isProcessing=!1}didUpdate(){this.updateScheduled||(this.updateScheduled=!0,p5.read(this.scheduleUpdate))}clearAllSnapshots(){this.nodes.forEach(fV),this.sharedNodes.forEach(vV)}scheduleUpdateProjection(){this.projectionUpdateScheduled||(this.projectionUpdateScheduled=!0,Fn.preRender(this.updateProjection,!1,!0))}scheduleCheckAfterUnmount(){Fn.postRender(()=>{this.isLayoutDirty?this.root.didUpdate():this.root.checkUpdateFailed()})}updateSnapshot(){this.snapshot||!this.instance||(this.snapshot=this.measure(),this.snapshot&&!fi(this.snapshot.measuredBox.x)&&!fi(this.snapshot.measuredBox.y)&&(this.snapshot=void 0))}updateLayout(){if(!this.instance||(this.updateScroll(),!(this.options.alwaysMeasureLayout&&this.isLead())&&!this.isLayoutDirty))return;if(this.resumeFrom&&!this.resumeFrom.instance)for(let l=0;l<this.path.length;l++)this.path[l].updateScroll();const o=this.layout;this.layout=this.measure(!1),this.layoutCorrected=nr(),this.isLayoutDirty=!1,this.projectionDelta=void 0,this.notifyListeners("measure",this.layout.layoutBox);const{visualElement:a}=this.options;a&&a.notify("LayoutMeasure",this.layout.layoutBox,o?o.layoutBox:void 0)}updateScroll(o="measure"){let a=!!(this.options.layoutScroll&&this.instance);if(this.scroll&&this.scroll.animationId===this.root.animationId&&this.scroll.phase===o&&(a=!1),a&&this.instance){const l=r(this.instance);this.scroll={animationId:this.root.animationId,phase:o,isRoot:l,offset:n(this.instance),wasRoot:this.scroll?this.scroll.isRoot:l}}}resetTransform(){if(!i)return;const o=this.isLayoutDirty||this.shouldResetTransform||this.options.alwaysMeasureLayout,a=this.projectionDelta&&!tE(this.projectionDelta),l=this.getTransformTemplate(),u=l?l(this.latestValues,""):void 0,c=u!==this.prevTransformTemplateValue;o&&this.instance&&(a||Vl(this.latestValues)||c)&&(i(this.instance,u),this.shouldResetTransform=!1,this.scheduleRender())}measure(o=!0){const a=this.measurePageBox();let l=this.removeElementScroll(a);return o&&(l=this.removeTransform(l)),_V(l),{animationId:this.root.animationId,measuredBox:a,layoutBox:l,latestValues:{},source:this.id}}measurePageBox(){var u;const{visualElement:o}=this.options;if(!o)return nr();const a=o.measureViewportBox();if(!(((u=this.scroll)==null?void 0:u.wasRoot)||this.path.some(SV))){const{scroll:c}=this.root;c&&(Yu(a.x,c.offset.x),Yu(a.y,c.offset.y))}return a}removeElementScroll(o){var l;const a=nr();if(hs(a,o),(l=this.scroll)!=null&&l.wasRoot)return a;for(let u=0;u<this.path.length;u++){const c=this.path[u],{scroll:d,options:g}=c;c!==this.root&&d&&g.layoutScroll&&(d.wasRoot&&hs(a,o),Yu(a.x,d.offset.x),Yu(a.y,d.offset.y))}return a}applyTransform(o,a=!1){const l=nr();hs(l,o);for(let u=0;u<this.path.length;u++){const c=this.path[u];!a&&c.options.layoutScroll&&c.scroll&&c!==c.root&&Xu(l,{x:-c.scroll.offset.x,y:-c.scroll.offset.y}),Vl(c.latestValues)&&Xu(l,c.latestValues)}return Vl(this.latestValues)&&Xu(l,this.latestValues),l}removeTransform(o){const a=nr();hs(a,o);for(let l=0;l<this.path.length;l++){const u=this.path[l];if(!u.instance||!Vl(u.latestValues))continue;B2(u.latestValues)&&u.updateSnapshot();const c=nr(),d=u.measurePageBox();hs(c,d),Eb(a,u.latestValues,u.snapshot?u.snapshot.layoutBox:void 0,c)}return Vl(this.latestValues)&&Eb(a,this.latestValues),a}setTargetDelta(o){this.targetDelta=o,this.root.scheduleUpdateProjection(),this.isProjectionDirty=!0}setOptions(o){this.options={...this.options,...o,crossfade:o.crossfade!==void 0?o.crossfade:!0}}clearMeasurements(){this.scroll=void 0,this.layout=void 0,this.snapshot=void 0,this.prevTransformTemplateValue=void 0,this.targetDelta=void 0,this.target=void 0,this.isLayoutDirty=!1}forceRelativeParentToResolveTarget(){this.relativeParent&&this.relativeParent.resolvedRelativeTargetAt!==jr.timestamp&&this.relativeParent.resolveTargetDelta(!0)}resolveTargetDelta(o=!1){var g;const a=this.getLead();this.isProjectionDirty||(this.isProjectionDirty=a.isProjectionDirty),this.isTransformDirty||(this.isTransformDirty=a.isTransformDirty),this.isSharedProjectionDirty||(this.isSharedProjectionDirty=a.isSharedProjectionDirty);const l=!!this.resumingFrom||this!==a;if(!(o||l&&this.isSharedProjectionDirty||this.isProjectionDirty||(g=this.parent)!=null&&g.isProjectionDirty||this.attemptToResolveRelativeTarget||this.root.updateBlockedByResize))return;const{layout:c,layoutId:d}=this.options;if(!(!this.layout||!(c||d))){if(this.resolvedRelativeTargetAt=jr.timestamp,!this.targetDelta&&!this.relativeTarget){const m=this.getClosestProjectingParent();m&&m.layout&&this.animationProgress!==1?(this.relativeParent=m,this.forceRelativeParentToResolveTarget(),this.relativeTarget=nr(),this.relativeTargetOrigin=nr(),Qh(this.relativeTargetOrigin,this.layout.layoutBox,m.layout.layoutBox),hs(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}if(!(!this.relativeTarget&&!this.targetDelta)&&(this.target||(this.target=nr(),this.targetWithTransforms=nr()),this.relativeTarget&&this.relativeTargetOrigin&&this.relativeParent&&this.relativeParent.target?(this.forceRelativeParentToResolveTarget(),NO(this.target,this.relativeTarget,this.relativeParent.target)):this.targetDelta?(this.resumingFrom?this.target=this.applyTransform(this.layout.layoutBox):hs(this.target,this.layout.layoutBox),GN(this.target,this.targetDelta)):hs(this.target,this.layout.layoutBox),this.attemptToResolveRelativeTarget)){this.attemptToResolveRelativeTarget=!1;const m=this.getClosestProjectingParent();m&&!!m.resumingFrom==!!this.resumingFrom&&!m.options.layoutScroll&&m.target&&this.animationProgress!==1?(this.relativeParent=m,this.forceRelativeParentToResolveTarget(),this.relativeTarget=nr(),this.relativeTargetOrigin=nr(),Qh(this.relativeTargetOrigin,this.target,m.target),hs(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}}}getClosestProjectingParent(){if(!(!this.parent||B2(this.parent.latestValues)||WN(this.parent.latestValues)))return this.parent.isProjecting()?this.parent:this.parent.getClosestProjectingParent()}isProjecting(){return!!((this.relativeTarget||this.targetDelta||this.options.layoutRoot)&&this.layout)}calcProjection(){var b;const o=this.getLead(),a=!!this.resumingFrom||this!==o;let l=!0;if((this.isProjectionDirty||(b=this.parent)!=null&&b.isProjectionDirty)&&(l=!1),a&&(this.isSharedProjectionDirty||this.isTransformDirty)&&(l=!1),this.resolvedRelativeTargetAt===jr.timestamp&&(l=!1),l)return;const{layout:u,layoutId:c}=this.options;if(this.isTreeAnimating=!!(this.parent&&this.parent.isTreeAnimating||this.currentAnimation||this.pendingAnimation),this.isTreeAnimating||(this.targetDelta=this.relativeTarget=void 0),!this.layout||!(u||c))return;hs(this.layoutCorrected,this.layout.layoutBox);const d=this.treeScale.x,g=this.treeScale.y;EO(this.layoutCorrected,this.treeScale,this.path,a),o.layout&&!o.target&&(this.treeScale.x!==1||this.treeScale.y!==1)&&(o.target=o.layout.layoutBox,o.targetWithTransforms=nr());const{target:m}=o;if(!m){this.prevProjectionDelta&&(this.createProjectionDeltas(),this.scheduleRender());return}!this.projectionDelta||!this.prevProjectionDelta?this.createProjectionDeltas():(Sb(this.prevProjectionDelta.x,this.projectionDelta.x),Sb(this.prevProjectionDelta.y,this.projectionDelta.y)),Kh(this.projectionDelta,this.layoutCorrected,m,this.latestValues),(this.treeScale.x!==d||this.treeScale.y!==g||!Ib(this.projectionDelta.x,this.prevProjectionDelta.x)||!Ib(this.projectionDelta.y,this.prevProjectionDelta.y))&&(this.hasProjected=!0,this.scheduleRender(),this.notifyListeners("projectionUpdate",m))}hide(){this.isVisible=!1}show(){this.isVisible=!0}scheduleRender(o=!0){var a;if((a=this.options.visualElement)==null||a.scheduleRender(),o){const l=this.getStack();l&&l.scheduleRender()}this.resumingFrom&&!this.resumingFrom.instance&&(this.resumingFrom=void 0)}createProjectionDeltas(){this.prevProjectionDelta=Qu(),this.projectionDelta=Qu(),this.projectionDeltaWithTransform=Qu()}setAnimationOrigin(o,a=!1){const l=this.snapshot,u=l?l.latestValues:{},c={...this.latestValues},d=Qu();(!this.relativeParent||!this.relativeParent.options.layoutRoot)&&(this.relativeTarget=this.relativeTargetOrigin=void 0),this.attemptToResolveRelativeTarget=!a;const g=nr(),m=l?l.source:void 0,b=this.layout?this.layout.source:void 0,x=m!==b,A=this.getStack(),v=!A||A.members.length<=1,_=!!(x&&!v&&this.options.crossfade===!0&&!this.path.some(xV));this.animationProgress=0;let E;this.mixTargetDelta=L=>{const z=L/1e3;jb(d.x,o.x,z),jb(d.y,o.y,z),this.setTargetDelta(d),this.relativeTarget&&this.relativeTargetOrigin&&this.layout&&this.relativeParent&&this.relativeParent.layout&&(Qh(g,this.layout.layoutBox,this.relativeParent.layout.layoutBox),wV(this.relativeTarget,this.relativeTargetOrigin,g,z),E&&nV(this.relativeTarget,E)&&(this.isProjectionDirty=!1),E||(E=nr()),hs(E,this.relativeTarget)),x&&(this.animationValues=c,YO(c,u,this.latestValues,z,_,v)),this.root.scheduleUpdateProjection(),this.scheduleRender(),this.animationProgress=z},this.mixTargetDelta(this.options.layoutRoot?1e3:0)}startAnimation(o){var a,l,u;this.notifyListeners("animationStart"),(a=this.currentAnimation)==null||a.stop(),(u=(l=this.resumingFrom)==null?void 0:l.currentAnimation)==null||u.stop(),this.pendingAnimation&&(ol(this.pendingAnimation),this.pendingAnimation=void 0),this.pendingAnimation=Fn.update(()=>{Cp.hasAnimatedSinceResize=!0,this.motionValue||(this.motionValue=Cc(0)),this.currentAnimation=HO(this.motionValue,[0,1e3],{...o,velocity:0,isSync:!0,onUpdate:c=>{this.mixTargetDelta(c),o.onUpdate&&o.onUpdate(c)},onStop:()=>{},onComplete:()=>{o.onComplete&&o.onComplete(),this.completeAnimation()}}),this.resumingFrom&&(this.resumingFrom.currentAnimation=this.currentAnimation),this.pendingAnimation=void 0})}completeAnimation(){this.resumingFrom&&(this.resumingFrom.currentAnimation=void 0,this.resumingFrom.preserveOpacity=void 0);const o=this.getStack();o&&o.exitAnimationComplete(),this.resumingFrom=this.currentAnimation=this.animationValues=void 0,this.notifyListeners("animationComplete")}finishAnimation(){this.currentAnimation&&(this.mixTargetDelta&&this.mixTargetDelta(oV),this.currentAnimation.stop()),this.completeAnimation()}applyTransformsToTarget(){const o=this.getLead();let{targetWithTransforms:a,target:l,layout:u,latestValues:c}=o;if(!(!a||!l||!u)){if(this!==o&&this.layout&&u&&sE(this.options.animationType,this.layout.layoutBox,u.layoutBox)){l=this.target||nr();const d=fi(this.layout.layoutBox.x);l.x.min=o.target.x.min,l.x.max=l.x.min+d;const g=fi(this.layout.layoutBox.y);l.y.min=o.target.y.min,l.y.max=l.y.min+g}hs(a,l),Xu(a,c),Kh(this.projectionDeltaWithTransform,this.layoutCorrected,a,c)}}registerSharedNode(o,a){this.sharedNodes.has(o)||this.sharedNodes.set(o,new rV),this.sharedNodes.get(o).add(a);const u=a.options.initialPromotionConfig;a.promote({transition:u?u.transition:void 0,preserveFollowOpacity:u&&u.shouldPreserveFollowOpacity?u.shouldPreserveFollowOpacity(a):void 0})}isLead(){const o=this.getStack();return o?o.lead===this:!0}getLead(){var a;const{layoutId:o}=this.options;return o?((a=this.getStack())==null?void 0:a.lead)||this:this}getPrevLead(){var a;const{layoutId:o}=this.options;return o?(a=this.getStack())==null?void 0:a.prevLead:void 0}getStack(){const{layoutId:o}=this.options;if(o)return this.root.sharedNodes.get(o)}promote({needsReset:o,transition:a,preserveFollowOpacity:l}={}){const u=this.getStack();u&&u.promote(this,l),o&&(this.projectionDelta=void 0,this.needsReset=!0),a&&this.setOptions({transition:a})}relegate(){const o=this.getStack();return o?o.relegate(this):!1}resetSkewAndRotation(){const{visualElement:o}=this.options;if(!o)return;let a=!1;const{latestValues:l}=o;if((l.z||l.rotate||l.rotateX||l.rotateY||l.rotateZ||l.skewX||l.skewY)&&(a=!0),!a)return;const u={};l.z&&Cg("z",o,u,this.animationValues);for(let c=0;c<Tg.length;c++)Cg(`rotate${Tg[c]}`,o,u,this.animationValues),Cg(`skew${Tg[c]}`,o,u,this.animationValues);o.render();for(const c in u)o.setStaticValue(c,u[c]),this.animationValues&&(this.animationValues[c]=u[c]);o.scheduleRender()}getProjectionStyles(o){if(!this.instance||this.isSVG)return;if(!this.isVisible)return sV;const a={visibility:""},l=this.getTransformTemplate();if(this.needsReset)return this.needsReset=!1,a.opacity="",a.pointerEvents=Tp(o==null?void 0:o.pointerEvents)||"",a.transform=l?l(this.latestValues,""):"none",a;const u=this.getLead();if(!this.projectionDelta||!this.layout||!u.target){const m={};return this.options.layoutId&&(m.opacity=this.latestValues.opacity!==void 0?this.latestValues.opacity:1,m.pointerEvents=Tp(o==null?void 0:o.pointerEvents)||""),this.hasProjected&&!Vl(this.latestValues)&&(m.transform=l?l({},""):"none",this.hasProjected=!1),m}const c=u.animationValues||u.latestValues;this.applyTransformsToTarget(),a.transform=iV(this.projectionDeltaWithTransform,this.treeScale,c),l&&(a.transform=l(c,a.transform));const{x:d,y:g}=this.projectionDelta;a.transformOrigin=`${d.origin*100}% ${g.origin*100}% 0`,u.animationValues?a.opacity=u===this?c.opacity??this.latestValues.opacity??1:this.preserveOpacity?this.latestValues.opacity:c.opacityExit:a.opacity=u===this?c.opacity!==void 0?c.opacity:"":c.opacityExit!==void 0?c.opacityExit:0;for(const m in Rf){if(c[m]===void 0)continue;const{correct:b,applyTo:x,isCSSVariable:A}=Rf[m],v=a.transform==="none"?c[m]:b(c[m],u);if(x){const _=x.length;for(let E=0;E<_;E++)a[x[E]]=v}else A?this.options.visualElement.renderState.vars[m]=v:a[m]=v}return this.options.layoutId&&(a.pointerEvents=u===this?Tp(o==null?void 0:o.pointerEvents)||"":"none"),a}clearSnapshot(){this.resumeFrom=this.snapshot=void 0}resetTree(){this.root.nodes.forEach(o=>{var a;return(a=o.currentAnimation)==null?void 0:a.stop()}),this.root.nodes.forEach(Lb),this.root.sharedNodes.clear()}}}function lV(t){t.updateLayout()}function uV(t){var n;const e=((n=t.resumeFrom)==null?void 0:n.snapshot)||t.snapshot;if(t.isLead()&&t.layout&&e&&t.hasListeners("didUpdate")){const{layoutBox:r,measuredBox:i}=t.layout,{animationType:s}=t.options,o=e.source!==t.layout.source;s==="size"?fs(d=>{const g=o?e.measuredBox[d]:e.layoutBox[d],m=fi(g);g.min=r[d].min,g.max=g.min+m}):sE(s,e.layoutBox,r)&&fs(d=>{const g=o?e.measuredBox[d]:e.layoutBox[d],m=fi(r[d]);g.max=g.min+m,t.relativeTarget&&!t.currentAnimation&&(t.isProjectionDirty=!0,t.relativeTarget[d].max=t.relativeTarget[d].min+m)});const a=Qu();Kh(a,r,e.layoutBox);const l=Qu();o?Kh(l,t.applyTransform(i,!0),e.measuredBox):Kh(l,r,e.layoutBox);const u=!tE(a);let c=!1;if(!t.resumeFrom){const d=t.getClosestProjectingParent();if(d&&!d.resumeFrom){const{snapshot:g,layout:m}=d;if(g&&m){const b=nr();Qh(b,e.layoutBox,g.layoutBox);const x=nr();Qh(x,r,m.layoutBox),nE(b,x)||(c=!0),d.options.layoutRoot&&(t.relativeTarget=x,t.relativeTargetOrigin=b,t.relativeParent=d)}}}t.notifyListeners("didUpdate",{layout:r,snapshot:e,delta:l,layoutDelta:a,hasLayoutChanged:u,hasRelativeLayoutChanged:c})}else if(t.isLead()){const{onExitComplete:r}=t.options;r&&r()}t.options.transition=void 0}function cV(t){t.parent&&(t.isProjecting()||(t.isProjectionDirty=t.parent.isProjectionDirty),t.isSharedProjectionDirty||(t.isSharedProjectionDirty=!!(t.isProjectionDirty||t.parent.isProjectionDirty||t.parent.isSharedProjectionDirty)),t.isTransformDirty||(t.isTransformDirty=t.parent.isTransformDirty))}function hV(t){t.isProjectionDirty=t.isSharedProjectionDirty=t.isTransformDirty=!1}function fV(t){t.clearSnapshot()}function Lb(t){t.clearMeasurements()}function dV(t){t.isLayoutDirty=!1}function pV(t){const{visualElement:e}=t.options;e&&e.getProps().onBeforeLayoutMeasure&&e.notify("BeforeLayoutMeasure"),t.resetTransform()}function Rb(t){t.finishAnimation(),t.targetDelta=t.relativeTarget=t.target=void 0,t.isProjectionDirty=!0}function mV(t){t.resolveTargetDelta()}function gV(t){t.calcProjection()}function yV(t){t.resetSkewAndRotation()}function vV(t){t.removeLeadSnapshot()}function jb(t,e,n){t.translate=Dn(e.translate,0,n),t.scale=Dn(e.scale,1,n),t.origin=e.origin,t.originPoint=e.originPoint}function Db(t,e,n,r){t.min=Dn(e.min,n.min,r),t.max=Dn(e.max,n.max,r)}function wV(t,e,n,r){Db(t.x,e.x,n.x,r),Db(t.y,e.y,n.y,r)}function xV(t){return t.animationValues&&t.animationValues.opacityExit!==void 0}const bV={duration:.45,ease:[.4,0,.1,1]},Mb=t=>typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().includes(t),Fb=Mb("applewebkit/")&&!Mb("chrome/")?Math.round:ys;function Ob(t){t.min=Fb(t.min),t.max=Fb(t.max)}function _V(t){Ob(t.x),Ob(t.y)}function sE(t,e,n){return t==="position"||t==="preserve-aspect"&&!AO(kb(e),kb(n),.2)}function SV(t){var e;return t!==t.root&&((e=t.scroll)==null?void 0:e.wasRoot)}const AV=iE({attachResizeListener:(t,e)=>Df(t,"resize",e),measureScroll:()=>({x:document.documentElement.scrollLeft||document.body.scrollLeft,y:document.documentElement.scrollTop||document.body.scrollTop}),checkIsScrollRoot:()=>!0}),Pg={current:void 0},oE=iE({measureScroll:t=>({x:t.scrollLeft,y:t.scrollTop}),defaultParent:()=>{if(!Pg.current){const t=new AV({});t.mount(window),t.setOptions({layoutScroll:!0}),Pg.current=t}return Pg.current},resetTransform:(t,e)=>{t.style.transform=e!==void 0?e:"none"},checkIsScrollRoot:t=>window.getComputedStyle(t).position==="fixed"}),NV={pan:{Feature:UO},drag:{Feature:BO,ProjectionNode:oE,MeasureLayout:JN}};function Vb(t,e,n){const{props:r}=t;t.animationState&&r.whileHover&&t.animationState.setActive("whileHover",n==="Start");const i="onHover"+n,s=r[i];s&&Fn.postRender(()=>s(e,ld(e)))}class EV extends ml{mount(){const{current:e}=this.node;e&&(this.unmount=nF(e,(n,r)=>(Vb(this.node,r,"Start"),i=>Vb(this.node,i,"End"))))}unmount(){}}class TV extends ml{constructor(){super(...arguments),this.isActive=!1}onFocus(){let e=!1;try{e=this.node.current.matches(":focus-visible")}catch{e=!0}!e||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!0),this.isActive=!0)}onBlur(){!this.isActive||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!1),this.isActive=!1)}mount(){this.unmount=sd(Df(this.node.current,"focus",()=>this.onFocus()),Df(this.node.current,"blur",()=>this.onBlur()))}unmount(){}}function Bb(t,e,n){const{props:r}=t;if(t.current instanceof HTMLButtonElement&&t.current.disabled)return;t.animationState&&r.whileTap&&t.animationState.setActive("whileTap",n==="Start");const i="onTap"+(n==="End"?"":n),s=r[i];s&&Fn.postRender(()=>s(e,ld(e)))}class CV extends ml{mount(){const{current:e}=this.node;e&&(this.unmount=oF(e,(n,r)=>(Bb(this.node,r,"Start"),(i,{success:s})=>Bb(this.node,i,s?"End":"Cancel")),{useGlobalTarget:this.node.props.globalTapTarget}))}unmount(){}}const q2=new WeakMap,kg=new WeakMap,PV=t=>{const e=q2.get(t.target);e&&e(t)},kV=t=>{t.forEach(PV)};function IV({root:t,...e}){const n=t||document;kg.has(n)||kg.set(n,{});const r=kg.get(n),i=JSON.stringify(e);return r[i]||(r[i]=new IntersectionObserver(kV,{root:t,...e})),r[i]}function LV(t,e,n){const r=IV(e);return q2.set(t,n),r.observe(t),()=>{q2.delete(t),r.unobserve(t)}}const RV={some:0,all:1};class jV extends ml{constructor(){super(...arguments),this.hasEnteredView=!1,this.isInView=!1}startObserver(){this.unmount();const{viewport:e={}}=this.node.getProps(),{root:n,margin:r,amount:i="some",once:s}=e,o={root:n?n.current:void 0,rootMargin:r,threshold:typeof i=="number"?i:RV[i]},a=l=>{const{isIntersecting:u}=l;if(this.isInView===u||(this.isInView=u,s&&!u&&this.hasEnteredView))return;u&&(this.hasEnteredView=!0),this.node.animationState&&this.node.animationState.setActive("whileInView",u);const{onViewportEnter:c,onViewportLeave:d}=this.node.getProps(),g=u?c:d;g&&g(l)};return LV(this.node.current,o,a)}mount(){this.startObserver()}update(){if(typeof IntersectionObserver>"u")return;const{props:e,prevProps:n}=this.node;["amount","margin","root"].some(DV(e,n))&&this.startObserver()}unmount(){}}function DV({viewport:t={}},{viewport:e={}}={}){return n=>t[n]!==e[n]}const MV={inView:{Feature:jV},tap:{Feature:CV},focus:{Feature:TV},hover:{Feature:EV}},FV={layout:{ProjectionNode:oE,MeasureLayout:JN}},$2={current:null},aE={current:!1};function OV(){if(aE.current=!0,!!Gv)if(window.matchMedia){const t=window.matchMedia("(prefers-reduced-motion)"),e=()=>$2.current=t.matches;t.addListener(e),e()}else $2.current=!1}const VV=new WeakMap;function BV(t,e,n){for(const r in e){const i=e[r],s=n[r];if(ni(i))t.addValue(r,i);else if(ni(s))t.addValue(r,Cc(i,{owner:t}));else if(s!==i)if(t.hasValue(r)){const o=t.getValue(r);o.liveStyle===!0?o.jump(i):o.hasAnimated||o.set(i)}else{const o=t.getStaticValue(r);t.addValue(r,Cc(o!==void 0?o:i,{owner:t}))}}for(const r in n)e[r]===void 0&&t.removeValue(r);return e}const Ub=["AnimationStart","AnimationComplete","Update","BeforeLayoutMeasure","LayoutMeasure","LayoutAnimationStart","LayoutAnimationComplete"];class UV{scrapeMotionValuesFromProps(e,n,r){return{}}constructor({parent:e,props:n,presenceContext:r,reducedMotionConfig:i,blockInitialAnimation:s,visualState:o},a={}){this.current=null,this.children=new Set,this.isVariantNode=!1,this.isControllingVariants=!1,this.shouldReduceMotion=null,this.values=new Map,this.KeyframeResolver=h5,this.features={},this.valueSubscriptions=new Map,this.prevMotionValues={},this.events={},this.propEventSubscriptions={},this.notifyUpdate=()=>this.notify("Update",this.latestValues),this.render=()=>{this.current&&(this.triggerBuild(),this.renderInstance(this.current,this.renderState,this.props.style,this.projection))},this.renderScheduledAt=0,this.scheduleRender=()=>{const g=Pi.now();this.renderScheduledAt<g&&(this.renderScheduledAt=g,Fn.render(this.render,!1,!0))};const{latestValues:l,renderState:u}=o;this.latestValues=l,this.baseTarget={...l},this.initialValues=n.initial?{...l}:{},this.renderState=u,this.parent=e,this.props=n,this.presenceContext=r,this.depth=e?e.depth+1:0,this.reducedMotionConfig=i,this.options=a,this.blockInitialAnimation=!!s,this.isControllingVariants=g0(n),this.isVariantNode=CN(n),this.isVariantNode&&(this.variantChildren=new Set),this.manuallyAnimateOnMount=!!(e&&e.current);const{willChange:c,...d}=this.scrapeMotionValuesFromProps(n,{},this);for(const g in d){const m=d[g];l[g]!==void 0&&ni(m)&&m.set(l[g],!1)}}mount(e){this.current=e,VV.set(e,this),this.projection&&!this.projection.instance&&this.projection.mount(e),this.parent&&this.isVariantNode&&!this.isControllingVariants&&(this.removeFromVariantTree=this.parent.addVariantChild(this)),this.values.forEach((n,r)=>this.bindToMotionValue(r,n)),aE.current||OV(),this.shouldReduceMotion=this.reducedMotionConfig==="never"?!1:this.reducedMotionConfig==="always"?!0:$2.current,this.parent&&this.parent.children.add(this),this.update(this.props,this.presenceContext)}unmount(){this.projection&&this.projection.unmount(),ol(this.notifyUpdate),ol(this.render),this.valueSubscriptions.forEach(e=>e()),this.valueSubscriptions.clear(),this.removeFromVariantTree&&this.removeFromVariantTree(),this.parent&&this.parent.children.delete(this);for(const e in this.events)this.events[e].clear();for(const e in this.features){const n=this.features[e];n&&(n.unmount(),n.isMounted=!1)}this.current=null}bindToMotionValue(e,n){this.valueSubscriptions.has(e)&&this.valueSubscriptions.get(e)();const r=Uc.has(e);r&&this.onBindTransform&&this.onBindTransform();const i=n.on("change",a=>{this.latestValues[e]=a,this.props.onUpdate&&Fn.preRender(this.notifyUpdate),r&&this.projection&&(this.projection.isTransformDirty=!0)}),s=n.on("renderRequest",this.scheduleRender);let o;window.MotionCheckAppearSync&&(o=window.MotionCheckAppearSync(this,e,n)),this.valueSubscriptions.set(e,()=>{i(),s(),o&&o(),n.owner&&n.stop()})}sortNodePosition(e){return!this.current||!this.sortInstanceNodePosition||this.type!==e.type?0:this.sortInstanceNodePosition(this.current,e.current)}updateFeatures(){let e="animation";for(e in Pc){const n=Pc[e];if(!n)continue;const{isEnabled:r,Feature:i}=n;if(!this.features[e]&&i&&r(this.props)&&(this.features[e]=new i(this)),this.features[e]){const s=this.features[e];s.isMounted?s.update():(s.mount(),s.isMounted=!0)}}}triggerBuild(){this.build(this.renderState,this.latestValues,this.props)}measureViewportBox(){return this.current?this.measureInstanceViewportBox(this.current,this.props):nr()}getStaticValue(e){return this.latestValues[e]}setStaticValue(e,n){this.latestValues[e]=n}update(e,n){(e.transformTemplate||this.props.transformTemplate)&&this.scheduleRender(),this.prevProps=this.props,this.props=e,this.prevPresenceContext=this.presenceContext,this.presenceContext=n;for(let r=0;r<Ub.length;r++){const i=Ub[r];this.propEventSubscriptions[i]&&(this.propEventSubscriptions[i](),delete this.propEventSubscriptions[i]);const s="on"+i,o=e[s];o&&(this.propEventSubscriptions[i]=this.on(i,o))}this.prevMotionValues=BV(this,this.scrapeMotionValuesFromProps(e,this.prevProps,this),this.prevMotionValues),this.handleChildMotionValue&&this.handleChildMotionValue()}getProps(){return this.props}getVariant(e){return this.props.variants?this.props.variants[e]:void 0}getDefaultTransition(){return this.props.transition}getTransformPagePoint(){return this.props.transformPagePoint}getClosestVariantNode(){return this.isVariantNode?this:this.parent?this.parent.getClosestVariantNode():void 0}addVariantChild(e){const n=this.getClosestVariantNode();if(n)return n.variantChildren&&n.variantChildren.add(e),()=>n.variantChildren.delete(e)}addValue(e,n){const r=this.values.get(e);n!==r&&(r&&this.removeValue(e),this.bindToMotionValue(e,n),this.values.set(e,n),this.latestValues[e]=n.get())}removeValue(e){this.values.delete(e);const n=this.valueSubscriptions.get(e);n&&(n(),this.valueSubscriptions.delete(e)),delete this.latestValues[e],this.removeValueFromRenderState(e,this.renderState)}hasValue(e){return this.values.has(e)}getValue(e,n){if(this.props.values&&this.props.values[e])return this.props.values[e];let r=this.values.get(e);return r===void 0&&n!==void 0&&(r=Cc(n===null?void 0:n,{owner:this}),this.addValue(e,r)),r}readValue(e,n){let r=this.latestValues[e]!==void 0||!this.current?this.latestValues[e]:this.getBaseTargetFromProps(this.props,e)??this.readValueFromInstance(this.current,e,this.options);return r!=null&&(typeof r=="string"&&(DA(r)||FA(r))?r=parseFloat(r):!uF(r)&&al.test(n)&&(r=wN(e,n)),this.setBaseTarget(e,ni(r)?r.get():r)),ni(r)?r.get():r}setBaseTarget(e,n){this.baseTarget[e]=n}getBaseTarget(e){var s;const{initial:n}=this.props;let r;if(typeof n=="string"||typeof n=="object"){const o=_5(this.props,n,(s=this.presenceContext)==null?void 0:s.custom);o&&(r=o[e])}if(n&&r!==void 0)return r;const i=this.getBaseTargetFromProps(this.props,e);return i!==void 0&&!ni(i)?i:this.initialValues[e]!==void 0&&r===void 0?void 0:this.baseTarget[e]}on(e,n){return this.events[e]||(this.events[e]=new Zv),this.events[e].add(n)}notify(e,...n){this.events[e]&&this.events[e].notify(...n)}}class lE extends UV{constructor(){super(...arguments),this.KeyframeResolver=XM}sortInstanceNodePosition(e,n){return e.compareDocumentPosition(n)&2?1:-1}getBaseTargetFromProps(e,n){return e.style?e.style[n]:void 0}removeValueFromRenderState(e,{vars:n,style:r}){delete n[e],delete r[e]}handleChildMotionValue(){this.childSubscription&&(this.childSubscription(),delete this.childSubscription);const{children:e}=this.props;ni(e)&&(this.childSubscription=e.on("change",n=>{this.current&&(this.current.textContent=`${n}`)}))}}function uE(t,{style:e,vars:n},r,i){Object.assign(t.style,e,i&&i.getProjectionStyles(r));for(const s in n)t.style.setProperty(s,n[s])}function zV(t){return window.getComputedStyle(t)}class qV extends lE{constructor(){super(...arguments),this.type="html",this.renderInstance=uE}readValueFromInstance(e,n){var r;if(Uc.has(n))return(r=this.projection)!=null&&r.isProjecting?I2(n):gM(e,n);{const i=zV(e),s=(n5(n)?i.getPropertyValue(n):i[n])||0;return typeof s=="string"?s.trim():s}}measureInstanceViewportBox(e,{transformPagePoint:n}){return KN(e,n)}build(e,n,r){w5(e,n,r.transformTemplate)}scrapeMotionValuesFromProps(e,n,r){return S5(e,n,r)}}const cE=new Set(["baseFrequency","diffuseConstant","kernelMatrix","kernelUnitLength","keySplines","keyTimes","limitingConeAngle","markerHeight","markerWidth","numOctaves","targetX","targetY","surfaceScale","specularConstant","specularExponent","stdDeviation","tableValues","viewBox","gradientTransform","pathLength","startOffset","textLength","lengthAdjust"]);function $V(t,e,n,r){uE(t,e,void 0,r);for(const i in e.attrs)t.setAttribute(cE.has(i)?i:v5(i),e.attrs[i])}class HV extends lE{constructor(){super(...arguments),this.type="svg",this.isSVGTag=!1,this.measureInstanceViewportBox=nr}getBaseTargetFromProps(e,n){return e[n]}readValueFromInstance(e,n){if(Uc.has(n)){const r=vN(n);return r&&r.default||0}return n=cE.has(n)?n:v5(n),e.getAttribute(n)}scrapeMotionValuesFromProps(e,n,r){return ON(e,n,r)}build(e,n,r){jN(e,n,this.isSVGTag,r.transformTemplate,r.style)}renderInstance(e,n,r,i){$V(e,n,r,i)}mount(e){this.isSVGTag=MN(e.tagName),super.mount(e)}}const WV=(t,e)=>b5(t)?new HV(e):new qV(e,{allowProjection:t!==G.Fragment}),GV=$F({...gO,...MV,...NV,...FV},WV),zb=mF(GV),KV=300,qb=({table:t,isSelected:e,isAddButton:n,onClick:r,onDoubleClick:i,onEnterSelectionMode:s,onDelete:o,isSelectionMode:a})=>{const l=G.useRef(null),u=G.useRef(0),[c,d]=G.useState(!1),g=G.useRef(null);G.useEffect(()=>{const v=_=>{g.current&&!g.current.contains(_.target)&&d(!1)};return document.addEventListener("mousedown",v),()=>{document.removeEventListener("mousedown",v)}},[]),G.useEffect(()=>{const v=l.current;if(!v)return;const _=E=>{var Y;const L=Date.now(),z=L-(u.current||0);if(z>0&&z<=KV){E.preventDefault(),(Y=E.stopPropagation)==null||Y.call(E),i==null||i(),u.current=0;return}u.current=L};return v.addEventListener("touchend",_,{passive:!1}),()=>{v.removeEventListener("touchend",_)}},[i]);const m=v=>{v.stopPropagation(),d(_=>!_)},b=v=>{v.stopPropagation(),s==null||s(),d(!1)},x=v=>{v.stopPropagation(),o==null||o(),d(!1)};if(n)return p.jsx(zb.button,{onClick:r,whileHover:{scale:1.03},whileTap:{scale:.97},className:"h-40 rounded-2xl border-2 border-dashed border-gray-300 flex items-center justify-center transition hover:border-blue-500 hover:text-blue-600 bg-white shadow-sm focus:outline-none focus:ring-2 focus:ring-blue-500","aria-label":"Add Table",children:p.jsx("span",{className:"text-gray-500 font-medium text-lg",children:"+ Add Table"})});const A=(t==null?void 0:t.status)==="occupied";return p.jsxs(zb.div,{ref:l,role:"button",tabIndex:0,whileHover:{scale:1.02},whileTap:{scale:.98},onClick:r,onDoubleClick:()=>i==null?void 0:i(),onKeyDown:v=>{v.key==="Enter"&&(i==null||i())},className:`relative h-40 rounded-2xl shadow-md hover:shadow-lg transition cursor-pointer flex flex-col items-center justify-center border p-4
        ${e?"border-blue-600 border-2 ring-2 ring-blue-300 bg-blue-50":A?"bg-green-100 border-green-400 text-green-900":"bg-white border-gray-200 text-gray-800"}`,"aria-pressed":e||A,children:[e&&p.jsx("div",{className:"absolute top-2 right-2 bg-blue-600 text-white rounded-full h-6 w-6 flex items-center justify-center z-20",children:p.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-4 w-4",viewBox:"0 0 20 20",fill:"currentColor",children:p.jsx("path",{fillRule:"evenodd",d:"M16.707 5.293a1 1 0 010 1.414l-8 8a1 1 0 01-1.414 0l-4-4a1 1 0 011.414-1.414L8 12.586l7.293-7.293a1 1 0 011.414 0z",clipRule:"evenodd"})})}),(o||s)&&!e&&p.jsxs("div",{ref:g,className:"absolute top-1 right-1 z-10",children:[p.jsx("button",{onClick:m,className:"p-2 rounded-full hover:bg-black/10 transition-colors","aria-label":"Table options",children:p.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-5 w-5",viewBox:"0 0 20 20",fill:"currentColor",children:p.jsx("path",{d:"M10 6a2 2 0 110-4 2 2 0 010 4zM10 12a2 2 0 110-4 2 2 0 010 4zM10 18a2 2 0 110-4 2 2 0 010 4z"})})}),c&&p.jsx("div",{className:"absolute right-0 mt-2 w-40 bg-white rounded-md shadow-lg ring-1 ring-black ring-opacity-5",children:p.jsxs("div",{className:"py-1",children:[!a&&s&&p.jsxs("button",{onClick:b,className:"w-full text-left px-4 py-2 text-sm text-gray-700 hover:bg-gray-100 flex items-center gap-2",children:[p.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-4 w-4",viewBox:"0 0 20 20",fill:"currentColor",children:p.jsx("path",{fillRule:"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zm3.707-10.707a1 1 0 00-1.414-1.414L9 9.586 7.707 8.293a1 1 0 00-1.414 1.414l2 2a1 1 0 001.414 0l4-4z",clipRule:"evenodd"})}),"Select"]}),o&&p.jsxs("button",{onClick:x,className:"w-full text-left px-4 py-2 text-sm text-red-700 hover:bg-red-50 hover:text-red-800 flex items-center gap-2",children:[p.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-4 w-4",viewBox:"0 0 20 20",fill:"currentColor",children:p.jsx("path",{fillRule:"evenodd",d:"M9 2a1 1 0 00-.894.553L7.382 4H4a1 1 0 000 2v10a2 2 0 002 2h8a2 2 0 002-2V6a1 1 0 100-2h-3.382l-.724-1.447A1 1 0 0011 2H9zM7 8a1 1 0 012 0v6a1 1 0 11-2 0V8zm4 0a1 1 0 012 0v6a1 1 0 11-2 0V8z",clipRule:"evenodd"})}),"Delete Table"]})]})})]}),(t==null?void 0:t.status)&&p.jsx("div",{className:`absolute top-2 left-2 h-3 w-3 rounded-full ${t.status==="available"?"bg-green-500":t.status==="occupied"?"bg-red-500":"bg-yellow-400"}`,title:t.status}),p.jsx("span",{className:"text-xl font-semibold",children:(t==null?void 0:t.name)??"Table"}),(t==null?void 0:t.status)&&p.jsx("span",{className:"text-sm mt-1 capitalize",children:t.status})]})},QV=()=>{const[t,e]=G.useState([]),[n,r]=G.useState(!1),[i,s]=G.useState(!0),[o,a]=G.useState(!1),l=qS(),[u,c]=G.useState(!1),[d,g]=G.useState(new Set),[m,b]=G.useState("single"),[x,A]=G.useState(""),[v,_]=G.useState(""),[E,L]=G.useState("T");G.useEffect(()=>{s(!0);const H=IA(ne=>{e(ne||[]),s(!1)},ne=>{console.error("Error fetching tables in real-time:",ne),s(!1)});return()=>H()},[]);const z=H=>{u||!H||l(`/order?tableId=${encodeURIComponent(H)}`)},Y=()=>{r(!1),b("single"),A(""),_(""),L("T")},R=H=>{c(!0),g(ne=>new Set(ne).add(H))},C=H=>{u&&g(ne=>{const ue=new Set(ne);return ue.has(H)?ue.delete(H):ue.add(H),ue.size===0&&c(!1),ue})},k=()=>{g(new Set),c(!1)},M=async()=>{if(d.size===0)return;if(window.confirm(`Are you sure you want to delete ${d.size} selected table(s)? This action cannot be undone.`))try{await nD(Array.from(d)),k()}catch(ne){console.error("Error deleting selected tables:",ne),alert("Failed to delete the selected tables. Please try again.")}},T=async()=>{const H=x.trim();if(H){if(t.some(ne=>ne.name.toLowerCase()===H.toLowerCase())){alert(`A table with the name "${H}" already exists.`);return}a(!0);try{await Z9(H),Y()}catch(ne){console.error("Error adding table:",ne),alert("Failed to add table.")}finally{a(!1)}}},I=async()=>{const H=v.trim();if(!H)return;let ne=[];const ue=H.match(/^(\d+)-(\d+)$/);if(ue){const ye=parseInt(ue[1],10),Se=parseInt(ue[2],10);if(isNaN(ye)||isNaN(Se)||ye>Se){alert("Invalid range. The start number must be less than or equal to the end number.");return}for(let V=ye;V<=Se;V++)ne.push(`${E.trim()}${V}`)}else{const ye=H.split(",").map(Se=>Se.trim()).filter(Boolean);ne.push(...ye)}if(ne.length===0){alert("No valid table names found. Please check your input.");return}const ae=new Set(t.map(ye=>ye.name.toLowerCase())),ee=[],se=[];if(ne.forEach(ye=>{ae.has(ye.toLowerCase())||ee.some(Se=>Se.toLowerCase()===ye.toLowerCase())?se.push(ye):ee.push(ye)}),ee.length===0){alert(`All proposed tables already exist or were duplicates in your input: ${se.join(", ")}.`);return}a(!0);try{await eD(ee);let ye=`Successfully added ${ee.length} new table(s).`;se.length>0&&(ye+=`
${se.length} duplicate(s) were ignored: ${se.join(", ")}.`),alert(ye),Y()}catch(ye){console.error("Error adding tables in bulk:",ye),alert("Failed to add tables in bulk. Please try again.")}finally{a(!1)}},D=async H=>{if(!H)return;if(window.confirm("Are you sure you want to delete this table? This action cannot be undone.")){d.has(H)&&g(ue=>{const ae=new Set(ue);return ae.delete(H),ae.size===0&&c(!1),ae});try{await tD(H)}catch(ue){console.error("Error deleting table:",ue),alert("Failed to delete table. Please try again.")}}};return p.jsxs("div",{className:"min-h-screen bg-gray-100 px-4 py-8 md:px-8",children:[p.jsxs("div",{className:"max-w-6xl mx-auto",children:[p.jsxs("header",{className:"mb-8",children:[p.jsx("h1",{className:"text-4xl font-semibold text-gray-900",children:"Tables"}),p.jsx("p",{className:"text-gray-600 mt-2",children:u?`${d.size} table(s) selected`:"Manage all your restaurant tables from here."})]}),i?p.jsx("div",{className:"text-gray-500 mb-6",children:"Loading tables..."}):null,p.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 md:grid-cols-3 xl:grid-cols-4 gap-6",children:[[...t].sort((H,ne)=>{const ue=parseInt(H.name.replace(/\D/g,""),10)||1/0,ae=parseInt(ne.name.replace(/\D/g,""),10)||1/0;return ue!==ae?ue-ae:H.name.localeCompare(ne.name)}).map(H=>{const ne=H.id??H.name;return p.jsx(qb,{table:H,isSelected:d.has(ne),isSelectionMode:u,onClick:()=>C(ne),onDoubleClick:()=>z(ne),onEnterSelectionMode:()=>R(ne),onDelete:()=>D(ne)},ne)}),p.jsx(qb,{isAddButton:!0,onClick:()=>r(!0)})]})]}),u&&p.jsxs("div",{className:"fixed bottom-6 right-6 z-50 flex items-center gap-3 bg-white p-3 rounded-2xl shadow-lg border animate-fade-in-up",children:[p.jsxs("button",{onClick:M,className:"px-4 py-2 rounded-lg bg-red-600 text-white hover:bg-red-700 transition flex items-center gap-2 disabled:bg-red-300",disabled:d.size===0,children:[p.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-5 w-5",viewBox:"0 0 20 20",fill:"currentColor",children:p.jsx("path",{fillRule:"evenodd",d:"M9 2a1 1 0 00-.894.553L7.382 4H4a1 1 0 000 2v10a2 2 0 002 2h8a2 2 0 002-2V6a1 1 0 100-2h-3.382l-.724-1.447A1 1 0 0011 2H9zM7 8a1 1 0 012 0v6a1 1 0 11-2 0V8zm4 0a1 1 0 012 0v6a1 1 0 11-2 0V8z",clipRule:"evenodd"})}),"Delete"]}),p.jsx("button",{onClick:k,className:"p-2 rounded-full text-gray-600 hover:bg-gray-200 transition","aria-label":"Cancel selection",children:p.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-6 w-6",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",strokeWidth:2,children:p.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M6 18L18 6M6 6l12 12"})})})]}),p.jsx(Ua,{isOpen:n,onClose:Y,children:p.jsxs("div",{className:"p-4",children:[p.jsx("h2",{className:"text-xl font-semibold text-gray-800 mb-4",children:"Add Table(s)"}),p.jsxs("div",{className:"flex border-b mb-4",children:[p.jsx("button",{onClick:()=>b("single"),className:`px-4 py-2 text-sm font-medium ${m==="single"?"border-b-2 border-blue-600 text-blue-600":"text-gray-500 hover:text-gray-700"}`,children:"Single"}),p.jsx("button",{onClick:()=>b("bulk"),className:`px-4 py-2 text-sm font-medium ${m==="bulk"?"border-b-2 border-blue-600 text-blue-600":"text-gray-500 hover:text-gray-700"}`,children:"Bulk"})]}),m==="single"?p.jsx("div",{children:p.jsx("input",{type:"text",value:x,onChange:H=>A(H.target.value),placeholder:"Enter table name (e.g. T1)",className:"w-full px-4 py-2 border rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 mb-4",onKeyDown:H=>H.key==="Enter"&&T()})}):p.jsxs("div",{children:[p.jsxs("p",{className:"text-sm text-gray-600 mb-2",children:["Use a range (e.g., ",p.jsx("code",{className:"bg-gray-200 px-1 rounded",children:"1-10"}),") or comma-separated names (e.g., ",p.jsx("code",{className:"bg-gray-200 px-1 rounded",children:"A1, B2, C3"}),")."]}),p.jsxs("div",{className:"flex gap-2 mb-4",children:[p.jsx("input",{type:"text",value:E,onChange:H=>L(H.target.value),placeholder:"Prefix",className:"w-1/4 px-4 py-2 border rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500",title:"Prefix for range-based creation"}),p.jsx("input",{type:"text",value:v,onChange:H=>_(H.target.value),placeholder:"e.g. 1-10 or T1, B2, C3",className:"w-3/4 px-4 py-2 border rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500",onKeyDown:H=>H.key==="Enter"&&I()})]})]}),p.jsxs("div",{className:"flex justify-end gap-2",children:[p.jsx("button",{onClick:Y,className:"px-4 py-2 rounded-lg border disabled:opacity-50",disabled:o,children:"Cancel"}),p.jsx("button",{onClick:m==="single"?T:I,className:"bg-blue-600 text-white px-5 py-2 rounded-lg hover:bg-blue-700 transition disabled:bg-blue-300 disabled:cursor-not-allowed",disabled:o,children:o?"Adding...":"Done"})]})]})})]})},Zl={Chevron:({className:t})=>p.jsx("svg",{className:t,fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:p.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M19 9l-7 7-7-7"})}),Minus:()=>p.jsx("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:p.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2.5",d:"M20 12H4"})}),Plus:()=>p.jsx("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:p.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2.5",d:"M12 4v16m8-8H4"})}),Table:()=>p.jsx("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:p.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M19 21V5a2 2 0 00-2-2H7a2 2 0 00-2 2v16m14 0h2m-2 0h-5m-9 0H3m2 0h5M9 7h1m-1 4h1m4-4h1m-1 4h1m-5 10v-5a1 1 0 011-1h2a1 1 0 011 1v5m-4 0h4"})}),User:()=>p.jsx("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:p.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M16 7a4 4 0 11-8 0 4 4 0 018 0zM12 14a7 7 0 00-7 7h14a7 7 0 00-7-7z"})}),Check:()=>p.jsx("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:p.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M5 13l4 4L19 7"})}),Alert:()=>p.jsx("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:p.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M12 9v2m0 4h.01m-6.938 4h13.856c1.54 0 2.502-1.667 1.732-3L13.732 4c-.77-1.333-2.694-1.333-3.464 0L3.34 16c-.77 1.333.192 3 1.732 3z"})})},YV=({notification:t})=>{if(!t)return null;const e={success:"bg-green-50 text-green-800 border-green-200",error:"bg-red-50 text-red-800 border-red-200",warning:"bg-yellow-50 text-yellow-800 border-yellow-200"},n=t.type==="success"?Zl.Check:Zl.Alert;return p.jsxs("div",{className:`fixed top-6 left-1/2 transform -translate-x-1/2 z-50 flex items-center gap-3 px-4 py-3 rounded-xl border shadow-lg animate-fade-in-down ${e[t.type]}`,children:[p.jsx(n,{}),p.jsx("span",{className:"font-medium text-sm",children:t.message})]})},XV=()=>p.jsx("div",{className:"space-y-3 animate-pulse",children:[1,2,3,4].map(t=>p.jsx("div",{className:"h-20 bg-gray-100 rounded-xl w-full border border-gray-200"},t))}),JV=Zt.memo(({quantity:t,onDecrease:e,onIncrease:n})=>p.jsxs("div",{className:"flex items-center bg-gray-100 rounded-full p-1 shadow-inner shrink-0",children:[p.jsx("button",{onClick:r=>{r.stopPropagation(),e()},disabled:t<=0,className:"w-8 h-8 flex items-center justify-center rounded-full bg-white text-gray-700 shadow-sm hover:bg-red-50 hover:text-red-600 disabled:opacity-50 transition-all touch-manipulation",children:p.jsx(Zl.Minus,{})}),p.jsx("span",{className:"w-8 text-center font-bold text-gray-800 text-sm leading-none",children:t}),p.jsx("button",{onClick:r=>{r.stopPropagation(),n()},className:"w-8 h-8 flex items-center justify-center rounded-full bg-blue-600 text-white shadow-md hover:bg-blue-700 active:scale-95 transition-all touch-manipulation",children:p.jsx(Zl.Plus,{})})]})),ZV=()=>{var m,b;const t=jc(),[e,n]=G.useState({tables:[],staff:[],menu:[],settings:{currencySymbol:""}}),[r,i]=G.useState({tableId:"",staffId:""}),[s,o]=G.useState({items:{},expandedId:null,loading:!1,submitting:!1}),[a,l]=G.useState({isModalOpen:!0,notification:null}),u=G.useCallback((x,A="success")=>{l(v=>({...v,notification:{message:x,type:A}})),setTimeout(()=>l(v=>({...v,notification:null})),3e3)},[]);G.useEffect(()=>{let x=!0;return(async()=>{o(v=>({...v,loading:!0}));try{const[v,_,E,L]=await Promise.all([kA(),Tf(),Wv(),sa()]);if(x){const z=(v||[]).filter(R=>R.status==="available").sort((R,C)=>R.name.localeCompare(C.name,void 0,{numeric:!0}));n({tables:z,staff:_||[],menu:E||[],settings:L||{currencySymbol:""}});const Y=new URLSearchParams(t.search);Y.get("tableId")&&(i(R=>({...R,tableId:Y.get("tableId")})),l(R=>({...R,isModalOpen:!0}))),(_==null?void 0:_.length)>0&&i(R=>({...R,staffId:_[0].id??_[0]._id}))}}catch{u("Failed to load menu data","error")}finally{x&&o(v=>({...v,loading:!1}))}})(),()=>{x=!1}},[t.search,u]);const c=G.useCallback((x,A,v)=>{o(_=>{const E={..._.items};return E[x]||(E[x]={full:0,half:0,quarter:0}),E[x][A]=Math.max(0,(E[x][A]||0)+v),!E[x].full&&!E[x].half&&!E[x].quarter&&delete E[x],{..._,items:E}})},[]),d=G.useMemo(()=>Object.entries(s.items).reduce((x,[A,v])=>{const _=e.menu.find(E=>(E.id??E._id)===A);return _?x+v.full*(_.fullPrice??_.price??0)+v.half*(_.halfPrice??0)+v.quarter*(_.quarterPrice??0):x},0),[s.items,e.menu]),g=async()=>{if(!r.tableId)return l(A=>({...A,isModalOpen:!0}));const x=[];if(Object.entries(s.items).forEach(([A,v])=>{const _=e.menu.find(E=>(E.id??E._id)===A);_&&(v.full>0&&x.push({itemId:A,quantity:v.full,portion:"full",price:_.fullPrice??_.price}),v.half>0&&x.push({itemId:A,quantity:v.half,portion:"half",price:_.halfPrice}),v.quarter>0&&x.push({itemId:A,quantity:v.quarter,portion:"quarter",price:_.quarterPrice}))}),x.length===0)return u("Please add items first","warning");o(A=>({...A,submitting:!0}));try{await aD({tableId:r.tableId,staffId:r.staffId||null,items:x,total:d,createdAt:new Date().toISOString()}),await LA(r.tableId,"occupied"),window.dispatchEvent(new CustomEvent("tablesUpdated")),u("Order submitted successfully!","success"),o(A=>({...A,items:{},expandedId:null}))}catch{u("Failed to submit order","error")}finally{o(A=>({...A,submitting:!1}))}};return p.jsxs("div",{className:"min-h-screen bg-gray-50 font-sans text-gray-900",children:[p.jsx(YV,{notification:a.notification}),p.jsxs("div",{className:"container mx-auto px-4 md:px-6 pt-24 pb-40 max-w-3xl",children:[p.jsxs("div",{className:"flex justify-between items-end mb-6",children:[p.jsxs("div",{children:[p.jsx("h1",{className:"text-2xl font-bold tracking-tight text-gray-900",children:"New Order"}),p.jsx("p",{className:"text-gray-500 text-xs mt-0.5",children:"Select items from menu"})]}),r.tableId&&p.jsxs("div",{onClick:()=>l(x=>({...x,isModalOpen:!0})),className:"flex flex-col items-end cursor-pointer bg-white px-3 py-2 rounded-xl border border-gray-200 shadow-sm active:bg-gray-50 transition-colors touch-manipulation",children:[p.jsxs("div",{className:"flex items-center gap-1.5 text-blue-600 font-bold text-sm",children:[p.jsx(Zl.Table,{}),p.jsx("span",{className:"truncate max-w-[100px]",children:((m=e.tables.find(x=>(x.id??x._id)===r.tableId))==null?void 0:m.name)||"Table ?"})]}),p.jsxs("div",{className:"flex items-center gap-1 text-gray-400 text-[10px] font-medium uppercase tracking-wide",children:[p.jsx(Zl.User,{}),p.jsx("span",{className:"truncate max-w-[80px]",children:((b=e.staff.find(x=>(x.id??x._id)===r.staffId))==null?void 0:b.name)||"No Staff"})]})]})]}),p.jsx(Ua,{isOpen:a.isModalOpen,onClose:()=>l(x=>({...x,isModalOpen:!1})),children:p.jsxs("div",{className:"max-h-[70vh] overflow-y-auto px-1 py-1 scrollbar-hide",children:[p.jsx("h2",{className:"text-xl font-bold mb-6 text-gray-800 sticky top-0 bg-white pb-2",children:"Start Session"}),p.jsxs("div",{className:"space-y-5",children:[p.jsxs("div",{className:"space-y-1.5",children:[p.jsx("label",{className:"text-xs font-semibold text-gray-500 uppercase ml-1",children:"Table"}),p.jsxs("select",{value:r.tableId,onChange:x=>i({...r,tableId:x.target.value}),className:"w-full p-3.5 bg-gray-50 border border-gray-200 rounded-xl focus:ring-2 focus:ring-blue-500 outline-none text-sm font-medium appearance-none",children:[p.jsx("option",{value:"",children:"Select Table"}),e.tables.map(x=>p.jsx("option",{value:x.id??x._id,children:x.name},x.id??x._id))]})]}),p.jsxs("div",{className:"space-y-1.5",children:[p.jsx("label",{className:"text-xs font-semibold text-gray-500 uppercase ml-1",children:"Staff"}),p.jsxs("select",{value:r.staffId,onChange:x=>i({...r,staffId:x.target.value}),className:"w-full p-3.5 bg-gray-50 border border-gray-200 rounded-xl focus:ring-2 focus:ring-blue-500 outline-none text-sm font-medium appearance-none",children:[p.jsx("option",{value:"",children:"Select Staff"}),e.staff.map(x=>p.jsx("option",{value:x.id??x._id,children:x.name},x.id??x._id))]})]})]}),p.jsx("button",{onClick:()=>l(x=>({...x,isModalOpen:!1})),disabled:!r.tableId,className:`mt-8 w-full py-3.5 rounded-xl font-bold text-sm shadow-md transition-all touch-manipulation ${r.tableId?"bg-blue-600 text-white hover:bg-blue-700 active:scale-95":"bg-gray-200 text-gray-400"}`,children:"Start Order"})]})}),s.loading?p.jsx(XV,{}):p.jsx("div",{className:"space-y-3",children:e.menu.map(x=>{const A=x.id??x._id,v=s.expandedId===A,_=s.items[A],E=((_==null?void 0:_.full)||0)+((_==null?void 0:_.half)||0)+((_==null?void 0:_.quarter)||0);return p.jsxs("div",{className:`bg-white rounded-xl border transition-all duration-200 overflow-hidden ${v?"ring-1 ring-blue-500 border-blue-500 shadow-md":"border-gray-100 shadow-sm"}`,children:[p.jsxs("div",{onClick:()=>o(L=>({...L,expandedId:L.expandedId===A?null:A})),className:"p-4 flex justify-between items-center cursor-pointer active:bg-gray-50 touch-manipulation select-none",children:[p.jsxs("div",{className:"min-w-0 flex-1 mr-4",children:[p.jsx("h3",{className:"font-bold text-gray-800 text-base truncate",children:x.name}),p.jsxs("span",{className:"text-xs text-gray-500 font-medium",children:[e.settings.currencySymbol,(x.fullPrice??x.price).toFixed(2)]})]}),p.jsxs("div",{className:"flex items-center gap-3 shrink-0",children:[E>0&&p.jsx("span",{className:"bg-blue-600 text-white text-xs font-bold px-2 py-0.5 rounded-md",children:E}),p.jsx(Zl.Chevron,{className:`w-5 h-5 text-gray-400 transition-transform duration-300 ${v?"rotate-180 text-blue-600":""}`})]})]}),p.jsx("div",{className:`transition-[max-height] duration-300 ease-in-out overflow-hidden ${v?"max-h-[600px]":"max-h-0"}`,children:p.jsx("div",{className:"px-4 pb-4 pt-1 bg-gray-50 space-y-2 border-t border-gray-100",children:[{label:"Full",price:x.fullPrice??x.price,key:"full"},x.halfPrice&&{label:"Half",price:x.halfPrice,key:"half"},x.quarterPrice&&{label:"Quarter",price:x.quarterPrice,key:"quarter"}].filter(Boolean).map(L=>p.jsxs("div",{className:"flex justify-between items-center bg-white p-2 rounded-lg border border-gray-100 shadow-sm",children:[p.jsxs("div",{children:[p.jsx("div",{className:"text-xs font-semibold text-gray-600",children:L.label}),p.jsxs("div",{className:"text-xs font-bold text-blue-600",children:[e.settings.currencySymbol,L.price.toFixed(2)]})]}),p.jsx(JV,{quantity:(_==null?void 0:_[L.key])||0,onDecrease:()=>c(A,L.key,-1),onIncrease:()=>c(A,L.key,1)})]},L.key))})})]},A)})})]}),p.jsx("div",{className:"fixed bottom-20 right-0 w-full z-40 transition-all duration-300 md:pl-64",style:{paddingBottom:"env(safe-area-inset-bottom)"},children:p.jsx("div",{className:"mx-4 max-w-3xl md:mx-auto",children:p.jsxs("div",{className:"bg-gray-900/95 backdrop-blur-md shadow-2xl rounded-xl p-3 flex items-center justify-between border border-gray-800",children:[p.jsxs("div",{className:"pl-2",children:[p.jsx("div",{className:"text-gray-400 text-[10px] font-bold uppercase tracking-wider",children:"Total"}),p.jsxs("div",{className:"text-xl font-bold text-white font-mono leading-none",children:[e.settings.currencySymbol,d.toFixed(2)]})]}),p.jsx("button",{onClick:g,disabled:s.submitting,className:`px-6 py-2.5 rounded-lg font-bold text-sm shadow transition-transform active:scale-95 flex items-center gap-2 touch-manipulation ${r.tableId?"bg-white text-gray-900 hover:bg-gray-100":"bg-gray-700 text-gray-500"}`,children:s.submitting?p.jsx("span",{className:"animate-pulse",children:"Sending..."}):p.jsx("span",{children:"Place Order"})})]})})})]})},eB=({item:t,currencySymbol:e="",quantity:n=0,onCardClick:r,selectionMode:i=!1,isSelected:s=!1,onSelect:o})=>{if(!t)return null;const a=()=>{i?o==null||o():r==null||r(t)},l=["bg-white rounded-xl shadow-md p-4 flex flex-col justify-between transition-all duration-200 relative border",r||i?"cursor-pointer":"",s?"ring-2 ring-blue-600 border-blue-500 shadow-lg":"border-gray-200 hover:shadow-lg"].join(" ");return p.jsxs("div",{className:l,onClick:a,children:[n>0&&!i&&p.jsx("div",{className:"absolute top-[-10px] right-[-10px] bg-blue-600 text-white text-xs font-bold w-6 h-6 rounded-full flex items-center justify-center shadow-lg z-10",children:n}),i&&s&&p.jsx("div",{className:"absolute inset-0 bg-blue-500 bg-opacity-10 rounded-xl pointer-events-none flex items-center justify-center",children:p.jsx("div",{className:"bg-white rounded-full p-1 shadow",children:p.jsx("svg",{className:"w-6 h-6 text-blue-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg",children:p.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M5 13l4 4L19 7"})})})}),p.jsxs("div",{className:"flex-grow",children:[p.jsx("h3",{className:"text-lg font-bold text-gray-800 mb-2 truncate",children:t.name}),p.jsx("div",{className:"text-sm font-semibold mb-3",children:t.fullPrice||t.halfPrice||t.quarterPrice?p.jsxs("div",{className:"grid grid-cols-[auto_1fr] gap-x-3 gap-y-1 text-gray-700",children:[t.fullPrice!=null&&p.jsxs(p.Fragment,{children:[p.jsx("span",{className:"font-medium text-gray-500",children:"Full:"}),p.jsxs("span",{children:[e,t.fullPrice.toFixed(2)]})]}),t.halfPrice!=null&&p.jsxs(p.Fragment,{children:[p.jsx("span",{className:"font-medium text-gray-500",children:"Half:"}),p.jsxs("span",{children:[e,t.halfPrice.toFixed(2)]})]}),t.quarterPrice!=null&&p.jsxs(p.Fragment,{children:[p.jsx("span",{className:"font-medium text-gray-500",children:"Qtr:"}),p.jsxs("span",{children:[e,t.quarterPrice.toFixed(2)]})]})]}):t.price&&p.jsxs("div",{className:"text-gray-700",children:[e,t.price.toFixed(2)]})}),t.ingredients&&p.jsx("p",{className:"text-xs text-gray-600 mb-2",children:t.ingredients})]}),t.specialNote&&p.jsxs("p",{className:"text-xs italic text-blue-600 mt-auto pt-2 border-t border-gray-100",children:["Note: ",t.specialNote]})]})},Ig={en:{menuTitle:"Menu",menuSubtitle:"Manage your restaurant's menu items.",selected:"selected",selectSubtitle:"Select items from the list below to delete.",selectAll:"Select All",deselectAll:"Deselect All",delete:"Delete",cancel:"Cancel",bulkActions:"Bulk Actions",selectItems:"Select Items",addNewItem:"Add New Item",confirmDeleteTitle:"Confirm Deletion",confirmDeleteMsg:"Are you sure you want to permanently delete",items:"item(s)? This action cannot be undone.",deleting:"Deleting...",addItemTitle:"Add New Menu Item",itemName:"Item Name",fullPrice:"Full Portion Price",halfPrice:"Half Portion Price",quarterPrice:"Quarter Portion Price",ingredients:"Ingredients (comma-separated)",specialNote:"Special Note (optional)",done:"Done",bulkActionTitle:"Bulk Actions",bulkActionSubtitle:"Add multiple new items using a spreadsheet-like interface.",addNewItemsBtn:"Add New Items",updateExistingBtn:"Update Existing Items",bulkAddTitle:"Bulk Add New Items",bulkAddSubtitle:"Use arrow keys to navigate. Rows missing a name or valid price for the full portion will be skipped.",status:"Status",addRow:"+ Add Row",clearAll:"Clear All",addItems:"Add Items",adding:"Adding..."},hi:{menuTitle:" (Menu)",menuSubtitle:"      ",selected:"",selectSubtitle:"         ",selectAll:" ",deselectAll:"  ",delete:"",cancel:" ",bulkActions:" ",selectItems:" ",addNewItem:"  ",confirmDeleteTitle:"   ",confirmDeleteMsg:"     ",items:"?       ",deleting:"  ...",addItemTitle:"   ",itemName:"  ",fullPrice:"   ",halfPrice:"   ",quarterPrice:"   ",ingredients:" (  )",specialNote:"  ()",done:" ",bulkActionTitle:" ",bulkActionSubtitle:"         ",addNewItemsBtn:"  ",updateExistingBtn:"   ",bulkAddTitle:"    ",bulkAddSubtitle:"        ",status:"",addRow:"+  ",clearAll:"  ",addItems:" ",adding:"  ..."},es:{menuTitle:"Men",menuSubtitle:"Administra los elementos del men de tu restaurante.",selected:"seleccionado",selectSubtitle:"Selecciona elementos de la lista para eliminar.",selectAll:"Seleccionar todo",deselectAll:"Deseleccionar todo",delete:"Eliminar",cancel:"Cancelar",bulkActions:"Acciones masivas",selectItems:"Seleccionar elementos",addNewItem:"Agregar nuevo artculo",confirmDeleteTitle:"Confirmar eliminacin",confirmDeleteMsg:"Ests seguro de que quieres eliminar",items:"elemento(s)? Esta accin no se puede deshacer.",deleting:"Eliminando...",addItemTitle:"Agregar nuevo elemento al men",itemName:"Nombre del artculo",fullPrice:"Precio porcin completa",halfPrice:"Precio media porcin",quarterPrice:"Precio cuarto de porcin",ingredients:"Ingredientes (separados por comas)",specialNote:"Nota especial (opcional)",done:"Hecho",bulkActionTitle:"Acciones masivas",bulkActionSubtitle:"Agrega mltiples elementos nuevos usando una interfaz tipo hoja de clculo.",addNewItemsBtn:"Agregar nuevos elementos",updateExistingBtn:"Actualizar elementos existentes",bulkAddTitle:"Agregar nuevos elementos en masa",bulkAddSubtitle:"Usa las teclas de flecha para navegar.",status:"Estado",addRow:"+ Agregar fila",clearAll:"Borrar todo",addItems:"Agregar elementos",adding:"Agregando..."},ar:{menuTitle:"",menuSubtitle:"     .",selected:"",selectSubtitle:"     .",selectAll:" ",deselectAll:"  ",delete:"",cancel:"",bulkActions:" ",selectItems:" ",addNewItem:"  ",confirmDeleteTitle:" ",confirmDeleteMsg:"     ",items:" ()      .",deleting:" ...",addItemTitle:"   ",itemName:" ",fullPrice:"  ",halfPrice:"  ",quarterPrice:"  ",ingredients:" ( )",specialNote:"  ()",done:"",bulkActionTitle:" ",bulkActionSubtitle:"   .",addNewItemsBtn:"  ",updateExistingBtn:"  ",bulkAddTitle:"   ",bulkAddSubtitle:"   .",status:"",addRow:"+  ",clearAll:" ",addItems:" ",adding:" ..."},fr:{menuTitle:"Menu",menuSubtitle:"Grez les lments de menu de votre restaurant.",selected:"slectionn",selectSubtitle:"Slectionnez des lments dans la liste ci-dessous pour les supprimer.",selectAll:"Tout slectionner",deselectAll:"Tout dslectionner",delete:"Supprimer",cancel:"Annuler",bulkActions:"Actions en masse",selectItems:"Slectionner des lments",addNewItem:"Ajouter un nouvel lment",confirmDeleteTitle:"Confirmer la suppression",confirmDeleteMsg:"tes-vous sr de vouloir supprimer dfinitivement",items:"lment(s) ? Cette action est irrversible.",deleting:"Suppression...",addItemTitle:"Ajouter un nouvel lment de menu",itemName:"Nom de l'lment",fullPrice:"Prix portion complte",halfPrice:"Prix demi-portion",quarterPrice:"Prix quart de portion",ingredients:"Ingrdients (spars par des virgules)",specialNote:"Note spciale (facultatif)",done:"Termin",bulkActionTitle:"Actions en masse",bulkActionSubtitle:"Ajoutez plusieurs nouveaux lments  l'aide d'une interface de type feuille de calcul.",addNewItemsBtn:"Ajouter de nouveaux lments",updateExistingBtn:"Mettre  jour les lments existants",bulkAddTitle:"Ajout en masse",bulkAddSubtitle:"Utilisez les touches flches pour naviguer.",status:"Statut",addRow:"+ Ajouter une ligne",clearAll:"Tout effacer",addItems:"Ajouter des lments",adding:"Ajout..."}},tB=()=>{const[t,e]=G.useState({currencySymbol:"",language:"en"}),[n,r]=G.useState(Ig.en),[i,s]=G.useState([]),[o,a]=G.useState(!1),[l,u]=G.useState(!1),[c,d]=G.useState(!1),[g,m]=G.useState(!1),[b,x]=G.useState([]),[A,v]=G.useState(!1),[_,E]=G.useState(!1),[L,z]=G.useState({name:"",fullPrice:"",halfPrice:"",quarterPrice:"",ingredients:"",specialNote:""}),[Y,R]=G.useState([{name:"",fullPrice:"",halfPrice:"",quarterPrice:"",ingredients:"",specialNote:""}]),[C,k]=G.useState(!1),M=G.useRef([]);G.useEffect(()=>{(async()=>{try{const be=await sa();be&&(e({currencySymbol:be.currencySymbol||"",language:be.language||"en"}),r(Ig[be.language]||Ig.en))}catch(be){console.error("Error loading settings in Menu:",be)}})()},[]),G.useEffect(()=>{const he=iD(be=>{s(be||[])});return()=>{typeof he=="function"&&he()}},[]);const T=()=>m(!0),I=()=>{m(!1),x([])},D=he=>{x(be=>be.includes(he)?be.filter(pe=>pe!==he):[...be,he])},H=()=>{b.length===i.length?x([]):x(i.map(he=>he.id))},ne=async()=>{if(b.length!==0){v(!0);try{await rD(b)}catch(he){console.error("Error deleting items:",he)}finally{v(!1),E(!1),I()}}},ue=he=>{const{name:be,value:pe}=he.target;z(Ee=>({...Ee,[be]:pe}))},ae=async()=>{if(!L.name||!L.fullPrice){alert("Item name and Full Portion price are required.");return}const he=parseFloat(L.fullPrice);if(isNaN(he)){alert("Full Portion price must be a valid number.");return}const be=L.halfPrice?parseFloat(L.halfPrice):null,pe=L.quarterPrice?parseFloat(L.quarterPrice):null;try{await k4({name:L.name.trim(),fullPrice:he,halfPrice:be,quarterPrice:pe,ingredients:L.ingredients.trim(),specialNote:L.specialNote.trim()}),z({name:"",fullPrice:"",halfPrice:"",quarterPrice:"",ingredients:"",specialNote:""}),a(!1)}catch(Ee){console.error("Error adding menu item:",Ee),alert("Failed to add menu item.")}},ee=()=>{u(!1),d(!0),M.current=[]},se="w-full p-2.5 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-blue-500 transition-shadow",ye=(he,be)=>(M.current[he]||(M.current[he]=[]),M.current[he][be]||(M.current[he][be]=Zt.createRef()),M.current[he][be]),Se=he=>{!M.current||!M.current.length||M.current.splice(he,1)},V=(he,be,pe)=>{let fe=be,W=pe;switch(he.key){case"ArrowUp":fe=Math.max(0,be-1);break;case"ArrowDown":fe=Math.min(Y.length-1,be+1);break;case"ArrowLeft":W=Math.max(0,pe-1);break;case"ArrowRight":W=Math.min(5,pe+1);break;default:return}he.preventDefault();const ze=ye(fe,W);if(ze&&ze.current){ze.current.focus();const Qe=ze.current;Qe.setSelectionRange&&typeof Qe.value=="string"&&Qe.setSelectionRange(Qe.value.length,Qe.value.length)}},Q=(he,be,pe)=>{R(Ee=>{const fe=[...Ee];return fe[he]={...fe[he],[be]:pe},fe})},te=()=>{R(he=>[...he,{name:"",fullPrice:"",halfPrice:"",quarterPrice:"",ingredients:"",specialNote:""}])},ie=he=>{R(be=>be.filter((pe,Ee)=>Ee!==he)),Se(he)},le=()=>{R([{name:"",fullPrice:"",halfPrice:"",quarterPrice:"",ingredients:"",specialNote:""}]),M.current=[]},ve=async()=>{const he=Y.map(pe=>({...pe,fullPriceParsed:parseFloat(pe.fullPrice),halfPriceParsed:pe.halfPrice?parseFloat(pe.halfPrice):null,quarterPriceParsed:pe.quarterPrice?parseFloat(pe.quarterPrice):null})).filter(pe=>pe.name&&!isNaN(pe.fullPriceParsed));if(he.length===0){alert("No valid rows to add.");return}k(!0);const be=he.map(pe=>k4({name:pe.name.trim(),fullPrice:pe.fullPriceParsed,halfPrice:pe.halfPriceParsed,quarterPrice:pe.quarterPriceParsed,ingredients:pe.ingredients?pe.ingredients.trim():"",specialNote:pe.specialNote?pe.specialNote.trim():""}));try{const pe=await Promise.allSettled(be),Ee=pe.filter(fe=>fe.status==="rejected");Ee.length===0?(le(),d(!1)):(console.error("Bulk add failures:",Ee),alert(`${pe.length-Ee.length} added, ${Ee.length} failed.`))}catch(pe){console.error("Unexpected bulk add error:",pe),alert("Bulk add failed.")}finally{k(!1)}},Ne=he=>he.name&&he.fullPrice&&!isNaN(parseFloat(he.fullPrice)),Ae=t.language==="ar";return p.jsxs("div",{className:`bg-gray-50 min-h-screen ${Ae?"rtl":"ltr"}`,dir:Ae?"rtl":"ltr",children:[p.jsxs("div",{className:"container mx-auto px-4 lg:px-8 py-8",children:[p.jsxs("header",{className:"flex flex-col sm:flex-row justify-between items-start sm:items-center mb-8",children:[p.jsx("div",{children:g?p.jsxs(p.Fragment,{children:[p.jsxs("h1",{className:"text-2xl font-bold text-blue-700",children:[b.length," ",n.selected]}),p.jsx("p",{className:"mt-1 text-gray-500",children:n.selectSubtitle})]}):p.jsxs(p.Fragment,{children:[p.jsx("h1",{className:"text-4xl font-bold text-gray-800",children:n.menuTitle}),p.jsx("p",{className:"mt-1 text-gray-500",children:n.menuSubtitle})]})}),p.jsx("div",{className:"flex items-center gap-2 mt-4 sm:mt-0",children:g?p.jsxs(p.Fragment,{children:[p.jsx("button",{onClick:H,className:"px-4 py-2 text-sm font-semibold text-blue-700 bg-blue-100 rounded-lg hover:bg-blue-200 transition-colors",children:b.length===i.length?n.deselectAll:n.selectAll}),p.jsx("button",{onClick:()=>E(!0),disabled:b.length===0,className:"px-4 py-2 text-sm font-semibold text-white bg-red-600 rounded-lg hover:bg-red-700 disabled:bg-red-300 disabled:cursor-not-allowed transition-colors",children:n.delete}),p.jsx("button",{onClick:I,className:"px-4 py-2 text-sm font-semibold text-gray-700 bg-gray-200 rounded-lg hover:bg-gray-300 transition-colors",children:n.cancel})]}):p.jsxs(p.Fragment,{children:[p.jsx("button",{onClick:()=>u(!0),className:"px-5 py-2.5 text-sm font-semibold text-gray-800 bg-white border border-gray-300 rounded-lg shadow-sm hover:bg-gray-50 transition-colors",children:n.bulkActions}),p.jsx("button",{onClick:T,className:"px-5 py-2.5 text-sm font-semibold text-white bg-blue-600 rounded-lg shadow-md hover:bg-blue-700 transition-all",children:n.selectItems})]})})]}),p.jsxs("main",{className:"grid grid-cols-1 sm:grid-cols-2 md:grid-cols-3 lg:grid-cols-4 gap-6",children:[!g&&p.jsxs("button",{onClick:()=>a(!0),className:"group border-2 border-dashed border-gray-300 rounded-xl flex flex-col items-center justify-center h-full min-h-[180px] hover:border-blue-500 hover:bg-blue-50 transition-all duration-200",children:[p.jsx("div",{className:"w-12 h-12 bg-gray-200 rounded-full flex items-center justify-center group-hover:bg-blue-200 transition-colors",children:p.jsx("span",{className:"text-2xl text-gray-500 group-hover:text-blue-600",children:"+"})}),p.jsx("span",{className:"mt-3 text-gray-600 font-semibold group-hover:text-blue-700",children:n.addNewItem})]}),i.map(he=>p.jsx(eB,{item:he,selectionMode:g,isSelected:b.includes(he.id),onSelect:()=>D(he.id),currency:t.currencySymbol},he.id))]})]}),p.jsxs(Ua,{isOpen:_,onClose:()=>E(!1),children:[p.jsx("h2",{className:"text-2xl font-bold mb-4 text-gray-900",children:n.confirmDeleteTitle}),p.jsxs("p",{className:"text-gray-600 mb-6",children:[n.confirmDeleteMsg," ",b.length," ",n.items]}),p.jsxs("div",{className:"flex justify-end gap-4",children:[p.jsx("button",{onClick:()=>E(!1),className:"px-6 py-2 font-semibold text-gray-700 bg-gray-200 rounded-lg hover:bg-gray-300 transition-colors",children:n.cancel}),p.jsx("button",{onClick:ne,disabled:A,className:"px-6 py-2 font-semibold text-white bg-red-600 rounded-lg hover:bg-red-700 disabled:bg-red-400 disabled:cursor-wait transition-colors",children:A?n.deleting:n.delete})]})]}),p.jsxs(Ua,{isOpen:o,onClose:()=>a(!1),children:[p.jsx("h2",{className:"text-2xl font-bold mb-5 text-gray-900",children:n.addItemTitle}),p.jsxs("div",{className:"space-y-4",children:[p.jsx("input",{type:"text",name:"name",value:L.name,onChange:ue,placeholder:n.itemName,className:se}),p.jsxs("div",{className:"relative",children:[p.jsx("span",{className:"absolute left-3 top-2.5 text-gray-500",children:t.currencySymbol}),p.jsx("input",{type:"text",name:"fullPrice",value:L.fullPrice,onChange:ue,placeholder:n.fullPrice,className:`${se} pl-8`})]}),p.jsxs("div",{className:"relative",children:[p.jsx("span",{className:"absolute left-3 top-2.5 text-gray-500",children:t.currencySymbol}),p.jsx("input",{type:"text",name:"halfPrice",value:L.halfPrice,onChange:ue,placeholder:n.halfPrice,className:`${se} pl-8`})]}),p.jsxs("div",{className:"relative",children:[p.jsx("span",{className:"absolute left-3 top-2.5 text-gray-500",children:t.currencySymbol}),p.jsx("input",{type:"text",name:"quarterPrice",value:L.quarterPrice,onChange:ue,placeholder:n.quarterPrice,className:`${se} pl-8`})]}),p.jsx("input",{type:"text",name:"ingredients",value:L.ingredients,onChange:ue,placeholder:n.ingredients,className:se}),p.jsx("textarea",{name:"specialNote",value:L.specialNote,onChange:ue,placeholder:n.specialNote,rows:3,className:se})]}),p.jsx("div",{className:"flex justify-end mt-6",children:p.jsx("button",{onClick:ae,className:"bg-blue-600 text-white px-6 py-2 rounded-lg hover:bg-blue-700 transition-colors font-semibold",children:n.done})})]}),p.jsxs(Ua,{isOpen:l,onClose:()=>u(!1),children:[p.jsx("h2",{className:"text-2xl font-bold mb-4 text-gray-900",children:n.bulkActionTitle}),p.jsx("p",{className:"text-gray-600 mb-6",children:n.bulkActionSubtitle}),p.jsxs("div",{className:"space-y-4",children:[p.jsx("button",{onClick:ee,className:"w-full bg-blue-600 text-white px-6 py-3 rounded-lg hover:bg-blue-700 transition-colors",children:n.addNewItemsBtn}),p.jsx("button",{className:"w-full bg-gray-200 text-gray-500 px-6 py-3 rounded-lg transition-colors cursor-not-allowed",disabled:!0,children:n.updateExistingBtn})]})]}),p.jsx(Ua,{isOpen:c,onClose:()=>d(!1),size:"5xl",children:p.jsxs("div",{className:"flex flex-col h-full",children:[p.jsxs("div",{className:"mb-4",children:[p.jsx("h2",{className:"text-2xl font-bold text-gray-900",children:n.bulkAddTitle}),p.jsx("p",{className:"text-gray-600 mt-1",children:n.bulkAddSubtitle})]}),p.jsx("div",{className:"flex-grow overflow-hidden rounded-lg border border-gray-200",children:p.jsx("div",{className:"max-h-[55vh] overflow-y-auto",children:p.jsxs("table",{className:"w-full text-sm text-left text-gray-500",children:[p.jsx("thead",{className:"text-xs text-gray-700 uppercase bg-gray-100 sticky top-0",children:p.jsxs("tr",{children:[p.jsx("th",{className:"px-4 py-3 w-1/12 text-center",children:n.status}),p.jsxs("th",{className:"px-4 py-3 w-2/12",children:[n.itemName,"*"]}),p.jsxs("th",{className:"px-4 py-3 w-1/12",children:[n.fullPrice," (",t.currencySymbol,")*"]}),p.jsx("th",{className:"px-4 py-3 w-1/12",children:n.halfPrice}),p.jsx("th",{className:"px-4 py-3 w-1/12",children:n.quarterPrice}),p.jsx("th",{className:"px-4 py-3 w-2/12",children:n.ingredients}),p.jsx("th",{className:"px-4 py-3 w-2/12",children:n.specialNote}),p.jsx("th",{className:"px-4 py-3 w-1/12 text-center"})]})}),p.jsx("tbody",{children:Y.map((he,be)=>{const pe=Ne(he),Ee=he.fullPrice&&isNaN(parseFloat(he.fullPrice)),fe=!he.name&&!he.fullPrice?"empty":pe?"ok":"invalid";return p.jsxs("tr",{className:"group bg-white border-b hover:bg-gray-50",children:[p.jsxs("td",{className:"px-4 py-1 text-center",children:[fe==="ok"&&p.jsx("span",{title:"Valid row",className:"inline-block h-2.5 w-2.5 rounded-full bg-green-500"}),fe==="invalid"&&p.jsx("span",{title:"Invalid row",className:"inline-block h-2.5 w-2.5 rounded-full bg-red-500"}),fe==="empty"&&p.jsx("span",{title:"Empty row",className:"inline-block h-2.5 w-2.5 rounded-full bg-gray-300"})]}),p.jsx("td",{children:p.jsx("input",{ref:ye(be,0),type:"text",placeholder:n.itemName,value:he.name,onChange:W=>Q(be,"name",W.target.value),onKeyDown:W=>V(W,be,0),className:"w-full bg-transparent p-2 border-0 focus:outline-none focus:ring-2 focus:ring-blue-300 rounded"})}),p.jsx("td",{children:p.jsx("input",{ref:ye(be,1),type:"text",placeholder:"150.00",value:he.fullPrice,onChange:W=>Q(be,"fullPrice",W.target.value),onKeyDown:W=>V(W,be,1),className:`w-full bg-transparent p-2 border-0 focus:outline-none focus:ring-2 ${Ee?"ring-red-400":"focus:ring-blue-300"} rounded`})}),p.jsx("td",{children:p.jsx("input",{ref:ye(be,2),type:"text",placeholder:"80.00",value:he.halfPrice,onChange:W=>Q(be,"halfPrice",W.target.value),onKeyDown:W=>V(W,be,2),className:"w-full bg-transparent p-2 border-0 focus:outline-none focus:ring-2 focus:ring-blue-300 rounded"})}),p.jsx("td",{children:p.jsx("input",{ref:ye(be,3),type:"text",placeholder:"45.00",value:he.quarterPrice,onChange:W=>Q(be,"quarterPrice",W.target.value),onKeyDown:W=>V(W,be,3),className:"w-full bg-transparent p-2 border-0 focus:outline-none focus:ring-2 focus:ring-blue-300 rounded"})}),p.jsx("td",{children:p.jsx("input",{ref:ye(be,4),type:"text",placeholder:"...",value:he.ingredients,onChange:W=>Q(be,"ingredients",W.target.value),onKeyDown:W=>V(W,be,4),className:"w-full bg-transparent p-2 border-0 focus:outline-none focus:ring-2 focus:ring-blue-300 rounded"})}),p.jsx("td",{children:p.jsx("input",{ref:ye(be,5),type:"text",placeholder:"...",value:he.specialNote,onChange:W=>Q(be,"specialNote",W.target.value),onKeyDown:W=>V(W,be,5),className:"w-full bg-transparent p-2 border-0 focus:outline-none focus:ring-2 focus:ring-blue-300 rounded"})}),p.jsx("td",{className:"px-4 py-1 text-center",children:p.jsx("button",{title:"Delete row",onClick:()=>ie(be),className:"px-2 py-1 text-gray-400 rounded-full hover:bg-red-100 hover:text-red-600 opacity-0 group-hover:opacity-100 transition-opacity",children:""})})]},be)})})]})})}),p.jsxs("div",{className:"flex flex-col sm:flex-row items-center justify-between mt-6",children:[p.jsxs("div",{className:"flex items-center gap-2",children:[p.jsx("button",{onClick:te,className:"bg-green-100 text-green-800 font-semibold px-4 py-2 rounded-lg hover:bg-green-200 transition-colors",children:n.addRow}),p.jsx("button",{onClick:le,className:"bg-gray-200 text-gray-800 px-4 py-2 rounded-lg hover:bg-gray-300 transition-colors",children:n.clearAll})]}),p.jsx("div",{className:"mt-4 sm:mt-0",children:p.jsx("button",{onClick:ve,disabled:C,className:`px-6 py-2.5 rounded-lg text-white font-semibold transition-colors w-32 ${C?"bg-gray-400 cursor-not-allowed":"bg-blue-600 hover:bg-blue-700"}`,children:C?n.adding:n.addItems})})]})]})})]})},nB=()=>p.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-5 w-5 mr-3 text-slate-400",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",strokeWidth:2,children:p.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M16 7a4 4 0 11-8 0 4 4 0 018 0zM12 14a7 7 0 00-7 7h14a7 7 0 00-7-7z"})}),rB=()=>p.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-5 w-5 mr-3 text-slate-400 flex-shrink-0",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",strokeWidth:2,children:p.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M3 5a2 2 0 012-2h3.28a1 1 0 01.948.684l1.498 4.493a1 1 0 01-.502 1.21l-2.257 1.13a11.042 11.042 0 005.516 5.516l1.13-2.257a1 1 0 011.21-.502l4.493 1.498a1 1 0 01.684.949V19a2 2 0 01-2 2h-1C9.716 21 3 14.284 3 6V5z"})}),iB=()=>p.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-5 w-5 mr-3 text-slate-400 flex-shrink-0",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",strokeWidth:2,children:[p.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M17.657 16.657l-4.243 4.243a2 2 0 01-2.828 0l-4.242-4.242a8 8 0 1111.313 0z"}),p.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M15 11a3 3 0 11-6 0 3 3 0 016 0z"})]}),$b=()=>p.jsxs("svg",{className:"animate-spin -ml-1 mr-3 h-5 w-5 text-white",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",children:[p.jsx("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),p.jsx("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})]}),sB=()=>p.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-6 w-6",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",strokeWidth:2,children:p.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M5 7a4 4 0 1 0 8 0a4 4 0 0 0 -8 0 M3 21v-2a4 4 0 0 1 4 -4h4c.96 0 1.84 .338 2.53 .901 M16 3.13a4 4 0 0 1 0 7.75 M16 19h6 M19 16v6"})}),Hb={name:"",contact:"",address:""},Lg={name:"",contact:"",address:""},oB=()=>{const[t,e]=G.useState([]),[n,r]=G.useState(!1),[i,s]=G.useState(Hb),[o,a]=G.useState(!1),[l,u]=G.useState([Lg]),[c,d]=G.useState(!1);G.useEffect(()=>{(async()=>{try{const E=await Tf();e(E)}catch(E){console.error("Error loading staff:",E)}})()},[]);const g=_=>{const{name:E,value:L}=_.target;s(z=>({...z,[E]:L}))},m=async()=>{if(!i.name.trim()){alert("Staff name is required.");return}d(!0);try{const _=await sD(i);e([...t,_]),s(Hb),r(!1)}catch(_){console.error("Error adding staff:",_),alert("Failed to add staff member.")}finally{d(!1)}},b=(_,E)=>{const{name:L,value:z}=E.target,Y=[...l];Y[_][L]=z,u(Y)},x=()=>{u([...l,{...Lg}])},A=async()=>{const _=l.filter(E=>E.name.trim()!=="");if(_.length===0){alert("Please enter a name for at least one staff member.");return}d(!0);try{await oD(_);const E=await Tf();e(E),u([Lg]),a(!1)}catch(E){console.error("Error adding staff in bulk:",E),alert("Failed to add staff members in bulk.")}finally{d(!1)}},v=(_,E,L)=>{const{key:z,shiftKey:Y}=_,R={ArrowDown:{r:1,c:0},Enter:{r:1,c:0,cond:!Y},ArrowUp:{r:-1,c:0},ArrowRight:{r:0,c:1},Tab:{r:0,c:1,cond:!Y},ArrowLeft:{r:0,c:-1}};let C=null;if(z==="Tab"&&Y?C={r:0,c:-1}:R[z]&&R[z].cond!==!1&&(C=R[z]),!C)return;_.preventDefault();let k=E+C.r,M=L+C.c;if(M>2&&(M=0,k++),M<0&&(M=2,k--),(z==="ArrowDown"||z==="Enter"&&!Y)&&E===l.length-1){x(),setTimeout(()=>{var I;(I=document.querySelector(`[data-row='${k}'][data-col='${L}']`))==null||I.focus()},0);return}const T=document.querySelector(`[data-row='${k}'][data-col='${M}']`);T&&(T.focus(),T.select())};return p.jsx("div",{className:"bg-slate-50 min-h-full p-4 sm:p-6 lg:p-8",children:p.jsxs("div",{className:"container mx-auto",children:[p.jsxs("div",{className:"mb-8",children:[p.jsx("h1",{className:"text-4xl font-bold text-slate-800",children:"Staff Management"}),p.jsx("p",{className:"text-slate-500 mt-1",children:"Add, view, and manage your team members."})]}),p.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 md:grid-cols-3 lg:grid-cols-4 gap-6",children:[p.jsxs("button",{onClick:()=>r(!0),className:"group bg-white border-2 border-dashed border-slate-300 rounded-xl flex flex-col items-center justify-center min-h-[16rem] text-center p-6 hover:border-indigo-500 hover:text-indigo-600 transition-all duration-300",children:[p.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-12 w-12 text-slate-400 group-hover:text-indigo-500 transition-colors",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",strokeWidth:1.5,children:p.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M12 4v16m8-8H4"})}),p.jsx("span",{className:"font-semibold mt-2",children:"Add New Staff"})]}),t.map(_=>p.jsxs("div",{className:"bg-white rounded-xl shadow-md min-h-[16rem] p-6 flex flex-col justify-between transition-all duration-300 hover:shadow-xl hover:-translate-y-1",children:[p.jsxs("div",{className:"flex items-center",children:[p.jsx("div",{className:"flex-shrink-0 h-12 w-12 rounded-full bg-slate-100 flex items-center justify-center",children:p.jsx(nB,{})}),p.jsx("div",{className:"ml-4",children:p.jsx("h3",{className:"text-xl font-bold text-slate-800 break-words",children:_.name})})]}),p.jsxs("div",{className:"space-y-3 text-sm text-slate-600 mt-4",children:[_.contact&&p.jsxs("p",{className:"flex items-center break-all",children:[p.jsx(rB,{}),_.contact]}),_.address&&p.jsxs("p",{className:"flex items-start break-all",children:[p.jsx(iB,{}),_.address]})]})]},_.id))]}),p.jsxs(Ua,{isOpen:n,onClose:()=>!c&&r(!1),children:[p.jsxs("div",{className:"flex justify-between items-center pb-3 border-b border-slate-200",children:[p.jsx("h2",{className:"text-2xl font-bold text-slate-800",children:"Add New Staff"}),p.jsx("button",{onClick:()=>r(!1),className:"text-slate-400 hover:text-slate-600 disabled:opacity-50",disabled:c,children:""})]}),p.jsxs("div",{className:"mt-6 space-y-4",children:[p.jsx("input",{type:"text",name:"name",value:i.name,onChange:g,placeholder:"Enter staff name *",className:"w-full p-3 border border-slate-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-indigo-500 disabled:bg-slate-100",disabled:c}),p.jsx("input",{type:"text",name:"contact",value:i.contact,onChange:g,placeholder:"Contact Details (e.g., phone)",className:"w-full p-3 border border-slate-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-indigo-500 disabled:bg-slate-100",disabled:c}),p.jsx("input",{type:"text",name:"address",value:i.address,onChange:g,placeholder:"Address",className:"w-full p-3 border border-slate-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-indigo-500 disabled:bg-slate-100",disabled:c})]}),p.jsxs("div",{className:"flex justify-end mt-6 space-x-4",children:[p.jsx("button",{onClick:()=>r(!1),className:"px-4 py-2 rounded-lg text-slate-600 bg-slate-100 hover:bg-slate-200 transition-colors disabled:opacity-50",disabled:c,children:"Cancel"}),p.jsx("button",{onClick:m,className:"bg-indigo-600 text-white font-semibold px-4 py-2 rounded-lg hover:bg-indigo-700 transition-colors shadow-sm flex items-center disabled:bg-indigo-400",disabled:c,children:c?p.jsxs(p.Fragment,{children:[p.jsx($b,{})," Saving..."]}):"Save Staff"})]})]}),p.jsxs(Ua,{isOpen:o,onClose:()=>!c&&a(!1),size:"xl",children:[p.jsxs("div",{className:"flex justify-between items-center pb-3 border-b border-slate-200",children:[p.jsx("h2",{className:"text-2xl font-bold text-slate-800",children:"Bulk Add Staff"}),p.jsx("button",{onClick:()=>a(!1),className:"text-slate-400 hover:text-slate-600 disabled:opacity-50",disabled:c,children:""})]}),p.jsx("p",{className:"text-sm text-slate-500 my-4",children:"Use Arrow Keys, Tab, or Enter to navigate. A new row is added automatically."}),p.jsx("div",{className:"w-full max-h-[60vh] overflow-auto border border-slate-200 rounded-lg",children:p.jsxs("table",{className:"w-full text-sm",children:[p.jsx("thead",{className:"sticky top-0 bg-slate-100 z-10",children:p.jsxs("tr",{children:[p.jsx("th",{className:"p-3 font-semibold text-left text-slate-600",children:"Name *"}),p.jsx("th",{className:"p-3 font-semibold text-left text-slate-600",children:"Contact Details"}),p.jsx("th",{className:"p-3 font-semibold text-left text-slate-600",children:"Address"})]})}),p.jsx("tbody",{children:l.map((_,E)=>p.jsxs("tr",{className:"even:bg-slate-50",children:[p.jsx("td",{children:p.jsx("input",{type:"text",name:"name",value:_.name,onChange:L=>b(E,L),onKeyDown:L=>v(L,E,0),"data-row":E,"data-col":0,placeholder:`Staff ${E+1}`,className:"w-full p-3 bg-transparent focus:outline-none focus:bg-white focus:ring-1 focus:ring-indigo-500 disabled:bg-slate-100",disabled:c})}),p.jsx("td",{children:p.jsx("input",{type:"text",name:"contact",value:_.contact,onChange:L=>b(E,L),onKeyDown:L=>v(L,E,1),"data-row":E,"data-col":1,placeholder:"Contact",className:"w-full p-3 bg-transparent focus:outline-none focus:bg-white focus:ring-1 focus:ring-indigo-500 disabled:bg-slate-100",disabled:c})}),p.jsx("td",{children:p.jsx("input",{type:"text",name:"address",value:_.address,onChange:L=>b(E,L),onKeyDown:L=>v(L,E,2),"data-row":E,"data-col":2,placeholder:"Address",className:"w-full p-3 bg-transparent focus:outline-none focus:bg-white focus:ring-1 focus:ring-indigo-500 disabled:bg-slate-100",disabled:c})})]},E))})]})}),p.jsxs("div",{className:"flex justify-between items-center mt-6",children:[p.jsx("button",{onClick:x,className:"text-indigo-600 font-semibold hover:text-indigo-800 transition-colors disabled:opacity-50",disabled:c,children:"+ Add Row"}),p.jsxs("div",{className:"flex space-x-4",children:[p.jsx("button",{onClick:()=>a(!1),className:"px-6 py-2 rounded-lg text-slate-600 bg-slate-100 hover:bg-slate-200 transition-colors disabled:opacity-50",disabled:c,children:"Cancel"}),p.jsx("button",{onClick:A,className:"bg-indigo-600 text-white font-semibold px-6 py-2 rounded-lg hover:bg-indigo-700 transition-colors shadow-sm flex items-center disabled:bg-indigo-400",disabled:c,children:c?p.jsxs(p.Fragment,{children:[p.jsx($b,{})," Saving..."]}):"Save All"})]})]})]}),p.jsx("button",{onClick:()=>a(!0),className:"fixed bottom-8 right-8 bg-indigo-600 text-white p-4 rounded-full shadow-lg hover:bg-indigo-700 transition-transform transform hover:scale-110",children:p.jsx(sB,{})})]})})},aB=()=>p.jsx("svg",{className:"w-5 h-5",fill:"currentColor",viewBox:"0 0 20 20",xmlns:"http://www.w3.org/2000/svg",children:p.jsx("path",{fillRule:"evenodd",d:"M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-7-4a1 1 0 11-2 0 1 1 0 012 0zM9 9a1 1 0 000 2v3a1 1 0 001 1h1a1 1 0 100-2v-3a1 1 0 00-1-1H9z",clipRule:"evenodd"})}),Jd=()=>p.jsxs("svg",{className:"animate-spin -ml-1 mr-3 h-5 w-5 text-white",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",children:[p.jsx("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),p.jsx("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})]}),Wb=()=>p.jsx("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg",children:p.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M5 13l4 4L19 7"})}),lB=()=>p.jsx("svg",{className:"w-5 h-5 mr-1",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor",children:p.jsx("path",{d:"M15.362 5.214A8.252 8.252 0 0012 3a8.25 8.25 0 00-3.362 2.214c-1.121 2.3-.11 4.701 2.362 7.048-2.472 2.347-3.483 4.749-2.362 7.048A8.252 8.252 0 0012 21a8.25 8.25 0 003.362-2.214c1.121-2.3.11-4.701-2.362-7.048 2.472-2.347 3.483-4.749 2.362-7.048z"})}),uB=({onComplete:t,holdTime:e=2e3,children:n})=>{const[r,i]=G.useState(0),s=G.useRef(null),o=G.useRef(null),a=()=>{o.current=Date.now();const c=()=>{const d=Date.now()-o.current,g=Math.min(d/e*100,100);i(g),g<100?s.current=requestAnimationFrame(c):(t(),setTimeout(()=>i(0),500))};s.current=requestAnimationFrame(c)},l=()=>{s.current&&cancelAnimationFrame(s.current),i(0)},u={background:`linear-gradient(to right, #b91c1c ${r}%, #ef4444 ${r}%)`,transition:"background 0.1s linear"};return p.jsx("button",{onMouseDown:a,onMouseUp:l,onMouseLeave:l,onTouchStart:a,onTouchEnd:l,className:"bg-red-600 text-white font-bold py-2 px-4 rounded shadow-md select-none focus:outline-none",style:u,children:n})},cB=()=>{const[t,e]=G.useState([]),[n,r]=G.useState([]),[i,s]=G.useState([]),[o,a]=G.useState([]),[l,u]=G.useState({currencySymbol:""}),[c,d]=G.useState(null),[g,m]=G.useState(!1),[b,x]=G.useState(!1),[A,v]=G.useState(null),_=G.useCallback(async()=>{if(!(!g||b)){x(!0);try{await cD(),d({type:"success",message:"All orders have been cleared successfully."})}catch(M){console.error("Failed to clear orders:",M),d({type:"error",message:"An error occurred while clearing orders."})}finally{x(!1),m(!1)}}},[g,b]),E=async(M,T)=>{if(!A){v(M);try{await uD(M,T)}catch(I){console.error(`Failed to update order ${M} to ${T}:`,I),d({type:"error",message:"Failed to update order status."})}finally{v(null)}}};G.useEffect(()=>{if(c){const M=setTimeout(()=>d(null),5e3);return()=>clearTimeout(M)}},[c]),G.useEffect(()=>{(async()=>{try{const[I,D,H,ne]=await Promise.all([kA(),Wv(),Tf(),sa()]);r(I||[]),s(D||[]),a(H||[]),ne&&u(ne)}catch(I){console.error("Error fetching static data:",I),d({type:"error",message:"Could not load initial app data."})}})();const T=RA(I=>{const H=I.filter(ne=>ne.status!=="Served").map(ne=>({...ne,createdAt:new Date(ne.createdAt),status:ne.status||"Pending"})).sort((ne,ue)=>new Date(ne.createdAt)-new Date(ue.createdAt));e(H)},I=>{console.error("Realtime orders error:",I),d({type:"error",message:"Error connecting to real-time orders."})});return()=>T()},[]);const L=M=>{var T;return((T=n.find(I=>(I.id??I._id)===M))==null?void 0:T.name)||"Unknown"},z=M=>{var T;return((T=i.find(I=>(I.id??I._id)===M))==null?void 0:T.name)||"Unknown"},Y=M=>{var T;return((T=o.find(I=>(I.id??I._id)===M))==null?void 0:T.name)||"N/A"},R=M=>{switch(M){case"Preparing":return{borderColor:"border-yellow-400",badgeBg:"bg-yellow-100",badgeText:"text-yellow-800"};case"Ready":return{borderColor:"border-green-400",badgeBg:"bg-green-100",badgeText:"text-green-800"};case"Pending":default:return{borderColor:"border-blue-400",badgeBg:"bg-blue-100",badgeText:"text-blue-800"}}},C=()=>{if(!c)return null;const M=c.type==="error";return p.jsxs("div",{className:`fixed top-5 right-5 flex items-center p-4 mb-4 text-sm rounded-lg shadow-lg z-50 ${M?"text-red-800 bg-red-50":"text-green-800 bg-green-50"}`,role:"alert",children:[p.jsx(aB,{}),p.jsx("span",{className:"sr-only",children:M?"Error":"Success"}),p.jsx("div",{className:"ml-3 font-medium",children:c.message})]})},k=()=>g?p.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex justify-center items-center z-50",children:p.jsxs("div",{className:"bg-white p-6 rounded-lg shadow-xl",children:[p.jsx("h2",{className:"text-xl font-bold mb-4",children:"Confirm Action"}),p.jsx("p",{className:"mb-6",children:"Are you sure you want to clear all orders? This action cannot be undone."}),p.jsxs("div",{className:"flex justify-end gap-4",children:[p.jsx("button",{onClick:()=>m(!1),className:"px-4 py-2 bg-gray-200 rounded-lg hover:bg-gray-300",children:"Cancel"}),p.jsxs("button",{onClick:_,disabled:b,className:"px-4 py-2 bg-red-600 text-white rounded-lg hover:bg-red-700 disabled:bg-red-400 flex items-center",children:[b&&p.jsx(Jd,{}),b?"Clearing...":"Clear All"]})]})]})}):null;return p.jsxs(p.Fragment,{children:[p.jsx(k,{}),p.jsxs("div",{className:"container mx-auto py-6 px-4",children:[p.jsx(C,{}),p.jsxs("div",{className:"flex justify-between items-center mb-6",children:[p.jsx("h1",{className:"text-3xl font-bold text-gray-800",children:"Kitchen Orders"}),t.length>0&&p.jsxs("div",{className:"text-right",children:[p.jsx(uB,{onComplete:()=>m(!0),children:"Press & Hold to Clear Orders"}),p.jsxs("div",{className:"flex items-center justify-end mt-2 text-red-600",children:[p.jsx("div",{className:"w-4 h-4 mr-1",children:p.jsx("svg",{fill:"currentColor",viewBox:"0 0 20 20",xmlns:"http://www.w3.org/2000/svg",children:p.jsx("path",{fillRule:"evenodd",d:"M8.257 3.099c.636-1.21 2.273-1.21 2.91 0l5.396 10.297c.63 1.202-.288 2.653-1.64 2.653H4.5c-1.352 0-2.27-1.451-1.64-2.653l5.396-10.297zM9 8a1 1 0 011 1v3a1 1 0 11-2 0V9a1 1 0 011-1zm1 8a1 1 0 100-2 1 1 0 000 2z",clipRule:"evenodd"})})}),p.jsx("p",{className:"text-xs font-semibold",children:"Warning: This will permanently delete all active orders."})]})]})]}),t.length===0?p.jsx("p",{className:"text-gray-600 text-center text-lg mt-8",children:"No active orders."}):p.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 md:grid-cols-3 lg:grid-cols-4 gap-6",children:t.map(M=>{const T=R(M.status),I=A===M.id;return p.jsxs("div",{className:`bg-white p-4 rounded-lg shadow-md border-l-4 ${T.borderColor} flex flex-col`,children:[p.jsxs("div",{className:"flex justify-between items-center mb-2 pb-2 border-b",children:[p.jsxs("h3",{className:"text-lg font-semibold text-gray-900",children:["Table: ",L(M.tableId)]}),p.jsx("span",{className:`px-2 py-1 text-xs font-semibold rounded-full ${T.badgeBg} ${T.badgeText}`,children:M.status})]}),p.jsx("ul",{className:"text-gray-700 mb-3 space-y-1 flex-grow",children:M.items.map((D,H)=>p.jsxs("li",{className:"flex justify-between items-start",children:[p.jsxs("span",{className:"flex-1 pr-2",children:[z(D.itemId),D.portion&&p.jsxs("span",{className:"text-sm text-gray-500 capitalize ml-1",children:["(",D.portion,")"]})]}),p.jsxs("span",{className:"font-semibold",children:["x ",D.quantity]})]},H))}),p.jsxs("div",{className:"mt-auto pt-2 border-t",children:[p.jsxs("p",{className:"text-gray-800 font-semibold",children:["Total: ",l.currencySymbol,M.total.toFixed(2)]}),M.staffId&&p.jsxs("p",{className:"text-sm text-gray-500 mt-1",children:["Staff: ",Y(M.staffId)]}),p.jsxs("div",{className:"mt-4 flex flex-col gap-2",children:[M.status==="Pending"&&p.jsxs("button",{onClick:()=>E(M.id,"Preparing"),disabled:I,className:"w-full flex justify-center items-center px-4 py-2 bg-yellow-500 text-white rounded-lg hover:bg-yellow-600 disabled:bg-yellow-300 font-semibold",children:[I?p.jsx(Jd,{}):p.jsx(lB,{}),I?"Starting...":"Start Cooking"]}),M.status==="Preparing"&&p.jsxs("button",{onClick:()=>E(M.id,"Ready"),disabled:I,className:"w-full flex justify-center items-center px-4 py-2 bg-green-500 text-white rounded-lg hover:bg-green-600 disabled:bg-green-300 font-semibold",children:[I?p.jsx(Jd,{}):p.jsx(Wb,{}),I?"Finishing...":"Mark as Ready"]}),M.status==="Ready"&&p.jsxs("button",{onClick:()=>E(M.id,"Served"),disabled:I,className:"w-full flex justify-center items-center px-4 py-2 bg-gray-600 text-white rounded-lg hover:bg-gray-700 disabled:bg-gray-400 font-semibold",children:[I?p.jsx(Jd,{}):p.jsx(Wb,{}),I?"Serving...":"Mark as Served"]})]})]})]},M.id)})})]})]})};var hB=Object.defineProperty,Tm=Object.getOwnPropertySymbols,hE=Object.prototype.hasOwnProperty,fE=Object.prototype.propertyIsEnumerable,Gb=(t,e,n)=>e in t?hB(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,H2=(t,e)=>{for(var n in e||(e={}))hE.call(e,n)&&Gb(t,n,e[n]);if(Tm)for(var n of Tm(e))fE.call(e,n)&&Gb(t,n,e[n]);return t},W2=(t,e)=>{var n={};for(var r in t)hE.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&Tm)for(var r of Tm(t))e.indexOf(r)<0&&fE.call(t,r)&&(n[r]=t[r]);return n};/**
 * @license QR Code generator library (TypeScript)
 * Copyright (c) Project Nayuki.
 * SPDX-License-Identifier: MIT
 */var uu;(t=>{const e=class jt{constructor(l,u,c,d){if(this.version=l,this.errorCorrectionLevel=u,this.modules=[],this.isFunction=[],l<jt.MIN_VERSION||l>jt.MAX_VERSION)throw new RangeError("Version value out of range");if(d<-1||d>7)throw new RangeError("Mask value out of range");this.size=l*4+17;let g=[];for(let b=0;b<this.size;b++)g.push(!1);for(let b=0;b<this.size;b++)this.modules.push(g.slice()),this.isFunction.push(g.slice());this.drawFunctionPatterns();const m=this.addEccAndInterleave(c);if(this.drawCodewords(m),d==-1){let b=1e9;for(let x=0;x<8;x++){this.applyMask(x),this.drawFormatBits(x);const A=this.getPenaltyScore();A<b&&(d=x,b=A),this.applyMask(x)}}i(0<=d&&d<=7),this.mask=d,this.applyMask(d),this.drawFormatBits(d),this.isFunction=[]}static encodeText(l,u){const c=t.QrSegment.makeSegments(l);return jt.encodeSegments(c,u)}static encodeBinary(l,u){const c=t.QrSegment.makeBytes(l);return jt.encodeSegments([c],u)}static encodeSegments(l,u,c=1,d=40,g=-1,m=!0){if(!(jt.MIN_VERSION<=c&&c<=d&&d<=jt.MAX_VERSION)||g<-1||g>7)throw new RangeError("Invalid value");let b,x;for(b=c;;b++){const E=jt.getNumDataCodewords(b,u)*8,L=o.getTotalBits(l,b);if(L<=E){x=L;break}if(b>=d)throw new RangeError("Data too long")}for(const E of[jt.Ecc.MEDIUM,jt.Ecc.QUARTILE,jt.Ecc.HIGH])m&&x<=jt.getNumDataCodewords(b,E)*8&&(u=E);let A=[];for(const E of l){n(E.mode.modeBits,4,A),n(E.numChars,E.mode.numCharCountBits(b),A);for(const L of E.getData())A.push(L)}i(A.length==x);const v=jt.getNumDataCodewords(b,u)*8;i(A.length<=v),n(0,Math.min(4,v-A.length),A),n(0,(8-A.length%8)%8,A),i(A.length%8==0);for(let E=236;A.length<v;E^=253)n(E,8,A);let _=[];for(;_.length*8<A.length;)_.push(0);return A.forEach((E,L)=>_[L>>>3]|=E<<7-(L&7)),new jt(b,u,_,g)}getModule(l,u){return 0<=l&&l<this.size&&0<=u&&u<this.size&&this.modules[u][l]}getModules(){return this.modules}drawFunctionPatterns(){for(let c=0;c<this.size;c++)this.setFunctionModule(6,c,c%2==0),this.setFunctionModule(c,6,c%2==0);this.drawFinderPattern(3,3),this.drawFinderPattern(this.size-4,3),this.drawFinderPattern(3,this.size-4);const l=this.getAlignmentPatternPositions(),u=l.length;for(let c=0;c<u;c++)for(let d=0;d<u;d++)c==0&&d==0||c==0&&d==u-1||c==u-1&&d==0||this.drawAlignmentPattern(l[c],l[d]);this.drawFormatBits(0),this.drawVersion()}drawFormatBits(l){const u=this.errorCorrectionLevel.formatBits<<3|l;let c=u;for(let g=0;g<10;g++)c=c<<1^(c>>>9)*1335;const d=(u<<10|c)^21522;i(d>>>15==0);for(let g=0;g<=5;g++)this.setFunctionModule(8,g,r(d,g));this.setFunctionModule(8,7,r(d,6)),this.setFunctionModule(8,8,r(d,7)),this.setFunctionModule(7,8,r(d,8));for(let g=9;g<15;g++)this.setFunctionModule(14-g,8,r(d,g));for(let g=0;g<8;g++)this.setFunctionModule(this.size-1-g,8,r(d,g));for(let g=8;g<15;g++)this.setFunctionModule(8,this.size-15+g,r(d,g));this.setFunctionModule(8,this.size-8,!0)}drawVersion(){if(this.version<7)return;let l=this.version;for(let c=0;c<12;c++)l=l<<1^(l>>>11)*7973;const u=this.version<<12|l;i(u>>>18==0);for(let c=0;c<18;c++){const d=r(u,c),g=this.size-11+c%3,m=Math.floor(c/3);this.setFunctionModule(g,m,d),this.setFunctionModule(m,g,d)}}drawFinderPattern(l,u){for(let c=-4;c<=4;c++)for(let d=-4;d<=4;d++){const g=Math.max(Math.abs(d),Math.abs(c)),m=l+d,b=u+c;0<=m&&m<this.size&&0<=b&&b<this.size&&this.setFunctionModule(m,b,g!=2&&g!=4)}}drawAlignmentPattern(l,u){for(let c=-2;c<=2;c++)for(let d=-2;d<=2;d++)this.setFunctionModule(l+d,u+c,Math.max(Math.abs(d),Math.abs(c))!=1)}setFunctionModule(l,u,c){this.modules[u][l]=c,this.isFunction[u][l]=!0}addEccAndInterleave(l){const u=this.version,c=this.errorCorrectionLevel;if(l.length!=jt.getNumDataCodewords(u,c))throw new RangeError("Invalid argument");const d=jt.NUM_ERROR_CORRECTION_BLOCKS[c.ordinal][u],g=jt.ECC_CODEWORDS_PER_BLOCK[c.ordinal][u],m=Math.floor(jt.getNumRawDataModules(u)/8),b=d-m%d,x=Math.floor(m/d);let A=[];const v=jt.reedSolomonComputeDivisor(g);for(let E=0,L=0;E<d;E++){let z=l.slice(L,L+x-g+(E<b?0:1));L+=z.length;const Y=jt.reedSolomonComputeRemainder(z,v);E<b&&z.push(0),A.push(z.concat(Y))}let _=[];for(let E=0;E<A[0].length;E++)A.forEach((L,z)=>{(E!=x-g||z>=b)&&_.push(L[E])});return i(_.length==m),_}drawCodewords(l){if(l.length!=Math.floor(jt.getNumRawDataModules(this.version)/8))throw new RangeError("Invalid argument");let u=0;for(let c=this.size-1;c>=1;c-=2){c==6&&(c=5);for(let d=0;d<this.size;d++)for(let g=0;g<2;g++){const m=c-g,x=(c+1&2)==0?this.size-1-d:d;!this.isFunction[x][m]&&u<l.length*8&&(this.modules[x][m]=r(l[u>>>3],7-(u&7)),u++)}}i(u==l.length*8)}applyMask(l){if(l<0||l>7)throw new RangeError("Mask value out of range");for(let u=0;u<this.size;u++)for(let c=0;c<this.size;c++){let d;switch(l){case 0:d=(c+u)%2==0;break;case 1:d=u%2==0;break;case 2:d=c%3==0;break;case 3:d=(c+u)%3==0;break;case 4:d=(Math.floor(c/3)+Math.floor(u/2))%2==0;break;case 5:d=c*u%2+c*u%3==0;break;case 6:d=(c*u%2+c*u%3)%2==0;break;case 7:d=((c+u)%2+c*u%3)%2==0;break;default:throw new Error("Unreachable")}!this.isFunction[u][c]&&d&&(this.modules[u][c]=!this.modules[u][c])}}getPenaltyScore(){let l=0;for(let g=0;g<this.size;g++){let m=!1,b=0,x=[0,0,0,0,0,0,0];for(let A=0;A<this.size;A++)this.modules[g][A]==m?(b++,b==5?l+=jt.PENALTY_N1:b>5&&l++):(this.finderPenaltyAddHistory(b,x),m||(l+=this.finderPenaltyCountPatterns(x)*jt.PENALTY_N3),m=this.modules[g][A],b=1);l+=this.finderPenaltyTerminateAndCount(m,b,x)*jt.PENALTY_N3}for(let g=0;g<this.size;g++){let m=!1,b=0,x=[0,0,0,0,0,0,0];for(let A=0;A<this.size;A++)this.modules[A][g]==m?(b++,b==5?l+=jt.PENALTY_N1:b>5&&l++):(this.finderPenaltyAddHistory(b,x),m||(l+=this.finderPenaltyCountPatterns(x)*jt.PENALTY_N3),m=this.modules[A][g],b=1);l+=this.finderPenaltyTerminateAndCount(m,b,x)*jt.PENALTY_N3}for(let g=0;g<this.size-1;g++)for(let m=0;m<this.size-1;m++){const b=this.modules[g][m];b==this.modules[g][m+1]&&b==this.modules[g+1][m]&&b==this.modules[g+1][m+1]&&(l+=jt.PENALTY_N2)}let u=0;for(const g of this.modules)u=g.reduce((m,b)=>m+(b?1:0),u);const c=this.size*this.size,d=Math.ceil(Math.abs(u*20-c*10)/c)-1;return i(0<=d&&d<=9),l+=d*jt.PENALTY_N4,i(0<=l&&l<=2568888),l}getAlignmentPatternPositions(){if(this.version==1)return[];{const l=Math.floor(this.version/7)+2,u=this.version==32?26:Math.ceil((this.version*4+4)/(l*2-2))*2;let c=[6];for(let d=this.size-7;c.length<l;d-=u)c.splice(1,0,d);return c}}static getNumRawDataModules(l){if(l<jt.MIN_VERSION||l>jt.MAX_VERSION)throw new RangeError("Version number out of range");let u=(16*l+128)*l+64;if(l>=2){const c=Math.floor(l/7)+2;u-=(25*c-10)*c-55,l>=7&&(u-=36)}return i(208<=u&&u<=29648),u}static getNumDataCodewords(l,u){return Math.floor(jt.getNumRawDataModules(l)/8)-jt.ECC_CODEWORDS_PER_BLOCK[u.ordinal][l]*jt.NUM_ERROR_CORRECTION_BLOCKS[u.ordinal][l]}static reedSolomonComputeDivisor(l){if(l<1||l>255)throw new RangeError("Degree out of range");let u=[];for(let d=0;d<l-1;d++)u.push(0);u.push(1);let c=1;for(let d=0;d<l;d++){for(let g=0;g<u.length;g++)u[g]=jt.reedSolomonMultiply(u[g],c),g+1<u.length&&(u[g]^=u[g+1]);c=jt.reedSolomonMultiply(c,2)}return u}static reedSolomonComputeRemainder(l,u){let c=u.map(d=>0);for(const d of l){const g=d^c.shift();c.push(0),u.forEach((m,b)=>c[b]^=jt.reedSolomonMultiply(m,g))}return c}static reedSolomonMultiply(l,u){if(l>>>8||u>>>8)throw new RangeError("Byte out of range");let c=0;for(let d=7;d>=0;d--)c=c<<1^(c>>>7)*285,c^=(u>>>d&1)*l;return i(c>>>8==0),c}finderPenaltyCountPatterns(l){const u=l[1];i(u<=this.size*3);const c=u>0&&l[2]==u&&l[3]==u*3&&l[4]==u&&l[5]==u;return(c&&l[0]>=u*4&&l[6]>=u?1:0)+(c&&l[6]>=u*4&&l[0]>=u?1:0)}finderPenaltyTerminateAndCount(l,u,c){return l&&(this.finderPenaltyAddHistory(u,c),u=0),u+=this.size,this.finderPenaltyAddHistory(u,c),this.finderPenaltyCountPatterns(c)}finderPenaltyAddHistory(l,u){u[0]==0&&(l+=this.size),u.pop(),u.unshift(l)}};e.MIN_VERSION=1,e.MAX_VERSION=40,e.PENALTY_N1=3,e.PENALTY_N2=3,e.PENALTY_N3=40,e.PENALTY_N4=10,e.ECC_CODEWORDS_PER_BLOCK=[[-1,7,10,15,20,26,18,20,24,30,18,20,24,26,30,22,24,28,30,28,28,28,28,30,30,26,28,30,30,30,30,30,30,30,30,30,30,30,30,30,30],[-1,10,16,26,18,24,16,18,22,22,26,30,22,22,24,24,28,28,26,26,26,26,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28],[-1,13,22,18,26,18,24,18,22,20,24,28,26,24,20,30,24,28,28,26,30,28,30,30,30,30,28,30,30,30,30,30,30,30,30,30,30,30,30,30,30],[-1,17,28,22,16,22,28,26,26,24,28,24,28,22,24,24,30,28,28,26,28,30,24,30,30,30,30,30,30,30,30,30,30,30,30,30,30,30,30,30,30]],e.NUM_ERROR_CORRECTION_BLOCKS=[[-1,1,1,1,1,1,2,2,2,2,4,4,4,4,4,6,6,6,6,7,8,8,9,9,10,12,12,12,13,14,15,16,17,18,19,19,20,21,22,24,25],[-1,1,1,1,2,2,4,4,4,5,5,5,8,9,9,10,10,11,13,14,16,17,17,18,20,21,23,25,26,28,29,31,33,35,37,38,40,43,45,47,49],[-1,1,1,2,2,4,4,6,6,8,8,8,10,12,16,12,17,16,18,21,20,23,23,25,27,29,34,34,35,38,40,43,45,48,51,53,56,59,62,65,68],[-1,1,1,2,4,4,4,5,6,8,8,11,11,16,16,18,16,19,21,25,25,25,34,30,32,35,37,40,42,45,48,51,54,57,60,63,66,70,74,77,81]],t.QrCode=e;function n(a,l,u){if(l<0||l>31||a>>>l)throw new RangeError("Value out of range");for(let c=l-1;c>=0;c--)u.push(a>>>c&1)}function r(a,l){return(a>>>l&1)!=0}function i(a){if(!a)throw new Error("Assertion error")}const s=class $n{constructor(l,u,c){if(this.mode=l,this.numChars=u,this.bitData=c,u<0)throw new RangeError("Invalid argument");this.bitData=c.slice()}static makeBytes(l){let u=[];for(const c of l)n(c,8,u);return new $n($n.Mode.BYTE,l.length,u)}static makeNumeric(l){if(!$n.isNumeric(l))throw new RangeError("String contains non-numeric characters");let u=[];for(let c=0;c<l.length;){const d=Math.min(l.length-c,3);n(parseInt(l.substring(c,c+d),10),d*3+1,u),c+=d}return new $n($n.Mode.NUMERIC,l.length,u)}static makeAlphanumeric(l){if(!$n.isAlphanumeric(l))throw new RangeError("String contains unencodable characters in alphanumeric mode");let u=[],c;for(c=0;c+2<=l.length;c+=2){let d=$n.ALPHANUMERIC_CHARSET.indexOf(l.charAt(c))*45;d+=$n.ALPHANUMERIC_CHARSET.indexOf(l.charAt(c+1)),n(d,11,u)}return c<l.length&&n($n.ALPHANUMERIC_CHARSET.indexOf(l.charAt(c)),6,u),new $n($n.Mode.ALPHANUMERIC,l.length,u)}static makeSegments(l){return l==""?[]:$n.isNumeric(l)?[$n.makeNumeric(l)]:$n.isAlphanumeric(l)?[$n.makeAlphanumeric(l)]:[$n.makeBytes($n.toUtf8ByteArray(l))]}static makeEci(l){let u=[];if(l<0)throw new RangeError("ECI assignment value out of range");if(l<128)n(l,8,u);else if(l<16384)n(2,2,u),n(l,14,u);else if(l<1e6)n(6,3,u),n(l,21,u);else throw new RangeError("ECI assignment value out of range");return new $n($n.Mode.ECI,0,u)}static isNumeric(l){return $n.NUMERIC_REGEX.test(l)}static isAlphanumeric(l){return $n.ALPHANUMERIC_REGEX.test(l)}getData(){return this.bitData.slice()}static getTotalBits(l,u){let c=0;for(const d of l){const g=d.mode.numCharCountBits(u);if(d.numChars>=1<<g)return 1/0;c+=4+g+d.bitData.length}return c}static toUtf8ByteArray(l){l=encodeURI(l);let u=[];for(let c=0;c<l.length;c++)l.charAt(c)!="%"?u.push(l.charCodeAt(c)):(u.push(parseInt(l.substring(c+1,c+3),16)),c+=2);return u}};s.NUMERIC_REGEX=/^[0-9]*$/,s.ALPHANUMERIC_REGEX=/^[A-Z0-9 $%*+.\/:-]*$/,s.ALPHANUMERIC_CHARSET="0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ $%*+-./:";let o=s;t.QrSegment=s})(uu||(uu={}));(t=>{(e=>{const n=class{constructor(i,s){this.ordinal=i,this.formatBits=s}};n.LOW=new n(0,1),n.MEDIUM=new n(1,0),n.QUARTILE=new n(2,3),n.HIGH=new n(3,2),e.Ecc=n})(t.QrCode||(t.QrCode={}))})(uu||(uu={}));(t=>{(e=>{const n=class{constructor(i,s){this.modeBits=i,this.numBitsCharCount=s}numCharCountBits(i){return this.numBitsCharCount[Math.floor((i+7)/17)]}};n.NUMERIC=new n(1,[10,12,14]),n.ALPHANUMERIC=new n(2,[9,11,13]),n.BYTE=new n(4,[8,16,16]),n.KANJI=new n(8,[8,10,12]),n.ECI=new n(7,[0,0,0]),e.Mode=n})(t.QrSegment||(t.QrSegment={}))})(uu||(uu={}));var Ju=uu;/**
 * @license qrcode.react
 * Copyright (c) Paul O'Shannessy
 * SPDX-License-Identifier: ISC
 */var fB={L:Ju.QrCode.Ecc.LOW,M:Ju.QrCode.Ecc.MEDIUM,Q:Ju.QrCode.Ecc.QUARTILE,H:Ju.QrCode.Ecc.HIGH},dE=128,pE="L",mE="#FFFFFF",gE="#000000",yE=!1,vE=1,dB=4,pB=0,mB=.1;function wE(t,e=0){const n=[];return t.forEach(function(r,i){let s=null;r.forEach(function(o,a){if(!o&&s!==null){n.push(`M${s+e} ${i+e}h${a-s}v1H${s+e}z`),s=null;return}if(a===r.length-1){if(!o)return;s===null?n.push(`M${a+e},${i+e} h1v1H${a+e}z`):n.push(`M${s+e},${i+e} h${a+1-s}v1H${s+e}z`);return}o&&s===null&&(s=a)})}),n.join("")}function xE(t,e){return t.slice().map((n,r)=>r<e.y||r>=e.y+e.h?n:n.map((i,s)=>s<e.x||s>=e.x+e.w?i:!1))}function gB(t,e,n,r){if(r==null)return null;const i=t.length+n*2,s=Math.floor(e*mB),o=i/e,a=(r.width||s)*o,l=(r.height||s)*o,u=r.x==null?t.length/2-a/2:r.x*o,c=r.y==null?t.length/2-l/2:r.y*o,d=r.opacity==null?1:r.opacity;let g=null;if(r.excavate){let b=Math.floor(u),x=Math.floor(c),A=Math.ceil(a+u-b),v=Math.ceil(l+c-x);g={x:b,y:x,w:A,h:v}}const m=r.crossOrigin;return{x:u,y:c,h:l,w:a,excavation:g,opacity:d,crossOrigin:m}}function yB(t,e){return e!=null?Math.max(Math.floor(e),0):t?dB:pB}function bE({value:t,level:e,minVersion:n,includeMargin:r,marginSize:i,imageSettings:s,size:o,boostLevel:a}){let l=Zt.useMemo(()=>{const b=(Array.isArray(t)?t:[t]).reduce((x,A)=>(x.push(...Ju.QrSegment.makeSegments(A)),x),[]);return Ju.QrCode.encodeSegments(b,fB[e],n,void 0,void 0,a)},[t,e,n,a]);const{cells:u,margin:c,numCells:d,calculatedImageSettings:g}=Zt.useMemo(()=>{let m=l.getModules();const b=yB(r,i),x=m.length+b*2,A=gB(m,o,b,s);return{cells:m,margin:b,numCells:x,calculatedImageSettings:A}},[l,o,s,r,i]);return{qrcode:l,margin:c,cells:u,numCells:d,calculatedImageSettings:g}}var vB=function(){try{new Path2D().addPath(new Path2D)}catch{return!1}return!0}(),wB=Zt.forwardRef(function(e,n){const r=e,{value:i,size:s=dE,level:o=pE,bgColor:a=mE,fgColor:l=gE,includeMargin:u=yE,minVersion:c=vE,boostLevel:d,marginSize:g,imageSettings:m}=r,x=W2(r,["value","size","level","bgColor","fgColor","includeMargin","minVersion","boostLevel","marginSize","imageSettings"]),{style:A}=x,v=W2(x,["style"]),_=m==null?void 0:m.src,E=Zt.useRef(null),L=Zt.useRef(null),z=Zt.useCallback(H=>{E.current=H,typeof n=="function"?n(H):n&&(n.current=H)},[n]),[Y,R]=Zt.useState(!1),{margin:C,cells:k,numCells:M,calculatedImageSettings:T}=bE({value:i,level:o,minVersion:c,boostLevel:d,includeMargin:u,marginSize:g,imageSettings:m,size:s});Zt.useEffect(()=>{if(E.current!=null){const H=E.current,ne=H.getContext("2d");if(!ne)return;let ue=k;const ae=L.current,ee=T!=null&&ae!==null&&ae.complete&&ae.naturalHeight!==0&&ae.naturalWidth!==0;ee&&T.excavation!=null&&(ue=xE(k,T.excavation));const se=window.devicePixelRatio||1;H.height=H.width=s*se;const ye=s/M*se;ne.scale(ye,ye),ne.fillStyle=a,ne.fillRect(0,0,M,M),ne.fillStyle=l,vB?ne.fill(new Path2D(wE(ue,C))):k.forEach(function(Se,V){Se.forEach(function(Q,te){Q&&ne.fillRect(te+C,V+C,1,1)})}),T&&(ne.globalAlpha=T.opacity),ee&&ne.drawImage(ae,T.x+C,T.y+C,T.w,T.h)}}),Zt.useEffect(()=>{R(!1)},[_]);const I=H2({height:s,width:s},A);let D=null;return _!=null&&(D=Zt.createElement("img",{src:_,key:_,style:{display:"none"},onLoad:()=>{R(!0)},ref:L,crossOrigin:T==null?void 0:T.crossOrigin})),Zt.createElement(Zt.Fragment,null,Zt.createElement("canvas",H2({style:I,height:s,width:s,ref:z,role:"img"},v)),D)});wB.displayName="QRCodeCanvas";var _E=Zt.forwardRef(function(e,n){const r=e,{value:i,size:s=dE,level:o=pE,bgColor:a=mE,fgColor:l=gE,includeMargin:u=yE,minVersion:c=vE,boostLevel:d,title:g,marginSize:m,imageSettings:b}=r,x=W2(r,["value","size","level","bgColor","fgColor","includeMargin","minVersion","boostLevel","title","marginSize","imageSettings"]),{margin:A,cells:v,numCells:_,calculatedImageSettings:E}=bE({value:i,level:o,minVersion:c,boostLevel:d,includeMargin:u,marginSize:m,imageSettings:b,size:s});let L=v,z=null;b!=null&&E!=null&&(E.excavation!=null&&(L=xE(v,E.excavation)),z=Zt.createElement("image",{href:b.src,height:E.h,width:E.w,x:E.x+A,y:E.y+A,preserveAspectRatio:"none",opacity:E.opacity,crossOrigin:E.crossOrigin}));const Y=wE(L,A);return Zt.createElement("svg",H2({height:s,width:s,viewBox:`0 0 ${_} ${_}`,ref:n,role:"img"},x),!!g&&Zt.createElement("title",null,g),Zt.createElement("path",{fill:a,d:`M0,0 h${_}v${_}H0z`,shapeRendering:"crispEdges"}),Zt.createElement("path",{fill:l,d:Y,shapeRendering:"crispEdges"}),z)});_E.displayName="QRCodeSVG";const xB=G.forwardRef(({details:t,settings:e,discount:n=0,onDiscountChange:r,onPrint:i},s)=>{if(!t)return null;const{order:o={},items:a=[],tableName:l="N/A",staffName:u="N/A"}=t,c=(e==null?void 0:e.restaurantName)||"SyncServe Restaurant",d=(e==null?void 0:e.address)||"123 Culinary Lane, Edakkara, Kerala",g=(e==null?void 0:e.upiId)||"your-upi@id",m=(e==null?void 0:e.currencySymbol)||"",b=(e==null?void 0:e.currencyCode)||"INR",x=G.useMemo(()=>(Array.isArray(a)?a:[]).map(Y=>{const R=Number(Y.quantity??Y.qty??1),C=Number(Y.price??Y.rate??0);return{itemId:Y.itemId??Math.random(),name:String(Y.name??Y.itemName??"Item"),notes:String(Y.notes??Y.modifiers??Y.description??""),quantity:Number.isFinite(R)?R:1,price:Number.isFinite(C)?C:0,amount:Number.isFinite(R)&&Number.isFinite(C)?R*C:0}}),[a]),{subTotal:A,grandTotal:v}=G.useMemo(()=>{const z=x.reduce((k,M)=>k+M.amount,0),Y=Number(o.total??z),R=Number(n||0),C=Math.max(0,Y-R);return{subTotal:Y,grandTotal:C}},[x,o.total,n]),{dateStr:_,timeStr:E}=G.useMemo(()=>{const z=new Date;try{const Y=new Date(o.createdAt??o.date);return isNaN(Y.getTime())?{dateStr:z.toLocaleDateString("en-IN"),timeStr:z.toLocaleTimeString("en-IN",{hour:"2-digit",minute:"2-digit"})}:{dateStr:Y.toLocaleDateString("en-IN"),timeStr:Y.toLocaleTimeString("en-IN",{hour:"2-digit",minute:"2-digit"})}}catch{return{dateStr:z.toLocaleDateString("en-IN"),timeStr:z.toLocaleTimeString("en-IN",{hour:"2-digit",minute:"2-digit"})}}},[o.createdAt,o.date]),L=G.useMemo(()=>{const z=c.replace(/\s/g,"%20"),Y=`Bill%20for%20${l}`.replace(/\s/g,"%20");return`upi://pay?pa=${g}&pn=${z}&am=${v.toFixed(2)}&cu=${b}&tn=${Y}`},[v,l,c,g,b]);return p.jsxs("div",{ref:s,className:"thermal-print","aria-label":`Bill for ${l}`,children:[p.jsxs("header",{className:"header",children:[p.jsx("div",{className:"logo-placeholder",children:"[Your Logo Here]"}),p.jsx("h1",{className:"business-name",children:c}),p.jsx("p",{className:"business-details",children:d}),p.jsx("p",{className:"invoice-title",children:"--- INVOICE ---"})]}),p.jsxs("section",{className:"meta-info",children:[p.jsxs("div",{className:"meta-row",children:[p.jsxs("span",{children:["Table: ",p.jsx("strong",{children:l})]}),p.jsxs("span",{children:["Date: ",_]})]}),p.jsxs("div",{className:"meta-row",children:[p.jsxs("span",{children:["Staff: ",p.jsx("strong",{children:u})]}),p.jsxs("span",{children:["Time: ",E]})]})]}),p.jsxs("table",{className:"items-table",children:[p.jsx("thead",{children:p.jsxs("tr",{children:[p.jsx("th",{className:"col-sno",children:"#"}),p.jsx("th",{className:"col-item",children:"ITEM"}),p.jsx("th",{className:"col-qty",children:"QTY"}),p.jsx("th",{className:"col-price",children:"RATE"}),p.jsx("th",{className:"col-total",children:"TOTAL"})]})}),p.jsx("tbody",{children:x.length===0?p.jsx("tr",{children:p.jsx("td",{colSpan:"5",className:"no-items",children:"No items in this order."})}):x.map((z,Y)=>p.jsxs("tr",{children:[p.jsx("td",{className:"col-sno",children:Y+1}),p.jsxs("td",{className:"col-item",children:[p.jsx("span",{className:"item-name",children:z.name}),z.notes&&p.jsx("span",{className:"item-notes",children:z.notes})]}),p.jsx("td",{className:"col-qty",children:z.quantity}),p.jsx("td",{className:"col-price",children:z.price.toFixed(2)}),p.jsx("td",{className:"col-total",children:z.amount.toFixed(2)})]},z.itemId))})]}),p.jsxs("section",{className:"totals",children:[p.jsxs("div",{className:"total-row",children:[p.jsx("span",{children:"Sub Total"}),p.jsxs("span",{children:[m,A.toFixed(2)]})]}),p.jsxs("div",{className:"total-row no-print",children:[p.jsx("span",{children:"Discount"}),p.jsxs("div",{className:"discount-control",children:[p.jsxs("span",{children:[m,Number(n).toFixed(2)]}),p.jsx("input",{type:"number",value:n,onChange:r,className:"discount-input","aria-label":"Discount amount"})]})]}),p.jsxs("div",{className:"total-row print-only",children:[p.jsx("span",{children:"Discount"}),p.jsxs("span",{children:[m,Number(n).toFixed(2)]})]}),p.jsxs("div",{className:"total-row grand-total",children:[p.jsx("span",{children:"Grand Total"}),p.jsxs("span",{children:[m,v.toFixed(2)]})]})]}),p.jsx("div",{className:"actions no-print",children:p.jsx("button",{onClick:i,className:"print-button",children:"Print / Finalize Bill"})}),p.jsxs("footer",{className:"footer",children:[p.jsx("div",{className:"qr-code-container",children:v>0&&g?p.jsx(_E,{value:L,size:110,bgColor:"#ffffff",fgColor:"#000000",level:"L",includeMargin:!1}):p.jsx("div",{className:"qr-placeholder",children:"[QR Code Here]"})}),p.jsx("p",{className:"footer-message",children:"Thank you for your visit!"}),o.id&&p.jsxs("p",{className:"order-id",children:["Order ID: ",String(o.id)]})]})]})}),bB=".thermal-print{width:100%;max-width:76mm;margin:0 auto;padding:12px;background-color:#fff;color:#000;font-family:Courier New,Courier,monospace;font-size:12px;line-height:1.4;box-sizing:border-box}.thermal-print *{box-sizing:border-box}.header{text-align:center;margin-bottom:10px}.logo-placeholder{font-size:10px;color:#888;margin-bottom:8px}.business-name{font-size:16px;font-weight:700;margin:0}.business-details{font-size:10px;margin:2px 0}.invoice-title{font-size:10px;margin:8px 0 0;font-weight:700}.meta-info{font-size:10px;margin-bottom:10px;border-top:1px dashed #000;border-bottom:1px dashed #000;padding:5px 0}.meta-row{display:flex;justify-content:space-between}.items-table{width:100%;border-collapse:collapse;margin-bottom:10px}.items-table thead{border-bottom:1px solid #000}.items-table th{font-size:10px;font-weight:700;padding:5px 2px}.items-table td{padding:5px 2px;vertical-align:top;border-bottom:1px dotted #888}.no-items{text-align:center;padding:15px 0;color:#888}.item-name{display:block}.item-notes{display:block;font-size:9px;color:#555;padding-left:5px}.col-sno{width:8%;text-align:left;padding-right:4px}.col-item{width:37%;text-align:left}.col-qty,.col-price,.col-total{text-align:right;white-space:nowrap;font-variant-numeric:tabular-nums}.col-qty{width:15%}.col-price,.col-total{width:20%}.totals{font-size:12px;border-top:1px solid #000;padding-top:5px}.total-row{display:flex;justify-content:space-between;margin-bottom:3px}.grand-total{font-weight:700;font-size:15px;margin-top:5px;padding-top:5px;border-top:1px dashed #000}.discount-control{display:flex;align-items:center;gap:8px}.discount-input{width:70px;border:1px solid #ccc;text-align:right;padding:2px}.actions{margin:15px 0}.print-button{width:100%;padding:10px;background-color:#333;color:#fff;border:none;cursor:pointer;font-family:inherit;font-size:14px}.footer{text-align:center;margin-top:15px;border-top:1px dashed #000;padding-top:10px}.qr-placeholder{width:90px;height:90px;border:1px solid #888;margin:0 auto 10px;display:flex;align-items:center;justify-content:center;font-size:9px;color:#888}.footer-message{font-weight:700}.order-id{font-size:9px;color:#555;margin-top:5px}.qr-code-container{margin:0 auto 10px;width:110px;height:110px}.print-only{display:none}@media print{.no-print{display:none!important}.print-only{display:flex}.thermal-print{max-width:100%;padding:0;box-shadow:none}.qr-code-container{display:block}}",Kb={success:p.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M9 12l2 2 4-4m6 2a9 9 0 11-18 0 9 9 0 0118 0z"}),error:p.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M12 8v4m0 4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"}),warning:p.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M12 9v2m0 4h.01m-6.938 4h13.856c1.54 0 2.502-1.667 1.732-3L13.732 4c-.77-1.333-2.694-1.333-3.464 0L3.34 16c-.77 1.333.192 3 1.732 3z"}),info:p.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M13 16h-1v-4h-1m1-4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"})},_B=G.memo(({show:t,message:e,type:n,onClose:r})=>{if(!t)return null;const i={success:"bg-green-50 text-green-800 border-green-200",error:"bg-red-50 text-red-800 border-red-200",warning:"bg-orange-50 text-orange-800 border-orange-200",info:"bg-gray-50 text-gray-600 border-gray-200"};return p.jsxs("div",{className:`fixed top-5 left-4 right-4 md:left-auto md:right-5 md:w-96 z-50 flex items-center p-4 rounded-lg border shadow-lg transition-all duration-300 ${i[n]||i.info}`,children:[p.jsx("svg",{className:"w-5 h-5 mr-3 flex-shrink-0",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:Kb[n]||Kb.info}),p.jsx("div",{className:"text-sm font-medium",children:e}),p.jsx("button",{onClick:r,className:"ml-auto -mx-1.5 -my-1.5 rounded-lg p-1.5 inline-flex h-8 w-8 opacity-70 hover:opacity-100 focus:ring-2",children:p.jsx("svg",{className:"w-4 h-4",fill:"currentColor",viewBox:"0 0 20 20",children:p.jsx("path",{fillRule:"evenodd",d:"M4.293 4.293a1 1 0 011.414 0L10 8.586l4.293-4.293a1 1 0 111.414 1.414L11.414 10l4.293 4.293a1 1 0 01-1.414 1.414L10 11.414l-4.293 4.293a1 1 0 01-1.414-1.414L8.586 10 4.293 5.707a1 1 0 010-1.414z",clipRule:"evenodd"})})})]})}),xh=({active:t,label:e,onClick:n,color:r})=>p.jsx("button",{onClick:n,className:`w-full transition-colors duration-200 px-4 py-2 rounded-lg text-sm font-semibold ${t?`bg-${r}-600 text-white shadow`:"bg-gray-200 hover:bg-gray-300 text-gray-700"}`,children:e}),SB=()=>{var m;const[t,e]=G.useState({tables:[],orders:[],menuItems:[],staff:[],settings:{}}),[n,r]=G.useState({loading:!1,selectedTableId:"",highlightedIndex:-1,discount:0,orderType:"Dine-In",paymentMode:"Cash"}),[i,s]=G.useState(null),[o,a]=G.useState({show:!1,message:"",type:"info"}),l=G.useRef(null),u=G.useRef(null),c=t.tables.filter(b=>b.status==="occupied"),d=G.useCallback((b,x="success")=>{a({show:!0,message:b,type:x}),setTimeout(()=>a(A=>({...A,show:!1})),2500)},[]);G.useEffect(()=>{var v;(async()=>{r(_=>({..._,loading:!0}));try{const[_,E,L]=await Promise.all([Wv(),Tf(),sa()]);e(z=>({...z,menuItems:_||[],staff:E||[],settings:L||{}}))}catch{d("Failed to load data. Please refresh.","error")}finally{r(_=>({..._,loading:!1}))}})(),(v=l.current)==null||v.focus();const x=IA(_=>e(E=>({...E,tables:_||[]})),()=>d("Table sync error","error")),A=RA(_=>e(E=>({...E,orders:_||[]})),()=>d("Order sync error","error"));return()=>{x&&x(),A&&A()}},[d]);const g=G.useCallback(async()=>{var A,v;if(!i){if(c.length===0)return d("No active bills to process.","info");const _=(A=c[n.highlightedIndex])==null?void 0:A.id;return _&&_!==n.selectedTableId?d("Press ENTER to confirm table selection first.","warning"):d("Please select a table first.","warning")}if(!u.current)return;const b=document.createElement("iframe");Object.assign(b.style,{position:"fixed",right:"0",bottom:"0",width:"0",height:"0",border:"0",visibility:"hidden"}),document.body.appendChild(b);const x=b.contentWindow.document;x.open(),x.write(`<!doctype html><html><head><style>${bB}</style></head><body><div class="receipt-print-container"><div class="receipt">${u.current.innerHTML}</div></div></body></html>`),x.close(),b.onload=()=>{const _=b.contentWindow;_.focus(),setTimeout(()=>{try{_.print()}catch(E){console.error(E)}setTimeout(()=>document.body.removeChild(b),500)},250)};try{const _=i.items.reduce((E,L)=>E+L.price*L.quantity,0);await hD({tableName:i.tableName,staffName:i.staffName,subTotal:_,discount:Number(n.discount)||0,grandTotal:_-(Number(n.discount)||0),items:i.items,originalOrderId:i.order.id,orderType:n.orderType,paymentMode:n.paymentMode}),await LA(n.selectedTableId,"available"),await lD(i.order.id),d(`Saved: ${i.tableName} (${n.orderType} / ${n.paymentMode})`,"success"),s(null),r(E=>({...E,selectedTableId:"",highlightedIndex:-1,discount:0,orderType:"Dine-In",paymentMode:"Cash"})),(v=l.current)==null||v.focus()}catch{d("Finalize failed. Check console.","error")}},[i,n,c,d]);return G.useEffect(()=>{const b=x=>{if(x.ctrlKey&&x.key.toLowerCase()==="p"){x.preventDefault(),g();return}const A={F3:["orderType","Dine-In"],F4:["orderType","Takeaway"],F7:["paymentMode","Cash"],F8:["paymentMode","Card"],F9:["paymentMode","UPI"]};if(A[x.key]){x.preventDefault(),r(v=>({...v,[A[x.key][0]]:A[x.key][1]})),d(`${A[x.key][1]} Mode`,"info");return}if(x.key==="ArrowDown"||x.key==="ArrowUp"){if(x.preventDefault(),c.length===0){o.show||d("No active bills to select.","info");return}r(v=>{const _=x.key==="ArrowDown"?(v.highlightedIndex+1)%c.length:(v.highlightedIndex-1+c.length)%c.length;return{...v,highlightedIndex:_}})}if(x.key==="Enter"&&(x.preventDefault(),n.highlightedIndex>=0&&n.highlightedIndex<c.length)){const v=c[n.highlightedIndex].id;r(_=>({..._,selectedTableId:v}))}};return document.addEventListener("keydown",b),()=>document.removeEventListener("keydown",b)},[c,n.highlightedIndex,g,d,o.show]),G.useEffect(()=>{var x,A;if(!n.selectedTableId){s(null);return}const b=t.orders.filter(v=>v.tableId===n.selectedTableId).sort((v,_)=>new Date(_.createdAt)-new Date(v.createdAt))[0];if(!b){s(null);return}s({order:b,tableName:((x=t.tables.find(v=>v.id===b.tableId))==null?void 0:x.name)||"N/A",staffName:((A=t.staff.find(v=>v.id===b.staffId))==null?void 0:A.name)||"N/A",items:(b.items||[]).map(v=>{const _=t.menuItems.find(E=>E.id===v.itemId);return{...v,name:(_==null?void 0:_.name)||v.name,price:Number((_==null?void 0:_.price)??v.price??0)}})}),r(v=>({...v,discount:0}))},[n.selectedTableId,t.orders,t.menuItems,t.staff,t.tables]),p.jsxs("div",{className:"container mx-auto py-6 px-4 relative",children:[p.jsx(_B,{...o,onClose:()=>a(b=>({...b,show:!1}))}),p.jsx("h1",{className:"text-3xl font-bold mb-6 text-gray-800",children:"Billing"}),p.jsxs("div",{className:"bg-white p-4 rounded-lg shadow-md mb-6 no-print",children:[p.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[p.jsxs("div",{children:[p.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Order Type"}),p.jsxs("div",{className:"flex space-x-2",children:[p.jsx(xh,{label:"Dine-In (F3)",active:n.orderType==="Dine-In",onClick:()=>{r(b=>({...b,orderType:"Dine-In"})),d("Dine-In Mode","info")},color:"blue"}),p.jsx(xh,{label:"Takeaway (F4)",active:n.orderType==="Takeaway",onClick:()=>{r(b=>({...b,orderType:"Takeaway"})),d("Takeaway Mode","info")},color:"blue"})]})]}),p.jsxs("div",{children:[p.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Payment Mode"}),p.jsxs("div",{className:"flex space-x-2",children:[p.jsx(xh,{label:"Cash (F7)",active:n.paymentMode==="Cash",onClick:()=>{r(b=>({...b,paymentMode:"Cash"})),d("Cash Payment","info")},color:"green"}),p.jsx(xh,{label:"Card (F8)",active:n.paymentMode==="Card",onClick:()=>{r(b=>({...b,paymentMode:"Card"})),d("Card Payment","info")},color:"green"}),p.jsx(xh,{label:"UPI (F9)",active:n.paymentMode==="UPI",onClick:()=>{r(b=>({...b,paymentMode:"UPI"})),d("UPI Payment","info")},color:"green"})]})]})]}),p.jsxs("div",{className:"mt-6 pt-6 border-t",children:[p.jsx("label",{htmlFor:"table-select",className:"block text-sm font-medium text-gray-700 mb-1",children:"Select Occupied Table (Use  & Enter)"}),p.jsxs("select",{id:"table-select",ref:l,value:((m=c[n.highlightedIndex])==null?void 0:m.id)||"",onChange:b=>{const x=b.target.value,A=c.findIndex(v=>v.id===x);r(v=>({...v,highlightedIndex:A,selectedTableId:x}))},className:"w-full md:w-1/2 p-2 border rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500",disabled:n.loading,children:[p.jsx("option",{value:"",children:n.loading?"Loading tables...":"Select a Table"}),c.map(b=>p.jsx("option",{value:b.id,children:b.name},b.id))]})]})]}),i&&p.jsx(xB,{ref:u,details:{...i,orderType:n.orderType,paymentMode:n.paymentMode},settings:t.settings,discount:n.discount,onDiscountChange:b=>r(x=>({...x,discount:b.target.value})),onPrint:g})]})};/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const AB=t=>t.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),NB=t=>t.replace(/^([A-Z])|[\s-_]+(\w)/g,(e,n,r)=>r?r.toUpperCase():n.toLowerCase()),Qb=t=>{const e=NB(t);return e.charAt(0).toUpperCase()+e.slice(1)},SE=(...t)=>t.filter((e,n,r)=>!!e&&e.trim()!==""&&r.indexOf(e)===n).join(" ").trim(),EB=t=>{for(const e in t)if(e.startsWith("aria-")||e==="role"||e==="title")return!0};/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var TB={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const CB=G.forwardRef(({color:t="currentColor",size:e=24,strokeWidth:n=2,absoluteStrokeWidth:r,className:i="",children:s,iconNode:o,...a},l)=>G.createElement("svg",{ref:l,...TB,width:e,height:e,stroke:t,strokeWidth:r?Number(n)*24/Number(e):n,className:SE("lucide",i),...!s&&!EB(a)&&{"aria-hidden":"true"},...a},[...o.map(([u,c])=>G.createElement(u,c)),...Array.isArray(s)?s:[s]]));/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const oa=(t,e)=>{const n=G.forwardRef(({className:r,...i},s)=>G.createElement(CB,{ref:s,iconNode:e,className:SE(`lucide-${AB(Qb(t))}`,`lucide-${t}`,r),...i}));return n.displayName=Qb(t),n};/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const PB=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]],kB=oa("circle-alert",PB);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const IB=[["path",{d:"M21.801 10A10 10 0 1 1 17 3.335",key:"yps3ct"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]],LB=oa("circle-check-big",IB);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const RB=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 2a14.5 14.5 0 0 0 0 20 14.5 14.5 0 0 0 0-20",key:"13o1zl"}],["path",{d:"M2 12h20",key:"9i4pu4"}]],Yb=oa("globe",RB);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const jB=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 16v-4",key:"1dtifu"}],["path",{d:"M12 8h.01",key:"e9boi3"}]],DB=oa("info",jB);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const MB=[["path",{d:"M10 8h.01",key:"1r9ogq"}],["path",{d:"M12 12h.01",key:"1mp3jc"}],["path",{d:"M14 8h.01",key:"1primd"}],["path",{d:"M16 12h.01",key:"1l6xoz"}],["path",{d:"M18 8h.01",key:"emo2bl"}],["path",{d:"M6 8h.01",key:"x9i8wu"}],["path",{d:"M7 16h10",key:"wp8him"}],["path",{d:"M8 12h.01",key:"czm47f"}],["rect",{width:"20",height:"16",x:"2",y:"4",rx:"2",key:"18n3k1"}]],Xb=oa("keyboard",MB);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const FB=[["rect",{width:"20",height:"14",x:"2",y:"3",rx:"2",key:"48i651"}],["line",{x1:"8",x2:"16",y1:"21",y2:"21",key:"1svkeh"}],["line",{x1:"12",x2:"12",y1:"17",y2:"21",key:"vw1qmm"}]],OB=oa("monitor",FB);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const VB=[["path",{d:"M6 18H4a2 2 0 0 1-2-2v-5a2 2 0 0 1 2-2h16a2 2 0 0 1 2 2v5a2 2 0 0 1-2 2h-2",key:"143wyd"}],["path",{d:"M6 9V3a1 1 0 0 1 1-1h10a1 1 0 0 1 1 1v6",key:"1itne7"}],["rect",{x:"6",y:"14",width:"12",height:"8",rx:"1",key:"1ue0tg"}]],Rg=oa("printer",VB);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const BB=[["path",{d:"M15.2 3a2 2 0 0 1 1.4.6l3.8 3.8a2 2 0 0 1 .6 1.4V19a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2z",key:"1c8476"}],["path",{d:"M17 21v-7a1 1 0 0 0-1-1H8a1 1 0 0 0-1 1v7",key:"1ydtos"}],["path",{d:"M7 3v4a1 1 0 0 0 1 1h7",key:"t51u73"}]],UB=oa("save",BB);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const zB=[["path",{d:"M15 21v-5a1 1 0 0 0-1-1h-4a1 1 0 0 0-1 1v5",key:"slp6dd"}],["path",{d:"M17.774 10.31a1.12 1.12 0 0 0-1.549 0 2.5 2.5 0 0 1-3.451 0 1.12 1.12 0 0 0-1.548 0 2.5 2.5 0 0 1-3.452 0 1.12 1.12 0 0 0-1.549 0 2.5 2.5 0 0 1-3.77-3.248l2.889-4.184A2 2 0 0 1 7 2h10a2 2 0 0 1 1.653.873l2.895 4.192a2.5 2.5 0 0 1-3.774 3.244",key:"o0xfot"}],["path",{d:"M4 10.95V19a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2v-8.05",key:"wn3emo"}]],Jb=oa("store",zB),qB=[{code:"en",name:"English"},{code:"hi",name:"Hindi ()"},{code:"es",name:"Spanish (Espaol)"},{code:"ar",name:"Arabic ()"},{code:"fr",name:"French (Franais)"}],$B=[{symbol:"",code:"INR",name:"Indian Rupee"},{symbol:"$",code:"USD",name:"US Dollar"},{symbol:"",code:"EUR",name:"Euro"},{symbol:"",code:"GBP",name:"British Pound"},{symbol:"",code:"JPY",name:"Japanese Yen"},{symbol:"AED",code:"AED",name:"UAE Dirham"}],HB=[{category:"Orders",keys:"F3",action:"New Dine-In Order"},{category:"Orders",keys:"F4",action:"New Takeaway Order"},{category:"Payment",keys:"F7",action:"Set Payment: Cash"},{category:"Payment",keys:"F8",action:"Set Payment: Card"},{category:"Payment",keys:"F9",action:"Set Payment: UPI"},{category:"System",keys:"Ctrl + P",action:"Finalize & Print Bill"},{category:"Navigation",keys:" / ",action:"Navigate Tables"},{category:"Navigation",keys:"Enter",action:"Select Table"}],WB=()=>{const[t,e]=G.useState("general"),[n,r]=G.useState(!0),[i,s]=G.useState(!1),[o,a]=G.useState(null),[l,u]=G.useState({restaurantName:"",address:"",upiId:"",currencySymbol:"",currencyCode:"INR",language:"en",printWidth:"80mm",printFontSize:"normal",receiptFooter:"Thank you for visiting!",showLogo:!0}),c=(x,A="success")=>{a({message:x,type:A}),setTimeout(()=>a(null),3e3)};G.useEffect(()=>{(async()=>{try{const A=await sa();A&&u(v=>({...v,...A}))}catch(A){console.error("Error loading settings:",A),c("Failed to load settings from database.","error")}finally{r(!1)}})()},[]);const d=x=>{const{name:A,value:v,type:_,checked:E}=x.target;if(A==="currency"){try{const{symbol:L,code:z}=JSON.parse(v);u(Y=>({...Y,currencySymbol:L,currencyCode:z}))}catch(L){console.error("Currency parse error",L)}return}u(L=>({...L,[A]:_==="checkbox"?E:v}))},g=async()=>{s(!0);try{await J9(l),c("Settings saved permanently!","success")}catch(x){console.error("Error saving settings:",x),c("Failed to save settings. Check internet connection.","error")}finally{s(!1)}},m=[{id:"general",label:"General",icon:Jb},{id:"localization",label:"Language & Currency",icon:Yb},{id:"printing",label:"Print & Receipt",icon:Rg},{id:"shortcuts",label:"Keyboard Shortcuts",icon:Xb},{id:"about",label:"About App",icon:DB}],b=({label:x,subLabel:A,children:v})=>p.jsxs("div",{className:"mb-6",children:[p.jsx("label",{className:"block text-sm font-bold text-gray-700 mb-1",children:x}),A&&p.jsx("p",{className:"text-xs text-gray-500 mb-2",children:A}),v]});return n?p.jsx("div",{className:"flex h-screen w-full items-center justify-center bg-gray-50",children:p.jsxs("div",{className:"flex flex-col items-center",children:[p.jsx("div",{className:"w-8 h-8 border-4 border-blue-600 border-t-transparent rounded-full animate-spin mb-4"}),p.jsx("p",{className:"text-gray-500 font-medium",children:"Loading Preferences..."})]})}):p.jsxs("div",{className:"container mx-auto max-w-6xl py-8 px-4",children:[p.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center justify-between mb-8 gap-4",children:[p.jsxs("div",{children:[p.jsx("h1",{className:"text-3xl font-bold text-gray-800",children:"Settings"}),p.jsx("p",{className:"text-gray-500 text-sm mt-1",children:"Configure your POS system parameters"})]}),p.jsx("button",{onClick:g,disabled:i,className:`flex items-center justify-center px-6 py-3 rounded-lg font-bold text-white shadow-lg transition-all ${i?"bg-gray-400 cursor-not-allowed":"bg-blue-600 hover:bg-blue-700 hover:shadow-xl active:scale-95"}`,children:i?p.jsxs("span",{className:"flex items-center",children:[p.jsx("div",{className:"w-4 h-4 border-2 border-white border-t-transparent rounded-full animate-spin mr-2"})," Saving..."]}):p.jsxs(p.Fragment,{children:[p.jsx(UB,{className:"w-5 h-5 mr-2"})," Save Changes"]})})]}),o&&p.jsxs("div",{className:`fixed top-5 right-5 z-50 flex items-center p-4 rounded-lg shadow-xl border ${o.type==="success"?"bg-green-50 border-green-200 text-green-800":"bg-red-50 border-red-200 text-red-800"} animate-in fade-in slide-in-from-top-5 duration-300`,children:[o.type==="success"?p.jsx(LB,{className:"w-5 h-5 mr-3"}):p.jsx(kB,{className:"w-5 h-5 mr-3"}),p.jsx("span",{className:"font-medium",children:o.message})]}),p.jsxs("div",{className:"flex flex-col lg:flex-row gap-8",children:[p.jsx("div",{className:"lg:w-64 flex-shrink-0",children:p.jsx("div",{className:"bg-white rounded-xl shadow-sm border border-gray-200 overflow-hidden sticky top-8",children:m.map(x=>{const A=x.icon,v=t===x.id;return p.jsxs("button",{onClick:()=>e(x.id),className:`w-full flex items-center px-5 py-4 text-left transition-all duration-200 border-l-4 ${v?"bg-blue-50 text-blue-700 border-blue-600 font-bold":"text-gray-600 hover:bg-gray-50 border-transparent hover:text-gray-900"}`,children:[p.jsx(A,{className:`w-5 h-5 mr-3 ${v?"text-blue-600":"text-gray-400"}`}),x.label]},x.id)})})}),p.jsxs("div",{className:"flex-1 bg-white rounded-xl shadow-sm border border-gray-200 p-6 lg:p-8 min-h-[600px]",children:[t==="general"&&p.jsxs("div",{className:"animate-in fade-in zoom-in-95 duration-300",children:[p.jsxs("div",{className:"flex items-center mb-6 pb-4 border-b border-gray-100",children:[p.jsx(Jb,{className:"w-6 h-6 text-blue-600 mr-3"}),p.jsx("h2",{className:"text-xl font-bold text-gray-800",children:"General Information"})]}),p.jsxs("div",{className:"grid grid-cols-1 gap-6",children:[p.jsx(b,{label:"Restaurant Name",children:p.jsx("input",{type:"text",name:"restaurantName",value:l.restaurantName,onChange:d,className:"w-full p-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 outline-none transition-all",placeholder:"e.g. The Grand Kitchen"})}),p.jsx(b,{label:"Address",subLabel:"This address will appear on printed receipts.",children:p.jsx("textarea",{name:"address",value:l.address,onChange:d,rows:"3",className:"w-full p-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 outline-none transition-all",placeholder:"Full street address..."})}),p.jsx(b,{label:"UPI ID",subLabel:"Used to generate QR codes for customer payments.",children:p.jsxs("div",{className:"relative",children:[p.jsx("input",{type:"text",name:"upiId",value:l.upiId,onChange:d,className:"w-full p-3 pl-10 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 outline-none transition-all",placeholder:"username@bank"}),p.jsx("div",{className:"absolute left-3 top-3.5 text-gray-400 font-bold",children:"@"})]})})]})]}),t==="localization"&&p.jsxs("div",{className:"animate-in fade-in zoom-in-95 duration-300",children:[p.jsxs("div",{className:"flex items-center mb-6 pb-4 border-b border-gray-100",children:[p.jsx(Yb,{className:"w-6 h-6 text-blue-600 mr-3"}),p.jsx("h2",{className:"text-xl font-bold text-gray-800",children:"Language & Currency"})]}),p.jsxs("div",{className:"max-w-lg",children:[p.jsx(b,{label:"Application Language",subLabel:"Select your preferred interface language.",children:p.jsx("select",{name:"language",value:l.language,onChange:d,className:"w-full p-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 bg-white outline-none",children:qB.map(x=>p.jsx("option",{value:x.code,children:x.name},x.code))})}),p.jsx(b,{label:"Default Currency",subLabel:"This symbol will be used for all pricing.",children:p.jsx("select",{name:"currency",value:JSON.stringify({symbol:l.currencySymbol,code:l.currencyCode}),onChange:d,className:"w-full p-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 bg-white outline-none",children:$B.map(({symbol:x,code:A,name:v})=>p.jsxs("option",{value:JSON.stringify({symbol:x,code:A}),children:[v," (",x,")"]},A))})})]})]}),t==="printing"&&p.jsxs("div",{className:"animate-in fade-in zoom-in-95 duration-300",children:[p.jsxs("div",{className:"flex items-center mb-6 pb-4 border-b border-gray-100",children:[p.jsx(Rg,{className:"w-6 h-6 text-blue-600 mr-3"}),p.jsx("h2",{className:"text-xl font-bold text-gray-800",children:"Receipt Printing Config"})]}),p.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-8",children:[p.jsx("div",{children:p.jsx(b,{label:"Paper Size",subLabel:"Width of your thermal paper roll.",children:p.jsx("div",{className:"flex gap-4 mt-2",children:["58mm","80mm"].map(x=>p.jsxs("label",{className:`flex-1 flex flex-col items-center p-4 border-2 rounded-xl cursor-pointer transition-all ${l.printWidth===x?"border-blue-600 bg-blue-50":"border-gray-200 hover:border-gray-300"}`,children:[p.jsx("input",{type:"radio",name:"printWidth",value:x,checked:l.printWidth===x,onChange:d,className:"hidden"}),p.jsx(Rg,{className:`w-8 h-8 mb-2 ${l.printWidth===x?"text-blue-600":"text-gray-400"}`}),p.jsx("span",{className:`font-bold ${l.printWidth===x?"text-blue-800":"text-gray-600"}`,children:x})]},x))})})}),p.jsx("div",{children:p.jsxs(b,{label:"Font Density",subLabel:"Adjust text size on the receipt.",children:[p.jsx("div",{className:"flex gap-2 mt-2 bg-gray-100 p-1 rounded-lg",children:["small","normal","large"].map(x=>p.jsx("button",{onClick:()=>u(A=>({...A,printFontSize:x})),className:`flex-1 py-2 rounded-md text-sm font-medium capitalize transition-all ${l.printFontSize===x?"bg-white text-blue-600 shadow-sm":"text-gray-500 hover:text-gray-700"}`,children:x},x))}),p.jsxs("div",{className:"mt-3 p-3 border border-dashed rounded text-center text-gray-400 text-xs",children:["Preview: ",p.jsx("span",{className:l.printFontSize==="large"?"text-lg":l.printFontSize==="small"?"text-xs":"text-sm",children:"Total: 150.00"})]})]})}),p.jsx("div",{className:"md:col-span-2",children:p.jsx(b,{label:"Footer Message",subLabel:"Appears at the very bottom of the receipt.",children:p.jsx("input",{type:"text",name:"receiptFooter",value:l.receiptFooter,onChange:d,className:"w-full p-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 outline-none"})})}),p.jsx("div",{className:"md:col-span-2",children:p.jsxs("label",{className:"flex items-center p-4 border border-gray-200 rounded-xl cursor-pointer hover:bg-gray-50 transition-colors",children:[p.jsx("input",{type:"checkbox",name:"showLogo",checked:l.showLogo,onChange:d,className:"w-5 h-5 text-blue-600 rounded focus:ring-blue-500"}),p.jsxs("div",{className:"ml-4",children:[p.jsx("span",{className:"block font-bold text-gray-800",children:"Show Header Logo/Name"}),p.jsx("span",{className:"block text-sm text-gray-500",children:"Include the restaurant name at the top of the receipt."})]})]})})]})]}),t==="shortcuts"&&p.jsxs("div",{className:"animate-in fade-in zoom-in-95 duration-300",children:[p.jsxs("div",{className:"flex items-center mb-6 pb-4 border-b border-gray-100",children:[p.jsx(Xb,{className:"w-6 h-6 text-blue-600 mr-3"}),p.jsx("h2",{className:"text-xl font-bold text-gray-800",children:"Keyboard Cheat Sheet"})]}),p.jsx("div",{className:"overflow-hidden rounded-xl border border-gray-200",children:p.jsxs("table",{className:"w-full text-left border-collapse",children:[p.jsx("thead",{className:"bg-gray-50",children:p.jsxs("tr",{children:[p.jsx("th",{className:"p-4 text-xs font-bold text-gray-500 uppercase tracking-wider border-b",children:"Key"}),p.jsx("th",{className:"p-4 text-xs font-bold text-gray-500 uppercase tracking-wider border-b",children:"Action"}),p.jsx("th",{className:"p-4 text-xs font-bold text-gray-500 uppercase tracking-wider border-b",children:"Category"})]})}),p.jsx("tbody",{className:"divide-y divide-gray-100",children:HB.map((x,A)=>p.jsxs("tr",{className:"hover:bg-blue-50 transition-colors",children:[p.jsx("td",{className:"p-4",children:p.jsx("span",{className:"inline-block px-2 py-1 bg-gray-100 border border-gray-300 rounded text-xs font-mono font-bold text-gray-700 shadow-sm",children:x.keys})}),p.jsx("td",{className:"p-4 text-sm font-medium text-gray-800",children:x.action}),p.jsx("td",{className:"p-4 text-sm text-gray-500",children:x.category})]},A))})]})})]}),t==="about"&&p.jsxs("div",{className:"animate-in fade-in zoom-in-95 duration-300 flex flex-col items-center justify-center py-10",children:[p.jsx("div",{className:"w-24 h-24 bg-gradient-to-br from-blue-500 to-indigo-600 text-white rounded-2xl shadow-xl flex items-center justify-center mb-6 transform rotate-3",children:p.jsx(OB,{className:"w-12 h-12"})}),p.jsx("h2",{className:"text-3xl font-extrabold text-gray-900",children:"Restaurant POS"}),p.jsx("span",{className:"inline-block px-3 py-1 mt-3 text-xs font-bold text-blue-800 bg-blue-100 rounded-full",children:"Version 2.5.0 (Pro)"}),p.jsx("p",{className:"text-gray-500 mt-6 max-w-md text-center leading-relaxed",children:"Designed to simplify restaurant management. From billing to settings, everything you need is right here."}),p.jsxs("div",{className:"mt-10 p-6 bg-blue-50 rounded-xl border border-blue-100 max-w-lg text-center",children:[p.jsx("p",{className:"text-lg font-serif italic text-blue-900",children:'"Palestine is the anvil of our consciousness."'}),p.jsx("p",{className:"text-sm text-blue-600 mt-3 font-semibold",children:" Edward Said"})]}),p.jsx("div",{className:"mt-12 pt-8 border-t border-gray-100 w-full text-center",children:p.jsxs("p",{className:"text-xs text-gray-400",children:["System ID: ",Math.random().toString(36).substr(2,9).toUpperCase()," ",p.jsx("br",{})," ",new Date().getFullYear()," All Rights Reserved."]})})]})]})]})]})};function GB({title:t,titleId:e,...n},r){return G.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:r,"aria-labelledby":e},n),t?G.createElement("title",{id:e},t):null,G.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M2.25 18 9 11.25l4.306 4.306a11.95 11.95 0 0 1 5.814-5.518l2.74-1.22m0 0-5.94-2.281m5.94 2.28-2.28 5.941"}))}const AE=G.forwardRef(GB);function KB({title:t,titleId:e,...n},r){return G.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:r,"aria-labelledby":e},n),t?G.createElement("title",{id:e},t):null,G.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M2.25 18.75a60.07 60.07 0 0 1 15.797 2.101c.727.198 1.453-.342 1.453-1.096V18.75M3.75 4.5v.75A.75.75 0 0 1 3 6h-.75m0 0v-.375c0-.621.504-1.125 1.125-1.125H20.25M2.25 6v9m18-10.5v.75c0 .414.336.75.75.75h.75m-1.5-1.5h.375c.621 0 1.125.504 1.125 1.125v9.75c0 .621-.504 1.125-1.125 1.125h-.375m1.5-1.5H21a.75.75 0 0 0-.75.75v.75m0 0H3.75m0 0h-.375a1.125 1.125 0 0 1-1.125-1.125V15m1.5 1.5v-.75A.75.75 0 0 0 3 15h-.75M15 10.5a3 3 0 1 1-6 0 3 3 0 0 1 6 0Zm3 0h.008v.008H18V10.5Zm-12 0h.008v.008H6V10.5Z"}))}const QB=G.forwardRef(KB);function YB({title:t,titleId:e,...n},r){return G.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:r,"aria-labelledby":e},n),t?G.createElement("title",{id:e},t):null,G.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M2.25 8.25h19.5M2.25 9h19.5m-16.5 5.25h6m-6 2.25h3m-3.75 3h15a2.25 2.25 0 0 0 2.25-2.25V6.75A2.25 2.25 0 0 0 19.5 4.5h-15a2.25 2.25 0 0 0-2.25 2.25v10.5A2.25 2.25 0 0 0 4.5 19.5Z"}))}const XB=G.forwardRef(YB);function JB({title:t,titleId:e,...n},r){return G.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:r,"aria-labelledby":e},n),t?G.createElement("title",{id:e},t):null,G.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M19.5 14.25v-2.625a3.375 3.375 0 0 0-3.375-3.375h-1.5A1.125 1.125 0 0 1 13.5 7.125v-1.5a3.375 3.375 0 0 0-3.375-3.375H8.25M9 16.5v.75m3-3v3M15 12v5.25m-4.5-15H5.625c-.621 0-1.125.504-1.125 1.125v17.25c0 .621.504 1.125 1.125 1.125h12.75c.621 0 1.125-.504 1.125-1.125V11.25a9 9 0 0 0-9-9Z"}))}const ZB=G.forwardRef(JB);function eU({title:t,titleId:e,...n},r){return G.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:r,"aria-labelledby":e},n),t?G.createElement("title",{id:e},t):null,G.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M3.75 6A2.25 2.25 0 0 1 6 3.75h2.25A2.25 2.25 0 0 1 10.5 6v2.25a2.25 2.25 0 0 1-2.25 2.25H6a2.25 2.25 0 0 1-2.25-2.25V6ZM3.75 15.75A2.25 2.25 0 0 1 6 13.5h2.25a2.25 2.25 0 0 1 2.25 2.25V18a2.25 2.25 0 0 1-2.25 2.25H6A2.25 2.25 0 0 1 3.75 18v-2.25ZM13.5 6a2.25 2.25 0 0 1 2.25-2.25H18A2.25 2.25 0 0 1 20.25 6v2.25A2.25 2.25 0 0 1 18 10.5h-2.25a2.25 2.25 0 0 1-2.25-2.25V6ZM13.5 15.75a2.25 2.25 0 0 1 2.25-2.25H18a2.25 2.25 0 0 1 2.25 2.25V18A2.25 2.25 0 0 1 18 20.25h-2.25A2.25 2.25 0 0 1 13.5 18v-2.25Z"}))}const tU=G.forwardRef(eU);function nU({title:t,titleId:e,...n},r){return G.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:r,"aria-labelledby":e},n),t?G.createElement("title",{id:e},t):null,G.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M13.5 16.875h3.375m0 0h3.375m-3.375 0V13.5m0 3.375v3.375M6 10.5h2.25a2.25 2.25 0 0 0 2.25-2.25V6a2.25 2.25 0 0 0-2.25-2.25H6A2.25 2.25 0 0 0 3.75 6v2.25A2.25 2.25 0 0 0 6 10.5Zm0 9.75h2.25A2.25 2.25 0 0 0 10.5 18v-2.25a2.25 2.25 0 0 0-2.25-2.25H6a2.25 2.25 0 0 0-2.25 2.25V18A2.25 2.25 0 0 0 6 20.25Zm9.75-9.75H18a2.25 2.25 0 0 0 2.25-2.25V6A2.25 2.25 0 0 0 18 3.75h-2.25A2.25 2.25 0 0 0 13.5 6v2.25a2.25 2.25 0 0 0 2.25 2.25Z"}))}const rU=G.forwardRef(nU);function iU({title:t,titleId:e,...n},r){return G.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:r,"aria-labelledby":e},n),t?G.createElement("title",{id:e},t):null,G.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M18 18.72a9.094 9.094 0 0 0 3.741-.479 3 3 0 0 0-4.682-2.72m.94 3.198.001.031c0 .225-.012.447-.037.666A11.944 11.944 0 0 1 12 21c-2.17 0-4.207-.576-5.963-1.584A6.062 6.062 0 0 1 6 18.719m12 0a5.971 5.971 0 0 0-.941-3.197m0 0A5.995 5.995 0 0 0 12 12.75a5.995 5.995 0 0 0-5.058 2.772m0 0a3 3 0 0 0-4.681 2.72 8.986 8.986 0 0 0 3.74.477m.94-3.197a5.971 5.971 0 0 0-.94 3.197M15 6.75a3 3 0 1 1-6 0 3 3 0 0 1 6 0Zm6 3a2.25 2.25 0 1 1-4.5 0 2.25 2.25 0 0 1 4.5 0Zm-13.5 0a2.25 2.25 0 1 1-4.5 0 2.25 2.25 0 0 1 4.5 0Z"}))}const sU=G.forwardRef(iU);function oU({title:t,titleId:e,...n},r){return G.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:r,"aria-labelledby":e},n),t?G.createElement("title",{id:e},t):null,G.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M15 19.128a9.38 9.38 0 0 0 2.625.372 9.337 9.337 0 0 0 4.121-.952 4.125 4.125 0 0 0-7.533-2.493M15 19.128v-.003c0-1.113-.285-2.16-.786-3.07M15 19.128v.106A12.318 12.318 0 0 1 8.624 21c-2.331 0-4.512-.645-6.374-1.766l-.001-.109a6.375 6.375 0 0 1 11.964-3.07M12 6.375a3.375 3.375 0 1 1-6.75 0 3.375 3.375 0 0 1 6.75 0Zm8.25 2.25a2.625 2.625 0 1 1-5.25 0 2.625 2.625 0 0 1 5.25 0Z"}))}const aU=G.forwardRef(oU),lU=[{isLink:!0,to:"/reports/sales-and-revenue",title:"Sales & Revenue Reports",description:"Track daily, weekly, and monthly sales performance and revenue streams.",icon:p.jsx(AE,{className:"h-8 w-8 text-blue-500"}),color:"blue"},{title:"Profit & Financial Reports",description:"Analyze profit margins, costs of goods sold, and overall financial health.",icon:p.jsx(QB,{className:"h-8 w-8 text-green-500"}),color:"green"},{title:"Customer Reports",description:"Gain insights into customer behavior, order frequency, and popular items.",icon:p.jsx(aU,{className:"h-8 w-8 text-purple-500"}),color:"purple"},{title:"Staff & HR Reports",description:"Monitor staff performance, work hours, tips, and payroll data.",icon:p.jsx(sU,{className:"h-8 w-8 text-red-500"}),color:"red"},{title:"Analytical & Comparative Reports",description:"Compare performance across different time periods or menu items.",icon:p.jsx(ZB,{className:"h-8 w-8 text-indigo-500"}),color:"indigo"}],uU=()=>p.jsxs("div",{className:"p-6 bg-gray-50 min-h-full",children:[p.jsxs("div",{className:"mb-8",children:[p.jsx("h1",{className:"text-3xl font-bold text-gray-800",children:"Reports Dashboard"}),p.jsx("p",{className:"text-gray-500 mt-1",children:"Select a category to view detailed reports."})]}),p.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4 gap-6",children:lU.map(t=>t.isLink?p.jsxs(tv,{to:t.to,className:"group bg-white rounded-xl shadow-md p-6 flex flex-col justify-between hover:shadow-xl hover:-translate-y-1 transition-all duration-300 cursor-pointer border border-gray-200",children:[p.jsxs("div",{children:[p.jsx("div",{className:"mb-4",children:t.icon}),p.jsx("h3",{className:"text-xl font-semibold text-gray-800 mb-2",children:t.title}),p.jsx("p",{className:"text-gray-600 text-sm",children:t.description})]}),p.jsx("div",{className:"mt-6",children:p.jsx("span",{className:`font-semibold text-${t.color}-600 group-hover:text-${t.color}-800 transition-colors`,children:"View Reports "})})]},t.title):p.jsxs("div",{className:"group bg-white rounded-xl shadow-md p-6 flex flex-col justify-between border border-gray-200",children:[p.jsxs("div",{children:[p.jsx("div",{className:"mb-4",children:t.icon}),p.jsx("h3",{className:"text-xl font-semibold text-gray-800 mb-2",children:t.title}),p.jsx("p",{className:"text-gray-600 text-sm",children:t.description})]}),p.jsx("div",{className:"mt-6",children:p.jsx("span",{className:"font-semibold text-gray-400",children:"Coming Soon"})})]},t.title))})]}),cU="modulepreload",hU=function(t){return"/"+t},Zb={},jg=function(e,n,r){let i=Promise.resolve();if(n&&n.length>0){document.getElementsByTagName("link");const o=document.querySelector("meta[property=csp-nonce]"),a=(o==null?void 0:o.nonce)||(o==null?void 0:o.getAttribute("nonce"));i=Promise.allSettled(n.map(l=>{if(l=hU(l),l in Zb)return;Zb[l]=!0;const u=l.endsWith(".css"),c=u?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${l}"]${c}`))return;const d=document.createElement("link");if(d.rel=u?"stylesheet":cU,u||(d.as="script"),d.crossOrigin="",d.href=l,a&&d.setAttribute("nonce",a),document.head.appendChild(d),u)return new Promise((g,m)=>{d.addEventListener("load",g),d.addEventListener("error",()=>m(new Error(`Unable to preload CSS for ${l}`)))})}))}function s(o){const a=new Event("vite:preloadError",{cancelable:!0});if(a.payload=o,window.dispatchEvent(a),!a.defaultPrevented)throw o}return i.then(o=>{for(const a of o||[])a.status==="rejected"&&s(a.reason);return e().catch(s)})};function an(t){"@babel/helpers - typeof";return an=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},an(t)}var Us=Uint8Array,Ji=Uint16Array,N5=Int32Array,E5=new Us([0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0,0,0,0]),T5=new Us([0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13,0,0]),e3=new Us([16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15]),NE=function(t,e){for(var n=new Ji(31),r=0;r<31;++r)n[r]=e+=1<<t[r-1];for(var i=new N5(n[30]),r=1;r<30;++r)for(var s=n[r];s<n[r+1];++s)i[s]=s-n[r]<<5|r;return{b:n,r:i}},EE=NE(E5,2),fU=EE.b,G2=EE.r;fU[28]=258,G2[258]=28;var dU=NE(T5,0),t3=dU.r,K2=new Ji(32768);for(var Sn=0;Sn<32768;++Sn){var ka=(Sn&43690)>>1|(Sn&21845)<<1;ka=(ka&52428)>>2|(ka&13107)<<2,ka=(ka&61680)>>4|(ka&3855)<<4,K2[Sn]=((ka&65280)>>8|(ka&255)<<8)>>1}var Yh=function(t,e,n){for(var r=t.length,i=0,s=new Ji(e);i<r;++i)t[i]&&++s[t[i]-1];var o=new Ji(e);for(i=1;i<e;++i)o[i]=o[i-1]+s[i-1]<<1;var a;if(n){a=new Ji(1<<e);var l=15-e;for(i=0;i<r;++i)if(t[i])for(var u=i<<4|t[i],c=e-t[i],d=o[t[i]-1]++<<c,g=d|(1<<c)-1;d<=g;++d)a[K2[d]>>l]=u}else for(a=new Ji(r),i=0;i<r;++i)t[i]&&(a[i]=K2[o[t[i]-1]++]>>15-t[i]);return a},cu=new Us(288);for(var Sn=0;Sn<144;++Sn)cu[Sn]=8;for(var Sn=144;Sn<256;++Sn)cu[Sn]=9;for(var Sn=256;Sn<280;++Sn)cu[Sn]=7;for(var Sn=280;Sn<288;++Sn)cu[Sn]=8;var Cm=new Us(32);for(var Sn=0;Sn<32;++Sn)Cm[Sn]=5;var pU=Yh(cu,9,0),mU=Yh(Cm,5,0),TE=function(t){return(t+7)/8|0},gU=function(t,e,n){return(n==null||n>t.length)&&(n=t.length),new Us(t.subarray(e,n))},Oo=function(t,e,n){n<<=e&7;var r=e/8|0;t[r]|=n,t[r+1]|=n>>8},bh=function(t,e,n){n<<=e&7;var r=e/8|0;t[r]|=n,t[r+1]|=n>>8,t[r+2]|=n>>16},Dg=function(t,e){for(var n=[],r=0;r<t.length;++r)t[r]&&n.push({s:r,f:t[r]});var i=n.length,s=n.slice();if(!i)return{t:PE,l:0};if(i==1){var o=new Us(n[0].s+1);return o[n[0].s]=1,{t:o,l:1}}n.sort(function(z,Y){return z.f-Y.f}),n.push({s:-1,f:25001});var a=n[0],l=n[1],u=0,c=1,d=2;for(n[0]={s:-1,f:a.f+l.f,l:a,r:l};c!=i-1;)a=n[n[u].f<n[d].f?u++:d++],l=n[u!=c&&n[u].f<n[d].f?u++:d++],n[c++]={s:-1,f:a.f+l.f,l:a,r:l};for(var g=s[0].s,r=1;r<i;++r)s[r].s>g&&(g=s[r].s);var m=new Ji(g+1),b=Q2(n[c-1],m,0);if(b>e){var r=0,x=0,A=b-e,v=1<<A;for(s.sort(function(Y,R){return m[R.s]-m[Y.s]||Y.f-R.f});r<i;++r){var _=s[r].s;if(m[_]>e)x+=v-(1<<b-m[_]),m[_]=e;else break}for(x>>=A;x>0;){var E=s[r].s;m[E]<e?x-=1<<e-m[E]++-1:++r}for(;r>=0&&x;--r){var L=s[r].s;m[L]==e&&(--m[L],++x)}b=e}return{t:new Us(m),l:b}},Q2=function(t,e,n){return t.s==-1?Math.max(Q2(t.l,e,n+1),Q2(t.r,e,n+1)):e[t.s]=n},n3=function(t){for(var e=t.length;e&&!t[--e];);for(var n=new Ji(++e),r=0,i=t[0],s=1,o=function(l){n[r++]=l},a=1;a<=e;++a)if(t[a]==i&&a!=e)++s;else{if(!i&&s>2){for(;s>138;s-=138)o(32754);s>2&&(o(s>10?s-11<<5|28690:s-3<<5|12305),s=0)}else if(s>3){for(o(i),--s;s>6;s-=6)o(8304);s>2&&(o(s-3<<5|8208),s=0)}for(;s--;)o(i);s=1,i=t[a]}return{c:n.subarray(0,r),n:e}},_h=function(t,e){for(var n=0,r=0;r<e.length;++r)n+=t[r]*e[r];return n},CE=function(t,e,n){var r=n.length,i=TE(e+2);t[i]=r&255,t[i+1]=r>>8,t[i+2]=t[i]^255,t[i+3]=t[i+1]^255;for(var s=0;s<r;++s)t[i+s+4]=n[s];return(i+4+r)*8},r3=function(t,e,n,r,i,s,o,a,l,u,c){Oo(e,c++,n),++i[256];for(var d=Dg(i,15),g=d.t,m=d.l,b=Dg(s,15),x=b.t,A=b.l,v=n3(g),_=v.c,E=v.n,L=n3(x),z=L.c,Y=L.n,R=new Ji(19),C=0;C<_.length;++C)++R[_[C]&31];for(var C=0;C<z.length;++C)++R[z[C]&31];for(var k=Dg(R,7),M=k.t,T=k.l,I=19;I>4&&!M[e3[I-1]];--I);var D=u+5<<3,H=_h(i,cu)+_h(s,Cm)+o,ne=_h(i,g)+_h(s,x)+o+14+3*I+_h(R,M)+2*R[16]+3*R[17]+7*R[18];if(l>=0&&D<=H&&D<=ne)return CE(e,c,t.subarray(l,l+u));var ue,ae,ee,se;if(Oo(e,c,1+(ne<H)),c+=2,ne<H){ue=Yh(g,m,0),ae=g,ee=Yh(x,A,0),se=x;var ye=Yh(M,T,0);Oo(e,c,E-257),Oo(e,c+5,Y-1),Oo(e,c+10,I-4),c+=14;for(var C=0;C<I;++C)Oo(e,c+3*C,M[e3[C]]);c+=3*I;for(var Se=[_,z],V=0;V<2;++V)for(var Q=Se[V],C=0;C<Q.length;++C){var te=Q[C]&31;Oo(e,c,ye[te]),c+=M[te],te>15&&(Oo(e,c,Q[C]>>5&127),c+=Q[C]>>12)}}else ue=pU,ae=cu,ee=mU,se=Cm;for(var C=0;C<a;++C){var ie=r[C];if(ie>255){var te=ie>>18&31;bh(e,c,ue[te+257]),c+=ae[te+257],te>7&&(Oo(e,c,ie>>23&31),c+=E5[te]);var le=ie&31;bh(e,c,ee[le]),c+=se[le],le>3&&(bh(e,c,ie>>5&8191),c+=T5[le])}else bh(e,c,ue[ie]),c+=ae[ie]}return bh(e,c,ue[256]),c+ae[256]},yU=new N5([65540,131080,131088,131104,262176,1048704,1048832,2114560,2117632]),PE=new Us(0),vU=function(t,e,n,r,i,s){var o=s.z||t.length,a=new Us(r+o+5*(1+Math.ceil(o/7e3))+i),l=a.subarray(r,a.length-i),u=s.l,c=(s.r||0)&7;if(e){c&&(l[0]=s.r>>3);for(var d=yU[e-1],g=d>>13,m=d&8191,b=(1<<n)-1,x=s.p||new Ji(32768),A=s.h||new Ji(b+1),v=Math.ceil(n/3),_=2*v,E=function(fe){return(t[fe]^t[fe+1]<<v^t[fe+2]<<_)&b},L=new N5(25e3),z=new Ji(288),Y=new Ji(32),R=0,C=0,k=s.i||0,M=0,T=s.w||0,I=0;k+2<o;++k){var D=E(k),H=k&32767,ne=A[D];if(x[H]=ne,A[D]=H,T<=k){var ue=o-k;if((R>7e3||M>24576)&&(ue>423||!u)){c=r3(t,l,0,L,z,Y,C,M,I,k-I,c),M=R=C=0,I=k;for(var ae=0;ae<286;++ae)z[ae]=0;for(var ae=0;ae<30;++ae)Y[ae]=0}var ee=2,se=0,ye=m,Se=H-ne&32767;if(ue>2&&D==E(k-Se))for(var V=Math.min(g,ue)-1,Q=Math.min(32767,k),te=Math.min(258,ue);Se<=Q&&--ye&&H!=ne;){if(t[k+ee]==t[k+ee-Se]){for(var ie=0;ie<te&&t[k+ie]==t[k+ie-Se];++ie);if(ie>ee){if(ee=ie,se=Se,ie>V)break;for(var le=Math.min(Se,ie-2),ve=0,ae=0;ae<le;++ae){var Ne=k-Se+ae&32767,Ae=x[Ne],he=Ne-Ae&32767;he>ve&&(ve=he,ne=Ne)}}}H=ne,ne=x[H],Se+=H-ne&32767}if(se){L[M++]=268435456|G2[ee]<<18|t3[se];var be=G2[ee]&31,pe=t3[se]&31;C+=E5[be]+T5[pe],++z[257+be],++Y[pe],T=k+ee,++R}else L[M++]=t[k],++z[t[k]]}}for(k=Math.max(k,T);k<o;++k)L[M++]=t[k],++z[t[k]];c=r3(t,l,u,L,z,Y,C,M,I,k-I,c),u||(s.r=c&7|l[c/8|0]<<3,c-=7,s.h=A,s.p=x,s.i=k,s.w=T)}else{for(var k=s.w||0;k<o+u;k+=65535){var Ee=k+65535;Ee>=o&&(l[c/8|0]=u,Ee=o),c=CE(l,c+1,t.subarray(k,Ee))}s.i=o}return gU(a,0,r+TE(c)+i)},kE=function(){var t=1,e=0;return{p:function(n){for(var r=t,i=e,s=n.length|0,o=0;o!=s;){for(var a=Math.min(o+2655,s);o<a;++o)i+=r+=n[o];r=(r&65535)+15*(r>>16),i=(i&65535)+15*(i>>16)}t=r,e=i},d:function(){return t%=65521,e%=65521,(t&255)<<24|(t&65280)<<8|(e&255)<<8|e>>8}}},wU=function(t,e,n,r,i){if(!i&&(i={l:1},e.dictionary)){var s=e.dictionary.subarray(-32768),o=new Us(s.length+t.length);o.set(s),o.set(t,s.length),t=o,i.w=s.length}return vU(t,e.level==null?6:e.level,e.mem==null?i.l?Math.ceil(Math.max(8,Math.min(13,Math.log(t.length)))*1.5):20:12+e.mem,n,r,i)},IE=function(t,e,n){for(;n;++e)t[e]=n,n>>>=8},xU=function(t,e){var n=e.level,r=n==0?0:n<6?1:n==9?3:2;if(t[0]=120,t[1]=r<<6|(e.dictionary&&32),t[1]|=31-(t[0]<<8|t[1])%31,e.dictionary){var i=kE();i.p(e.dictionary),IE(t,2,i.d())}};function Y2(t,e){e||(e={});var n=kE();n.p(t);var r=wU(t,e,e.dictionary?6:2,4);return xU(r,e),IE(r,r.length-4,n.d()),r}var bU=typeof TextDecoder<"u"&&new TextDecoder,_U=0;try{bU.decode(PE,{stream:!0}),_U=1}catch{}function SU(t){if(Array.isArray(t))return t}function AU(t,e){var n=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(n!=null){var r,i,s,o,a=[],l=!0,u=!1;try{if(s=(n=n.call(t)).next,e!==0)for(;!(l=(r=s.call(n)).done)&&(a.push(r.value),a.length!==e);l=!0);}catch(c){u=!0,i=c}finally{try{if(!l&&n.return!=null&&(o=n.return(),Object(o)!==o))return}finally{if(u)throw i}}return a}}function i3(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=Array(e);n<e;n++)r[n]=t[n];return r}function NU(t,e){if(t){if(typeof t=="string")return i3(t,e);var n={}.toString.call(t).slice(8,-1);return n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set"?Array.from(t):n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?i3(t,e):void 0}}function EU(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function s3(t,e){return SU(t)||AU(t,e)||NU(t,e)||EU()}function o3(t,e="utf8"){return new TextDecoder(e).decode(t)}const TU=new TextEncoder;function CU(t){return TU.encode(t)}const PU=1024*8,kU=(()=>{const t=new Uint8Array(4),e=new Uint32Array(t.buffer);return!((e[0]=1)&t[0])})(),Mg={int8:globalThis.Int8Array,uint8:globalThis.Uint8Array,int16:globalThis.Int16Array,uint16:globalThis.Uint16Array,int32:globalThis.Int32Array,uint32:globalThis.Uint32Array,uint64:globalThis.BigUint64Array,int64:globalThis.BigInt64Array,float32:globalThis.Float32Array,float64:globalThis.Float64Array};class C5{constructor(e=PU,n={}){on(this,"buffer");on(this,"byteLength");on(this,"byteOffset");on(this,"length");on(this,"offset");on(this,"lastWrittenByte");on(this,"littleEndian");on(this,"_data");on(this,"_mark");on(this,"_marks");let r=!1;typeof e=="number"?e=new ArrayBuffer(e):(r=!0,this.lastWrittenByte=e.byteLength);const i=n.offset?n.offset>>>0:0,s=e.byteLength-i;let o=i;(ArrayBuffer.isView(e)||e instanceof C5)&&(e.byteLength!==e.buffer.byteLength&&(o=e.byteOffset+i),e=e.buffer),r?this.lastWrittenByte=s:this.lastWrittenByte=0,this.buffer=e,this.length=s,this.byteLength=s,this.byteOffset=o,this.offset=0,this.littleEndian=!0,this._data=new DataView(this.buffer,o,s),this._mark=0,this._marks=[]}available(e=1){return this.offset+e<=this.length}isLittleEndian(){return this.littleEndian}setLittleEndian(){return this.littleEndian=!0,this}isBigEndian(){return!this.littleEndian}setBigEndian(){return this.littleEndian=!1,this}skip(e=1){return this.offset+=e,this}back(e=1){return this.offset-=e,this}seek(e){return this.offset=e,this}mark(){return this._mark=this.offset,this}reset(){return this.offset=this._mark,this}pushMark(){return this._marks.push(this.offset),this}popMark(){const e=this._marks.pop();if(e===void 0)throw new Error("Mark stack empty");return this.seek(e),this}rewind(){return this.offset=0,this}ensureAvailable(e=1){if(!this.available(e)){const r=(this.offset+e)*2,i=new Uint8Array(r);i.set(new Uint8Array(this.buffer)),this.buffer=i.buffer,this.length=r,this.byteLength=r,this._data=new DataView(this.buffer)}return this}readBoolean(){return this.readUint8()!==0}readInt8(){return this._data.getInt8(this.offset++)}readUint8(){return this._data.getUint8(this.offset++)}readByte(){return this.readUint8()}readBytes(e=1){return this.readArray(e,"uint8")}readArray(e,n){const r=Mg[n].BYTES_PER_ELEMENT*e,i=this.byteOffset+this.offset,s=this.buffer.slice(i,i+r);if(this.littleEndian===kU&&n!=="uint8"&&n!=="int8"){const a=new Uint8Array(this.buffer.slice(i,i+r));a.reverse();const l=new Mg[n](a.buffer);return this.offset+=r,l.reverse(),l}const o=new Mg[n](s);return this.offset+=r,o}readInt16(){const e=this._data.getInt16(this.offset,this.littleEndian);return this.offset+=2,e}readUint16(){const e=this._data.getUint16(this.offset,this.littleEndian);return this.offset+=2,e}readInt32(){const e=this._data.getInt32(this.offset,this.littleEndian);return this.offset+=4,e}readUint32(){const e=this._data.getUint32(this.offset,this.littleEndian);return this.offset+=4,e}readFloat32(){const e=this._data.getFloat32(this.offset,this.littleEndian);return this.offset+=4,e}readFloat64(){const e=this._data.getFloat64(this.offset,this.littleEndian);return this.offset+=8,e}readBigInt64(){const e=this._data.getBigInt64(this.offset,this.littleEndian);return this.offset+=8,e}readBigUint64(){const e=this._data.getBigUint64(this.offset,this.littleEndian);return this.offset+=8,e}readChar(){return String.fromCharCode(this.readInt8())}readChars(e=1){let n="";for(let r=0;r<e;r++)n+=this.readChar();return n}readUtf8(e=1){return o3(this.readBytes(e))}decodeText(e=1,n="utf8"){return o3(this.readBytes(e),n)}writeBoolean(e){return this.writeUint8(e?255:0),this}writeInt8(e){return this.ensureAvailable(1),this._data.setInt8(this.offset++,e),this._updateLastWrittenByte(),this}writeUint8(e){return this.ensureAvailable(1),this._data.setUint8(this.offset++,e),this._updateLastWrittenByte(),this}writeByte(e){return this.writeUint8(e)}writeBytes(e){this.ensureAvailable(e.length);for(let n=0;n<e.length;n++)this._data.setUint8(this.offset++,e[n]);return this._updateLastWrittenByte(),this}writeInt16(e){return this.ensureAvailable(2),this._data.setInt16(this.offset,e,this.littleEndian),this.offset+=2,this._updateLastWrittenByte(),this}writeUint16(e){return this.ensureAvailable(2),this._data.setUint16(this.offset,e,this.littleEndian),this.offset+=2,this._updateLastWrittenByte(),this}writeInt32(e){return this.ensureAvailable(4),this._data.setInt32(this.offset,e,this.littleEndian),this.offset+=4,this._updateLastWrittenByte(),this}writeUint32(e){return this.ensureAvailable(4),this._data.setUint32(this.offset,e,this.littleEndian),this.offset+=4,this._updateLastWrittenByte(),this}writeFloat32(e){return this.ensureAvailable(4),this._data.setFloat32(this.offset,e,this.littleEndian),this.offset+=4,this._updateLastWrittenByte(),this}writeFloat64(e){return this.ensureAvailable(8),this._data.setFloat64(this.offset,e,this.littleEndian),this.offset+=8,this._updateLastWrittenByte(),this}writeBigInt64(e){return this.ensureAvailable(8),this._data.setBigInt64(this.offset,e,this.littleEndian),this.offset+=8,this._updateLastWrittenByte(),this}writeBigUint64(e){return this.ensureAvailable(8),this._data.setBigUint64(this.offset,e,this.littleEndian),this.offset+=8,this._updateLastWrittenByte(),this}writeChar(e){return this.writeUint8(e.charCodeAt(0))}writeChars(e){for(let n=0;n<e.length;n++)this.writeUint8(e.charCodeAt(n));return this}writeUtf8(e){return this.writeBytes(CU(e))}toArray(){return new Uint8Array(this.buffer,this.byteOffset,this.lastWrittenByte)}getWrittenByteLength(){return this.lastWrittenByte-this.byteOffset}_updateLastWrittenByte(){this.offset>this.lastWrittenByte&&(this.lastWrittenByte=this.offset)}}function zc(t){let e=t.length;for(;--e>=0;)t[e]=0}const IU=3,LU=258,LE=29,RU=256,jU=RU+1+LE,RE=30,DU=512,MU=new Array((jU+2)*2);zc(MU);const FU=new Array(RE*2);zc(FU);const OU=new Array(DU);zc(OU);const VU=new Array(LU-IU+1);zc(VU);const BU=new Array(LE);zc(BU);const UU=new Array(RE);zc(UU);const zU=(t,e,n,r)=>{let i=t&65535|0,s=t>>>16&65535|0,o=0;for(;n!==0;){o=n>2e3?2e3:n,n-=o;do i=i+e[r++]|0,s=s+i|0;while(--o);i%=65521,s%=65521}return i|s<<16|0};var X2=zU;const qU=()=>{let t,e=[];for(var n=0;n<256;n++){t=n;for(var r=0;r<8;r++)t=t&1?3988292384^t>>>1:t>>>1;e[n]=t}return e},$U=new Uint32Array(qU()),HU=(t,e,n,r)=>{const i=$U,s=r+n;t^=-1;for(let o=r;o<s;o++)t=t>>>8^i[(t^e[o])&255];return t^-1};var lo=HU,J2={2:"need dictionary",1:"stream end",0:"","-1":"file error","-2":"stream error","-3":"data error","-4":"insufficient memory","-5":"buffer error","-6":"incompatible version"},jE={Z_NO_FLUSH:0,Z_FINISH:4,Z_BLOCK:5,Z_TREES:6,Z_OK:0,Z_STREAM_END:1,Z_NEED_DICT:2,Z_STREAM_ERROR:-2,Z_DATA_ERROR:-3,Z_MEM_ERROR:-4,Z_BUF_ERROR:-5,Z_DEFLATED:8};const WU=(t,e)=>Object.prototype.hasOwnProperty.call(t,e);var GU=function(t){const e=Array.prototype.slice.call(arguments,1);for(;e.length;){const n=e.shift();if(n){if(typeof n!="object")throw new TypeError(n+"must be non-object");for(const r in n)WU(n,r)&&(t[r]=n[r])}}return t},KU=t=>{let e=0;for(let r=0,i=t.length;r<i;r++)e+=t[r].length;const n=new Uint8Array(e);for(let r=0,i=0,s=t.length;r<s;r++){let o=t[r];n.set(o,i),i+=o.length}return n},DE={assign:GU,flattenChunks:KU};let ME=!0;try{String.fromCharCode.apply(null,new Uint8Array(1))}catch{ME=!1}const Mf=new Uint8Array(256);for(let t=0;t<256;t++)Mf[t]=t>=252?6:t>=248?5:t>=240?4:t>=224?3:t>=192?2:1;Mf[254]=Mf[254]=1;var QU=t=>{if(typeof TextEncoder=="function"&&TextEncoder.prototype.encode)return new TextEncoder().encode(t);let e,n,r,i,s,o=t.length,a=0;for(i=0;i<o;i++)n=t.charCodeAt(i),(n&64512)===55296&&i+1<o&&(r=t.charCodeAt(i+1),(r&64512)===56320&&(n=65536+(n-55296<<10)+(r-56320),i++)),a+=n<128?1:n<2048?2:n<65536?3:4;for(e=new Uint8Array(a),s=0,i=0;s<a;i++)n=t.charCodeAt(i),(n&64512)===55296&&i+1<o&&(r=t.charCodeAt(i+1),(r&64512)===56320&&(n=65536+(n-55296<<10)+(r-56320),i++)),n<128?e[s++]=n:n<2048?(e[s++]=192|n>>>6,e[s++]=128|n&63):n<65536?(e[s++]=224|n>>>12,e[s++]=128|n>>>6&63,e[s++]=128|n&63):(e[s++]=240|n>>>18,e[s++]=128|n>>>12&63,e[s++]=128|n>>>6&63,e[s++]=128|n&63);return e};const YU=(t,e)=>{if(e<65534&&t.subarray&&ME)return String.fromCharCode.apply(null,t.length===e?t:t.subarray(0,e));let n="";for(let r=0;r<e;r++)n+=String.fromCharCode(t[r]);return n};var XU=(t,e)=>{const n=e||t.length;if(typeof TextDecoder=="function"&&TextDecoder.prototype.decode)return new TextDecoder().decode(t.subarray(0,e));let r,i;const s=new Array(n*2);for(i=0,r=0;r<n;){let o=t[r++];if(o<128){s[i++]=o;continue}let a=Mf[o];if(a>4){s[i++]=65533,r+=a-1;continue}for(o&=a===2?31:a===3?15:7;a>1&&r<n;)o=o<<6|t[r++]&63,a--;if(a>1){s[i++]=65533;continue}o<65536?s[i++]=o:(o-=65536,s[i++]=55296|o>>10&1023,s[i++]=56320|o&1023)}return YU(s,i)},JU=(t,e)=>{e=e||t.length,e>t.length&&(e=t.length);let n=e-1;for(;n>=0&&(t[n]&192)===128;)n--;return n<0||n===0?e:n+Mf[t[n]]>e?n:e},Z2={string2buf:QU,buf2string:XU,utf8border:JU};function ZU(){this.input=null,this.next_in=0,this.avail_in=0,this.total_in=0,this.output=null,this.next_out=0,this.avail_out=0,this.total_out=0,this.msg="",this.state=null,this.data_type=2,this.adler=0}var ez=ZU;const Zd=16209,tz=16191;var nz=function(e,n){let r,i,s,o,a,l,u,c,d,g,m,b,x,A,v,_,E,L,z,Y,R,C,k,M;const T=e.state;r=e.next_in,k=e.input,i=r+(e.avail_in-5),s=e.next_out,M=e.output,o=s-(n-e.avail_out),a=s+(e.avail_out-257),l=T.dmax,u=T.wsize,c=T.whave,d=T.wnext,g=T.window,m=T.hold,b=T.bits,x=T.lencode,A=T.distcode,v=(1<<T.lenbits)-1,_=(1<<T.distbits)-1;e:do{b<15&&(m+=k[r++]<<b,b+=8,m+=k[r++]<<b,b+=8),E=x[m&v];t:for(;;){if(L=E>>>24,m>>>=L,b-=L,L=E>>>16&255,L===0)M[s++]=E&65535;else if(L&16){z=E&65535,L&=15,L&&(b<L&&(m+=k[r++]<<b,b+=8),z+=m&(1<<L)-1,m>>>=L,b-=L),b<15&&(m+=k[r++]<<b,b+=8,m+=k[r++]<<b,b+=8),E=A[m&_];n:for(;;){if(L=E>>>24,m>>>=L,b-=L,L=E>>>16&255,L&16){if(Y=E&65535,L&=15,b<L&&(m+=k[r++]<<b,b+=8,b<L&&(m+=k[r++]<<b,b+=8)),Y+=m&(1<<L)-1,Y>l){e.msg="invalid distance too far back",T.mode=Zd;break e}if(m>>>=L,b-=L,L=s-o,Y>L){if(L=Y-L,L>c&&T.sane){e.msg="invalid distance too far back",T.mode=Zd;break e}if(R=0,C=g,d===0){if(R+=u-L,L<z){z-=L;do M[s++]=g[R++];while(--L);R=s-Y,C=M}}else if(d<L){if(R+=u+d-L,L-=d,L<z){z-=L;do M[s++]=g[R++];while(--L);if(R=0,d<z){L=d,z-=L;do M[s++]=g[R++];while(--L);R=s-Y,C=M}}}else if(R+=d-L,L<z){z-=L;do M[s++]=g[R++];while(--L);R=s-Y,C=M}for(;z>2;)M[s++]=C[R++],M[s++]=C[R++],M[s++]=C[R++],z-=3;z&&(M[s++]=C[R++],z>1&&(M[s++]=C[R++]))}else{R=s-Y;do M[s++]=M[R++],M[s++]=M[R++],M[s++]=M[R++],z-=3;while(z>2);z&&(M[s++]=M[R++],z>1&&(M[s++]=M[R++]))}}else if(L&64){e.msg="invalid distance code",T.mode=Zd;break e}else{E=A[(E&65535)+(m&(1<<L)-1)];continue n}break}}else if(L&64)if(L&32){T.mode=tz;break e}else{e.msg="invalid literal/length code",T.mode=Zd;break e}else{E=x[(E&65535)+(m&(1<<L)-1)];continue t}break}}while(r<i&&s<a);z=b>>3,r-=z,b-=z<<3,m&=(1<<b)-1,e.next_in=r,e.next_out=s,e.avail_in=r<i?5+(i-r):5-(r-i),e.avail_out=s<a?257+(a-s):257-(s-a),T.hold=m,T.bits=b};const Tu=15,a3=852,l3=592,u3=0,Fg=1,c3=2,rz=new Uint16Array([3,4,5,6,7,8,9,10,11,13,15,17,19,23,27,31,35,43,51,59,67,83,99,115,131,163,195,227,258,0,0]),iz=new Uint8Array([16,16,16,16,16,16,16,16,17,17,17,17,18,18,18,18,19,19,19,19,20,20,20,20,21,21,21,21,16,72,78]),sz=new Uint16Array([1,2,3,4,5,7,9,13,17,25,33,49,65,97,129,193,257,385,513,769,1025,1537,2049,3073,4097,6145,8193,12289,16385,24577,0,0]),oz=new Uint8Array([16,16,16,16,17,17,18,18,19,19,20,20,21,21,22,22,23,23,24,24,25,25,26,26,27,27,28,28,29,29,64,64]),az=(t,e,n,r,i,s,o,a)=>{const l=a.bits;let u=0,c=0,d=0,g=0,m=0,b=0,x=0,A=0,v=0,_=0,E,L,z,Y,R,C=null,k;const M=new Uint16Array(Tu+1),T=new Uint16Array(Tu+1);let I=null,D,H,ne;for(u=0;u<=Tu;u++)M[u]=0;for(c=0;c<r;c++)M[e[n+c]]++;for(m=l,g=Tu;g>=1&&M[g]===0;g--);if(m>g&&(m=g),g===0)return i[s++]=1<<24|64<<16|0,i[s++]=1<<24|64<<16|0,a.bits=1,0;for(d=1;d<g&&M[d]===0;d++);for(m<d&&(m=d),A=1,u=1;u<=Tu;u++)if(A<<=1,A-=M[u],A<0)return-1;if(A>0&&(t===u3||g!==1))return-1;for(T[1]=0,u=1;u<Tu;u++)T[u+1]=T[u]+M[u];for(c=0;c<r;c++)e[n+c]!==0&&(o[T[e[n+c]]++]=c);if(t===u3?(C=I=o,k=20):t===Fg?(C=rz,I=iz,k=257):(C=sz,I=oz,k=0),_=0,c=0,u=d,R=s,b=m,x=0,z=-1,v=1<<m,Y=v-1,t===Fg&&v>a3||t===c3&&v>l3)return 1;for(;;){D=u-x,o[c]+1<k?(H=0,ne=o[c]):o[c]>=k?(H=I[o[c]-k],ne=C[o[c]-k]):(H=96,ne=0),E=1<<u-x,L=1<<b,d=L;do L-=E,i[R+(_>>x)+L]=D<<24|H<<16|ne|0;while(L!==0);for(E=1<<u-1;_&E;)E>>=1;if(E!==0?(_&=E-1,_+=E):_=0,c++,--M[u]===0){if(u===g)break;u=e[n+o[c]]}if(u>m&&(_&Y)!==z){for(x===0&&(x=m),R+=d,b=u-x,A=1<<b;b+x<g&&(A-=M[b+x],!(A<=0));)b++,A<<=1;if(v+=1<<b,t===Fg&&v>a3||t===c3&&v>l3)return 1;z=_&Y,i[z]=m<<24|b<<16|R-s|0}}return _!==0&&(i[R+_]=u-x<<24|64<<16|0),a.bits=m,0};var Xh=az;const lz=0,FE=1,OE=2,{Z_FINISH:h3,Z_BLOCK:uz,Z_TREES:ep,Z_OK:hu,Z_STREAM_END:cz,Z_NEED_DICT:hz,Z_STREAM_ERROR:bs,Z_DATA_ERROR:VE,Z_MEM_ERROR:BE,Z_BUF_ERROR:fz,Z_DEFLATED:f3}=jE,y0=16180,d3=16181,p3=16182,m3=16183,g3=16184,y3=16185,v3=16186,w3=16187,x3=16188,b3=16189,Pm=16190,Vo=16191,Og=16192,_3=16193,Vg=16194,S3=16195,A3=16196,N3=16197,E3=16198,tp=16199,np=16200,T3=16201,C3=16202,P3=16203,k3=16204,I3=16205,Bg=16206,L3=16207,R3=16208,Cn=16209,UE=16210,zE=16211,dz=852,pz=592,mz=15,gz=mz,j3=t=>(t>>>24&255)+(t>>>8&65280)+((t&65280)<<8)+((t&255)<<24);function yz(){this.strm=null,this.mode=0,this.last=!1,this.wrap=0,this.havedict=!1,this.flags=0,this.dmax=0,this.check=0,this.total=0,this.head=null,this.wbits=0,this.wsize=0,this.whave=0,this.wnext=0,this.window=null,this.hold=0,this.bits=0,this.length=0,this.offset=0,this.extra=0,this.lencode=null,this.distcode=null,this.lenbits=0,this.distbits=0,this.ncode=0,this.nlen=0,this.ndist=0,this.have=0,this.next=null,this.lens=new Uint16Array(320),this.work=new Uint16Array(288),this.lendyn=null,this.distdyn=null,this.sane=0,this.back=0,this.was=0}const vu=t=>{if(!t)return 1;const e=t.state;return!e||e.strm!==t||e.mode<y0||e.mode>zE?1:0},qE=t=>{if(vu(t))return bs;const e=t.state;return t.total_in=t.total_out=e.total=0,t.msg="",e.wrap&&(t.adler=e.wrap&1),e.mode=y0,e.last=0,e.havedict=0,e.flags=-1,e.dmax=32768,e.head=null,e.hold=0,e.bits=0,e.lencode=e.lendyn=new Int32Array(dz),e.distcode=e.distdyn=new Int32Array(pz),e.sane=1,e.back=-1,hu},$E=t=>{if(vu(t))return bs;const e=t.state;return e.wsize=0,e.whave=0,e.wnext=0,qE(t)},HE=(t,e)=>{let n;if(vu(t))return bs;const r=t.state;return e<0?(n=0,e=-e):(n=(e>>4)+5,e<48&&(e&=15)),e&&(e<8||e>15)?bs:(r.window!==null&&r.wbits!==e&&(r.window=null),r.wrap=n,r.wbits=e,$E(t))},WE=(t,e)=>{if(!t)return bs;const n=new yz;t.state=n,n.strm=t,n.window=null,n.mode=y0;const r=HE(t,e);return r!==hu&&(t.state=null),r},vz=t=>WE(t,gz);let D3=!0,Ug,zg;const wz=t=>{if(D3){Ug=new Int32Array(512),zg=new Int32Array(32);let e=0;for(;e<144;)t.lens[e++]=8;for(;e<256;)t.lens[e++]=9;for(;e<280;)t.lens[e++]=7;for(;e<288;)t.lens[e++]=8;for(Xh(FE,t.lens,0,288,Ug,0,t.work,{bits:9}),e=0;e<32;)t.lens[e++]=5;Xh(OE,t.lens,0,32,zg,0,t.work,{bits:5}),D3=!1}t.lencode=Ug,t.lenbits=9,t.distcode=zg,t.distbits=5},GE=(t,e,n,r)=>{let i;const s=t.state;return s.window===null&&(s.wsize=1<<s.wbits,s.wnext=0,s.whave=0,s.window=new Uint8Array(s.wsize)),r>=s.wsize?(s.window.set(e.subarray(n-s.wsize,n),0),s.wnext=0,s.whave=s.wsize):(i=s.wsize-s.wnext,i>r&&(i=r),s.window.set(e.subarray(n-r,n-r+i),s.wnext),r-=i,r?(s.window.set(e.subarray(n-r,n),0),s.wnext=r,s.whave=s.wsize):(s.wnext+=i,s.wnext===s.wsize&&(s.wnext=0),s.whave<s.wsize&&(s.whave+=i))),0},xz=(t,e)=>{let n,r,i,s,o,a,l,u,c,d,g,m,b,x,A=0,v,_,E,L,z,Y,R,C;const k=new Uint8Array(4);let M,T;const I=new Uint8Array([16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15]);if(vu(t)||!t.output||!t.input&&t.avail_in!==0)return bs;n=t.state,n.mode===Vo&&(n.mode=Og),o=t.next_out,i=t.output,l=t.avail_out,s=t.next_in,r=t.input,a=t.avail_in,u=n.hold,c=n.bits,d=a,g=l,C=hu;e:for(;;)switch(n.mode){case y0:if(n.wrap===0){n.mode=Og;break}for(;c<16;){if(a===0)break e;a--,u+=r[s++]<<c,c+=8}if(n.wrap&2&&u===35615){n.wbits===0&&(n.wbits=15),n.check=0,k[0]=u&255,k[1]=u>>>8&255,n.check=lo(n.check,k,2,0),u=0,c=0,n.mode=d3;break}if(n.head&&(n.head.done=!1),!(n.wrap&1)||(((u&255)<<8)+(u>>8))%31){t.msg="incorrect header check",n.mode=Cn;break}if((u&15)!==f3){t.msg="unknown compression method",n.mode=Cn;break}if(u>>>=4,c-=4,R=(u&15)+8,n.wbits===0&&(n.wbits=R),R>15||R>n.wbits){t.msg="invalid window size",n.mode=Cn;break}n.dmax=1<<n.wbits,n.flags=0,t.adler=n.check=1,n.mode=u&512?b3:Vo,u=0,c=0;break;case d3:for(;c<16;){if(a===0)break e;a--,u+=r[s++]<<c,c+=8}if(n.flags=u,(n.flags&255)!==f3){t.msg="unknown compression method",n.mode=Cn;break}if(n.flags&57344){t.msg="unknown header flags set",n.mode=Cn;break}n.head&&(n.head.text=u>>8&1),n.flags&512&&n.wrap&4&&(k[0]=u&255,k[1]=u>>>8&255,n.check=lo(n.check,k,2,0)),u=0,c=0,n.mode=p3;case p3:for(;c<32;){if(a===0)break e;a--,u+=r[s++]<<c,c+=8}n.head&&(n.head.time=u),n.flags&512&&n.wrap&4&&(k[0]=u&255,k[1]=u>>>8&255,k[2]=u>>>16&255,k[3]=u>>>24&255,n.check=lo(n.check,k,4,0)),u=0,c=0,n.mode=m3;case m3:for(;c<16;){if(a===0)break e;a--,u+=r[s++]<<c,c+=8}n.head&&(n.head.xflags=u&255,n.head.os=u>>8),n.flags&512&&n.wrap&4&&(k[0]=u&255,k[1]=u>>>8&255,n.check=lo(n.check,k,2,0)),u=0,c=0,n.mode=g3;case g3:if(n.flags&1024){for(;c<16;){if(a===0)break e;a--,u+=r[s++]<<c,c+=8}n.length=u,n.head&&(n.head.extra_len=u),n.flags&512&&n.wrap&4&&(k[0]=u&255,k[1]=u>>>8&255,n.check=lo(n.check,k,2,0)),u=0,c=0}else n.head&&(n.head.extra=null);n.mode=y3;case y3:if(n.flags&1024&&(m=n.length,m>a&&(m=a),m&&(n.head&&(R=n.head.extra_len-n.length,n.head.extra||(n.head.extra=new Uint8Array(n.head.extra_len)),n.head.extra.set(r.subarray(s,s+m),R)),n.flags&512&&n.wrap&4&&(n.check=lo(n.check,r,m,s)),a-=m,s+=m,n.length-=m),n.length))break e;n.length=0,n.mode=v3;case v3:if(n.flags&2048){if(a===0)break e;m=0;do R=r[s+m++],n.head&&R&&n.length<65536&&(n.head.name+=String.fromCharCode(R));while(R&&m<a);if(n.flags&512&&n.wrap&4&&(n.check=lo(n.check,r,m,s)),a-=m,s+=m,R)break e}else n.head&&(n.head.name=null);n.length=0,n.mode=w3;case w3:if(n.flags&4096){if(a===0)break e;m=0;do R=r[s+m++],n.head&&R&&n.length<65536&&(n.head.comment+=String.fromCharCode(R));while(R&&m<a);if(n.flags&512&&n.wrap&4&&(n.check=lo(n.check,r,m,s)),a-=m,s+=m,R)break e}else n.head&&(n.head.comment=null);n.mode=x3;case x3:if(n.flags&512){for(;c<16;){if(a===0)break e;a--,u+=r[s++]<<c,c+=8}if(n.wrap&4&&u!==(n.check&65535)){t.msg="header crc mismatch",n.mode=Cn;break}u=0,c=0}n.head&&(n.head.hcrc=n.flags>>9&1,n.head.done=!0),t.adler=n.check=0,n.mode=Vo;break;case b3:for(;c<32;){if(a===0)break e;a--,u+=r[s++]<<c,c+=8}t.adler=n.check=j3(u),u=0,c=0,n.mode=Pm;case Pm:if(n.havedict===0)return t.next_out=o,t.avail_out=l,t.next_in=s,t.avail_in=a,n.hold=u,n.bits=c,hz;t.adler=n.check=1,n.mode=Vo;case Vo:if(e===uz||e===ep)break e;case Og:if(n.last){u>>>=c&7,c-=c&7,n.mode=Bg;break}for(;c<3;){if(a===0)break e;a--,u+=r[s++]<<c,c+=8}switch(n.last=u&1,u>>>=1,c-=1,u&3){case 0:n.mode=_3;break;case 1:if(wz(n),n.mode=tp,e===ep){u>>>=2,c-=2;break e}break;case 2:n.mode=A3;break;case 3:t.msg="invalid block type",n.mode=Cn}u>>>=2,c-=2;break;case _3:for(u>>>=c&7,c-=c&7;c<32;){if(a===0)break e;a--,u+=r[s++]<<c,c+=8}if((u&65535)!==(u>>>16^65535)){t.msg="invalid stored block lengths",n.mode=Cn;break}if(n.length=u&65535,u=0,c=0,n.mode=Vg,e===ep)break e;case Vg:n.mode=S3;case S3:if(m=n.length,m){if(m>a&&(m=a),m>l&&(m=l),m===0)break e;i.set(r.subarray(s,s+m),o),a-=m,s+=m,l-=m,o+=m,n.length-=m;break}n.mode=Vo;break;case A3:for(;c<14;){if(a===0)break e;a--,u+=r[s++]<<c,c+=8}if(n.nlen=(u&31)+257,u>>>=5,c-=5,n.ndist=(u&31)+1,u>>>=5,c-=5,n.ncode=(u&15)+4,u>>>=4,c-=4,n.nlen>286||n.ndist>30){t.msg="too many length or distance symbols",n.mode=Cn;break}n.have=0,n.mode=N3;case N3:for(;n.have<n.ncode;){for(;c<3;){if(a===0)break e;a--,u+=r[s++]<<c,c+=8}n.lens[I[n.have++]]=u&7,u>>>=3,c-=3}for(;n.have<19;)n.lens[I[n.have++]]=0;if(n.lencode=n.lendyn,n.lenbits=7,M={bits:n.lenbits},C=Xh(lz,n.lens,0,19,n.lencode,0,n.work,M),n.lenbits=M.bits,C){t.msg="invalid code lengths set",n.mode=Cn;break}n.have=0,n.mode=E3;case E3:for(;n.have<n.nlen+n.ndist;){for(;A=n.lencode[u&(1<<n.lenbits)-1],v=A>>>24,_=A>>>16&255,E=A&65535,!(v<=c);){if(a===0)break e;a--,u+=r[s++]<<c,c+=8}if(E<16)u>>>=v,c-=v,n.lens[n.have++]=E;else{if(E===16){for(T=v+2;c<T;){if(a===0)break e;a--,u+=r[s++]<<c,c+=8}if(u>>>=v,c-=v,n.have===0){t.msg="invalid bit length repeat",n.mode=Cn;break}R=n.lens[n.have-1],m=3+(u&3),u>>>=2,c-=2}else if(E===17){for(T=v+3;c<T;){if(a===0)break e;a--,u+=r[s++]<<c,c+=8}u>>>=v,c-=v,R=0,m=3+(u&7),u>>>=3,c-=3}else{for(T=v+7;c<T;){if(a===0)break e;a--,u+=r[s++]<<c,c+=8}u>>>=v,c-=v,R=0,m=11+(u&127),u>>>=7,c-=7}if(n.have+m>n.nlen+n.ndist){t.msg="invalid bit length repeat",n.mode=Cn;break}for(;m--;)n.lens[n.have++]=R}}if(n.mode===Cn)break;if(n.lens[256]===0){t.msg="invalid code -- missing end-of-block",n.mode=Cn;break}if(n.lenbits=9,M={bits:n.lenbits},C=Xh(FE,n.lens,0,n.nlen,n.lencode,0,n.work,M),n.lenbits=M.bits,C){t.msg="invalid literal/lengths set",n.mode=Cn;break}if(n.distbits=6,n.distcode=n.distdyn,M={bits:n.distbits},C=Xh(OE,n.lens,n.nlen,n.ndist,n.distcode,0,n.work,M),n.distbits=M.bits,C){t.msg="invalid distances set",n.mode=Cn;break}if(n.mode=tp,e===ep)break e;case tp:n.mode=np;case np:if(a>=6&&l>=258){t.next_out=o,t.avail_out=l,t.next_in=s,t.avail_in=a,n.hold=u,n.bits=c,nz(t,g),o=t.next_out,i=t.output,l=t.avail_out,s=t.next_in,r=t.input,a=t.avail_in,u=n.hold,c=n.bits,n.mode===Vo&&(n.back=-1);break}for(n.back=0;A=n.lencode[u&(1<<n.lenbits)-1],v=A>>>24,_=A>>>16&255,E=A&65535,!(v<=c);){if(a===0)break e;a--,u+=r[s++]<<c,c+=8}if(_&&!(_&240)){for(L=v,z=_,Y=E;A=n.lencode[Y+((u&(1<<L+z)-1)>>L)],v=A>>>24,_=A>>>16&255,E=A&65535,!(L+v<=c);){if(a===0)break e;a--,u+=r[s++]<<c,c+=8}u>>>=L,c-=L,n.back+=L}if(u>>>=v,c-=v,n.back+=v,n.length=E,_===0){n.mode=I3;break}if(_&32){n.back=-1,n.mode=Vo;break}if(_&64){t.msg="invalid literal/length code",n.mode=Cn;break}n.extra=_&15,n.mode=T3;case T3:if(n.extra){for(T=n.extra;c<T;){if(a===0)break e;a--,u+=r[s++]<<c,c+=8}n.length+=u&(1<<n.extra)-1,u>>>=n.extra,c-=n.extra,n.back+=n.extra}n.was=n.length,n.mode=C3;case C3:for(;A=n.distcode[u&(1<<n.distbits)-1],v=A>>>24,_=A>>>16&255,E=A&65535,!(v<=c);){if(a===0)break e;a--,u+=r[s++]<<c,c+=8}if(!(_&240)){for(L=v,z=_,Y=E;A=n.distcode[Y+((u&(1<<L+z)-1)>>L)],v=A>>>24,_=A>>>16&255,E=A&65535,!(L+v<=c);){if(a===0)break e;a--,u+=r[s++]<<c,c+=8}u>>>=L,c-=L,n.back+=L}if(u>>>=v,c-=v,n.back+=v,_&64){t.msg="invalid distance code",n.mode=Cn;break}n.offset=E,n.extra=_&15,n.mode=P3;case P3:if(n.extra){for(T=n.extra;c<T;){if(a===0)break e;a--,u+=r[s++]<<c,c+=8}n.offset+=u&(1<<n.extra)-1,u>>>=n.extra,c-=n.extra,n.back+=n.extra}if(n.offset>n.dmax){t.msg="invalid distance too far back",n.mode=Cn;break}n.mode=k3;case k3:if(l===0)break e;if(m=g-l,n.offset>m){if(m=n.offset-m,m>n.whave&&n.sane){t.msg="invalid distance too far back",n.mode=Cn;break}m>n.wnext?(m-=n.wnext,b=n.wsize-m):b=n.wnext-m,m>n.length&&(m=n.length),x=n.window}else x=i,b=o-n.offset,m=n.length;m>l&&(m=l),l-=m,n.length-=m;do i[o++]=x[b++];while(--m);n.length===0&&(n.mode=np);break;case I3:if(l===0)break e;i[o++]=n.length,l--,n.mode=np;break;case Bg:if(n.wrap){for(;c<32;){if(a===0)break e;a--,u|=r[s++]<<c,c+=8}if(g-=l,t.total_out+=g,n.total+=g,n.wrap&4&&g&&(t.adler=n.check=n.flags?lo(n.check,i,g,o-g):X2(n.check,i,g,o-g)),g=l,n.wrap&4&&(n.flags?u:j3(u))!==n.check){t.msg="incorrect data check",n.mode=Cn;break}u=0,c=0}n.mode=L3;case L3:if(n.wrap&&n.flags){for(;c<32;){if(a===0)break e;a--,u+=r[s++]<<c,c+=8}if(n.wrap&4&&u!==(n.total&4294967295)){t.msg="incorrect length check",n.mode=Cn;break}u=0,c=0}n.mode=R3;case R3:C=cz;break e;case Cn:C=VE;break e;case UE:return BE;case zE:default:return bs}return t.next_out=o,t.avail_out=l,t.next_in=s,t.avail_in=a,n.hold=u,n.bits=c,(n.wsize||g!==t.avail_out&&n.mode<Cn&&(n.mode<Bg||e!==h3))&&GE(t,t.output,t.next_out,g-t.avail_out),d-=t.avail_in,g-=t.avail_out,t.total_in+=d,t.total_out+=g,n.total+=g,n.wrap&4&&g&&(t.adler=n.check=n.flags?lo(n.check,i,g,t.next_out-g):X2(n.check,i,g,t.next_out-g)),t.data_type=n.bits+(n.last?64:0)+(n.mode===Vo?128:0)+(n.mode===tp||n.mode===Vg?256:0),(d===0&&g===0||e===h3)&&C===hu&&(C=fz),C},bz=t=>{if(vu(t))return bs;let e=t.state;return e.window&&(e.window=null),t.state=null,hu},_z=(t,e)=>{if(vu(t))return bs;const n=t.state;return n.wrap&2?(n.head=e,e.done=!1,hu):bs},Sz=(t,e)=>{const n=e.length;let r,i,s;return vu(t)||(r=t.state,r.wrap!==0&&r.mode!==Pm)?bs:r.mode===Pm&&(i=1,i=X2(i,e,n,0),i!==r.check)?VE:(s=GE(t,e,n,n),s?(r.mode=UE,BE):(r.havedict=1,hu))};var Az=$E,Nz=HE,Ez=qE,Tz=vz,Cz=WE,Pz=xz,kz=bz,Iz=_z,Lz=Sz,Rz="pako inflate (from Nodeca project)",zo={inflateReset:Az,inflateReset2:Nz,inflateResetKeep:Ez,inflateInit:Tz,inflateInit2:Cz,inflate:Pz,inflateEnd:kz,inflateGetHeader:Iz,inflateSetDictionary:Lz,inflateInfo:Rz};function jz(){this.text=0,this.time=0,this.xflags=0,this.os=0,this.extra=null,this.extra_len=0,this.name="",this.comment="",this.hcrc=0,this.done=!1}var Dz=jz;const KE=Object.prototype.toString,{Z_NO_FLUSH:Mz,Z_FINISH:Fz,Z_OK:Ff,Z_STREAM_END:qg,Z_NEED_DICT:$g,Z_STREAM_ERROR:Oz,Z_DATA_ERROR:M3,Z_MEM_ERROR:Vz}=jE;function ud(t){this.options=DE.assign({chunkSize:1024*64,windowBits:15,to:""},t||{});const e=this.options;e.raw&&e.windowBits>=0&&e.windowBits<16&&(e.windowBits=-e.windowBits,e.windowBits===0&&(e.windowBits=-15)),e.windowBits>=0&&e.windowBits<16&&!(t&&t.windowBits)&&(e.windowBits+=32),e.windowBits>15&&e.windowBits<48&&(e.windowBits&15||(e.windowBits|=15)),this.err=0,this.msg="",this.ended=!1,this.chunks=[],this.strm=new ez,this.strm.avail_out=0;let n=zo.inflateInit2(this.strm,e.windowBits);if(n!==Ff)throw new Error(J2[n]);if(this.header=new Dz,zo.inflateGetHeader(this.strm,this.header),e.dictionary&&(typeof e.dictionary=="string"?e.dictionary=Z2.string2buf(e.dictionary):KE.call(e.dictionary)==="[object ArrayBuffer]"&&(e.dictionary=new Uint8Array(e.dictionary)),e.raw&&(n=zo.inflateSetDictionary(this.strm,e.dictionary),n!==Ff)))throw new Error(J2[n])}ud.prototype.push=function(t,e){const n=this.strm,r=this.options.chunkSize,i=this.options.dictionary;let s,o,a;if(this.ended)return!1;for(e===~~e?o=e:o=e===!0?Fz:Mz,KE.call(t)==="[object ArrayBuffer]"?n.input=new Uint8Array(t):n.input=t,n.next_in=0,n.avail_in=n.input.length;;){for(n.avail_out===0&&(n.output=new Uint8Array(r),n.next_out=0,n.avail_out=r),s=zo.inflate(n,o),s===$g&&i&&(s=zo.inflateSetDictionary(n,i),s===Ff?s=zo.inflate(n,o):s===M3&&(s=$g));n.avail_in>0&&s===qg&&n.state.wrap>0&&t[n.next_in]!==0;)zo.inflateReset(n),s=zo.inflate(n,o);switch(s){case Oz:case M3:case $g:case Vz:return this.onEnd(s),this.ended=!0,!1}if(a=n.avail_out,n.next_out&&(n.avail_out===0||s===qg))if(this.options.to==="string"){let l=Z2.utf8border(n.output,n.next_out),u=n.next_out-l,c=Z2.buf2string(n.output,l);n.next_out=u,n.avail_out=r-u,u&&n.output.set(n.output.subarray(l,l+u),0),this.onData(c)}else this.onData(n.output.length===n.next_out?n.output:n.output.subarray(0,n.next_out));if(!(s===Ff&&a===0)){if(s===qg)return s=zo.inflateEnd(this.strm),this.onEnd(s),this.ended=!0,!0;if(n.avail_in===0)break}}return!0};ud.prototype.onData=function(t){this.chunks.push(t)};ud.prototype.onEnd=function(t){t===Ff&&(this.options.to==="string"?this.result=this.chunks.join(""):this.result=DE.flattenChunks(this.chunks)),this.chunks=[],this.err=t,this.msg=this.strm.msg};function Bz(t,e){const n=new ud(e);if(n.push(t),n.err)throw n.msg||J2[n.err];return n.result}var Uz=ud,zz=Bz,qz={Inflate:Uz,inflate:zz};const{Inflate:$z,inflate:Hz}=qz;var F3=$z,Wz=Hz;const QE=[];for(let t=0;t<256;t++){let e=t;for(let n=0;n<8;n++)e&1?e=3988292384^e>>>1:e=e>>>1;QE[t]=e}const O3=4294967295;function Gz(t,e,n){let r=t;for(let i=0;i<n;i++)r=QE[(r^e[i])&255]^r>>>8;return r}function Kz(t,e){return(Gz(O3,t,e)^O3)>>>0}function V3(t,e,n){const r=t.readUint32(),i=Kz(new Uint8Array(t.buffer,t.byteOffset+t.offset-e-4,e),e);if(i!==r)throw new Error(`CRC mismatch for chunk ${n}. Expected ${r}, found ${i}`)}function YE(t,e,n){for(let r=0;r<n;r++)e[r]=t[r]}function XE(t,e,n,r){let i=0;for(;i<r;i++)e[i]=t[i];for(;i<n;i++)e[i]=t[i]+e[i-r]&255}function JE(t,e,n,r){let i=0;if(n.length===0)for(;i<r;i++)e[i]=t[i];else for(;i<r;i++)e[i]=t[i]+n[i]&255}function ZE(t,e,n,r,i){let s=0;if(n.length===0){for(;s<i;s++)e[s]=t[s];for(;s<r;s++)e[s]=t[s]+(e[s-i]>>1)&255}else{for(;s<i;s++)e[s]=t[s]+(n[s]>>1)&255;for(;s<r;s++)e[s]=t[s]+(e[s-i]+n[s]>>1)&255}}function eT(t,e,n,r,i){let s=0;if(n.length===0){for(;s<i;s++)e[s]=t[s];for(;s<r;s++)e[s]=t[s]+e[s-i]&255}else{for(;s<i;s++)e[s]=t[s]+n[s]&255;for(;s<r;s++)e[s]=t[s]+Qz(e[s-i],n[s],n[s-i])&255}}function Qz(t,e,n){const r=t+e-n,i=Math.abs(r-t),s=Math.abs(r-e),o=Math.abs(r-n);return i<=s&&i<=o?t:s<=o?e:n}function Yz(t,e,n,r,i,s){switch(t){case 0:YE(e,n,i);break;case 1:XE(e,n,i,s);break;case 2:JE(e,n,r,i);break;case 3:ZE(e,n,r,i,s);break;case 4:eT(e,n,r,i,s);break;default:throw new Error(`Unsupported filter: ${t}`)}}const Xz=new Uint16Array([255]),Jz=new Uint8Array(Xz.buffer),Zz=Jz[0]===255;function eq(t){const{data:e,width:n,height:r,channels:i,depth:s}=t,o=[{x:0,y:0,xStep:8,yStep:8},{x:4,y:0,xStep:8,yStep:8},{x:0,y:4,xStep:4,yStep:8},{x:2,y:0,xStep:4,yStep:4},{x:0,y:2,xStep:2,yStep:4},{x:1,y:0,xStep:2,yStep:2},{x:0,y:1,xStep:1,yStep:2}],a=Math.ceil(s/8)*i,l=new Uint8Array(r*n*a);let u=0;for(let c=0;c<7;c++){const d=o[c],g=Math.ceil((n-d.x)/d.xStep),m=Math.ceil((r-d.y)/d.yStep);if(g<=0||m<=0)continue;const b=g*a,x=new Uint8Array(b);for(let A=0;A<m;A++){const v=e[u++],_=e.subarray(u,u+b);u+=b;const E=new Uint8Array(b);Yz(v,_,E,x,b,a),x.set(E);for(let L=0;L<g;L++){const z=d.x+L*d.xStep,Y=d.y+A*d.yStep;if(!(z>=n||Y>=r))for(let R=0;R<a;R++)l[(Y*n+z)*a+R]=E[L*a+R]}}}if(s===16){const c=new Uint16Array(l.buffer);if(Zz)for(let d=0;d<c.length;d++)c[d]=tq(c[d]);return c}else return l}function tq(t){return(t&255)<<8|t>>8&255}const nq=new Uint16Array([255]),rq=new Uint8Array(nq.buffer),iq=rq[0]===255,sq=new Uint8Array(0);function B3(t){const{data:e,width:n,height:r,channels:i,depth:s}=t,o=Math.ceil(s/8)*i,a=Math.ceil(s/8*i*n),l=new Uint8Array(r*a);let u=sq,c=0,d,g;for(let m=0;m<r;m++){switch(d=e.subarray(c+1,c+1+a),g=l.subarray(m*a,(m+1)*a),e[c]){case 0:YE(d,g,a);break;case 1:XE(d,g,a,o);break;case 2:JE(d,g,u,a);break;case 3:ZE(d,g,u,a,o);break;case 4:eT(d,g,u,a,o);break;default:throw new Error(`Unsupported filter: ${e[c]}`)}u=g,c+=a+1}if(s===16){const m=new Uint16Array(l.buffer);if(iq)for(let b=0;b<m.length;b++)m[b]=oq(m[b]);return m}else return l}function oq(t){return(t&255)<<8|t>>8&255}const Pp=Uint8Array.of(137,80,78,71,13,10,26,10);function U3(t){if(!aq(t.readBytes(Pp.length)))throw new Error("wrong PNG signature")}function aq(t){if(t.length<Pp.length)return!1;for(let e=0;e<Pp.length;e++)if(t[e]!==Pp[e])return!1;return!0}const lq="tEXt",uq=0,tT=new TextDecoder("latin1");function cq(t){if(fq(t),t.length===0||t.length>79)throw new Error("keyword length must be between 1 and 79")}const hq=/^[\u0000-\u00FF]*$/;function fq(t){if(!hq.test(t))throw new Error("invalid latin1 text")}function dq(t,e,n){const r=nT(e);t[r]=pq(e,n-r.length-1)}function nT(t){for(t.mark();t.readByte()!==uq;);const e=t.offset;t.reset();const n=tT.decode(t.readBytes(e-t.offset-1));return t.skip(1),cq(n),n}function pq(t,e){return tT.decode(t.readBytes(e))}const Ki={UNKNOWN:-1,GREYSCALE:0,TRUECOLOUR:2,INDEXED_COLOUR:3,GREYSCALE_ALPHA:4,TRUECOLOUR_ALPHA:6},Hg={UNKNOWN:-1,DEFLATE:0},z3={UNKNOWN:-1,ADAPTIVE:0},Wg={UNKNOWN:-1,NO_INTERLACE:0,ADAM7:1},rp={NONE:0,BACKGROUND:1,PREVIOUS:2},Gg={SOURCE:0,OVER:1};class mq extends C5{constructor(n,r={}){super(n);on(this,"_checkCrc");on(this,"_inflator");on(this,"_png");on(this,"_apng");on(this,"_end");on(this,"_hasPalette");on(this,"_palette");on(this,"_hasTransparency");on(this,"_transparency");on(this,"_compressionMethod");on(this,"_filterMethod");on(this,"_interlaceMethod");on(this,"_colorType");on(this,"_isAnimated");on(this,"_numberOfFrames");on(this,"_numberOfPlays");on(this,"_frames");on(this,"_writingDataChunks");const{checkCrc:i=!1}=r;this._checkCrc=i,this._inflator=new F3,this._png={width:-1,height:-1,channels:-1,data:new Uint8Array(0),depth:1,text:{}},this._apng={width:-1,height:-1,channels:-1,depth:1,numberOfFrames:1,numberOfPlays:0,text:{},frames:[]},this._end=!1,this._hasPalette=!1,this._palette=[],this._hasTransparency=!1,this._transparency=new Uint16Array(0),this._compressionMethod=Hg.UNKNOWN,this._filterMethod=z3.UNKNOWN,this._interlaceMethod=Wg.UNKNOWN,this._colorType=Ki.UNKNOWN,this._isAnimated=!1,this._numberOfFrames=1,this._numberOfPlays=0,this._frames=[],this._writingDataChunks=!1,this.setBigEndian()}decode(){for(U3(this);!this._end;){const n=this.readUint32(),r=this.readChars(4);this.decodeChunk(n,r)}return this.decodeImage(),this._png}decodeApng(){for(U3(this);!this._end;){const n=this.readUint32(),r=this.readChars(4);this.decodeApngChunk(n,r)}return this.decodeApngImage(),this._apng}decodeChunk(n,r){const i=this.offset;switch(r){case"IHDR":this.decodeIHDR();break;case"PLTE":this.decodePLTE(n);break;case"IDAT":this.decodeIDAT(n);break;case"IEND":this._end=!0;break;case"tRNS":this.decodetRNS(n);break;case"iCCP":this.decodeiCCP(n);break;case lq:dq(this._png.text,this,n);break;case"pHYs":this.decodepHYs();break;default:this.skip(n);break}if(this.offset-i!==n)throw new Error(`Length mismatch while decoding chunk ${r}`);this._checkCrc?V3(this,n+4,r):this.skip(4)}decodeApngChunk(n,r){const i=this.offset;switch(r!=="fdAT"&&r!=="IDAT"&&this._writingDataChunks&&this.pushDataToFrame(),r){case"acTL":this.decodeACTL();break;case"fcTL":this.decodeFCTL();break;case"fdAT":this.decodeFDAT(n);break;default:this.decodeChunk(n,r),this.offset=i+n;break}if(this.offset-i!==n)throw new Error(`Length mismatch while decoding chunk ${r}`);this._checkCrc?V3(this,n+4,r):this.skip(4)}decodeIHDR(){const n=this._png;n.width=this.readUint32(),n.height=this.readUint32(),n.depth=gq(this.readUint8());const r=this.readUint8();this._colorType=r;let i;switch(r){case Ki.GREYSCALE:i=1;break;case Ki.TRUECOLOUR:i=3;break;case Ki.INDEXED_COLOUR:i=1;break;case Ki.GREYSCALE_ALPHA:i=2;break;case Ki.TRUECOLOUR_ALPHA:i=4;break;case Ki.UNKNOWN:default:throw new Error(`Unknown color type: ${r}`)}if(this._png.channels=i,this._compressionMethod=this.readUint8(),this._compressionMethod!==Hg.DEFLATE)throw new Error(`Unsupported compression method: ${this._compressionMethod}`);this._filterMethod=this.readUint8(),this._interlaceMethod=this.readUint8()}decodeACTL(){this._numberOfFrames=this.readUint32(),this._numberOfPlays=this.readUint32(),this._isAnimated=!0}decodeFCTL(){const n={sequenceNumber:this.readUint32(),width:this.readUint32(),height:this.readUint32(),xOffset:this.readUint32(),yOffset:this.readUint32(),delayNumber:this.readUint16(),delayDenominator:this.readUint16(),disposeOp:this.readUint8(),blendOp:this.readUint8(),data:new Uint8Array(0)};this._frames.push(n)}decodePLTE(n){if(n%3!==0)throw new RangeError(`PLTE field length must be a multiple of 3. Got ${n}`);const r=n/3;this._hasPalette=!0;const i=[];this._palette=i;for(let s=0;s<r;s++)i.push([this.readUint8(),this.readUint8(),this.readUint8()])}decodeIDAT(n){this._writingDataChunks=!0;const r=n,i=this.offset+this.byteOffset;if(this._inflator.push(new Uint8Array(this.buffer,i,r)),this._inflator.err)throw new Error(`Error while decompressing the data: ${this._inflator.err}`);this.skip(n)}decodeFDAT(n){this._writingDataChunks=!0;let r=n,i=this.offset+this.byteOffset;if(i+=4,r-=4,this._inflator.push(new Uint8Array(this.buffer,i,r)),this._inflator.err)throw new Error(`Error while decompressing the data: ${this._inflator.err}`);this.skip(n)}decodetRNS(n){switch(this._colorType){case Ki.GREYSCALE:case Ki.TRUECOLOUR:{if(n%2!==0)throw new RangeError(`tRNS chunk length must be a multiple of 2. Got ${n}`);if(n/2>this._png.width*this._png.height)throw new Error(`tRNS chunk contains more alpha values than there are pixels (${n/2} vs ${this._png.width*this._png.height})`);this._hasTransparency=!0,this._transparency=new Uint16Array(n/2);for(let r=0;r<n/2;r++)this._transparency[r]=this.readUint16();break}case Ki.INDEXED_COLOUR:{if(n>this._palette.length)throw new Error(`tRNS chunk contains more alpha values than there are palette colors (${n} vs ${this._palette.length})`);let r=0;for(;r<n;r++){const i=this.readByte();this._palette[r].push(i)}for(;r<this._palette.length;r++)this._palette[r].push(255);break}case Ki.UNKNOWN:case Ki.GREYSCALE_ALPHA:case Ki.TRUECOLOUR_ALPHA:default:throw new Error(`tRNS chunk is not supported for color type ${this._colorType}`)}}decodeiCCP(n){const r=nT(this),i=this.readUint8();if(i!==Hg.DEFLATE)throw new Error(`Unsupported iCCP compression method: ${i}`);const s=this.readBytes(n-r.length-2);this._png.iccEmbeddedProfile={name:r,profile:Wz(s)}}decodepHYs(){const n=this.readUint32(),r=this.readUint32(),i=this.readByte();this._png.resolution={x:n,y:r,unit:i}}decodeApngImage(){this._apng.width=this._png.width,this._apng.height=this._png.height,this._apng.channels=this._png.channels,this._apng.depth=this._png.depth,this._apng.numberOfFrames=this._numberOfFrames,this._apng.numberOfPlays=this._numberOfPlays,this._apng.text=this._png.text,this._apng.resolution=this._png.resolution;for(let n=0;n<this._numberOfFrames;n++){const r={sequenceNumber:this._frames[n].sequenceNumber,delayNumber:this._frames[n].delayNumber,delayDenominator:this._frames[n].delayDenominator,data:this._apng.depth===8?new Uint8Array(this._apng.width*this._apng.height*this._apng.channels):new Uint16Array(this._apng.width*this._apng.height*this._apng.channels)},i=this._frames.at(n);if(i){if(i.data=B3({data:i.data,width:i.width,height:i.height,channels:this._apng.channels,depth:this._apng.depth}),this._hasPalette&&(this._apng.palette=this._palette),this._hasTransparency&&(this._apng.transparency=this._transparency),n===0||i.xOffset===0&&i.yOffset===0&&i.width===this._png.width&&i.height===this._png.height)r.data=i.data;else{const s=this._apng.frames.at(n-1);this.disposeFrame(i,s,r),this.addFrameDataToCanvas(r,i)}this._apng.frames.push(r)}}return this._apng}disposeFrame(n,r,i){switch(n.disposeOp){case rp.NONE:break;case rp.BACKGROUND:for(let s=0;s<this._png.height;s++)for(let o=0;o<this._png.width;o++){const a=(s*n.width+o)*this._png.channels;for(let l=0;l<this._png.channels;l++)i.data[a+l]=0}break;case rp.PREVIOUS:i.data.set(r.data);break;default:throw new Error("Unknown disposeOp")}}addFrameDataToCanvas(n,r){const i=1<<this._png.depth,s=(o,a)=>{const l=((o+r.yOffset)*this._png.width+r.xOffset+a)*this._png.channels,u=(o*r.width+a)*this._png.channels;return{index:l,frameIndex:u}};switch(r.blendOp){case Gg.SOURCE:for(let o=0;o<r.height;o++)for(let a=0;a<r.width;a++){const{index:l,frameIndex:u}=s(o,a);for(let c=0;c<this._png.channels;c++)n.data[l+c]=r.data[u+c]}break;case Gg.OVER:for(let o=0;o<r.height;o++)for(let a=0;a<r.width;a++){const{index:l,frameIndex:u}=s(o,a);for(let c=0;c<this._png.channels;c++){const d=r.data[u+this._png.channels-1]/i,g=c%(this._png.channels-1)===0?1:r.data[u+c],m=Math.floor(d*g+(1-d)*n.data[l+c]);n.data[l+c]+=m}}break;default:throw new Error("Unknown blendOp")}}decodeImage(){var r;if(this._inflator.err)throw new Error(`Error while decompressing the data: ${this._inflator.err}`);const n=this._isAnimated?((r=this._frames)==null?void 0:r.at(0)).data:this._inflator.result;if(this._filterMethod!==z3.ADAPTIVE)throw new Error(`Filter method ${this._filterMethod} not supported`);if(this._interlaceMethod===Wg.NO_INTERLACE)this._png.data=B3({data:n,width:this._png.width,height:this._png.height,channels:this._png.channels,depth:this._png.depth});else if(this._interlaceMethod===Wg.ADAM7)this._png.data=eq({data:n,width:this._png.width,height:this._png.height,channels:this._png.channels,depth:this._png.depth});else throw new Error(`Interlace method ${this._interlaceMethod} not supported`);this._hasPalette&&(this._png.palette=this._palette),this._hasTransparency&&(this._png.transparency=this._transparency)}pushDataToFrame(){const n=this._inflator.result,r=this._frames.at(-1);r?r.data=n:this._frames.push({sequenceNumber:0,width:this._png.width,height:this._png.height,xOffset:0,yOffset:0,delayNumber:0,delayDenominator:0,disposeOp:rp.NONE,blendOp:Gg.SOURCE,data:n}),this._inflator=new F3,this._writingDataChunks=!1}}function gq(t){if(t!==1&&t!==2&&t!==4&&t!==8&&t!==16)throw new Error(`invalid bit depth: ${t}`);return t}var q3;(function(t){t[t.UNKNOWN=0]="UNKNOWN",t[t.METRE=1]="METRE"})(q3||(q3={}));function yq(t,e){return new mq(t,e).decode()}var vt=function(){return typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:this}();function Kg(){vt.console&&typeof vt.console.log=="function"&&vt.console.log.apply(vt.console,arguments)}var dn={log:Kg,warn:function(t){vt.console&&(typeof vt.console.warn=="function"?vt.console.warn.apply(vt.console,arguments):Kg.call(null,arguments))},error:function(t){vt.console&&(typeof vt.console.error=="function"?vt.console.error.apply(vt.console,arguments):Kg(t))}};function Qg(t,e,n){var r=new XMLHttpRequest;r.open("GET",t),r.responseType="blob",r.onload=function(){Bl(r.response,e,n)},r.onerror=function(){dn.error("could not download file")},r.send()}function $3(t){var e=new XMLHttpRequest;e.open("HEAD",t,!1);try{e.send()}catch{}return e.status>=200&&e.status<=299}function ip(t){try{t.dispatchEvent(new MouseEvent("click"))}catch{var e=document.createEvent("MouseEvents");e.initMouseEvent("click",!0,!0,window,0,0,0,80,20,!1,!1,!1,!1,0,null),t.dispatchEvent(e)}}var Bl=vt.saveAs||((typeof window>"u"?"undefined":an(window))!=="object"||window!==vt?function(){}:typeof HTMLAnchorElement<"u"&&"download"in HTMLAnchorElement.prototype?function(t,e,n){var r=vt.URL||vt.webkitURL,i=document.createElement("a");e=e||t.name||"download",i.download=e,i.rel="noopener",typeof t=="string"?(i.href=t,i.origin!==location.origin?$3(i.href)?Qg(t,e,n):ip(i,i.target="_blank"):ip(i)):(i.href=r.createObjectURL(t),setTimeout(function(){r.revokeObjectURL(i.href)},4e4),setTimeout(function(){ip(i)},0))}:"msSaveOrOpenBlob"in navigator?function(t,e,n){if(e=e||t.name||"download",typeof t=="string")if($3(t))Qg(t,e,n);else{var r=document.createElement("a");r.href=t,r.target="_blank",setTimeout(function(){ip(r)})}else navigator.msSaveOrOpenBlob(function(i,s){return s===void 0?s={autoBom:!1}:an(s)!=="object"&&(dn.warn("Deprecated: Expected third argument to be a object"),s={autoBom:!s}),s.autoBom&&/^\s*(?:text\/\S*|application\/xml|\S*\/\S*\+xml)\s*;.*charset\s*=\s*utf-8/i.test(i.type)?new Blob(["\uFEFF",i],{type:i.type}):i}(t,n),e)}:function(t,e,n,r){if((r=r||open("","_blank"))&&(r.document.title=r.document.body.innerText="downloading..."),typeof t=="string")return Qg(t,e,n);var i=t.type==="application/octet-stream",s=/constructor/i.test(vt.HTMLElement)||vt.safari,o=/CriOS\/[\d]+/.test(navigator.userAgent);if((o||i&&s)&&(typeof FileReader>"u"?"undefined":an(FileReader))==="object"){var a=new FileReader;a.onloadend=function(){var c=a.result;c=o?c:c.replace(/^data:[^;]*;/,"data:attachment/file;"),r?r.location.href=c:location=c,r=null},a.readAsDataURL(t)}else{var l=vt.URL||vt.webkitURL,u=l.createObjectURL(t);r?r.location=u:location.href=u,r=null,setTimeout(function(){l.revokeObjectURL(u)},4e4)}});/**
 * A class to parse color values
 * @author Stoyan Stefanov <sstoo@gmail.com>
 * {@link   http://www.phpied.com/rgb-color-parser-in-javascript/}
 * @license Use it if you like it
 */function rT(t){var e;t=t||"",this.ok=!1,t.charAt(0)=="#"&&(t=t.substr(1,6)),t={aliceblue:"f0f8ff",antiquewhite:"faebd7",aqua:"00ffff",aquamarine:"7fffd4",azure:"f0ffff",beige:"f5f5dc",bisque:"ffe4c4",black:"000000",blanchedalmond:"ffebcd",blue:"0000ff",blueviolet:"8a2be2",brown:"a52a2a",burlywood:"deb887",cadetblue:"5f9ea0",chartreuse:"7fff00",chocolate:"d2691e",coral:"ff7f50",cornflowerblue:"6495ed",cornsilk:"fff8dc",crimson:"dc143c",cyan:"00ffff",darkblue:"00008b",darkcyan:"008b8b",darkgoldenrod:"b8860b",darkgray:"a9a9a9",darkgreen:"006400",darkkhaki:"bdb76b",darkmagenta:"8b008b",darkolivegreen:"556b2f",darkorange:"ff8c00",darkorchid:"9932cc",darkred:"8b0000",darksalmon:"e9967a",darkseagreen:"8fbc8f",darkslateblue:"483d8b",darkslategray:"2f4f4f",darkturquoise:"00ced1",darkviolet:"9400d3",deeppink:"ff1493",deepskyblue:"00bfff",dimgray:"696969",dodgerblue:"1e90ff",feldspar:"d19275",firebrick:"b22222",floralwhite:"fffaf0",forestgreen:"228b22",fuchsia:"ff00ff",gainsboro:"dcdcdc",ghostwhite:"f8f8ff",gold:"ffd700",goldenrod:"daa520",gray:"808080",green:"008000",greenyellow:"adff2f",honeydew:"f0fff0",hotpink:"ff69b4",indianred:"cd5c5c",indigo:"4b0082",ivory:"fffff0",khaki:"f0e68c",lavender:"e6e6fa",lavenderblush:"fff0f5",lawngreen:"7cfc00",lemonchiffon:"fffacd",lightblue:"add8e6",lightcoral:"f08080",lightcyan:"e0ffff",lightgoldenrodyellow:"fafad2",lightgrey:"d3d3d3",lightgreen:"90ee90",lightpink:"ffb6c1",lightsalmon:"ffa07a",lightseagreen:"20b2aa",lightskyblue:"87cefa",lightslateblue:"8470ff",lightslategray:"778899",lightsteelblue:"b0c4de",lightyellow:"ffffe0",lime:"00ff00",limegreen:"32cd32",linen:"faf0e6",magenta:"ff00ff",maroon:"800000",mediumaquamarine:"66cdaa",mediumblue:"0000cd",mediumorchid:"ba55d3",mediumpurple:"9370d8",mediumseagreen:"3cb371",mediumslateblue:"7b68ee",mediumspringgreen:"00fa9a",mediumturquoise:"48d1cc",mediumvioletred:"c71585",midnightblue:"191970",mintcream:"f5fffa",mistyrose:"ffe4e1",moccasin:"ffe4b5",navajowhite:"ffdead",navy:"000080",oldlace:"fdf5e6",olive:"808000",olivedrab:"6b8e23",orange:"ffa500",orangered:"ff4500",orchid:"da70d6",palegoldenrod:"eee8aa",palegreen:"98fb98",paleturquoise:"afeeee",palevioletred:"d87093",papayawhip:"ffefd5",peachpuff:"ffdab9",peru:"cd853f",pink:"ffc0cb",plum:"dda0dd",powderblue:"b0e0e6",purple:"800080",red:"ff0000",rosybrown:"bc8f8f",royalblue:"4169e1",saddlebrown:"8b4513",salmon:"fa8072",sandybrown:"f4a460",seagreen:"2e8b57",seashell:"fff5ee",sienna:"a0522d",silver:"c0c0c0",skyblue:"87ceeb",slateblue:"6a5acd",slategray:"708090",snow:"fffafa",springgreen:"00ff7f",steelblue:"4682b4",tan:"d2b48c",teal:"008080",thistle:"d8bfd8",tomato:"ff6347",turquoise:"40e0d0",violet:"ee82ee",violetred:"d02090",wheat:"f5deb3",white:"ffffff",whitesmoke:"f5f5f5",yellow:"ffff00",yellowgreen:"9acd32"}[t=(t=t.replace(/ /g,"")).toLowerCase()]||t;for(var n=[{re:/^rgb\((\d{1,3}),\s*(\d{1,3}),\s*(\d{1,3})\)$/,example:["rgb(123, 234, 45)","rgb(255,234,245)"],process:function(a){return[parseInt(a[1]),parseInt(a[2]),parseInt(a[3])]}},{re:/^(\w{2})(\w{2})(\w{2})$/,example:["#00ff00","336699"],process:function(a){return[parseInt(a[1],16),parseInt(a[2],16),parseInt(a[3],16)]}},{re:/^(\w{1})(\w{1})(\w{1})$/,example:["#fb0","f0f"],process:function(a){return[parseInt(a[1]+a[1],16),parseInt(a[2]+a[2],16),parseInt(a[3]+a[3],16)]}}],r=0;r<n.length;r++){var i=n[r].re,s=n[r].process,o=i.exec(t);o&&(e=s(o),this.r=e[0],this.g=e[1],this.b=e[2],this.ok=!0)}this.r=this.r<0||isNaN(this.r)?0:this.r>255?255:this.r,this.g=this.g<0||isNaN(this.g)?0:this.g>255?255:this.g,this.b=this.b<0||isNaN(this.b)?0:this.b>255?255:this.b,this.toRGB=function(){return"rgb("+this.r+", "+this.g+", "+this.b+")"},this.toHex=function(){var a=this.r.toString(16),l=this.g.toString(16),u=this.b.toString(16);return a.length==1&&(a="0"+a),l.length==1&&(l="0"+l),u.length==1&&(u="0"+u),"#"+a+l+u}}var kp=vt.atob.bind(vt),H3=vt.btoa.bind(vt);/**
 * @license
 * Joseph Myers does not specify a particular license for his work.
 *
 * Author: Joseph Myers
 * Accessed from: http://www.myersdaily.org/joseph/javascript/md5.js
 *
 * Modified by: Owen Leong
 */function Yg(t,e){var n=t[0],r=t[1],i=t[2],s=t[3];n=Qr(n,r,i,s,e[0],7,-680876936),s=Qr(s,n,r,i,e[1],12,-389564586),i=Qr(i,s,n,r,e[2],17,606105819),r=Qr(r,i,s,n,e[3],22,-1044525330),n=Qr(n,r,i,s,e[4],7,-176418897),s=Qr(s,n,r,i,e[5],12,1200080426),i=Qr(i,s,n,r,e[6],17,-1473231341),r=Qr(r,i,s,n,e[7],22,-45705983),n=Qr(n,r,i,s,e[8],7,1770035416),s=Qr(s,n,r,i,e[9],12,-1958414417),i=Qr(i,s,n,r,e[10],17,-42063),r=Qr(r,i,s,n,e[11],22,-1990404162),n=Qr(n,r,i,s,e[12],7,1804603682),s=Qr(s,n,r,i,e[13],12,-40341101),i=Qr(i,s,n,r,e[14],17,-1502002290),n=Yr(n,r=Qr(r,i,s,n,e[15],22,1236535329),i,s,e[1],5,-165796510),s=Yr(s,n,r,i,e[6],9,-1069501632),i=Yr(i,s,n,r,e[11],14,643717713),r=Yr(r,i,s,n,e[0],20,-373897302),n=Yr(n,r,i,s,e[5],5,-701558691),s=Yr(s,n,r,i,e[10],9,38016083),i=Yr(i,s,n,r,e[15],14,-660478335),r=Yr(r,i,s,n,e[4],20,-405537848),n=Yr(n,r,i,s,e[9],5,568446438),s=Yr(s,n,r,i,e[14],9,-1019803690),i=Yr(i,s,n,r,e[3],14,-187363961),r=Yr(r,i,s,n,e[8],20,1163531501),n=Yr(n,r,i,s,e[13],5,-1444681467),s=Yr(s,n,r,i,e[2],9,-51403784),i=Yr(i,s,n,r,e[7],14,1735328473),n=Xr(n,r=Yr(r,i,s,n,e[12],20,-1926607734),i,s,e[5],4,-378558),s=Xr(s,n,r,i,e[8],11,-2022574463),i=Xr(i,s,n,r,e[11],16,1839030562),r=Xr(r,i,s,n,e[14],23,-35309556),n=Xr(n,r,i,s,e[1],4,-1530992060),s=Xr(s,n,r,i,e[4],11,1272893353),i=Xr(i,s,n,r,e[7],16,-155497632),r=Xr(r,i,s,n,e[10],23,-1094730640),n=Xr(n,r,i,s,e[13],4,681279174),s=Xr(s,n,r,i,e[0],11,-358537222),i=Xr(i,s,n,r,e[3],16,-722521979),r=Xr(r,i,s,n,e[6],23,76029189),n=Xr(n,r,i,s,e[9],4,-640364487),s=Xr(s,n,r,i,e[12],11,-421815835),i=Xr(i,s,n,r,e[15],16,530742520),n=Jr(n,r=Xr(r,i,s,n,e[2],23,-995338651),i,s,e[0],6,-198630844),s=Jr(s,n,r,i,e[7],10,1126891415),i=Jr(i,s,n,r,e[14],15,-1416354905),r=Jr(r,i,s,n,e[5],21,-57434055),n=Jr(n,r,i,s,e[12],6,1700485571),s=Jr(s,n,r,i,e[3],10,-1894986606),i=Jr(i,s,n,r,e[10],15,-1051523),r=Jr(r,i,s,n,e[1],21,-2054922799),n=Jr(n,r,i,s,e[8],6,1873313359),s=Jr(s,n,r,i,e[15],10,-30611744),i=Jr(i,s,n,r,e[6],15,-1560198380),r=Jr(r,i,s,n,e[13],21,1309151649),n=Jr(n,r,i,s,e[4],6,-145523070),s=Jr(s,n,r,i,e[11],10,-1120210379),i=Jr(i,s,n,r,e[2],15,718787259),r=Jr(r,i,s,n,e[9],21,-343485551),t[0]=za(n,t[0]),t[1]=za(r,t[1]),t[2]=za(i,t[2]),t[3]=za(s,t[3])}function v0(t,e,n,r,i,s){return e=za(za(e,t),za(r,s)),za(e<<i|e>>>32-i,n)}function Qr(t,e,n,r,i,s,o){return v0(e&n|~e&r,t,e,i,s,o)}function Yr(t,e,n,r,i,s,o){return v0(e&r|n&~r,t,e,i,s,o)}function Xr(t,e,n,r,i,s,o){return v0(e^n^r,t,e,i,s,o)}function Jr(t,e,n,r,i,s,o){return v0(n^(e|~r),t,e,i,s,o)}function iT(t){var e,n=t.length,r=[1732584193,-271733879,-1732584194,271733878];for(e=64;e<=t.length;e+=64)Yg(r,vq(t.substring(e-64,e)));t=t.substring(e-64);var i=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0];for(e=0;e<t.length;e++)i[e>>2]|=t.charCodeAt(e)<<(e%4<<3);if(i[e>>2]|=128<<(e%4<<3),e>55)for(Yg(r,i),e=0;e<16;e++)i[e]=0;return i[14]=8*n,Yg(r,i),r}function vq(t){var e,n=[];for(e=0;e<64;e+=4)n[e>>2]=t.charCodeAt(e)+(t.charCodeAt(e+1)<<8)+(t.charCodeAt(e+2)<<16)+(t.charCodeAt(e+3)<<24);return n}var W3="0123456789abcdef".split("");function wq(t){for(var e="",n=0;n<4;n++)e+=W3[t>>8*n+4&15]+W3[t>>8*n&15];return e}function xq(t){return String.fromCharCode(255&t,(65280&t)>>8,(16711680&t)>>16,(4278190080&t)>>24)}function ey(t){return iT(t).map(xq).join("")}var bq=function(t){for(var e=0;e<t.length;e++)t[e]=wq(t[e]);return t.join("")}(iT("hello"))!="5d41402abc4b2a76b9719d911017c592";function za(t,e){if(bq){var n=(65535&t)+(65535&e);return(t>>16)+(e>>16)+(n>>16)<<16|65535&n}return t+e&4294967295}/**
 * @license
 * FPDF is released under a permissive license: there is no usage restriction.
 * You may embed it freely in your application (commercial or not), with or
 * without modifications.
 *
 * Reference: http://www.fpdf.org/en/script/script37.php
 */function ty(t,e){var n,r,i,s;if(t!==n){for(var o=(i=t,s=1+(256/t.length|0),new Array(s+1).join(i)),a=[],l=0;l<256;l++)a[l]=l;var u=0;for(l=0;l<256;l++){var c=a[l];u=(u+c+o.charCodeAt(l))%256,a[l]=a[u],a[u]=c}n=t,r=a}else a=r;var d=e.length,g=0,m=0,b="";for(l=0;l<d;l++)m=(m+(c=a[g=(g+1)%256]))%256,a[g]=a[m],a[m]=c,o=a[(a[g]+a[m])%256],b+=String.fromCharCode(e.charCodeAt(l)^o);return b}/**
 * @license
 * Licensed under the MIT License.
 * http://opensource.org/licenses/mit-license
 * Author: Owen Leong (@owenl131)
 * Date: 15 Oct 2020
 * References:
 * https://www.cs.cmu.edu/~dst/Adobe/Gallery/anon21jul01-pdf-encryption.txt
 * https://github.com/foliojs/pdfkit/blob/master/lib/security.js
 * http://www.fpdf.org/en/script/script37.php
 */var G3={print:4,modify:8,copy:16,"annot-forms":32};function Ru(t,e,n,r){this.v=1,this.r=2;var i=192;t.forEach(function(a){if(G3.perm!==void 0)throw new Error("Invalid permission: "+a);i+=G3[a]}),this.padding="(N^NuAd\0NV\b..\0h>/\fdSiz";var s=(e+this.padding).substr(0,32),o=(n+this.padding).substr(0,32);this.O=this.processOwnerPassword(s,o),this.P=-(1+(255^i)),this.encryptionKey=ey(s+this.O+this.lsbFirstWord(this.P)+this.hexToBytes(r)).substr(0,5),this.U=ty(this.encryptionKey,this.padding)}function ju(t){if(/[^\u0000-\u00ff]/.test(t))throw new Error("Invalid PDF Name Object: "+t+", Only accept ASCII characters.");for(var e="",n=t.length,r=0;r<n;r++){var i=t.charCodeAt(r);e+=i<33||i===35||i===37||i===40||i===41||i===47||i===60||i===62||i===91||i===93||i===123||i===125||i>126?"#"+("0"+i.toString(16)).slice(-2):t[r]}return e}function K3(t){if(an(t)!=="object")throw new Error("Invalid Context passed to initialize PubSub (jsPDF-module)");var e={};this.subscribe=function(n,r,i){if(i=i||!1,typeof n!="string"||typeof r!="function"||typeof i!="boolean")throw new Error("Invalid arguments passed to PubSub.subscribe (jsPDF-module)");e.hasOwnProperty(n)||(e[n]={});var s=Math.random().toString(35);return e[n][s]=[r,!!i],s},this.unsubscribe=function(n){for(var r in e)if(e[r][n])return delete e[r][n],Object.keys(e[r]).length===0&&delete e[r],!0;return!1},this.publish=function(n){if(e.hasOwnProperty(n)){var r=Array.prototype.slice.call(arguments,1),i=[];for(var s in e[n]){var o=e[n][s];try{o[0].apply(t,r)}catch(a){vt.console&&dn.error("jsPDF PubSub Error",a.message,a)}o[1]&&i.push(s)}i.length&&i.forEach(this.unsubscribe)}},this.getTopics=function(){return e}}function km(t){if(!(this instanceof km))return new km(t);var e="opacity,stroke-opacity".split(",");for(var n in t)t.hasOwnProperty(n)&&e.indexOf(n)>=0&&(this[n]=t[n]);this.id="",this.objectNumber=-1}function sT(t,e){this.gState=t,this.matrix=e,this.id="",this.objectNumber=-1}function Ul(t,e,n,r,i){if(!(this instanceof Ul))return new Ul(t,e,n,r,i);this.type=t==="axial"?2:3,this.coords=e,this.colors=n,sT.call(this,r,i)}function Zu(t,e,n,r,i){if(!(this instanceof Zu))return new Zu(t,e,n,r,i);this.boundingBox=t,this.xStep=e,this.yStep=n,this.stream="",this.cloneIndex=0,sT.call(this,r,i)}function st(t){var e,n=typeof arguments[0]=="string"?arguments[0]:"p",r=arguments[1],i=arguments[2],s=arguments[3],o=[],a=1,l=16,u="S",c=null;an(t=t||{})==="object"&&(n=t.orientation,r=t.unit||r,i=t.format||i,s=t.compress||t.compressPdf||s,(c=t.encryption||null)!==null&&(c.userPassword=c.userPassword||"",c.ownerPassword=c.ownerPassword||"",c.userPermissions=c.userPermissions||[]),a=typeof t.userUnit=="number"?Math.abs(t.userUnit):1,t.precision!==void 0&&(e=t.precision),t.floatPrecision!==void 0&&(l=t.floatPrecision),u=t.defaultPathOperation||"S"),o=t.filters||(s===!0?["FlateEncode"]:o),r=r||"mm",n=(""+(n||"P")).toLowerCase();var d=t.putOnlyUsedFonts||!1,g={},m={internal:{},__private__:{}};m.__private__.PubSub=K3;var b="1.3",x=m.__private__.getPdfVersion=function(){return b};m.__private__.setPdfVersion=function(w){b=w};var A={a0:[2383.94,3370.39],a1:[1683.78,2383.94],a2:[1190.55,1683.78],a3:[841.89,1190.55],a4:[595.28,841.89],a5:[419.53,595.28],a6:[297.64,419.53],a7:[209.76,297.64],a8:[147.4,209.76],a9:[104.88,147.4],a10:[73.7,104.88],b0:[2834.65,4008.19],b1:[2004.09,2834.65],b2:[1417.32,2004.09],b3:[1000.63,1417.32],b4:[708.66,1000.63],b5:[498.9,708.66],b6:[354.33,498.9],b7:[249.45,354.33],b8:[175.75,249.45],b9:[124.72,175.75],b10:[87.87,124.72],c0:[2599.37,3676.54],c1:[1836.85,2599.37],c2:[1298.27,1836.85],c3:[918.43,1298.27],c4:[649.13,918.43],c5:[459.21,649.13],c6:[323.15,459.21],c7:[229.61,323.15],c8:[161.57,229.61],c9:[113.39,161.57],c10:[79.37,113.39],dl:[311.81,623.62],letter:[612,792],"government-letter":[576,756],legal:[612,1008],"junior-legal":[576,360],ledger:[1224,792],tabloid:[792,1224],"credit-card":[153,243]};m.__private__.getPageFormats=function(){return A};var v=m.__private__.getPageFormat=function(w){return A[w]};i=i||"a4";var _="compat",E="advanced",L=_;function z(){this.saveGraphicsState(),W(new lt(ht,0,0,-ht,0,as()*ht).toString()+" cm"),this.setFontSize(this.getFontSize()/ht),u="n",L=E}function Y(){this.restoreGraphicsState(),u="S",L=_}var R=m.__private__.combineFontStyleAndFontWeight=function(w,F){if(w=="bold"&&F=="normal"||w=="bold"&&F==400||w=="normal"&&F=="italic"||w=="bold"&&F=="italic")throw new Error("Invalid Combination of fontweight and fontstyle");return F&&(w=F==400||F==="normal"?w==="italic"?"italic":"normal":F!=700&&F!=="bold"||w!=="normal"?(F==700?"bold":F)+""+w:"bold"),w};m.advancedAPI=function(w){var F=L===_;return F&&z.call(this),typeof w!="function"||(w(this),F&&Y.call(this)),this},m.compatAPI=function(w){var F=L===E;return F&&Y.call(this),typeof w!="function"||(w(this),F&&z.call(this)),this},m.isAdvancedAPI=function(){return L===E};var C,k=function(w){if(L!==E)throw new Error(w+" is only available in 'advanced' API mode. You need to call advancedAPI() first.")},M=m.roundToPrecision=m.__private__.roundToPrecision=function(w,F){var X=e||F;if(isNaN(w)||isNaN(X))throw new Error("Invalid argument passed to jsPDF.roundToPrecision");return w.toFixed(X).replace(/0+$/,"")};C=m.hpf=m.__private__.hpf=typeof l=="number"?function(w){if(isNaN(w))throw new Error("Invalid argument passed to jsPDF.hpf");return M(w,l)}:l==="smart"?function(w){if(isNaN(w))throw new Error("Invalid argument passed to jsPDF.hpf");return M(w,w>-1&&w<1?16:5)}:function(w){if(isNaN(w))throw new Error("Invalid argument passed to jsPDF.hpf");return M(w,16)};var T=m.f2=m.__private__.f2=function(w){if(isNaN(w))throw new Error("Invalid argument passed to jsPDF.f2");return M(w,2)},I=m.__private__.f3=function(w){if(isNaN(w))throw new Error("Invalid argument passed to jsPDF.f3");return M(w,3)},D=m.scale=m.__private__.scale=function(w){if(isNaN(w))throw new Error("Invalid argument passed to jsPDF.scale");return L===_?w*ht:L===E?w:void 0},H=function(w){return D(function(F){return L===_?as()-F:L===E?F:void 0}(w))};m.__private__.setPrecision=m.setPrecision=function(w){typeof parseInt(w,10)=="number"&&(e=parseInt(w,10))};var ne,ue="00000000000000000000000000000000",ae=m.__private__.getFileId=function(){return ue},ee=m.__private__.setFileId=function(w){return ue=w!==void 0&&/^[a-fA-F0-9]{32}$/.test(w)?w.toUpperCase():ue.split("").map(function(){return"ABCDEF0123456789".charAt(Math.floor(16*Math.random()))}).join(""),c!==null&&(tn=new Ru(c.userPermissions,c.userPassword,c.ownerPassword,ue)),ue};m.setFileId=function(w){return ee(w),this},m.getFileId=function(){return ae()};var se=m.__private__.convertDateToPDFDate=function(w){var F=w.getTimezoneOffset(),X=F<0?"+":"-",re=Math.floor(Math.abs(F/60)),de=Math.abs(F%60),Ce=[X,te(re),"'",te(de),"'"].join("");return["D:",w.getFullYear(),te(w.getMonth()+1),te(w.getDate()),te(w.getHours()),te(w.getMinutes()),te(w.getSeconds()),Ce].join("")},ye=m.__private__.convertPDFDateToDate=function(w){var F=parseInt(w.substr(2,4),10),X=parseInt(w.substr(6,2),10)-1,re=parseInt(w.substr(8,2),10),de=parseInt(w.substr(10,2),10),Ce=parseInt(w.substr(12,2),10),Re=parseInt(w.substr(14,2),10);return new Date(F,X,re,de,Ce,Re,0)},Se=m.__private__.setCreationDate=function(w){var F;if(w===void 0&&(w=new Date),w instanceof Date)F=se(w);else{if(!/^D:(20[0-2][0-9]|203[0-7]|19[7-9][0-9])(0[0-9]|1[0-2])([0-2][0-9]|3[0-1])(0[0-9]|1[0-9]|2[0-3])(0[0-9]|[1-5][0-9])(0[0-9]|[1-5][0-9])(\+0[0-9]|\+1[0-4]|-0[0-9]|-1[0-1])'(0[0-9]|[1-5][0-9])'?$/.test(w))throw new Error("Invalid argument passed to jsPDF.setCreationDate");F=w}return ne=F},V=m.__private__.getCreationDate=function(w){var F=ne;return w==="jsDate"&&(F=ye(ne)),F};m.setCreationDate=function(w){return Se(w),this},m.getCreationDate=function(w){return V(w)};var Q,te=m.__private__.padd2=function(w){return("0"+parseInt(w)).slice(-2)},ie=m.__private__.padd2Hex=function(w){return("00"+(w=w.toString())).substr(w.length)},le=0,ve=[],Ne=[],Ae=0,he=[],be=[],pe=!1,Ee=Ne;m.__private__.setCustomOutputDestination=function(w){pe=!0,Ee=w};var fe=function(w){pe||(Ee=w)};m.__private__.resetCustomOutputDestination=function(){pe=!1,Ee=Ne};var W=m.__private__.out=function(w){return w=w.toString(),Ae+=w.length+1,Ee.push(w),Ee},ze=m.__private__.write=function(w){return W(arguments.length===1?w.toString():Array.prototype.join.call(arguments," "))},Qe=m.__private__.getArrayBuffer=function(w){for(var F=w.length,X=new ArrayBuffer(F),re=new Uint8Array(X);F--;)re[F]=w.charCodeAt(F);return X},Ue=[["Helvetica","helvetica","normal","WinAnsiEncoding"],["Helvetica-Bold","helvetica","bold","WinAnsiEncoding"],["Helvetica-Oblique","helvetica","italic","WinAnsiEncoding"],["Helvetica-BoldOblique","helvetica","bolditalic","WinAnsiEncoding"],["Courier","courier","normal","WinAnsiEncoding"],["Courier-Bold","courier","bold","WinAnsiEncoding"],["Courier-Oblique","courier","italic","WinAnsiEncoding"],["Courier-BoldOblique","courier","bolditalic","WinAnsiEncoding"],["Times-Roman","times","normal","WinAnsiEncoding"],["Times-Bold","times","bold","WinAnsiEncoding"],["Times-Italic","times","italic","WinAnsiEncoding"],["Times-BoldItalic","times","bolditalic","WinAnsiEncoding"],["ZapfDingbats","zapfdingbats","normal",null],["Symbol","symbol","normal",null]];m.__private__.getStandardFonts=function(){return Ue};var Le=t.fontSize||16;m.__private__.setFontSize=m.setFontSize=function(w){return Le=L===E?w/ht:w,this};var qe,Be=m.__private__.getFontSize=m.getFontSize=function(){return L===_?Le:Le*ht},_t=t.R2L||!1;m.__private__.setR2L=m.setR2L=function(w){return _t=w,this},m.__private__.getR2L=m.getR2L=function(){return _t};var nt,Ot=m.__private__.setZoomMode=function(w){if(/^(?:\d+\.\d*|\d*\.\d+|\d+)%$/.test(w))qe=w;else if(isNaN(w)){if([void 0,null,"fullwidth","fullheight","fullpage","original"].indexOf(w)===-1)throw new Error('zoom must be Integer (e.g. 2), a percentage Value (e.g. 300%) or fullwidth, fullheight, fullpage, original. "'+w+'" is not recognized.');qe=w}else qe=parseInt(w,10)};m.__private__.getZoomMode=function(){return qe};var wt,tt=m.__private__.setPageMode=function(w){if([void 0,null,"UseNone","UseOutlines","UseThumbs","FullScreen"].indexOf(w)==-1)throw new Error('Page mode must be one of UseNone, UseOutlines, UseThumbs, or FullScreen. "'+w+'" is not recognized.');nt=w};m.__private__.getPageMode=function(){return nt};var St=m.__private__.setLayoutMode=function(w){if([void 0,null,"continuous","single","twoleft","tworight","two"].indexOf(w)==-1)throw new Error('Layout mode must be one of continuous, single, twoleft, tworight. "'+w+'" is not recognized.');wt=w};m.__private__.getLayoutMode=function(){return wt},m.__private__.setDisplayMode=m.setDisplayMode=function(w,F,X){return Ot(w),St(F),tt(X),this};var mt={title:"",subject:"",author:"",keywords:"",creator:""};m.__private__.getDocumentProperty=function(w){if(Object.keys(mt).indexOf(w)===-1)throw new Error("Invalid argument passed to jsPDF.getDocumentProperty");return mt[w]},m.__private__.getDocumentProperties=function(){return mt},m.__private__.setDocumentProperties=m.setProperties=m.setDocumentProperties=function(w){for(var F in mt)mt.hasOwnProperty(F)&&w[F]&&(mt[F]=w[F]);return this},m.__private__.setDocumentProperty=function(w,F){if(Object.keys(mt).indexOf(w)===-1)throw new Error("Invalid arguments passed to jsPDF.setDocumentProperty");return mt[w]=F};var rt,ht,ot,Kt,Ut,Je={},gt={},en=[],ut={},kt={},xt={},Nn={},vn=null,Yt=0,ft=[],Lt=new K3(m),Hs=t.hotfixes||[],Yn={},rs={},Ur=[],lt=function w(F,X,re,de,Ce,Re){if(!(this instanceof w))return new w(F,X,re,de,Ce,Re);isNaN(F)&&(F=1),isNaN(X)&&(X=0),isNaN(re)&&(re=0),isNaN(de)&&(de=1),isNaN(Ce)&&(Ce=0),isNaN(Re)&&(Re=0),this._matrix=[F,X,re,de,Ce,Re]};Object.defineProperty(lt.prototype,"sx",{get:function(){return this._matrix[0]},set:function(w){this._matrix[0]=w}}),Object.defineProperty(lt.prototype,"shy",{get:function(){return this._matrix[1]},set:function(w){this._matrix[1]=w}}),Object.defineProperty(lt.prototype,"shx",{get:function(){return this._matrix[2]},set:function(w){this._matrix[2]=w}}),Object.defineProperty(lt.prototype,"sy",{get:function(){return this._matrix[3]},set:function(w){this._matrix[3]=w}}),Object.defineProperty(lt.prototype,"tx",{get:function(){return this._matrix[4]},set:function(w){this._matrix[4]=w}}),Object.defineProperty(lt.prototype,"ty",{get:function(){return this._matrix[5]},set:function(w){this._matrix[5]=w}}),Object.defineProperty(lt.prototype,"a",{get:function(){return this._matrix[0]},set:function(w){this._matrix[0]=w}}),Object.defineProperty(lt.prototype,"b",{get:function(){return this._matrix[1]},set:function(w){this._matrix[1]=w}}),Object.defineProperty(lt.prototype,"c",{get:function(){return this._matrix[2]},set:function(w){this._matrix[2]=w}}),Object.defineProperty(lt.prototype,"d",{get:function(){return this._matrix[3]},set:function(w){this._matrix[3]=w}}),Object.defineProperty(lt.prototype,"e",{get:function(){return this._matrix[4]},set:function(w){this._matrix[4]=w}}),Object.defineProperty(lt.prototype,"f",{get:function(){return this._matrix[5]},set:function(w){this._matrix[5]=w}}),Object.defineProperty(lt.prototype,"rotation",{get:function(){return Math.atan2(this.shx,this.sx)}}),Object.defineProperty(lt.prototype,"scaleX",{get:function(){return this.decompose().scale.sx}}),Object.defineProperty(lt.prototype,"scaleY",{get:function(){return this.decompose().scale.sy}}),Object.defineProperty(lt.prototype,"isIdentity",{get:function(){return this.sx===1&&this.shy===0&&this.shx===0&&this.sy===1&&this.tx===0&&this.ty===0}}),lt.prototype.join=function(w){return[this.sx,this.shy,this.shx,this.sy,this.tx,this.ty].map(C).join(w)},lt.prototype.multiply=function(w){var F=w.sx*this.sx+w.shy*this.shx,X=w.sx*this.shy+w.shy*this.sy,re=w.shx*this.sx+w.sy*this.shx,de=w.shx*this.shy+w.sy*this.sy,Ce=w.tx*this.sx+w.ty*this.shx+this.tx,Re=w.tx*this.shy+w.ty*this.sy+this.ty;return new lt(F,X,re,de,Ce,Re)},lt.prototype.decompose=function(){var w=this.sx,F=this.shy,X=this.shx,re=this.sy,de=this.tx,Ce=this.ty,Re=Math.sqrt(w*w+F*F),He=(w/=Re)*X+(F/=Re)*re;X-=w*He,re-=F*He;var Ye=Math.sqrt(X*X+re*re);return He/=Ye,w*(re/=Ye)<F*(X/=Ye)&&(w=-w,F=-F,He=-He,Re=-Re),{scale:new lt(Re,0,0,Ye,0,0),translate:new lt(1,0,0,1,de,Ce),rotate:new lt(w,F,-F,w,0,0),skew:new lt(1,0,He,1,0,0)}},lt.prototype.toString=function(w){return this.join(" ")},lt.prototype.inversed=function(){var w=this.sx,F=this.shy,X=this.shx,re=this.sy,de=this.tx,Ce=this.ty,Re=1/(w*re-F*X),He=re*Re,Ye=-F*Re,ct=-X*Re,yt=w*Re;return new lt(He,Ye,ct,yt,-He*de-ct*Ce,-Ye*de-yt*Ce)},lt.prototype.applyToPoint=function(w){var F=w.x*this.sx+w.y*this.shx+this.tx,X=w.x*this.shy+w.y*this.sy+this.ty;return new to(F,X)},lt.prototype.applyToRectangle=function(w){var F=this.applyToPoint(w),X=this.applyToPoint(new to(w.x+w.w,w.y+w.h));return new pa(F.x,F.y,X.x-F.x,X.y-F.y)},lt.prototype.clone=function(){var w=this.sx,F=this.shy,X=this.shx,re=this.sy,de=this.tx,Ce=this.ty;return new lt(w,F,X,re,de,Ce)},m.Matrix=lt;var wn=m.matrixMult=function(w,F){return F.multiply(w)},is=new lt(1,0,0,1,0,0);m.unitMatrix=m.identityMatrix=is;var xr=function(w,F){if(!kt[w]){var X=(F instanceof Ul?"Sh":"P")+(Object.keys(ut).length+1).toString(10);F.id=X,kt[w]=X,ut[X]=F,Lt.publish("addPattern",F)}};m.ShadingPattern=Ul,m.TilingPattern=Zu,m.addShadingPattern=function(w,F){return k("addShadingPattern()"),xr(w,F),this},m.beginTilingPattern=function(w){k("beginTilingPattern()"),no(w.boundingBox[0],w.boundingBox[1],w.boundingBox[2]-w.boundingBox[0],w.boundingBox[3]-w.boundingBox[1],w.matrix)},m.endTilingPattern=function(w,F){k("endTilingPattern()"),F.stream=be[Q].join(`
`),xr(w,F),Lt.publish("endTilingPattern",F),Ur.pop().restore()};var br,En=m.__private__.newObject=function(){var w=ur();return Tn(w,!0),w},ur=m.__private__.newObjectDeferred=function(){return le++,ve[le]=function(){return Ae},le},Tn=function(w,F){return F=typeof F=="boolean"&&F,ve[w]=Ae,F&&W(w+" 0 obj"),w},Ao=m.__private__.newAdditionalObject=function(){var w={objId:ur(),content:""};return he.push(w),w},Ws=ur(),zr=ur(),ji=m.__private__.decodeColorString=function(w){var F=w.split(" ");if(F.length!==2||F[1]!=="g"&&F[1]!=="G")F.length!==5||F[4]!=="k"&&F[4]!=="K"||(F=[(1-F[0])*(1-F[3]),(1-F[1])*(1-F[3]),(1-F[2])*(1-F[3]),"r"]);else{var X=parseFloat(F[0]);F=[X,X,X,"r"]}for(var re="#",de=0;de<3;de++)re+=("0"+Math.floor(255*parseFloat(F[de])).toString(16)).slice(-2);return re},si=m.__private__.encodeColorString=function(w){var F;typeof w=="string"&&(w={ch1:w});var X=w.ch1,re=w.ch2,de=w.ch3,Ce=w.ch4,Re=w.pdfColorType==="draw"?["G","RG","K"]:["g","rg","k"];if(typeof X=="string"&&X.charAt(0)!=="#"){var He=new rT(X);if(He.ok)X=He.toHex();else if(!/^\d*\.?\d*$/.test(X))throw new Error('Invalid color "'+X+'" passed to jsPDF.encodeColorString.')}if(typeof X=="string"&&/^#[0-9A-Fa-f]{3}$/.test(X)&&(X="#"+X[1]+X[1]+X[2]+X[2]+X[3]+X[3]),typeof X=="string"&&/^#[0-9A-Fa-f]{6}$/.test(X)){var Ye=parseInt(X.substr(1),16);X=Ye>>16&255,re=Ye>>8&255,de=255&Ye}if(re===void 0||Ce===void 0&&X===re&&re===de)F=typeof X=="string"?X+" "+Re[0]:w.precision===2?T(X/255)+" "+Re[0]:I(X/255)+" "+Re[0];else if(Ce===void 0||an(Ce)==="object"){if(Ce&&!isNaN(Ce.a)&&Ce.a===0)return["1.","1.","1.",Re[1]].join(" ");F=typeof X=="string"?[X,re,de,Re[1]].join(" "):w.precision===2?[T(X/255),T(re/255),T(de/255),Re[1]].join(" "):[I(X/255),I(re/255),I(de/255),Re[1]].join(" ")}else F=typeof X=="string"?[X,re,de,Ce,Re[2]].join(" "):w.precision===2?[T(X),T(re),T(de),T(Ce),Re[2]].join(" "):[I(X),I(re),I(de),I(Ce),Re[2]].join(" ");return F},qr=m.__private__.getFilters=function(){return o},Xn=m.__private__.putStream=function(w){var F=(w=w||{}).data||"",X=w.filters||qr(),re=w.alreadyAppliedFilters||[],de=w.addLength1||!1,Ce=F.length,Re=w.objectId,He=function(Bn){return Bn};if(c!==null&&Re===void 0)throw new Error("ObjectId must be passed to putStream for file encryption");c!==null&&(He=tn.encryptor(Re,0));var Ye={};X===!0&&(X=["FlateEncode"]);var ct=w.additionalKeyValues||[],yt=(Ye=st.API.processDataByFilters!==void 0?st.API.processDataByFilters(F,X):{data:F,reverseChain:[]}).reverseChain+(Array.isArray(re)?re.join(" "):re.toString());if(Ye.data.length!==0&&(ct.push({key:"Length",value:Ye.data.length}),de===!0&&ct.push({key:"Length1",value:Ce})),yt.length!=0)if(yt.split("/").length-1==1)ct.push({key:"Filter",value:yt});else{ct.push({key:"Filter",value:"["+yt+"]"});for(var zt=0;zt<ct.length;zt+=1)if(ct[zt].key==="DecodeParms"){for(var Xt=[],In=0;In<Ye.reverseChain.split("/").length-1;In+=1)Xt.push("null");Xt.push(ct[zt].value),ct[zt].value="["+Xt.join(" ")+"]"}}W("<<");for(var nn=0;nn<ct.length;nn++)W("/"+ct[nn].key+" "+ct[nn].value);W(">>"),Ye.data.length!==0&&(W("stream"),W(He(Ye.data)),W("endstream"))},Gs=m.__private__.putPage=function(w){var F=w.number,X=w.data,re=w.objId,de=w.contentsObjId;Tn(re,!0),W("<</Type /Page"),W("/Parent "+w.rootDictionaryObjId+" 0 R"),W("/Resources "+w.resourceDictionaryObjId+" 0 R"),W("/MediaBox ["+parseFloat(C(w.mediaBox.bottomLeftX))+" "+parseFloat(C(w.mediaBox.bottomLeftY))+" "+C(w.mediaBox.topRightX)+" "+C(w.mediaBox.topRightY)+"]"),w.cropBox!==null&&W("/CropBox ["+C(w.cropBox.bottomLeftX)+" "+C(w.cropBox.bottomLeftY)+" "+C(w.cropBox.topRightX)+" "+C(w.cropBox.topRightY)+"]"),w.bleedBox!==null&&W("/BleedBox ["+C(w.bleedBox.bottomLeftX)+" "+C(w.bleedBox.bottomLeftY)+" "+C(w.bleedBox.topRightX)+" "+C(w.bleedBox.topRightY)+"]"),w.trimBox!==null&&W("/TrimBox ["+C(w.trimBox.bottomLeftX)+" "+C(w.trimBox.bottomLeftY)+" "+C(w.trimBox.topRightX)+" "+C(w.trimBox.topRightY)+"]"),w.artBox!==null&&W("/ArtBox ["+C(w.artBox.bottomLeftX)+" "+C(w.artBox.bottomLeftY)+" "+C(w.artBox.topRightX)+" "+C(w.artBox.topRightY)+"]"),typeof w.userUnit=="number"&&w.userUnit!==1&&W("/UserUnit "+w.userUnit),Lt.publish("putPage",{objId:re,pageContext:ft[F],pageNumber:F,page:X}),W("/Contents "+de+" 0 R"),W(">>"),W("endobj");var Ce=X.join(`
`);return L===E&&(Ce+=`
Q`),Tn(de,!0),Xn({data:Ce,filters:qr(),objectId:de}),W("endobj"),re},Di=m.__private__.putPages=function(){var w,F,X=[];for(w=1;w<=Yt;w++)ft[w].objId=ur(),ft[w].contentsObjId=ur();for(w=1;w<=Yt;w++)X.push(Gs({number:w,data:be[w],objId:ft[w].objId,contentsObjId:ft[w].contentsObjId,mediaBox:ft[w].mediaBox,cropBox:ft[w].cropBox,bleedBox:ft[w].bleedBox,trimBox:ft[w].trimBox,artBox:ft[w].artBox,userUnit:ft[w].userUnit,rootDictionaryObjId:Ws,resourceDictionaryObjId:zr}));Tn(Ws,!0),W("<</Type /Pages");var re="/Kids [";for(F=0;F<Yt;F++)re+=X[F]+" 0 R ";W(re+"]"),W("/Count "+Yt),W(">>"),W("endobj"),Lt.publish("postPutPages")},_s=function(w){Lt.publish("putFont",{font:w,out:W,newObject:En,putStream:Xn}),w.isAlreadyPutted!==!0&&(w.objectNumber=En(),W("<<"),W("/Type /Font"),W("/BaseFont /"+ju(w.postScriptName)),W("/Subtype /Type1"),typeof w.encoding=="string"&&W("/Encoding /"+w.encoding),W("/FirstChar 32"),W("/LastChar 255"),W(">>"),W("endobj"))},Ks=function(w){w.objectNumber=En();var F=[];F.push({key:"Type",value:"/XObject"}),F.push({key:"Subtype",value:"/Form"}),F.push({key:"BBox",value:"["+[C(w.x),C(w.y),C(w.x+w.width),C(w.y+w.height)].join(" ")+"]"}),F.push({key:"Matrix",value:"["+w.matrix.toString()+"]"});var X=w.pages[1].join(`
`);Xn({data:X,additionalKeyValues:F,objectId:w.objectNumber}),W("endobj")},No=function(w,F){F||(F=21);var X=En(),re=function(Re,He){var Ye,ct=[],yt=1/(He-1);for(Ye=0;Ye<1;Ye+=yt)ct.push(Ye);if(ct.push(1),Re[0].offset!=0){var zt={offset:0,color:Re[0].color};Re.unshift(zt)}if(Re[Re.length-1].offset!=1){var Xt={offset:1,color:Re[Re.length-1].color};Re.push(Xt)}for(var In="",nn=0,Bn=0;Bn<ct.length;Bn++){for(Ye=ct[Bn];Ye>Re[nn+1].offset;)nn++;var Ln=Re[nn].offset,Un=(Ye-Ln)/(Re[nn+1].offset-Ln),pn=Re[nn].color,Cr=Re[nn+1].color;In+=ie(Math.round((1-Un)*pn[0]+Un*Cr[0]).toString(16))+ie(Math.round((1-Un)*pn[1]+Un*Cr[1]).toString(16))+ie(Math.round((1-Un)*pn[2]+Un*Cr[2]).toString(16))}return In.trim()}(w.colors,F),de=[];de.push({key:"FunctionType",value:"0"}),de.push({key:"Domain",value:"[0.0 1.0]"}),de.push({key:"Size",value:"["+F+"]"}),de.push({key:"BitsPerSample",value:"8"}),de.push({key:"Range",value:"[0.0 1.0 0.0 1.0 0.0 1.0]"}),de.push({key:"Decode",value:"[0.0 1.0 0.0 1.0 0.0 1.0]"}),Xn({data:re,additionalKeyValues:de,alreadyAppliedFilters:["/ASCIIHexDecode"],objectId:X}),W("endobj"),w.objectNumber=En(),W("<< /ShadingType "+w.type),W("/ColorSpace /DeviceRGB");var Ce="/Coords ["+C(parseFloat(w.coords[0]))+" "+C(parseFloat(w.coords[1]))+" ";w.type===2?Ce+=C(parseFloat(w.coords[2]))+" "+C(parseFloat(w.coords[3])):Ce+=C(parseFloat(w.coords[2]))+" "+C(parseFloat(w.coords[3]))+" "+C(parseFloat(w.coords[4]))+" "+C(parseFloat(w.coords[5])),W(Ce+="]"),w.matrix&&W("/Matrix ["+w.matrix.toString()+"]"),W("/Function "+X+" 0 R"),W("/Extend [true true]"),W(">>"),W("endobj")},Eo=function(w,F){var X=ur(),re=En();F.push({resourcesOid:X,objectOid:re}),w.objectNumber=re;var de=[];de.push({key:"Type",value:"/Pattern"}),de.push({key:"PatternType",value:"1"}),de.push({key:"PaintType",value:"1"}),de.push({key:"TilingType",value:"1"}),de.push({key:"BBox",value:"["+w.boundingBox.map(C).join(" ")+"]"}),de.push({key:"XStep",value:C(w.xStep)}),de.push({key:"YStep",value:C(w.yStep)}),de.push({key:"Resources",value:X+" 0 R"}),w.matrix&&de.push({key:"Matrix",value:"["+w.matrix.toString()+"]"}),Xn({data:w.stream,additionalKeyValues:de,objectId:w.objectNumber}),W("endobj")},qc=function(w){for(var F in w.objectNumber=En(),W("<<"),w)switch(F){case"opacity":W("/ca "+T(w[F]));break;case"stroke-opacity":W("/CA "+T(w[F]))}W(">>"),W("endobj")},Qs=function(w){Tn(w.resourcesOid,!0),W("<<"),W("/ProcSet [/PDF /Text /ImageB /ImageC /ImageI]"),function(){for(var F in W("/Font <<"),Je)Je.hasOwnProperty(F)&&(d===!1||d===!0&&g.hasOwnProperty(F))&&W("/"+F+" "+Je[F].objectNumber+" 0 R");W(">>")}(),function(){if(Object.keys(ut).length>0){for(var F in W("/Shading <<"),ut)ut.hasOwnProperty(F)&&ut[F]instanceof Ul&&ut[F].objectNumber>=0&&W("/"+F+" "+ut[F].objectNumber+" 0 R");Lt.publish("putShadingPatternDict"),W(">>")}}(),function(F){if(Object.keys(ut).length>0){for(var X in W("/Pattern <<"),ut)ut.hasOwnProperty(X)&&ut[X]instanceof m.TilingPattern&&ut[X].objectNumber>=0&&ut[X].objectNumber<F&&W("/"+X+" "+ut[X].objectNumber+" 0 R");Lt.publish("putTilingPatternDict"),W(">>")}}(w.objectOid),function(){if(Object.keys(xt).length>0){var F;for(F in W("/ExtGState <<"),xt)xt.hasOwnProperty(F)&&xt[F].objectNumber>=0&&W("/"+F+" "+xt[F].objectNumber+" 0 R");Lt.publish("putGStateDict"),W(">>")}}(),function(){for(var F in W("/XObject <<"),Yn)Yn.hasOwnProperty(F)&&Yn[F].objectNumber>=0&&W("/"+F+" "+Yn[F].objectNumber+" 0 R");Lt.publish("putXobjectDict"),W(">>")}(),W(">>"),W("endobj")},gl=function(w){gt[w.fontName]=gt[w.fontName]||{},gt[w.fontName][w.fontStyle]=w.id},aa=function(w,F,X,re,de){var Ce={id:"F"+(Object.keys(Je).length+1).toString(10),postScriptName:w,fontName:F,fontStyle:X,encoding:re,isStandardFont:de||!1,metadata:{}};return Lt.publish("addFont",{font:Ce,instance:this}),Je[Ce.id]=Ce,gl(Ce),Ce.id},_r=m.__private__.pdfEscape=m.pdfEscape=function(w,F){return function(X,re){var de,Ce,Re,He,Ye,ct,yt,zt,Xt;if(Re=(re=re||{}).sourceEncoding||"Unicode",Ye=re.outputEncoding,(re.autoencode||Ye)&&Je[rt].metadata&&Je[rt].metadata[Re]&&Je[rt].metadata[Re].encoding&&(He=Je[rt].metadata[Re].encoding,!Ye&&Je[rt].encoding&&(Ye=Je[rt].encoding),!Ye&&He.codePages&&(Ye=He.codePages[0]),typeof Ye=="string"&&(Ye=He[Ye]),Ye)){for(yt=!1,ct=[],de=0,Ce=X.length;de<Ce;de++)(zt=Ye[X.charCodeAt(de)])?ct.push(String.fromCharCode(zt)):ct.push(X[de]),ct[de].charCodeAt(0)>>8&&(yt=!0);X=ct.join("")}for(de=X.length;yt===void 0&&de!==0;)X.charCodeAt(de-1)>>8&&(yt=!0),de--;if(!yt)return X;for(ct=re.noBOM?[]:[254,255],de=0,Ce=X.length;de<Ce;de++){if((Xt=(zt=X.charCodeAt(de))>>8)>>8)throw new Error("Character at position "+de+" of string '"+X+"' exceeds 16bits. Cannot be encoded into UCS-2 BE");ct.push(Xt),ct.push(zt-(Xt<<8))}return String.fromCharCode.apply(void 0,ct)}(w,F).replace(/\\/g,"\\\\").replace(/\(/g,"\\(").replace(/\)/g,"\\)")},Mi=m.__private__.beginPage=function(w){be[++Yt]=[],ft[Yt]={objId:0,contentsObjId:0,userUnit:Number(a),artBox:null,bleedBox:null,cropBox:null,trimBox:null,mediaBox:{bottomLeftX:0,bottomLeftY:0,topRightX:Number(w[0]),topRightY:Number(w[1])}},vl(Yt),fe(be[Q])},la=function(w,F){var X,re,de;switch(n=F||n,typeof w=="string"&&(X=v(w.toLowerCase()),Array.isArray(X)&&(re=X[0],de=X[1])),Array.isArray(w)&&(re=w[0]*ht,de=w[1]*ht),isNaN(re)&&(re=i[0],de=i[1]),(re>14400||de>14400)&&(dn.warn("A page in a PDF can not be wider or taller than 14400 userUnit. jsPDF limits the width/height to 14400"),re=Math.min(14400,re),de=Math.min(14400,de)),i=[re,de],n.substr(0,1)){case"l":de>re&&(i=[de,re]);break;case"p":re>de&&(i=[de,re])}Mi(i),eo(ha),W(Ns),cn!==0&&W(cn+" J"),El!==0&&W(El+" j"),Lt.publish("addPage",{pageNumber:Yt})},yl=function(w){w>0&&w<=Yt&&(be.splice(w,1),ft.splice(w,1),Yt--,Q>Yt&&(Q=Yt),this.setPage(Q))},vl=function(w){w>0&&w<=Yt&&(Q=w)},wl=m.__private__.getNumberOfPages=m.getNumberOfPages=function(){return be.length-1},xl=function(w,F,X){var re,de=void 0;return X=X||{},w=w!==void 0?w:Je[rt].fontName,F=F!==void 0?F:Je[rt].fontStyle,re=w.toLowerCase(),gt[re]!==void 0&&gt[re][F]!==void 0?de=gt[re][F]:gt[w]!==void 0&&gt[w][F]!==void 0?de=gt[w][F]:X.disableWarning===!1&&dn.warn("Unable to look up font label for font '"+w+"', '"+F+"'. Refer to getFontList() for available fonts."),de||X.noFallback||(de=gt.times[F])==null&&(de=gt.times.normal),de},Ys=m.__private__.putInfo=function(){var w=En(),F=function(re){return re};for(var X in c!==null&&(F=tn.encryptor(w,0)),W("<<"),W("/Producer ("+_r(F("jsPDF "+st.version))+")"),mt)mt.hasOwnProperty(X)&&mt[X]&&W("/"+X.substr(0,1).toUpperCase()+X.substr(1)+" ("+_r(F(mt[X]))+")");W("/CreationDate ("+_r(F(ne))+")"),W(">>"),W("endobj")},bl=m.__private__.putCatalog=function(w){var F=(w=w||{}).rootDictionaryObjId||Ws;switch(En(),W("<<"),W("/Type /Catalog"),W("/Pages "+F+" 0 R"),qe||(qe="fullwidth"),qe){case"fullwidth":W("/OpenAction [3 0 R /FitH null]");break;case"fullheight":W("/OpenAction [3 0 R /FitV null]");break;case"fullpage":W("/OpenAction [3 0 R /Fit]");break;case"original":W("/OpenAction [3 0 R /XYZ null null 1]");break;default:var X=""+qe;X.substr(X.length-1)==="%"&&(qe=parseInt(qe)/100),typeof qe=="number"&&W("/OpenAction [3 0 R /XYZ null null "+T(qe)+"]")}switch(wt||(wt="continuous"),wt){case"continuous":W("/PageLayout /OneColumn");break;case"single":W("/PageLayout /SinglePage");break;case"two":case"twoleft":W("/PageLayout /TwoColumnLeft");break;case"tworight":W("/PageLayout /TwoColumnRight")}nt&&W("/PageMode /"+nt),Lt.publish("putCatalog"),W(">>"),W("endobj")},kn=m.__private__.putTrailer=function(){W("trailer"),W("<<"),W("/Size "+(le+1)),W("/Root "+le+" 0 R"),W("/Info "+(le-1)+" 0 R"),c!==null&&W("/Encrypt "+tn.oid+" 0 R"),W("/ID [ <"+ue+"> <"+ue+"> ]"),W(">>")},_l=m.__private__.putHeader=function(){W("%PDF-"+b),W("%")},xu=m.__private__.putXRef=function(){var w="0000000000";W("xref"),W("0 "+(le+1)),W("0000000000 65535 f ");for(var F=1;F<=le;F++)typeof ve[F]=="function"?W((w+ve[F]()).slice(-10)+" 00000 n "):ve[F]!==void 0?W((w+ve[F]).slice(-10)+" 00000 n "):W("0000000000 00000 n ")},Ss=m.__private__.buildDocument=function(){var w;le=0,Ae=0,Ne=[],ve=[],he=[],Ws=ur(),zr=ur(),fe(Ne),Lt.publish("buildDocument"),_l(),Di(),function(){Lt.publish("putAdditionalObjects");for(var X=0;X<he.length;X++){var re=he[X];Tn(re.objId,!0),W(re.content),W("endobj")}Lt.publish("postPutAdditionalObjects")}(),w=[],function(){for(var X in Je)Je.hasOwnProperty(X)&&(d===!1||d===!0&&g.hasOwnProperty(X))&&_s(Je[X])}(),function(){var X;for(X in xt)xt.hasOwnProperty(X)&&qc(xt[X])}(),function(){for(var X in Yn)Yn.hasOwnProperty(X)&&Ks(Yn[X])}(),function(X){var re;for(re in ut)ut.hasOwnProperty(re)&&(ut[re]instanceof Ul?No(ut[re]):ut[re]instanceof Zu&&Eo(ut[re],X))}(w),Lt.publish("putResources"),w.forEach(Qs),Qs({resourcesOid:zr,objectOid:Number.MAX_SAFE_INTEGER}),Lt.publish("postPutResources"),c!==null&&(tn.oid=En(),W("<<"),W("/Filter /Standard"),W("/V "+tn.v),W("/R "+tn.r),W("/U <"+tn.toHexString(tn.U)+">"),W("/O <"+tn.toHexString(tn.O)+">"),W("/P "+tn.P),W(">>"),W("endobj")),Ys(),bl();var F=Ae;return xu(),kn(),W("startxref"),W(""+F),W("%%EOF"),fe(be[Q]),Ne.join(`
`)},Xs=m.__private__.getBlob=function(w){return new Blob([Qe(w)],{type:"application/pdf"})},wi=m.output=m.__private__.output=(br=function(w,F){switch(typeof(F=F||{})=="string"?F={filename:F}:F.filename=F.filename||"generated.pdf",w){case void 0:return Ss();case"save":m.save(F.filename);break;case"arraybuffer":return Qe(Ss());case"blob":return Xs(Ss());case"bloburi":case"bloburl":if(vt.URL!==void 0&&typeof vt.URL.createObjectURL=="function")return vt.URL&&vt.URL.createObjectURL(Xs(Ss()))||void 0;dn.warn("bloburl is not supported by your system, because URL.createObjectURL is not supported by your browser.");break;case"datauristring":case"dataurlstring":var X="",re=Ss();try{X=H3(re)}catch{X=H3(unescape(encodeURIComponent(re)))}return"data:application/pdf;filename="+F.filename+";base64,"+X;case"pdfobjectnewwindow":if(Object.prototype.toString.call(vt)==="[object Window]"){var de="https://cdnjs.cloudflare.com/ajax/libs/pdfobject/2.1.1/pdfobject.min.js",Ce=' integrity="sha512-4ze/a9/4jqu+tX9dfOqJYSvyYd5M6qum/3HpCLr+/Jqf0whc37VUbkpNGHR7/8pSnCFw47T1fmIpwBV7UySh3g==" crossorigin="anonymous"';F.pdfObjectUrl&&(de=F.pdfObjectUrl,Ce="");var Re='<html><style>html, body { padding: 0; margin: 0; } iframe { width: 100%; height: 100%; border: 0;}  </style><body><script src="'+de+'"'+Ce+'><\/script><script >PDFObject.embed("'+this.output("dataurlstring")+'", '+JSON.stringify(F)+");<\/script></body></html>",He=vt.open();return He!==null&&He.document.write(Re),He}throw new Error("The option pdfobjectnewwindow just works in a browser-environment.");case"pdfjsnewwindow":if(Object.prototype.toString.call(vt)==="[object Window]"){var Ye='<html><style>html, body { padding: 0; margin: 0; } iframe { width: 100%; height: 100%; border: 0;}  </style><body><iframe id="pdfViewer" src="'+(F.pdfJsUrl||"examples/PDF.js/web/viewer.html")+"?file=&downloadName="+F.filename+'" width="500px" height="400px" /></body></html>',ct=vt.open();if(ct!==null){ct.document.write(Ye);var yt=this;ct.document.documentElement.querySelector("#pdfViewer").onload=function(){ct.document.title=F.filename,ct.document.documentElement.querySelector("#pdfViewer").contentWindow.PDFViewerApplication.open(yt.output("bloburl"))}}return ct}throw new Error("The option pdfjsnewwindow just works in a browser-environment.");case"dataurlnewwindow":if(Object.prototype.toString.call(vt)!=="[object Window]")throw new Error("The option dataurlnewwindow just works in a browser-environment.");var zt='<html><style>html, body { padding: 0; margin: 0; } iframe { width: 100%; height: 100%; border: 0;}  </style><body><iframe src="'+this.output("datauristring",F)+'"></iframe></body></html>',Xt=vt.open();if(Xt!==null&&(Xt.document.write(zt),Xt.document.title=F.filename),Xt||typeof safari>"u")return Xt;break;case"datauri":case"dataurl":return vt.document.location.href=this.output("datauristring",F);default:return null}},br.foo=function(){try{return br.apply(this,arguments)}catch(X){var w=X.stack||"";~w.indexOf(" at ")&&(w=w.split(" at ")[1]);var F="Error in function "+w.split(`
`)[0].split("<")[0]+": "+X.message;if(!vt.console)throw new Error(F);vt.console.error(F,X),vt.alert&&alert(F)}},br.foo.bar=br,br.foo),To=function(w){return Array.isArray(Hs)===!0&&Hs.indexOf(w)>-1};switch(r){case"pt":ht=1;break;case"mm":ht=72/25.4;break;case"cm":ht=72/2.54;break;case"in":ht=72;break;case"px":ht=To("px_scaling")==1?.75:96/72;break;case"pc":case"em":ht=12;break;case"ex":ht=6;break;default:if(typeof r!="number")throw new Error("Invalid unit: "+r);ht=r}var tn=null;Se(),ee();var oi=m.__private__.getPageInfo=m.getPageInfo=function(w){if(isNaN(w)||w%1!=0)throw new Error("Invalid argument passed to jsPDF.getPageInfo");return{objId:ft[w].objId,pageNumber:w,pageContext:ft[w]}},ua=m.__private__.getPageInfoByObjId=function(w){if(isNaN(w)||w%1!=0)throw new Error("Invalid argument passed to jsPDF.getPageInfoByObjId");for(var F in ft)if(ft[F].objId===w)break;return oi(F)},ca=m.__private__.getCurrentPageInfo=m.getCurrentPageInfo=function(){return{objId:ft[Q].objId,pageNumber:Q,pageContext:ft[Q]}};m.addPage=function(){return la.apply(this,arguments),this},m.setPage=function(){return vl.apply(this,arguments),fe.call(this,be[Q]),this},m.insertPage=function(w){return this.addPage(),this.movePage(Q,w),this},m.movePage=function(w,F){var X,re;if(w>F){X=be[w],re=ft[w];for(var de=w;de>F;de--)be[de]=be[de-1],ft[de]=ft[de-1];be[F]=X,ft[F]=re,this.setPage(F)}else if(w<F){X=be[w],re=ft[w];for(var Ce=w;Ce<F;Ce++)be[Ce]=be[Ce+1],ft[Ce]=ft[Ce+1];be[F]=X,ft[F]=re,this.setPage(F)}return this},m.deletePage=function(){return yl.apply(this,arguments),this},m.__private__.text=m.text=function(w,F,X,re,de){var Ce,Re,He,Ye,ct,yt,zt,Xt,In,nn=(re=re||{}).scope||this;if(typeof w=="number"&&typeof F=="number"&&(typeof X=="string"||Array.isArray(X))){var Bn=X;X=F,F=w,w=Bn}if(arguments[3]instanceof lt==0?(He=arguments[4],Ye=arguments[5],an(zt=arguments[3])==="object"&&zt!==null||(typeof He=="string"&&(Ye=He,He=null),typeof zt=="string"&&(Ye=zt,zt=null),typeof zt=="number"&&(He=zt,zt=null),re={flags:zt,angle:He,align:Ye})):(k("The transform parameter of text() with a Matrix value"),In=de),isNaN(F)||isNaN(X)||w==null)throw new Error("Invalid arguments passed to jsPDF.text");if(w.length===0)return nn;var Ln,Un="",pn=typeof re.lineHeightFactor=="number"?re.lineHeightFactor:Zs,Cr=nn.internal.scaleFactor;function kl(Jt){return Jt=Jt.split("	").join(Array(re.TabLen||9).join(" ")),_r(Jt,zt)}function Oi(Jt){for(var hn,Zn=Jt.concat(),pr=[],jo=Zn.length;jo--;)typeof(hn=Zn.shift())=="string"?pr.push(hn):Array.isArray(Jt)&&(hn.length===1||hn[1]===void 0&&hn[2]===void 0)?pr.push(hn[0]):pr.push([hn[0],hn[1],hn[2]]);return pr}function f(Jt,hn){var Zn;if(typeof Jt=="string")Zn=hn(Jt)[0];else if(Array.isArray(Jt)){for(var pr,jo,rh=Jt.concat(),Au=[],hd=rh.length;hd--;)typeof(pr=rh.shift())=="string"?Au.push(hn(pr)[0]):Array.isArray(pr)&&typeof pr[0]=="string"&&(jo=hn(pr[0],pr[1],pr[2]),Au.push([jo[0],jo[1],jo[2]]));Zn=Au}return Zn}var N=!1,j=!0;if(typeof w=="string")N=!0;else if(Array.isArray(w)){var $=w.concat();Re=[];for(var me,_e=$.length;_e--;)(typeof(me=$.shift())!="string"||Array.isArray(me)&&typeof me[0]!="string")&&(j=!1);N=j}if(N===!1)throw new Error('Type of text must be string or Array. "'+w+'" is not recognized.');typeof w=="string"&&(w=w.match(/[\r?\n]/)?w.split(/\r\n|\r|\n/g):[w]);var Oe=Le/nn.internal.scaleFactor,Vt=Oe*(pn-1);switch(re.baseline){case"bottom":X-=Vt;break;case"top":X+=Oe-Vt;break;case"hanging":X+=Oe-2*Vt;break;case"middle":X+=Oe/2-Vt}if((yt=re.maxWidth||0)>0&&(typeof w=="string"?w=nn.splitTextToSize(w,yt):Object.prototype.toString.call(w)==="[object Array]"&&(w=w.reduce(function(Jt,hn){return Jt.concat(nn.splitTextToSize(hn,yt))},[]))),Ce={text:w,x:F,y:X,options:re,mutex:{pdfEscape:_r,activeFontKey:rt,fonts:Je,activeFontSize:Le}},Lt.publish("preProcessText",Ce),w=Ce.text,He=(re=Ce.options).angle,In instanceof lt==0&&He&&typeof He=="number"){He*=Math.PI/180,re.rotationDirection===0&&(He=-He),L===E&&(He=-He);var Rn=Math.cos(He),Rt=Math.sin(He);In=new lt(Rn,Rt,-Rt,Rn,0,0)}else He&&He instanceof lt&&(In=He);L!==E||In||(In=is),(ct=re.charSpace||ko)!==void 0&&(Un+=C(D(ct))+` Tc
`,this.setCharSpace(this.getCharSpace()||0)),(Xt=re.horizontalScale)!==void 0&&(Un+=C(100*Xt)+` Tz
`),re.lang;var It=-1,mn=re.renderingMode!==void 0?re.renderingMode:re.stroke,Vi=nn.internal.getCurrentPageInfo().pageContext;switch(mn){case 0:case!1:case"fill":It=0;break;case 1:case!0:case"stroke":It=1;break;case 2:case"fillThenStroke":It=2;break;case 3:case"invisible":It=3;break;case 4:case"fillAndAddForClipping":It=4;break;case 5:case"strokeAndAddPathForClipping":It=5;break;case 6:case"fillThenStrokeAndAddToPathForClipping":It=6;break;case 7:case"addToPathForClipping":It=7}var $r=Vi.usedRenderingMode!==void 0?Vi.usedRenderingMode:-1;It!==-1?Un+=It+` Tr
`:$r!==-1&&(Un+=`0 Tr
`),It!==-1&&(Vi.usedRenderingMode=It),Ye=re.align||"left";var Pr,Ts=Le*pn,Yc=nn.internal.pageSize.getWidth(),Xc=Je[rt];ct=re.charSpace||ko,yt=re.maxWidth||0,zt=Object.assign({autoencode:!0,noBOM:!0},re.flags);var ga=[],Il=function(Jt){return nn.getStringUnitWidth(Jt,{font:Xc,charSpace:ct,fontSize:Le,doKerning:!1})*Le/Cr};if(Object.prototype.toString.call(w)==="[object Array]"){var Bi;Re=Oi(w),Ye!=="left"&&(Pr=Re.map(Il));var Ui,ya=0;if(Ye==="right"){F-=Pr[0],w=[],_e=Re.length;for(var Ro=0;Ro<_e;Ro++)Ro===0?(Ui=Sr(F),Bi=As(X)):(Ui=D(ya-Pr[Ro]),Bi=-Ts),w.push([Re[Ro],Ui,Bi]),ya=Pr[Ro]}else if(Ye==="center"){F-=Pr[0]/2,w=[],_e=Re.length;for(var va=0;va<_e;va++)va===0?(Ui=Sr(F),Bi=As(X)):(Ui=D((ya-Pr[va])/2),Bi=-Ts),w.push([Re[va],Ui,Bi]),ya=Pr[va]}else if(Ye==="left"){w=[],_e=Re.length;for(var Jc=0;Jc<_e;Jc++)w.push(Re[Jc])}else if(Ye==="justify"&&Xc.encoding==="Identity-H"){w=[],_e=Re.length,yt=yt!==0?yt:Yc;for(var Su=0,Jn=0;Jn<_e;Jn++)if(Bi=Jn===0?As(X):-Ts,Ui=Jn===0?Sr(F):Su,Jn<_e-1){var cd=D((yt-Pr[Jn])/(Re[Jn].split(" ").length-1)),io=Re[Jn].split(" ");w.push([io[0]+" ",Ui,Bi]),Su=0;for(var so=1;so<io.length;so++){var Zc=(Il(io[so-1]+" "+io[so])-Il(io[so]))*Cr+cd;so==io.length-1?w.push([io[so],Zc,0]):w.push([io[so]+" ",Zc,0]),Su-=Zc}}else w.push([Re[Jn],Ui,Bi]);w.push(["",Su,0])}else{if(Ye!=="justify")throw new Error('Unrecognized alignment option, use "left", "center", "right" or "justify".');for(w=[],_e=Re.length,yt=yt!==0?yt:Yc,Jn=0;Jn<_e;Jn++){Bi=Jn===0?As(X):-Ts,Ui=Jn===0?Sr(F):0;var eh=Re[Jn].split(" ").length-1,th=eh>0?(yt-Pr[Jn])/eh:0;Jn<_e-1?ga.push(C(D(th))):ga.push(0),w.push([Re[Jn],Ui,Bi])}}}(typeof re.R2L=="boolean"?re.R2L:_t)===!0&&(w=f(w,function(Jt,hn,Zn){return[Jt.split("").reverse().join(""),hn,Zn]})),Ce={text:w,x:F,y:X,options:re,mutex:{pdfEscape:_r,activeFontKey:rt,fonts:Je,activeFontSize:Le}},Lt.publish("postProcessText",Ce),w=Ce.text,Ln=Ce.mutex.isHex||!1;var nh=Je[rt].encoding;nh!=="WinAnsiEncoding"&&nh!=="StandardEncoding"||(w=f(w,function(Jt,hn,Zn){return[kl(Jt),hn,Zn]})),Re=Oi(w),w=[];for(var wa,xa,ba,Ll=Array.isArray(Re[0])?1:0,_a="",Rl=function(Jt,hn,Zn){var pr="";return Zn instanceof lt?(Zn=typeof re.angle=="number"?wn(Zn,new lt(1,0,0,1,Jt,hn)):wn(new lt(1,0,0,1,Jt,hn),Zn),L===E&&(Zn=wn(new lt(1,0,0,-1,0,0),Zn)),pr=Zn.join(" ")+` Tm
`):pr=C(Jt)+" "+C(hn)+` Td
`,pr},ls=0;ls<Re.length;ls++){switch(_a="",Ll){case 1:ba=(Ln?"<":"(")+Re[ls][0]+(Ln?">":")"),wa=parseFloat(Re[ls][1]),xa=parseFloat(Re[ls][2]);break;case 0:ba=(Ln?"<":"(")+Re[ls]+(Ln?">":")"),wa=Sr(F),xa=As(X)}ga!==void 0&&ga[ls]!==void 0&&(_a=ga[ls]+` Tw
`),ls===0?w.push(_a+Rl(wa,xa,In)+ba):Ll===0?w.push(_a+ba):Ll===1&&w.push(_a+Rl(wa,xa,In)+ba)}w=Ll===0?w.join(` Tj
T* `):w.join(` Tj
`),w+=` Tj
`;var oo=`BT
/`;return oo+=rt+" "+Le+` Tf
`,oo+=C(Le*pn)+` TL
`,oo+=Fi+`
`,oo+=Un,oo+=w,W(oo+="ET"),g[rt]=!0,nn};var bu=m.__private__.clip=m.clip=function(w){return W(w==="evenodd"?"W*":"W"),this};m.clipEvenOdd=function(){return bu("evenodd")},m.__private__.discardPath=m.discardPath=function(){return W("n"),this};var Mt=m.__private__.isValidStyle=function(w){var F=!1;return[void 0,null,"S","D","F","DF","FD","f","f*","B","B*","n"].indexOf(w)!==-1&&(F=!0),F};m.__private__.setDefaultPathOperation=m.setDefaultPathOperation=function(w){return Mt(w)&&(u=w),this};var Co=m.__private__.getStyle=m.getStyle=function(w){var F=u;switch(w){case"D":case"S":F="S";break;case"F":F="f";break;case"FD":case"DF":F="B";break;case"f":case"f*":case"B":case"B*":F=w}return F},Js=m.close=function(){return W("h"),this};m.stroke=function(){return W("S"),this},m.fill=function(w){return xi("f",w),this},m.fillEvenOdd=function(w){return xi("f*",w),this},m.fillStroke=function(w){return xi("B",w),this},m.fillStrokeEvenOdd=function(w){return xi("B*",w),this};var xi=function(w,F){an(F)==="object"?$c(F,w):W(w)},Sl=function(w){w===null||L===E&&w===void 0||(w=Co(w),W(w))};function _u(w,F,X,re,de){var Ce=new Zu(F||this.boundingBox,X||this.xStep,re||this.yStep,this.gState,de||this.matrix);Ce.stream=this.stream;var Re=w+"$$"+this.cloneIndex+++"$$";return xr(Re,Ce),Ce}var $c=function(w,F){var X=kt[w.key],re=ut[X];if(re instanceof Ul)W("q"),W(Hc(F)),re.gState&&m.setGState(re.gState),W(w.matrix.toString()+" cm"),W("/"+X+" sh"),W("Q");else if(re instanceof Zu){var de=new lt(1,0,0,-1,0,as());w.matrix&&(de=de.multiply(w.matrix||is),X=_u.call(re,w.key,w.boundingBox,w.xStep,w.yStep,de).id),W("q"),W("/Pattern cs"),W("/"+X+" scn"),re.gState&&m.setGState(re.gState),W(F),W("Q")}},Hc=function(w){switch(w){case"f":case"F":case"n":return"W n";case"f*":return"W* n";case"B":case"S":return"W S";case"B*":return"W* S"}},Al=m.moveTo=function(w,F){return W(C(D(w))+" "+C(H(F))+" m"),this},Po=m.lineTo=function(w,F){return W(C(D(w))+" "+C(H(F))+" l"),this},bi=m.curveTo=function(w,F,X,re,de,Ce){return W([C(D(w)),C(H(F)),C(D(X)),C(H(re)),C(D(de)),C(H(Ce)),"c"].join(" ")),this};m.__private__.line=m.line=function(w,F,X,re,de){if(isNaN(w)||isNaN(F)||isNaN(X)||isNaN(re)||!Mt(de))throw new Error("Invalid arguments passed to jsPDF.line");return L===_?this.lines([[X-w,re-F]],w,F,[1,1],de||"S"):this.lines([[X-w,re-F]],w,F,[1,1]).stroke()},m.__private__.lines=m.lines=function(w,F,X,re,de,Ce){var Re,He,Ye,ct,yt,zt,Xt,In,nn,Bn,Ln,Un;if(typeof w=="number"&&(Un=X,X=F,F=w,w=Un),re=re||[1,1],Ce=Ce||!1,isNaN(F)||isNaN(X)||!Array.isArray(w)||!Array.isArray(re)||!Mt(de)||typeof Ce!="boolean")throw new Error("Invalid arguments passed to jsPDF.lines");for(Al(F,X),Re=re[0],He=re[1],ct=w.length,Bn=F,Ln=X,Ye=0;Ye<ct;Ye++)(yt=w[Ye]).length===2?(Bn=yt[0]*Re+Bn,Ln=yt[1]*He+Ln,Po(Bn,Ln)):(zt=yt[0]*Re+Bn,Xt=yt[1]*He+Ln,In=yt[2]*Re+Bn,nn=yt[3]*He+Ln,Bn=yt[4]*Re+Bn,Ln=yt[5]*He+Ln,bi(zt,Xt,In,nn,Bn,Ln));return Ce&&Js(),Sl(de),this},m.path=function(w){for(var F=0;F<w.length;F++){var X=w[F],re=X.c;switch(X.op){case"m":Al(re[0],re[1]);break;case"l":Po(re[0],re[1]);break;case"c":bi.apply(this,re);break;case"h":Js()}}return this},m.__private__.rect=m.rect=function(w,F,X,re,de){if(isNaN(w)||isNaN(F)||isNaN(X)||isNaN(re)||!Mt(de))throw new Error("Invalid arguments passed to jsPDF.rect");return L===_&&(re=-re),W([C(D(w)),C(H(F)),C(D(X)),C(D(re)),"re"].join(" ")),Sl(de),this},m.__private__.triangle=m.triangle=function(w,F,X,re,de,Ce,Re){if(isNaN(w)||isNaN(F)||isNaN(X)||isNaN(re)||isNaN(de)||isNaN(Ce)||!Mt(Re))throw new Error("Invalid arguments passed to jsPDF.triangle");return this.lines([[X-w,re-F],[de-X,Ce-re],[w-de,F-Ce]],w,F,[1,1],Re,!0),this},m.__private__.roundedRect=m.roundedRect=function(w,F,X,re,de,Ce,Re){if(isNaN(w)||isNaN(F)||isNaN(X)||isNaN(re)||isNaN(de)||isNaN(Ce)||!Mt(Re))throw new Error("Invalid arguments passed to jsPDF.roundedRect");var He=4/3*(Math.SQRT2-1);return de=Math.min(de,.5*X),Ce=Math.min(Ce,.5*re),this.lines([[X-2*de,0],[de*He,0,de,Ce-Ce*He,de,Ce],[0,re-2*Ce],[0,Ce*He,-de*He,Ce,-de,Ce],[2*de-X,0],[-de*He,0,-de,-Ce*He,-de,-Ce],[0,2*Ce-re],[0,-Ce*He,de*He,-Ce,de,-Ce]],w+de,F,[1,1],Re,!0),this},m.__private__.ellipse=m.ellipse=function(w,F,X,re,de){if(isNaN(w)||isNaN(F)||isNaN(X)||isNaN(re)||!Mt(de))throw new Error("Invalid arguments passed to jsPDF.ellipse");var Ce=4/3*(Math.SQRT2-1)*X,Re=4/3*(Math.SQRT2-1)*re;return Al(w+X,F),bi(w+X,F-Re,w+Ce,F-re,w,F-re),bi(w-Ce,F-re,w-X,F-Re,w-X,F),bi(w-X,F+Re,w-Ce,F+re,w,F+re),bi(w+Ce,F+re,w+X,F+Re,w+X,F),Sl(de),this},m.__private__.circle=m.circle=function(w,F,X,re){if(isNaN(w)||isNaN(F)||isNaN(X)||!Mt(re))throw new Error("Invalid arguments passed to jsPDF.circle");return this.ellipse(w,F,X,X,re)},m.setFont=function(w,F,X){return X&&(F=R(F,X)),rt=xl(w,F,{disableWarning:!1}),this};var ss=m.__private__.getFont=m.getFont=function(){return Je[xl.apply(m,arguments)]};m.__private__.getFontList=m.getFontList=function(){var w,F,X={};for(w in gt)if(gt.hasOwnProperty(w))for(F in X[w]=[],gt[w])gt[w].hasOwnProperty(F)&&X[w].push(F);return X},m.addFont=function(w,F,X,re,de){var Ce=["StandardEncoding","MacRomanEncoding","Identity-H","WinAnsiEncoding"];return arguments[3]&&Ce.indexOf(arguments[3])!==-1?de=arguments[3]:arguments[3]&&Ce.indexOf(arguments[3])==-1&&(X=R(X,re)),aa.call(this,w,F,X,de=de||"Identity-H")};var Zs,ha=t.lineWidth||.200025,dt=m.__private__.getLineWidth=m.getLineWidth=function(){return ha},eo=m.__private__.setLineWidth=m.setLineWidth=function(w){return ha=w,W(C(D(w))+" w"),this};m.__private__.setLineDash=st.API.setLineDash=st.API.setLineDashPattern=function(w,F){if(w=w||[],F=F||0,isNaN(F)||!Array.isArray(w))throw new Error("Invalid arguments passed to jsPDF.setLineDash");return w=w.map(function(X){return C(D(X))}).join(" "),F=C(D(F)),W("["+w+"] "+F+" d"),this};var Wc=m.__private__.getLineHeight=m.getLineHeight=function(){return Le*Zs};m.__private__.getLineHeight=m.getLineHeight=function(){return Le*Zs};var Gc=m.__private__.setLineHeightFactor=m.setLineHeightFactor=function(w){return typeof(w=w||1.15)=="number"&&(Zs=w),this},Kc=m.__private__.getLineHeightFactor=m.getLineHeightFactor=function(){return Zs};Gc(t.lineHeight);var Sr=m.__private__.getHorizontalCoordinate=function(w){return D(w)},As=m.__private__.getVerticalCoordinate=function(w){return L===E?w:ft[Q].mediaBox.topRightY-ft[Q].mediaBox.bottomLeftY-D(w)},Qc=m.__private__.getHorizontalCoordinateString=m.getHorizontalCoordinateString=function(w){return C(Sr(w))},fa=m.__private__.getVerticalCoordinateString=m.getVerticalCoordinateString=function(w){return C(As(w))},Ns=t.strokeColor||"0 G";m.__private__.getStrokeColor=m.getDrawColor=function(){return ji(Ns)},m.__private__.setStrokeColor=m.setDrawColor=function(w,F,X,re){return Ns=si({ch1:w,ch2:F,ch3:X,ch4:re,pdfColorType:"draw",precision:2}),W(Ns),this};var da=t.fillColor||"0 g";m.__private__.getFillColor=m.getFillColor=function(){return ji(da)},m.__private__.setFillColor=m.setFillColor=function(w,F,X,re){return da=si({ch1:w,ch2:F,ch3:X,ch4:re,pdfColorType:"fill",precision:2}),W(da),this};var Fi=t.textColor||"0 g",os=m.__private__.getTextColor=m.getTextColor=function(){return ji(Fi)};m.__private__.setTextColor=m.setTextColor=function(w,F,X,re){return Fi=si({ch1:w,ch2:F,ch3:X,ch4:re,pdfColorType:"text",precision:3}),this};var ko=t.charSpace,Nl=m.__private__.getCharSpace=m.getCharSpace=function(){return parseFloat(ko||0)};m.__private__.setCharSpace=m.setCharSpace=function(w){if(isNaN(w))throw new Error("Invalid argument passed to jsPDF.setCharSpace");return ko=w,this};var cn=0;m.CapJoinStyles={0:0,butt:0,but:0,miter:0,1:1,round:1,rounded:1,circle:1,2:2,projecting:2,project:2,square:2,bevel:2},m.__private__.setLineCap=m.setLineCap=function(w){var F=m.CapJoinStyles[w];if(F===void 0)throw new Error("Line cap style of '"+w+"' is not recognized. See or extend .CapJoinStyles property for valid styles");return cn=F,W(F+" J"),this};var El=0;m.__private__.setLineJoin=m.setLineJoin=function(w){var F=m.CapJoinStyles[w];if(F===void 0)throw new Error("Line join style of '"+w+"' is not recognized. See or extend .CapJoinStyles property for valid styles");return El=F,W(F+" j"),this},m.__private__.setLineMiterLimit=m.__private__.setMiterLimit=m.setLineMiterLimit=m.setMiterLimit=function(w){if(w=w||0,isNaN(w))throw new Error("Invalid argument passed to jsPDF.setLineMiterLimit");return W(C(D(w))+" M"),this},m.GState=km,m.setGState=function(w){(w=typeof w=="string"?xt[Nn[w]]:Io(null,w)).equals(vn)||(W("/"+w.id+" gs"),vn=w)};var Io=function(w,F){if(!w||!Nn[w]){var X=!1;for(var re in xt)if(xt.hasOwnProperty(re)&&xt[re].equals(F)){X=!0;break}if(X)F=xt[re];else{var de="GS"+(Object.keys(xt).length+1).toString(10);xt[de]=F,F.id=de}return w&&(Nn[w]=F.id),Lt.publish("addGState",F),F}};m.addGState=function(w,F){return Io(w,F),this},m.saveGraphicsState=function(){return W("q"),en.push({key:rt,size:Le,color:Fi}),this},m.restoreGraphicsState=function(){W("Q");var w=en.pop();return rt=w.key,Le=w.size,Fi=w.color,vn=null,this},m.setCurrentTransformationMatrix=function(w){return W(w.toString()+" cm"),this},m.comment=function(w){return W("#"+w),this};var to=function(w,F){var X=w||0;Object.defineProperty(this,"x",{enumerable:!0,get:function(){return X},set:function(Ce){isNaN(Ce)||(X=parseFloat(Ce))}});var re=F||0;Object.defineProperty(this,"y",{enumerable:!0,get:function(){return re},set:function(Ce){isNaN(Ce)||(re=parseFloat(Ce))}});var de="pt";return Object.defineProperty(this,"type",{enumerable:!0,get:function(){return de},set:function(Ce){de=Ce.toString()}}),this},pa=function(w,F,X,re){to.call(this,w,F),this.type="rect";var de=X||0;Object.defineProperty(this,"w",{enumerable:!0,get:function(){return de},set:function(Re){isNaN(Re)||(de=parseFloat(Re))}});var Ce=re||0;return Object.defineProperty(this,"h",{enumerable:!0,get:function(){return Ce},set:function(Re){isNaN(Re)||(Ce=parseFloat(Re))}}),this},Lo=function(){this.page=Yt,this.currentPage=Q,this.pages=be.slice(0),this.pagesContext=ft.slice(0),this.x=ot,this.y=Kt,this.matrix=Ut,this.width=_i(Q),this.height=Es(Q),this.outputDestination=Ee,this.id="",this.objectNumber=-1};Lo.prototype.restore=function(){Yt=this.page,Q=this.currentPage,ft=this.pagesContext,be=this.pages,ot=this.x,Kt=this.y,Ut=this.matrix,Tl(Q,this.width),ai(Q,this.height),Ee=this.outputDestination};var no=function(w,F,X,re,de){Ur.push(new Lo),Yt=Q=0,be=[],ot=w,Kt=F,Ut=de,Mi([X,re])};for(var ro in m.beginFormObject=function(w,F,X,re,de){return no(w,F,X,re,de),this},m.endFormObject=function(w){return function(F){if(rs[F])Ur.pop().restore();else{var X=new Lo,re="Xo"+(Object.keys(Yn).length+1).toString(10);X.id=re,rs[F]=re,Yn[re]=X,Lt.publish("addFormObject",X),Ur.pop().restore()}}(w),this},m.doFormObject=function(w,F){var X=Yn[rs[w]];return W("q"),W(F.toString()+" cm"),W("/"+X.id+" Do"),W("Q"),this},m.getFormObject=function(w){var F=Yn[rs[w]];return{x:F.x,y:F.y,width:F.width,height:F.height,matrix:F.matrix}},m.save=function(w,F){return w=w||"generated.pdf",(F=F||{}).returnPromise=F.returnPromise||!1,F.returnPromise===!1?(Bl(Xs(Ss()),w),typeof Bl.unload=="function"&&vt.setTimeout&&setTimeout(Bl.unload,911),this):new Promise(function(X,re){try{var de=Bl(Xs(Ss()),w);typeof Bl.unload=="function"&&vt.setTimeout&&setTimeout(Bl.unload,911),X(de)}catch(Ce){re(Ce.message)}})},st.API)st.API.hasOwnProperty(ro)&&(ro==="events"&&st.API.events.length?function(w,F){var X,re,de;for(de=F.length-1;de!==-1;de--)X=F[de][0],re=F[de][1],w.subscribe.apply(w,[X].concat(typeof re=="function"?[re]:re))}(Lt,st.API.events):m[ro]=st.API[ro]);function _i(w){return ft[w].mediaBox.topRightX-ft[w].mediaBox.bottomLeftX}function Tl(w,F){ft[w].mediaBox.topRightX=F+ft[w].mediaBox.bottomLeftX}function Es(w){return ft[w].mediaBox.topRightY-ft[w].mediaBox.bottomLeftY}function ai(w,F){ft[w].mediaBox.topRightY=F+ft[w].mediaBox.bottomLeftY}var Cl=m.getPageWidth=function(w){return _i(w=w||Q)/ht},ma=m.setPageWidth=function(w,F){Tl(w,F*ht)},as=m.getPageHeight=function(w){return Es(w=w||Q)/ht},Pl=m.setPageHeight=function(w,F){ai(w,F*ht)};return m.internal={pdfEscape:_r,getStyle:Co,getFont:ss,getFontSize:Be,getCharSpace:Nl,getTextColor:os,getLineHeight:Wc,getLineHeightFactor:Kc,getLineWidth:dt,write:ze,getHorizontalCoordinate:Sr,getVerticalCoordinate:As,getCoordinateString:Qc,getVerticalCoordinateString:fa,collections:{},newObject:En,newAdditionalObject:Ao,newObjectDeferred:ur,newObjectDeferredBegin:Tn,getFilters:qr,putStream:Xn,events:Lt,scaleFactor:ht,pageSize:{getWidth:function(){return Cl(Q)},setWidth:function(w){ma(Q,w)},getHeight:function(){return as(Q)},setHeight:function(w){Pl(Q,w)}},encryptionOptions:c,encryption:tn,getEncryptor:function(w){return c!==null?tn.encryptor(w,0):function(F){return F}},output:wi,getNumberOfPages:wl,pages:be,out:W,f2:T,f3:I,getPageInfo:oi,getPageInfoByObjId:ua,getCurrentPageInfo:ca,getPDFVersion:x,Point:to,Rectangle:pa,Matrix:lt,hasHotfix:To},Object.defineProperty(m.internal.pageSize,"width",{get:function(){return Cl(Q)},set:function(w){ma(Q,w)},enumerable:!0,configurable:!0}),Object.defineProperty(m.internal.pageSize,"height",{get:function(){return as(Q)},set:function(w){Pl(Q,w)},enumerable:!0,configurable:!0}),(function(w){for(var F=0,X=Ue.length;F<X;F++){var re=aa.call(this,w[F][0],w[F][1],w[F][2],Ue[F][3],!0);d===!1&&(g[re]=!0);var de=w[F][0].split("-");gl({id:re,fontName:de[0],fontStyle:de[1]||""})}Lt.publish("addFonts",{fonts:Je,dictionary:gt})}).call(m,Ue),rt="F1",la(i,n),Lt.publish("initialized"),m}Ru.prototype.lsbFirstWord=function(t){return String.fromCharCode(255&t,t>>8&255,t>>16&255,t>>24&255)},Ru.prototype.toHexString=function(t){return t.split("").map(function(e){return("0"+(255&e.charCodeAt(0)).toString(16)).slice(-2)}).join("")},Ru.prototype.hexToBytes=function(t){for(var e=[],n=0;n<t.length;n+=2)e.push(String.fromCharCode(parseInt(t.substr(n,2),16)));return e.join("")},Ru.prototype.processOwnerPassword=function(t,e){return ty(ey(e).substr(0,5),t)},Ru.prototype.encryptor=function(t,e){var n=ey(this.encryptionKey+String.fromCharCode(255&t,t>>8&255,t>>16&255,255&e,e>>8&255)).substr(0,10);return function(r){return ty(n,r)}},km.prototype.equals=function(t){var e,n="id,objectNumber,equals";if(!t||an(t)!==an(this))return!1;var r=0;for(e in this)if(!(n.indexOf(e)>=0)){if(this.hasOwnProperty(e)&&!t.hasOwnProperty(e)||this[e]!==t[e])return!1;r++}for(e in t)t.hasOwnProperty(e)&&n.indexOf(e)<0&&r--;return r===0},st.API={events:[]},st.version="3.0.3";var Hn=st.API,P5=1,wu=function(t){return t.replace(/\\/g,"\\\\").replace(/\(/g,"\\(").replace(/\)/g,"\\)")},Cu=function(t){return t.replace(/\\\\/g,"\\").replace(/\\\(/g,"(").replace(/\\\)/g,")")},At=function(t){return t.toFixed(2)},Ia=function(t){return t.toFixed(5)};Hn.__acroform__={};var Ri=function(t,e){t.prototype=Object.create(e.prototype),t.prototype.constructor=t},Q3=function(t){return t*P5},uo=function(t){var e=new aT,n=Ke.internal.getHeight(t)||0,r=Ke.internal.getWidth(t)||0;return e.BBox=[0,0,Number(At(r)),Number(At(n))],e},_q=Hn.__acroform__.setBit=function(t,e){if(t=t||0,e=e||0,isNaN(t)||isNaN(e))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.setBit");return t|1<<e},Sq=Hn.__acroform__.clearBit=function(t,e){if(t=t||0,e=e||0,isNaN(t)||isNaN(e))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.clearBit");return t&~(1<<e)},Aq=Hn.__acroform__.getBit=function(t,e){if(isNaN(t)||isNaN(e))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.getBit");return t&1<<e?1:0},sr=Hn.__acroform__.getBitForPdf=function(t,e){if(isNaN(t)||isNaN(e))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.getBitForPdf");return Aq(t,e-1)},or=Hn.__acroform__.setBitForPdf=function(t,e){if(isNaN(t)||isNaN(e))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.setBitForPdf");return _q(t,e-1)},ar=Hn.__acroform__.clearBitForPdf=function(t,e){if(isNaN(t)||isNaN(e))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.clearBitForPdf");return Sq(t,e-1)},Nq=Hn.__acroform__.calculateCoordinates=function(t,e){var n=e.internal.getHorizontalCoordinate,r=e.internal.getVerticalCoordinate,i=t[0],s=t[1],o=t[2],a=t[3],l={};return l.lowerLeft_X=n(i)||0,l.lowerLeft_Y=r(s+a)||0,l.upperRight_X=n(i+o)||0,l.upperRight_Y=r(s)||0,[Number(At(l.lowerLeft_X)),Number(At(l.lowerLeft_Y)),Number(At(l.upperRight_X)),Number(At(l.upperRight_Y))]},Eq=function(t){if(t.appearanceStreamContent)return t.appearanceStreamContent;if(t.V||t.DV){var e=[],n=t._V||t.DV,r=ny(t,n),i=t.scope.internal.getFont(t.fontName,t.fontStyle).id;e.push("/Tx BMC"),e.push("q"),e.push("BT"),e.push(t.scope.__private__.encodeColorString(t.color)),e.push("/"+i+" "+At(r.fontSize)+" Tf"),e.push("1 0 0 1 0 0 Tm"),e.push(r.text),e.push("ET"),e.push("Q"),e.push("EMC");var s=uo(t);return s.scope=t.scope,s.stream=e.join(`
`),s}},ny=function(t,e){var n=t.fontSize===0?t.maxFontSize:t.fontSize,r={text:"",fontSize:""},i=(e=(e=e.substr(0,1)=="("?e.substr(1):e).substr(e.length-1)==")"?e.substr(0,e.length-1):e).split(" ");i=t.multiline?i.map(function(T){return T.split(`
`)}):i.map(function(T){return[T]});var s=n,o=Ke.internal.getHeight(t)||0;o=o<0?-o:o;var a=Ke.internal.getWidth(t)||0;a=a<0?-a:a;var l=function(T,I,D){if(T+1<i.length){var H=I+" "+i[T+1][0];return sp(H,t,D).width<=a-4}return!1};s++;e:for(;s>0;){e="",s--;var u,c,d=sp("3",t,s).height,g=t.multiline?o-s:(o-d)/2,m=g+=2,b=0,x=0,A=0;if(s<=0){e=`(...) Tj
`,e+="% Width of Text: "+sp(e,t,s=12).width+", FieldWidth:"+a+`
`;break}for(var v="",_=0,E=0;E<i.length;E++)if(i.hasOwnProperty(E)){var L=!1;if(i[E].length!==1&&A!==i[E].length-1){if((d+2)*(_+2)+2>o)continue e;v+=i[E][A],L=!0,x=E,E--}else{v=(v+=i[E][A]+" ").substr(v.length-1)==" "?v.substr(0,v.length-1):v;var z=parseInt(E),Y=l(z,v,s),R=E>=i.length-1;if(Y&&!R){v+=" ",A=0;continue}if(Y||R){if(R)x=z;else if(t.multiline&&(d+2)*(_+2)+2>o)continue e}else{if(!t.multiline||(d+2)*(_+2)+2>o)continue e;x=z}}for(var C="",k=b;k<=x;k++){var M=i[k];if(t.multiline){if(k===x){C+=M[A]+" ",A=(A+1)%M.length;continue}if(k===b){C+=M[M.length-1]+" ";continue}}C+=M[0]+" "}switch(C=C.substr(C.length-1)==" "?C.substr(0,C.length-1):C,c=sp(C,t,s).width,t.textAlign){case"right":u=a-c-2;break;case"center":u=(a-c)/2;break;default:u=2}e+=At(u)+" "+At(m)+` Td
`,e+="("+wu(C)+`) Tj
`,e+=-At(u)+` 0 Td
`,m=-(s+2),c=0,b=L?x:x+1,_++,v=""}break}return r.text=e,r.fontSize=s,r},sp=function(t,e,n){var r=e.scope.internal.getFont(e.fontName,e.fontStyle),i=e.scope.getStringUnitWidth(t,{font:r,fontSize:parseFloat(n),charSpace:0})*parseFloat(n);return{height:e.scope.getStringUnitWidth("3",{font:r,fontSize:parseFloat(n),charSpace:0})*parseFloat(n)*1.5,width:i}},Tq={fields:[],xForms:[],acroFormDictionaryRoot:null,printedOut:!1,internal:null,isInitialized:!1},Cq=function(t,e){var n={type:"reference",object:t};e.internal.getPageInfo(t.page).pageContext.annotations.find(function(r){return r.type===n.type&&r.object===n.object})===void 0&&e.internal.getPageInfo(t.page).pageContext.annotations.push(n)},Pq=function(t,e){if(e.scope=t,t.internal!==void 0&&(t.internal.acroformPlugin===void 0||t.internal.acroformPlugin.isInitialized===!1)){if(qs.FieldNum=0,t.internal.acroformPlugin=JSON.parse(JSON.stringify(Tq)),t.internal.acroformPlugin.acroFormDictionaryRoot)throw new Error("Exception while creating AcroformDictionary");P5=t.internal.scaleFactor,t.internal.acroformPlugin.acroFormDictionaryRoot=new lT,t.internal.acroformPlugin.acroFormDictionaryRoot.scope=t,t.internal.acroformPlugin.acroFormDictionaryRoot._eventID=t.internal.events.subscribe("postPutResources",function(){(function(n){n.internal.events.unsubscribe(n.internal.acroformPlugin.acroFormDictionaryRoot._eventID),delete n.internal.acroformPlugin.acroFormDictionaryRoot._eventID,n.internal.acroformPlugin.printedOut=!0})(t)}),t.internal.events.subscribe("buildDocument",function(){(function(n){n.internal.acroformPlugin.acroFormDictionaryRoot.objId=void 0;var r=n.internal.acroformPlugin.acroFormDictionaryRoot.Fields;for(var i in r)if(r.hasOwnProperty(i)){var s=r[i];s.objId=void 0,s.hasAnnotation&&Cq(s,n)}})(t)}),t.internal.events.subscribe("putCatalog",function(){(function(n){if(n.internal.acroformPlugin.acroFormDictionaryRoot===void 0)throw new Error("putCatalogCallback: Root missing.");n.internal.write("/AcroForm "+n.internal.acroformPlugin.acroFormDictionaryRoot.objId+" 0 R")})(t)}),t.internal.events.subscribe("postPutPages",function(n){(function(r,i){var s=!r;for(var o in r||(i.internal.newObjectDeferredBegin(i.internal.acroformPlugin.acroFormDictionaryRoot.objId,!0),i.internal.acroformPlugin.acroFormDictionaryRoot.putStream()),r=r||i.internal.acroformPlugin.acroFormDictionaryRoot.Kids)if(r.hasOwnProperty(o)){var a=r[o],l=[],u=a.Rect;if(a.Rect&&(a.Rect=Nq(a.Rect,i)),i.internal.newObjectDeferredBegin(a.objId,!0),a.DA=Ke.createDefaultAppearanceStream(a),an(a)==="object"&&typeof a.getKeyValueListForStream=="function"&&(l=a.getKeyValueListForStream()),a.Rect=u,a.hasAppearanceStream&&!a.appearanceStreamContent){var c=Eq(a);l.push({key:"AP",value:"<</N "+c+">>"}),i.internal.acroformPlugin.xForms.push(c)}if(a.appearanceStreamContent){var d="";for(var g in a.appearanceStreamContent)if(a.appearanceStreamContent.hasOwnProperty(g)){var m=a.appearanceStreamContent[g];if(d+="/"+g+" ",d+="<<",Object.keys(m).length>=1||Array.isArray(m)){for(var o in m)if(m.hasOwnProperty(o)){var b=m[o];typeof b=="function"&&(b=b.call(i,a)),d+="/"+o+" "+b+" ",i.internal.acroformPlugin.xForms.indexOf(b)>=0||i.internal.acroformPlugin.xForms.push(b)}}else typeof(b=m)=="function"&&(b=b.call(i,a)),d+="/"+o+" "+b,i.internal.acroformPlugin.xForms.indexOf(b)>=0||i.internal.acroformPlugin.xForms.push(b);d+=">>"}l.push({key:"AP",value:`<<
`+d+">>"})}i.internal.putStream({additionalKeyValues:l,objectId:a.objId}),i.internal.out("endobj")}s&&function(x,A){for(var v in x)if(x.hasOwnProperty(v)){var _=v,E=x[v];A.internal.newObjectDeferredBegin(E.objId,!0),an(E)==="object"&&typeof E.putStream=="function"&&E.putStream(),delete x[_]}}(i.internal.acroformPlugin.xForms,i)})(n,t)}),t.internal.acroformPlugin.isInitialized=!0}},oT=Hn.__acroform__.arrayToPdfArray=function(t,e,n){var r=function(o){return o};if(Array.isArray(t)){for(var i="[",s=0;s<t.length;s++)switch(s!==0&&(i+=" "),an(t[s])){case"boolean":case"number":case"object":i+=t[s].toString();break;case"string":t[s].substr(0,1)!=="/"?(e!==void 0&&n&&(r=n.internal.getEncryptor(e)),i+="("+wu(r(t[s].toString()))+")"):i+=t[s].toString()}return i+"]"}throw new Error("Invalid argument passed to jsPDF.__acroform__.arrayToPdfArray")},Xg=function(t,e,n){var r=function(i){return i};return e!==void 0&&n&&(r=n.internal.getEncryptor(e)),(t=t||"").toString(),"("+wu(r(t))+")"},fo=function(){this._objId=void 0,this._scope=void 0,Object.defineProperty(this,"objId",{get:function(){if(this._objId===void 0){if(this.scope===void 0)return;this._objId=this.scope.internal.newObjectDeferred()}return this._objId},set:function(t){this._objId=t}}),Object.defineProperty(this,"scope",{value:this._scope,writable:!0})};fo.prototype.toString=function(){return this.objId+" 0 R"},fo.prototype.putStream=function(){var t=this.getKeyValueListForStream();this.scope.internal.putStream({data:this.stream,additionalKeyValues:t,objectId:this.objId}),this.scope.internal.out("endobj")},fo.prototype.getKeyValueListForStream=function(){var t=[],e=Object.getOwnPropertyNames(this).filter(function(s){return s!="content"&&s!="appearanceStreamContent"&&s!="scope"&&s!="objId"&&s.substring(0,1)!="_"});for(var n in e)if(Object.getOwnPropertyDescriptor(this,e[n]).configurable===!1){var r=e[n],i=this[r];i&&(Array.isArray(i)?t.push({key:r,value:oT(i,this.objId,this.scope)}):i instanceof fo?(i.scope=this.scope,t.push({key:r,value:i.objId+" 0 R"})):typeof i!="function"&&t.push({key:r,value:i}))}return t};var aT=function(){fo.call(this),Object.defineProperty(this,"Type",{value:"/XObject",configurable:!1,writable:!0}),Object.defineProperty(this,"Subtype",{value:"/Form",configurable:!1,writable:!0}),Object.defineProperty(this,"FormType",{value:1,configurable:!1,writable:!0});var t,e=[];Object.defineProperty(this,"BBox",{configurable:!1,get:function(){return e},set:function(n){e=n}}),Object.defineProperty(this,"Resources",{value:"2 0 R",configurable:!1,writable:!0}),Object.defineProperty(this,"stream",{enumerable:!1,configurable:!0,set:function(n){t=n.trim()},get:function(){return t||null}})};Ri(aT,fo);var lT=function(){fo.call(this);var t,e=[];Object.defineProperty(this,"Kids",{enumerable:!1,configurable:!0,get:function(){return e.length>0?e:void 0}}),Object.defineProperty(this,"Fields",{enumerable:!1,configurable:!1,get:function(){return e}}),Object.defineProperty(this,"DA",{enumerable:!1,configurable:!1,get:function(){if(t){var n=function(r){return r};return this.scope&&(n=this.scope.internal.getEncryptor(this.objId)),"("+wu(n(t))+")"}},set:function(n){t=n}})};Ri(lT,fo);var qs=function t(){fo.call(this);var e=4;Object.defineProperty(this,"F",{enumerable:!1,configurable:!1,get:function(){return e},set:function(v){if(isNaN(v))throw new Error('Invalid value "'+v+'" for attribute F supplied.');e=v}}),Object.defineProperty(this,"showWhenPrinted",{enumerable:!0,configurable:!0,get:function(){return!!sr(e,3)},set:function(v){v?this.F=or(e,3):this.F=ar(e,3)}});var n=0;Object.defineProperty(this,"Ff",{enumerable:!1,configurable:!1,get:function(){return n},set:function(v){if(isNaN(v))throw new Error('Invalid value "'+v+'" for attribute Ff supplied.');n=v}});var r=[];Object.defineProperty(this,"Rect",{enumerable:!1,configurable:!1,get:function(){if(r.length!==0)return r},set:function(v){r=v!==void 0?v:[]}}),Object.defineProperty(this,"x",{enumerable:!0,configurable:!0,get:function(){return!r||isNaN(r[0])?0:r[0]},set:function(v){r[0]=v}}),Object.defineProperty(this,"y",{enumerable:!0,configurable:!0,get:function(){return!r||isNaN(r[1])?0:r[1]},set:function(v){r[1]=v}}),Object.defineProperty(this,"width",{enumerable:!0,configurable:!0,get:function(){return!r||isNaN(r[2])?0:r[2]},set:function(v){r[2]=v}}),Object.defineProperty(this,"height",{enumerable:!0,configurable:!0,get:function(){return!r||isNaN(r[3])?0:r[3]},set:function(v){r[3]=v}});var i="";Object.defineProperty(this,"FT",{enumerable:!0,configurable:!1,get:function(){return i},set:function(v){switch(v){case"/Btn":case"/Tx":case"/Ch":case"/Sig":i=v;break;default:throw new Error('Invalid value "'+v+'" for attribute FT supplied.')}}});var s=null;Object.defineProperty(this,"T",{enumerable:!0,configurable:!1,get:function(){if(!s||s.length<1){if(this instanceof Im)return;s="FieldObject"+t.FieldNum++}var v=function(_){return _};return this.scope&&(v=this.scope.internal.getEncryptor(this.objId)),"("+wu(v(s))+")"},set:function(v){s=v.toString()}}),Object.defineProperty(this,"fieldName",{configurable:!0,enumerable:!0,get:function(){return s},set:function(v){s=v}});var o="helvetica";Object.defineProperty(this,"fontName",{enumerable:!0,configurable:!0,get:function(){return o},set:function(v){o=v}});var a="normal";Object.defineProperty(this,"fontStyle",{enumerable:!0,configurable:!0,get:function(){return a},set:function(v){a=v}});var l=0;Object.defineProperty(this,"fontSize",{enumerable:!0,configurable:!0,get:function(){return l},set:function(v){l=v}});var u=void 0;Object.defineProperty(this,"maxFontSize",{enumerable:!0,configurable:!0,get:function(){return u===void 0?50/P5:u},set:function(v){u=v}});var c="black";Object.defineProperty(this,"color",{enumerable:!0,configurable:!0,get:function(){return c},set:function(v){c=v}});var d="/F1 0 Tf 0 g";Object.defineProperty(this,"DA",{enumerable:!0,configurable:!1,get:function(){if(!(!d||this instanceof Im||this instanceof eu))return Xg(d,this.objId,this.scope)},set:function(v){v=v.toString(),d=v}});var g=null;Object.defineProperty(this,"DV",{enumerable:!1,configurable:!1,get:function(){if(g)return this instanceof Er==0?Xg(g,this.objId,this.scope):g},set:function(v){v=v.toString(),g=this instanceof Er==0?v.substr(0,1)==="("?Cu(v.substr(1,v.length-2)):Cu(v):v}}),Object.defineProperty(this,"defaultValue",{enumerable:!0,configurable:!0,get:function(){return this instanceof Er==1?Cu(g.substr(1,g.length-1)):g},set:function(v){v=v.toString(),g=this instanceof Er==1?"/"+v:v}});var m=null;Object.defineProperty(this,"_V",{enumerable:!1,configurable:!1,get:function(){if(m)return m},set:function(v){this.V=v}}),Object.defineProperty(this,"V",{enumerable:!1,configurable:!1,get:function(){if(m)return this instanceof Er==0?Xg(m,this.objId,this.scope):m},set:function(v){v=v.toString(),m=this instanceof Er==0?v.substr(0,1)==="("?Cu(v.substr(1,v.length-2)):Cu(v):v}}),Object.defineProperty(this,"value",{enumerable:!0,configurable:!0,get:function(){return this instanceof Er==1?Cu(m.substr(1,m.length-1)):m},set:function(v){v=v.toString(),m=this instanceof Er==1?"/"+v:v}}),Object.defineProperty(this,"hasAnnotation",{enumerable:!0,configurable:!0,get:function(){return this.Rect}}),Object.defineProperty(this,"Type",{enumerable:!0,configurable:!1,get:function(){return this.hasAnnotation?"/Annot":null}}),Object.defineProperty(this,"Subtype",{enumerable:!0,configurable:!1,get:function(){return this.hasAnnotation?"/Widget":null}});var b,x=!1;Object.defineProperty(this,"hasAppearanceStream",{enumerable:!0,configurable:!0,get:function(){return x},set:function(v){v=!!v,x=v}}),Object.defineProperty(this,"page",{enumerable:!0,configurable:!0,get:function(){if(b)return b},set:function(v){b=v}}),Object.defineProperty(this,"readOnly",{enumerable:!0,configurable:!0,get:function(){return!!sr(this.Ff,1)},set:function(v){v?this.Ff=or(this.Ff,1):this.Ff=ar(this.Ff,1)}}),Object.defineProperty(this,"required",{enumerable:!0,configurable:!0,get:function(){return!!sr(this.Ff,2)},set:function(v){v?this.Ff=or(this.Ff,2):this.Ff=ar(this.Ff,2)}}),Object.defineProperty(this,"noExport",{enumerable:!0,configurable:!0,get:function(){return!!sr(this.Ff,3)},set:function(v){v?this.Ff=or(this.Ff,3):this.Ff=ar(this.Ff,3)}});var A=null;Object.defineProperty(this,"Q",{enumerable:!0,configurable:!1,get:function(){if(A!==null)return A},set:function(v){if([0,1,2].indexOf(v)===-1)throw new Error('Invalid value "'+v+'" for attribute Q supplied.');A=v}}),Object.defineProperty(this,"textAlign",{get:function(){var v;switch(A){case 0:default:v="left";break;case 1:v="center";break;case 2:v="right"}return v},configurable:!0,enumerable:!0,set:function(v){switch(v){case"right":case 2:A=2;break;case"center":case 1:A=1;break;default:A=0}}})};Ri(qs,fo);var lc=function(){qs.call(this),this.FT="/Ch",this.V="()",this.fontName="zapfdingbats";var t=0;Object.defineProperty(this,"TI",{enumerable:!0,configurable:!1,get:function(){return t},set:function(n){t=n}}),Object.defineProperty(this,"topIndex",{enumerable:!0,configurable:!0,get:function(){return t},set:function(n){t=n}});var e=[];Object.defineProperty(this,"Opt",{enumerable:!0,configurable:!1,get:function(){return oT(e,this.objId,this.scope)},set:function(n){var r,i;i=[],typeof(r=n)=="string"&&(i=function(s,o,a){a||(a=1);for(var l,u=[];l=o.exec(s);)u.push(l[a]);return u}(r,/\((.*?)\)/g)),e=i}}),this.getOptions=function(){return e},this.setOptions=function(n){e=n,this.sort&&e.sort()},this.addOption=function(n){n=(n=n||"").toString(),e.push(n),this.sort&&e.sort()},this.removeOption=function(n,r){for(r=r||!1,n=(n=n||"").toString();e.indexOf(n)!==-1&&(e.splice(e.indexOf(n),1),r!==!1););},Object.defineProperty(this,"combo",{enumerable:!0,configurable:!0,get:function(){return!!sr(this.Ff,18)},set:function(n){n?this.Ff=or(this.Ff,18):this.Ff=ar(this.Ff,18)}}),Object.defineProperty(this,"edit",{enumerable:!0,configurable:!0,get:function(){return!!sr(this.Ff,19)},set:function(n){this.combo===!0&&(n?this.Ff=or(this.Ff,19):this.Ff=ar(this.Ff,19))}}),Object.defineProperty(this,"sort",{enumerable:!0,configurable:!0,get:function(){return!!sr(this.Ff,20)},set:function(n){n?(this.Ff=or(this.Ff,20),e.sort()):this.Ff=ar(this.Ff,20)}}),Object.defineProperty(this,"multiSelect",{enumerable:!0,configurable:!0,get:function(){return!!sr(this.Ff,22)},set:function(n){n?this.Ff=or(this.Ff,22):this.Ff=ar(this.Ff,22)}}),Object.defineProperty(this,"doNotSpellCheck",{enumerable:!0,configurable:!0,get:function(){return!!sr(this.Ff,23)},set:function(n){n?this.Ff=or(this.Ff,23):this.Ff=ar(this.Ff,23)}}),Object.defineProperty(this,"commitOnSelChange",{enumerable:!0,configurable:!0,get:function(){return!!sr(this.Ff,27)},set:function(n){n?this.Ff=or(this.Ff,27):this.Ff=ar(this.Ff,27)}}),this.hasAppearanceStream=!1};Ri(lc,qs);var uc=function(){lc.call(this),this.fontName="helvetica",this.combo=!1};Ri(uc,lc);var cc=function(){uc.call(this),this.combo=!0};Ri(cc,uc);var Ip=function(){cc.call(this),this.edit=!0};Ri(Ip,cc);var Er=function(){qs.call(this),this.FT="/Btn",Object.defineProperty(this,"noToggleToOff",{enumerable:!0,configurable:!0,get:function(){return!!sr(this.Ff,15)},set:function(n){n?this.Ff=or(this.Ff,15):this.Ff=ar(this.Ff,15)}}),Object.defineProperty(this,"radio",{enumerable:!0,configurable:!0,get:function(){return!!sr(this.Ff,16)},set:function(n){n?this.Ff=or(this.Ff,16):this.Ff=ar(this.Ff,16)}}),Object.defineProperty(this,"pushButton",{enumerable:!0,configurable:!0,get:function(){return!!sr(this.Ff,17)},set:function(n){n?this.Ff=or(this.Ff,17):this.Ff=ar(this.Ff,17)}}),Object.defineProperty(this,"radioIsUnison",{enumerable:!0,configurable:!0,get:function(){return!!sr(this.Ff,26)},set:function(n){n?this.Ff=or(this.Ff,26):this.Ff=ar(this.Ff,26)}});var t,e={};Object.defineProperty(this,"MK",{enumerable:!1,configurable:!1,get:function(){var n=function(s){return s};if(this.scope&&(n=this.scope.internal.getEncryptor(this.objId)),Object.keys(e).length!==0){var r,i=[];for(r in i.push("<<"),e)i.push("/"+r+" ("+wu(n(e[r]))+")");return i.push(">>"),i.join(`
`)}},set:function(n){an(n)==="object"&&(e=n)}}),Object.defineProperty(this,"caption",{enumerable:!0,configurable:!0,get:function(){return e.CA||""},set:function(n){typeof n=="string"&&(e.CA=n)}}),Object.defineProperty(this,"AS",{enumerable:!1,configurable:!1,get:function(){return t},set:function(n){t=n}}),Object.defineProperty(this,"appearanceState",{enumerable:!0,configurable:!0,get:function(){return t.substr(1,t.length-1)},set:function(n){t="/"+n}})};Ri(Er,qs);var Lp=function(){Er.call(this),this.pushButton=!0};Ri(Lp,Er);var hc=function(){Er.call(this),this.radio=!0,this.pushButton=!1;var t=[];Object.defineProperty(this,"Kids",{enumerable:!0,configurable:!1,get:function(){return t},set:function(e){t=e!==void 0?e:[]}})};Ri(hc,Er);var Im=function(){var t,e;qs.call(this),Object.defineProperty(this,"Parent",{enumerable:!1,configurable:!1,get:function(){return t},set:function(i){t=i}}),Object.defineProperty(this,"optionName",{enumerable:!1,configurable:!0,get:function(){return e},set:function(i){e=i}});var n,r={};Object.defineProperty(this,"MK",{enumerable:!1,configurable:!1,get:function(){var i=function(a){return a};this.scope&&(i=this.scope.internal.getEncryptor(this.objId));var s,o=[];for(s in o.push("<<"),r)o.push("/"+s+" ("+wu(i(r[s]))+")");return o.push(">>"),o.join(`
`)},set:function(i){an(i)==="object"&&(r=i)}}),Object.defineProperty(this,"caption",{enumerable:!0,configurable:!0,get:function(){return r.CA||""},set:function(i){typeof i=="string"&&(r.CA=i)}}),Object.defineProperty(this,"AS",{enumerable:!1,configurable:!1,get:function(){return n},set:function(i){n=i}}),Object.defineProperty(this,"appearanceState",{enumerable:!0,configurable:!0,get:function(){return n.substr(1,n.length-1)},set:function(i){n="/"+i}}),this.caption="l",this.appearanceState="Off",this._AppearanceType=Ke.RadioButton.Circle,this.appearanceStreamContent=this._AppearanceType.createAppearanceStream(this.optionName)};Ri(Im,qs),hc.prototype.setAppearance=function(t){if(!("createAppearanceStream"in t)||!("getCA"in t))throw new Error("Couldn't assign Appearance to RadioButton. Appearance was Invalid!");for(var e in this.Kids)if(this.Kids.hasOwnProperty(e)){var n=this.Kids[e];n.appearanceStreamContent=t.createAppearanceStream(n.optionName),n.caption=t.getCA()}},hc.prototype.createOption=function(t){var e=new Im;return e.Parent=this,e.optionName=t,this.Kids.push(e),kq.call(this.scope,e),e};var Rp=function(){Er.call(this),this.fontName="zapfdingbats",this.caption="3",this.appearanceState="On",this.value="On",this.textAlign="center",this.appearanceStreamContent=Ke.CheckBox.createAppearanceStream()};Ri(Rp,Er);var eu=function(){qs.call(this),this.FT="/Tx",Object.defineProperty(this,"multiline",{enumerable:!0,configurable:!0,get:function(){return!!sr(this.Ff,13)},set:function(e){e?this.Ff=or(this.Ff,13):this.Ff=ar(this.Ff,13)}}),Object.defineProperty(this,"fileSelect",{enumerable:!0,configurable:!0,get:function(){return!!sr(this.Ff,21)},set:function(e){e?this.Ff=or(this.Ff,21):this.Ff=ar(this.Ff,21)}}),Object.defineProperty(this,"doNotSpellCheck",{enumerable:!0,configurable:!0,get:function(){return!!sr(this.Ff,23)},set:function(e){e?this.Ff=or(this.Ff,23):this.Ff=ar(this.Ff,23)}}),Object.defineProperty(this,"doNotScroll",{enumerable:!0,configurable:!0,get:function(){return!!sr(this.Ff,24)},set:function(e){e?this.Ff=or(this.Ff,24):this.Ff=ar(this.Ff,24)}}),Object.defineProperty(this,"comb",{enumerable:!0,configurable:!0,get:function(){return!!sr(this.Ff,25)},set:function(e){e?this.Ff=or(this.Ff,25):this.Ff=ar(this.Ff,25)}}),Object.defineProperty(this,"richText",{enumerable:!0,configurable:!0,get:function(){return!!sr(this.Ff,26)},set:function(e){e?this.Ff=or(this.Ff,26):this.Ff=ar(this.Ff,26)}});var t=null;Object.defineProperty(this,"MaxLen",{enumerable:!0,configurable:!1,get:function(){return t},set:function(e){t=e}}),Object.defineProperty(this,"maxLength",{enumerable:!0,configurable:!0,get:function(){return t},set:function(e){Number.isInteger(e)&&(t=e)}}),Object.defineProperty(this,"hasAppearanceStream",{enumerable:!0,configurable:!0,get:function(){return this.V||this.DV}})};Ri(eu,qs);var jp=function(){eu.call(this),Object.defineProperty(this,"password",{enumerable:!0,configurable:!0,get:function(){return!!sr(this.Ff,14)},set:function(t){t?this.Ff=or(this.Ff,14):this.Ff=ar(this.Ff,14)}}),this.password=!0};Ri(jp,eu);var Ke={CheckBox:{createAppearanceStream:function(){return{N:{On:Ke.CheckBox.YesNormal},D:{On:Ke.CheckBox.YesPushDown,Off:Ke.CheckBox.OffPushDown}}},YesPushDown:function(t){var e=uo(t);e.scope=t.scope;var n=[],r=t.scope.internal.getFont(t.fontName,t.fontStyle).id,i=t.scope.__private__.encodeColorString(t.color),s=ny(t,t.caption);return n.push("0.749023 g"),n.push("0 0 "+At(Ke.internal.getWidth(t))+" "+At(Ke.internal.getHeight(t))+" re"),n.push("f"),n.push("BMC"),n.push("q"),n.push("0 0 1 rg"),n.push("/"+r+" "+At(s.fontSize)+" Tf "+i),n.push("BT"),n.push(s.text),n.push("ET"),n.push("Q"),n.push("EMC"),e.stream=n.join(`
`),e},YesNormal:function(t){var e=uo(t);e.scope=t.scope;var n=t.scope.internal.getFont(t.fontName,t.fontStyle).id,r=t.scope.__private__.encodeColorString(t.color),i=[],s=Ke.internal.getHeight(t),o=Ke.internal.getWidth(t),a=ny(t,t.caption);return i.push("1 g"),i.push("0 0 "+At(o)+" "+At(s)+" re"),i.push("f"),i.push("q"),i.push("0 0 1 rg"),i.push("0 0 "+At(o-1)+" "+At(s-1)+" re"),i.push("W"),i.push("n"),i.push("0 g"),i.push("BT"),i.push("/"+n+" "+At(a.fontSize)+" Tf "+r),i.push(a.text),i.push("ET"),i.push("Q"),e.stream=i.join(`
`),e},OffPushDown:function(t){var e=uo(t);e.scope=t.scope;var n=[];return n.push("0.749023 g"),n.push("0 0 "+At(Ke.internal.getWidth(t))+" "+At(Ke.internal.getHeight(t))+" re"),n.push("f"),e.stream=n.join(`
`),e}},RadioButton:{Circle:{createAppearanceStream:function(t){var e={D:{Off:Ke.RadioButton.Circle.OffPushDown},N:{}};return e.N[t]=Ke.RadioButton.Circle.YesNormal,e.D[t]=Ke.RadioButton.Circle.YesPushDown,e},getCA:function(){return"l"},YesNormal:function(t){var e=uo(t);e.scope=t.scope;var n=[],r=Ke.internal.getWidth(t)<=Ke.internal.getHeight(t)?Ke.internal.getWidth(t)/4:Ke.internal.getHeight(t)/4;r=Number((.9*r).toFixed(5));var i=Ke.internal.Bezier_C,s=Number((r*i).toFixed(5));return n.push("q"),n.push("1 0 0 1 "+Ia(Ke.internal.getWidth(t)/2)+" "+Ia(Ke.internal.getHeight(t)/2)+" cm"),n.push(r+" 0 m"),n.push(r+" "+s+" "+s+" "+r+" 0 "+r+" c"),n.push("-"+s+" "+r+" -"+r+" "+s+" -"+r+" 0 c"),n.push("-"+r+" -"+s+" -"+s+" -"+r+" 0 -"+r+" c"),n.push(s+" -"+r+" "+r+" -"+s+" "+r+" 0 c"),n.push("f"),n.push("Q"),e.stream=n.join(`
`),e},YesPushDown:function(t){var e=uo(t);e.scope=t.scope;var n=[],r=Ke.internal.getWidth(t)<=Ke.internal.getHeight(t)?Ke.internal.getWidth(t)/4:Ke.internal.getHeight(t)/4;r=Number((.9*r).toFixed(5));var i=Number((2*r).toFixed(5)),s=Number((i*Ke.internal.Bezier_C).toFixed(5)),o=Number((r*Ke.internal.Bezier_C).toFixed(5));return n.push("0.749023 g"),n.push("q"),n.push("1 0 0 1 "+Ia(Ke.internal.getWidth(t)/2)+" "+Ia(Ke.internal.getHeight(t)/2)+" cm"),n.push(i+" 0 m"),n.push(i+" "+s+" "+s+" "+i+" 0 "+i+" c"),n.push("-"+s+" "+i+" -"+i+" "+s+" -"+i+" 0 c"),n.push("-"+i+" -"+s+" -"+s+" -"+i+" 0 -"+i+" c"),n.push(s+" -"+i+" "+i+" -"+s+" "+i+" 0 c"),n.push("f"),n.push("Q"),n.push("0 g"),n.push("q"),n.push("1 0 0 1 "+Ia(Ke.internal.getWidth(t)/2)+" "+Ia(Ke.internal.getHeight(t)/2)+" cm"),n.push(r+" 0 m"),n.push(r+" "+o+" "+o+" "+r+" 0 "+r+" c"),n.push("-"+o+" "+r+" -"+r+" "+o+" -"+r+" 0 c"),n.push("-"+r+" -"+o+" -"+o+" -"+r+" 0 -"+r+" c"),n.push(o+" -"+r+" "+r+" -"+o+" "+r+" 0 c"),n.push("f"),n.push("Q"),e.stream=n.join(`
`),e},OffPushDown:function(t){var e=uo(t);e.scope=t.scope;var n=[],r=Ke.internal.getWidth(t)<=Ke.internal.getHeight(t)?Ke.internal.getWidth(t)/4:Ke.internal.getHeight(t)/4;r=Number((.9*r).toFixed(5));var i=Number((2*r).toFixed(5)),s=Number((i*Ke.internal.Bezier_C).toFixed(5));return n.push("0.749023 g"),n.push("q"),n.push("1 0 0 1 "+Ia(Ke.internal.getWidth(t)/2)+" "+Ia(Ke.internal.getHeight(t)/2)+" cm"),n.push(i+" 0 m"),n.push(i+" "+s+" "+s+" "+i+" 0 "+i+" c"),n.push("-"+s+" "+i+" -"+i+" "+s+" -"+i+" 0 c"),n.push("-"+i+" -"+s+" -"+s+" -"+i+" 0 -"+i+" c"),n.push(s+" -"+i+" "+i+" -"+s+" "+i+" 0 c"),n.push("f"),n.push("Q"),e.stream=n.join(`
`),e}},Cross:{createAppearanceStream:function(t){var e={D:{Off:Ke.RadioButton.Cross.OffPushDown},N:{}};return e.N[t]=Ke.RadioButton.Cross.YesNormal,e.D[t]=Ke.RadioButton.Cross.YesPushDown,e},getCA:function(){return"8"},YesNormal:function(t){var e=uo(t);e.scope=t.scope;var n=[],r=Ke.internal.calculateCross(t);return n.push("q"),n.push("1 1 "+At(Ke.internal.getWidth(t)-2)+" "+At(Ke.internal.getHeight(t)-2)+" re"),n.push("W"),n.push("n"),n.push(At(r.x1.x)+" "+At(r.x1.y)+" m"),n.push(At(r.x2.x)+" "+At(r.x2.y)+" l"),n.push(At(r.x4.x)+" "+At(r.x4.y)+" m"),n.push(At(r.x3.x)+" "+At(r.x3.y)+" l"),n.push("s"),n.push("Q"),e.stream=n.join(`
`),e},YesPushDown:function(t){var e=uo(t);e.scope=t.scope;var n=Ke.internal.calculateCross(t),r=[];return r.push("0.749023 g"),r.push("0 0 "+At(Ke.internal.getWidth(t))+" "+At(Ke.internal.getHeight(t))+" re"),r.push("f"),r.push("q"),r.push("1 1 "+At(Ke.internal.getWidth(t)-2)+" "+At(Ke.internal.getHeight(t)-2)+" re"),r.push("W"),r.push("n"),r.push(At(n.x1.x)+" "+At(n.x1.y)+" m"),r.push(At(n.x2.x)+" "+At(n.x2.y)+" l"),r.push(At(n.x4.x)+" "+At(n.x4.y)+" m"),r.push(At(n.x3.x)+" "+At(n.x3.y)+" l"),r.push("s"),r.push("Q"),e.stream=r.join(`
`),e},OffPushDown:function(t){var e=uo(t);e.scope=t.scope;var n=[];return n.push("0.749023 g"),n.push("0 0 "+At(Ke.internal.getWidth(t))+" "+At(Ke.internal.getHeight(t))+" re"),n.push("f"),e.stream=n.join(`
`),e}}},createDefaultAppearanceStream:function(t){var e=t.scope.internal.getFont(t.fontName,t.fontStyle).id,n=t.scope.__private__.encodeColorString(t.color);return"/"+e+" "+t.fontSize+" Tf "+n}};Ke.internal={Bezier_C:.551915024494,calculateCross:function(t){var e=Ke.internal.getWidth(t),n=Ke.internal.getHeight(t),r=Math.min(e,n);return{x1:{x:(e-r)/2,y:(n-r)/2+r},x2:{x:(e-r)/2+r,y:(n-r)/2},x3:{x:(e-r)/2,y:(n-r)/2},x4:{x:(e-r)/2+r,y:(n-r)/2+r}}}},Ke.internal.getWidth=function(t){var e=0;return an(t)==="object"&&(e=Q3(t.Rect[2])),e},Ke.internal.getHeight=function(t){var e=0;return an(t)==="object"&&(e=Q3(t.Rect[3])),e};var kq=Hn.addField=function(t){if(Pq(this,t),!(t instanceof qs))throw new Error("Invalid argument passed to jsPDF.addField.");var e;return(e=t).scope.internal.acroformPlugin.printedOut&&(e.scope.internal.acroformPlugin.printedOut=!1,e.scope.internal.acroformPlugin.acroFormDictionaryRoot=null),e.scope.internal.acroformPlugin.acroFormDictionaryRoot.Fields.push(e),t.page=t.scope.internal.getCurrentPageInfo().pageNumber,this};Hn.AcroFormChoiceField=lc,Hn.AcroFormListBox=uc,Hn.AcroFormComboBox=cc,Hn.AcroFormEditBox=Ip,Hn.AcroFormButton=Er,Hn.AcroFormPushButton=Lp,Hn.AcroFormRadioButton=hc,Hn.AcroFormCheckBox=Rp,Hn.AcroFormTextField=eu,Hn.AcroFormPasswordField=jp,Hn.AcroFormAppearance=Ke,Hn.AcroForm={ChoiceField:lc,ListBox:uc,ComboBox:cc,EditBox:Ip,Button:Er,PushButton:Lp,RadioButton:hc,CheckBox:Rp,TextField:eu,PasswordField:jp,Appearance:Ke},st.AcroForm={ChoiceField:lc,ListBox:uc,ComboBox:cc,EditBox:Ip,Button:Er,PushButton:Lp,RadioButton:hc,CheckBox:Rp,TextField:eu,PasswordField:jp,Appearance:Ke};st.AcroForm;function uT(t){return t.reduce(function(e,n,r){return e[n]=r,e},{})}(function(t){var e="addImage_";t.__addimage__={};var n="UNKNOWN",r={PNG:[[137,80,78,71]],TIFF:[[77,77,0,42],[73,73,42,0]],JPEG:[[255,216,255,224,void 0,void 0,74,70,73,70,0],[255,216,255,225,void 0,void 0,69,120,105,102,0,0],[255,216,255,219],[255,216,255,238]],JPEG2000:[[0,0,0,12,106,80,32,32]],GIF87a:[[71,73,70,56,55,97]],GIF89a:[[71,73,70,56,57,97]],WEBP:[[82,73,70,70,void 0,void 0,void 0,void 0,87,69,66,80]],BMP:[[66,77],[66,65],[67,73],[67,80],[73,67],[80,84]]},i=t.__addimage__.getImageFileTypeByImageData=function(T,I){var D,H,ne,ue,ae,ee=n;if((I=I||n)==="RGBA"||T.data!==void 0&&T.data instanceof Uint8ClampedArray&&"height"in T&&"width"in T)return"RGBA";if(Y(T))for(ae in r)for(ne=r[ae],D=0;D<ne.length;D+=1){for(ue=!0,H=0;H<ne[D].length;H+=1)if(ne[D][H]!==void 0&&ne[D][H]!==T[H]){ue=!1;break}if(ue===!0){ee=ae;break}}else for(ae in r)for(ne=r[ae],D=0;D<ne.length;D+=1){for(ue=!0,H=0;H<ne[D].length;H+=1)if(ne[D][H]!==void 0&&ne[D][H]!==T.charCodeAt(H)){ue=!1;break}if(ue===!0){ee=ae;break}}return ee===n&&I!==n&&(ee=I),ee},s=function T(I){for(var D=this.internal.write,H=this.internal.putStream,ne=(0,this.internal.getFilters)();ne.indexOf("FlateEncode")!==-1;)ne.splice(ne.indexOf("FlateEncode"),1);I.objectId=this.internal.newObject();var ue=[];if(ue.push({key:"Type",value:"/XObject"}),ue.push({key:"Subtype",value:"/Image"}),ue.push({key:"Width",value:I.width}),ue.push({key:"Height",value:I.height}),I.colorSpace===v.INDEXED?ue.push({key:"ColorSpace",value:"[/Indexed /DeviceRGB "+(I.palette.length/3-1)+" "+("sMask"in I&&I.sMask!==void 0?I.objectId+2:I.objectId+1)+" 0 R]"}):(ue.push({key:"ColorSpace",value:"/"+I.colorSpace}),I.colorSpace===v.DEVICE_CMYK&&ue.push({key:"Decode",value:"[1 0 1 0 1 0 1 0]"})),ue.push({key:"BitsPerComponent",value:I.bitsPerComponent}),"decodeParameters"in I&&I.decodeParameters!==void 0&&ue.push({key:"DecodeParms",value:"<<"+I.decodeParameters+">>"}),"transparency"in I&&Array.isArray(I.transparency)&&I.transparency.length>0){for(var ae="",ee=0,se=I.transparency.length;ee<se;ee++)ae+=I.transparency[ee]+" "+I.transparency[ee]+" ";ue.push({key:"Mask",value:"["+ae+"]"})}I.sMask!==void 0&&ue.push({key:"SMask",value:I.objectId+1+" 0 R"});var ye=I.filter!==void 0?["/"+I.filter]:void 0;if(H({data:I.data,additionalKeyValues:ue,alreadyAppliedFilters:ye,objectId:I.objectId}),D("endobj"),"sMask"in I&&I.sMask!==void 0){var Se,V=(Se=I.sMaskBitsPerComponent)!==null&&Se!==void 0?Se:I.bitsPerComponent,Q={width:I.width,height:I.height,colorSpace:"DeviceGray",bitsPerComponent:V,data:I.sMask};"filter"in I&&(Q.decodeParameters="/Predictor ".concat(I.predictor," /Colors 1 /BitsPerComponent ").concat(V," /Columns ").concat(I.width),Q.filter=I.filter),T.call(this,Q)}if(I.colorSpace===v.INDEXED){var te=this.internal.newObject();H({data:C(new Uint8Array(I.palette)),objectId:te}),D("endobj")}},o=function(){var T=this.internal.collections[e+"images"];for(var I in T)s.call(this,T[I])},a=function(){var T,I=this.internal.collections[e+"images"],D=this.internal.write;for(var H in I)D("/I"+(T=I[H]).index,T.objectId,"0","R")},l=function(){this.internal.collections[e+"images"]||(this.internal.collections[e+"images"]={},this.internal.events.subscribe("putResources",o),this.internal.events.subscribe("putXobjectDict",a))},u=function(){var T=this.internal.collections[e+"images"];return l.call(this),T},c=function(){return Object.keys(this.internal.collections[e+"images"]).length},d=function(T){return typeof t["process"+T.toUpperCase()]=="function"},g=function(T){return an(T)==="object"&&T.nodeType===1},m=function(T,I){if(T.nodeName==="IMG"&&T.hasAttribute("src")){var D=""+T.getAttribute("src");if(D.indexOf("data:image/")===0)return kp(unescape(D).split("base64,").pop());var H=t.loadFile(D,!0);if(H!==void 0)return H}if(T.nodeName==="CANVAS"){if(T.width===0||T.height===0)throw new Error("Given canvas must have data. Canvas width: "+T.width+", height: "+T.height);var ne;switch(I){case"PNG":ne="image/png";break;case"WEBP":ne="image/webp";break;default:ne="image/jpeg"}return kp(T.toDataURL(ne,1).split("base64,").pop())}},b=function(T){var I=this.internal.collections[e+"images"];if(I){for(var D in I)if(T===I[D].alias)return I[D]}},x=function(T,I,D){return T||I||(T=-96,I=-96),T<0&&(T=-1*D.width*72/T/this.internal.scaleFactor),I<0&&(I=-1*D.height*72/I/this.internal.scaleFactor),T===0&&(T=I*D.width/D.height),I===0&&(I=T*D.height/D.width),[T,I]},A=function(T,I,D,H,ne,ue){var ae=x.call(this,D,H,ne),ee=this.internal.getCoordinateString,se=this.internal.getVerticalCoordinateString,ye=u.call(this);if(D=ae[0],H=ae[1],ye[ne.index]=ne,ue){ue*=Math.PI/180;var Se=Math.cos(ue),V=Math.sin(ue),Q=function(ie){return ie.toFixed(4)},te=[Q(Se),Q(V),Q(-1*V),Q(Se),0,0,"cm"]}this.internal.write("q"),ue?(this.internal.write([1,"0","0",1,ee(T),se(I+H),"cm"].join(" ")),this.internal.write(te.join(" ")),this.internal.write([ee(D),"0","0",ee(H),"0","0","cm"].join(" "))):this.internal.write([ee(D),"0","0",ee(H),ee(T),se(I+H),"cm"].join(" ")),this.isAdvancedAPI()&&this.internal.write([1,0,0,-1,0,0,"cm"].join(" ")),this.internal.write("/I"+ne.index+" Do"),this.internal.write("Q")},v=t.color_spaces={DEVICE_RGB:"DeviceRGB",DEVICE_GRAY:"DeviceGray",DEVICE_CMYK:"DeviceCMYK",CAL_GREY:"CalGray",CAL_RGB:"CalRGB",LAB:"Lab",ICC_BASED:"ICCBased",INDEXED:"Indexed",PATTERN:"Pattern",SEPARATION:"Separation",DEVICE_N:"DeviceN"};t.decode={DCT_DECODE:"DCTDecode",FLATE_DECODE:"FlateDecode",LZW_DECODE:"LZWDecode",JPX_DECODE:"JPXDecode",JBIG2_DECODE:"JBIG2Decode",ASCII85_DECODE:"ASCII85Decode",ASCII_HEX_DECODE:"ASCIIHexDecode",RUN_LENGTH_DECODE:"RunLengthDecode",CCITT_FAX_DECODE:"CCITTFaxDecode"};var _=t.image_compression={NONE:"NONE",FAST:"FAST",MEDIUM:"MEDIUM",SLOW:"SLOW"},E=t.__addimage__.sHashCode=function(T){var I,D,H=0;if(typeof T=="string")for(D=T.length,I=0;I<D;I++)H=(H<<5)-H+T.charCodeAt(I),H|=0;else if(Y(T))for(D=T.byteLength/2,I=0;I<D;I++)H=(H<<5)-H+T[I],H|=0;return H},L=t.__addimage__.validateStringAsBase64=function(T){(T=T||"").toString().trim();var I=!0;return T.length===0&&(I=!1),T.length%4!=0&&(I=!1),/^[A-Za-z0-9+/]+$/.test(T.substr(0,T.length-2))===!1&&(I=!1),/^[A-Za-z0-9/][A-Za-z0-9+/]|[A-Za-z0-9+/]=|==$/.test(T.substr(-2))===!1&&(I=!1),I},z=t.__addimage__.extractImageFromDataUrl=function(T){if(T==null||!(T=T.trim()).startsWith("data:"))return null;var I=T.indexOf(",");return I<0?null:T.substring(0,I).trim().endsWith("base64")?T.substring(I+1):null};t.__addimage__.isArrayBuffer=function(T){return T instanceof ArrayBuffer};var Y=t.__addimage__.isArrayBufferView=function(T){return T instanceof Int8Array||T instanceof Uint8Array||T instanceof Uint8ClampedArray||T instanceof Int16Array||T instanceof Uint16Array||T instanceof Int32Array||T instanceof Uint32Array||T instanceof Float32Array||T instanceof Float64Array},R=t.__addimage__.binaryStringToUint8Array=function(T){for(var I=T.length,D=new Uint8Array(I),H=0;H<I;H++)D[H]=T.charCodeAt(H);return D},C=t.__addimage__.arrayBufferToBinaryString=function(T){for(var I="",D=Y(T)?T:new Uint8Array(T),H=0;H<D.length;H+=8192)I+=String.fromCharCode.apply(null,D.subarray(H,H+8192));return I};t.addImage=function(){var T,I,D,H,ne,ue,ae,ee,se;if(typeof arguments[1]=="number"?(I=n,D=arguments[1],H=arguments[2],ne=arguments[3],ue=arguments[4],ae=arguments[5],ee=arguments[6],se=arguments[7]):(I=arguments[1],D=arguments[2],H=arguments[3],ne=arguments[4],ue=arguments[5],ae=arguments[6],ee=arguments[7],se=arguments[8]),an(T=arguments[0])==="object"&&!g(T)&&"imageData"in T){var ye=T;T=ye.imageData,I=ye.format||I||n,D=ye.x||D||0,H=ye.y||H||0,ne=ye.w||ye.width||ne,ue=ye.h||ye.height||ue,ae=ye.alias||ae,ee=ye.compression||ee,se=ye.rotation||ye.angle||se}var Se=this.internal.getFilters();if(ee===void 0&&Se.indexOf("FlateEncode")!==-1&&(ee="SLOW"),isNaN(D)||isNaN(H))throw new Error("Invalid coordinates passed to jsPDF.addImage");l.call(this);var V=k.call(this,T,I,ae,ee);return A.call(this,D,H,ne,ue,V,se),this};var k=function(T,I,D,H){var ne,ue,ae;if(typeof T=="string"&&i(T)===n){T=unescape(T);var ee=M(T,!1);(ee!==""||(ee=t.loadFile(T,!0))!==void 0)&&(T=ee)}if(g(T)&&(T=m(T,I)),I=i(T,I),!d(I))throw new Error("addImage does not support files of type '"+I+"', please ensure that a plugin for '"+I+"' support is added.");if(((ae=D)==null||ae.length===0)&&(D=function(se){return typeof se=="string"||Y(se)?E(se):Y(se.data)?E(se.data):null}(T)),(ne=b.call(this,D))||(T instanceof Uint8Array||I==="RGBA"||(ue=T,T=R(T)),ne=this["process"+I.toUpperCase()](T,c.call(this),D,function(se){return se&&typeof se=="string"&&(se=se.toUpperCase()),se in t.image_compression?se:_.NONE}(H),ue)),!ne)throw new Error("An unknown error occurred whilst processing the image.");return ne},M=t.__addimage__.convertBase64ToBinaryString=function(T,I){I=typeof I!="boolean"||I;var D,H="";if(typeof T=="string"){var ne;D=(ne=z(T))!==null&&ne!==void 0?ne:T;try{H=kp(D)}catch(ue){if(I)throw L(D)?new Error("atob-Error in jsPDF.convertBase64ToBinaryString "+ue.message):new Error("Supplied Data is not a valid base64-String jsPDF.convertBase64ToBinaryString ")}}return H};t.getImageProperties=function(T){var I,D,H="";if(g(T)&&(T=m(T)),typeof T=="string"&&i(T)===n&&((H=M(T,!1))===""&&(H=t.loadFile(T)||""),T=H),D=i(T),!d(D))throw new Error("addImage does not support files of type '"+D+"', please ensure that a plugin for '"+D+"' support is added.");if(T instanceof Uint8Array||(T=R(T)),!(I=this["process"+D.toUpperCase()](T)))throw new Error("An unknown error occurred whilst processing the image");return I.fileType=D,I}})(st.API),function(t){var e=function(n){if(n!==void 0&&n!="")return!0};st.API.events.push(["addPage",function(n){this.internal.getPageInfo(n.pageNumber).pageContext.annotations=[]}]),t.events.push(["putPage",function(n){for(var r,i,s,o=this.internal.getCoordinateString,a=this.internal.getVerticalCoordinateString,l=this.internal.getPageInfoByObjId(n.objId),u=n.pageContext.annotations,c=!1,d=0;d<u.length&&!c;d++)switch((r=u[d]).type){case"link":(e(r.options.url)||e(r.options.pageNumber))&&(c=!0);break;case"reference":case"text":case"freetext":c=!0}if(c!=0){this.internal.write("/Annots [");for(var g=0;g<u.length;g++){r=u[g];var m=this.internal.pdfEscape,b=this.internal.getEncryptor(n.objId);switch(r.type){case"reference":this.internal.write(" "+r.object.objId+" 0 R ");break;case"text":var x=this.internal.newAdditionalObject(),A=this.internal.newAdditionalObject(),v=this.internal.getEncryptor(x.objId),_=r.title||"Note";s="<</Type /Annot /Subtype /Text "+(i="/Rect ["+o(r.bounds.x)+" "+a(r.bounds.y+r.bounds.h)+" "+o(r.bounds.x+r.bounds.w)+" "+a(r.bounds.y)+"] ")+"/Contents ("+m(v(r.contents))+")",s+=" /Popup "+A.objId+" 0 R",s+=" /P "+l.objId+" 0 R",s+=" /T ("+m(v(_))+") >>",x.content=s;var E=x.objId+" 0 R";s="<</Type /Annot /Subtype /Popup "+(i="/Rect ["+o(r.bounds.x+30)+" "+a(r.bounds.y+r.bounds.h)+" "+o(r.bounds.x+r.bounds.w+30)+" "+a(r.bounds.y)+"] ")+" /Parent "+E,r.open&&(s+=" /Open true"),s+=" >>",A.content=s,this.internal.write(x.objId,"0 R",A.objId,"0 R");break;case"freetext":i="/Rect ["+o(r.bounds.x)+" "+a(r.bounds.y)+" "+o(r.bounds.x+r.bounds.w)+" "+a(r.bounds.y+r.bounds.h)+"] ";var L=r.color||"#000000";s="<</Type /Annot /Subtype /FreeText "+i+"/Contents ("+m(b(r.contents))+")",s+=" /DS(font: Helvetica,sans-serif 12.0pt; text-align:left; color:#"+L+")",s+=" /Border [0 0 0]",s+=" >>",this.internal.write(s);break;case"link":if(r.options.name){var z=this.annotations._nameMap[r.options.name];r.options.pageNumber=z.page,r.options.top=z.y}else r.options.top||(r.options.top=0);if(i="/Rect ["+r.finalBounds.x+" "+r.finalBounds.y+" "+r.finalBounds.w+" "+r.finalBounds.h+"] ",s="",r.options.url)s="<</Type /Annot /Subtype /Link "+i+"/Border [0 0 0] /A <</S /URI /URI ("+m(b(r.options.url))+") >>";else if(r.options.pageNumber)switch(s="<</Type /Annot /Subtype /Link "+i+"/Border [0 0 0] /Dest ["+this.internal.getPageInfo(r.options.pageNumber).objId+" 0 R",r.options.magFactor=r.options.magFactor||"XYZ",r.options.magFactor){case"Fit":s+=" /Fit]";break;case"FitH":s+=" /FitH "+r.options.top+"]";break;case"FitV":r.options.left=r.options.left||0,s+=" /FitV "+r.options.left+"]";break;default:var Y=a(r.options.top);r.options.left=r.options.left||0,r.options.zoom===void 0&&(r.options.zoom=0),s+=" /XYZ "+r.options.left+" "+Y+" "+r.options.zoom+"]"}s!=""&&(s+=" >>",this.internal.write(s))}}this.internal.write("]")}}]),t.createAnnotation=function(n){var r=this.internal.getCurrentPageInfo();switch(n.type){case"link":this.link(n.bounds.x,n.bounds.y,n.bounds.w,n.bounds.h,n);break;case"text":case"freetext":r.pageContext.annotations.push(n)}},t.link=function(n,r,i,s,o){var a=this.internal.getCurrentPageInfo(),l=this.internal.getCoordinateString,u=this.internal.getVerticalCoordinateString;a.pageContext.annotations.push({finalBounds:{x:l(n),y:u(r),w:l(n+i),h:u(r+s)},options:o,type:"link"})},t.textWithLink=function(n,r,i,s){var o,a,l=this.getTextWidth(n),u=this.internal.getLineHeight()/this.internal.scaleFactor;if(s.maxWidth!==void 0){a=s.maxWidth;var c=this.splitTextToSize(n,a).length;o=Math.ceil(u*c)}else a=l,o=u;return this.text(n,r,i,s),i+=.2*u,s.align==="center"&&(r-=l/2),s.align==="right"&&(r-=l),this.link(r,i-u,a,o,s),l},t.getTextWidth=function(n){var r=this.internal.getFontSize();return this.getStringUnitWidth(n)*r/this.internal.scaleFactor}}(st.API),function(t){var e={1569:[65152],1570:[65153,65154],1571:[65155,65156],1572:[65157,65158],1573:[65159,65160],1574:[65161,65162,65163,65164],1575:[65165,65166],1576:[65167,65168,65169,65170],1577:[65171,65172],1578:[65173,65174,65175,65176],1579:[65177,65178,65179,65180],1580:[65181,65182,65183,65184],1581:[65185,65186,65187,65188],1582:[65189,65190,65191,65192],1583:[65193,65194],1584:[65195,65196],1585:[65197,65198],1586:[65199,65200],1587:[65201,65202,65203,65204],1588:[65205,65206,65207,65208],1589:[65209,65210,65211,65212],1590:[65213,65214,65215,65216],1591:[65217,65218,65219,65220],1592:[65221,65222,65223,65224],1593:[65225,65226,65227,65228],1594:[65229,65230,65231,65232],1601:[65233,65234,65235,65236],1602:[65237,65238,65239,65240],1603:[65241,65242,65243,65244],1604:[65245,65246,65247,65248],1605:[65249,65250,65251,65252],1606:[65253,65254,65255,65256],1607:[65257,65258,65259,65260],1608:[65261,65262],1609:[65263,65264,64488,64489],1610:[65265,65266,65267,65268],1649:[64336,64337],1655:[64477],1657:[64358,64359,64360,64361],1658:[64350,64351,64352,64353],1659:[64338,64339,64340,64341],1662:[64342,64343,64344,64345],1663:[64354,64355,64356,64357],1664:[64346,64347,64348,64349],1667:[64374,64375,64376,64377],1668:[64370,64371,64372,64373],1670:[64378,64379,64380,64381],1671:[64382,64383,64384,64385],1672:[64392,64393],1676:[64388,64389],1677:[64386,64387],1678:[64390,64391],1681:[64396,64397],1688:[64394,64395],1700:[64362,64363,64364,64365],1702:[64366,64367,64368,64369],1705:[64398,64399,64400,64401],1709:[64467,64468,64469,64470],1711:[64402,64403,64404,64405],1713:[64410,64411,64412,64413],1715:[64406,64407,64408,64409],1722:[64414,64415],1723:[64416,64417,64418,64419],1726:[64426,64427,64428,64429],1728:[64420,64421],1729:[64422,64423,64424,64425],1733:[64480,64481],1734:[64473,64474],1735:[64471,64472],1736:[64475,64476],1737:[64482,64483],1739:[64478,64479],1740:[64508,64509,64510,64511],1744:[64484,64485,64486,64487],1746:[64430,64431],1747:[64432,64433]},n={65247:{65154:65269,65156:65271,65160:65273,65166:65275},65248:{65154:65270,65156:65272,65160:65274,65166:65276},65165:{65247:{65248:{65258:65010}}},1617:{1612:64606,1613:64607,1614:64608,1615:64609,1616:64610}},r={1612:64606,1613:64607,1614:64608,1615:64609,1616:64610},i=[1570,1571,1573,1575];t.__arabicParser__={};var s=t.__arabicParser__.isInArabicSubstitutionA=function(x){return e[x.charCodeAt(0)]!==void 0},o=t.__arabicParser__.isArabicLetter=function(x){return typeof x=="string"&&/^[\u0600-\u06FF\u0750-\u077F\u08A0-\u08FF\uFB50-\uFDFF\uFE70-\uFEFF]+$/.test(x)},a=t.__arabicParser__.isArabicEndLetter=function(x){return o(x)&&s(x)&&e[x.charCodeAt(0)].length<=2},l=t.__arabicParser__.isArabicAlfLetter=function(x){return o(x)&&i.indexOf(x.charCodeAt(0))>=0};t.__arabicParser__.arabicLetterHasIsolatedForm=function(x){return o(x)&&s(x)&&e[x.charCodeAt(0)].length>=1};var u=t.__arabicParser__.arabicLetterHasFinalForm=function(x){return o(x)&&s(x)&&e[x.charCodeAt(0)].length>=2};t.__arabicParser__.arabicLetterHasInitialForm=function(x){return o(x)&&s(x)&&e[x.charCodeAt(0)].length>=3};var c=t.__arabicParser__.arabicLetterHasMedialForm=function(x){return o(x)&&s(x)&&e[x.charCodeAt(0)].length==4},d=t.__arabicParser__.resolveLigatures=function(x){var A=0,v=n,_="",E=0;for(A=0;A<x.length;A+=1)v[x.charCodeAt(A)]!==void 0?(E++,typeof(v=v[x.charCodeAt(A)])=="number"&&(_+=String.fromCharCode(v),v=n,E=0),A===x.length-1&&(v=n,_+=x.charAt(A-(E-1)),A-=E-1,E=0)):(v=n,_+=x.charAt(A-E),A-=E,E=0);return _};t.__arabicParser__.isArabicDiacritic=function(x){return x!==void 0&&r[x.charCodeAt(0)]!==void 0};var g=t.__arabicParser__.getCorrectForm=function(x,A,v){return o(x)?s(x)===!1?-1:!u(x)||!o(A)&&!o(v)||!o(v)&&a(A)||a(x)&&!o(A)||a(x)&&l(A)||a(x)&&a(A)?0:c(x)&&o(A)&&!a(A)&&o(v)&&u(v)?3:a(x)||!o(v)?1:2:-1},m=function(x){var A=0,v=0,_=0,E="",L="",z="",Y=(x=x||"").split("\\s+"),R=[];for(A=0;A<Y.length;A+=1){for(R.push(""),v=0;v<Y[A].length;v+=1)E=Y[A][v],L=Y[A][v-1],z=Y[A][v+1],o(E)?(_=g(E,L,z),R[A]+=_!==-1?String.fromCharCode(e[E.charCodeAt(0)][_]):E):R[A]+=E;R[A]=d(R[A])}return R.join(" ")},b=t.__arabicParser__.processArabic=t.processArabic=function(){var x,A=typeof arguments[0]=="string"?arguments[0]:arguments[0].text,v=[];if(Array.isArray(A)){var _=0;for(v=[],_=0;_<A.length;_+=1)Array.isArray(A[_])?v.push([m(A[_][0]),A[_][1],A[_][2]]):v.push([m(A[_])]);x=v}else x=m(A);return typeof arguments[0]=="string"?x:(arguments[0].text=x,arguments[0])};t.events.push(["preProcessText",b])}(st.API),st.API.autoPrint=function(t){var e;return(t=t||{}).variant=t.variant||"non-conform",t.variant==="javascript"?this.addJS("print({});"):(this.internal.events.subscribe("postPutResources",function(){e=this.internal.newObject(),this.internal.out("<<"),this.internal.out("/S /Named"),this.internal.out("/Type /Action"),this.internal.out("/N /Print"),this.internal.out(">>"),this.internal.out("endobj")}),this.internal.events.subscribe("putCatalog",function(){this.internal.out("/OpenAction "+e+" 0 R")})),this},function(t){var e=function(){var n=void 0;Object.defineProperty(this,"pdf",{get:function(){return n},set:function(a){n=a}});var r=150;Object.defineProperty(this,"width",{get:function(){return r},set:function(a){r=isNaN(a)||Number.isInteger(a)===!1||a<0?150:a,this.getContext("2d").pageWrapXEnabled&&(this.getContext("2d").pageWrapX=r+1)}});var i=300;Object.defineProperty(this,"height",{get:function(){return i},set:function(a){i=isNaN(a)||Number.isInteger(a)===!1||a<0?300:a,this.getContext("2d").pageWrapYEnabled&&(this.getContext("2d").pageWrapY=i+1)}});var s=[];Object.defineProperty(this,"childNodes",{get:function(){return s},set:function(a){s=a}});var o={};Object.defineProperty(this,"style",{get:function(){return o},set:function(a){o=a}}),Object.defineProperty(this,"parentNode",{})};e.prototype.getContext=function(n,r){var i;if((n=n||"2d")!=="2d")return null;for(i in r)this.pdf.context2d.hasOwnProperty(i)&&(this.pdf.context2d[i]=r[i]);return this.pdf.context2d._canvas=this,this.pdf.context2d},e.prototype.toDataURL=function(){throw new Error("toDataURL is not implemented.")},t.events.push(["initialized",function(){this.canvas=new e,this.canvas.pdf=this}])}(st.API),function(t){var e={left:0,top:0,bottom:0,right:0},n=!1,r=function(){this.internal.__cell__===void 0&&(this.internal.__cell__={},this.internal.__cell__.padding=3,this.internal.__cell__.headerFunction=void 0,this.internal.__cell__.margins=Object.assign({},e),this.internal.__cell__.margins.width=this.getPageWidth(),i.call(this))},i=function(){this.internal.__cell__.lastCell=new s,this.internal.__cell__.pages=1},s=function(){var l=arguments[0];Object.defineProperty(this,"x",{enumerable:!0,get:function(){return l},set:function(x){l=x}});var u=arguments[1];Object.defineProperty(this,"y",{enumerable:!0,get:function(){return u},set:function(x){u=x}});var c=arguments[2];Object.defineProperty(this,"width",{enumerable:!0,get:function(){return c},set:function(x){c=x}});var d=arguments[3];Object.defineProperty(this,"height",{enumerable:!0,get:function(){return d},set:function(x){d=x}});var g=arguments[4];Object.defineProperty(this,"text",{enumerable:!0,get:function(){return g},set:function(x){g=x}});var m=arguments[5];Object.defineProperty(this,"lineNumber",{enumerable:!0,get:function(){return m},set:function(x){m=x}});var b=arguments[6];return Object.defineProperty(this,"align",{enumerable:!0,get:function(){return b},set:function(x){b=x}}),this};s.prototype.clone=function(){return new s(this.x,this.y,this.width,this.height,this.text,this.lineNumber,this.align)},s.prototype.toArray=function(){return[this.x,this.y,this.width,this.height,this.text,this.lineNumber,this.align]},t.setHeaderFunction=function(l){return r.call(this),this.internal.__cell__.headerFunction=typeof l=="function"?l:void 0,this},t.getTextDimensions=function(l,u){r.call(this);var c=(u=u||{}).fontSize||this.getFontSize(),d=u.font||this.getFont(),g=u.scaleFactor||this.internal.scaleFactor,m=0,b=0,x=0,A=this;if(!Array.isArray(l)&&typeof l!="string"){if(typeof l!="number")throw new Error("getTextDimensions expects text-parameter to be of type String or type Number or an Array of Strings.");l=String(l)}var v=u.maxWidth;v>0?typeof l=="string"?l=this.splitTextToSize(l,v):Object.prototype.toString.call(l)==="[object Array]"&&(l=l.reduce(function(E,L){return E.concat(A.splitTextToSize(L,v))},[])):l=Array.isArray(l)?l:[l];for(var _=0;_<l.length;_++)m<(x=this.getStringUnitWidth(l[_],{font:d})*c)&&(m=x);return m!==0&&(b=l.length),{w:m/=g,h:Math.max((b*c*this.getLineHeightFactor()-c*(this.getLineHeightFactor()-1))/g,0)}},t.cellAddPage=function(){r.call(this),this.addPage();var l=this.internal.__cell__.margins||e;return this.internal.__cell__.lastCell=new s(l.left,l.top,void 0,void 0),this.internal.__cell__.pages+=1,this};var o=t.cell=function(){var l;l=arguments[0]instanceof s?arguments[0]:new s(arguments[0],arguments[1],arguments[2],arguments[3],arguments[4],arguments[5]),r.call(this);var u=this.internal.__cell__.lastCell,c=this.internal.__cell__.padding,d=this.internal.__cell__.margins||e,g=this.internal.__cell__.tableHeaderRow,m=this.internal.__cell__.printHeaders;return u.lineNumber!==void 0&&(u.lineNumber===l.lineNumber?(l.x=(u.x||0)+(u.width||0),l.y=u.y||0):u.y+u.height+l.height+d.bottom>this.getPageHeight()?(this.cellAddPage(),l.y=d.top,m&&g&&(this.printHeaderRow(l.lineNumber,!0),l.y+=g[0].height)):l.y=u.y+u.height||l.y),l.text[0]!==void 0&&(this.rect(l.x,l.y,l.width,l.height,n===!0?"FD":void 0),l.align==="right"?this.text(l.text,l.x+l.width-c,l.y+c,{align:"right",baseline:"top"}):l.align==="center"?this.text(l.text,l.x+l.width/2,l.y+c,{align:"center",baseline:"top",maxWidth:l.width-c-c}):this.text(l.text,l.x+c,l.y+c,{align:"left",baseline:"top",maxWidth:l.width-c-c})),this.internal.__cell__.lastCell=l,this};t.table=function(l,u,c,d,g){if(r.call(this),!c)throw new Error("No data for PDF table.");var m,b,x,A,v=[],_=[],E=[],L={},z={},Y=[],R=[],C=(g=g||{}).autoSize||!1,k=g.printHeaders!==!1,M=g.css&&g.css["font-size"]!==void 0?16*g.css["font-size"]:g.fontSize||12,T=g.margins||Object.assign({width:this.getPageWidth()},e),I=typeof g.padding=="number"?g.padding:3,D=g.headerBackgroundColor||"#c8c8c8",H=g.headerTextColor||"#000";if(i.call(this),this.internal.__cell__.printHeaders=k,this.internal.__cell__.margins=T,this.internal.__cell__.table_font_size=M,this.internal.__cell__.padding=I,this.internal.__cell__.headerBackgroundColor=D,this.internal.__cell__.headerTextColor=H,this.setFontSize(M),d==null)_=v=Object.keys(c[0]),E=v.map(function(){return"left"});else if(Array.isArray(d)&&an(d[0])==="object")for(v=d.map(function(ye){return ye.name}),_=d.map(function(ye){return ye.prompt||ye.name||""}),E=d.map(function(ye){return ye.align||"left"}),m=0;m<d.length;m+=1)z[d[m].name]=.7499990551181103*d[m].width;else Array.isArray(d)&&typeof d[0]=="string"&&(_=v=d,E=v.map(function(){return"left"}));if(C||Array.isArray(d)&&typeof d[0]=="string")for(m=0;m<v.length;m+=1){for(L[A=v[m]]=c.map(function(ye){return ye[A]}),this.setFont(void 0,"bold"),Y.push(this.getTextDimensions(_[m],{fontSize:this.internal.__cell__.table_font_size,scaleFactor:this.internal.scaleFactor}).w),b=L[A],this.setFont(void 0,"normal"),x=0;x<b.length;x+=1)Y.push(this.getTextDimensions(b[x],{fontSize:this.internal.__cell__.table_font_size,scaleFactor:this.internal.scaleFactor}).w);z[A]=Math.max.apply(null,Y)+I+I,Y=[]}if(k){var ne={};for(m=0;m<v.length;m+=1)ne[v[m]]={},ne[v[m]].text=_[m],ne[v[m]].align=E[m];var ue=a.call(this,ne,z);R=v.map(function(ye){return new s(l,u,z[ye],ue,ne[ye].text,void 0,ne[ye].align)}),this.setTableHeaderRow(R),this.printHeaderRow(1,!1)}var ae=d.reduce(function(ye,Se){return ye[Se.name]=Se.align,ye},{});for(m=0;m<c.length;m+=1){"rowStart"in g&&g.rowStart instanceof Function&&g.rowStart({row:m,data:c[m]},this);var ee=a.call(this,c[m],z);for(x=0;x<v.length;x+=1){var se=c[m][v[x]];"cellStart"in g&&g.cellStart instanceof Function&&g.cellStart({row:m,col:x,data:se},this),o.call(this,new s(l,u,z[v[x]],ee,se,m+2,ae[v[x]]))}}return this.internal.__cell__.table_x=l,this.internal.__cell__.table_y=u,this};var a=function(l,u){var c=this.internal.__cell__.padding,d=this.internal.__cell__.table_font_size,g=this.internal.scaleFactor;return Object.keys(l).map(function(m){var b=l[m];return this.splitTextToSize(b.hasOwnProperty("text")?b.text:b,u[m]-c-c)},this).map(function(m){return this.getLineHeightFactor()*m.length*d/g+c+c},this).reduce(function(m,b){return Math.max(m,b)},0)};t.setTableHeaderRow=function(l){r.call(this),this.internal.__cell__.tableHeaderRow=l},t.printHeaderRow=function(l,u){if(r.call(this),!this.internal.__cell__.tableHeaderRow)throw new Error("Property tableHeaderRow does not exist.");var c;if(n=!0,typeof this.internal.__cell__.headerFunction=="function"){var d=this.internal.__cell__.headerFunction(this,this.internal.__cell__.pages);this.internal.__cell__.lastCell=new s(d[0],d[1],d[2],d[3],void 0,-1)}this.setFont(void 0,"bold");for(var g=[],m=0;m<this.internal.__cell__.tableHeaderRow.length;m+=1){c=this.internal.__cell__.tableHeaderRow[m].clone(),u&&(c.y=this.internal.__cell__.margins.top||0,g.push(c)),c.lineNumber=l;var b=this.getTextColor();this.setTextColor(this.internal.__cell__.headerTextColor),this.setFillColor(this.internal.__cell__.headerBackgroundColor),o.call(this,c),this.setTextColor(b)}g.length>0&&this.setTableHeaderRow(g),this.setFont(void 0,"normal"),n=!1}}(st.API);var cT={italic:["italic","oblique","normal"],oblique:["oblique","italic","normal"],normal:["normal","oblique","italic"]},hT=["ultra-condensed","extra-condensed","condensed","semi-condensed","normal","semi-expanded","expanded","extra-expanded","ultra-expanded"],ry=uT(hT),fT=[100,200,300,400,500,600,700,800,900],Iq=uT(fT);function Jg(t){var e=t.family.replace(/"|'/g,"").toLowerCase(),n=function(s){return cT[s=s||"normal"]?s:"normal"}(t.style),r=function(s){return s?typeof s=="number"?s>=100&&s<=900&&s%100==0?s:400:/^\d00$/.test(s)?parseInt(s):s==="bold"?700:400:400}(t.weight),i=function(s){return typeof ry[s=s||"normal"]=="number"?s:"normal"}(t.stretch);return{family:e,style:n,weight:r,stretch:i,src:t.src||[],ref:t.ref||{name:e,style:[i,n,r].join(" ")}}}function Y3(t,e,n,r){var i;for(i=n;i>=0&&i<e.length;i+=r)if(t[e[i]])return t[e[i]];for(i=n;i>=0&&i<e.length;i-=r)if(t[e[i]])return t[e[i]]}var Lq={"sans-serif":"helvetica",fixed:"courier",monospace:"courier",terminal:"courier",cursive:"times",fantasy:"times",serif:"times"},X3={caption:"times",icon:"times",menu:"times","message-box":"times","small-caption":"times","status-bar":"times"};function J3(t){return[t.stretch,t.style,t.weight,t.family].join(" ")}function Z3(t){return t.trimLeft()}function Rq(t,e){for(var n=0;n<t.length;){if(t.charAt(n)===e)return[t.substring(0,n),t.substring(n+1)];n+=1}return null}function jq(t){var e=t.match(/^(-[a-z_]|[a-z_])[a-z0-9_-]*/i);return e===null?null:[e[0],t.substring(e[0].length)]}var op,e_,t_,Pu,ap,n_,r_,i_,Zg=["times"];function s_(t,e,n,r,i){var s=4,o=a_;switch(i){case st.API.image_compression.FAST:s=1,o=o_;break;case st.API.image_compression.MEDIUM:s=6,o=l_;break;case st.API.image_compression.SLOW:s=9,o=u_}t=function(l,u,c,d){for(var g,m=l.length/u,b=new Uint8Array(l.length+m),x=[Dq,o_,a_,l_,u_],A=0;A<m;A+=1){var v=A*u,_=l.subarray(v,v+u);if(d)b.set(d(_,c,g),v+A);else{for(var E=x.length,L=[],z=0;z<E;z+=1)L[z]=x[z](_,c,g);var Y=Fq(L.concat());b.set(L[Y],v+A)}g=_}return b}(t,e,Math.ceil(n*r/8),o);var a=Y2(t,{level:s});return st.API.__addimage__.arrayBufferToBinaryString(a)}function Dq(t){var e=Array.apply([],t);return e.unshift(0),e}function o_(t,e){var n=t.length,r=[];r[0]=1;for(var i=0;i<n;i+=1){var s=t[i-e]||0;r[i+1]=t[i]-s+256&255}return r}function a_(t,e,n){var r=t.length,i=[];i[0]=2;for(var s=0;s<r;s+=1){var o=n&&n[s]||0;i[s+1]=t[s]-o+256&255}return i}function l_(t,e,n){var r=t.length,i=[];i[0]=3;for(var s=0;s<r;s+=1){var o=t[s-e]||0,a=n&&n[s]||0;i[s+1]=t[s]+256-(o+a>>>1)&255}return i}function u_(t,e,n){var r=t.length,i=[];i[0]=4;for(var s=0;s<r;s+=1){var o=Mq(t[s-e]||0,n&&n[s]||0,n&&n[s-e]||0);i[s+1]=t[s]-o+256&255}return i}function Mq(t,e,n){if(t===e&&e===n)return t;var r=Math.abs(e-n),i=Math.abs(t-n),s=Math.abs(t+e-n-n);return r<=i&&r<=s?t:i<=s?e:n}function Fq(t){var e=t.map(function(n){return n.reduce(function(r,i){return r+Math.abs(i)},0)});return e.indexOf(Math.min.apply(null,e))}function e1(t,e,n){var r=e*n,i=Math.floor(r/8),s=16-(r-8*i+n),o=(1<<n)-1;return dT(t,i)>>s&o}function c_(t,e,n,r){var i=n*r,s=Math.floor(i/8),o=16-(i-8*s+r),a=(1<<r)-1,l=(e&a)<<o;(function(u,c,d){if(c+1<u.byteLength)u.setUint16(c,d,!1);else{var g=d>>8&255;u.setUint8(c,g)}})(t,s,dT(t,s)&~(a<<o)&65535|l)}function dT(t,e){return e+1<t.byteLength?t.getUint16(e,!1):t.getUint8(e)<<8}function Oq(t){var e=0;if(t[e++]!==71||t[e++]!==73||t[e++]!==70||t[e++]!==56||(t[e++]+1&253)!=56||t[e++]!==97)throw new Error("Invalid GIF 87a/89a header.");var n=t[e++]|t[e++]<<8,r=t[e++]|t[e++]<<8,i=t[e++],s=i>>7,o=1<<1+(7&i);t[e++],t[e++];var a=null,l=null;s&&(a=e,l=o,e+=3*o);var u=!0,c=[],d=0,g=null,m=0,b=null;for(this.width=n,this.height=r;u&&e<t.length;)switch(t[e++]){case 33:switch(t[e++]){case 255:if(t[e]!==11||t[e+1]==78&&t[e+2]==69&&t[e+3]==84&&t[e+4]==83&&t[e+5]==67&&t[e+6]==65&&t[e+7]==80&&t[e+8]==69&&t[e+9]==50&&t[e+10]==46&&t[e+11]==48&&t[e+12]==3&&t[e+13]==1&&t[e+16]==0)e+=14,b=t[e++]|t[e++]<<8,e++;else for(e+=12;;){if(!((T=t[e++])>=0))throw Error("Invalid block size");if(T===0)break;e+=T}break;case 249:if(t[e++]!==4||t[e+4]!==0)throw new Error("Invalid graphics extension block.");var x=t[e++];d=t[e++]|t[e++]<<8,g=t[e++],1&x||(g=null),m=x>>2&7,e++;break;case 254:for(;;){if(!((T=t[e++])>=0))throw Error("Invalid block size");if(T===0)break;e+=T}break;default:throw new Error("Unknown graphic control label: 0x"+t[e-1].toString(16))}break;case 44:var A=t[e++]|t[e++]<<8,v=t[e++]|t[e++]<<8,_=t[e++]|t[e++]<<8,E=t[e++]|t[e++]<<8,L=t[e++],z=L>>6&1,Y=1<<1+(7&L),R=a,C=l,k=!1;L>>7&&(k=!0,R=e,C=Y,e+=3*Y);var M=e;for(e++;;){var T;if(!((T=t[e++])>=0))throw Error("Invalid block size");if(T===0)break;e+=T}c.push({x:A,y:v,width:_,height:E,has_local_palette:k,palette_offset:R,palette_size:C,data_offset:M,data_length:e-M,transparent_index:g,interlaced:!!z,delay:d,disposal:m});break;case 59:u=!1;break;default:throw new Error("Unknown gif block: 0x"+t[e-1].toString(16))}this.numFrames=function(){return c.length},this.loopCount=function(){return b},this.frameInfo=function(I){if(I<0||I>=c.length)throw new Error("Frame index out of range.");return c[I]},this.decodeAndBlitFrameBGRA=function(I,D){var H=this.frameInfo(I),ne=H.width*H.height,ue=new Uint8Array(ne);h_(t,H.data_offset,ue,ne);var ae=H.palette_offset,ee=H.transparent_index;ee===null&&(ee=256);var se=H.width,ye=n-se,Se=se,V=4*(H.y*n+H.x),Q=4*((H.y+H.height)*n+H.x),te=V,ie=4*ye;H.interlaced===!0&&(ie+=4*n*7);for(var le=8,ve=0,Ne=ue.length;ve<Ne;++ve){var Ae=ue[ve];if(Se===0&&(Se=se,(te+=ie)>=Q&&(ie=4*ye+4*n*(le-1),te=V+(se+ye)*(le<<1),le>>=1)),Ae===ee)te+=4;else{var he=t[ae+3*Ae],be=t[ae+3*Ae+1],pe=t[ae+3*Ae+2];D[te++]=pe,D[te++]=be,D[te++]=he,D[te++]=255}--Se}},this.decodeAndBlitFrameRGBA=function(I,D){var H=this.frameInfo(I),ne=H.width*H.height,ue=new Uint8Array(ne);h_(t,H.data_offset,ue,ne);var ae=H.palette_offset,ee=H.transparent_index;ee===null&&(ee=256);var se=H.width,ye=n-se,Se=se,V=4*(H.y*n+H.x),Q=4*((H.y+H.height)*n+H.x),te=V,ie=4*ye;H.interlaced===!0&&(ie+=4*n*7);for(var le=8,ve=0,Ne=ue.length;ve<Ne;++ve){var Ae=ue[ve];if(Se===0&&(Se=se,(te+=ie)>=Q&&(ie=4*ye+4*n*(le-1),te=V+(se+ye)*(le<<1),le>>=1)),Ae===ee)te+=4;else{var he=t[ae+3*Ae],be=t[ae+3*Ae+1],pe=t[ae+3*Ae+2];D[te++]=he,D[te++]=be,D[te++]=pe,D[te++]=255}--Se}}}function h_(t,e,n,r){for(var i=t[e++],s=1<<i,o=s+1,a=o+1,l=i+1,u=(1<<l)-1,c=0,d=0,g=0,m=t[e++],b=new Int32Array(4096),x=null;;){for(;c<16&&m!==0;)d|=t[e++]<<c,c+=8,m===1?m=t[e++]:--m;if(c<l)break;var A=d&u;if(d>>=l,c-=l,A!==s){if(A===o)break;for(var v=A<a?A:x,_=0,E=v;E>s;)E=b[E]>>8,++_;var L=E;if(g+_+(v!==A?1:0)>r)return void dn.log("Warning, gif stream longer than expected.");n[g++]=L;var z=g+=_;for(v!==A&&(n[g++]=L),E=v;_--;)E=b[E],n[--z]=255&E,E>>=8;x!==null&&a<4096&&(b[a++]=x<<8|L,a>=u+1&&l<12&&(++l,u=u<<1|1)),x=A}else a=o+1,u=(1<<(l=i+1))-1,x=null}return g!==r&&dn.log("Warning, gif stream shorter than expected."),n}/**
 * @license
  Copyright (c) 2008, Adobe Systems Incorporated
  All rights reserved.

  Redistribution and use in source and binary forms, with or without 
  modification, are permitted provided that the following conditions are
  met:

  * Redistributions of source code must retain the above copyright notice, 
    this list of conditions and the following disclaimer.
  
  * Redistributions in binary form must reproduce the above copyright
    notice, this list of conditions and the following disclaimer in the 
    documentation and/or other materials provided with the distribution.
  
  * Neither the name of Adobe Systems Incorporated nor the names of its 
    contributors may be used to endorse or promote products derived from 
    this software without specific prior written permission.

  THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS "AS
  IS" AND ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT LIMITED TO,
  THE IMPLIED WARRANTIES OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR
  PURPOSE ARE DISCLAIMED. IN NO EVENT SHALL THE COPYRIGHT OWNER OR 
  CONTRIBUTORS BE LIABLE FOR ANY DIRECT, INDIRECT, INCIDENTAL, SPECIAL,
  EXEMPLARY, OR CONSEQUENTIAL DAMAGES (INCLUDING, BUT NOT LIMITED TO,
  PROCUREMENT OF SUBSTITUTE GOODS OR SERVICES; LOSS OF USE, DATA, OR
  PROFITS; OR BUSINESS INTERRUPTION) HOWEVER CAUSED AND ON ANY THEORY OF
  LIABILITY, WHETHER IN CONTRACT, STRICT LIABILITY, OR TORT (INCLUDING
  NEGLIGENCE OR OTHERWISE) ARISING IN ANY WAY OUT OF THE USE OF THIS
  SOFTWARE, EVEN IF ADVISED OF THE POSSIBILITY OF SUCH DAMAGE.
*/function t1(t){var e,n,r,i,s,o=Math.floor,a=new Array(64),l=new Array(64),u=new Array(64),c=new Array(64),d=new Array(65535),g=new Array(65535),m=new Array(64),b=new Array(64),x=[],A=0,v=7,_=new Array(64),E=new Array(64),L=new Array(64),z=new Array(256),Y=new Array(2048),R=[0,1,5,6,14,15,27,28,2,4,7,13,16,26,29,42,3,8,12,17,25,30,41,43,9,11,18,24,31,40,44,53,10,19,23,32,39,45,52,54,20,22,33,38,46,51,55,60,21,34,37,47,50,56,59,61,35,36,48,49,57,58,62,63],C=[0,0,1,5,1,1,1,1,1,1,0,0,0,0,0,0,0],k=[0,1,2,3,4,5,6,7,8,9,10,11],M=[0,0,2,1,3,3,2,4,3,5,5,4,4,0,0,1,125],T=[1,2,3,0,4,17,5,18,33,49,65,6,19,81,97,7,34,113,20,50,129,145,161,8,35,66,177,193,21,82,209,240,36,51,98,114,130,9,10,22,23,24,25,26,37,38,39,40,41,42,52,53,54,55,56,57,58,67,68,69,70,71,72,73,74,83,84,85,86,87,88,89,90,99,100,101,102,103,104,105,106,115,116,117,118,119,120,121,122,131,132,133,134,135,136,137,138,146,147,148,149,150,151,152,153,154,162,163,164,165,166,167,168,169,170,178,179,180,181,182,183,184,185,186,194,195,196,197,198,199,200,201,202,210,211,212,213,214,215,216,217,218,225,226,227,228,229,230,231,232,233,234,241,242,243,244,245,246,247,248,249,250],I=[0,0,3,1,1,1,1,1,1,1,1,1,0,0,0,0,0],D=[0,1,2,3,4,5,6,7,8,9,10,11],H=[0,0,2,1,2,4,4,3,4,7,5,4,4,0,1,2,119],ne=[0,1,2,3,17,4,5,33,49,6,18,65,81,7,97,113,19,34,50,129,8,20,66,145,161,177,193,9,35,51,82,240,21,98,114,209,10,22,36,52,225,37,241,23,24,25,26,38,39,40,41,42,53,54,55,56,57,58,67,68,69,70,71,72,73,74,83,84,85,86,87,88,89,90,99,100,101,102,103,104,105,106,115,116,117,118,119,120,121,122,130,131,132,133,134,135,136,137,138,146,147,148,149,150,151,152,153,154,162,163,164,165,166,167,168,169,170,178,179,180,181,182,183,184,185,186,194,195,196,197,198,199,200,201,202,210,211,212,213,214,215,216,217,218,226,227,228,229,230,231,232,233,234,242,243,244,245,246,247,248,249,250];function ue(V,Q){for(var te=0,ie=0,le=new Array,ve=1;ve<=16;ve++){for(var Ne=1;Ne<=V[ve];Ne++)le[Q[ie]]=[],le[Q[ie]][0]=te,le[Q[ie]][1]=ve,ie++,te++;te*=2}return le}function ae(V){for(var Q=V[0],te=V[1]-1;te>=0;)Q&1<<te&&(A|=1<<v),te--,--v<0&&(A==255?(ee(255),ee(0)):ee(A),v=7,A=0)}function ee(V){x.push(V)}function se(V){ee(V>>8&255),ee(255&V)}function ye(V,Q,te,ie,le){for(var ve,Ne=le[0],Ae=le[240],he=function(Le,qe){var Be,_t,nt,Ot,wt,tt,St,mt,rt,ht,ot=0;for(rt=0;rt<8;++rt){Be=Le[ot],_t=Le[ot+1],nt=Le[ot+2],Ot=Le[ot+3],wt=Le[ot+4],tt=Le[ot+5],St=Le[ot+6];var Kt=Be+(mt=Le[ot+7]),Ut=Be-mt,Je=_t+St,gt=_t-St,en=nt+tt,ut=nt-tt,kt=Ot+wt,xt=Ot-wt,Nn=Kt+kt,vn=Kt-kt,Yt=Je+en,ft=Je-en;Le[ot]=Nn+Yt,Le[ot+4]=Nn-Yt;var Lt=.707106781*(ft+vn);Le[ot+2]=vn+Lt,Le[ot+6]=vn-Lt;var Hs=.382683433*((Nn=xt+ut)-(ft=gt+Ut)),Yn=.5411961*Nn+Hs,rs=1.306562965*ft+Hs,Ur=.707106781*(Yt=ut+gt),lt=Ut+Ur,wn=Ut-Ur;Le[ot+5]=wn+Yn,Le[ot+3]=wn-Yn,Le[ot+1]=lt+rs,Le[ot+7]=lt-rs,ot+=8}for(ot=0,rt=0;rt<8;++rt){Be=Le[ot],_t=Le[ot+8],nt=Le[ot+16],Ot=Le[ot+24],wt=Le[ot+32],tt=Le[ot+40],St=Le[ot+48];var is=Be+(mt=Le[ot+56]),xr=Be-mt,br=_t+St,En=_t-St,ur=nt+tt,Tn=nt-tt,Ao=Ot+wt,Ws=Ot-wt,zr=is+Ao,ji=is-Ao,si=br+ur,qr=br-ur;Le[ot]=zr+si,Le[ot+32]=zr-si;var Xn=.707106781*(qr+ji);Le[ot+16]=ji+Xn,Le[ot+48]=ji-Xn;var Gs=.382683433*((zr=Ws+Tn)-(qr=En+xr)),Di=.5411961*zr+Gs,_s=1.306562965*qr+Gs,Ks=.707106781*(si=Tn+En),No=xr+Ks,Eo=xr-Ks;Le[ot+40]=Eo+Di,Le[ot+24]=Eo-Di,Le[ot+8]=No+_s,Le[ot+56]=No-_s,ot++}for(rt=0;rt<64;++rt)ht=Le[rt]*qe[rt],m[rt]=ht>0?ht+.5|0:ht-.5|0;return m}(V,Q),be=0;be<64;++be)b[R[be]]=he[be];var pe=b[0]-te;te=b[0],pe==0?ae(ie[0]):(ae(ie[g[ve=32767+pe]]),ae(d[ve]));for(var Ee=63;Ee>0&&b[Ee]==0;)Ee--;if(Ee==0)return ae(Ne),te;for(var fe,W=1;W<=Ee;){for(var ze=W;b[W]==0&&W<=Ee;)++W;var Qe=W-ze;if(Qe>=16){fe=Qe>>4;for(var Ue=1;Ue<=fe;++Ue)ae(Ae);Qe&=15}ve=32767+b[W],ae(le[(Qe<<4)+g[ve]]),ae(d[ve]),W++}return Ee!=63&&ae(Ne),te}function Se(V){V=Math.min(Math.max(V,1),100),s!=V&&(function(Q){for(var te=[16,11,10,16,24,40,51,61,12,12,14,19,26,58,60,55,14,13,16,24,40,57,69,56,14,17,22,29,51,87,80,62,18,22,37,56,68,109,103,77,24,35,55,64,81,104,113,92,49,64,78,87,103,121,120,101,72,92,95,98,112,100,103,99],ie=0;ie<64;ie++){var le=o((te[ie]*Q+50)/100);le=Math.min(Math.max(le,1),255),a[R[ie]]=le}for(var ve=[17,18,24,47,99,99,99,99,18,21,26,66,99,99,99,99,24,26,56,99,99,99,99,99,47,66,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99],Ne=0;Ne<64;Ne++){var Ae=o((ve[Ne]*Q+50)/100);Ae=Math.min(Math.max(Ae,1),255),l[R[Ne]]=Ae}for(var he=[1,1.387039845,1.306562965,1.175875602,1,.785694958,.5411961,.275899379],be=0,pe=0;pe<8;pe++)for(var Ee=0;Ee<8;Ee++)u[be]=1/(a[R[be]]*he[pe]*he[Ee]*8),c[be]=1/(l[R[be]]*he[pe]*he[Ee]*8),be++}(V<50?Math.floor(5e3/V):Math.floor(200-2*V)),s=V)}this.encode=function(V,Q){Q&&Se(Q),x=new Array,A=0,v=7,se(65496),se(65504),se(16),ee(74),ee(70),ee(73),ee(70),ee(0),ee(1),ee(1),ee(0),se(1),se(1),ee(0),ee(0),function(){se(65499),se(132),ee(0);for(var _t=0;_t<64;_t++)ee(a[_t]);ee(1);for(var nt=0;nt<64;nt++)ee(l[nt])}(),function(_t,nt){se(65472),se(17),ee(8),se(nt),se(_t),ee(3),ee(1),ee(17),ee(0),ee(2),ee(17),ee(1),ee(3),ee(17),ee(1)}(V.width,V.height),function(){se(65476),se(418),ee(0);for(var _t=0;_t<16;_t++)ee(C[_t+1]);for(var nt=0;nt<=11;nt++)ee(k[nt]);ee(16);for(var Ot=0;Ot<16;Ot++)ee(M[Ot+1]);for(var wt=0;wt<=161;wt++)ee(T[wt]);ee(1);for(var tt=0;tt<16;tt++)ee(I[tt+1]);for(var St=0;St<=11;St++)ee(D[St]);ee(17);for(var mt=0;mt<16;mt++)ee(H[mt+1]);for(var rt=0;rt<=161;rt++)ee(ne[rt])}(),se(65498),se(12),ee(3),ee(1),ee(0),ee(2),ee(17),ee(3),ee(17),ee(0),ee(63),ee(0);var te=0,ie=0,le=0;A=0,v=7,this.encode.displayName="_encode_";for(var ve,Ne,Ae,he,be,pe,Ee,fe,W,ze=V.data,Qe=V.width,Ue=V.height,Le=4*Qe,qe=0;qe<Ue;){for(ve=0;ve<Le;){for(be=Le*qe+ve,Ee=-1,fe=0,W=0;W<64;W++)pe=be+(fe=W>>3)*Le+(Ee=4*(7&W)),qe+fe>=Ue&&(pe-=Le*(qe+1+fe-Ue)),ve+Ee>=Le&&(pe-=ve+Ee-Le+4),Ne=ze[pe++],Ae=ze[pe++],he=ze[pe++],_[W]=(Y[Ne]+Y[Ae+256|0]+Y[he+512|0]>>16)-128,E[W]=(Y[Ne+768|0]+Y[Ae+1024|0]+Y[he+1280|0]>>16)-128,L[W]=(Y[Ne+1280|0]+Y[Ae+1536|0]+Y[he+1792|0]>>16)-128;te=ye(_,u,te,e,r),ie=ye(E,c,ie,n,i),le=ye(L,c,le,n,i),ve+=32}qe+=8}if(v>=0){var Be=[];Be[1]=v+1,Be[0]=(1<<v+1)-1,ae(Be)}return se(65497),new Uint8Array(x)},t=t||50,function(){for(var V=String.fromCharCode,Q=0;Q<256;Q++)z[Q]=V(Q)}(),e=ue(C,k),n=ue(I,D),r=ue(M,T),i=ue(H,ne),function(){for(var V=1,Q=2,te=1;te<=15;te++){for(var ie=V;ie<Q;ie++)g[32767+ie]=te,d[32767+ie]=[],d[32767+ie][1]=te,d[32767+ie][0]=ie;for(var le=-(Q-1);le<=-V;le++)g[32767+le]=te,d[32767+le]=[],d[32767+le][1]=te,d[32767+le][0]=Q-1+le;V<<=1,Q<<=1}}(),function(){for(var V=0;V<256;V++)Y[V]=19595*V,Y[V+256|0]=38470*V,Y[V+512|0]=7471*V+32768,Y[V+768|0]=-11059*V,Y[V+1024|0]=-21709*V,Y[V+1280|0]=32768*V+8421375,Y[V+1536|0]=-27439*V,Y[V+1792|0]=-5329*V}(),Se(t)}/**
 * @license
 * Copyright (c) 2017 Aras Abbasi
 *
 * Licensed under the MIT License.
 * http://opensource.org/licenses/mit-license
 */function Ls(t,e){if(this.pos=0,this.buffer=t,this.datav=new DataView(t.buffer),this.is_with_alpha=!!e,this.bottom_up=!0,this.flag=String.fromCharCode(this.buffer[0])+String.fromCharCode(this.buffer[1]),this.pos+=2,["BM","BA","CI","CP","IC","PT"].indexOf(this.flag)===-1)throw new Error("Invalid BMP File");this.parseHeader(),this.parseBGR()}function f_(t){function e(k){if(!k)throw Error("assert :P")}function n(k,M,T){for(var I=0;4>I;I++)if(k[M+I]!=T.charCodeAt(I))return!0;return!1}function r(k,M,T,I,D){for(var H=0;H<D;H++)k[M+H]=T[I+H]}function i(k,M,T,I){for(var D=0;D<I;D++)k[M+D]=T}function s(k){return new Int32Array(k)}function o(k,M){for(var T=[],I=0;I<k;I++)T.push(new M);return T}function a(k,M){var T=[];return function I(D,H,ne){for(var ue=ne[H],ae=0;ae<ue&&(D.push(ne.length>H+1?[]:new M),!(ne.length<H+1));ae++)I(D[ae],H+1,ne)}(T,0,k),T}var l=function(){var k=this;function M(h,y){for(var S=1<<y-1>>>0;h&S;)S>>>=1;return S?(h&S-1)+S:h}function T(h,y,S,P,O){e(!(P%S));do h[y+(P-=S)]=O;while(0<P)}function I(h,y,S,P,O){if(e(2328>=O),512>=O)var B=s(512);else if((B=s(O))==null)return 0;return function(U,q,K,J,oe,xe){var Z,ce,ge=q,Te=1<<K,we=s(16),Pe=s(16);for(e(oe!=0),e(J!=null),e(U!=null),e(0<K),ce=0;ce<oe;++ce){if(15<J[ce])return 0;++we[J[ce]]}if(we[0]==oe)return 0;for(Pe[1]=0,Z=1;15>Z;++Z){if(we[Z]>1<<Z)return 0;Pe[Z+1]=Pe[Z]+we[Z]}for(ce=0;ce<oe;++ce)Z=J[ce],0<J[ce]&&(xe[Pe[Z]++]=ce);if(Pe[15]==1)return(J=new D).g=0,J.value=xe[0],T(U,ge,1,Te,J),Te;var ke,Me=-1,je=Te-1,it=0,Ge=1,Ct=1,Ze=1<<K;for(ce=0,Z=1,oe=2;Z<=K;++Z,oe<<=1){if(Ge+=Ct<<=1,0>(Ct-=we[Z]))return 0;for(;0<we[Z];--we[Z])(J=new D).g=Z,J.value=xe[ce++],T(U,ge+it,oe,Ze,J),it=M(it,Z)}for(Z=K+1,oe=2;15>=Z;++Z,oe<<=1){if(Ge+=Ct<<=1,0>(Ct-=we[Z]))return 0;for(;0<we[Z];--we[Z]){if(J=new D,(it&je)!=Me){for(ge+=Ze,ke=1<<(Me=Z)-K;15>Me&&!(0>=(ke-=we[Me]));)++Me,ke<<=1;Te+=Ze=1<<(ke=Me-K),U[q+(Me=it&je)].g=ke+K,U[q+Me].value=ge-q-Me}J.g=Z-K,J.value=xe[ce++],T(U,ge+(it>>K),oe,Ze,J),it=M(it,Z)}}return Ge!=2*Pe[15]-1?0:Te}(h,y,S,P,O,B)}function D(){this.value=this.g=0}function H(){this.value=this.g=0}function ne(){this.G=o(5,D),this.H=s(5),this.jc=this.Qb=this.qb=this.nd=0,this.pd=o(Il,H)}function ue(h,y,S,P){e(h!=null),e(y!=null),e(2147483648>P),h.Ca=254,h.I=0,h.b=-8,h.Ka=0,h.oa=y,h.pa=S,h.Jd=y,h.Yc=S+P,h.Zc=4<=P?S+P-4+1:S,Ne(h)}function ae(h,y){for(var S=0;0<y--;)S|=he(h,128)<<y;return S}function ee(h,y){var S=ae(h,y);return Ae(h)?-S:S}function se(h,y,S,P){var O,B=0;for(e(h!=null),e(y!=null),e(4294967288>P),h.Sb=P,h.Ra=0,h.u=0,h.h=0,4<P&&(P=4),O=0;O<P;++O)B+=y[S+O]<<8*O;h.Ra=B,h.bb=P,h.oa=y,h.pa=S}function ye(h){for(;8<=h.u&&h.bb<h.Sb;)h.Ra>>>=8,h.Ra+=h.oa[h.pa+h.bb]<<ya-8>>>0,++h.bb,h.u-=8;ie(h)&&(h.h=1,h.u=0)}function Se(h,y){if(e(0<=y),!h.h&&y<=Ui){var S=te(h)&Bi[y];return h.u+=y,ye(h),S}return h.h=1,h.u=0}function V(){this.b=this.Ca=this.I=0,this.oa=[],this.pa=0,this.Jd=[],this.Yc=0,this.Zc=[],this.Ka=0}function Q(){this.Ra=0,this.oa=[],this.h=this.u=this.bb=this.Sb=this.pa=0}function te(h){return h.Ra>>>(h.u&ya-1)>>>0}function ie(h){return e(h.bb<=h.Sb),h.h||h.bb==h.Sb&&h.u>ya}function le(h,y){h.u=y,h.h=ie(h)}function ve(h){h.u>=Ro&&(e(h.u>=Ro),ye(h))}function Ne(h){e(h!=null&&h.oa!=null),h.pa<h.Zc?(h.I=(h.oa[h.pa++]|h.I<<8)>>>0,h.b+=8):(e(h!=null&&h.oa!=null),h.pa<h.Yc?(h.b+=8,h.I=h.oa[h.pa++]|h.I<<8):h.Ka?h.b=0:(h.I<<=8,h.b+=8,h.Ka=1))}function Ae(h){return ae(h,1)}function he(h,y){var S=h.Ca;0>h.b&&Ne(h);var P=h.b,O=S*y>>>8,B=(h.I>>>P>O)+0;for(B?(S-=O,h.I-=O+1<<P>>>0):S=O+1,P=S,O=0;256<=P;)O+=8,P>>=8;return P=7^O+va[P],h.b-=P,h.Ca=(S<<P)-1,B}function be(h,y,S){h[y+0]=S>>24&255,h[y+1]=S>>16&255,h[y+2]=S>>8&255,h[y+3]=255&S}function pe(h,y){return h[y+0]|h[y+1]<<8}function Ee(h,y){return pe(h,y)|h[y+2]<<16}function fe(h,y){return pe(h,y)|pe(h,y+2)<<16}function W(h,y){var S=1<<y;return e(h!=null),e(0<y),h.X=s(S),h.X==null?0:(h.Mb=32-y,h.Xa=y,1)}function ze(h,y){e(h!=null),e(y!=null),e(h.Xa==y.Xa),r(y.X,0,h.X,0,1<<y.Xa)}function Qe(){this.X=[],this.Xa=this.Mb=0}function Ue(h,y,S,P){e(S!=null),e(P!=null);var O=S[0],B=P[0];return O==0&&(O=(h*B+y/2)/y),B==0&&(B=(y*O+h/2)/h),0>=O||0>=B?0:(S[0]=O,P[0]=B,1)}function Le(h,y){return h+(1<<y)-1>>>y}function qe(h,y){return((4278255360&h)+(4278255360&y)>>>0&4278255360)+((16711935&h)+(16711935&y)>>>0&16711935)>>>0}function Be(h,y){k[y]=function(S,P,O,B,U,q,K){var J;for(J=0;J<U;++J){var oe=k[h](q[K+J-1],O,B+J);q[K+J]=qe(S[P+J],oe)}}}function _t(){this.ud=this.hd=this.jd=0}function nt(h,y){return((4278124286&(h^y))>>>1)+(h&y)>>>0}function Ot(h){return 0<=h&&256>h?h:0>h?0:255<h?255:void 0}function wt(h,y){return Ot(h+(h-y+.5>>1))}function tt(h,y,S){return Math.abs(y-S)-Math.abs(h-S)}function St(h,y,S,P,O,B,U){for(P=B[U-1],S=0;S<O;++S)B[U+S]=P=qe(h[y+S],P)}function mt(h,y,S,P,O){var B;for(B=0;B<S;++B){var U=h[y+B],q=U>>8&255,K=16711935&(K=(K=16711935&U)+((q<<16)+q));P[O+B]=(4278255360&U)+K>>>0}}function rt(h,y){y.jd=255&h,y.hd=h>>8&255,y.ud=h>>16&255}function ht(h,y,S,P,O,B){var U;for(U=0;U<P;++U){var q=y[S+U],K=q>>>8,J=q,oe=255&(oe=(oe=q>>>16)+((h.jd<<24>>24)*(K<<24>>24)>>>5));J=255&(J=(J+=(h.hd<<24>>24)*(K<<24>>24)>>>5)+((h.ud<<24>>24)*(oe<<24>>24)>>>5)),O[B+U]=(4278255360&q)+(oe<<16)+J}}function ot(h,y,S,P,O){k[y]=function(B,U,q,K,J,oe,xe,Z,ce){for(K=xe;K<Z;++K)for(xe=0;xe<ce;++xe)J[oe++]=O(q[P(B[U++])])},k[h]=function(B,U,q,K,J,oe,xe){var Z=8>>B.b,ce=B.Ea,ge=B.K[0],Te=B.w;if(8>Z)for(B=(1<<B.b)-1,Te=(1<<Z)-1;U<q;++U){var we,Pe=0;for(we=0;we<ce;++we)we&B||(Pe=P(K[J++])),oe[xe++]=O(ge[Pe&Te]),Pe>>=Z}else k["VP8LMapColor"+S](K,J,ge,Te,oe,xe,U,q,ce)}}function Kt(h,y,S,P,O){for(S=y+S;y<S;){var B=h[y++];P[O++]=B>>16&255,P[O++]=B>>8&255,P[O++]=255&B}}function Ut(h,y,S,P,O){for(S=y+S;y<S;){var B=h[y++];P[O++]=B>>16&255,P[O++]=B>>8&255,P[O++]=255&B,P[O++]=B>>24&255}}function Je(h,y,S,P,O){for(S=y+S;y<S;){var B=(U=h[y++])>>16&240|U>>12&15,U=240&U|U>>28&15;P[O++]=B,P[O++]=U}}function gt(h,y,S,P,O){for(S=y+S;y<S;){var B=(U=h[y++])>>16&248|U>>13&7,U=U>>5&224|U>>3&31;P[O++]=B,P[O++]=U}}function en(h,y,S,P,O){for(S=y+S;y<S;){var B=h[y++];P[O++]=255&B,P[O++]=B>>8&255,P[O++]=B>>16&255}}function ut(h,y,S,P,O,B){if(B==0)for(S=y+S;y<S;)be(P,((B=h[y++])[0]>>24|B[1]>>8&65280|B[2]<<8&16711680|B[3]<<24)>>>0),O+=32;else r(P,O,h,y,S)}function kt(h,y){k[y][0]=k[h+"0"],k[y][1]=k[h+"1"],k[y][2]=k[h+"2"],k[y][3]=k[h+"3"],k[y][4]=k[h+"4"],k[y][5]=k[h+"5"],k[y][6]=k[h+"6"],k[y][7]=k[h+"7"],k[y][8]=k[h+"8"],k[y][9]=k[h+"9"],k[y][10]=k[h+"10"],k[y][11]=k[h+"11"],k[y][12]=k[h+"12"],k[y][13]=k[h+"13"],k[y][14]=k[h+"0"],k[y][15]=k[h+"0"]}function xt(h){return h==_0||h==S0||h==yd||h==A0}function Nn(){this.eb=[],this.size=this.A=this.fb=0}function vn(){this.y=[],this.f=[],this.ea=[],this.F=[],this.Tc=this.Ed=this.Cd=this.Fd=this.lb=this.Db=this.Ab=this.fa=this.J=this.W=this.N=this.O=0}function Yt(){this.Rd=this.height=this.width=this.S=0,this.f={},this.f.RGBA=new Nn,this.f.kb=new vn,this.sd=null}function ft(){this.width=[0],this.height=[0],this.Pd=[0],this.Qd=[0],this.format=[0]}function Lt(){this.Id=this.fd=this.Md=this.hb=this.ib=this.da=this.bd=this.cd=this.j=this.v=this.Da=this.Sd=this.ob=0}function Hs(h){return alert("todo:WebPSamplerProcessPlane"),h.T}function Yn(h,y){var S=h.T,P=y.ba.f.RGBA,O=P.eb,B=P.fb+h.ka*P.A,U=cs[y.ba.S],q=h.y,K=h.O,J=h.f,oe=h.N,xe=h.ea,Z=h.W,ce=y.cc,ge=y.dc,Te=y.Mc,we=y.Nc,Pe=h.ka,ke=h.ka+h.T,Me=h.U,je=Me+1>>1;for(Pe==0?U(q,K,null,null,J,oe,xe,Z,J,oe,xe,Z,O,B,null,null,Me):(U(y.ec,y.fc,q,K,ce,ge,Te,we,J,oe,xe,Z,O,B-P.A,O,B,Me),++S);Pe+2<ke;Pe+=2)ce=J,ge=oe,Te=xe,we=Z,oe+=h.Rc,Z+=h.Rc,B+=2*P.A,U(q,(K+=2*h.fa)-h.fa,q,K,ce,ge,Te,we,J,oe,xe,Z,O,B-P.A,O,B,Me);return K+=h.fa,h.j+ke<h.o?(r(y.ec,y.fc,q,K,Me),r(y.cc,y.dc,J,oe,je),r(y.Mc,y.Nc,xe,Z,je),S--):1&ke||U(q,K,null,null,J,oe,xe,Z,J,oe,xe,Z,O,B+P.A,null,null,Me),S}function rs(h,y,S){var P=h.F,O=[h.J];if(P!=null){var B=h.U,U=y.ba.S,q=U==gd||U==yd;y=y.ba.f.RGBA;var K=[0],J=h.ka;K[0]=h.T,h.Kb&&(J==0?--K[0]:(--J,O[0]-=h.width),h.j+h.ka+h.T==h.o&&(K[0]=h.o-h.j-J));var oe=y.eb;J=y.fb+J*y.A,h=F5(P,O[0],h.width,B,K,oe,J+(q?0:3),y.A),e(S==K),h&&xt(U)&&ih(oe,J,q,B,K,y.A)}return 0}function Ur(h){var y=h.ma,S=y.ba.S,P=11>S,O=S==pd||S==md||S==gd||S==b0||S==12||xt(S);if(y.memory=null,y.Ib=null,y.Jb=null,y.Nd=null,!Yc(y.Oa,h,O?11:12))return 0;if(O&&xt(S)&&kl(),h.da)alert("todo:use_scaling");else{if(P){if(y.Ib=Hs,h.Kb){if(S=h.U+1>>1,y.memory=s(h.U+2*S),y.memory==null)return 0;y.ec=y.memory,y.fc=0,y.cc=y.ec,y.dc=y.fc+h.U,y.Mc=y.cc,y.Nc=y.dc+S,y.Ib=Yn,kl()}}else alert("todo:EmitYUV");O&&(y.Jb=rs,P&&pn())}if(P&&!Z5){for(h=0;256>h;++h)QT[h]=89858*(h-128)+wd>>vd,JT[h]=-22014*(h-128)+wd,XT[h]=-45773*(h-128),YT[h]=113618*(h-128)+wd>>vd;for(h=oh;h<T0;++h)y=76283*(h-16)+wd>>vd,ZT[h-oh]=It(y,255),eC[h-oh]=It(y+8>>4,15);Z5=1}return 1}function lt(h){var y=h.ma,S=h.U,P=h.T;return e(!(1&h.ka)),0>=S||0>=P?0:(S=y.Ib(h,y),y.Jb!=null&&y.Jb(h,y,S),y.Dc+=S,1)}function wn(h){h.ma.memory=null}function is(h,y,S,P){return Se(h,8)!=47?0:(y[0]=Se(h,14)+1,S[0]=Se(h,14)+1,P[0]=Se(h,1),Se(h,3)!=0?0:!h.h)}function xr(h,y){if(4>h)return h+1;var S=h-2>>1;return(2+(1&h)<<S)+Se(y,S)+1}function br(h,y){return 120<y?y-120:1<=(S=((S=DT[y-1])>>4)*h+(8-(15&S)))?S:1;var S}function En(h,y,S){var P=te(S),O=h[y+=255&P].g-8;return 0<O&&(le(S,S.u+8),P=te(S),y+=h[y].value,y+=P&(1<<O)-1),le(S,S.u+h[y].g),h[y].value}function ur(h,y,S){return S.g+=h.g,S.value+=h.value<<y>>>0,e(8>=S.g),h.g}function Tn(h,y,S){var P=h.xc;return e((y=P==0?0:h.vc[h.md*(S>>P)+(y>>P)])<h.Wb),h.Ya[y]}function Ao(h,y,S,P){var O=h.ab,B=h.c*y,U=h.C;y=U+y;var q=S,K=P;for(P=h.Ta,S=h.Ua;0<O--;){var J=h.gc[O],oe=U,xe=y,Z=q,ce=K,ge=(K=P,q=S,J.Ea);switch(e(oe<xe),e(xe<=J.nc),J.hc){case 2:Jn(Z,ce,(xe-oe)*ge,K,q);break;case 0:var Te=oe,we=xe,Pe=K,ke=q,Me=(Ze=J).Ea;Te==0&&(Jc(Z,ce,null,null,1,Pe,ke),St(Z,ce+1,0,0,Me-1,Pe,ke+1),ce+=Me,ke+=Me,++Te);for(var je=1<<Ze.b,it=je-1,Ge=Le(Me,Ze.b),Ct=Ze.K,Ze=Ze.w+(Te>>Ze.b)*Ge;Te<we;){var Bt=Ct,mr=Ze,Pt=1;for(Su(Z,ce,Pe,ke-Me,1,Pe,ke);Pt<Me;){var et=(Pt&~it)+je;et>Me&&(et=Me),(0,eh[Bt[mr++]>>8&15])(Z,ce+ +Pt,Pe,ke+Pt-Me,et-Pt,Pe,ke+Pt),Pt=et}ce+=Me,ke+=Me,++Te&it||(Ze+=Ge)}xe!=J.nc&&r(K,q-ge,K,q+(xe-oe-1)*ge,ge);break;case 1:for(ge=Z,we=ce,Me=(Z=J.Ea)-(ke=Z&~(Pe=(ce=1<<J.b)-1)),Te=Le(Z,J.b),je=J.K,J=J.w+(oe>>J.b)*Te;oe<xe;){for(it=je,Ge=J,Ct=new _t,Ze=we+ke,Bt=we+Z;we<Ze;)rt(it[Ge++],Ct),th(Ct,ge,we,ce,K,q),we+=ce,q+=ce;we<Bt&&(rt(it[Ge++],Ct),th(Ct,ge,we,Me,K,q),we+=Me,q+=Me),++oe&Pe||(J+=Te)}break;case 3:if(Z==K&&ce==q&&0<J.b){for(we=K,Z=ge=q+(xe-oe)*ge-(ke=(xe-oe)*Le(J.Ea,J.b)),ce=K,Pe=q,Te=[],ke=(Me=ke)-1;0<=ke;--ke)Te[ke]=ce[Pe+ke];for(ke=Me-1;0<=ke;--ke)we[Z+ke]=Te[ke];cd(J,oe,xe,K,ge,K,q)}else cd(J,oe,xe,Z,ce,K,q)}q=P,K=S}K!=S&&r(P,S,q,K,B)}function Ws(h,y){var S=h.V,P=h.Ba+h.c*h.C,O=y-h.C;if(e(y<=h.l.o),e(16>=O),0<O){var B=h.l,U=h.Ta,q=h.Ua,K=B.width;if(Ao(h,O,S,P),O=q=[q],e((S=h.C)<(P=y)),e(B.v<B.va),P>B.o&&(P=B.o),S<B.j){var J=B.j-S;S=B.j,O[0]+=J*K}if(S>=P?S=0:(O[0]+=4*B.v,B.ka=S-B.j,B.U=B.va-B.v,B.T=P-S,S=1),S){if(q=q[0],11>(S=h.ca).S){var oe=S.f.RGBA,xe=(P=S.S,O=B.U,B=B.T,J=oe.eb,oe.A),Z=B;for(oe=oe.fb+h.Ma*oe.A;0<Z--;){var ce=U,ge=q,Te=O,we=J,Pe=oe;switch(P){case dd:nh(ce,ge,Te,we,Pe);break;case pd:wa(ce,ge,Te,we,Pe);break;case _0:wa(ce,ge,Te,we,Pe),ih(we,Pe,0,Te,1,0);break;case $5:Ll(ce,ge,Te,we,Pe);break;case md:ut(ce,ge,Te,we,Pe,1);break;case S0:ut(ce,ge,Te,we,Pe,1),ih(we,Pe,0,Te,1,0);break;case gd:ut(ce,ge,Te,we,Pe,0);break;case yd:ut(ce,ge,Te,we,Pe,0),ih(we,Pe,1,Te,1,0);break;case b0:xa(ce,ge,Te,we,Pe);break;case A0:xa(ce,ge,Te,we,Pe),M5(we,Pe,Te,1,0);break;case H5:ba(ce,ge,Te,we,Pe);break;default:e(0)}q+=K,oe+=xe}h.Ma+=B}else alert("todo:EmitRescaledRowsYUVA");e(h.Ma<=S.height)}}h.C=y,e(h.C<=h.i)}function zr(h){var y;if(0<h.ua)return 0;for(y=0;y<h.Wb;++y){var S=h.Ya[y].G,P=h.Ya[y].H;if(0<S[1][P[1]+0].g||0<S[2][P[2]+0].g||0<S[3][P[3]+0].g)return 0}return 1}function ji(h,y,S,P,O,B){if(h.Z!=0){var U=h.qd,q=h.rd;for(e(Aa[h.Z]!=null);y<S;++y)Aa[h.Z](U,q,P,O,P,O,B),U=P,q=O,O+=B;h.qd=U,h.rd=q}}function si(h,y){var S=h.l.ma,P=S.Z==0||S.Z==1?h.l.j:h.C;if(P=h.C<P?P:h.C,e(y<=h.l.o),y>P){var O=h.l.width,B=S.ca,U=S.tb+O*P,q=h.V,K=h.Ba+h.c*P,J=h.gc;e(h.ab==1),e(J[0].hc==3),so(J[0],P,y,q,K,B,U),ji(S,P,y,B,U,O)}h.C=h.Ma=y}function qr(h,y,S,P,O,B,U){var q=h.$/P,K=h.$%P,J=h.m,oe=h.s,xe=S+h.$,Z=xe;O=S+P*O;var ce=S+P*B,ge=280+oe.ua,Te=h.Pb?q:16777216,we=0<oe.ua?oe.Wa:null,Pe=oe.wc,ke=xe<ce?Tn(oe,K,q):null;e(h.C<B),e(ce<=O);var Me=!1;e:for(;;){for(;Me||xe<ce;){var je=0;if(q>=Te){var it=xe-S;e((Te=h).Pb),Te.wd=Te.m,Te.xd=it,0<Te.s.ua&&ze(Te.s.Wa,Te.s.vb),Te=q+FT}if(K&Pe||(ke=Tn(oe,K,q)),e(ke!=null),ke.Qb&&(y[xe]=ke.qb,Me=!0),!Me)if(ve(J),ke.jc){je=J,it=y;var Ge=xe,Ct=ke.pd[te(je)&Il-1];e(ke.jc),256>Ct.g?(le(je,je.u+Ct.g),it[Ge]=Ct.value,je=0):(le(je,je.u+Ct.g-256),e(256<=Ct.value),je=Ct.value),je==0&&(Me=!0)}else je=En(ke.G[0],ke.H[0],J);if(J.h)break;if(Me||256>je){if(!Me)if(ke.nd)y[xe]=(ke.qb|je<<8)>>>0;else{if(ve(J),Me=En(ke.G[1],ke.H[1],J),ve(J),it=En(ke.G[2],ke.H[2],J),Ge=En(ke.G[3],ke.H[3],J),J.h)break;y[xe]=(Ge<<24|Me<<16|je<<8|it)>>>0}if(Me=!1,++xe,++K>=P&&(K=0,++q,U!=null&&q<=B&&!(q%16)&&U(h,q),we!=null))for(;Z<xe;)je=y[Z++],we.X[(506832829*je&4294967295)>>>we.Mb]=je}else if(280>je){if(je=xr(je-256,J),it=En(ke.G[4],ke.H[4],J),ve(J),it=br(P,it=xr(it,J)),J.h)break;if(xe-S<it||O-xe<je)break e;for(Ge=0;Ge<je;++Ge)y[xe+Ge]=y[xe+Ge-it];for(xe+=je,K+=je;K>=P;)K-=P,++q,U!=null&&q<=B&&!(q%16)&&U(h,q);if(e(xe<=O),K&Pe&&(ke=Tn(oe,K,q)),we!=null)for(;Z<xe;)je=y[Z++],we.X[(506832829*je&4294967295)>>>we.Mb]=je}else{if(!(je<ge))break e;for(Me=je-280,e(we!=null);Z<xe;)je=y[Z++],we.X[(506832829*je&4294967295)>>>we.Mb]=je;je=xe,e(!(Me>>>(it=we).Xa)),y[je]=it.X[Me],Me=!0}Me||e(J.h==ie(J))}if(h.Pb&&J.h&&xe<O)e(h.m.h),h.a=5,h.m=h.wd,h.$=h.xd,0<h.s.ua&&ze(h.s.vb,h.s.Wa);else{if(J.h)break e;U!=null&&U(h,q>B?B:q),h.a=0,h.$=xe-S}return 1}return h.a=3,0}function Xn(h){e(h!=null),h.vc=null,h.yc=null,h.Ya=null;var y=h.Wa;y!=null&&(y.X=null),h.vb=null,e(h!=null)}function Gs(){var h=new Ye;return h==null?null:(h.a=0,h.xb=K5,kt("Predictor","VP8LPredictors"),kt("Predictor","VP8LPredictors_C"),kt("PredictorAdd","VP8LPredictorsAdd"),kt("PredictorAdd","VP8LPredictorsAdd_C"),Jn=mt,th=ht,nh=Kt,wa=Ut,xa=Je,ba=gt,Ll=en,k.VP8LMapColor32b=io,k.VP8LMapColor8b=Zc,h)}function Di(h,y,S,P,O){var B=1,U=[h],q=[y],K=P.m,J=P.s,oe=null,xe=0;e:for(;;){if(S)for(;B&&Se(K,1);){var Z=U,ce=q,ge=P,Te=1,we=ge.m,Pe=ge.gc[ge.ab],ke=Se(we,2);if(ge.Oc&1<<ke)B=0;else{switch(ge.Oc|=1<<ke,Pe.hc=ke,Pe.Ea=Z[0],Pe.nc=ce[0],Pe.K=[null],++ge.ab,e(4>=ge.ab),ke){case 0:case 1:Pe.b=Se(we,3)+2,Te=Di(Le(Pe.Ea,Pe.b),Le(Pe.nc,Pe.b),0,ge,Pe.K),Pe.K=Pe.K[0];break;case 3:var Me,je=Se(we,8)+1,it=16<je?0:4<je?1:2<je?2:3;if(Z[0]=Le(Pe.Ea,it),Pe.b=it,Me=Te=Di(je,1,0,ge,Pe.K)){var Ge,Ct=je,Ze=Pe,Bt=1<<(8>>Ze.b),mr=s(Bt);if(mr==null)Me=0;else{var Pt=Ze.K[0],et=Ze.w;for(mr[0]=Ze.K[0][0],Ge=1;Ge<1*Ct;++Ge)mr[Ge]=qe(Pt[et+Ge],mr[Ge-1]);for(;Ge<4*Bt;++Ge)mr[Ge]=0;Ze.K[0]=null,Ze.K[0]=mr,Me=1}}Te=Me;break;case 2:break;default:e(0)}B=Te}}if(U=U[0],q=q[0],B&&Se(K,1)&&!(B=1<=(xe=Se(K,4))&&11>=xe)){P.a=3;break e}var Ve;if(Ve=B)t:{var er,Tt,qt,xn=P,kr=U,li=q,zn=xe,Hr=S,ui=xn.m,gr=xn.s,Ht=[null],rn=1,qn=0,sn=MT[zn];n:for(;;){if(Hr&&Se(ui,1)){var Ir=Se(ui,3)+2,Ps=Le(kr,Ir),tr=Le(li,Ir),Si=Ps*tr;if(!Di(Ps,tr,0,xn,Ht))break n;for(Ht=Ht[0],gr.xc=Ir,er=0;er<Si;++er){var fn=Ht[er]>>8&65535;Ht[er]=fn,fn>=rn&&(rn=fn+1)}}if(ui.h)break n;for(Tt=0;5>Tt;++Tt){var yr=W5[Tt];!Tt&&0<zn&&(yr+=1<<zn),qn<yr&&(qn=yr)}var qi=o(rn*sn,D),ci=rn,$i=o(ci,ne);if($i==null)var Hi=null;else e(65536>=ci),Hi=$i;var Ai=s(qn);if(Hi==null||Ai==null||qi==null){xn.a=1;break n}var Wi=qi;for(er=qt=0;er<rn;++er){var gn=Hi[er],Gi=gn.G,ks=gn.H,jl=0,Mo=1,Lr=0;for(Tt=0;5>Tt;++Tt){yr=W5[Tt],Gi[Tt]=Wi,ks[Tt]=qt,!Tt&&0<zn&&(yr+=1<<zn);i:{var bd,C0=yr,_d=xn,ah=Ai,rC=Wi,iC=qt,P0=0,Na=_d.m,sC=Se(Na,1);if(i(ah,0,0,C0),sC){var oC=Se(Na,1)+1,aC=Se(Na,1),nw=Se(Na,aC==0?1:8);ah[nw]=1,oC==2&&(ah[nw=Se(Na,8)]=1);var Sd=1}else{var rw=s(19),iw=Se(Na,4)+4;if(19<iw){_d.a=3;var Ad=0;break i}for(bd=0;bd<iw;++bd)rw[jT[bd]]=Se(Na,3);var k0=void 0,lh=void 0,sw=_d,lC=rw,Nd=C0,ow=ah,I0=0,Ea=sw.m,aw=8,lw=o(128,D);r:for(;I(lw,0,7,lC,19);){if(Se(Ea,1)){var uC=2+2*Se(Ea,3);if((k0=2+Se(Ea,uC))>Nd)break r}else k0=Nd;for(lh=0;lh<Nd&&k0--;){ve(Ea);var uw=lw[0+(127&te(Ea))];le(Ea,Ea.u+uw.g);var Nu=uw.value;if(16>Nu)ow[lh++]=Nu,Nu!=0&&(aw=Nu);else{var cC=Nu==16,cw=Nu-16,hC=LT[cw],hw=Se(Ea,IT[cw])+hC;if(lh+hw>Nd)break r;for(var fC=cC?aw:0;0<hw--;)ow[lh++]=fC}}I0=1;break r}I0||(sw.a=3),Sd=I0}(Sd=Sd&&!Na.h)&&(P0=I(rC,iC,8,ah,C0)),Sd&&P0!=0?Ad=P0:(_d.a=3,Ad=0)}if(Ad==0)break n;if(Mo&&RT[Tt]==1&&(Mo=Wi[qt].g==0),jl+=Wi[qt].g,qt+=Ad,3>=Tt){var uh,L0=Ai[0];for(uh=1;uh<yr;++uh)Ai[uh]>L0&&(L0=Ai[uh]);Lr+=L0}}if(gn.nd=Mo,gn.Qb=0,Mo&&(gn.qb=(Gi[3][ks[3]+0].value<<24|Gi[1][ks[1]+0].value<<16|Gi[2][ks[2]+0].value)>>>0,jl==0&&256>Gi[0][ks[0]+0].value&&(gn.Qb=1,gn.qb+=Gi[0][ks[0]+0].value<<8)),gn.jc=!gn.Qb&&6>Lr,gn.jc){var Ed,Fo=gn;for(Ed=0;Ed<Il;++Ed){var Ta=Ed,Ca=Fo.pd[Ta],Td=Fo.G[0][Fo.H[0]+Ta];256<=Td.value?(Ca.g=Td.g+256,Ca.value=Td.value):(Ca.g=0,Ca.value=0,Ta>>=ur(Td,8,Ca),Ta>>=ur(Fo.G[1][Fo.H[1]+Ta],16,Ca),Ta>>=ur(Fo.G[2][Fo.H[2]+Ta],0,Ca),ur(Fo.G[3][Fo.H[3]+Ta],24,Ca))}}}gr.vc=Ht,gr.Wb=rn,gr.Ya=Hi,gr.yc=qi,Ve=1;break t}Ve=0}if(!(B=Ve)){P.a=3;break e}if(0<xe){if(J.ua=1<<xe,!W(J.Wa,xe)){P.a=1,B=0;break e}}else J.ua=0;var R0=P,fw=U,dC=q,j0=R0.s,D0=j0.xc;if(R0.c=fw,R0.i=dC,j0.md=Le(fw,D0),j0.wc=D0==0?-1:(1<<D0)-1,S){P.xb=$T;break e}if((oe=s(U*q))==null){P.a=1,B=0;break e}B=(B=qr(P,oe,0,U,q,q,null))&&!K.h;break e}return B?(O!=null?O[0]=oe:(e(oe==null),e(S)),P.$=0,S||Xn(J)):Xn(J),B}function _s(h,y){var S=h.c*h.i,P=S+y+16*y;return e(h.c<=y),h.V=s(P),h.V==null?(h.Ta=null,h.Ua=0,h.a=1,0):(h.Ta=h.V,h.Ua=h.Ba+S+y,1)}function Ks(h,y){var S=h.C,P=y-S,O=h.V,B=h.Ba+h.c*S;for(e(y<=h.l.o);0<P;){var U=16<P?16:P,q=h.l.ma,K=h.l.width,J=K*U,oe=q.ca,xe=q.tb+K*S,Z=h.Ta,ce=h.Ua;Ao(h,U,O,B),O5(Z,ce,oe,xe,J),ji(q,S,S+U,oe,xe,K),P-=U,O+=U*h.c,S+=U}e(S==y),h.C=h.Ma=y}function No(){this.ub=this.yd=this.td=this.Rb=0}function Eo(){this.Kd=this.Ld=this.Ud=this.Td=this.i=this.c=0}function qc(){this.Fb=this.Bb=this.Cb=0,this.Zb=s(4),this.Lb=s(4)}function Qs(){this.Yb=function(){var h=[];return function y(S,P,O){for(var B=O[P],U=0;U<B&&(S.push(O.length>P+1?[]:0),!(O.length<P+1));U++)y(S[U],P+1,O)}(h,0,[3,11]),h}()}function gl(){this.jb=s(3),this.Wc=a([4,8],Qs),this.Xc=a([4,17],Qs)}function aa(){this.Pc=this.wb=this.Tb=this.zd=0,this.vd=new s(4),this.od=new s(4)}function _r(){this.ld=this.La=this.dd=this.tc=0}function Mi(){this.Na=this.la=0}function la(){this.Sc=[0,0],this.Eb=[0,0],this.Qc=[0,0],this.ia=this.lc=0}function yl(){this.ad=s(384),this.Za=0,this.Ob=s(16),this.$b=this.Ad=this.ia=this.Gc=this.Hc=this.Dd=0}function vl(){this.uc=this.M=this.Nb=0,this.wa=Array(new _r),this.Y=0,this.ya=Array(new yl),this.aa=0,this.l=new Ys}function wl(){this.y=s(16),this.f=s(8),this.ea=s(8)}function xl(){this.cb=this.a=0,this.sc="",this.m=new V,this.Od=new No,this.Kc=new Eo,this.ed=new aa,this.Qa=new qc,this.Ic=this.$c=this.Aa=0,this.D=new vl,this.Xb=this.Va=this.Hb=this.zb=this.yb=this.Ub=this.za=0,this.Jc=o(8,V),this.ia=0,this.pb=o(4,la),this.Pa=new gl,this.Bd=this.kc=0,this.Ac=[],this.Bc=0,this.zc=[0,0,0,0],this.Gd=Array(new wl),this.Hd=0,this.rb=Array(new Mi),this.sb=0,this.wa=Array(new _r),this.Y=0,this.oc=[],this.pc=0,this.sa=[],this.ta=0,this.qa=[],this.ra=0,this.Ha=[],this.B=this.R=this.Ia=0,this.Ec=[],this.M=this.ja=this.Vb=this.Fc=0,this.ya=Array(new yl),this.L=this.aa=0,this.gd=a([4,2],_r),this.ga=null,this.Fa=[],this.Cc=this.qc=this.P=0,this.Gb=[],this.Uc=0,this.mb=[],this.nb=0,this.rc=[],this.Ga=this.Vc=0}function Ys(){this.T=this.U=this.ka=this.height=this.width=0,this.y=[],this.f=[],this.ea=[],this.Rc=this.fa=this.W=this.N=this.O=0,this.ma="void",this.put="VP8IoPutHook",this.ac="VP8IoSetupHook",this.bc="VP8IoTeardownHook",this.ha=this.Kb=0,this.data=[],this.hb=this.ib=this.da=this.o=this.j=this.va=this.v=this.Da=this.ob=this.w=0,this.F=[],this.J=0}function bl(){var h=new xl;return h!=null&&(h.a=0,h.sc="OK",h.cb=0,h.Xb=0,sh||(sh=Ss)),h}function kn(h,y,S){return h.a==0&&(h.a=y,h.sc=S,h.cb=0),0}function _l(h,y,S){return 3<=S&&h[y+0]==157&&h[y+1]==1&&h[y+2]==42}function xu(h,y){if(h==null)return 0;if(h.a=0,h.sc="OK",y==null)return kn(h,2,"null VP8Io passed to VP8GetHeaders()");var S=y.data,P=y.w,O=y.ha;if(4>O)return kn(h,7,"Truncated header.");var B=S[P+0]|S[P+1]<<8|S[P+2]<<16,U=h.Od;if(U.Rb=!(1&B),U.td=B>>1&7,U.yd=B>>4&1,U.ub=B>>5,3<U.td)return kn(h,3,"Incorrect keyframe parameters.");if(!U.yd)return kn(h,4,"Frame not displayable.");P+=3,O-=3;var q=h.Kc;if(U.Rb){if(7>O)return kn(h,7,"cannot parse picture header");if(!_l(S,P,O))return kn(h,3,"Bad code word");q.c=16383&(S[P+4]<<8|S[P+3]),q.Td=S[P+4]>>6,q.i=16383&(S[P+6]<<8|S[P+5]),q.Ud=S[P+6]>>6,P+=7,O-=7,h.za=q.c+15>>4,h.Ub=q.i+15>>4,y.width=q.c,y.height=q.i,y.Da=0,y.j=0,y.v=0,y.va=y.width,y.o=y.height,y.da=0,y.ib=y.width,y.hb=y.height,y.U=y.width,y.T=y.height,i((B=h.Pa).jb,0,255,B.jb.length),e((B=h.Qa)!=null),B.Cb=0,B.Bb=0,B.Fb=1,i(B.Zb,0,0,B.Zb.length),i(B.Lb,0,0,B.Lb)}if(U.ub>O)return kn(h,7,"bad partition length");ue(B=h.m,S,P,U.ub),P+=U.ub,O-=U.ub,U.Rb&&(q.Ld=Ae(B),q.Kd=Ae(B)),q=h.Qa;var K,J=h.Pa;if(e(B!=null),e(q!=null),q.Cb=Ae(B),q.Cb){if(q.Bb=Ae(B),Ae(B)){for(q.Fb=Ae(B),K=0;4>K;++K)q.Zb[K]=Ae(B)?ee(B,7):0;for(K=0;4>K;++K)q.Lb[K]=Ae(B)?ee(B,6):0}if(q.Bb)for(K=0;3>K;++K)J.jb[K]=Ae(B)?ae(B,8):255}else q.Bb=0;if(B.Ka)return kn(h,3,"cannot parse segment header");if((q=h.ed).zd=Ae(B),q.Tb=ae(B,6),q.wb=ae(B,3),q.Pc=Ae(B),q.Pc&&Ae(B)){for(J=0;4>J;++J)Ae(B)&&(q.vd[J]=ee(B,6));for(J=0;4>J;++J)Ae(B)&&(q.od[J]=ee(B,6))}if(h.L=q.Tb==0?0:q.zd?1:2,B.Ka)return kn(h,3,"cannot parse filter header");var oe=O;if(O=K=P,P=K+oe,q=oe,h.Xb=(1<<ae(h.m,2))-1,oe<3*(J=h.Xb))S=7;else{for(K+=3*J,q-=3*J,oe=0;oe<J;++oe){var xe=S[O+0]|S[O+1]<<8|S[O+2]<<16;xe>q&&(xe=q),ue(h.Jc[+oe],S,K,xe),K+=xe,q-=xe,O+=3}ue(h.Jc[+J],S,K,q),S=K<P?0:5}if(S!=0)return kn(h,S,"cannot parse partitions");for(S=ae(K=h.m,7),O=Ae(K)?ee(K,4):0,P=Ae(K)?ee(K,4):0,q=Ae(K)?ee(K,4):0,J=Ae(K)?ee(K,4):0,K=Ae(K)?ee(K,4):0,oe=h.Qa,xe=0;4>xe;++xe){if(oe.Cb){var Z=oe.Zb[xe];oe.Fb||(Z+=S)}else{if(0<xe){h.pb[xe]=h.pb[0];continue}Z=S}var ce=h.pb[xe];ce.Sc[0]=N0[It(Z+O,127)],ce.Sc[1]=E0[It(Z+0,127)],ce.Eb[0]=2*N0[It(Z+P,127)],ce.Eb[1]=101581*E0[It(Z+q,127)]>>16,8>ce.Eb[1]&&(ce.Eb[1]=8),ce.Qc[0]=N0[It(Z+J,117)],ce.Qc[1]=E0[It(Z+K,127)],ce.lc=Z+K}if(!U.Rb)return kn(h,4,"Not a key frame.");for(Ae(B),U=h.Pa,S=0;4>S;++S){for(O=0;8>O;++O)for(P=0;3>P;++P)for(q=0;11>q;++q)J=he(B,zT[S][O][P][q])?ae(B,8):BT[S][O][P][q],U.Wc[S][O].Yb[P][q]=J;for(O=0;17>O;++O)U.Xc[S][O]=U.Wc[S][qT[O]]}return h.kc=Ae(B),h.kc&&(h.Bd=ae(B,8)),h.cb=1}function Ss(h,y,S,P,O,B,U){var q=y[O].Yb[S];for(S=0;16>O;++O){if(!he(h,q[S+0]))return O;for(;!he(h,q[S+1]);)if(q=y[++O].Yb[0],S=0,O==16)return 16;var K=y[O+1].Yb;if(he(h,q[S+2])){var J=h,oe=0;if(he(J,(Z=q)[(xe=S)+3]))if(he(J,Z[xe+6])){for(q=0,xe=2*(oe=he(J,Z[xe+8]))+(Z=he(J,Z[xe+9+oe])),oe=0,Z=OT[xe];Z[q];++q)oe+=oe+he(J,Z[q]);oe+=3+(8<<xe)}else he(J,Z[xe+7])?(oe=7+2*he(J,165),oe+=he(J,145)):oe=5+he(J,159);else oe=he(J,Z[xe+4])?3+he(J,Z[xe+5]):2;q=K[2]}else oe=1,q=K[1];K=U+VT[O],0>(J=h).b&&Ne(J);var xe,Z=J.b,ce=(xe=J.Ca>>1)-(J.I>>Z)>>31;--J.b,J.Ca+=ce,J.Ca|=1,J.I-=(xe+1&ce)<<Z,B[K]=((oe^ce)-ce)*P[(0<O)+0]}return 16}function Xs(h){var y=h.rb[h.sb-1];y.la=0,y.Na=0,i(h.zc,0,0,h.zc.length),h.ja=0}function wi(h,y,S,P,O){O=h[y+S+32*P]+(O>>3),h[y+S+32*P]=-256&O?0>O?0:255:O}function To(h,y,S,P,O,B){wi(h,y,0,S,P+O),wi(h,y,1,S,P+B),wi(h,y,2,S,P-B),wi(h,y,3,S,P-O)}function tn(h){return(20091*h>>16)+h}function oi(h,y,S,P){var O,B=0,U=s(16);for(O=0;4>O;++O){var q=h[y+0]+h[y+8],K=h[y+0]-h[y+8],J=(35468*h[y+4]>>16)-tn(h[y+12]),oe=tn(h[y+4])+(35468*h[y+12]>>16);U[B+0]=q+oe,U[B+1]=K+J,U[B+2]=K-J,U[B+3]=q-oe,B+=4,y++}for(O=B=0;4>O;++O)q=(h=U[B+0]+4)+U[B+8],K=h-U[B+8],J=(35468*U[B+4]>>16)-tn(U[B+12]),wi(S,P,0,0,q+(oe=tn(U[B+4])+(35468*U[B+12]>>16))),wi(S,P,1,0,K+J),wi(S,P,2,0,K-J),wi(S,P,3,0,q-oe),B++,P+=32}function ua(h,y,S,P){var O=h[y+0]+4,B=35468*h[y+4]>>16,U=tn(h[y+4]),q=35468*h[y+1]>>16;To(S,P,0,O+U,h=tn(h[y+1]),q),To(S,P,1,O+B,h,q),To(S,P,2,O-B,h,q),To(S,P,3,O-U,h,q)}function ca(h,y,S,P,O){oi(h,y,S,P),O&&oi(h,y+16,S,P+4)}function bu(h,y,S,P){Rl(h,y+0,S,P,1),Rl(h,y+32,S,P+128,1)}function Mt(h,y,S,P){var O;for(h=h[y+0]+4,O=0;4>O;++O)for(y=0;4>y;++y)wi(S,P,y,O,h)}function Co(h,y,S,P){h[y+0]&&Jt(h,y+0,S,P),h[y+16]&&Jt(h,y+16,S,P+4),h[y+32]&&Jt(h,y+32,S,P+128),h[y+48]&&Jt(h,y+48,S,P+128+4)}function Js(h,y,S,P){var O,B=s(16);for(O=0;4>O;++O){var U=h[y+0+O]+h[y+12+O],q=h[y+4+O]+h[y+8+O],K=h[y+4+O]-h[y+8+O],J=h[y+0+O]-h[y+12+O];B[0+O]=U+q,B[8+O]=U-q,B[4+O]=J+K,B[12+O]=J-K}for(O=0;4>O;++O)U=(h=B[0+4*O]+3)+B[3+4*O],q=B[1+4*O]+B[2+4*O],K=B[1+4*O]-B[2+4*O],J=h-B[3+4*O],S[P+0]=U+q>>3,S[P+16]=J+K>>3,S[P+32]=U-q>>3,S[P+48]=J-K>>3,P+=64}function xi(h,y,S){var P,O=y-32,B=zi,U=255-h[O-1];for(P=0;P<S;++P){var q,K=B,J=U+h[y-1];for(q=0;q<S;++q)h[y+q]=K[J+h[O+q]];y+=32}}function Sl(h,y){xi(h,y,4)}function _u(h,y){xi(h,y,8)}function $c(h,y){xi(h,y,16)}function Hc(h,y){var S;for(S=0;16>S;++S)r(h,y+32*S,h,y-32,16)}function Al(h,y){var S;for(S=16;0<S;--S)i(h,y,h[y-1],16),y+=32}function Po(h,y,S){var P;for(P=0;16>P;++P)i(y,S+32*P,h,16)}function bi(h,y){var S,P=16;for(S=0;16>S;++S)P+=h[y-1+32*S]+h[y+S-32];Po(P>>5,h,y)}function ss(h,y){var S,P=8;for(S=0;16>S;++S)P+=h[y-1+32*S];Po(P>>4,h,y)}function Zs(h,y){var S,P=8;for(S=0;16>S;++S)P+=h[y+S-32];Po(P>>4,h,y)}function ha(h,y){Po(128,h,y)}function dt(h,y,S){return h+2*y+S+2>>2}function eo(h,y){var S,P=y-32;for(P=new Uint8Array([dt(h[P-1],h[P+0],h[P+1]),dt(h[P+0],h[P+1],h[P+2]),dt(h[P+1],h[P+2],h[P+3]),dt(h[P+2],h[P+3],h[P+4])]),S=0;4>S;++S)r(h,y+32*S,P,0,P.length)}function Wc(h,y){var S=h[y-1],P=h[y-1+32],O=h[y-1+64],B=h[y-1+96];be(h,y+0,16843009*dt(h[y-1-32],S,P)),be(h,y+32,16843009*dt(S,P,O)),be(h,y+64,16843009*dt(P,O,B)),be(h,y+96,16843009*dt(O,B,B))}function Gc(h,y){var S,P=4;for(S=0;4>S;++S)P+=h[y+S-32]+h[y-1+32*S];for(P>>=3,S=0;4>S;++S)i(h,y+32*S,P,4)}function Kc(h,y){var S=h[y-1+0],P=h[y-1+32],O=h[y-1+64],B=h[y-1-32],U=h[y+0-32],q=h[y+1-32],K=h[y+2-32],J=h[y+3-32];h[y+0+96]=dt(P,O,h[y-1+96]),h[y+1+96]=h[y+0+64]=dt(S,P,O),h[y+2+96]=h[y+1+64]=h[y+0+32]=dt(B,S,P),h[y+3+96]=h[y+2+64]=h[y+1+32]=h[y+0+0]=dt(U,B,S),h[y+3+64]=h[y+2+32]=h[y+1+0]=dt(q,U,B),h[y+3+32]=h[y+2+0]=dt(K,q,U),h[y+3+0]=dt(J,K,q)}function Sr(h,y){var S=h[y+1-32],P=h[y+2-32],O=h[y+3-32],B=h[y+4-32],U=h[y+5-32],q=h[y+6-32],K=h[y+7-32];h[y+0+0]=dt(h[y+0-32],S,P),h[y+1+0]=h[y+0+32]=dt(S,P,O),h[y+2+0]=h[y+1+32]=h[y+0+64]=dt(P,O,B),h[y+3+0]=h[y+2+32]=h[y+1+64]=h[y+0+96]=dt(O,B,U),h[y+3+32]=h[y+2+64]=h[y+1+96]=dt(B,U,q),h[y+3+64]=h[y+2+96]=dt(U,q,K),h[y+3+96]=dt(q,K,K)}function As(h,y){var S=h[y-1+0],P=h[y-1+32],O=h[y-1+64],B=h[y-1-32],U=h[y+0-32],q=h[y+1-32],K=h[y+2-32],J=h[y+3-32];h[y+0+0]=h[y+1+64]=B+U+1>>1,h[y+1+0]=h[y+2+64]=U+q+1>>1,h[y+2+0]=h[y+3+64]=q+K+1>>1,h[y+3+0]=K+J+1>>1,h[y+0+96]=dt(O,P,S),h[y+0+64]=dt(P,S,B),h[y+0+32]=h[y+1+96]=dt(S,B,U),h[y+1+32]=h[y+2+96]=dt(B,U,q),h[y+2+32]=h[y+3+96]=dt(U,q,K),h[y+3+32]=dt(q,K,J)}function Qc(h,y){var S=h[y+0-32],P=h[y+1-32],O=h[y+2-32],B=h[y+3-32],U=h[y+4-32],q=h[y+5-32],K=h[y+6-32],J=h[y+7-32];h[y+0+0]=S+P+1>>1,h[y+1+0]=h[y+0+64]=P+O+1>>1,h[y+2+0]=h[y+1+64]=O+B+1>>1,h[y+3+0]=h[y+2+64]=B+U+1>>1,h[y+0+32]=dt(S,P,O),h[y+1+32]=h[y+0+96]=dt(P,O,B),h[y+2+32]=h[y+1+96]=dt(O,B,U),h[y+3+32]=h[y+2+96]=dt(B,U,q),h[y+3+64]=dt(U,q,K),h[y+3+96]=dt(q,K,J)}function fa(h,y){var S=h[y-1+0],P=h[y-1+32],O=h[y-1+64],B=h[y-1+96];h[y+0+0]=S+P+1>>1,h[y+2+0]=h[y+0+32]=P+O+1>>1,h[y+2+32]=h[y+0+64]=O+B+1>>1,h[y+1+0]=dt(S,P,O),h[y+3+0]=h[y+1+32]=dt(P,O,B),h[y+3+32]=h[y+1+64]=dt(O,B,B),h[y+3+64]=h[y+2+64]=h[y+0+96]=h[y+1+96]=h[y+2+96]=h[y+3+96]=B}function Ns(h,y){var S=h[y-1+0],P=h[y-1+32],O=h[y-1+64],B=h[y-1+96],U=h[y-1-32],q=h[y+0-32],K=h[y+1-32],J=h[y+2-32];h[y+0+0]=h[y+2+32]=S+U+1>>1,h[y+0+32]=h[y+2+64]=P+S+1>>1,h[y+0+64]=h[y+2+96]=O+P+1>>1,h[y+0+96]=B+O+1>>1,h[y+3+0]=dt(q,K,J),h[y+2+0]=dt(U,q,K),h[y+1+0]=h[y+3+32]=dt(S,U,q),h[y+1+32]=h[y+3+64]=dt(P,S,U),h[y+1+64]=h[y+3+96]=dt(O,P,S),h[y+1+96]=dt(B,O,P)}function da(h,y){var S;for(S=0;8>S;++S)r(h,y+32*S,h,y-32,8)}function Fi(h,y){var S;for(S=0;8>S;++S)i(h,y,h[y-1],8),y+=32}function os(h,y,S){var P;for(P=0;8>P;++P)i(y,S+32*P,h,8)}function ko(h,y){var S,P=8;for(S=0;8>S;++S)P+=h[y+S-32]+h[y-1+32*S];os(P>>4,h,y)}function Nl(h,y){var S,P=4;for(S=0;8>S;++S)P+=h[y+S-32];os(P>>3,h,y)}function cn(h,y){var S,P=4;for(S=0;8>S;++S)P+=h[y-1+32*S];os(P>>3,h,y)}function El(h,y){os(128,h,y)}function Io(h,y,S){var P=h[y-S],O=h[y+0],B=3*(O-P)+x0[1020+h[y-2*S]-h[y+S]],U=fd[112+(B+4>>3)];h[y-S]=zi[255+P+fd[112+(B+3>>3)]],h[y+0]=zi[255+O-U]}function to(h,y,S,P){var O=h[y+0],B=h[y+S];return us[255+h[y-2*S]-h[y-S]]>P||us[255+B-O]>P}function pa(h,y,S,P){return 4*us[255+h[y-S]-h[y+0]]+us[255+h[y-2*S]-h[y+S]]<=P}function Lo(h,y,S,P,O){var B=h[y-3*S],U=h[y-2*S],q=h[y-S],K=h[y+0],J=h[y+S],oe=h[y+2*S],xe=h[y+3*S];return 4*us[255+q-K]+us[255+U-J]>P?0:us[255+h[y-4*S]-B]<=O&&us[255+B-U]<=O&&us[255+U-q]<=O&&us[255+xe-oe]<=O&&us[255+oe-J]<=O&&us[255+J-K]<=O}function no(h,y,S,P){var O=2*P+1;for(P=0;16>P;++P)pa(h,y+P,S,O)&&Io(h,y+P,S)}function ro(h,y,S,P){var O=2*P+1;for(P=0;16>P;++P)pa(h,y+P*S,1,O)&&Io(h,y+P*S,1)}function _i(h,y,S,P){var O;for(O=3;0<O;--O)no(h,y+=4*S,S,P)}function Tl(h,y,S,P){var O;for(O=3;0<O;--O)ro(h,y+=4,S,P)}function Es(h,y,S,P,O,B,U,q){for(B=2*B+1;0<O--;){if(Lo(h,y,S,B,U))if(to(h,y,S,q))Io(h,y,S);else{var K=h,J=y,oe=S,xe=K[J-2*oe],Z=K[J-oe],ce=K[J+0],ge=K[J+oe],Te=K[J+2*oe],we=27*(ke=x0[1020+3*(ce-Z)+x0[1020+xe-ge]])+63>>7,Pe=18*ke+63>>7,ke=9*ke+63>>7;K[J-3*oe]=zi[255+K[J-3*oe]+ke],K[J-2*oe]=zi[255+xe+Pe],K[J-oe]=zi[255+Z+we],K[J+0]=zi[255+ce-we],K[J+oe]=zi[255+ge-Pe],K[J+2*oe]=zi[255+Te-ke]}y+=P}}function ai(h,y,S,P,O,B,U,q){for(B=2*B+1;0<O--;){if(Lo(h,y,S,B,U))if(to(h,y,S,q))Io(h,y,S);else{var K=h,J=y,oe=S,xe=K[J-oe],Z=K[J+0],ce=K[J+oe],ge=fd[112+(4+(Te=3*(Z-xe))>>3)],Te=fd[112+(Te+3>>3)],we=ge+1>>1;K[J-2*oe]=zi[255+K[J-2*oe]+we],K[J-oe]=zi[255+xe+Te],K[J+0]=zi[255+Z-ge],K[J+oe]=zi[255+ce-we]}y+=P}}function Cl(h,y,S,P,O,B){Es(h,y,S,1,16,P,O,B)}function ma(h,y,S,P,O,B){Es(h,y,1,S,16,P,O,B)}function as(h,y,S,P,O,B){var U;for(U=3;0<U;--U)ai(h,y+=4*S,S,1,16,P,O,B)}function Pl(h,y,S,P,O,B){var U;for(U=3;0<U;--U)ai(h,y+=4,1,S,16,P,O,B)}function w(h,y,S,P,O,B,U,q){Es(h,y,O,1,8,B,U,q),Es(S,P,O,1,8,B,U,q)}function F(h,y,S,P,O,B,U,q){Es(h,y,1,O,8,B,U,q),Es(S,P,1,O,8,B,U,q)}function X(h,y,S,P,O,B,U,q){ai(h,y+4*O,O,1,8,B,U,q),ai(S,P+4*O,O,1,8,B,U,q)}function re(h,y,S,P,O,B,U,q){ai(h,y+4,1,O,8,B,U,q),ai(S,P+4,1,O,8,B,U,q)}function de(){this.ba=new Yt,this.ec=[],this.cc=[],this.Mc=[],this.Dc=this.Nc=this.dc=this.fc=0,this.Oa=new Lt,this.memory=0,this.Ib="OutputFunc",this.Jb="OutputAlphaFunc",this.Nd="OutputRowFunc"}function Ce(){this.data=[],this.offset=this.kd=this.ha=this.w=0,this.na=[],this.xa=this.gb=this.Ja=this.Sa=this.P=0}function Re(){this.nc=this.Ea=this.b=this.hc=0,this.K=[],this.w=0}function He(){this.ua=0,this.Wa=new Qe,this.vb=new Qe,this.md=this.xc=this.wc=0,this.vc=[],this.Wb=0,this.Ya=new ne,this.yc=new D}function Ye(){this.xb=this.a=0,this.l=new Ys,this.ca=new Yt,this.V=[],this.Ba=0,this.Ta=[],this.Ua=0,this.m=new Q,this.Pb=0,this.wd=new Q,this.Ma=this.$=this.C=this.i=this.c=this.xd=0,this.s=new He,this.ab=0,this.gc=o(4,Re),this.Oc=0}function ct(){this.Lc=this.Z=this.$a=this.i=this.c=0,this.l=new Ys,this.ic=0,this.ca=[],this.tb=0,this.qd=null,this.rd=0}function yt(h,y,S,P,O,B,U){for(h=h==null?0:h[y+0],y=0;y<U;++y)O[B+y]=h+S[P+y]&255,h=O[B+y]}function zt(h,y,S,P,O,B,U){var q;if(h==null)yt(null,null,S,P,O,B,U);else for(q=0;q<U;++q)O[B+q]=h[y+q]+S[P+q]&255}function Xt(h,y,S,P,O,B,U){if(h==null)yt(null,null,S,P,O,B,U);else{var q,K=h[y+0],J=K,oe=K;for(q=0;q<U;++q)J=oe+(K=h[y+q])-J,oe=S[P+q]+(-256&J?0>J?0:255:J)&255,J=K,O[B+q]=oe}}function In(h,y,S,P){var O=y.width,B=y.o;if(e(h!=null&&y!=null),0>S||0>=P||S+P>B)return null;if(!h.Cc){if(h.ga==null){var U;if(h.ga=new ct,(U=h.ga==null)||(U=y.width*y.o,e(h.Gb.length==0),h.Gb=s(U),h.Uc=0,h.Gb==null?U=0:(h.mb=h.Gb,h.nb=h.Uc,h.rc=null,U=1),U=!U),!U){U=h.ga;var q=h.Fa,K=h.P,J=h.qc,oe=h.mb,xe=h.nb,Z=K+1,ce=J-1,ge=U.l;if(e(q!=null&&oe!=null&&y!=null),Aa[0]=null,Aa[1]=yt,Aa[2]=zt,Aa[3]=Xt,U.ca=oe,U.tb=xe,U.c=y.width,U.i=y.height,e(0<U.c&&0<U.i),1>=J)y=0;else if(U.$a=3&q[K+0],U.Z=q[K+0]>>2&3,U.Lc=q[K+0]>>4&3,K=q[K+0]>>6&3,0>U.$a||1<U.$a||4<=U.Z||1<U.Lc||K)y=0;else if(ge.put=lt,ge.ac=Ur,ge.bc=wn,ge.ma=U,ge.width=y.width,ge.height=y.height,ge.Da=y.Da,ge.v=y.v,ge.va=y.va,ge.j=y.j,ge.o=y.o,U.$a)e:{e(U.$a==1),y=Gs();t:for(;;){if(y==null){y=0;break e}if(e(U!=null),U.mc=y,y.c=U.c,y.i=U.i,y.l=U.l,y.l.ma=U,y.l.width=U.c,y.l.height=U.i,y.a=0,se(y.m,q,Z,ce),!Di(U.c,U.i,1,y,null)||(y.ab==1&&y.gc[0].hc==3&&zr(y.s)?(U.ic=1,q=y.c*y.i,y.Ta=null,y.Ua=0,y.V=s(q),y.Ba=0,y.V==null?(y.a=1,y=0):y=1):(U.ic=0,y=_s(y,U.c)),!y))break t;y=1;break e}U.mc=null,y=0}else y=ce>=U.c*U.i;U=!y}if(U)return null;h.ga.Lc!=1?h.Ga=0:P=B-S}e(h.ga!=null),e(S+P<=B);e:{if(y=(q=h.ga).c,B=q.l.o,q.$a==0){if(Z=h.rc,ce=h.Vc,ge=h.Fa,K=h.P+1+S*y,J=h.mb,oe=h.nb+S*y,e(K<=h.P+h.qc),q.Z!=0)for(e(Aa[q.Z]!=null),U=0;U<P;++U)Aa[q.Z](Z,ce,ge,K,J,oe,y),Z=J,ce=oe,oe+=y,K+=y;else for(U=0;U<P;++U)r(J,oe,ge,K,y),Z=J,ce=oe,oe+=y,K+=y;h.rc=Z,h.Vc=ce}else{if(e(q.mc!=null),y=S+P,e((U=q.mc)!=null),e(y<=U.i),U.C>=y)y=1;else if(q.ic||pn(),q.ic){q=U.V,Z=U.Ba,ce=U.c;var Te=U.i,we=(ge=1,K=U.$/ce,J=U.$%ce,oe=U.m,xe=U.s,U.$),Pe=ce*Te,ke=ce*y,Me=xe.wc,je=we<ke?Tn(xe,J,K):null;e(we<=Pe),e(y<=Te),e(zr(xe));t:for(;;){for(;!oe.h&&we<ke;){if(J&Me||(je=Tn(xe,J,K)),e(je!=null),ve(oe),256>(Te=En(je.G[0],je.H[0],oe)))q[Z+we]=Te,++we,++J>=ce&&(J=0,++K<=y&&!(K%16)&&si(U,K));else{if(!(280>Te)){ge=0;break t}Te=xr(Te-256,oe);var it,Ge=En(je.G[4],je.H[4],oe);if(ve(oe),!(we>=(Ge=br(ce,Ge=xr(Ge,oe)))&&Pe-we>=Te)){ge=0;break t}for(it=0;it<Te;++it)q[Z+we+it]=q[Z+we+it-Ge];for(we+=Te,J+=Te;J>=ce;)J-=ce,++K<=y&&!(K%16)&&si(U,K);we<ke&&J&Me&&(je=Tn(xe,J,K))}e(oe.h==ie(oe))}si(U,K>y?y:K);break t}!ge||oe.h&&we<Pe?(ge=0,U.a=oe.h?5:3):U.$=we,y=ge}else y=qr(U,U.V,U.Ba,U.c,U.i,y,Ks);if(!y){P=0;break e}}S+P>=B&&(h.Cc=1),P=1}if(!P)return null;if(h.Cc&&((P=h.ga)!=null&&(P.mc=null),h.ga=null,0<h.Ga))return alert("todo:WebPDequantizeLevels"),null}return h.nb+S*O}function nn(h,y,S,P,O,B){for(;0<O--;){var U,q=h,K=y+(S?1:0),J=h,oe=y+(S?0:3);for(U=0;U<P;++U){var xe=J[oe+4*U];xe!=255&&(xe*=32897,q[K+4*U+0]=q[K+4*U+0]*xe>>23,q[K+4*U+1]=q[K+4*U+1]*xe>>23,q[K+4*U+2]=q[K+4*U+2]*xe>>23)}y+=B}}function Bn(h,y,S,P,O){for(;0<P--;){var B;for(B=0;B<S;++B){var U=h[y+2*B+0],q=15&(J=h[y+2*B+1]),K=4369*q,J=(240&J|J>>4)*K>>16;h[y+2*B+0]=(240&U|U>>4)*K>>16&240|(15&U|U<<4)*K>>16>>4&15,h[y+2*B+1]=240&J|q}y+=O}}function Ln(h,y,S,P,O,B,U,q){var K,J,oe=255;for(J=0;J<O;++J){for(K=0;K<P;++K){var xe=h[y+K];B[U+4*K]=xe,oe&=xe}y+=S,U+=q}return oe!=255}function Un(h,y,S,P,O){var B;for(B=0;B<O;++B)S[P+B]=h[y+B]>>8}function pn(){ih=nn,M5=Bn,F5=Ln,O5=Un}function Cr(h,y,S){k[h]=function(P,O,B,U,q,K,J,oe,xe,Z,ce,ge,Te,we,Pe,ke,Me){var je,it=Me-1>>1,Ge=q[K+0]|J[oe+0]<<16,Ct=xe[Z+0]|ce[ge+0]<<16;e(P!=null);var Ze=3*Ge+Ct+131074>>2;for(y(P[O+0],255&Ze,Ze>>16,Te,we),B!=null&&(Ze=3*Ct+Ge+131074>>2,y(B[U+0],255&Ze,Ze>>16,Pe,ke)),je=1;je<=it;++je){var Bt=q[K+je]|J[oe+je]<<16,mr=xe[Z+je]|ce[ge+je]<<16,Pt=Ge+Bt+Ct+mr+524296,et=Pt+2*(Bt+Ct)>>3;Ze=et+Ge>>1,Ge=(Pt=Pt+2*(Ge+mr)>>3)+Bt>>1,y(P[O+2*je-1],255&Ze,Ze>>16,Te,we+(2*je-1)*S),y(P[O+2*je-0],255&Ge,Ge>>16,Te,we+(2*je-0)*S),B!=null&&(Ze=Pt+Ct>>1,Ge=et+mr>>1,y(B[U+2*je-1],255&Ze,Ze>>16,Pe,ke+(2*je-1)*S),y(B[U+2*je+0],255&Ge,Ge>>16,Pe,ke+(2*je+0)*S)),Ge=Bt,Ct=mr}1&Me||(Ze=3*Ge+Ct+131074>>2,y(P[O+Me-1],255&Ze,Ze>>16,Te,we+(Me-1)*S),B!=null&&(Ze=3*Ct+Ge+131074>>2,y(B[U+Me-1],255&Ze,Ze>>16,Pe,ke+(Me-1)*S)))}}function kl(){cs[dd]=HT,cs[pd]=Q5,cs[$5]=WT,cs[md]=Y5,cs[gd]=X5,cs[b0]=J5,cs[H5]=GT,cs[_0]=Q5,cs[S0]=Y5,cs[yd]=X5,cs[A0]=J5}function Oi(h){return h&-16384?0>h?0:255:h>>KT}function f(h,y){return Oi((19077*h>>8)+(26149*y>>8)-14234)}function N(h,y,S){return Oi((19077*h>>8)-(6419*y>>8)-(13320*S>>8)+8708)}function j(h,y){return Oi((19077*h>>8)+(33050*y>>8)-17685)}function $(h,y,S,P,O){P[O+0]=f(h,S),P[O+1]=N(h,y,S),P[O+2]=j(h,y)}function me(h,y,S,P,O){P[O+0]=j(h,y),P[O+1]=N(h,y,S),P[O+2]=f(h,S)}function _e(h,y,S,P,O){var B=N(h,y,S);y=B<<3&224|j(h,y)>>3,P[O+0]=248&f(h,S)|B>>5,P[O+1]=y}function Oe(h,y,S,P,O){var B=240&j(h,y)|15;P[O+0]=240&f(h,S)|N(h,y,S)>>4,P[O+1]=B}function Vt(h,y,S,P,O){P[O+0]=255,$(h,y,S,P,O+1)}function Rn(h,y,S,P,O){me(h,y,S,P,O),P[O+3]=255}function Rt(h,y,S,P,O){$(h,y,S,P,O),P[O+3]=255}function It(h,y){return 0>h?0:h>y?y:h}function mn(h,y,S){k[h]=function(P,O,B,U,q,K,J,oe,xe){for(var Z=oe+(-2&xe)*S;oe!=Z;)y(P[O+0],B[U+0],q[K+0],J,oe),y(P[O+1],B[U+0],q[K+0],J,oe+S),O+=2,++U,++K,oe+=2*S;1&xe&&y(P[O+0],B[U+0],q[K+0],J,oe)}}function Vi(h,y,S){return S==0?h==0?y==0?6:5:y==0?4:0:S}function $r(h,y,S,P,O){switch(h>>>30){case 3:Rl(y,S,P,O,0);break;case 2:ls(y,S,P,O);break;case 1:Jt(y,S,P,O)}}function Pr(h,y){var S,P,O=y.M,B=y.Nb,U=h.oc,q=h.pc+40,K=h.oc,J=h.pc+584,oe=h.oc,xe=h.pc+600;for(S=0;16>S;++S)U[q+32*S-1]=129;for(S=0;8>S;++S)K[J+32*S-1]=129,oe[xe+32*S-1]=129;for(0<O?U[q-1-32]=K[J-1-32]=oe[xe-1-32]=129:(i(U,q-32-1,127,21),i(K,J-32-1,127,9),i(oe,xe-32-1,127,9)),P=0;P<h.za;++P){var Z=y.ya[y.aa+P];if(0<P){for(S=-1;16>S;++S)r(U,q+32*S-4,U,q+32*S+12,4);for(S=-1;8>S;++S)r(K,J+32*S-4,K,J+32*S+4,4),r(oe,xe+32*S-4,oe,xe+32*S+4,4)}var ce=h.Gd,ge=h.Hd+P,Te=Z.ad,we=Z.Hc;if(0<O&&(r(U,q-32,ce[ge].y,0,16),r(K,J-32,ce[ge].f,0,8),r(oe,xe-32,ce[ge].ea,0,8)),Z.Za){var Pe=U,ke=q-32+16;for(0<O&&(P>=h.za-1?i(Pe,ke,ce[ge].y[15],4):r(Pe,ke,ce[ge+1].y,0,4)),S=0;4>S;S++)Pe[ke+128+S]=Pe[ke+256+S]=Pe[ke+384+S]=Pe[ke+0+S];for(S=0;16>S;++S,we<<=2)Pe=U,ke=q+ew[S],Cs[Z.Ob[S]](Pe,ke),$r(we,Te,16*+S,Pe,ke)}else if(Pe=Vi(P,O,Z.Ob[0]),Sa[Pe](U,q),we!=0)for(S=0;16>S;++S,we<<=2)$r(we,Te,16*+S,U,q+ew[S]);for(S=Z.Gc,Pe=Vi(P,O,Z.Dd),Do[Pe](K,J),Do[Pe](oe,xe),we=Te,Pe=K,ke=J,255&(Z=0|S)&&(170&Z?oo(we,256,Pe,ke):hn(we,256,Pe,ke)),Z=oe,we=xe,255&(S>>=8)&&(170&S?oo(Te,320,Z,we):hn(Te,320,Z,we)),O<h.Ub-1&&(r(ce[ge].y,0,U,q+480,16),r(ce[ge].f,0,K,J+224,8),r(ce[ge].ea,0,oe,xe+224,8)),S=8*B*h.B,ce=h.sa,ge=h.ta+16*P+16*B*h.R,Te=h.qa,Z=h.ra+8*P+S,we=h.Ha,Pe=h.Ia+8*P+S,S=0;16>S;++S)r(ce,ge+S*h.R,U,q+32*S,16);for(S=0;8>S;++S)r(Te,Z+S*h.B,K,J+32*S,8),r(we,Pe+S*h.B,oe,xe+32*S,8)}}function Ts(h,y,S,P,O,B,U,q,K){var J=[0],oe=[0],xe=0,Z=K!=null?K.kd:0,ce=K??new Ce;if(h==null||12>S)return 7;ce.data=h,ce.w=y,ce.ha=S,y=[y],S=[S],ce.gb=[ce.gb];e:{var ge=y,Te=S,we=ce.gb;if(e(h!=null),e(Te!=null),e(we!=null),we[0]=0,12<=Te[0]&&!n(h,ge[0],"RIFF")){if(n(h,ge[0]+8,"WEBP")){we=3;break e}var Pe=fe(h,ge[0]+4);if(12>Pe||4294967286<Pe){we=3;break e}if(Z&&Pe>Te[0]-8){we=7;break e}we[0]=Pe,ge[0]+=12,Te[0]-=12}we=0}if(we!=0)return we;for(Pe=0<ce.gb[0],S=S[0];;){e:{var ke=h;Te=y,we=S;var Me=J,je=oe,it=ge=[0];if((Ze=xe=[xe])[0]=0,8>we[0])we=7;else{if(!n(ke,Te[0],"VP8X")){if(fe(ke,Te[0]+4)!=10){we=3;break e}if(18>we[0]){we=7;break e}var Ge=fe(ke,Te[0]+8),Ct=1+Ee(ke,Te[0]+12);if(2147483648<=Ct*(ke=1+Ee(ke,Te[0]+15))){we=3;break e}it!=null&&(it[0]=Ge),Me!=null&&(Me[0]=Ct),je!=null&&(je[0]=ke),Te[0]+=18,we[0]-=18,Ze[0]=1}we=0}}if(xe=xe[0],ge=ge[0],we!=0)return we;if(Te=!!(2&ge),!Pe&&xe)return 3;if(B!=null&&(B[0]=!!(16&ge)),U!=null&&(U[0]=Te),q!=null&&(q[0]=0),U=J[0],ge=oe[0],xe&&Te&&K==null){we=0;break}if(4>S){we=7;break}if(Pe&&xe||!Pe&&!xe&&!n(h,y[0],"ALPH")){S=[S],ce.na=[ce.na],ce.P=[ce.P],ce.Sa=[ce.Sa];e:{Ge=h,we=y,Pe=S;var Ze=ce.gb;Me=ce.na,je=ce.P,it=ce.Sa,Ct=22,e(Ge!=null),e(Pe!=null),ke=we[0];var Bt=Pe[0];for(e(Me!=null),e(it!=null),Me[0]=null,je[0]=null,it[0]=0;;){if(we[0]=ke,Pe[0]=Bt,8>Bt){we=7;break e}var mr=fe(Ge,ke+4);if(4294967286<mr){we=3;break e}var Pt=8+mr+1&-2;if(Ct+=Pt,0<Ze&&Ct>Ze){we=3;break e}if(!n(Ge,ke,"VP8 ")||!n(Ge,ke,"VP8L")){we=0;break e}if(Bt[0]<Pt){we=7;break e}n(Ge,ke,"ALPH")||(Me[0]=Ge,je[0]=ke+8,it[0]=mr),ke+=Pt,Bt-=Pt}}if(S=S[0],ce.na=ce.na[0],ce.P=ce.P[0],ce.Sa=ce.Sa[0],we!=0)break}S=[S],ce.Ja=[ce.Ja],ce.xa=[ce.xa];e:if(Ze=h,we=y,Pe=S,Me=ce.gb[0],je=ce.Ja,it=ce.xa,Ge=we[0],ke=!n(Ze,Ge,"VP8 "),Ct=!n(Ze,Ge,"VP8L"),e(Ze!=null),e(Pe!=null),e(je!=null),e(it!=null),8>Pe[0])we=7;else{if(ke||Ct){if(Ze=fe(Ze,Ge+4),12<=Me&&Ze>Me-12){we=3;break e}if(Z&&Ze>Pe[0]-8){we=7;break e}je[0]=Ze,we[0]+=8,Pe[0]-=8,it[0]=Ct}else it[0]=5<=Pe[0]&&Ze[Ge+0]==47&&!(Ze[Ge+4]>>5),je[0]=Pe[0];we=0}if(S=S[0],ce.Ja=ce.Ja[0],ce.xa=ce.xa[0],y=y[0],we!=0)break;if(4294967286<ce.Ja)return 3;if(q==null||Te||(q[0]=ce.xa?2:1),U=[U],ge=[ge],ce.xa){if(5>S){we=7;break}q=U,Z=ge,Te=B,h==null||5>S?h=0:5<=S&&h[y+0]==47&&!(h[y+4]>>5)?(Pe=[0],Ze=[0],Me=[0],se(je=new Q,h,y,S),is(je,Pe,Ze,Me)?(q!=null&&(q[0]=Pe[0]),Z!=null&&(Z[0]=Ze[0]),Te!=null&&(Te[0]=Me[0]),h=1):h=0):h=0}else{if(10>S){we=7;break}q=ge,h==null||10>S||!_l(h,y+3,S-3)?h=0:(Z=h[y+0]|h[y+1]<<8|h[y+2]<<16,Te=16383&(h[y+7]<<8|h[y+6]),h=16383&(h[y+9]<<8|h[y+8]),1&Z||3<(Z>>1&7)||!(Z>>4&1)||Z>>5>=ce.Ja||!Te||!h?h=0:(U&&(U[0]=Te),q&&(q[0]=h),h=1))}if(!h||(U=U[0],ge=ge[0],xe&&(J[0]!=U||oe[0]!=ge)))return 3;K!=null&&(K[0]=ce,K.offset=y-K.w,e(4294967286>y-K.w),e(K.offset==K.ha-S));break}return we==0||we==7&&xe&&K==null?(B!=null&&(B[0]|=ce.na!=null&&0<ce.na.length),P!=null&&(P[0]=U),O!=null&&(O[0]=ge),0):we}function Yc(h,y,S){var P=y.width,O=y.height,B=0,U=0,q=P,K=O;if(y.Da=h!=null&&0<h.Da,y.Da&&(q=h.cd,K=h.bd,B=h.v,U=h.j,11>S||(B&=-2,U&=-2),0>B||0>U||0>=q||0>=K||B+q>P||U+K>O))return 0;if(y.v=B,y.j=U,y.va=B+q,y.o=U+K,y.U=q,y.T=K,y.da=h!=null&&0<h.da,y.da){if(!Ue(q,K,S=[h.ib],B=[h.hb]))return 0;y.ib=S[0],y.hb=B[0]}return y.ob=h!=null&&h.ob,y.Kb=h==null||!h.Sd,y.da&&(y.ob=y.ib<3*P/4&&y.hb<3*O/4,y.Kb=0),1}function Xc(h){if(h==null)return 2;if(11>h.S){var y=h.f.RGBA;y.fb+=(h.height-1)*y.A,y.A=-y.A}else y=h.f.kb,h=h.height,y.O+=(h-1)*y.fa,y.fa=-y.fa,y.N+=(h-1>>1)*y.Ab,y.Ab=-y.Ab,y.W+=(h-1>>1)*y.Db,y.Db=-y.Db,y.F!=null&&(y.J+=(h-1)*y.lb,y.lb=-y.lb);return 0}function ga(h,y,S,P){if(P==null||0>=h||0>=y)return 2;if(S!=null){if(S.Da){var O=S.cd,B=S.bd,U=-2&S.v,q=-2&S.j;if(0>U||0>q||0>=O||0>=B||U+O>h||q+B>y)return 2;h=O,y=B}if(S.da){if(!Ue(h,y,O=[S.ib],B=[S.hb]))return 2;h=O[0],y=B[0]}}P.width=h,P.height=y;e:{var K=P.width,J=P.height;if(h=P.S,0>=K||0>=J||!(h>=dd&&13>h))h=2;else{if(0>=P.Rd&&P.sd==null){U=B=O=y=0;var oe=(q=K*tw[h])*J;if(11>h||(B=(J+1)/2*(y=(K+1)/2),h==12&&(U=(O=K)*J)),(J=s(oe+2*B+U))==null){h=1;break e}P.sd=J,11>h?((K=P.f.RGBA).eb=J,K.fb=0,K.A=q,K.size=oe):((K=P.f.kb).y=J,K.O=0,K.fa=q,K.Fd=oe,K.f=J,K.N=0+oe,K.Ab=y,K.Cd=B,K.ea=J,K.W=0+oe+B,K.Db=y,K.Ed=B,h==12&&(K.F=J,K.J=0+oe+2*B),K.Tc=U,K.lb=O)}if(y=1,O=P.S,B=P.width,U=P.height,O>=dd&&13>O)if(11>O)h=P.f.RGBA,y&=(q=Math.abs(h.A))*(U-1)+B<=h.size,y&=q>=B*tw[O],y&=h.eb!=null;else{h=P.f.kb,q=(B+1)/2,oe=(U+1)/2,K=Math.abs(h.fa),J=Math.abs(h.Ab);var xe=Math.abs(h.Db),Z=Math.abs(h.lb),ce=Z*(U-1)+B;y&=K*(U-1)+B<=h.Fd,y&=J*(oe-1)+q<=h.Cd,y=(y&=xe*(oe-1)+q<=h.Ed)&K>=B&J>=q&xe>=q,y&=h.y!=null,y&=h.f!=null,y&=h.ea!=null,O==12&&(y&=Z>=B,y&=ce<=h.Tc,y&=h.F!=null)}else y=0;h=y?0:2}}return h!=0||S!=null&&S.fd&&(h=Xc(P)),h}var Il=64,Bi=[0,1,3,7,15,31,63,127,255,511,1023,2047,4095,8191,16383,32767,65535,131071,262143,524287,1048575,2097151,4194303,8388607,16777215],Ui=24,ya=32,Ro=8,va=[0,0,1,1,2,2,2,2,3,3,3,3,3,3,3,3,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7];Be("Predictor0","PredictorAdd0"),k.Predictor0=function(){return 4278190080},k.Predictor1=function(h){return h},k.Predictor2=function(h,y,S){return y[S+0]},k.Predictor3=function(h,y,S){return y[S+1]},k.Predictor4=function(h,y,S){return y[S-1]},k.Predictor5=function(h,y,S){return nt(nt(h,y[S+1]),y[S+0])},k.Predictor6=function(h,y,S){return nt(h,y[S-1])},k.Predictor7=function(h,y,S){return nt(h,y[S+0])},k.Predictor8=function(h,y,S){return nt(y[S-1],y[S+0])},k.Predictor9=function(h,y,S){return nt(y[S+0],y[S+1])},k.Predictor10=function(h,y,S){return nt(nt(h,y[S-1]),nt(y[S+0],y[S+1]))},k.Predictor11=function(h,y,S){var P=y[S+0];return 0>=tt(P>>24&255,h>>24&255,(y=y[S-1])>>24&255)+tt(P>>16&255,h>>16&255,y>>16&255)+tt(P>>8&255,h>>8&255,y>>8&255)+tt(255&P,255&h,255&y)?P:h},k.Predictor12=function(h,y,S){var P=y[S+0];return(Ot((h>>24&255)+(P>>24&255)-((y=y[S-1])>>24&255))<<24|Ot((h>>16&255)+(P>>16&255)-(y>>16&255))<<16|Ot((h>>8&255)+(P>>8&255)-(y>>8&255))<<8|Ot((255&h)+(255&P)-(255&y)))>>>0},k.Predictor13=function(h,y,S){var P=y[S-1];return(wt((h=nt(h,y[S+0]))>>24&255,P>>24&255)<<24|wt(h>>16&255,P>>16&255)<<16|wt(h>>8&255,P>>8&255)<<8|wt(255&h,255&P))>>>0};var Jc=k.PredictorAdd0;k.PredictorAdd1=St,Be("Predictor2","PredictorAdd2"),Be("Predictor3","PredictorAdd3"),Be("Predictor4","PredictorAdd4"),Be("Predictor5","PredictorAdd5"),Be("Predictor6","PredictorAdd6"),Be("Predictor7","PredictorAdd7"),Be("Predictor8","PredictorAdd8"),Be("Predictor9","PredictorAdd9"),Be("Predictor10","PredictorAdd10"),Be("Predictor11","PredictorAdd11"),Be("Predictor12","PredictorAdd12"),Be("Predictor13","PredictorAdd13");var Su=k.PredictorAdd2;ot("ColorIndexInverseTransform","MapARGB","32b",function(h){return h>>8&255},function(h){return h}),ot("VP8LColorIndexInverseTransformAlpha","MapAlpha","8b",function(h){return h},function(h){return h>>8&255});var Jn,cd=k.ColorIndexInverseTransform,io=k.MapARGB,so=k.VP8LColorIndexInverseTransformAlpha,Zc=k.MapAlpha,eh=k.VP8LPredictorsAdd=[];eh.length=16,(k.VP8LPredictors=[]).length=16,(k.VP8LPredictorsAdd_C=[]).length=16,(k.VP8LPredictors_C=[]).length=16;var th,nh,wa,xa,ba,Ll,_a,Rl,ls,oo,Jt,hn,Zn,pr,jo,rh,Au,hd,k5,I5,L5,R5,j5,D5,ih,M5,F5,O5,V5=s(511),B5=s(2041),U5=s(225),z5=s(767),q5=0,x0=B5,fd=U5,zi=z5,us=V5,dd=0,pd=1,$5=2,md=3,gd=4,b0=5,H5=6,_0=7,S0=8,yd=9,A0=10,IT=[2,3,7],LT=[3,3,11],W5=[280,256,256,256,40],RT=[0,1,1,1,0],jT=[17,18,0,1,2,3,4,5,16,6,7,8,9,10,11,12,13,14,15],DT=[24,7,23,25,40,6,39,41,22,26,38,42,56,5,55,57,21,27,54,58,37,43,72,4,71,73,20,28,53,59,70,74,36,44,88,69,75,52,60,3,87,89,19,29,86,90,35,45,68,76,85,91,51,61,104,2,103,105,18,30,102,106,34,46,84,92,67,77,101,107,50,62,120,1,119,121,83,93,17,31,100,108,66,78,118,122,33,47,117,123,49,63,99,109,82,94,0,116,124,65,79,16,32,98,110,48,115,125,81,95,64,114,126,97,111,80,113,127,96,112],MT=[2954,2956,2958,2962,2970,2986,3018,3082,3212,3468,3980,5004],FT=8,N0=[4,5,6,7,8,9,10,10,11,12,13,14,15,16,17,17,18,19,20,20,21,21,22,22,23,23,24,25,25,26,27,28,29,30,31,32,33,34,35,36,37,37,38,39,40,41,42,43,44,45,46,46,47,48,49,50,51,52,53,54,55,56,57,58,59,60,61,62,63,64,65,66,67,68,69,70,71,72,73,74,75,76,76,77,78,79,80,81,82,83,84,85,86,87,88,89,91,93,95,96,98,100,101,102,104,106,108,110,112,114,116,118,122,124,126,128,130,132,134,136,138,140,143,145,148,151,154,157],E0=[4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27,28,29,30,31,32,33,34,35,36,37,38,39,40,41,42,43,44,45,46,47,48,49,50,51,52,53,54,55,56,57,58,60,62,64,66,68,70,72,74,76,78,80,82,84,86,88,90,92,94,96,98,100,102,104,106,108,110,112,114,116,119,122,125,128,131,134,137,140,143,146,149,152,155,158,161,164,167,170,173,177,181,185,189,193,197,201,205,209,213,217,221,225,229,234,239,245,249,254,259,264,269,274,279,284],sh=null,OT=[[173,148,140,0],[176,155,140,135,0],[180,157,141,134,130,0],[254,254,243,230,196,177,153,140,133,130,129,0]],VT=[0,1,4,8,5,2,3,6,9,12,13,10,7,11,14,15],G5=[-0,1,-1,2,-2,3,4,6,-3,5,-4,-5,-6,7,-7,8,-8,-9],BT=[[[[128,128,128,128,128,128,128,128,128,128,128],[128,128,128,128,128,128,128,128,128,128,128],[128,128,128,128,128,128,128,128,128,128,128]],[[253,136,254,255,228,219,128,128,128,128,128],[189,129,242,255,227,213,255,219,128,128,128],[106,126,227,252,214,209,255,255,128,128,128]],[[1,98,248,255,236,226,255,255,128,128,128],[181,133,238,254,221,234,255,154,128,128,128],[78,134,202,247,198,180,255,219,128,128,128]],[[1,185,249,255,243,255,128,128,128,128,128],[184,150,247,255,236,224,128,128,128,128,128],[77,110,216,255,236,230,128,128,128,128,128]],[[1,101,251,255,241,255,128,128,128,128,128],[170,139,241,252,236,209,255,255,128,128,128],[37,116,196,243,228,255,255,255,128,128,128]],[[1,204,254,255,245,255,128,128,128,128,128],[207,160,250,255,238,128,128,128,128,128,128],[102,103,231,255,211,171,128,128,128,128,128]],[[1,152,252,255,240,255,128,128,128,128,128],[177,135,243,255,234,225,128,128,128,128,128],[80,129,211,255,194,224,128,128,128,128,128]],[[1,1,255,128,128,128,128,128,128,128,128],[246,1,255,128,128,128,128,128,128,128,128],[255,128,128,128,128,128,128,128,128,128,128]]],[[[198,35,237,223,193,187,162,160,145,155,62],[131,45,198,221,172,176,220,157,252,221,1],[68,47,146,208,149,167,221,162,255,223,128]],[[1,149,241,255,221,224,255,255,128,128,128],[184,141,234,253,222,220,255,199,128,128,128],[81,99,181,242,176,190,249,202,255,255,128]],[[1,129,232,253,214,197,242,196,255,255,128],[99,121,210,250,201,198,255,202,128,128,128],[23,91,163,242,170,187,247,210,255,255,128]],[[1,200,246,255,234,255,128,128,128,128,128],[109,178,241,255,231,245,255,255,128,128,128],[44,130,201,253,205,192,255,255,128,128,128]],[[1,132,239,251,219,209,255,165,128,128,128],[94,136,225,251,218,190,255,255,128,128,128],[22,100,174,245,186,161,255,199,128,128,128]],[[1,182,249,255,232,235,128,128,128,128,128],[124,143,241,255,227,234,128,128,128,128,128],[35,77,181,251,193,211,255,205,128,128,128]],[[1,157,247,255,236,231,255,255,128,128,128],[121,141,235,255,225,227,255,255,128,128,128],[45,99,188,251,195,217,255,224,128,128,128]],[[1,1,251,255,213,255,128,128,128,128,128],[203,1,248,255,255,128,128,128,128,128,128],[137,1,177,255,224,255,128,128,128,128,128]]],[[[253,9,248,251,207,208,255,192,128,128,128],[175,13,224,243,193,185,249,198,255,255,128],[73,17,171,221,161,179,236,167,255,234,128]],[[1,95,247,253,212,183,255,255,128,128,128],[239,90,244,250,211,209,255,255,128,128,128],[155,77,195,248,188,195,255,255,128,128,128]],[[1,24,239,251,218,219,255,205,128,128,128],[201,51,219,255,196,186,128,128,128,128,128],[69,46,190,239,201,218,255,228,128,128,128]],[[1,191,251,255,255,128,128,128,128,128,128],[223,165,249,255,213,255,128,128,128,128,128],[141,124,248,255,255,128,128,128,128,128,128]],[[1,16,248,255,255,128,128,128,128,128,128],[190,36,230,255,236,255,128,128,128,128,128],[149,1,255,128,128,128,128,128,128,128,128]],[[1,226,255,128,128,128,128,128,128,128,128],[247,192,255,128,128,128,128,128,128,128,128],[240,128,255,128,128,128,128,128,128,128,128]],[[1,134,252,255,255,128,128,128,128,128,128],[213,62,250,255,255,128,128,128,128,128,128],[55,93,255,128,128,128,128,128,128,128,128]],[[128,128,128,128,128,128,128,128,128,128,128],[128,128,128,128,128,128,128,128,128,128,128],[128,128,128,128,128,128,128,128,128,128,128]]],[[[202,24,213,235,186,191,220,160,240,175,255],[126,38,182,232,169,184,228,174,255,187,128],[61,46,138,219,151,178,240,170,255,216,128]],[[1,112,230,250,199,191,247,159,255,255,128],[166,109,228,252,211,215,255,174,128,128,128],[39,77,162,232,172,180,245,178,255,255,128]],[[1,52,220,246,198,199,249,220,255,255,128],[124,74,191,243,183,193,250,221,255,255,128],[24,71,130,219,154,170,243,182,255,255,128]],[[1,182,225,249,219,240,255,224,128,128,128],[149,150,226,252,216,205,255,171,128,128,128],[28,108,170,242,183,194,254,223,255,255,128]],[[1,81,230,252,204,203,255,192,128,128,128],[123,102,209,247,188,196,255,233,128,128,128],[20,95,153,243,164,173,255,203,128,128,128]],[[1,222,248,255,216,213,128,128,128,128,128],[168,175,246,252,235,205,255,255,128,128,128],[47,116,215,255,211,212,255,255,128,128,128]],[[1,121,236,253,212,214,255,255,128,128,128],[141,84,213,252,201,202,255,219,128,128,128],[42,80,160,240,162,185,255,205,128,128,128]],[[1,1,255,128,128,128,128,128,128,128,128],[244,1,255,128,128,128,128,128,128,128,128],[238,1,255,128,128,128,128,128,128,128,128]]]],UT=[[[231,120,48,89,115,113,120,152,112],[152,179,64,126,170,118,46,70,95],[175,69,143,80,85,82,72,155,103],[56,58,10,171,218,189,17,13,152],[114,26,17,163,44,195,21,10,173],[121,24,80,195,26,62,44,64,85],[144,71,10,38,171,213,144,34,26],[170,46,55,19,136,160,33,206,71],[63,20,8,114,114,208,12,9,226],[81,40,11,96,182,84,29,16,36]],[[134,183,89,137,98,101,106,165,148],[72,187,100,130,157,111,32,75,80],[66,102,167,99,74,62,40,234,128],[41,53,9,178,241,141,26,8,107],[74,43,26,146,73,166,49,23,157],[65,38,105,160,51,52,31,115,128],[104,79,12,27,217,255,87,17,7],[87,68,71,44,114,51,15,186,23],[47,41,14,110,182,183,21,17,194],[66,45,25,102,197,189,23,18,22]],[[88,88,147,150,42,46,45,196,205],[43,97,183,117,85,38,35,179,61],[39,53,200,87,26,21,43,232,171],[56,34,51,104,114,102,29,93,77],[39,28,85,171,58,165,90,98,64],[34,22,116,206,23,34,43,166,73],[107,54,32,26,51,1,81,43,31],[68,25,106,22,64,171,36,225,114],[34,19,21,102,132,188,16,76,124],[62,18,78,95,85,57,50,48,51]],[[193,101,35,159,215,111,89,46,111],[60,148,31,172,219,228,21,18,111],[112,113,77,85,179,255,38,120,114],[40,42,1,196,245,209,10,25,109],[88,43,29,140,166,213,37,43,154],[61,63,30,155,67,45,68,1,209],[100,80,8,43,154,1,51,26,71],[142,78,78,16,255,128,34,197,171],[41,40,5,102,211,183,4,1,221],[51,50,17,168,209,192,23,25,82]],[[138,31,36,171,27,166,38,44,229],[67,87,58,169,82,115,26,59,179],[63,59,90,180,59,166,93,73,154],[40,40,21,116,143,209,34,39,175],[47,15,16,183,34,223,49,45,183],[46,17,33,183,6,98,15,32,183],[57,46,22,24,128,1,54,17,37],[65,32,73,115,28,128,23,128,205],[40,3,9,115,51,192,18,6,223],[87,37,9,115,59,77,64,21,47]],[[104,55,44,218,9,54,53,130,226],[64,90,70,205,40,41,23,26,57],[54,57,112,184,5,41,38,166,213],[30,34,26,133,152,116,10,32,134],[39,19,53,221,26,114,32,73,255],[31,9,65,234,2,15,1,118,73],[75,32,12,51,192,255,160,43,51],[88,31,35,67,102,85,55,186,85],[56,21,23,111,59,205,45,37,192],[55,38,70,124,73,102,1,34,98]],[[125,98,42,88,104,85,117,175,82],[95,84,53,89,128,100,113,101,45],[75,79,123,47,51,128,81,171,1],[57,17,5,71,102,57,53,41,49],[38,33,13,121,57,73,26,1,85],[41,10,67,138,77,110,90,47,114],[115,21,2,10,102,255,166,23,6],[101,29,16,10,85,128,101,196,26],[57,18,10,102,102,213,34,20,43],[117,20,15,36,163,128,68,1,26]],[[102,61,71,37,34,53,31,243,192],[69,60,71,38,73,119,28,222,37],[68,45,128,34,1,47,11,245,171],[62,17,19,70,146,85,55,62,70],[37,43,37,154,100,163,85,160,1],[63,9,92,136,28,64,32,201,85],[75,15,9,9,64,255,184,119,16],[86,6,28,5,64,255,25,248,1],[56,8,17,132,137,255,55,116,128],[58,15,20,82,135,57,26,121,40]],[[164,50,31,137,154,133,25,35,218],[51,103,44,131,131,123,31,6,158],[86,40,64,135,148,224,45,183,128],[22,26,17,131,240,154,14,1,209],[45,16,21,91,64,222,7,1,197],[56,21,39,155,60,138,23,102,213],[83,12,13,54,192,255,68,47,28],[85,26,85,85,128,128,32,146,171],[18,11,7,63,144,171,4,4,246],[35,27,10,146,174,171,12,26,128]],[[190,80,35,99,180,80,126,54,45],[85,126,47,87,176,51,41,20,32],[101,75,128,139,118,146,116,128,85],[56,41,15,176,236,85,37,9,62],[71,30,17,119,118,255,17,18,138],[101,38,60,138,55,70,43,26,142],[146,36,19,30,171,255,97,27,20],[138,45,61,62,219,1,81,188,64],[32,41,20,117,151,142,20,21,163],[112,19,12,61,195,128,48,4,24]]],zT=[[[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[176,246,255,255,255,255,255,255,255,255,255],[223,241,252,255,255,255,255,255,255,255,255],[249,253,253,255,255,255,255,255,255,255,255]],[[255,244,252,255,255,255,255,255,255,255,255],[234,254,254,255,255,255,255,255,255,255,255],[253,255,255,255,255,255,255,255,255,255,255]],[[255,246,254,255,255,255,255,255,255,255,255],[239,253,254,255,255,255,255,255,255,255,255],[254,255,254,255,255,255,255,255,255,255,255]],[[255,248,254,255,255,255,255,255,255,255,255],[251,255,254,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,253,254,255,255,255,255,255,255,255,255],[251,254,254,255,255,255,255,255,255,255,255],[254,255,254,255,255,255,255,255,255,255,255]],[[255,254,253,255,254,255,255,255,255,255,255],[250,255,254,255,254,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]]],[[[217,255,255,255,255,255,255,255,255,255,255],[225,252,241,253,255,255,254,255,255,255,255],[234,250,241,250,253,255,253,254,255,255,255]],[[255,254,255,255,255,255,255,255,255,255,255],[223,254,254,255,255,255,255,255,255,255,255],[238,253,254,254,255,255,255,255,255,255,255]],[[255,248,254,255,255,255,255,255,255,255,255],[249,254,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,253,255,255,255,255,255,255,255,255,255],[247,254,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,253,254,255,255,255,255,255,255,255,255],[252,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,254,254,255,255,255,255,255,255,255,255],[253,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,254,253,255,255,255,255,255,255,255,255],[250,255,255,255,255,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]]],[[[186,251,250,255,255,255,255,255,255,255,255],[234,251,244,254,255,255,255,255,255,255,255],[251,251,243,253,254,255,254,255,255,255,255]],[[255,253,254,255,255,255,255,255,255,255,255],[236,253,254,255,255,255,255,255,255,255,255],[251,253,253,254,254,255,255,255,255,255,255]],[[255,254,254,255,255,255,255,255,255,255,255],[254,254,254,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,254,255,255,255,255,255,255,255,255,255],[254,254,255,255,255,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]]],[[[248,255,255,255,255,255,255,255,255,255,255],[250,254,252,254,255,255,255,255,255,255,255],[248,254,249,253,255,255,255,255,255,255,255]],[[255,253,253,255,255,255,255,255,255,255,255],[246,253,253,255,255,255,255,255,255,255,255],[252,254,251,254,254,255,255,255,255,255,255]],[[255,254,252,255,255,255,255,255,255,255,255],[248,254,253,255,255,255,255,255,255,255,255],[253,255,254,254,255,255,255,255,255,255,255]],[[255,251,254,255,255,255,255,255,255,255,255],[245,251,254,255,255,255,255,255,255,255,255],[253,253,254,255,255,255,255,255,255,255,255]],[[255,251,253,255,255,255,255,255,255,255,255],[252,253,254,255,255,255,255,255,255,255,255],[255,254,255,255,255,255,255,255,255,255,255]],[[255,252,255,255,255,255,255,255,255,255,255],[249,255,254,255,255,255,255,255,255,255,255],[255,255,254,255,255,255,255,255,255,255,255]],[[255,255,253,255,255,255,255,255,255,255,255],[250,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]]]],qT=[0,1,2,3,6,4,5,6,6,6,6,6,6,6,6,7,0],Sa=[],Cs=[],Do=[],$T=1,K5=2,Aa=[],cs=[];Cr("UpsampleRgbLinePair",$,3),Cr("UpsampleBgrLinePair",me,3),Cr("UpsampleRgbaLinePair",Rt,4),Cr("UpsampleBgraLinePair",Rn,4),Cr("UpsampleArgbLinePair",Vt,4),Cr("UpsampleRgba4444LinePair",Oe,2),Cr("UpsampleRgb565LinePair",_e,2);var HT=k.UpsampleRgbLinePair,WT=k.UpsampleBgrLinePair,Q5=k.UpsampleRgbaLinePair,Y5=k.UpsampleBgraLinePair,X5=k.UpsampleArgbLinePair,J5=k.UpsampleRgba4444LinePair,GT=k.UpsampleRgb565LinePair,vd=16,wd=1<<vd-1,oh=-227,T0=482,KT=6,Z5=0,QT=s(256),YT=s(256),XT=s(256),JT=s(256),ZT=s(T0-oh),eC=s(T0-oh);mn("YuvToRgbRow",$,3),mn("YuvToBgrRow",me,3),mn("YuvToRgbaRow",Rt,4),mn("YuvToBgraRow",Rn,4),mn("YuvToArgbRow",Vt,4),mn("YuvToRgba4444Row",Oe,2),mn("YuvToRgb565Row",_e,2);var ew=[0,4,8,12,128,132,136,140,256,260,264,268,384,388,392,396],xd=[0,2,8],tC=[8,7,6,4,4,2,2,2,1,1,1,1],nC=1;this.WebPDecodeRGBA=function(h,y,S,P,O){var B=pd,U=new de,q=new Yt;U.ba=q,q.S=B,q.width=[q.width],q.height=[q.height];var K=q.width,J=q.height,oe=new ft;if(oe==null||h==null)var xe=2;else e(oe!=null),xe=Ts(h,y,S,oe.width,oe.height,oe.Pd,oe.Qd,oe.format,null);if(xe!=0?K=0:(K!=null&&(K[0]=oe.width[0]),J!=null&&(J[0]=oe.height[0]),K=1),K){q.width=q.width[0],q.height=q.height[0],P!=null&&(P[0]=q.width),O!=null&&(O[0]=q.height);e:{if(P=new Ys,(O=new Ce).data=h,O.w=y,O.ha=S,O.kd=1,y=[0],e(O!=null),((h=Ts(O.data,O.w,O.ha,null,null,null,y,null,O))==0||h==7)&&y[0]&&(h=4),(y=h)==0){if(e(U!=null),P.data=O.data,P.w=O.w+O.offset,P.ha=O.ha-O.offset,P.put=lt,P.ac=Ur,P.bc=wn,P.ma=U,O.xa){if((h=Gs())==null){U=1;break e}if(function(Z,ce){var ge=[0],Te=[0],we=[0];t:for(;;){if(Z==null)return 0;if(ce==null)return Z.a=2,0;if(Z.l=ce,Z.a=0,se(Z.m,ce.data,ce.w,ce.ha),!is(Z.m,ge,Te,we)){Z.a=3;break t}if(Z.xb=K5,ce.width=ge[0],ce.height=Te[0],!Di(ge[0],Te[0],1,Z,null))break t;return 1}return e(Z.a!=0),0}(h,P)){if(P=(y=ga(P.width,P.height,U.Oa,U.ba))==0){t:{P=h;n:for(;;){if(P==null){P=0;break t}if(e(P.s.yc!=null),e(P.s.Ya!=null),e(0<P.s.Wb),e((S=P.l)!=null),e((O=S.ma)!=null),P.xb!=0){if(P.ca=O.ba,P.tb=O.tb,e(P.ca!=null),!Yc(O.Oa,S,md)){P.a=2;break n}if(!_s(P,S.width)||S.da)break n;if((S.da||xt(P.ca.S))&&pn(),11>P.ca.S||(alert("todo:WebPInitConvertARGBToYUV"),P.ca.f.kb.F!=null&&pn()),P.Pb&&0<P.s.ua&&P.s.vb.X==null&&!W(P.s.vb,P.s.Wa.Xa)){P.a=1;break n}P.xb=0}if(!qr(P,P.V,P.Ba,P.c,P.i,S.o,Ws))break n;O.Dc=P.Ma,P=1;break t}e(P.a!=0),P=0}P=!P}P&&(y=h.a)}else y=h.a}else{if((h=new bl)==null){U=1;break e}if(h.Fa=O.na,h.P=O.P,h.qc=O.Sa,xu(h,P)){if((y=ga(P.width,P.height,U.Oa,U.ba))==0){if(h.Aa=0,S=U.Oa,e((O=h)!=null),S!=null){if(0<(K=0>(K=S.Md)?0:100<K?255:255*K/100)){for(J=oe=0;4>J;++J)12>(xe=O.pb[J]).lc&&(xe.ia=K*tC[0>xe.lc?0:xe.lc]>>3),oe|=xe.ia;oe&&(alert("todo:VP8InitRandom"),O.ia=1)}O.Ga=S.Id,100<O.Ga?O.Ga=100:0>O.Ga&&(O.Ga=0)}(function(Z,ce){if(Z==null)return 0;if(ce==null)return kn(Z,2,"NULL VP8Io parameter in VP8Decode().");if(!Z.cb&&!xu(Z,ce))return 0;if(e(Z.cb),ce.ac==null||ce.ac(ce)){ce.ob&&(Z.L=0);var ge=xd[Z.L];if(Z.L==2?(Z.yb=0,Z.zb=0):(Z.yb=ce.v-ge>>4,Z.zb=ce.j-ge>>4,0>Z.yb&&(Z.yb=0),0>Z.zb&&(Z.zb=0)),Z.Va=ce.o+15+ge>>4,Z.Hb=ce.va+15+ge>>4,Z.Hb>Z.za&&(Z.Hb=Z.za),Z.Va>Z.Ub&&(Z.Va=Z.Ub),0<Z.L){var Te=Z.ed;for(ge=0;4>ge;++ge){var we;if(Z.Qa.Cb){var Pe=Z.Qa.Lb[ge];Z.Qa.Fb||(Pe+=Te.Tb)}else Pe=Te.Tb;for(we=0;1>=we;++we){var ke=Z.gd[ge][we],Me=Pe;if(Te.Pc&&(Me+=Te.vd[0],we&&(Me+=Te.od[0])),0<(Me=0>Me?0:63<Me?63:Me)){var je=Me;0<Te.wb&&(je=4<Te.wb?je>>2:je>>1)>9-Te.wb&&(je=9-Te.wb),1>je&&(je=1),ke.dd=je,ke.tc=2*Me+je,ke.ld=40<=Me?2:15<=Me?1:0}else ke.tc=0;ke.La=we}}}ge=0}else kn(Z,6,"Frame setup failed"),ge=Z.a;if(ge=ge==0){if(ge){Z.$c=0,0<Z.Aa||(Z.Ic=nC);t:{ge=Z.Ic,Te=4*(je=Z.za);var it=32*je,Ge=je+1,Ct=0<Z.L?je*(0<Z.Aa?2:1):0,Ze=(Z.Aa==2?2:1)*je;if((ke=Te+832+(we=3*(16*ge+xd[Z.L])/2*it)+(Pe=Z.Fa!=null&&0<Z.Fa.length?Z.Kc.c*Z.Kc.i:0))!=ke)ge=0;else{if(ke>Z.Vb){if(Z.Vb=0,Z.Ec=s(ke),Z.Fc=0,Z.Ec==null){ge=kn(Z,1,"no memory during frame initialization.");break t}Z.Vb=ke}ke=Z.Ec,Me=Z.Fc,Z.Ac=ke,Z.Bc=Me,Me+=Te,Z.Gd=o(it,wl),Z.Hd=0,Z.rb=o(Ge+1,Mi),Z.sb=1,Z.wa=Ct?o(Ct,_r):null,Z.Y=0,Z.D.Nb=0,Z.D.wa=Z.wa,Z.D.Y=Z.Y,0<Z.Aa&&(Z.D.Y+=je),e(!0),Z.oc=ke,Z.pc=Me,Me+=832,Z.ya=o(Ze,yl),Z.aa=0,Z.D.ya=Z.ya,Z.D.aa=Z.aa,Z.Aa==2&&(Z.D.aa+=je),Z.R=16*je,Z.B=8*je,je=(it=xd[Z.L])*Z.R,it=it/2*Z.B,Z.sa=ke,Z.ta=Me+je,Z.qa=Z.sa,Z.ra=Z.ta+16*ge*Z.R+it,Z.Ha=Z.qa,Z.Ia=Z.ra+8*ge*Z.B+it,Z.$c=0,Me+=we,Z.mb=Pe?ke:null,Z.nb=Pe?Me:null,e(Me+Pe<=Z.Fc+Z.Vb),Xs(Z),i(Z.Ac,Z.Bc,0,Te),ge=1}}if(ge){if(ce.ka=0,ce.y=Z.sa,ce.O=Z.ta,ce.f=Z.qa,ce.N=Z.ra,ce.ea=Z.Ha,ce.Vd=Z.Ia,ce.fa=Z.R,ce.Rc=Z.B,ce.F=null,ce.J=0,!q5){for(ge=-255;255>=ge;++ge)V5[255+ge]=0>ge?-ge:ge;for(ge=-1020;1020>=ge;++ge)B5[1020+ge]=-128>ge?-128:127<ge?127:ge;for(ge=-112;112>=ge;++ge)U5[112+ge]=-16>ge?-16:15<ge?15:ge;for(ge=-255;510>=ge;++ge)z5[255+ge]=0>ge?0:255<ge?255:ge;q5=1}_a=Js,Rl=ca,oo=bu,Jt=Mt,hn=Co,ls=ua,Zn=Cl,pr=ma,jo=w,rh=F,Au=as,hd=Pl,k5=X,I5=re,L5=no,R5=ro,j5=_i,D5=Tl,Cs[0]=Gc,Cs[1]=Sl,Cs[2]=eo,Cs[3]=Wc,Cs[4]=Kc,Cs[5]=As,Cs[6]=Sr,Cs[7]=Qc,Cs[8]=Ns,Cs[9]=fa,Sa[0]=bi,Sa[1]=$c,Sa[2]=Hc,Sa[3]=Al,Sa[4]=ss,Sa[5]=Zs,Sa[6]=ha,Do[0]=ko,Do[1]=_u,Do[2]=da,Do[3]=Fi,Do[4]=cn,Do[5]=Nl,Do[6]=El,ge=1}else ge=0}ge&&(ge=function(Bt,mr){for(Bt.M=0;Bt.M<Bt.Va;++Bt.M){var Pt,et=Bt.Jc[Bt.M&Bt.Xb],Ve=Bt.m,er=Bt;for(Pt=0;Pt<er.za;++Pt){var Tt=Ve,qt=er,xn=qt.Ac,kr=qt.Bc+4*Pt,li=qt.zc,zn=qt.ya[qt.aa+Pt];if(qt.Qa.Bb?zn.$b=he(Tt,qt.Pa.jb[0])?2+he(Tt,qt.Pa.jb[2]):he(Tt,qt.Pa.jb[1]):zn.$b=0,qt.kc&&(zn.Ad=he(Tt,qt.Bd)),zn.Za=!he(Tt,145)+0,zn.Za){var Hr=zn.Ob,ui=0;for(qt=0;4>qt;++qt){var gr,Ht=li[0+qt];for(gr=0;4>gr;++gr){Ht=UT[xn[kr+gr]][Ht];for(var rn=G5[he(Tt,Ht[0])];0<rn;)rn=G5[2*rn+he(Tt,Ht[rn])];Ht=-rn,xn[kr+gr]=Ht}r(Hr,ui,xn,kr,4),ui+=4,li[0+qt]=Ht}}else Ht=he(Tt,156)?he(Tt,128)?1:3:he(Tt,163)?2:0,zn.Ob[0]=Ht,i(xn,kr,Ht,4),i(li,0,Ht,4);zn.Dd=he(Tt,142)?he(Tt,114)?he(Tt,183)?1:3:2:0}if(er.m.Ka)return kn(Bt,7,"Premature end-of-partition0 encountered.");for(;Bt.ja<Bt.za;++Bt.ja){if(er=et,Tt=(Ve=Bt).rb[Ve.sb-1],xn=Ve.rb[Ve.sb+Ve.ja],Pt=Ve.ya[Ve.aa+Ve.ja],kr=Ve.kc?Pt.Ad:0)Tt.la=xn.la=0,Pt.Za||(Tt.Na=xn.Na=0),Pt.Hc=0,Pt.Gc=0,Pt.ia=0;else{var qn,sn;if(Tt=xn,xn=er,kr=Ve.Pa.Xc,li=Ve.ya[Ve.aa+Ve.ja],zn=Ve.pb[li.$b],qt=li.ad,Hr=0,ui=Ve.rb[Ve.sb-1],Ht=gr=0,i(qt,Hr,0,384),li.Za)var Ir=0,Ps=kr[3];else{rn=s(16);var tr=Tt.Na+ui.Na;if(tr=sh(xn,kr[1],tr,zn.Eb,0,rn,0),Tt.Na=ui.Na=(0<tr)+0,1<tr)_a(rn,0,qt,Hr);else{var Si=rn[0]+3>>3;for(rn=0;256>rn;rn+=16)qt[Hr+rn]=Si}Ir=1,Ps=kr[0]}var fn=15&Tt.la,yr=15&ui.la;for(rn=0;4>rn;++rn){var qi=1&yr;for(Si=sn=0;4>Si;++Si)fn=fn>>1|(qi=(tr=sh(xn,Ps,tr=qi+(1&fn),zn.Sc,Ir,qt,Hr))>Ir)<<7,sn=sn<<2|(3<tr?3:1<tr?2:qt[Hr+0]!=0),Hr+=16;fn>>=4,yr=yr>>1|qi<<7,gr=(gr<<8|sn)>>>0}for(Ps=fn,Ir=yr>>4,qn=0;4>qn;qn+=2){for(sn=0,fn=Tt.la>>4+qn,yr=ui.la>>4+qn,rn=0;2>rn;++rn){for(qi=1&yr,Si=0;2>Si;++Si)tr=qi+(1&fn),fn=fn>>1|(qi=0<(tr=sh(xn,kr[2],tr,zn.Qc,0,qt,Hr)))<<3,sn=sn<<2|(3<tr?3:1<tr?2:qt[Hr+0]!=0),Hr+=16;fn>>=2,yr=yr>>1|qi<<5}Ht|=sn<<4*qn,Ps|=fn<<4<<qn,Ir|=(240&yr)<<qn}Tt.la=Ps,ui.la=Ir,li.Hc=gr,li.Gc=Ht,li.ia=43690&Ht?0:zn.ia,kr=!(gr|Ht)}if(0<Ve.L&&(Ve.wa[Ve.Y+Ve.ja]=Ve.gd[Pt.$b][Pt.Za],Ve.wa[Ve.Y+Ve.ja].La|=!kr),er.Ka)return kn(Bt,7,"Premature end-of-file encountered.")}if(Xs(Bt),Ve=mr,er=1,Pt=(et=Bt).D,Tt=0<et.L&&et.M>=et.zb&&et.M<=et.Va,et.Aa==0)t:{if(Pt.M=et.M,Pt.uc=Tt,Pr(et,Pt),er=1,Pt=(sn=et.D).Nb,Tt=(Ht=xd[et.L])*et.R,xn=Ht/2*et.B,rn=16*Pt*et.R,Si=8*Pt*et.B,kr=et.sa,li=et.ta-Tt+rn,zn=et.qa,qt=et.ra-xn+Si,Hr=et.Ha,ui=et.Ia-xn+Si,yr=(fn=sn.M)==0,gr=fn>=et.Va-1,et.Aa==2&&Pr(et,sn),sn.uc)for(qi=(tr=et).D.M,e(tr.D.uc),sn=tr.yb;sn<tr.Hb;++sn){Ir=sn,Ps=qi;var ci=($i=(Lr=tr).D).Nb;qn=Lr.R;var $i=$i.wa[$i.Y+Ir],Hi=Lr.sa,Ai=Lr.ta+16*ci*qn+16*Ir,Wi=$i.dd,gn=$i.tc;if(gn!=0)if(e(3<=gn),Lr.L==1)0<Ir&&R5(Hi,Ai,qn,gn+4),$i.La&&D5(Hi,Ai,qn,gn),0<Ps&&L5(Hi,Ai,qn,gn+4),$i.La&&j5(Hi,Ai,qn,gn);else{var Gi=Lr.B,ks=Lr.qa,jl=Lr.ra+8*ci*Gi+8*Ir,Mo=Lr.Ha,Lr=Lr.Ia+8*ci*Gi+8*Ir;ci=$i.ld,0<Ir&&(pr(Hi,Ai,qn,gn+4,Wi,ci),rh(ks,jl,Mo,Lr,Gi,gn+4,Wi,ci)),$i.La&&(hd(Hi,Ai,qn,gn,Wi,ci),I5(ks,jl,Mo,Lr,Gi,gn,Wi,ci)),0<Ps&&(Zn(Hi,Ai,qn,gn+4,Wi,ci),jo(ks,jl,Mo,Lr,Gi,gn+4,Wi,ci)),$i.La&&(Au(Hi,Ai,qn,gn,Wi,ci),k5(ks,jl,Mo,Lr,Gi,gn,Wi,ci))}}if(et.ia&&alert("todo:DitherRow"),Ve.put!=null){if(sn=16*fn,fn=16*(fn+1),yr?(Ve.y=et.sa,Ve.O=et.ta+rn,Ve.f=et.qa,Ve.N=et.ra+Si,Ve.ea=et.Ha,Ve.W=et.Ia+Si):(sn-=Ht,Ve.y=kr,Ve.O=li,Ve.f=zn,Ve.N=qt,Ve.ea=Hr,Ve.W=ui),gr||(fn-=Ht),fn>Ve.o&&(fn=Ve.o),Ve.F=null,Ve.J=null,et.Fa!=null&&0<et.Fa.length&&sn<fn&&(Ve.J=In(et,Ve,sn,fn-sn),Ve.F=et.mb,Ve.F==null&&Ve.F.length==0)){er=kn(et,3,"Could not decode alpha data.");break t}sn<Ve.j&&(Ht=Ve.j-sn,sn=Ve.j,e(!(1&Ht)),Ve.O+=et.R*Ht,Ve.N+=et.B*(Ht>>1),Ve.W+=et.B*(Ht>>1),Ve.F!=null&&(Ve.J+=Ve.width*Ht)),sn<fn&&(Ve.O+=Ve.v,Ve.N+=Ve.v>>1,Ve.W+=Ve.v>>1,Ve.F!=null&&(Ve.J+=Ve.v),Ve.ka=sn-Ve.j,Ve.U=Ve.va-Ve.v,Ve.T=fn-sn,er=Ve.put(Ve))}Pt+1!=et.Ic||gr||(r(et.sa,et.ta-Tt,kr,li+16*et.R,Tt),r(et.qa,et.ra-xn,zn,qt+8*et.B,xn),r(et.Ha,et.Ia-xn,Hr,ui+8*et.B,xn))}if(!er)return kn(Bt,6,"Output aborted.")}return 1}(Z,ce)),ce.bc!=null&&ce.bc(ce),ge&=1}return ge?(Z.cb=0,ge):0})(h,P)||(y=h.a)}}else y=h.a}y==0&&U.Oa!=null&&U.Oa.fd&&(y=Xc(U.ba))}U=y}B=U!=0?null:11>B?q.f.RGBA.eb:q.f.kb.y}else B=null;return B};var tw=[3,4,3,4,4,2,2,4,4,4,2,1,1]};function u(k,M){for(var T="",I=0;I<4;I++)T+=String.fromCharCode(k[M++]);return T}function c(k,M){return k[M+0]|k[M+1]<<8}function d(k,M){return(k[M+0]|k[M+1]<<8|k[M+2]<<16)>>>0}function g(k,M){return(k[M+0]|k[M+1]<<8|k[M+2]<<16|k[M+3]<<24)>>>0}new l;var m=[0],b=[0],x=[],A=new l,v=t,_=function(k,M){var T={},I=0,D=!1,H=0,ne=0;if(T.frames=[],!function(V,Q){for(var te=0;te<4;te++)if(V[Q+te]!="RIFF".charCodeAt(te))return!0;return!1}(k,M)){for(g(k,M+=4),M+=8;M<k.length;){var ue=u(k,M),ae=g(k,M+=4);M+=4;var ee=ae+(1&ae);switch(ue){case"VP8 ":case"VP8L":T.frames[I]===void 0&&(T.frames[I]={}),(Se=T.frames[I]).src_off=D?ne:M-8,Se.src_size=H+ae+8,I++,D&&(D=!1,H=0,ne=0);break;case"VP8X":(Se=T.header={}).feature_flags=k[M];var se=M+4;Se.canvas_width=1+d(k,se),se+=3,Se.canvas_height=1+d(k,se),se+=3;break;case"ALPH":D=!0,H=ee+8,ne=M-8;break;case"ANIM":(Se=T.header).bgcolor=g(k,M),se=M+4,Se.loop_count=c(k,se),se+=2;break;case"ANMF":var ye,Se;(Se=T.frames[I]={}).offset_x=2*d(k,M),M+=3,Se.offset_y=2*d(k,M),M+=3,Se.width=1+d(k,M),M+=3,Se.height=1+d(k,M),M+=3,Se.duration=d(k,M),M+=3,ye=k[M++],Se.dispose=1&ye,Se.blend=ye>>1&1}ue!="ANMF"&&(M+=ee)}return T}}(v,0);_.response=v,_.rgbaoutput=!0,_.dataurl=!1;var E=_.header?_.header:null,L=_.frames?_.frames:null;if(E){E.loop_counter=E.loop_count,m=[E.canvas_height],b=[E.canvas_width];for(var z=0;z<L.length&&L[z].blend!=0;z++);}var Y=L[0],R=A.WebPDecodeRGBA(v,Y.src_off,Y.src_size,b,m);Y.rgba=R,Y.imgwidth=b[0],Y.imgheight=m[0];for(var C=0;C<b[0]*m[0]*4;C++)x[C]=R[C];return this.width=b,this.height=m,this.data=x,this}(function(t){var e,n,r,i,s,o,a,l,u,c=function(V){return V=V||{},this.isStrokeTransparent=V.isStrokeTransparent||!1,this.strokeOpacity=V.strokeOpacity||1,this.strokeStyle=V.strokeStyle||"#000000",this.fillStyle=V.fillStyle||"#000000",this.isFillTransparent=V.isFillTransparent||!1,this.fillOpacity=V.fillOpacity||1,this.font=V.font||"10px sans-serif",this.textBaseline=V.textBaseline||"alphabetic",this.textAlign=V.textAlign||"left",this.lineWidth=V.lineWidth||1,this.lineJoin=V.lineJoin||"miter",this.lineCap=V.lineCap||"butt",this.path=V.path||[],this.transform=V.transform!==void 0?V.transform.clone():new l,this.globalCompositeOperation=V.globalCompositeOperation||"normal",this.globalAlpha=V.globalAlpha||1,this.clip_path=V.clip_path||[],this.currentPoint=V.currentPoint||new o,this.miterLimit=V.miterLimit||10,this.lastPoint=V.lastPoint||new o,this.lineDashOffset=V.lineDashOffset||0,this.lineDash=V.lineDash||[],this.margin=V.margin||[0,0,0,0],this.prevPageLastElemOffset=V.prevPageLastElemOffset||0,this.ignoreClearRect=typeof V.ignoreClearRect!="boolean"||V.ignoreClearRect,this};t.events.push(["initialized",function(){this.context2d=new d(this),e=this.internal.f2,n=this.internal.getCoordinateString,r=this.internal.getVerticalCoordinateString,i=this.internal.getHorizontalCoordinate,s=this.internal.getVerticalCoordinate,o=this.internal.Point,a=this.internal.Rectangle,l=this.internal.Matrix,u=new c}]);var d=function(V){Object.defineProperty(this,"canvas",{get:function(){return{parentNode:!1,style:!1}}});var Q=V;Object.defineProperty(this,"pdf",{get:function(){return Q}});var te=!1;Object.defineProperty(this,"pageWrapXEnabled",{get:function(){return te},set:function(fe){te=!!fe}});var ie=!1;Object.defineProperty(this,"pageWrapYEnabled",{get:function(){return ie},set:function(fe){ie=!!fe}});var le=0;Object.defineProperty(this,"posX",{get:function(){return le},set:function(fe){isNaN(fe)||(le=fe)}});var ve=0;Object.defineProperty(this,"posY",{get:function(){return ve},set:function(fe){isNaN(fe)||(ve=fe)}}),Object.defineProperty(this,"margin",{get:function(){return u.margin},set:function(fe){var W;typeof fe=="number"?W=[fe,fe,fe,fe]:((W=new Array(4))[0]=fe[0],W[1]=fe.length>=2?fe[1]:W[0],W[2]=fe.length>=3?fe[2]:W[0],W[3]=fe.length>=4?fe[3]:W[1]),u.margin=W}});var Ne=!1;Object.defineProperty(this,"autoPaging",{get:function(){return Ne},set:function(fe){Ne=fe}});var Ae=0;Object.defineProperty(this,"lastBreak",{get:function(){return Ae},set:function(fe){Ae=fe}});var he=[];Object.defineProperty(this,"pageBreaks",{get:function(){return he},set:function(fe){he=fe}}),Object.defineProperty(this,"ctx",{get:function(){return u},set:function(fe){fe instanceof c&&(u=fe)}}),Object.defineProperty(this,"path",{get:function(){return u.path},set:function(fe){u.path=fe}});var be=[];Object.defineProperty(this,"ctxStack",{get:function(){return be},set:function(fe){be=fe}}),Object.defineProperty(this,"fillStyle",{get:function(){return this.ctx.fillStyle},set:function(fe){var W;W=g(fe),this.ctx.fillStyle=W.style,this.ctx.isFillTransparent=W.a===0,this.ctx.fillOpacity=W.a,this.pdf.setFillColor(W.r,W.g,W.b,{a:W.a}),this.pdf.setTextColor(W.r,W.g,W.b,{a:W.a})}}),Object.defineProperty(this,"strokeStyle",{get:function(){return this.ctx.strokeStyle},set:function(fe){var W=g(fe);this.ctx.strokeStyle=W.style,this.ctx.isStrokeTransparent=W.a===0,this.ctx.strokeOpacity=W.a,W.a===0?this.pdf.setDrawColor(255,255,255):(W.a,this.pdf.setDrawColor(W.r,W.g,W.b))}}),Object.defineProperty(this,"lineCap",{get:function(){return this.ctx.lineCap},set:function(fe){["butt","round","square"].indexOf(fe)!==-1&&(this.ctx.lineCap=fe,this.pdf.setLineCap(fe))}}),Object.defineProperty(this,"lineWidth",{get:function(){return this.ctx.lineWidth},set:function(fe){isNaN(fe)||(this.ctx.lineWidth=fe,this.pdf.setLineWidth(fe))}}),Object.defineProperty(this,"lineJoin",{get:function(){return this.ctx.lineJoin},set:function(fe){["bevel","round","miter"].indexOf(fe)!==-1&&(this.ctx.lineJoin=fe,this.pdf.setLineJoin(fe))}}),Object.defineProperty(this,"miterLimit",{get:function(){return this.ctx.miterLimit},set:function(fe){isNaN(fe)||(this.ctx.miterLimit=fe,this.pdf.setMiterLimit(fe))}}),Object.defineProperty(this,"textBaseline",{get:function(){return this.ctx.textBaseline},set:function(fe){this.ctx.textBaseline=fe}}),Object.defineProperty(this,"textAlign",{get:function(){return this.ctx.textAlign},set:function(fe){["right","end","center","left","start"].indexOf(fe)!==-1&&(this.ctx.textAlign=fe)}});var pe=null,Ee=null;Object.defineProperty(this,"fontFaces",{get:function(){return Ee},set:function(fe){pe=null,Ee=fe}}),Object.defineProperty(this,"font",{get:function(){return this.ctx.font},set:function(fe){var W;if(this.ctx.font=fe,(W=/^\s*(?=(?:(?:[-a-z]+\s*){0,2}(italic|oblique))?)(?=(?:(?:[-a-z]+\s*){0,2}(small-caps))?)(?=(?:(?:[-a-z]+\s*){0,2}(bold(?:er)?|lighter|[1-9]00))?)(?:(?:normal|\1|\2|\3)\s*){0,3}((?:xx?-)?(?:small|large)|medium|smaller|larger|[.\d]+(?:\%|in|[cem]m|ex|p[ctx]))(?:\s*\/\s*(normal|[.\d]+(?:\%|in|[cem]m|ex|p[ctx])))?\s*([-_,\"\'\sa-z]+?)\s*$/i.exec(fe))!==null){var ze=W[1];W[2];var Qe=W[3],Ue=W[4];W[5];var Le=W[6],qe=/^([.\d]+)((?:%|in|[cem]m|ex|p[ctx]))$/i.exec(Ue)[2];Ue=Math.floor(qe==="px"?parseFloat(Ue)*this.pdf.internal.scaleFactor:qe==="em"?parseFloat(Ue)*this.pdf.getFontSize():parseFloat(Ue)*this.pdf.internal.scaleFactor),this.pdf.setFontSize(Ue);var Be=function(ht){var ot,Kt,Ut=[],Je=ht.trim();if(Je==="")return Zg;if(Je in X3)return[X3[Je]];for(;Je!=="";){switch(Kt=null,ot=(Je=Z3(Je)).charAt(0)){case'"':case"'":Kt=Rq(Je.substring(1),ot);break;default:Kt=jq(Je)}if(Kt===null||(Ut.push(Kt[0]),(Je=Z3(Kt[1]))!==""&&Je.charAt(0)!==","))return Zg;Je=Je.replace(/^,/,"")}return Ut}(Le);if(this.fontFaces){var _t=function(ht,ot){if(pe===null){var Kt=function(Ut){var Je=[];return Object.keys(Ut).forEach(function(gt){Ut[gt].forEach(function(en){var ut=null;switch(en){case"bold":ut={family:gt,weight:"bold"};break;case"italic":ut={family:gt,style:"italic"};break;case"bolditalic":ut={family:gt,weight:"bold",style:"italic"};break;case"":case"normal":ut={family:gt}}ut!==null&&(ut.ref={name:gt,style:en},Je.push(ut))})}),Je}(ht.getFontList());pe=function(Ut){for(var Je={},gt=0;gt<Ut.length;++gt){var en=Jg(Ut[gt]),ut=en.family,kt=en.stretch,xt=en.style,Nn=en.weight;Je[ut]=Je[ut]||{},Je[ut][kt]=Je[ut][kt]||{},Je[ut][kt][xt]=Je[ut][kt][xt]||{},Je[ut][kt][xt][Nn]=en}return Je}(Kt.concat(ot))}return pe}(this.pdf,this.fontFaces),nt=Be.map(function(ht){return{family:ht,stretch:"normal",weight:Qe,style:ze}}),Ot=function(ht,ot,Kt){for(var Ut=(Kt=Kt||{}).defaultFontFamily||"times",Je=Object.assign({},Lq,Kt.genericFontFamilies||{}),gt=null,en=null,ut=0;ut<ot.length;++ut)if(Je[(gt=Jg(ot[ut])).family]&&(gt.family=Je[gt.family]),ht.hasOwnProperty(gt.family)){en=ht[gt.family];break}if(!(en=en||ht[Ut]))throw new Error("Could not find a font-family for the rule '"+J3(gt)+"' and default family '"+Ut+"'.");if(en=function(kt,xt){if(xt[kt])return xt[kt];var Nn=ry[kt],vn=Nn<=ry.normal?-1:1,Yt=Y3(xt,hT,Nn,vn);if(!Yt)throw new Error("Could not find a matching font-stretch value for "+kt);return Yt}(gt.stretch,en),en=function(kt,xt){if(xt[kt])return xt[kt];for(var Nn=cT[kt],vn=0;vn<Nn.length;++vn)if(xt[Nn[vn]])return xt[Nn[vn]];throw new Error("Could not find a matching font-style for "+kt)}(gt.style,en),!(en=function(kt,xt){if(xt[kt])return xt[kt];if(kt===400&&xt[500])return xt[500];if(kt===500&&xt[400])return xt[400];var Nn=Iq[kt],vn=Y3(xt,fT,Nn,kt<400?-1:1);if(!vn)throw new Error("Could not find a matching font-weight for value "+kt);return vn}(gt.weight,en)))throw new Error("Failed to resolve a font for the rule '"+J3(gt)+"'.");return en}(_t,nt);this.pdf.setFont(Ot.ref.name,Ot.ref.style)}else{var wt="";(Qe==="bold"||parseInt(Qe,10)>=700||ze==="bold")&&(wt="bold"),ze==="italic"&&(wt+="italic"),wt.length===0&&(wt="normal");for(var tt="",St={arial:"Helvetica",Arial:"Helvetica",verdana:"Helvetica",Verdana:"Helvetica",helvetica:"Helvetica",Helvetica:"Helvetica","sans-serif":"Helvetica",fixed:"Courier",monospace:"Courier",terminal:"Courier",cursive:"Times",fantasy:"Times",serif:"Times"},mt=0;mt<Be.length;mt++){if(this.pdf.internal.getFont(Be[mt],wt,{noFallback:!0,disableWarning:!0})!==void 0){tt=Be[mt];break}if(wt==="bolditalic"&&this.pdf.internal.getFont(Be[mt],"bold",{noFallback:!0,disableWarning:!0})!==void 0)tt=Be[mt],wt="bold";else if(this.pdf.internal.getFont(Be[mt],"normal",{noFallback:!0,disableWarning:!0})!==void 0){tt=Be[mt],wt="normal";break}}if(tt===""){for(var rt=0;rt<Be.length;rt++)if(St[Be[rt]]){tt=St[Be[rt]];break}}tt=tt===""?"Times":tt,this.pdf.setFont(tt,wt)}}}}),Object.defineProperty(this,"globalCompositeOperation",{get:function(){return this.ctx.globalCompositeOperation},set:function(fe){this.ctx.globalCompositeOperation=fe}}),Object.defineProperty(this,"globalAlpha",{get:function(){return this.ctx.globalAlpha},set:function(fe){this.ctx.globalAlpha=fe}}),Object.defineProperty(this,"lineDashOffset",{get:function(){return this.ctx.lineDashOffset},set:function(fe){this.ctx.lineDashOffset=fe,Se.call(this)}}),Object.defineProperty(this,"lineDash",{get:function(){return this.ctx.lineDash},set:function(fe){this.ctx.lineDash=fe,Se.call(this)}}),Object.defineProperty(this,"ignoreClearRect",{get:function(){return this.ctx.ignoreClearRect},set:function(fe){this.ctx.ignoreClearRect=!!fe}})};d.prototype.setLineDash=function(V){this.lineDash=V},d.prototype.getLineDash=function(){return this.lineDash.length%2?this.lineDash.concat(this.lineDash):this.lineDash.slice()},d.prototype.fill=function(){L.call(this,"fill",!1)},d.prototype.stroke=function(){L.call(this,"stroke",!1)},d.prototype.beginPath=function(){this.path=[{type:"begin"}]},d.prototype.moveTo=function(V,Q){if(isNaN(V)||isNaN(Q))throw dn.error("jsPDF.context2d.moveTo: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.moveTo");var te=this.ctx.transform.applyToPoint(new o(V,Q));this.path.push({type:"mt",x:te.x,y:te.y}),this.ctx.lastPoint=new o(V,Q)},d.prototype.closePath=function(){var V=new o(0,0),Q=0;for(Q=this.path.length-1;Q!==-1;Q--)if(this.path[Q].type==="begin"&&an(this.path[Q+1])==="object"&&typeof this.path[Q+1].x=="number"){V=new o(this.path[Q+1].x,this.path[Q+1].y);break}this.path.push({type:"close"}),this.ctx.lastPoint=new o(V.x,V.y)},d.prototype.lineTo=function(V,Q){if(isNaN(V)||isNaN(Q))throw dn.error("jsPDF.context2d.lineTo: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.lineTo");var te=this.ctx.transform.applyToPoint(new o(V,Q));this.path.push({type:"lt",x:te.x,y:te.y}),this.ctx.lastPoint=new o(te.x,te.y)},d.prototype.clip=function(){this.ctx.clip_path=JSON.parse(JSON.stringify(this.path)),L.call(this,null,!0)},d.prototype.quadraticCurveTo=function(V,Q,te,ie){if(isNaN(te)||isNaN(ie)||isNaN(V)||isNaN(Q))throw dn.error("jsPDF.context2d.quadraticCurveTo: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.quadraticCurveTo");var le=this.ctx.transform.applyToPoint(new o(te,ie)),ve=this.ctx.transform.applyToPoint(new o(V,Q));this.path.push({type:"qct",x1:ve.x,y1:ve.y,x:le.x,y:le.y}),this.ctx.lastPoint=new o(le.x,le.y)},d.prototype.bezierCurveTo=function(V,Q,te,ie,le,ve){if(isNaN(le)||isNaN(ve)||isNaN(V)||isNaN(Q)||isNaN(te)||isNaN(ie))throw dn.error("jsPDF.context2d.bezierCurveTo: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.bezierCurveTo");var Ne=this.ctx.transform.applyToPoint(new o(le,ve)),Ae=this.ctx.transform.applyToPoint(new o(V,Q)),he=this.ctx.transform.applyToPoint(new o(te,ie));this.path.push({type:"bct",x1:Ae.x,y1:Ae.y,x2:he.x,y2:he.y,x:Ne.x,y:Ne.y}),this.ctx.lastPoint=new o(Ne.x,Ne.y)},d.prototype.arc=function(V,Q,te,ie,le,ve){if(isNaN(V)||isNaN(Q)||isNaN(te)||isNaN(ie)||isNaN(le))throw dn.error("jsPDF.context2d.arc: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.arc");if(ve=!!ve,!this.ctx.transform.isIdentity){var Ne=this.ctx.transform.applyToPoint(new o(V,Q));V=Ne.x,Q=Ne.y;var Ae=this.ctx.transform.applyToPoint(new o(0,te)),he=this.ctx.transform.applyToPoint(new o(0,0));te=Math.sqrt(Math.pow(Ae.x-he.x,2)+Math.pow(Ae.y-he.y,2))}Math.abs(le-ie)>=2*Math.PI&&(ie=0,le=2*Math.PI),this.path.push({type:"arc",x:V,y:Q,radius:te,startAngle:ie,endAngle:le,counterclockwise:ve})},d.prototype.arcTo=function(V,Q,te,ie,le){throw new Error("arcTo not implemented.")},d.prototype.rect=function(V,Q,te,ie){if(isNaN(V)||isNaN(Q)||isNaN(te)||isNaN(ie))throw dn.error("jsPDF.context2d.rect: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.rect");this.moveTo(V,Q),this.lineTo(V+te,Q),this.lineTo(V+te,Q+ie),this.lineTo(V,Q+ie),this.lineTo(V,Q),this.lineTo(V+te,Q),this.lineTo(V,Q)},d.prototype.fillRect=function(V,Q,te,ie){if(isNaN(V)||isNaN(Q)||isNaN(te)||isNaN(ie))throw dn.error("jsPDF.context2d.fillRect: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.fillRect");if(!m.call(this)){var le={};this.lineCap!=="butt"&&(le.lineCap=this.lineCap,this.lineCap="butt"),this.lineJoin!=="miter"&&(le.lineJoin=this.lineJoin,this.lineJoin="miter"),this.beginPath(),this.rect(V,Q,te,ie),this.fill(),le.hasOwnProperty("lineCap")&&(this.lineCap=le.lineCap),le.hasOwnProperty("lineJoin")&&(this.lineJoin=le.lineJoin)}},d.prototype.strokeRect=function(V,Q,te,ie){if(isNaN(V)||isNaN(Q)||isNaN(te)||isNaN(ie))throw dn.error("jsPDF.context2d.strokeRect: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.strokeRect");b.call(this)||(this.beginPath(),this.rect(V,Q,te,ie),this.stroke())},d.prototype.clearRect=function(V,Q,te,ie){if(isNaN(V)||isNaN(Q)||isNaN(te)||isNaN(ie))throw dn.error("jsPDF.context2d.clearRect: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.clearRect");this.ignoreClearRect||(this.fillStyle="#ffffff",this.fillRect(V,Q,te,ie))},d.prototype.save=function(V){V=typeof V!="boolean"||V;for(var Q=this.pdf.internal.getCurrentPageInfo().pageNumber,te=0;te<this.pdf.internal.getNumberOfPages();te++)this.pdf.setPage(te+1),this.pdf.internal.out("q");if(this.pdf.setPage(Q),V){this.ctx.fontSize=this.pdf.internal.getFontSize();var ie=new c(this.ctx);this.ctxStack.push(this.ctx),this.ctx=ie}},d.prototype.restore=function(V){V=typeof V!="boolean"||V;for(var Q=this.pdf.internal.getCurrentPageInfo().pageNumber,te=0;te<this.pdf.internal.getNumberOfPages();te++)this.pdf.setPage(te+1),this.pdf.internal.out("Q");this.pdf.setPage(Q),V&&this.ctxStack.length!==0&&(this.ctx=this.ctxStack.pop(),this.fillStyle=this.ctx.fillStyle,this.strokeStyle=this.ctx.strokeStyle,this.font=this.ctx.font,this.lineCap=this.ctx.lineCap,this.lineWidth=this.ctx.lineWidth,this.lineJoin=this.ctx.lineJoin,this.lineDash=this.ctx.lineDash,this.lineDashOffset=this.ctx.lineDashOffset)},d.prototype.toDataURL=function(){throw new Error("toDataUrl not implemented.")};var g=function(V){var Q,te,ie,le;if(V.isCanvasGradient===!0&&(V=V.getColor()),!V)return{r:0,g:0,b:0,a:0,style:V};if(/transparent|rgba\s*\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*,\s*0+\s*\)/.test(V))Q=0,te=0,ie=0,le=0;else{var ve=/rgb\s*\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*\)/.exec(V);if(ve!==null)Q=parseInt(ve[1]),te=parseInt(ve[2]),ie=parseInt(ve[3]),le=1;else if((ve=/rgba\s*\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*,\s*([\d.]+)\s*\)/.exec(V))!==null)Q=parseInt(ve[1]),te=parseInt(ve[2]),ie=parseInt(ve[3]),le=parseFloat(ve[4]);else{if(le=1,typeof V=="string"&&V.charAt(0)!=="#"){var Ne=new rT(V);V=Ne.ok?Ne.toHex():"#000000"}V.length===4?(Q=V.substring(1,2),Q+=Q,te=V.substring(2,3),te+=te,ie=V.substring(3,4),ie+=ie):(Q=V.substring(1,3),te=V.substring(3,5),ie=V.substring(5,7)),Q=parseInt(Q,16),te=parseInt(te,16),ie=parseInt(ie,16)}}return{r:Q,g:te,b:ie,a:le,style:V}},m=function(){return this.ctx.isFillTransparent||this.globalAlpha==0},b=function(){return!!(this.ctx.isStrokeTransparent||this.globalAlpha==0)};d.prototype.fillText=function(V,Q,te,ie){if(isNaN(Q)||isNaN(te)||typeof V!="string")throw dn.error("jsPDF.context2d.fillText: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.fillText");if(ie=isNaN(ie)?void 0:ie,!m.call(this)){var le=ee(this.ctx.transform.rotation),ve=this.ctx.transform.scaleX;I.call(this,{text:V,x:Q,y:te,scale:ve,angle:le,align:this.textAlign,maxWidth:ie})}},d.prototype.strokeText=function(V,Q,te,ie){if(isNaN(Q)||isNaN(te)||typeof V!="string")throw dn.error("jsPDF.context2d.strokeText: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.strokeText");if(!b.call(this)){ie=isNaN(ie)?void 0:ie;var le=ee(this.ctx.transform.rotation),ve=this.ctx.transform.scaleX;I.call(this,{text:V,x:Q,y:te,scale:ve,renderingMode:"stroke",angle:le,align:this.textAlign,maxWidth:ie})}},d.prototype.measureText=function(V){if(typeof V!="string")throw dn.error("jsPDF.context2d.measureText: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.measureText");var Q=this.pdf,te=this.pdf.internal.scaleFactor,ie=Q.internal.getFontSize(),le=Q.getStringUnitWidth(V)*ie/Q.internal.scaleFactor;return new function(ve){var Ne=(ve=ve||{}).width||0;return Object.defineProperty(this,"width",{get:function(){return Ne}}),this}({width:le*=Math.round(96*te/72*1e4)/1e4})},d.prototype.scale=function(V,Q){if(isNaN(V)||isNaN(Q))throw dn.error("jsPDF.context2d.scale: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.scale");var te=new l(V,0,0,Q,0,0);this.ctx.transform=this.ctx.transform.multiply(te)},d.prototype.rotate=function(V){if(isNaN(V))throw dn.error("jsPDF.context2d.rotate: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.rotate");var Q=new l(Math.cos(V),Math.sin(V),-Math.sin(V),Math.cos(V),0,0);this.ctx.transform=this.ctx.transform.multiply(Q)},d.prototype.translate=function(V,Q){if(isNaN(V)||isNaN(Q))throw dn.error("jsPDF.context2d.translate: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.translate");var te=new l(1,0,0,1,V,Q);this.ctx.transform=this.ctx.transform.multiply(te)},d.prototype.transform=function(V,Q,te,ie,le,ve){if(isNaN(V)||isNaN(Q)||isNaN(te)||isNaN(ie)||isNaN(le)||isNaN(ve))throw dn.error("jsPDF.context2d.transform: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.transform");var Ne=new l(V,Q,te,ie,le,ve);this.ctx.transform=this.ctx.transform.multiply(Ne)},d.prototype.setTransform=function(V,Q,te,ie,le,ve){V=isNaN(V)?1:V,Q=isNaN(Q)?0:Q,te=isNaN(te)?0:te,ie=isNaN(ie)?1:ie,le=isNaN(le)?0:le,ve=isNaN(ve)?0:ve,this.ctx.transform=new l(V,Q,te,ie,le,ve)};var x=function(){return this.margin[0]>0||this.margin[1]>0||this.margin[2]>0||this.margin[3]>0};d.prototype.drawImage=function(V,Q,te,ie,le,ve,Ne,Ae,he){var be=this.pdf.getImageProperties(V),pe=1,Ee=1,fe=1,W=1;ie!==void 0&&Ae!==void 0&&(fe=Ae/ie,W=he/le,pe=be.width/ie*Ae/ie,Ee=be.height/le*he/le),ve===void 0&&(ve=Q,Ne=te,Q=0,te=0),ie!==void 0&&Ae===void 0&&(Ae=ie,he=le),ie===void 0&&Ae===void 0&&(Ae=be.width,he=be.height);for(var ze,Qe=this.ctx.transform.decompose(),Ue=ee(Qe.rotate.shx),Le=new l,qe=(Le=(Le=(Le=Le.multiply(Qe.translate)).multiply(Qe.skew)).multiply(Qe.scale)).applyToRectangle(new a(ve-Q*fe,Ne-te*W,ie*pe,le*Ee)),Be=A.call(this,qe),_t=[],nt=0;nt<Be.length;nt+=1)_t.indexOf(Be[nt])===-1&&_t.push(Be[nt]);if(E(_t),this.autoPaging)for(var Ot=_t[0],wt=_t[_t.length-1],tt=Ot;tt<wt+1;tt++){this.pdf.setPage(tt);var St=this.pdf.internal.pageSize.width-this.margin[3]-this.margin[1],mt=tt===1?this.posY+this.margin[0]:this.margin[0],rt=this.pdf.internal.pageSize.height-this.posY-this.margin[0]-this.margin[2],ht=this.pdf.internal.pageSize.height-this.margin[0]-this.margin[2],ot=tt===1?0:rt+(tt-2)*ht;if(this.ctx.clip_path.length!==0){var Kt=this.path;ze=JSON.parse(JSON.stringify(this.ctx.clip_path)),this.path=_(ze,this.posX+this.margin[3],-ot+mt+this.ctx.prevPageLastElemOffset),z.call(this,"fill",!0),this.path=Kt}var Ut=JSON.parse(JSON.stringify(qe));Ut=_([Ut],this.posX+this.margin[3],-ot+mt+this.ctx.prevPageLastElemOffset)[0];var Je=(tt>Ot||tt<wt)&&x.call(this);Je&&(this.pdf.saveGraphicsState(),this.pdf.rect(this.margin[3],this.margin[0],St,ht,null).clip().discardPath()),this.pdf.addImage(V,"JPEG",Ut.x,Ut.y,Ut.w,Ut.h,null,null,Ue),Je&&this.pdf.restoreGraphicsState()}else this.pdf.addImage(V,"JPEG",qe.x,qe.y,qe.w,qe.h,null,null,Ue)};var A=function(V,Q,te){var ie=[];Q=Q||this.pdf.internal.pageSize.width,te=te||this.pdf.internal.pageSize.height-this.margin[0]-this.margin[2];var le=this.posY+this.ctx.prevPageLastElemOffset;switch(V.type){default:case"mt":case"lt":ie.push(Math.floor((V.y+le)/te)+1);break;case"arc":ie.push(Math.floor((V.y+le-V.radius)/te)+1),ie.push(Math.floor((V.y+le+V.radius)/te)+1);break;case"qct":var ve=se(this.ctx.lastPoint.x,this.ctx.lastPoint.y,V.x1,V.y1,V.x,V.y);ie.push(Math.floor((ve.y+le)/te)+1),ie.push(Math.floor((ve.y+ve.h+le)/te)+1);break;case"bct":var Ne=ye(this.ctx.lastPoint.x,this.ctx.lastPoint.y,V.x1,V.y1,V.x2,V.y2,V.x,V.y);ie.push(Math.floor((Ne.y+le)/te)+1),ie.push(Math.floor((Ne.y+Ne.h+le)/te)+1);break;case"rect":ie.push(Math.floor((V.y+le)/te)+1),ie.push(Math.floor((V.y+V.h+le)/te)+1)}for(var Ae=0;Ae<ie.length;Ae+=1)for(;this.pdf.internal.getNumberOfPages()<ie[Ae];)v.call(this);return ie},v=function(){var V=this.fillStyle,Q=this.strokeStyle,te=this.font,ie=this.lineCap,le=this.lineWidth,ve=this.lineJoin;this.pdf.addPage(),this.fillStyle=V,this.strokeStyle=Q,this.font=te,this.lineCap=ie,this.lineWidth=le,this.lineJoin=ve},_=function(V,Q,te){for(var ie=0;ie<V.length;ie++)switch(V[ie].type){case"bct":V[ie].x2+=Q,V[ie].y2+=te;case"qct":V[ie].x1+=Q,V[ie].y1+=te;default:V[ie].x+=Q,V[ie].y+=te}return V},E=function(V){return V.sort(function(Q,te){return Q-te})},L=function(V,Q){for(var te,ie,le=this.fillStyle,ve=this.strokeStyle,Ne=this.lineCap,Ae=this.lineWidth,he=Math.abs(Ae*this.ctx.transform.scaleX),be=this.lineJoin,pe=JSON.parse(JSON.stringify(this.path)),Ee=JSON.parse(JSON.stringify(this.path)),fe=[],W=0;W<Ee.length;W++)if(Ee[W].x!==void 0)for(var ze=A.call(this,Ee[W]),Qe=0;Qe<ze.length;Qe+=1)fe.indexOf(ze[Qe])===-1&&fe.push(ze[Qe]);for(var Ue=0;Ue<fe.length;Ue++)for(;this.pdf.internal.getNumberOfPages()<fe[Ue];)v.call(this);if(E(fe),this.autoPaging)for(var Le=fe[0],qe=fe[fe.length-1],Be=Le;Be<qe+1;Be++){this.pdf.setPage(Be),this.fillStyle=le,this.strokeStyle=ve,this.lineCap=Ne,this.lineWidth=he,this.lineJoin=be;var _t=this.pdf.internal.pageSize.width-this.margin[3]-this.margin[1],nt=Be===1?this.posY+this.margin[0]:this.margin[0],Ot=this.pdf.internal.pageSize.height-this.posY-this.margin[0]-this.margin[2],wt=this.pdf.internal.pageSize.height-this.margin[0]-this.margin[2],tt=Be===1?0:Ot+(Be-2)*wt;if(this.ctx.clip_path.length!==0){var St=this.path;te=JSON.parse(JSON.stringify(this.ctx.clip_path)),this.path=_(te,this.posX+this.margin[3],-tt+nt+this.ctx.prevPageLastElemOffset),z.call(this,V,!0),this.path=St}if(ie=JSON.parse(JSON.stringify(pe)),this.path=_(ie,this.posX+this.margin[3],-tt+nt+this.ctx.prevPageLastElemOffset),Q===!1||Be===0){var mt=(Be>Le||Be<qe)&&x.call(this);mt&&(this.pdf.saveGraphicsState(),this.pdf.rect(this.margin[3],this.margin[0],_t,wt,null).clip().discardPath()),z.call(this,V,Q),mt&&this.pdf.restoreGraphicsState()}this.lineWidth=Ae}else this.lineWidth=he,z.call(this,V,Q),this.lineWidth=Ae;this.path=pe},z=function(V,Q){if((V!=="stroke"||Q||!b.call(this))&&(V==="stroke"||Q||!m.call(this))){for(var te,ie,le=[],ve=this.path,Ne=0;Ne<ve.length;Ne++){var Ae=ve[Ne];switch(Ae.type){case"begin":le.push({begin:!0});break;case"close":le.push({close:!0});break;case"mt":le.push({start:Ae,deltas:[],abs:[]});break;case"lt":var he=le.length;if(ve[Ne-1]&&!isNaN(ve[Ne-1].x)&&(te=[Ae.x-ve[Ne-1].x,Ae.y-ve[Ne-1].y],he>0)){for(;he>=0;he--)if(le[he-1].close!==!0&&le[he-1].begin!==!0){le[he-1].deltas.push(te),le[he-1].abs.push(Ae);break}}break;case"bct":te=[Ae.x1-ve[Ne-1].x,Ae.y1-ve[Ne-1].y,Ae.x2-ve[Ne-1].x,Ae.y2-ve[Ne-1].y,Ae.x-ve[Ne-1].x,Ae.y-ve[Ne-1].y],le[le.length-1].deltas.push(te);break;case"qct":var be=ve[Ne-1].x+2/3*(Ae.x1-ve[Ne-1].x),pe=ve[Ne-1].y+2/3*(Ae.y1-ve[Ne-1].y),Ee=Ae.x+2/3*(Ae.x1-Ae.x),fe=Ae.y+2/3*(Ae.y1-Ae.y),W=Ae.x,ze=Ae.y;te=[be-ve[Ne-1].x,pe-ve[Ne-1].y,Ee-ve[Ne-1].x,fe-ve[Ne-1].y,W-ve[Ne-1].x,ze-ve[Ne-1].y],le[le.length-1].deltas.push(te);break;case"arc":le.push({deltas:[],abs:[],arc:!0}),Array.isArray(le[le.length-1].abs)&&le[le.length-1].abs.push(Ae)}}ie=Q?null:V==="stroke"?"stroke":"fill";for(var Qe=!1,Ue=0;Ue<le.length;Ue++)if(le[Ue].arc)for(var Le=le[Ue].abs,qe=0;qe<Le.length;qe++){var Be=Le[qe];Be.type==="arc"?C.call(this,Be.x,Be.y,Be.radius,Be.startAngle,Be.endAngle,Be.counterclockwise,void 0,Q,!Qe):D.call(this,Be.x,Be.y),Qe=!0}else if(le[Ue].close===!0)this.pdf.internal.out("h"),Qe=!1;else if(le[Ue].begin!==!0){var _t=le[Ue].start.x,nt=le[Ue].start.y;H.call(this,le[Ue].deltas,_t,nt),Qe=!0}ie&&k.call(this,ie),Q&&M.call(this)}},Y=function(V){var Q=this.pdf.internal.getFontSize()/this.pdf.internal.scaleFactor,te=Q*(this.pdf.internal.getLineHeightFactor()-1);switch(this.ctx.textBaseline){case"bottom":return V-te;case"top":return V+Q-te;case"hanging":return V+Q-2*te;case"middle":return V+Q/2-te;default:return V}},R=function(V){return V+this.pdf.internal.getFontSize()/this.pdf.internal.scaleFactor*(this.pdf.internal.getLineHeightFactor()-1)};d.prototype.createLinearGradient=function(){var V=function(){};return V.colorStops=[],V.addColorStop=function(Q,te){this.colorStops.push([Q,te])},V.getColor=function(){return this.colorStops.length===0?"#000000":this.colorStops[0][1]},V.isCanvasGradient=!0,V},d.prototype.createPattern=function(){return this.createLinearGradient()},d.prototype.createRadialGradient=function(){return this.createLinearGradient()};var C=function(V,Q,te,ie,le,ve,Ne,Ae,he){for(var be=ue.call(this,te,ie,le,ve),pe=0;pe<be.length;pe++){var Ee=be[pe];pe===0&&(he?T.call(this,Ee.x1+V,Ee.y1+Q):D.call(this,Ee.x1+V,Ee.y1+Q)),ne.call(this,V,Q,Ee.x2,Ee.y2,Ee.x3,Ee.y3,Ee.x4,Ee.y4)}Ae?M.call(this):k.call(this,Ne)},k=function(V){switch(V){case"stroke":this.pdf.internal.out("S");break;case"fill":this.pdf.internal.out("f")}},M=function(){this.pdf.clip(),this.pdf.discardPath()},T=function(V,Q){this.pdf.internal.out(n(V)+" "+r(Q)+" m")},I=function(V){var Q;switch(V.align){case"right":case"end":Q="right";break;case"center":Q="center";break;default:Q="left"}var te=this.pdf.getTextDimensions(V.text),ie=Y.call(this,V.y),le=R.call(this,ie)-te.h,ve=this.ctx.transform.applyToPoint(new o(V.x,ie)),Ne=this.ctx.transform.decompose(),Ae=new l;Ae=(Ae=(Ae=Ae.multiply(Ne.translate)).multiply(Ne.skew)).multiply(Ne.scale);for(var he,be,pe,Ee=this.ctx.transform.applyToRectangle(new a(V.x,ie,te.w,te.h)),fe=Ae.applyToRectangle(new a(V.x,le,te.w,te.h)),W=A.call(this,fe),ze=[],Qe=0;Qe<W.length;Qe+=1)ze.indexOf(W[Qe])===-1&&ze.push(W[Qe]);if(E(ze),this.autoPaging)for(var Ue=ze[0],Le=ze[ze.length-1],qe=Ue;qe<Le+1;qe++){this.pdf.setPage(qe);var Be=qe===1?this.posY+this.margin[0]:this.margin[0],_t=this.pdf.internal.pageSize.height-this.posY-this.margin[0]-this.margin[2],nt=this.pdf.internal.pageSize.height-this.margin[2],Ot=nt-this.margin[0],wt=this.pdf.internal.pageSize.width-this.margin[1],tt=wt-this.margin[3],St=qe===1?0:_t+(qe-2)*Ot;if(this.ctx.clip_path.length!==0){var mt=this.path;he=JSON.parse(JSON.stringify(this.ctx.clip_path)),this.path=_(he,this.posX+this.margin[3],-1*St+Be),z.call(this,"fill",!0),this.path=mt}var rt=_([JSON.parse(JSON.stringify(fe))],this.posX+this.margin[3],-St+Be+this.ctx.prevPageLastElemOffset)[0];V.scale>=.01&&(be=this.pdf.internal.getFontSize(),this.pdf.setFontSize(be*V.scale),pe=this.lineWidth,this.lineWidth=pe*V.scale);var ht=this.autoPaging!=="text";if(ht||rt.y+rt.h<=nt){if(ht||rt.y>=Be&&rt.x<=wt){var ot=ht?V.text:this.pdf.splitTextToSize(V.text,V.maxWidth||wt-rt.x)[0],Kt=_([JSON.parse(JSON.stringify(Ee))],this.posX+this.margin[3],-St+Be+this.ctx.prevPageLastElemOffset)[0],Ut=ht&&(qe>Ue||qe<Le)&&x.call(this);Ut&&(this.pdf.saveGraphicsState(),this.pdf.rect(this.margin[3],this.margin[0],tt,Ot,null).clip().discardPath()),this.pdf.text(ot,Kt.x,Kt.y,{angle:V.angle,align:Q,renderingMode:V.renderingMode}),Ut&&this.pdf.restoreGraphicsState()}}else rt.y<nt&&(this.ctx.prevPageLastElemOffset+=nt-rt.y);V.scale>=.01&&(this.pdf.setFontSize(be),this.lineWidth=pe)}else V.scale>=.01&&(be=this.pdf.internal.getFontSize(),this.pdf.setFontSize(be*V.scale),pe=this.lineWidth,this.lineWidth=pe*V.scale),this.pdf.text(V.text,ve.x+this.posX,ve.y+this.posY,{angle:V.angle,align:Q,renderingMode:V.renderingMode,maxWidth:V.maxWidth}),V.scale>=.01&&(this.pdf.setFontSize(be),this.lineWidth=pe)},D=function(V,Q,te,ie){te=te||0,ie=ie||0,this.pdf.internal.out(n(V+te)+" "+r(Q+ie)+" l")},H=function(V,Q,te){return this.pdf.lines(V,Q,te,null,null)},ne=function(V,Q,te,ie,le,ve,Ne,Ae){this.pdf.internal.out([e(i(te+V)),e(s(ie+Q)),e(i(le+V)),e(s(ve+Q)),e(i(Ne+V)),e(s(Ae+Q)),"c"].join(" "))},ue=function(V,Q,te,ie){for(var le=2*Math.PI,ve=Math.PI/2;Q>te;)Q-=le;var Ne=Math.abs(te-Q);Ne<le&&ie&&(Ne=le-Ne);for(var Ae=[],he=ie?-1:1,be=Q;Ne>1e-5;){var pe=be+he*Math.min(Ne,ve);Ae.push(ae.call(this,V,be,pe)),Ne-=Math.abs(pe-be),be=pe}return Ae},ae=function(V,Q,te){var ie=(te-Q)/2,le=V*Math.cos(ie),ve=V*Math.sin(ie),Ne=le,Ae=-ve,he=Ne*Ne+Ae*Ae,be=he+Ne*le+Ae*ve,pe=4/3*(Math.sqrt(2*he*be)-be)/(Ne*ve-Ae*le),Ee=Ne-pe*Ae,fe=Ae+pe*Ne,W=Ee,ze=-fe,Qe=ie+Q,Ue=Math.cos(Qe),Le=Math.sin(Qe);return{x1:V*Math.cos(Q),y1:V*Math.sin(Q),x2:Ee*Ue-fe*Le,y2:Ee*Le+fe*Ue,x3:W*Ue-ze*Le,y3:W*Le+ze*Ue,x4:V*Math.cos(te),y4:V*Math.sin(te)}},ee=function(V){return 180*V/Math.PI},se=function(V,Q,te,ie,le,ve){var Ne=V+.5*(te-V),Ae=Q+.5*(ie-Q),he=le+.5*(te-le),be=ve+.5*(ie-ve),pe=Math.min(V,le,Ne,he),Ee=Math.max(V,le,Ne,he),fe=Math.min(Q,ve,Ae,be),W=Math.max(Q,ve,Ae,be);return new a(pe,fe,Ee-pe,W-fe)},ye=function(V,Q,te,ie,le,ve,Ne,Ae){var he,be,pe,Ee,fe,W,ze,Qe,Ue,Le,qe,Be,_t,nt,Ot=te-V,wt=ie-Q,tt=le-te,St=ve-ie,mt=Ne-le,rt=Ae-ve;for(be=0;be<41;be++)Ue=(ze=(pe=V+(he=be/40)*Ot)+he*((fe=te+he*tt)-pe))+he*(fe+he*(le+he*mt-fe)-ze),Le=(Qe=(Ee=Q+he*wt)+he*((W=ie+he*St)-Ee))+he*(W+he*(ve+he*rt-W)-Qe),be==0?(qe=Ue,Be=Le,_t=Ue,nt=Le):(qe=Math.min(qe,Ue),Be=Math.min(Be,Le),_t=Math.max(_t,Ue),nt=Math.max(nt,Le));return new a(Math.round(qe),Math.round(Be),Math.round(_t-qe),Math.round(nt-Be))},Se=function(){if(this.prevLineDash||this.ctx.lineDash.length||this.ctx.lineDashOffset){var V,Q,te=(V=this.ctx.lineDash,Q=this.ctx.lineDashOffset,JSON.stringify({lineDash:V,lineDashOffset:Q}));this.prevLineDash!==te&&(this.pdf.setLineDash(this.ctx.lineDash,this.ctx.lineDashOffset),this.prevLineDash=te)}}})(st.API),function(t){var e=function(o){var a,l,u,c,d,g,m,b,x,A;for(l=[],u=0,c=(o+=a="\0\0\0\0".slice(o.length%4||4)).length;c>u;u+=4)(d=(o.charCodeAt(u)<<24)+(o.charCodeAt(u+1)<<16)+(o.charCodeAt(u+2)<<8)+o.charCodeAt(u+3))!==0?(g=(d=((d=((d=((d=(d-(A=d%85))/85)-(x=d%85))/85)-(b=d%85))/85)-(m=d%85))/85)%85,l.push(g+33,m+33,b+33,x+33,A+33)):l.push(122);return function(v,_){for(var E=_;E>0;E--)v.pop()}(l,a.length),String.fromCharCode.apply(String,l)+"~>"},n=function(o){var a,l,u,c,d,g=String,m="length",b=255,x="charCodeAt",A="slice",v="replace";for(o[A](-2),o=o[A](0,-2)[v](/\s/g,"")[v]("z","!!!!!"),u=[],c=0,d=(o+=a="uuuuu"[A](o[m]%5||5))[m];d>c;c+=5)l=52200625*(o[x](c)-33)+614125*(o[x](c+1)-33)+7225*(o[x](c+2)-33)+85*(o[x](c+3)-33)+(o[x](c+4)-33),u.push(b&l>>24,b&l>>16,b&l>>8,b&l);return function(_,E){for(var L=E;L>0;L--)_.pop()}(u,a[m]),g.fromCharCode.apply(g,u)},r=function(o){return o.split("").map(function(a){return("0"+a.charCodeAt().toString(16)).slice(-2)}).join("")+">"},i=function(o){var a=new RegExp(/^([0-9A-Fa-f]{2})+$/);if((o=o.replace(/\s/g,"")).indexOf(">")!==-1&&(o=o.substr(0,o.indexOf(">"))),o.length%2&&(o+="0"),a.test(o)===!1)return"";for(var l="",u=0;u<o.length;u+=2)l+=String.fromCharCode("0x"+(o[u]+o[u+1]));return l},s=function(o){for(var a=new Uint8Array(o.length),l=o.length;l--;)a[l]=o.charCodeAt(l);return(a=Y2(a)).reduce(function(u,c){return u+String.fromCharCode(c)},"")};t.processDataByFilters=function(o,a){var l=0,u=o||"",c=[];for(typeof(a=a||[])=="string"&&(a=[a]),l=0;l<a.length;l+=1)switch(a[l]){case"ASCII85Decode":case"/ASCII85Decode":u=n(u),c.push("/ASCII85Encode");break;case"ASCII85Encode":case"/ASCII85Encode":u=e(u),c.push("/ASCII85Decode");break;case"ASCIIHexDecode":case"/ASCIIHexDecode":u=i(u),c.push("/ASCIIHexEncode");break;case"ASCIIHexEncode":case"/ASCIIHexEncode":u=r(u),c.push("/ASCIIHexDecode");break;case"FlateEncode":case"/FlateEncode":u=s(u),c.push("/FlateDecode");break;default:throw new Error('The filter: "'+a[l]+'" is not implemented')}return{data:u,reverseChain:c.reverse().join(" ")}}}(st.API),function(t){t.loadFile=function(e,n,r){return function(i,s,o){s=s!==!1,o=typeof o=="function"?o:function(){};var a=void 0;try{a=function(l,u,c){var d=new XMLHttpRequest,g=0,m=function(b){var x=b.length,A=[],v=String.fromCharCode;for(g=0;g<x;g+=1)A.push(v(255&b.charCodeAt(g)));return A.join("")};if(d.open("GET",l,!u),d.overrideMimeType("text/plain; charset=x-user-defined"),u===!1&&(d.onload=function(){d.status===200?c(m(this.responseText)):c(void 0)}),d.send(null),u&&d.status===200)return m(d.responseText)}(i,s,o)}catch{}return a}(e,n,r)},t.loadImageFile=t.loadFile}(st.API),function(t){function e(){return(vt.html2canvas?Promise.resolve(vt.html2canvas):jg(()=>import("./html2canvas.esm-CBrSDip1.js"),[])).catch(function(a){return Promise.reject(new Error("Could not load html2canvas: "+a))}).then(function(a){return a.default?a.default:a})}function n(){return(vt.DOMPurify?Promise.resolve(vt.DOMPurify):jg(()=>import("./purify.es-aGzT-_H7.js"),[])).catch(function(a){return Promise.reject(new Error("Could not load dompurify: "+a))}).then(function(a){return a.default?a.default:a})}var r=function(a){var l=an(a);return l==="undefined"?"undefined":l==="string"||a instanceof String?"string":l==="number"||a instanceof Number?"number":l==="function"||a instanceof Function?"function":a&&a.constructor===Array?"array":a&&a.nodeType===1?"element":l==="object"?"object":"unknown"},i=function(a,l){var u=document.createElement(a);for(var c in l.className&&(u.className=l.className),l.innerHTML&&l.dompurify&&(u.innerHTML=l.dompurify.sanitize(l.innerHTML)),l.style)u.style[c]=l.style[c];return u},s=function a(l,u){for(var c=l.nodeType===3?document.createTextNode(l.nodeValue):l.cloneNode(!1),d=l.firstChild;d;d=d.nextSibling)u!==!0&&d.nodeType===1&&d.nodeName==="SCRIPT"||c.appendChild(a(d,u));return l.nodeType===1&&(l.nodeName==="CANVAS"?(c.width=l.width,c.height=l.height,c.getContext("2d").drawImage(l,0,0)):l.nodeName!=="TEXTAREA"&&l.nodeName!=="SELECT"||(c.value=l.value),c.addEventListener("load",function(){c.scrollTop=l.scrollTop,c.scrollLeft=l.scrollLeft},!0)),c},o=function a(l){var u=Object.assign(a.convert(Promise.resolve()),JSON.parse(JSON.stringify(a.template))),c=a.convert(Promise.resolve(),u);return(c=c.setProgress(1,a,1,[a])).set(l)};(o.prototype=Object.create(Promise.prototype)).constructor=o,o.convert=function(a,l){return a.__proto__=l||o.prototype,a},o.template={prop:{src:null,container:null,overlay:null,canvas:null,img:null,pdf:null,pageSize:null,callback:function(){}},progress:{val:0,state:null,n:0,stack:[]},opt:{filename:"file.pdf",margin:[0,0,0,0],enableLinks:!0,x:0,y:0,html2canvas:{},jsPDF:{},backgroundColor:"transparent"}},o.prototype.from=function(a,l){return this.then(function(){switch(l=l||function(u){switch(r(u)){case"string":return"string";case"element":return u.nodeName.toLowerCase()==="canvas"?"canvas":"element";default:return"unknown"}}(a),l){case"string":return this.then(n).then(function(u){return this.set({src:i("div",{innerHTML:a,dompurify:u})})});case"element":return this.set({src:a});case"canvas":return this.set({canvas:a});case"img":return this.set({img:a});default:return this.error("Unknown source type.")}})},o.prototype.to=function(a){switch(a){case"container":return this.toContainer();case"canvas":return this.toCanvas();case"img":return this.toImg();case"pdf":return this.toPdf();default:return this.error("Invalid target.")}},o.prototype.toContainer=function(){return this.thenList([function(){return this.prop.src||this.error("Cannot duplicate - no source HTML.")},function(){return this.prop.pageSize||this.setPageSize()}]).then(function(){var a={position:"relative",display:"inline-block",width:(typeof this.opt.width!="number"||isNaN(this.opt.width)||typeof this.opt.windowWidth!="number"||isNaN(this.opt.windowWidth)?Math.max(this.prop.src.clientWidth,this.prop.src.scrollWidth,this.prop.src.offsetWidth):this.opt.windowWidth)+"px",left:0,right:0,top:0,margin:"auto",backgroundColor:this.opt.backgroundColor},l=s(this.prop.src,this.opt.html2canvas.javascriptEnabled);l.tagName==="BODY"&&(a.height=Math.max(document.body.scrollHeight,document.body.offsetHeight,document.documentElement.clientHeight,document.documentElement.scrollHeight,document.documentElement.offsetHeight)+"px"),this.prop.overlay=i("div",{className:"html2pdf__overlay",style:{position:"fixed",overflow:"hidden",zIndex:1e3,left:"-100000px",right:0,bottom:0,top:0}}),this.prop.container=i("div",{className:"html2pdf__container",style:a}),this.prop.container.appendChild(l),this.prop.container.firstChild.appendChild(i("div",{style:{clear:"both",border:"0 none transparent",margin:0,padding:0,height:0}})),this.prop.container.style.float="none",this.prop.overlay.appendChild(this.prop.container),document.body.appendChild(this.prop.overlay),this.prop.container.firstChild.style.position="relative",this.prop.container.height=Math.max(this.prop.container.firstChild.clientHeight,this.prop.container.firstChild.scrollHeight,this.prop.container.firstChild.offsetHeight)+"px"})},o.prototype.toCanvas=function(){var a=[function(){return document.body.contains(this.prop.container)||this.toContainer()}];return this.thenList(a).then(e).then(function(l){var u=Object.assign({},this.opt.html2canvas);return delete u.onrendered,l(this.prop.container,u)}).then(function(l){(this.opt.html2canvas.onrendered||function(){})(l),this.prop.canvas=l,document.body.removeChild(this.prop.overlay)})},o.prototype.toContext2d=function(){var a=[function(){return document.body.contains(this.prop.container)||this.toContainer()}];return this.thenList(a).then(e).then(function(l){var u=this.opt.jsPDF,c=this.opt.fontFaces,d=typeof this.opt.width!="number"||isNaN(this.opt.width)||typeof this.opt.windowWidth!="number"||isNaN(this.opt.windowWidth)?1:this.opt.width/this.opt.windowWidth,g=Object.assign({async:!0,allowTaint:!0,scale:d,scrollX:this.opt.scrollX||0,scrollY:this.opt.scrollY||0,backgroundColor:"#ffffff",imageTimeout:15e3,logging:!0,proxy:null,removeContainer:!0,foreignObjectRendering:!1,useCORS:!1},this.opt.html2canvas);if(delete g.onrendered,u.context2d.autoPaging=this.opt.autoPaging===void 0||this.opt.autoPaging,u.context2d.posX=this.opt.x,u.context2d.posY=this.opt.y,u.context2d.margin=this.opt.margin,u.context2d.fontFaces=c,c)for(var m=0;m<c.length;++m){var b=c[m],x=b.src.find(function(A){return A.format==="truetype"});x&&u.addFont(x.url,b.ref.name,b.ref.style)}return g.windowHeight=g.windowHeight||0,g.windowHeight=g.windowHeight==0?Math.max(this.prop.container.clientHeight,this.prop.container.scrollHeight,this.prop.container.offsetHeight):g.windowHeight,u.context2d.save(!0),l(this.prop.container,g)}).then(function(l){this.opt.jsPDF.context2d.restore(!0),(this.opt.html2canvas.onrendered||function(){})(l),this.prop.canvas=l,document.body.removeChild(this.prop.overlay)})},o.prototype.toImg=function(){return this.thenList([function(){return this.prop.canvas||this.toCanvas()}]).then(function(){var a=this.prop.canvas.toDataURL("image/"+this.opt.image.type,this.opt.image.quality);this.prop.img=document.createElement("img"),this.prop.img.src=a})},o.prototype.toPdf=function(){return this.thenList([function(){return this.toContext2d()}]).then(function(){this.prop.pdf=this.prop.pdf||this.opt.jsPDF})},o.prototype.output=function(a,l,u){return(u=u||"pdf").toLowerCase()==="img"||u.toLowerCase()==="image"?this.outputImg(a,l):this.outputPdf(a,l)},o.prototype.outputPdf=function(a,l){return this.thenList([function(){return this.prop.pdf||this.toPdf()}]).then(function(){return this.prop.pdf.output(a,l)})},o.prototype.outputImg=function(a){return this.thenList([function(){return this.prop.img||this.toImg()}]).then(function(){switch(a){case void 0:case"img":return this.prop.img;case"datauristring":case"dataurlstring":return this.prop.img.src;case"datauri":case"dataurl":return document.location.href=this.prop.img.src;default:throw'Image output type "'+a+'" is not supported.'}})},o.prototype.save=function(a){return this.thenList([function(){return this.prop.pdf||this.toPdf()}]).set(a?{filename:a}:null).then(function(){this.prop.pdf.save(this.opt.filename)})},o.prototype.doCallback=function(){return this.thenList([function(){return this.prop.pdf||this.toPdf()}]).then(function(){this.prop.callback(this.prop.pdf)})},o.prototype.set=function(a){if(r(a)!=="object")return this;var l=Object.keys(a||{}).map(function(u){if(u in o.template.prop)return function(){this.prop[u]=a[u]};switch(u){case"margin":return this.setMargin.bind(this,a.margin);case"jsPDF":return function(){return this.opt.jsPDF=a.jsPDF,this.setPageSize()};case"pageSize":return this.setPageSize.bind(this,a.pageSize);default:return function(){this.opt[u]=a[u]}}},this);return this.then(function(){return this.thenList(l)})},o.prototype.get=function(a,l){return this.then(function(){var u=a in o.template.prop?this.prop[a]:this.opt[a];return l?l(u):u})},o.prototype.setMargin=function(a){return this.then(function(){switch(r(a)){case"number":a=[a,a,a,a];case"array":if(a.length===2&&(a=[a[0],a[1],a[0],a[1]]),a.length===4)break;default:return this.error("Invalid margin array.")}this.opt.margin=a}).then(this.setPageSize)},o.prototype.setPageSize=function(a){function l(u,c){return Math.floor(u*c/72*96)}return this.then(function(){(a=a||st.getPageSize(this.opt.jsPDF)).hasOwnProperty("inner")||(a.inner={width:a.width-this.opt.margin[1]-this.opt.margin[3],height:a.height-this.opt.margin[0]-this.opt.margin[2]},a.inner.px={width:l(a.inner.width,a.k),height:l(a.inner.height,a.k)},a.inner.ratio=a.inner.height/a.inner.width),this.prop.pageSize=a})},o.prototype.setProgress=function(a,l,u,c){return a!=null&&(this.progress.val=a),l!=null&&(this.progress.state=l),u!=null&&(this.progress.n=u),c!=null&&(this.progress.stack=c),this.progress.ratio=this.progress.val/this.progress.state,this},o.prototype.updateProgress=function(a,l,u,c){return this.setProgress(a?this.progress.val+a:null,l||null,u?this.progress.n+u:null,c?this.progress.stack.concat(c):null)},o.prototype.then=function(a,l){var u=this;return this.thenCore(a,l,function(c,d){return u.updateProgress(null,null,1,[c]),Promise.prototype.then.call(this,function(g){return u.updateProgress(null,c),g}).then(c,d).then(function(g){return u.updateProgress(1),g})})},o.prototype.thenCore=function(a,l,u){u=u||Promise.prototype.then;var c=this;a&&(a=a.bind(c)),l&&(l=l.bind(c));var d=Promise.toString().indexOf("[native code]")!==-1&&Promise.name==="Promise"?c:o.convert(Object.assign({},c),Promise.prototype),g=u.call(d,a,l);return o.convert(g,c.__proto__)},o.prototype.thenExternal=function(a,l){return Promise.prototype.then.call(this,a,l)},o.prototype.thenList=function(a){var l=this;return a.forEach(function(u){l=l.thenCore(u)}),l},o.prototype.catch=function(a){a&&(a=a.bind(this));var l=Promise.prototype.catch.call(this,a);return o.convert(l,this)},o.prototype.catchExternal=function(a){return Promise.prototype.catch.call(this,a)},o.prototype.error=function(a){return this.then(function(){throw new Error(a)})},o.prototype.using=o.prototype.set,o.prototype.saveAs=o.prototype.save,o.prototype.export=o.prototype.output,o.prototype.run=o.prototype.then,st.getPageSize=function(a,l,u){if(an(a)==="object"){var c=a;a=c.orientation,l=c.unit||l,u=c.format||u}l=l||"mm",u=u||"a4",a=(""+(a||"P")).toLowerCase();var d,g=(""+u).toLowerCase(),m={a0:[2383.94,3370.39],a1:[1683.78,2383.94],a2:[1190.55,1683.78],a3:[841.89,1190.55],a4:[595.28,841.89],a5:[419.53,595.28],a6:[297.64,419.53],a7:[209.76,297.64],a8:[147.4,209.76],a9:[104.88,147.4],a10:[73.7,104.88],b0:[2834.65,4008.19],b1:[2004.09,2834.65],b2:[1417.32,2004.09],b3:[1000.63,1417.32],b4:[708.66,1000.63],b5:[498.9,708.66],b6:[354.33,498.9],b7:[249.45,354.33],b8:[175.75,249.45],b9:[124.72,175.75],b10:[87.87,124.72],c0:[2599.37,3676.54],c1:[1836.85,2599.37],c2:[1298.27,1836.85],c3:[918.43,1298.27],c4:[649.13,918.43],c5:[459.21,649.13],c6:[323.15,459.21],c7:[229.61,323.15],c8:[161.57,229.61],c9:[113.39,161.57],c10:[79.37,113.39],dl:[311.81,623.62],letter:[612,792],"government-letter":[576,756],legal:[612,1008],"junior-legal":[576,360],ledger:[1224,792],tabloid:[792,1224],"credit-card":[153,243]};switch(l){case"pt":d=1;break;case"mm":d=72/25.4;break;case"cm":d=72/2.54;break;case"in":d=72;break;case"px":d=.75;break;case"pc":case"em":d=12;break;case"ex":d=6;break;default:throw"Invalid unit: "+l}var b,x=0,A=0;if(m.hasOwnProperty(g))x=m[g][1]/d,A=m[g][0]/d;else try{x=u[1],A=u[0]}catch{throw new Error("Invalid format: "+u)}if(a==="p"||a==="portrait")a="p",A>x&&(b=A,A=x,x=b);else{if(a!=="l"&&a!=="landscape")throw"Invalid orientation: "+a;a="l",x>A&&(b=A,A=x,x=b)}return{width:A,height:x,unit:l,k:d,orientation:a}},t.html=function(a,l){(l=l||{}).callback=l.callback||function(){},l.html2canvas=l.html2canvas||{},l.html2canvas.canvas=l.html2canvas.canvas||this.canvas,l.jsPDF=l.jsPDF||this,l.fontFaces=l.fontFaces?l.fontFaces.map(Jg):null;var u=new o(l);return l.worker?u:u.from(a).doCallback()}}(st.API),st.API.addJS=function(t){return t_=t,this.internal.events.subscribe("postPutResources",function(){op=this.internal.newObject(),this.internal.out("<<"),this.internal.out("/Names [(EmbeddedJS) "+(op+1)+" 0 R]"),this.internal.out(">>"),this.internal.out("endobj"),e_=this.internal.newObject(),this.internal.out("<<"),this.internal.out("/S /JavaScript"),this.internal.out("/JS ("+t_+")"),this.internal.out(">>"),this.internal.out("endobj")}),this.internal.events.subscribe("putCatalog",function(){op!==void 0&&e_!==void 0&&this.internal.out("/Names <</JavaScript "+op+" 0 R>>")}),this},function(t){var e;t.events.push(["postPutResources",function(){var n=this,r=/^(\d+) 0 obj$/;if(this.outline.root.children.length>0)for(var i=n.outline.render().split(/\r\n/),s=0;s<i.length;s++){var o=i[s],a=r.exec(o);if(a!=null){var l=a[1];n.internal.newObjectDeferredBegin(l,!1)}n.internal.write(o)}if(this.outline.createNamedDestinations){var u=this.internal.pages.length,c=[];for(s=0;s<u;s++){var d=n.internal.newObject();c.push(d);var g=n.internal.getPageInfo(s+1);n.internal.write("<< /D["+g.objId+" 0 R /XYZ null null null]>> endobj")}var m=n.internal.newObject();for(n.internal.write("<< /Names [ "),s=0;s<c.length;s++)n.internal.write("(page_"+(s+1)+")"+c[s]+" 0 R");n.internal.write(" ] >>","endobj"),e=n.internal.newObject(),n.internal.write("<< /Dests "+m+" 0 R"),n.internal.write(">>","endobj")}}]),t.events.push(["putCatalog",function(){var n=this;n.outline.root.children.length>0&&(n.internal.write("/Outlines",this.outline.makeRef(this.outline.root)),this.outline.createNamedDestinations&&n.internal.write("/Names "+e+" 0 R"))}]),t.events.push(["initialized",function(){var n=this;n.outline={createNamedDestinations:!1,root:{children:[]}},n.outline.add=function(r,i,s){var o={title:i,options:s,children:[]};return r==null&&(r=this.root),r.children.push(o),o},n.outline.render=function(){return this.ctx={},this.ctx.val="",this.ctx.pdf=n,this.genIds_r(this.root),this.renderRoot(this.root),this.renderItems(this.root),this.ctx.val},n.outline.genIds_r=function(r){r.id=n.internal.newObjectDeferred();for(var i=0;i<r.children.length;i++)this.genIds_r(r.children[i])},n.outline.renderRoot=function(r){this.objStart(r),this.line("/Type /Outlines"),r.children.length>0&&(this.line("/First "+this.makeRef(r.children[0])),this.line("/Last "+this.makeRef(r.children[r.children.length-1]))),this.line("/Count "+this.count_r({count:0},r)),this.objEnd()},n.outline.renderItems=function(r){for(var i=this.ctx.pdf.internal.getVerticalCoordinateString,s=0;s<r.children.length;s++){var o=r.children[s];this.objStart(o),this.line("/Title "+this.makeString(o.title)),this.line("/Parent "+this.makeRef(r)),s>0&&this.line("/Prev "+this.makeRef(r.children[s-1])),s<r.children.length-1&&this.line("/Next "+this.makeRef(r.children[s+1])),o.children.length>0&&(this.line("/First "+this.makeRef(o.children[0])),this.line("/Last "+this.makeRef(o.children[o.children.length-1])));var a=this.count=this.count_r({count:0},o);if(a>0&&this.line("/Count "+a),o.options&&o.options.pageNumber){var l=n.internal.getPageInfo(o.options.pageNumber);this.line("/Dest ["+l.objId+" 0 R /XYZ 0 "+i(0)+" 0]")}this.objEnd()}for(var u=0;u<r.children.length;u++)this.renderItems(r.children[u])},n.outline.line=function(r){this.ctx.val+=r+`\r
`},n.outline.makeRef=function(r){return r.id+" 0 R"},n.outline.makeString=function(r){return"("+n.internal.pdfEscape(r)+")"},n.outline.objStart=function(r){this.ctx.val+=`\r
`+r.id+` 0 obj\r
<<\r
`},n.outline.objEnd=function(){this.ctx.val+=`>> \r
endobj\r
`},n.outline.count_r=function(r,i){for(var s=0;s<i.children.length;s++)r.count++,this.count_r(r,i.children[s]);return r.count}}])}(st.API),function(t){var e=[192,193,194,195,196,197,198,199];t.processJPEG=function(n,r,i,s,o,a){var l,u=this.decode.DCT_DECODE,c=null;if(typeof n=="string"||this.__addimage__.isArrayBuffer(n)||this.__addimage__.isArrayBufferView(n)){switch(n=o||n,n=this.__addimage__.isArrayBuffer(n)?new Uint8Array(n):n,l=function(d){for(var g,m=256*d.charCodeAt(4)+d.charCodeAt(5),b=d.length,x={width:0,height:0,numcomponents:1},A=4;A<b;A+=2){if(A+=m,e.indexOf(d.charCodeAt(A+1))!==-1){g=256*d.charCodeAt(A+5)+d.charCodeAt(A+6),x={width:256*d.charCodeAt(A+7)+d.charCodeAt(A+8),height:g,numcomponents:d.charCodeAt(A+9)};break}m=256*d.charCodeAt(A+2)+d.charCodeAt(A+3)}return x}(n=this.__addimage__.isArrayBufferView(n)?this.__addimage__.arrayBufferToBinaryString(n):n),l.numcomponents){case 1:a=this.color_spaces.DEVICE_GRAY;break;case 4:a=this.color_spaces.DEVICE_CMYK;break;case 3:a=this.color_spaces.DEVICE_RGB}c={data:n,width:l.width,height:l.height,colorSpace:a,bitsPerComponent:8,filter:u,index:r,alias:i}}return c}}(st.API),st.API.processPNG=function(t,e,n,r){if(this.__addimage__.isArrayBuffer(t)&&(t=new Uint8Array(t)),this.__addimage__.isArrayBufferView(t)){var i,s=yq(t,{checkCrc:!0}),o=s.width,a=s.height,l=s.channels,u=s.palette,c=s.depth;i=u&&l===1?function(C){for(var k=C.width,M=C.height,T=C.data,I=C.palette,D=C.depth,H=!1,ne=[],ue=[],ae=void 0,ee=!1,se=0,ye=0;ye<I.length;ye++){var Se=s3(I[ye],4),V=Se[0],Q=Se[1],te=Se[2],ie=Se[3];ne.push(V,Q,te),ie!=null&&(ie===0?(se++,ue.length<1&&ue.push(ye)):ie<255&&(ee=!0))}if(ee||se>1){H=!0,ue=void 0;var le=k*M;ae=new Uint8Array(le);for(var ve=new DataView(T.buffer),Ne=0;Ne<le;Ne++){var Ae=e1(ve,Ne,D),he=s3(I[Ae],4)[3];ae[Ne]=he}}else se===0&&(ue=void 0);return{colorSpace:"Indexed",colorsPerPixel:1,sMaskBitsPerComponent:H?8:void 0,colorBytes:T,alphaBytes:ae,needSMask:H,palette:ne,mask:ue}}(s):l===2||l===4?function(C){for(var k=C.data,M=C.width,T=C.height,I=C.channels,D=C.depth,H=I===2?"DeviceGray":"DeviceRGB",ne=I-1,ue=M*T,ae=ne,ee=ue*ae,se=1*ue,ye=Math.ceil(ee*D/8),Se=Math.ceil(se*D/8),V=new Uint8Array(ye),Q=new Uint8Array(Se),te=new DataView(k.buffer),ie=new DataView(V.buffer),le=new DataView(Q.buffer),ve=!1,Ne=0;Ne<ue;Ne++){for(var Ae=Ne*I,he=0;he<ae;he++)c_(ie,e1(te,Ae+he,D),Ne*ae+he,D);var be=e1(te,Ae+ae,D);be<(1<<D)-1&&(ve=!0),c_(le,be,1*Ne,D)}return{colorSpace:H,colorsPerPixel:ne,sMaskBitsPerComponent:ve?D:void 0,colorBytes:V,alphaBytes:Q,needSMask:ve}}(s):function(C){var k=C.data,M=C.channels===1?"DeviceGray":"DeviceRGB";return{colorSpace:M,colorsPerPixel:M==="DeviceGray"?1:3,colorBytes:k instanceof Uint16Array?function(T){for(var I=T.length,D=new Uint8Array(2*I),H=new DataView(D.buffer,D.byteOffset,D.byteLength),ne=0;ne<I;ne++)H.setUint16(2*ne,T[ne],!1);return D}(k):k,needSMask:!1}}(s);var d,g,m,b=i,x=b.colorSpace,A=b.colorsPerPixel,v=b.sMaskBitsPerComponent,_=b.colorBytes,E=b.alphaBytes,L=b.needSMask,z=b.palette,Y=b.mask,R=null;return r!==st.API.image_compression.NONE&&typeof Y2=="function"?(R=function(C){var k;switch(C){case st.API.image_compression.FAST:k=11;break;case st.API.image_compression.MEDIUM:k=13;break;case st.API.image_compression.SLOW:k=14;break;default:k=12}return k}(r),d=this.decode.FLATE_DECODE,g="/Predictor ".concat(R," /Colors ").concat(A," /BitsPerComponent ").concat(c," /Columns ").concat(o),t=s_(_,Math.ceil(o*A*c/8),A,c,r),L&&(m=s_(E,Math.ceil(o*v/8),1,v,r))):(d=void 0,g=void 0,t=_,L&&(m=E)),(this.__addimage__.isArrayBuffer(t)||this.__addimage__.isArrayBufferView(t))&&(t=this.__addimage__.arrayBufferToBinaryString(t)),(m&&this.__addimage__.isArrayBuffer(m)||this.__addimage__.isArrayBufferView(m))&&(m=this.__addimage__.arrayBufferToBinaryString(m)),{alias:n,data:t,index:e,filter:d,decodeParameters:g,transparency:Y,palette:z,sMask:m,predictor:R,width:o,height:a,bitsPerComponent:c,sMaskBitsPerComponent:v,colorSpace:x}}},function(t){t.processGIF89A=function(e,n,r,i){var s=new Oq(e),o=s.width,a=s.height,l=[];s.decodeAndBlitFrameRGBA(0,l);var u={data:l,width:o,height:a},c=new t1(100).encode(u,100);return t.processJPEG.call(this,c,n,r,i)},t.processGIF87A=t.processGIF89A}(st.API),Ls.prototype.parseHeader=function(){if(this.fileSize=this.datav.getUint32(this.pos,!0),this.pos+=4,this.reserved=this.datav.getUint32(this.pos,!0),this.pos+=4,this.offset=this.datav.getUint32(this.pos,!0),this.pos+=4,this.headerSize=this.datav.getUint32(this.pos,!0),this.pos+=4,this.width=this.datav.getUint32(this.pos,!0),this.pos+=4,this.height=this.datav.getInt32(this.pos,!0),this.pos+=4,this.planes=this.datav.getUint16(this.pos,!0),this.pos+=2,this.bitPP=this.datav.getUint16(this.pos,!0),this.pos+=2,this.compress=this.datav.getUint32(this.pos,!0),this.pos+=4,this.rawSize=this.datav.getUint32(this.pos,!0),this.pos+=4,this.hr=this.datav.getUint32(this.pos,!0),this.pos+=4,this.vr=this.datav.getUint32(this.pos,!0),this.pos+=4,this.colors=this.datav.getUint32(this.pos,!0),this.pos+=4,this.importantColors=this.datav.getUint32(this.pos,!0),this.pos+=4,this.bitPP===16&&this.is_with_alpha&&(this.bitPP=15),this.bitPP<15){var t=this.colors===0?1<<this.bitPP:this.colors;this.palette=new Array(t);for(var e=0;e<t;e++){var n=this.datav.getUint8(this.pos++,!0),r=this.datav.getUint8(this.pos++,!0),i=this.datav.getUint8(this.pos++,!0),s=this.datav.getUint8(this.pos++,!0);this.palette[e]={red:i,green:r,blue:n,quad:s}}}this.height<0&&(this.height*=-1,this.bottom_up=!1)},Ls.prototype.parseBGR=function(){this.pos=this.offset;try{var t="bit"+this.bitPP,e=this.width*this.height*4;this.data=new Uint8Array(e),this[t]()}catch(n){dn.log("bit decode error:"+n)}},Ls.prototype.bit1=function(){var t,e=Math.ceil(this.width/8),n=e%4;for(t=this.height-1;t>=0;t--){for(var r=this.bottom_up?t:this.height-1-t,i=0;i<e;i++)for(var s=this.datav.getUint8(this.pos++,!0),o=r*this.width*4+8*i*4,a=0;a<8&&8*i+a<this.width;a++){var l=this.palette[s>>7-a&1];this.data[o+4*a]=l.blue,this.data[o+4*a+1]=l.green,this.data[o+4*a+2]=l.red,this.data[o+4*a+3]=255}n!==0&&(this.pos+=4-n)}},Ls.prototype.bit4=function(){for(var t=Math.ceil(this.width/2),e=t%4,n=this.height-1;n>=0;n--){for(var r=this.bottom_up?n:this.height-1-n,i=0;i<t;i++){var s=this.datav.getUint8(this.pos++,!0),o=r*this.width*4+2*i*4,a=s>>4,l=15&s,u=this.palette[a];if(this.data[o]=u.blue,this.data[o+1]=u.green,this.data[o+2]=u.red,this.data[o+3]=255,2*i+1>=this.width)break;u=this.palette[l],this.data[o+4]=u.blue,this.data[o+4+1]=u.green,this.data[o+4+2]=u.red,this.data[o+4+3]=255}e!==0&&(this.pos+=4-e)}},Ls.prototype.bit8=function(){for(var t=this.width%4,e=this.height-1;e>=0;e--){for(var n=this.bottom_up?e:this.height-1-e,r=0;r<this.width;r++){var i=this.datav.getUint8(this.pos++,!0),s=n*this.width*4+4*r;if(i<this.palette.length){var o=this.palette[i];this.data[s]=o.red,this.data[s+1]=o.green,this.data[s+2]=o.blue,this.data[s+3]=255}else this.data[s]=255,this.data[s+1]=255,this.data[s+2]=255,this.data[s+3]=255}t!==0&&(this.pos+=4-t)}},Ls.prototype.bit15=function(){for(var t=this.width%3,e=parseInt("11111",2),n=this.height-1;n>=0;n--){for(var r=this.bottom_up?n:this.height-1-n,i=0;i<this.width;i++){var s=this.datav.getUint16(this.pos,!0);this.pos+=2;var o=(s&e)/e*255|0,a=(s>>5&e)/e*255|0,l=(s>>10&e)/e*255|0,u=s>>15?255:0,c=r*this.width*4+4*i;this.data[c]=l,this.data[c+1]=a,this.data[c+2]=o,this.data[c+3]=u}this.pos+=t}},Ls.prototype.bit16=function(){for(var t=this.width%3,e=parseInt("11111",2),n=parseInt("111111",2),r=this.height-1;r>=0;r--){for(var i=this.bottom_up?r:this.height-1-r,s=0;s<this.width;s++){var o=this.datav.getUint16(this.pos,!0);this.pos+=2;var a=(o&e)/e*255|0,l=(o>>5&n)/n*255|0,u=(o>>11)/e*255|0,c=i*this.width*4+4*s;this.data[c]=u,this.data[c+1]=l,this.data[c+2]=a,this.data[c+3]=255}this.pos+=t}},Ls.prototype.bit24=function(){for(var t=this.height-1;t>=0;t--){for(var e=this.bottom_up?t:this.height-1-t,n=0;n<this.width;n++){var r=this.datav.getUint8(this.pos++,!0),i=this.datav.getUint8(this.pos++,!0),s=this.datav.getUint8(this.pos++,!0),o=e*this.width*4+4*n;this.data[o]=s,this.data[o+1]=i,this.data[o+2]=r,this.data[o+3]=255}this.pos+=this.width%4}},Ls.prototype.bit32=function(){for(var t=this.height-1;t>=0;t--)for(var e=this.bottom_up?t:this.height-1-t,n=0;n<this.width;n++){var r=this.datav.getUint8(this.pos++,!0),i=this.datav.getUint8(this.pos++,!0),s=this.datav.getUint8(this.pos++,!0),o=this.datav.getUint8(this.pos++,!0),a=e*this.width*4+4*n;this.data[a]=s,this.data[a+1]=i,this.data[a+2]=r,this.data[a+3]=o}},Ls.prototype.getData=function(){return this.data},function(t){t.processBMP=function(e,n,r,i){var s=new Ls(e,!1),o=s.width,a=s.height,l={data:s.getData(),width:o,height:a},u=new t1(100).encode(l,100);return t.processJPEG.call(this,u,n,r,i)}}(st.API),f_.prototype.getData=function(){return this.data},function(t){t.processWEBP=function(e,n,r,i){var s=new f_(e),o=s.width,a=s.height,l={data:s.getData(),width:o,height:a},u=new t1(100).encode(l,100);return t.processJPEG.call(this,u,n,r,i)}}(st.API),st.API.processRGBA=function(t,e,n){for(var r=t.data,i=r.length,s=new Uint8Array(i/4*3),o=new Uint8Array(i/4),a=0,l=0,u=0;u<i;u+=4){var c=r[u],d=r[u+1],g=r[u+2],m=r[u+3];s[a++]=c,s[a++]=d,s[a++]=g,o[l++]=m}var b=this.__addimage__.arrayBufferToBinaryString(s);return{alpha:this.__addimage__.arrayBufferToBinaryString(o),data:b,index:e,alias:n,colorSpace:"DeviceRGB",bitsPerComponent:8,width:t.width,height:t.height}},st.API.setLanguage=function(t){return this.internal.languageSettings===void 0&&(this.internal.languageSettings={},this.internal.languageSettings.isSubscribed=!1),{af:"Afrikaans",sq:"Albanian",ar:"Arabic (Standard)","ar-DZ":"Arabic (Algeria)","ar-BH":"Arabic (Bahrain)","ar-EG":"Arabic (Egypt)","ar-IQ":"Arabic (Iraq)","ar-JO":"Arabic (Jordan)","ar-KW":"Arabic (Kuwait)","ar-LB":"Arabic (Lebanon)","ar-LY":"Arabic (Libya)","ar-MA":"Arabic (Morocco)","ar-OM":"Arabic (Oman)","ar-QA":"Arabic (Qatar)","ar-SA":"Arabic (Saudi Arabia)","ar-SY":"Arabic (Syria)","ar-TN":"Arabic (Tunisia)","ar-AE":"Arabic (U.A.E.)","ar-YE":"Arabic (Yemen)",an:"Aragonese",hy:"Armenian",as:"Assamese",ast:"Asturian",az:"Azerbaijani",eu:"Basque",be:"Belarusian",bn:"Bengali",bs:"Bosnian",br:"Breton",bg:"Bulgarian",my:"Burmese",ca:"Catalan",ch:"Chamorro",ce:"Chechen",zh:"Chinese","zh-HK":"Chinese (Hong Kong)","zh-CN":"Chinese (PRC)","zh-SG":"Chinese (Singapore)","zh-TW":"Chinese (Taiwan)",cv:"Chuvash",co:"Corsican",cr:"Cree",hr:"Croatian",cs:"Czech",da:"Danish",nl:"Dutch (Standard)","nl-BE":"Dutch (Belgian)",en:"English","en-AU":"English (Australia)","en-BZ":"English (Belize)","en-CA":"English (Canada)","en-IE":"English (Ireland)","en-JM":"English (Jamaica)","en-NZ":"English (New Zealand)","en-PH":"English (Philippines)","en-ZA":"English (South Africa)","en-TT":"English (Trinidad & Tobago)","en-GB":"English (United Kingdom)","en-US":"English (United States)","en-ZW":"English (Zimbabwe)",eo:"Esperanto",et:"Estonian",fo:"Faeroese",fj:"Fijian",fi:"Finnish",fr:"French (Standard)","fr-BE":"French (Belgium)","fr-CA":"French (Canada)","fr-FR":"French (France)","fr-LU":"French (Luxembourg)","fr-MC":"French (Monaco)","fr-CH":"French (Switzerland)",fy:"Frisian",fur:"Friulian",gd:"Gaelic (Scots)","gd-IE":"Gaelic (Irish)",gl:"Galacian",ka:"Georgian",de:"German (Standard)","de-AT":"German (Austria)","de-DE":"German (Germany)","de-LI":"German (Liechtenstein)","de-LU":"German (Luxembourg)","de-CH":"German (Switzerland)",el:"Greek",gu:"Gujurati",ht:"Haitian",he:"Hebrew",hi:"Hindi",hu:"Hungarian",is:"Icelandic",id:"Indonesian",iu:"Inuktitut",ga:"Irish",it:"Italian (Standard)","it-CH":"Italian (Switzerland)",ja:"Japanese",kn:"Kannada",ks:"Kashmiri",kk:"Kazakh",km:"Khmer",ky:"Kirghiz",tlh:"Klingon",ko:"Korean","ko-KP":"Korean (North Korea)","ko-KR":"Korean (South Korea)",la:"Latin",lv:"Latvian",lt:"Lithuanian",lb:"Luxembourgish",mk:"North Macedonia",ms:"Malay",ml:"Malayalam",mt:"Maltese",mi:"Maori",mr:"Marathi",mo:"Moldavian",nv:"Navajo",ng:"Ndonga",ne:"Nepali",no:"Norwegian",nb:"Norwegian (Bokmal)",nn:"Norwegian (Nynorsk)",oc:"Occitan",or:"Oriya",om:"Oromo",fa:"Persian","fa-IR":"Persian/Iran",pl:"Polish",pt:"Portuguese","pt-BR":"Portuguese (Brazil)",pa:"Punjabi","pa-IN":"Punjabi (India)","pa-PK":"Punjabi (Pakistan)",qu:"Quechua",rm:"Rhaeto-Romanic",ro:"Romanian","ro-MO":"Romanian (Moldavia)",ru:"Russian","ru-MO":"Russian (Moldavia)",sz:"Sami (Lappish)",sg:"Sango",sa:"Sanskrit",sc:"Sardinian",sd:"Sindhi",si:"Singhalese",sr:"Serbian",sk:"Slovak",sl:"Slovenian",so:"Somani",sb:"Sorbian",es:"Spanish","es-AR":"Spanish (Argentina)","es-BO":"Spanish (Bolivia)","es-CL":"Spanish (Chile)","es-CO":"Spanish (Colombia)","es-CR":"Spanish (Costa Rica)","es-DO":"Spanish (Dominican Republic)","es-EC":"Spanish (Ecuador)","es-SV":"Spanish (El Salvador)","es-GT":"Spanish (Guatemala)","es-HN":"Spanish (Honduras)","es-MX":"Spanish (Mexico)","es-NI":"Spanish (Nicaragua)","es-PA":"Spanish (Panama)","es-PY":"Spanish (Paraguay)","es-PE":"Spanish (Peru)","es-PR":"Spanish (Puerto Rico)","es-ES":"Spanish (Spain)","es-UY":"Spanish (Uruguay)","es-VE":"Spanish (Venezuela)",sx:"Sutu",sw:"Swahili",sv:"Swedish","sv-FI":"Swedish (Finland)","sv-SV":"Swedish (Sweden)",ta:"Tamil",tt:"Tatar",te:"Teluga",th:"Thai",tig:"Tigre",ts:"Tsonga",tn:"Tswana",tr:"Turkish",tk:"Turkmen",uk:"Ukrainian",hsb:"Upper Sorbian",ur:"Urdu",ve:"Venda",vi:"Vietnamese",vo:"Volapuk",wa:"Walloon",cy:"Welsh",xh:"Xhosa",ji:"Yiddish",zu:"Zulu"}[t]!==void 0&&(this.internal.languageSettings.languageCode=t,this.internal.languageSettings.isSubscribed===!1&&(this.internal.events.subscribe("putCatalog",function(){this.internal.write("/Lang ("+this.internal.languageSettings.languageCode+")")}),this.internal.languageSettings.isSubscribed=!0)),this},Pu=st.API,ap=Pu.getCharWidthsArray=function(t,e){var n,r,i=(e=e||{}).font||this.internal.getFont(),s=e.fontSize||this.internal.getFontSize(),o=e.charSpace||this.internal.getCharSpace(),a=e.widths?e.widths:i.metadata.Unicode.widths,l=a.fof?a.fof:1,u=e.kerning?e.kerning:i.metadata.Unicode.kerning,c=u.fof?u.fof:1,d=e.doKerning!==!1,g=0,m=t.length,b=0,x=a[0]||l,A=[];for(n=0;n<m;n++)r=t.charCodeAt(n),typeof i.metadata.widthOfString=="function"?A.push((i.metadata.widthOfGlyph(i.metadata.characterToGlyph(r))+o*(1e3/s)||0)/1e3):(g=d&&an(u[r])==="object"&&!isNaN(parseInt(u[r][b],10))?u[r][b]/c:0,A.push((a[r]||x)/l+g)),b=r;return A},n_=Pu.getStringUnitWidth=function(t,e){var n=(e=e||{}).fontSize||this.internal.getFontSize(),r=e.font||this.internal.getFont(),i=e.charSpace||this.internal.getCharSpace();return Pu.processArabic&&(t=Pu.processArabic(t)),typeof r.metadata.widthOfString=="function"?r.metadata.widthOfString(t,n,i)/n:ap.apply(this,arguments).reduce(function(s,o){return s+o},0)},r_=function(t,e,n,r){for(var i=[],s=0,o=t.length,a=0;s!==o&&a+e[s]<n;)a+=e[s],s++;i.push(t.slice(0,s));var l=s;for(a=0;s!==o;)a+e[s]>r&&(i.push(t.slice(l,s)),a=0,l=s),a+=e[s],s++;return l!==s&&i.push(t.slice(l,s)),i},i_=function(t,e,n){n||(n={});var r,i,s,o,a,l,u,c=[],d=[c],g=n.textIndent||0,m=0,b=0,x=t.split(" "),A=ap.apply(this,[" ",n])[0];if(l=n.lineIndent===-1?x[0].length+2:n.lineIndent||0){var v=Array(l).join(" "),_=[];x.map(function(L){(L=L.split(/\s*\n/)).length>1?_=_.concat(L.map(function(z,Y){return(Y&&z.length?`
`:"")+z})):_.push(L[0])}),x=_,l=n_.apply(this,[v,n])}for(s=0,o=x.length;s<o;s++){var E=0;if(r=x[s],l&&r[0]==`
`&&(r=r.substr(1),E=1),g+m+(b=(i=ap.apply(this,[r,n])).reduce(function(L,z){return L+z},0))>e||E){if(b>e){for(a=r_.apply(this,[r,i,e-(g+m),e]),c.push(a.shift()),c=[a.pop()];a.length;)d.push([a.shift()]);b=i.slice(r.length-(c[0]?c[0].length:0)).reduce(function(L,z){return L+z},0)}else c=[r];d.push(c),g=b+l,m=A}else c.push(r),g+=m+b,m=A}return u=l?function(L,z){return(z?v:"")+L.join(" ")}:function(L){return L.join(" ")},d.map(u)},Pu.splitTextToSize=function(t,e,n){var r,i=(n=n||{}).fontSize||this.internal.getFontSize(),s=(function(c){if(c.widths&&c.kerning)return{widths:c.widths,kerning:c.kerning};var d=this.internal.getFont(c.fontName,c.fontStyle),g="Unicode";return d.metadata[g]?{widths:d.metadata[g].widths||{0:1},kerning:d.metadata[g].kerning||{}}:{font:d.metadata,fontSize:this.internal.getFontSize(),charSpace:this.internal.getCharSpace()}}).call(this,n);r=Array.isArray(t)?t:String(t).split(/\r?\n/);var o=1*this.internal.scaleFactor*e/i;s.textIndent=n.textIndent?1*n.textIndent*this.internal.scaleFactor/i:0,s.lineIndent=n.lineIndent;var a,l,u=[];for(a=0,l=r.length;a<l;a++)u=u.concat(i_.apply(this,[r[a],o,s]));return u},function(t){t.__fontmetrics__=t.__fontmetrics__||{};for(var e="0123456789abcdef",n="klmnopqrstuvwxyz",r={},i={},s=0;s<16;s++)r[n[s]]=e[s],i[e[s]]=n[s];var o=function(g){return"0x"+parseInt(g,10).toString(16)},a=t.__fontmetrics__.compress=function(g){var m,b,x,A,v=["{"];for(var _ in g){if(m=g[_],isNaN(parseInt(_,10))?b="'"+_+"'":(_=parseInt(_,10),b=(b=o(_).slice(2)).slice(0,-1)+i[b.slice(-1)]),typeof m=="number")m<0?(x=o(m).slice(3),A="-"):(x=o(m).slice(2),A=""),x=A+x.slice(0,-1)+i[x.slice(-1)];else{if(an(m)!=="object")throw new Error("Don't know what to do with value type "+an(m)+".");x=a(m)}v.push(b+x)}return v.push("}"),v.join("")},l=t.__fontmetrics__.uncompress=function(g){if(typeof g!="string")throw new Error("Invalid argument passed to uncompress.");for(var m,b,x,A,v={},_=1,E=v,L=[],z="",Y="",R=g.length-1,C=1;C<R;C+=1)(A=g[C])=="'"?m?(x=m.join(""),m=void 0):m=[]:m?m.push(A):A=="{"?(L.push([E,x]),E={},x=void 0):A=="}"?((b=L.pop())[0][b[1]]=E,x=void 0,E=b[0]):A=="-"?_=-1:x===void 0?r.hasOwnProperty(A)?(z+=r[A],x=parseInt(z,16)*_,_=1,z=""):z+=A:r.hasOwnProperty(A)?(Y+=r[A],E[x]=parseInt(Y,16)*_,_=1,x=void 0,Y=""):Y+=A;return v},u={codePages:["WinAnsiEncoding"],WinAnsiEncoding:l("{19m8n201n9q201o9r201s9l201t9m201u8m201w9n201x9o201y8o202k8q202l8r202m9p202q8p20aw8k203k8t203t8v203u9v2cq8s212m9t15m8w15n9w2dw9s16k8u16l9u17s9z17x8y17y9y}")},c={Unicode:{Courier:u,"Courier-Bold":u,"Courier-BoldOblique":u,"Courier-Oblique":u,Helvetica:u,"Helvetica-Bold":u,"Helvetica-BoldOblique":u,"Helvetica-Oblique":u,"Times-Roman":u,"Times-Bold":u,"Times-BoldItalic":u,"Times-Italic":u}},d={Unicode:{"Courier-Oblique":l("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Times-BoldItalic":l("{'widths'{k3o2q4ycx2r201n3m201o6o201s2l201t2l201u2l201w3m201x3m201y3m2k1t2l2r202m2n2n3m2o3m2p5n202q6o2r1w2s2l2t2l2u3m2v3t2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v2l3w3t3x3t3y3t3z3m4k5n4l4m4m4m4n4m4o4s4p4m4q4m4r4s4s4y4t2r4u3m4v4m4w3x4x5t4y4s4z4s5k3x5l4s5m4m5n3r5o3x5p4s5q4m5r5t5s4m5t3x5u3x5v2l5w1w5x2l5y3t5z3m6k2l6l3m6m3m6n2w6o3m6p2w6q2l6r3m6s3r6t1w6u1w6v3m6w1w6x4y6y3r6z3m7k3m7l3m7m2r7n2r7o1w7p3r7q2w7r4m7s3m7t2w7u2r7v2n7w1q7x2n7y3t202l3mcl4mal2ram3man3mao3map3mar3mas2lat4uau1uav3maw3way4uaz2lbk2sbl3t'fof'6obo2lbp3tbq3mbr1tbs2lbu1ybv3mbz3mck4m202k3mcm4mcn4mco4mcp4mcq5ycr4mcs4mct4mcu4mcv4mcw2r2m3rcy2rcz2rdl4sdm4sdn4sdo4sdp4sdq4sds4sdt4sdu4sdv4sdw4sdz3mek3mel3mem3men3meo3mep3meq4ser2wes2wet2weu2wev2wew1wex1wey1wez1wfl3rfm3mfn3mfo3mfp3mfq3mfr3tfs3mft3rfu3rfv3rfw3rfz2w203k6o212m6o2dw2l2cq2l3t3m3u2l17s3x19m3m}'kerning'{cl{4qu5kt5qt5rs17ss5ts}201s{201ss}201t{cks4lscmscnscoscpscls2wu2yu201ts}201x{2wu2yu}2k{201ts}2w{4qx5kx5ou5qx5rs17su5tu}2x{17su5tu5ou}2y{4qx5kx5ou5qx5rs17ss5ts}'fof'-6ofn{17sw5tw5ou5qw5rs}7t{cksclscmscnscoscps4ls}3u{17su5tu5os5qs}3v{17su5tu5os5qs}7p{17su5tu}ck{4qu5kt5qt5rs17ss5ts}4l{4qu5kt5qt5rs17ss5ts}cm{4qu5kt5qt5rs17ss5ts}cn{4qu5kt5qt5rs17ss5ts}co{4qu5kt5qt5rs17ss5ts}cp{4qu5kt5qt5rs17ss5ts}6l{4qu5ou5qw5rt17su5tu}5q{ckuclucmucnucoucpu4lu}5r{ckuclucmucnucoucpu4lu}7q{cksclscmscnscoscps4ls}6p{4qu5ou5qw5rt17sw5tw}ek{4qu5ou5qw5rt17su5tu}el{4qu5ou5qw5rt17su5tu}em{4qu5ou5qw5rt17su5tu}en{4qu5ou5qw5rt17su5tu}eo{4qu5ou5qw5rt17su5tu}ep{4qu5ou5qw5rt17su5tu}es{17ss5ts5qs4qu}et{4qu5ou5qw5rt17sw5tw}eu{4qu5ou5qw5rt17ss5ts}ev{17ss5ts5qs4qu}6z{17sw5tw5ou5qw5rs}fm{17sw5tw5ou5qw5rs}7n{201ts}fo{17sw5tw5ou5qw5rs}fp{17sw5tw5ou5qw5rs}fq{17sw5tw5ou5qw5rs}7r{cksclscmscnscoscps4ls}fs{17sw5tw5ou5qw5rs}ft{17su5tu}fu{17su5tu}fv{17su5tu}fw{17su5tu}fz{cksclscmscnscoscps4ls}}}"),"Helvetica-Bold":l("{'widths'{k3s2q4scx1w201n3r201o6o201s1w201t1w201u1w201w3m201x3m201y3m2k1w2l2l202m2n2n3r2o3r2p5t202q6o2r1s2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v2l3w3u3x3u3y3u3z3x4k6l4l4s4m4s4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3r4v4s4w3x4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v2l5w1w5x2l5y3u5z3r6k2l6l3r6m3x6n3r6o3x6p3r6q2l6r3x6s3x6t1w6u1w6v3r6w1w6x5t6y3x6z3x7k3x7l3x7m2r7n3r7o2l7p3x7q3r7r4y7s3r7t3r7u3m7v2r7w1w7x2r7y3u202l3rcl4sal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3xbq3rbr1wbs2lbu2obv3rbz3xck4s202k3rcm4scn4sco4scp4scq6ocr4scs4mct4mcu4mcv4mcw1w2m2zcy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3res3ret3reu3rev3rew1wex1wey1wez1wfl3xfm3xfn3xfo3xfp3xfq3xfr3ufs3xft3xfu3xfv3xfw3xfz3r203k6o212m6o2dw2l2cq2l3t3r3u2l17s4m19m3r}'kerning'{cl{4qs5ku5ot5qs17sv5tv}201t{2ww4wy2yw}201w{2ks}201x{2ww4wy2yw}2k{201ts201xs}2w{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}2x{5ow5qs}2y{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}'fof'-6o7p{17su5tu5ot}ck{4qs5ku5ot5qs17sv5tv}4l{4qs5ku5ot5qs17sv5tv}cm{4qs5ku5ot5qs17sv5tv}cn{4qs5ku5ot5qs17sv5tv}co{4qs5ku5ot5qs17sv5tv}cp{4qs5ku5ot5qs17sv5tv}6l{17st5tt5os}17s{2kwclvcmvcnvcovcpv4lv4wwckv}5o{2kucltcmtcntcotcpt4lt4wtckt}5q{2ksclscmscnscoscps4ls4wvcks}5r{2ks4ws}5t{2kwclvcmvcnvcovcpv4lv4wwckv}eo{17st5tt5os}fu{17su5tu5ot}6p{17ss5ts}ek{17st5tt5os}el{17st5tt5os}em{17st5tt5os}en{17st5tt5os}6o{201ts}ep{17st5tt5os}es{17ss5ts}et{17ss5ts}eu{17ss5ts}ev{17ss5ts}6z{17su5tu5os5qt}fm{17su5tu5os5qt}fn{17su5tu5os5qt}fo{17su5tu5os5qt}fp{17su5tu5os5qt}fq{17su5tu5os5qt}fs{17su5tu5os5qt}ft{17su5tu5ot}7m{5os}fv{17su5tu5ot}fw{17su5tu5ot}}}"),Courier:l("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Courier-BoldOblique":l("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Times-Bold":l("{'widths'{k3q2q5ncx2r201n3m201o6o201s2l201t2l201u2l201w3m201x3m201y3m2k1t2l2l202m2n2n3m2o3m2p6o202q6o2r1w2s2l2t2l2u3m2v3t2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v2l3w3t3x3t3y3t3z3m4k5x4l4s4m4m4n4s4o4s4p4m4q3x4r4y4s4y4t2r4u3m4v4y4w4m4x5y4y4s4z4y5k3x5l4y5m4s5n3r5o4m5p4s5q4s5r6o5s4s5t4s5u4m5v2l5w1w5x2l5y3u5z3m6k2l6l3m6m3r6n2w6o3r6p2w6q2l6r3m6s3r6t1w6u2l6v3r6w1w6x5n6y3r6z3m7k3r7l3r7m2w7n2r7o2l7p3r7q3m7r4s7s3m7t3m7u2w7v2r7w1q7x2r7y3o202l3mcl4sal2lam3man3mao3map3mar3mas2lat4uau1yav3maw3tay4uaz2lbk2sbl3t'fof'6obo2lbp3rbr1tbs2lbu2lbv3mbz3mck4s202k3mcm4scn4sco4scp4scq6ocr4scs4mct4mcu4mcv4mcw2r2m3rcy2rcz2rdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3rek3mel3mem3men3meo3mep3meq4ser2wes2wet2weu2wev2wew1wex1wey1wez1wfl3rfm3mfn3mfo3mfp3mfq3mfr3tfs3mft3rfu3rfv3rfw3rfz3m203k6o212m6o2dw2l2cq2l3t3m3u2l17s4s19m3m}'kerning'{cl{4qt5ks5ot5qy5rw17sv5tv}201t{cks4lscmscnscoscpscls4wv}2k{201ts}2w{4qu5ku7mu5os5qx5ru17su5tu}2x{17su5tu5ou5qs}2y{4qv5kv7mu5ot5qz5ru17su5tu}'fof'-6o7t{cksclscmscnscoscps4ls}3u{17su5tu5os5qu}3v{17su5tu5os5qu}fu{17su5tu5ou5qu}7p{17su5tu5ou5qu}ck{4qt5ks5ot5qy5rw17sv5tv}4l{4qt5ks5ot5qy5rw17sv5tv}cm{4qt5ks5ot5qy5rw17sv5tv}cn{4qt5ks5ot5qy5rw17sv5tv}co{4qt5ks5ot5qy5rw17sv5tv}cp{4qt5ks5ot5qy5rw17sv5tv}6l{17st5tt5ou5qu}17s{ckuclucmucnucoucpu4lu4wu}5o{ckuclucmucnucoucpu4lu4wu}5q{ckzclzcmzcnzcozcpz4lz4wu}5r{ckxclxcmxcnxcoxcpx4lx4wu}5t{ckuclucmucnucoucpu4lu4wu}7q{ckuclucmucnucoucpu4lu}6p{17sw5tw5ou5qu}ek{17st5tt5qu}el{17st5tt5ou5qu}em{17st5tt5qu}en{17st5tt5qu}eo{17st5tt5qu}ep{17st5tt5ou5qu}es{17ss5ts5qu}et{17sw5tw5ou5qu}eu{17sw5tw5ou5qu}ev{17ss5ts5qu}6z{17sw5tw5ou5qu5rs}fm{17sw5tw5ou5qu5rs}fn{17sw5tw5ou5qu5rs}fo{17sw5tw5ou5qu5rs}fp{17sw5tw5ou5qu5rs}fq{17sw5tw5ou5qu5rs}7r{cktcltcmtcntcotcpt4lt5os}fs{17sw5tw5ou5qu5rs}ft{17su5tu5ou5qu}7m{5os}fv{17su5tu5ou5qu}fw{17su5tu5ou5qu}fz{cksclscmscnscoscps4ls}}}"),Symbol:l("{'widths'{k3uaw4r19m3m2k1t2l2l202m2y2n3m2p5n202q6o3k3m2s2l2t2l2v3r2w1t3m3m2y1t2z1wbk2sbl3r'fof'6o3n3m3o3m3p3m3q3m3r3m3s3m3t3m3u1w3v1w3w3r3x3r3y3r3z2wbp3t3l3m5v2l5x2l5z3m2q4yfr3r7v3k7w1o7x3k}'kerning'{'fof'-6o}}"),Helvetica:l("{'widths'{k3p2q4mcx1w201n3r201o6o201s1q201t1q201u1q201w2l201x2l201y2l2k1w2l1w202m2n2n3r2o3r2p5t202q6o2r1n2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v1w3w3u3x3u3y3u3z3r4k6p4l4m4m4m4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3m4v4m4w3r4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v1w5w1w5x1w5y2z5z3r6k2l6l3r6m3r6n3m6o3r6p3r6q1w6r3r6s3r6t1q6u1q6v3m6w1q6x5n6y3r6z3r7k3r7l3r7m2l7n3m7o1w7p3r7q3m7r4s7s3m7t3m7u3m7v2l7w1u7x2l7y3u202l3rcl4mal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3rbr1wbs2lbu2obv3rbz3xck4m202k3rcm4mcn4mco4mcp4mcq6ocr4scs4mct4mcu4mcv4mcw1w2m2ncy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3mes3ret3reu3rev3rew1wex1wey1wez1wfl3rfm3rfn3rfo3rfp3rfq3rfr3ufs3xft3rfu3rfv3rfw3rfz3m203k6o212m6o2dw2l2cq2l3t3r3u1w17s4m19m3r}'kerning'{5q{4wv}cl{4qs5kw5ow5qs17sv5tv}201t{2wu4w1k2yu}201x{2wu4wy2yu}17s{2ktclucmucnu4otcpu4lu4wycoucku}2w{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}2x{17sy5ty5oy5qs}2y{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}'fof'-6o7p{17sv5tv5ow}ck{4qs5kw5ow5qs17sv5tv}4l{4qs5kw5ow5qs17sv5tv}cm{4qs5kw5ow5qs17sv5tv}cn{4qs5kw5ow5qs17sv5tv}co{4qs5kw5ow5qs17sv5tv}cp{4qs5kw5ow5qs17sv5tv}6l{17sy5ty5ow}do{17st5tt}4z{17st5tt}7s{fst}dm{17st5tt}dn{17st5tt}5o{ckwclwcmwcnwcowcpw4lw4wv}dp{17st5tt}dq{17st5tt}7t{5ow}ds{17st5tt}5t{2ktclucmucnu4otcpu4lu4wycoucku}fu{17sv5tv5ow}6p{17sy5ty5ow5qs}ek{17sy5ty5ow}el{17sy5ty5ow}em{17sy5ty5ow}en{5ty}eo{17sy5ty5ow}ep{17sy5ty5ow}es{17sy5ty5qs}et{17sy5ty5ow5qs}eu{17sy5ty5ow5qs}ev{17sy5ty5ow5qs}6z{17sy5ty5ow5qs}fm{17sy5ty5ow5qs}fn{17sy5ty5ow5qs}fo{17sy5ty5ow5qs}fp{17sy5ty5qs}fq{17sy5ty5ow5qs}7r{5ow}fs{17sy5ty5ow5qs}ft{17sv5tv5ow}7m{5ow}fv{17sv5tv5ow}fw{17sv5tv5ow}}}"),"Helvetica-BoldOblique":l("{'widths'{k3s2q4scx1w201n3r201o6o201s1w201t1w201u1w201w3m201x3m201y3m2k1w2l2l202m2n2n3r2o3r2p5t202q6o2r1s2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v2l3w3u3x3u3y3u3z3x4k6l4l4s4m4s4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3r4v4s4w3x4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v2l5w1w5x2l5y3u5z3r6k2l6l3r6m3x6n3r6o3x6p3r6q2l6r3x6s3x6t1w6u1w6v3r6w1w6x5t6y3x6z3x7k3x7l3x7m2r7n3r7o2l7p3x7q3r7r4y7s3r7t3r7u3m7v2r7w1w7x2r7y3u202l3rcl4sal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3xbq3rbr1wbs2lbu2obv3rbz3xck4s202k3rcm4scn4sco4scp4scq6ocr4scs4mct4mcu4mcv4mcw1w2m2zcy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3res3ret3reu3rev3rew1wex1wey1wez1wfl3xfm3xfn3xfo3xfp3xfq3xfr3ufs3xft3xfu3xfv3xfw3xfz3r203k6o212m6o2dw2l2cq2l3t3r3u2l17s4m19m3r}'kerning'{cl{4qs5ku5ot5qs17sv5tv}201t{2ww4wy2yw}201w{2ks}201x{2ww4wy2yw}2k{201ts201xs}2w{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}2x{5ow5qs}2y{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}'fof'-6o7p{17su5tu5ot}ck{4qs5ku5ot5qs17sv5tv}4l{4qs5ku5ot5qs17sv5tv}cm{4qs5ku5ot5qs17sv5tv}cn{4qs5ku5ot5qs17sv5tv}co{4qs5ku5ot5qs17sv5tv}cp{4qs5ku5ot5qs17sv5tv}6l{17st5tt5os}17s{2kwclvcmvcnvcovcpv4lv4wwckv}5o{2kucltcmtcntcotcpt4lt4wtckt}5q{2ksclscmscnscoscps4ls4wvcks}5r{2ks4ws}5t{2kwclvcmvcnvcovcpv4lv4wwckv}eo{17st5tt5os}fu{17su5tu5ot}6p{17ss5ts}ek{17st5tt5os}el{17st5tt5os}em{17st5tt5os}en{17st5tt5os}6o{201ts}ep{17st5tt5os}es{17ss5ts}et{17ss5ts}eu{17ss5ts}ev{17ss5ts}6z{17su5tu5os5qt}fm{17su5tu5os5qt}fn{17su5tu5os5qt}fo{17su5tu5os5qt}fp{17su5tu5os5qt}fq{17su5tu5os5qt}fs{17su5tu5os5qt}ft{17su5tu5ot}7m{5os}fv{17su5tu5ot}fw{17su5tu5ot}}}"),ZapfDingbats:l("{'widths'{k4u2k1w'fof'6o}'kerning'{'fof'-6o}}"),"Courier-Bold":l("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Times-Italic":l("{'widths'{k3n2q4ycx2l201n3m201o5t201s2l201t2l201u2l201w3r201x3r201y3r2k1t2l2l202m2n2n3m2o3m2p5n202q5t2r1p2s2l2t2l2u3m2v4n2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v2l3w4n3x4n3y4n3z3m4k5w4l3x4m3x4n4m4o4s4p3x4q3x4r4s4s4s4t2l4u2w4v4m4w3r4x5n4y4m4z4s5k3x5l4s5m3x5n3m5o3r5p4s5q3x5r5n5s3x5t3r5u3r5v2r5w1w5x2r5y2u5z3m6k2l6l3m6m3m6n2w6o3m6p2w6q1w6r3m6s3m6t1w6u1w6v2w6w1w6x4s6y3m6z3m7k3m7l3m7m2r7n2r7o1w7p3m7q2w7r4m7s2w7t2w7u2r7v2s7w1v7x2s7y3q202l3mcl3xal2ram3man3mao3map3mar3mas2lat4wau1vav3maw4nay4waz2lbk2sbl4n'fof'6obo2lbp3mbq3obr1tbs2lbu1zbv3mbz3mck3x202k3mcm3xcn3xco3xcp3xcq5tcr4mcs3xct3xcu3xcv3xcw2l2m2ucy2lcz2ldl4mdm4sdn4sdo4sdp4sdq4sds4sdt4sdu4sdv4sdw4sdz3mek3mel3mem3men3meo3mep3meq4mer2wes2wet2weu2wev2wew1wex1wey1wez1wfl3mfm3mfn3mfo3mfp3mfq3mfr4nfs3mft3mfu3mfv3mfw3mfz2w203k6o212m6m2dw2l2cq2l3t3m3u2l17s3r19m3m}'kerning'{cl{5kt4qw}201s{201sw}201t{201tw2wy2yy6q-t}201x{2wy2yy}2k{201tw}2w{7qs4qy7rs5ky7mw5os5qx5ru17su5tu}2x{17ss5ts5os}2y{7qs4qy7rs5ky7mw5os5qx5ru17su5tu}'fof'-6o6t{17ss5ts5qs}7t{5os}3v{5qs}7p{17su5tu5qs}ck{5kt4qw}4l{5kt4qw}cm{5kt4qw}cn{5kt4qw}co{5kt4qw}cp{5kt4qw}6l{4qs5ks5ou5qw5ru17su5tu}17s{2ks}5q{ckvclvcmvcnvcovcpv4lv}5r{ckuclucmucnucoucpu4lu}5t{2ks}6p{4qs5ks5ou5qw5ru17su5tu}ek{4qs5ks5ou5qw5ru17su5tu}el{4qs5ks5ou5qw5ru17su5tu}em{4qs5ks5ou5qw5ru17su5tu}en{4qs5ks5ou5qw5ru17su5tu}eo{4qs5ks5ou5qw5ru17su5tu}ep{4qs5ks5ou5qw5ru17su5tu}es{5ks5qs4qs}et{4qs5ks5ou5qw5ru17su5tu}eu{4qs5ks5qw5ru17su5tu}ev{5ks5qs4qs}ex{17ss5ts5qs}6z{4qv5ks5ou5qw5ru17su5tu}fm{4qv5ks5ou5qw5ru17su5tu}fn{4qv5ks5ou5qw5ru17su5tu}fo{4qv5ks5ou5qw5ru17su5tu}fp{4qv5ks5ou5qw5ru17su5tu}fq{4qv5ks5ou5qw5ru17su5tu}7r{5os}fs{4qv5ks5ou5qw5ru17su5tu}ft{17su5tu5qs}fu{17su5tu5qs}fv{17su5tu5qs}fw{17su5tu5qs}}}"),"Times-Roman":l("{'widths'{k3n2q4ycx2l201n3m201o6o201s2l201t2l201u2l201w2w201x2w201y2w2k1t2l2l202m2n2n3m2o3m2p5n202q6o2r1m2s2l2t2l2u3m2v3s2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v1w3w3s3x3s3y3s3z2w4k5w4l4s4m4m4n4m4o4s4p3x4q3r4r4s4s4s4t2l4u2r4v4s4w3x4x5t4y4s4z4s5k3r5l4s5m4m5n3r5o3x5p4s5q4s5r5y5s4s5t4s5u3x5v2l5w1w5x2l5y2z5z3m6k2l6l2w6m3m6n2w6o3m6p2w6q2l6r3m6s3m6t1w6u1w6v3m6w1w6x4y6y3m6z3m7k3m7l3m7m2l7n2r7o1w7p3m7q3m7r4s7s3m7t3m7u2w7v3k7w1o7x3k7y3q202l3mcl4sal2lam3man3mao3map3mar3mas2lat4wau1vav3maw3say4waz2lbk2sbl3s'fof'6obo2lbp3mbq2xbr1tbs2lbu1zbv3mbz2wck4s202k3mcm4scn4sco4scp4scq5tcr4mcs3xct3xcu3xcv3xcw2l2m2tcy2lcz2ldl4sdm4sdn4sdo4sdp4sdq4sds4sdt4sdu4sdv4sdw4sdz3mek2wel2wem2wen2weo2wep2weq4mer2wes2wet2weu2wev2wew1wex1wey1wez1wfl3mfm3mfn3mfo3mfp3mfq3mfr3sfs3mft3mfu3mfv3mfw3mfz3m203k6o212m6m2dw2l2cq2l3t3m3u1w17s4s19m3m}'kerning'{cl{4qs5ku17sw5ou5qy5rw201ss5tw201ws}201s{201ss}201t{ckw4lwcmwcnwcowcpwclw4wu201ts}2k{201ts}2w{4qs5kw5os5qx5ru17sx5tx}2x{17sw5tw5ou5qu}2y{4qs5kw5os5qx5ru17sx5tx}'fof'-6o7t{ckuclucmucnucoucpu4lu5os5rs}3u{17su5tu5qs}3v{17su5tu5qs}7p{17sw5tw5qs}ck{4qs5ku17sw5ou5qy5rw201ss5tw201ws}4l{4qs5ku17sw5ou5qy5rw201ss5tw201ws}cm{4qs5ku17sw5ou5qy5rw201ss5tw201ws}cn{4qs5ku17sw5ou5qy5rw201ss5tw201ws}co{4qs5ku17sw5ou5qy5rw201ss5tw201ws}cp{4qs5ku17sw5ou5qy5rw201ss5tw201ws}6l{17su5tu5os5qw5rs}17s{2ktclvcmvcnvcovcpv4lv4wuckv}5o{ckwclwcmwcnwcowcpw4lw4wu}5q{ckyclycmycnycoycpy4ly4wu5ms}5r{cktcltcmtcntcotcpt4lt4ws}5t{2ktclvcmvcnvcovcpv4lv4wuckv}7q{cksclscmscnscoscps4ls}6p{17su5tu5qw5rs}ek{5qs5rs}el{17su5tu5os5qw5rs}em{17su5tu5os5qs5rs}en{17su5qs5rs}eo{5qs5rs}ep{17su5tu5os5qw5rs}es{5qs}et{17su5tu5qw5rs}eu{17su5tu5qs5rs}ev{5qs}6z{17sv5tv5os5qx5rs}fm{5os5qt5rs}fn{17sv5tv5os5qx5rs}fo{17sv5tv5os5qx5rs}fp{5os5qt5rs}fq{5os5qt5rs}7r{ckuclucmucnucoucpu4lu5os}fs{17sv5tv5os5qx5rs}ft{17ss5ts5qs}fu{17sw5tw5qs}fv{17sw5tw5qs}fw{17ss5ts5qs}fz{ckuclucmucnucoucpu4lu5os5rs}}}"),"Helvetica-Oblique":l("{'widths'{k3p2q4mcx1w201n3r201o6o201s1q201t1q201u1q201w2l201x2l201y2l2k1w2l1w202m2n2n3r2o3r2p5t202q6o2r1n2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v1w3w3u3x3u3y3u3z3r4k6p4l4m4m4m4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3m4v4m4w3r4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v1w5w1w5x1w5y2z5z3r6k2l6l3r6m3r6n3m6o3r6p3r6q1w6r3r6s3r6t1q6u1q6v3m6w1q6x5n6y3r6z3r7k3r7l3r7m2l7n3m7o1w7p3r7q3m7r4s7s3m7t3m7u3m7v2l7w1u7x2l7y3u202l3rcl4mal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3rbr1wbs2lbu2obv3rbz3xck4m202k3rcm4mcn4mco4mcp4mcq6ocr4scs4mct4mcu4mcv4mcw1w2m2ncy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3mes3ret3reu3rev3rew1wex1wey1wez1wfl3rfm3rfn3rfo3rfp3rfq3rfr3ufs3xft3rfu3rfv3rfw3rfz3m203k6o212m6o2dw2l2cq2l3t3r3u1w17s4m19m3r}'kerning'{5q{4wv}cl{4qs5kw5ow5qs17sv5tv}201t{2wu4w1k2yu}201x{2wu4wy2yu}17s{2ktclucmucnu4otcpu4lu4wycoucku}2w{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}2x{17sy5ty5oy5qs}2y{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}'fof'-6o7p{17sv5tv5ow}ck{4qs5kw5ow5qs17sv5tv}4l{4qs5kw5ow5qs17sv5tv}cm{4qs5kw5ow5qs17sv5tv}cn{4qs5kw5ow5qs17sv5tv}co{4qs5kw5ow5qs17sv5tv}cp{4qs5kw5ow5qs17sv5tv}6l{17sy5ty5ow}do{17st5tt}4z{17st5tt}7s{fst}dm{17st5tt}dn{17st5tt}5o{ckwclwcmwcnwcowcpw4lw4wv}dp{17st5tt}dq{17st5tt}7t{5ow}ds{17st5tt}5t{2ktclucmucnu4otcpu4lu4wycoucku}fu{17sv5tv5ow}6p{17sy5ty5ow5qs}ek{17sy5ty5ow}el{17sy5ty5ow}em{17sy5ty5ow}en{5ty}eo{17sy5ty5ow}ep{17sy5ty5ow}es{17sy5ty5qs}et{17sy5ty5ow5qs}eu{17sy5ty5ow5qs}ev{17sy5ty5ow5qs}6z{17sy5ty5ow5qs}fm{17sy5ty5ow5qs}fn{17sy5ty5ow5qs}fo{17sy5ty5ow5qs}fp{17sy5ty5qs}fq{17sy5ty5ow5qs}7r{5ow}fs{17sy5ty5ow5qs}ft{17sv5tv5ow}7m{5ow}fv{17sv5tv5ow}fw{17sv5tv5ow}}}")}};t.events.push(["addFont",function(g){var m=g.font,b=d.Unicode[m.postScriptName];b&&(m.metadata.Unicode={},m.metadata.Unicode.widths=b.widths,m.metadata.Unicode.kerning=b.kerning);var x=c.Unicode[m.postScriptName];x&&(m.metadata.Unicode.encoding=x,m.encoding=x.codePages[0])}])}(st.API),function(t){var e=function(n){for(var r=n.length,i=new Uint8Array(r),s=0;s<r;s++)i[s]=n.charCodeAt(s);return i};t.API.events.push(["addFont",function(n){var r=void 0,i=n.font,s=n.instance;if(!i.isStandardFont){if(s===void 0)throw new Error("Font does not exist in vFS, import fonts or remove declaration doc.addFont('"+i.postScriptName+"').");if(typeof(r=s.existsFileInVFS(i.postScriptName)===!1?s.loadFile(i.postScriptName):s.getFileFromVFS(i.postScriptName))!="string")throw new Error("Font is not stored as string-data in vFS, import fonts or remove declaration doc.addFont('"+i.postScriptName+"').");(function(o,a){a=/^\x00\x01\x00\x00/.test(a)?e(a):e(kp(a)),o.metadata=t.API.TTFFont.open(a),o.metadata.Unicode=o.metadata.Unicode||{encoding:{},kerning:{},widths:[]},o.metadata.glyIdsUsed=[0]})(i,r)}}])}(st),st.API.addSvgAsImage=function(t,e,n,r,i,s,o,a){if(isNaN(e)||isNaN(n))throw dn.error("jsPDF.addSvgAsImage: Invalid coordinates",arguments),new Error("Invalid coordinates passed to jsPDF.addSvgAsImage");if(isNaN(r)||isNaN(i))throw dn.error("jsPDF.addSvgAsImage: Invalid measurements",arguments),new Error("Invalid measurements (width and/or height) passed to jsPDF.addSvgAsImage");var l=document.createElement("canvas");l.width=r,l.height=i;var u=l.getContext("2d");u.fillStyle="#fff",u.fillRect(0,0,l.width,l.height);var c={ignoreMouse:!0,ignoreAnimation:!0,ignoreDimensions:!0},d=this;return(vt.canvg?Promise.resolve(vt.canvg):jg(()=>import("./index.es-BvUn7IU3.js"),[])).catch(function(g){return Promise.reject(new Error("Could not load canvg: "+g))}).then(function(g){return g.default?g.default:g}).then(function(g){return g.fromString(u,t,c)},function(){return Promise.reject(new Error("Could not load canvg."))}).then(function(g){return g.render(c)}).then(function(){d.addImage(l.toDataURL("image/jpeg",1),e,n,r,i,o,a)})},st.API.putTotalPages=function(t){var e,n=0;parseInt(this.internal.getFont().id.substr(1),10)<15?(e=new RegExp(t,"g"),n=this.internal.getNumberOfPages()):(e=new RegExp(this.pdfEscape16(t,this.internal.getFont()),"g"),n=this.pdfEscape16(this.internal.getNumberOfPages()+"",this.internal.getFont()));for(var r=1;r<=this.internal.getNumberOfPages();r++)for(var i=0;i<this.internal.pages[r].length;i++)this.internal.pages[r][i]=this.internal.pages[r][i].replace(e,n);return this},st.API.viewerPreferences=function(t,e){var n;t=t||{},e=e||!1;var r,i,s,o={HideToolbar:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},HideMenubar:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},HideWindowUI:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},FitWindow:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},CenterWindow:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},DisplayDocTitle:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.4},NonFullScreenPageMode:{defaultValue:"UseNone",value:"UseNone",type:"name",explicitSet:!1,valueSet:["UseNone","UseOutlines","UseThumbs","UseOC"],pdfVersion:1.3},Direction:{defaultValue:"L2R",value:"L2R",type:"name",explicitSet:!1,valueSet:["L2R","R2L"],pdfVersion:1.3},ViewArea:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},ViewClip:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},PrintArea:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},PrintClip:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},PrintScaling:{defaultValue:"AppDefault",value:"AppDefault",type:"name",explicitSet:!1,valueSet:["AppDefault","None"],pdfVersion:1.6},Duplex:{defaultValue:"",value:"none",type:"name",explicitSet:!1,valueSet:["Simplex","DuplexFlipShortEdge","DuplexFlipLongEdge","none"],pdfVersion:1.7},PickTrayByPDFSize:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.7},PrintPageRange:{defaultValue:"",value:"",type:"array",explicitSet:!1,valueSet:null,pdfVersion:1.7},NumCopies:{defaultValue:1,value:1,type:"integer",explicitSet:!1,valueSet:null,pdfVersion:1.7}},a=Object.keys(o),l=[],u=0,c=0,d=0;function g(b,x){var A,v=!1;for(A=0;A<b.length;A+=1)b[A]===x&&(v=!0);return v}if(this.internal.viewerpreferences===void 0&&(this.internal.viewerpreferences={},this.internal.viewerpreferences.configuration=JSON.parse(JSON.stringify(o)),this.internal.viewerpreferences.isSubscribed=!1),n=this.internal.viewerpreferences.configuration,t==="reset"||e===!0){var m=a.length;for(d=0;d<m;d+=1)n[a[d]].value=n[a[d]].defaultValue,n[a[d]].explicitSet=!1}if(an(t)==="object"){for(i in t)if(s=t[i],g(a,i)&&s!==void 0){if(n[i].type==="boolean"&&typeof s=="boolean")n[i].value=s;else if(n[i].type==="name"&&g(n[i].valueSet,s))n[i].value=s;else if(n[i].type==="integer"&&Number.isInteger(s))n[i].value=s;else if(n[i].type==="array"){for(u=0;u<s.length;u+=1)if(r=!0,s[u].length===1&&typeof s[u][0]=="number")l.push(String(s[u]-1));else if(s[u].length>1){for(c=0;c<s[u].length;c+=1)typeof s[u][c]!="number"&&(r=!1);r===!0&&l.push([s[u][0]-1,s[u][1]-1].join(" "))}n[i].value="["+l.join(" ")+"]"}else n[i].value=n[i].defaultValue;n[i].explicitSet=!0}}return this.internal.viewerpreferences.isSubscribed===!1&&(this.internal.events.subscribe("putCatalog",function(){var b,x=[];for(b in n)n[b].explicitSet===!0&&(n[b].type==="name"?x.push("/"+b+" /"+n[b].value):x.push("/"+b+" "+n[b].value));x.length!==0&&this.internal.write(`/ViewerPreferences
<<
`+x.join(`
`)+`
>>`)}),this.internal.viewerpreferences.isSubscribed=!0),this.internal.viewerpreferences.configuration=n,this},function(t){var e=function(){var r='<rdf:RDF xmlns:rdf="http://www.w3.org/1999/02/22-rdf-syntax-ns#"><rdf:Description rdf:about="" xmlns:jspdf="'+this.internal.__metadata__.namespaceuri+'"><jspdf:metadata>',i=unescape(encodeURIComponent('<x:xmpmeta xmlns:x="adobe:ns:meta/">')),s=unescape(encodeURIComponent(r)),o=unescape(encodeURIComponent(this.internal.__metadata__.metadata)),a=unescape(encodeURIComponent("</jspdf:metadata></rdf:Description></rdf:RDF>")),l=unescape(encodeURIComponent("</x:xmpmeta>")),u=s.length+o.length+a.length+i.length+l.length;this.internal.__metadata__.metadata_object_number=this.internal.newObject(),this.internal.write("<< /Type /Metadata /Subtype /XML /Length "+u+" >>"),this.internal.write("stream"),this.internal.write(i+s+o+a+l),this.internal.write("endstream"),this.internal.write("endobj")},n=function(){this.internal.__metadata__.metadata_object_number&&this.internal.write("/Metadata "+this.internal.__metadata__.metadata_object_number+" 0 R")};t.addMetadata=function(r,i){return this.internal.__metadata__===void 0&&(this.internal.__metadata__={metadata:r,namespaceuri:i||"http://jspdf.default.namespaceuri/"},this.internal.events.subscribe("putCatalog",n),this.internal.events.subscribe("postPutResources",e)),this}}(st.API),function(t){var e=t.API,n=e.pdfEscape16=function(s,o){for(var a,l=o.metadata.Unicode.widths,u=["","0","00","000","0000"],c=[""],d=0,g=s.length;d<g;++d){if(a=o.metadata.characterToGlyph(s.charCodeAt(d)),o.metadata.glyIdsUsed.push(a),o.metadata.toUnicode[a]=s.charCodeAt(d),l.indexOf(a)==-1&&(l.push(a),l.push([parseInt(o.metadata.widthOfGlyph(a),10)])),a=="0")return c.join("");a=a.toString(16),c.push(u[4-a.length],a)}return c.join("")},r=function(s){var o,a,l,u,c,d,g;for(c=`/CIDInit /ProcSet findresource begin
12 dict begin
begincmap
/CIDSystemInfo <<
  /Registry (Adobe)
  /Ordering (UCS)
  /Supplement 0
>> def
/CMapName /Adobe-Identity-UCS def
/CMapType 2 def
1 begincodespacerange
<0000><ffff>
endcodespacerange`,l=[],d=0,g=(a=Object.keys(s).sort(function(m,b){return m-b})).length;d<g;d++)o=a[d],l.length>=100&&(c+=`
`+l.length+` beginbfchar
`+l.join(`
`)+`
endbfchar`,l=[]),s[o]!==void 0&&s[o]!==null&&typeof s[o].toString=="function"&&(u=("0000"+s[o].toString(16)).slice(-4),o=("0000"+(+o).toString(16)).slice(-4),l.push("<"+o+"><"+u+">"));return l.length&&(c+=`
`+l.length+` beginbfchar
`+l.join(`
`)+`
endbfchar
`),c+`endcmap
CMapName currentdict /CMap defineresource pop
end
end`};e.events.push(["putFont",function(s){(function(o){var a=o.font,l=o.out,u=o.newObject,c=o.putStream;if(a.metadata instanceof t.API.TTFFont&&a.encoding==="Identity-H"){for(var d=a.metadata.Unicode.widths,g=a.metadata.subset.encode(a.metadata.glyIdsUsed,1),m="",b=0;b<g.length;b++)m+=String.fromCharCode(g[b]);var x=u();c({data:m,addLength1:!0,objectId:x}),l("endobj");var A=u();c({data:r(a.metadata.toUnicode),addLength1:!0,objectId:A}),l("endobj");var v=u();l("<<"),l("/Type /FontDescriptor"),l("/FontName /"+ju(a.fontName)),l("/FontFile2 "+x+" 0 R"),l("/FontBBox "+t.API.PDFObject.convert(a.metadata.bbox)),l("/Flags "+a.metadata.flags),l("/StemV "+a.metadata.stemV),l("/ItalicAngle "+a.metadata.italicAngle),l("/Ascent "+a.metadata.ascender),l("/Descent "+a.metadata.decender),l("/CapHeight "+a.metadata.capHeight),l(">>"),l("endobj");var _=u();l("<<"),l("/Type /Font"),l("/BaseFont /"+ju(a.fontName)),l("/FontDescriptor "+v+" 0 R"),l("/W "+t.API.PDFObject.convert(d)),l("/CIDToGIDMap /Identity"),l("/DW 1000"),l("/Subtype /CIDFontType2"),l("/CIDSystemInfo"),l("<<"),l("/Supplement 0"),l("/Registry (Adobe)"),l("/Ordering ("+a.encoding+")"),l(">>"),l(">>"),l("endobj"),a.objectNumber=u(),l("<<"),l("/Type /Font"),l("/Subtype /Type0"),l("/ToUnicode "+A+" 0 R"),l("/BaseFont /"+ju(a.fontName)),l("/Encoding /"+a.encoding),l("/DescendantFonts ["+_+" 0 R]"),l(">>"),l("endobj"),a.isAlreadyPutted=!0}})(s)}]),e.events.push(["putFont",function(s){(function(o){var a=o.font,l=o.out,u=o.newObject,c=o.putStream;if(a.metadata instanceof t.API.TTFFont&&a.encoding==="WinAnsiEncoding"){for(var d=a.metadata.rawData,g="",m=0;m<d.length;m++)g+=String.fromCharCode(d[m]);var b=u();c({data:g,addLength1:!0,objectId:b}),l("endobj");var x=u();c({data:r(a.metadata.toUnicode),addLength1:!0,objectId:x}),l("endobj");var A=u();l("<<"),l("/Descent "+a.metadata.decender),l("/CapHeight "+a.metadata.capHeight),l("/StemV "+a.metadata.stemV),l("/Type /FontDescriptor"),l("/FontFile2 "+b+" 0 R"),l("/Flags 96"),l("/FontBBox "+t.API.PDFObject.convert(a.metadata.bbox)),l("/FontName /"+ju(a.fontName)),l("/ItalicAngle "+a.metadata.italicAngle),l("/Ascent "+a.metadata.ascender),l(">>"),l("endobj"),a.objectNumber=u();for(var v=0;v<a.metadata.hmtx.widths.length;v++)a.metadata.hmtx.widths[v]=parseInt(a.metadata.hmtx.widths[v]*(1e3/a.metadata.head.unitsPerEm));l("<</Subtype/TrueType/Type/Font/ToUnicode "+x+" 0 R/BaseFont/"+ju(a.fontName)+"/FontDescriptor "+A+" 0 R/Encoding/"+a.encoding+" /FirstChar 29 /LastChar 255 /Widths "+t.API.PDFObject.convert(a.metadata.hmtx.widths)+">>"),l("endobj"),a.isAlreadyPutted=!0}})(s)}]);var i=function(s){var o,a=s.text||"",l=s.x,u=s.y,c=s.options||{},d=s.mutex||{},g=d.pdfEscape,m=d.activeFontKey,b=d.fonts,x=m,A="",v=0,_="",E=b[x].encoding;if(b[x].encoding!=="Identity-H")return{text:a,x:l,y:u,options:c,mutex:d};for(_=a,x=m,Array.isArray(a)&&(_=a[0]),v=0;v<_.length;v+=1)b[x].metadata.hasOwnProperty("cmap")&&(o=b[x].metadata.cmap.unicode.codeMap[_[v].charCodeAt(0)]),o||_[v].charCodeAt(0)<256&&b[x].metadata.hasOwnProperty("Unicode")?A+=_[v]:A+="";var L="";return parseInt(x.slice(1))<14||E==="WinAnsiEncoding"?L=g(A,x).split("").map(function(z){return z.charCodeAt(0).toString(16)}).join(""):E==="Identity-H"&&(L=n(A,b[x])),d.isHex=!0,{text:L,x:l,y:u,options:c,mutex:d}};e.events.push(["postProcessText",function(s){var o=s.text||"",a=[],l={text:o,x:s.x,y:s.y,options:s.options,mutex:s.mutex};if(Array.isArray(o)){var u=0;for(u=0;u<o.length;u+=1)Array.isArray(o[u])&&o[u].length===3?a.push([i(Object.assign({},l,{text:o[u][0]})).text,o[u][1],o[u][2]]):a.push(i(Object.assign({},l,{text:o[u]})).text);s.text=a}else s.text=i(Object.assign({},l,{text:o})).text}])}(st),function(t){var e=function(){return this.internal.vFS===void 0&&(this.internal.vFS={}),!0};t.existsFileInVFS=function(n){return e.call(this),this.internal.vFS[n]!==void 0},t.addFileToVFS=function(n,r){return e.call(this),this.internal.vFS[n]=r,this},t.getFileFromVFS=function(n){return e.call(this),this.internal.vFS[n]!==void 0?this.internal.vFS[n]:null}}(st.API),function(t){t.__bidiEngine__=t.prototype.__bidiEngine__=function(r){var i,s,o,a,l,u,c,d=e,g=[[0,3,0,1,0,0,0],[0,3,0,1,2,2,0],[0,3,0,17,2,0,1],[0,3,5,5,4,1,0],[0,3,21,21,4,0,1],[0,3,5,5,4,2,0]],m=[[2,0,1,1,0,1,0],[2,0,1,1,0,2,0],[2,0,2,1,3,2,0],[2,0,2,33,3,1,1]],b={L:0,R:1,EN:2,AN:3,N:4,B:5,S:6},x={0:0,5:1,6:2,7:3,32:4,251:5,254:6,255:7},A=["(",")","(","<",">","<","[","]","[","{","}","{","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","",""],v=new RegExp(/^([1-4|9]|1[0-9]|2[0-9]|3[0168]|4[04589]|5[012]|7[78]|159|16[0-9]|17[0-2]|21[569]|22[03489]|250)$/),_=!1,E=0;this.__bidiEngine__={};var L=function(T){var I=T.charCodeAt(),D=I>>8,H=x[D];return H!==void 0?d[256*H+(255&I)]:D===252||D===253?"AL":v.test(D)?"L":D===8?"R":"N"},z=function(T){for(var I,D=0;D<T.length;D++){if((I=L(T.charAt(D)))==="L")return!1;if(I==="R")return!0}return!1},Y=function(T,I,D,H){var ne,ue,ae,ee,se=I[H];switch(se){case"L":case"R":case"LRE":case"RLE":case"LRO":case"RLO":case"PDF":_=!1;break;case"N":case"AN":break;case"EN":_&&(se="AN");break;case"AL":_=!0,se="R";break;case"WS":case"BN":se="N";break;case"CS":H<1||H+1>=I.length||(ne=D[H-1])!=="EN"&&ne!=="AN"||(ue=I[H+1])!=="EN"&&ue!=="AN"?se="N":_&&(ue="AN"),se=ue===ne?ue:"N";break;case"ES":se=(ne=H>0?D[H-1]:"B")==="EN"&&H+1<I.length&&I[H+1]==="EN"?"EN":"N";break;case"ET":if(H>0&&D[H-1]==="EN"){se="EN";break}if(_){se="N";break}for(ae=H+1,ee=I.length;ae<ee&&I[ae]==="ET";)ae++;se=ae<ee&&I[ae]==="EN"?"EN":"N";break;case"NSM":if(o&&!a){for(ee=I.length,ae=H+1;ae<ee&&I[ae]==="NSM";)ae++;if(ae<ee){var ye=T[H],Se=ye>=1425&&ye<=2303||ye===64286;if(ne=I[ae],Se&&(ne==="R"||ne==="AL")){se="R";break}}}se=H<1||(ne=I[H-1])==="B"?"N":D[H-1];break;case"B":_=!1,i=!0,se=E;break;case"S":s=!0,se="N"}return se},R=function(T,I,D){var H=T.split("");return D&&C(H,D,{hiLevel:E}),H.reverse(),I&&I.reverse(),H.join("")},C=function(T,I,D){var H,ne,ue,ae,ee,se=-1,ye=T.length,Se=0,V=[],Q=E?m:g,te=[];for(_=!1,i=!1,s=!1,ne=0;ne<ye;ne++)te[ne]=L(T[ne]);for(ue=0;ue<ye;ue++){if(ee=Se,V[ue]=Y(T,te,V,ue),H=240&(Se=Q[ee][b[V[ue]]]),Se&=15,I[ue]=ae=Q[Se][5],H>0)if(H===16){for(ne=se;ne<ue;ne++)I[ne]=1;se=-1}else se=-1;if(Q[Se][6])se===-1&&(se=ue);else if(se>-1){for(ne=se;ne<ue;ne++)I[ne]=ae;se=-1}te[ue]==="B"&&(I[ue]=0),D.hiLevel|=ae}s&&function(ie,le,ve){for(var Ne=0;Ne<ve;Ne++)if(ie[Ne]==="S"){le[Ne]=E;for(var Ae=Ne-1;Ae>=0&&ie[Ae]==="WS";Ae--)le[Ae]=E}}(te,I,ye)},k=function(T,I,D,H,ne){if(!(ne.hiLevel<T)){if(T===1&&E===1&&!i)return I.reverse(),void(D&&D.reverse());for(var ue,ae,ee,se,ye=I.length,Se=0;Se<ye;){if(H[Se]>=T){for(ee=Se+1;ee<ye&&H[ee]>=T;)ee++;for(se=Se,ae=ee-1;se<ae;se++,ae--)ue=I[se],I[se]=I[ae],I[ae]=ue,D&&(ue=D[se],D[se]=D[ae],D[ae]=ue);Se=ee}Se++}}},M=function(T,I,D){var H=T.split(""),ne={hiLevel:E};return D||(D=[]),C(H,D,ne),function(ue,ae,ee){if(ee.hiLevel!==0&&c)for(var se,ye=0;ye<ue.length;ye++)ae[ye]===1&&(se=A.indexOf(ue[ye]))>=0&&(ue[ye]=A[se+1])}(H,D,ne),k(2,H,I,D,ne),k(1,H,I,D,ne),H.join("")};return this.__bidiEngine__.doBidiReorder=function(T,I,D){if(function(ne,ue){if(ue)for(var ae=0;ae<ne.length;ae++)ue[ae]=ae;a===void 0&&(a=z(ne)),u===void 0&&(u=z(ne))}(T,I),o||!l||u)if(o&&l&&a^u)E=a?1:0,T=R(T,I,D);else if(!o&&l&&u)E=a?1:0,T=M(T,I,D),T=R(T,I);else if(!o||a||l||u){if(o&&!l&&a^u)T=R(T,I),a?(E=0,T=M(T,I,D)):(E=1,T=M(T,I,D),T=R(T,I));else if(o&&a&&!l&&u)E=1,T=M(T,I,D),T=R(T,I);else if(!o&&!l&&a^u){var H=c;a?(E=1,T=M(T,I,D),E=0,c=!1,T=M(T,I,D),c=H):(E=0,T=M(T,I,D),T=R(T,I),E=1,c=!1,T=M(T,I,D),c=H,T=R(T,I))}}else E=0,T=M(T,I,D);else E=a?1:0,T=M(T,I,D);return T},this.__bidiEngine__.setOptions=function(T){T&&(o=T.isInputVisual,l=T.isOutputVisual,a=T.isInputRtl,u=T.isOutputRtl,c=T.isSymmetricSwapping)},this.__bidiEngine__.setOptions(r),this.__bidiEngine__};var e=["BN","BN","BN","BN","BN","BN","BN","BN","BN","S","B","S","WS","B","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","B","B","B","S","WS","N","N","ET","ET","ET","N","N","N","N","N","ES","CS","ES","CS","CS","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","CS","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","BN","BN","BN","BN","BN","BN","B","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","CS","N","ET","ET","ET","ET","N","N","N","N","L","N","N","BN","N","N","ET","ET","EN","EN","N","L","N","N","N","EN","L","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","N","N","N","N","N","ET","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","R","NSM","R","NSM","NSM","R","NSM","NSM","R","NSM","N","N","N","N","N","N","N","N","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","N","N","N","N","N","R","R","R","R","R","N","N","N","N","N","N","N","N","N","N","N","AN","AN","AN","AN","AN","AN","N","N","AL","ET","ET","AL","CS","AL","N","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AL","AL","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AN","AN","AN","AN","AN","AN","AN","AN","AN","AN","ET","AN","AN","AL","AL","AL","NSM","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AN","N","NSM","NSM","NSM","NSM","NSM","NSM","AL","AL","NSM","NSM","N","NSM","NSM","NSM","NSM","AL","AL","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","N","AL","AL","NSM","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AL","N","N","N","N","N","N","N","N","N","N","N","N","N","N","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","R","R","N","N","N","N","R","N","N","N","N","N","WS","WS","WS","WS","WS","WS","WS","WS","WS","WS","WS","BN","BN","BN","L","R","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","WS","B","LRE","RLE","PDF","LRO","RLO","CS","ET","ET","ET","ET","ET","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","CS","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","WS","BN","BN","BN","BN","BN","N","LRI","RLI","FSI","PDI","BN","BN","BN","BN","BN","BN","EN","L","N","N","EN","EN","EN","EN","EN","EN","ES","ES","N","N","N","L","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","ES","ES","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","L","L","L","L","L","L","L","N","N","N","N","N","N","N","N","N","N","N","N","L","L","L","L","L","N","N","N","N","N","R","NSM","R","R","R","R","R","R","R","R","R","R","ES","R","R","R","R","R","R","R","R","R","R","R","R","R","N","R","R","R","R","R","N","R","N","R","R","N","R","R","N","R","R","R","R","R","R","R","R","R","R","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","CS","N","CS","N","N","CS","N","N","N","N","N","N","N","N","N","ET","N","N","ES","ES","N","N","N","N","N","ET","ET","N","N","N","N","N","AL","AL","AL","AL","AL","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","N","N","BN","N","N","N","ET","ET","ET","N","N","N","N","N","ES","CS","ES","CS","CS","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","CS","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","N","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","L","L","L","L","L","L","N","N","L","L","L","L","L","L","N","N","L","L","L","L","L","L","N","N","L","L","L","N","N","N","ET","ET","N","N","N","ET","ET","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N"],n=new t.__bidiEngine__({isInputVisual:!0});t.API.events.push(["postProcessText",function(r){var i=r.text;r.x,r.y;var s=r.options||{};r.mutex,s.lang;var o=[];if(s.isInputVisual=typeof s.isInputVisual!="boolean"||s.isInputVisual,n.setOptions(s),Object.prototype.toString.call(i)==="[object Array]"){var a=0;for(o=[],a=0;a<i.length;a+=1)Object.prototype.toString.call(i[a])==="[object Array]"?o.push([n.doBidiReorder(i[a][0]),i[a][1],i[a][2]]):o.push([n.doBidiReorder(i[a])]);r.text=o}else r.text=n.doBidiReorder(i);n.setOptions({isInputVisual:!0})}])}(st),st.API.TTFFont=function(){function t(e){var n;if(this.rawData=e,n=this.contents=new ll(e),this.contents.pos=4,n.readString(4)==="ttcf")throw new Error("TTCF not supported.");n.pos=0,this.parse(),this.subset=new Zq(this),this.registerTTF()}return t.open=function(e){return new t(e)},t.prototype.parse=function(){return this.directory=new Vq(this.contents),this.head=new Uq(this),this.name=new Wq(this),this.cmap=new pT(this),this.toUnicode={},this.hhea=new zq(this),this.maxp=new Gq(this),this.hmtx=new Kq(this),this.post=new $q(this),this.os2=new qq(this),this.loca=new Jq(this),this.glyf=new Qq(this),this.ascender=this.os2.exists&&this.os2.ascender||this.hhea.ascender,this.decender=this.os2.exists&&this.os2.decender||this.hhea.decender,this.lineGap=this.os2.exists&&this.os2.lineGap||this.hhea.lineGap,this.bbox=[this.head.xMin,this.head.yMin,this.head.xMax,this.head.yMax]},t.prototype.registerTTF=function(){var e,n,r,i,s;if(this.scaleFactor=1e3/this.head.unitsPerEm,this.bbox=(function(){var o,a,l,u;for(u=[],o=0,a=(l=this.bbox).length;o<a;o++)e=l[o],u.push(Math.round(e*this.scaleFactor));return u}).call(this),this.stemV=0,this.post.exists?(r=255&(i=this.post.italic_angle),32768&(n=i>>16)&&(n=-(1+(65535^n))),this.italicAngle=+(n+"."+r)):this.italicAngle=0,this.ascender=Math.round(this.ascender*this.scaleFactor),this.decender=Math.round(this.decender*this.scaleFactor),this.lineGap=Math.round(this.lineGap*this.scaleFactor),this.capHeight=this.os2.exists&&this.os2.capHeight||this.ascender,this.xHeight=this.os2.exists&&this.os2.xHeight||0,this.familyClass=(this.os2.exists&&this.os2.familyClass||0)>>8,this.isSerif=(s=this.familyClass)===1||s===2||s===3||s===4||s===5||s===7,this.isScript=this.familyClass===10,this.flags=0,this.post.isFixedPitch&&(this.flags|=1),this.isSerif&&(this.flags|=2),this.isScript&&(this.flags|=8),this.italicAngle!==0&&(this.flags|=64),this.flags|=32,!this.cmap.unicode)throw new Error("No unicode cmap for font")},t.prototype.characterToGlyph=function(e){var n;return((n=this.cmap.unicode)!=null?n.codeMap[e]:void 0)||0},t.prototype.widthOfGlyph=function(e){var n;return n=1e3/this.head.unitsPerEm,this.hmtx.forGlyph(e).advance*n},t.prototype.widthOfString=function(e,n,r){var i,s,o,a;for(o=0,s=0,a=(e=""+e).length;0<=a?s<a:s>a;s=0<=a?++s:--s)i=e.charCodeAt(s),o+=this.widthOfGlyph(this.characterToGlyph(i))+r*(1e3/n)||0;return o*(n/1e3)},t.prototype.lineHeight=function(e,n){var r;return n==null&&(n=!1),r=n?this.lineGap:0,(this.ascender+r-this.decender)/1e3*e},t}();var $s,ll=function(){function t(e){this.data=e??[],this.pos=0,this.length=this.data.length}return t.prototype.readByte=function(){return this.data[this.pos++]},t.prototype.writeByte=function(e){return this.data[this.pos++]=e},t.prototype.readUInt32=function(){return 16777216*this.readByte()+(this.readByte()<<16)+(this.readByte()<<8)+this.readByte()},t.prototype.writeUInt32=function(e){return this.writeByte(e>>>24&255),this.writeByte(e>>16&255),this.writeByte(e>>8&255),this.writeByte(255&e)},t.prototype.readInt32=function(){var e;return(e=this.readUInt32())>=2147483648?e-4294967296:e},t.prototype.writeInt32=function(e){return e<0&&(e+=4294967296),this.writeUInt32(e)},t.prototype.readUInt16=function(){return this.readByte()<<8|this.readByte()},t.prototype.writeUInt16=function(e){return this.writeByte(e>>8&255),this.writeByte(255&e)},t.prototype.readInt16=function(){var e;return(e=this.readUInt16())>=32768?e-65536:e},t.prototype.writeInt16=function(e){return e<0&&(e+=65536),this.writeUInt16(e)},t.prototype.readString=function(e){var n,r;for(r=[],n=0;0<=e?n<e:n>e;n=0<=e?++n:--n)r[n]=String.fromCharCode(this.readByte());return r.join("")},t.prototype.writeString=function(e){var n,r,i;for(i=[],n=0,r=e.length;0<=r?n<r:n>r;n=0<=r?++n:--n)i.push(this.writeByte(e.charCodeAt(n)));return i},t.prototype.readShort=function(){return this.readInt16()},t.prototype.writeShort=function(e){return this.writeInt16(e)},t.prototype.readLongLong=function(){var e,n,r,i,s,o,a,l;return e=this.readByte(),n=this.readByte(),r=this.readByte(),i=this.readByte(),s=this.readByte(),o=this.readByte(),a=this.readByte(),l=this.readByte(),128&e?-1*(72057594037927940*(255^e)+281474976710656*(255^n)+1099511627776*(255^r)+4294967296*(255^i)+16777216*(255^s)+65536*(255^o)+256*(255^a)+(255^l)+1):72057594037927940*e+281474976710656*n+1099511627776*r+4294967296*i+16777216*s+65536*o+256*a+l},t.prototype.writeLongLong=function(e){var n,r;return n=Math.floor(e/4294967296),r=4294967295&e,this.writeByte(n>>24&255),this.writeByte(n>>16&255),this.writeByte(n>>8&255),this.writeByte(255&n),this.writeByte(r>>24&255),this.writeByte(r>>16&255),this.writeByte(r>>8&255),this.writeByte(255&r)},t.prototype.readInt=function(){return this.readInt32()},t.prototype.writeInt=function(e){return this.writeInt32(e)},t.prototype.read=function(e){var n,r;for(n=[],r=0;0<=e?r<e:r>e;r=0<=e?++r:--r)n.push(this.readByte());return n},t.prototype.write=function(e){var n,r,i,s;for(s=[],r=0,i=e.length;r<i;r++)n=e[r],s.push(this.writeByte(n));return s},t}(),Vq=function(){var t;function e(n){var r,i,s;for(this.scalarType=n.readInt(),this.tableCount=n.readShort(),this.searchRange=n.readShort(),this.entrySelector=n.readShort(),this.rangeShift=n.readShort(),this.tables={},i=0,s=this.tableCount;0<=s?i<s:i>s;i=0<=s?++i:--i)r={tag:n.readString(4),checksum:n.readInt(),offset:n.readInt(),length:n.readInt()},this.tables[r.tag]=r}return e.prototype.encode=function(n){var r,i,s,o,a,l,u,c,d,g,m,b,x;for(x in m=Object.keys(n).length,l=Math.log(2),d=16*Math.floor(Math.log(m)/l),o=Math.floor(d/l),c=16*m-d,(i=new ll).writeInt(this.scalarType),i.writeShort(m),i.writeShort(d),i.writeShort(o),i.writeShort(c),s=16*m,u=i.pos+s,a=null,b=[],n)for(g=n[x],i.writeString(x),i.writeInt(t(g)),i.writeInt(u),i.writeInt(g.length),b=b.concat(g),x==="head"&&(a=u),u+=g.length;u%4;)b.push(0),u++;return i.write(b),r=2981146554-t(i.data),i.pos=a+8,i.writeUInt32(r),i.data},t=function(n){var r,i,s,o;for(n=mT.call(n);n.length%4;)n.push(0);for(s=new ll(n),i=0,r=0,o=n.length;r<o;r=r+=4)i+=s.readUInt32();return 4294967295&i},e}(),Bq={}.hasOwnProperty,So=function(t,e){for(var n in e)Bq.call(e,n)&&(t[n]=e[n]);function r(){this.constructor=t}return r.prototype=e.prototype,t.prototype=new r,t.__super__=e.prototype,t};$s=function(){function t(e){var n;this.file=e,n=this.file.directory.tables[this.tag],this.exists=!!n,n&&(this.offset=n.offset,this.length=n.length,this.parse(this.file.contents))}return t.prototype.parse=function(){},t.prototype.encode=function(){},t.prototype.raw=function(){return this.exists?(this.file.contents.pos=this.offset,this.file.contents.read(this.length)):null},t}();var Uq=function(){function t(){return t.__super__.constructor.apply(this,arguments)}return So(t,$s),t.prototype.tag="head",t.prototype.parse=function(e){return e.pos=this.offset,this.version=e.readInt(),this.revision=e.readInt(),this.checkSumAdjustment=e.readInt(),this.magicNumber=e.readInt(),this.flags=e.readShort(),this.unitsPerEm=e.readShort(),this.created=e.readLongLong(),this.modified=e.readLongLong(),this.xMin=e.readShort(),this.yMin=e.readShort(),this.xMax=e.readShort(),this.yMax=e.readShort(),this.macStyle=e.readShort(),this.lowestRecPPEM=e.readShort(),this.fontDirectionHint=e.readShort(),this.indexToLocFormat=e.readShort(),this.glyphDataFormat=e.readShort()},t.prototype.encode=function(e){var n;return(n=new ll).writeInt(this.version),n.writeInt(this.revision),n.writeInt(this.checkSumAdjustment),n.writeInt(this.magicNumber),n.writeShort(this.flags),n.writeShort(this.unitsPerEm),n.writeLongLong(this.created),n.writeLongLong(this.modified),n.writeShort(this.xMin),n.writeShort(this.yMin),n.writeShort(this.xMax),n.writeShort(this.yMax),n.writeShort(this.macStyle),n.writeShort(this.lowestRecPPEM),n.writeShort(this.fontDirectionHint),n.writeShort(e),n.writeShort(this.glyphDataFormat),n.data},t}(),d_=function(){function t(e,n){var r,i,s,o,a,l,u,c,d,g,m,b,x,A,v,_,E;switch(this.platformID=e.readUInt16(),this.encodingID=e.readShort(),this.offset=n+e.readInt(),d=e.pos,e.pos=this.offset,this.format=e.readUInt16(),this.length=e.readUInt16(),this.language=e.readUInt16(),this.isUnicode=this.platformID===3&&this.encodingID===1&&this.format===4||this.platformID===0&&this.format===4,this.codeMap={},this.format){case 0:for(l=0;l<256;++l)this.codeMap[l]=e.readByte();break;case 4:for(m=e.readUInt16(),g=m/2,e.pos+=6,s=function(){var L,z;for(z=[],l=L=0;0<=g?L<g:L>g;l=0<=g?++L:--L)z.push(e.readUInt16());return z}(),e.pos+=2,x=function(){var L,z;for(z=[],l=L=0;0<=g?L<g:L>g;l=0<=g?++L:--L)z.push(e.readUInt16());return z}(),u=function(){var L,z;for(z=[],l=L=0;0<=g?L<g:L>g;l=0<=g?++L:--L)z.push(e.readUInt16());return z}(),c=function(){var L,z;for(z=[],l=L=0;0<=g?L<g:L>g;l=0<=g?++L:--L)z.push(e.readUInt16());return z}(),i=(this.length-e.pos+this.offset)/2,a=function(){var L,z;for(z=[],l=L=0;0<=i?L<i:L>i;l=0<=i?++L:--L)z.push(e.readUInt16());return z}(),l=v=0,E=s.length;v<E;l=++v)for(A=s[l],r=_=b=x[l];b<=A?_<=A:_>=A;r=b<=A?++_:--_)c[l]===0?o=r+u[l]:(o=a[c[l]/2+(r-b)-(g-l)]||0)!==0&&(o+=u[l]),this.codeMap[r]=65535&o}e.pos=d}return t.encode=function(e,n){var r,i,s,o,a,l,u,c,d,g,m,b,x,A,v,_,E,L,z,Y,R,C,k,M,T,I,D,H,ne,ue,ae,ee,se,ye,Se,V,Q,te,ie,le,ve,Ne,Ae,he,be,pe;switch(H=new ll,o=Object.keys(e).sort(function(Ee,fe){return Ee-fe}),n){case"macroman":for(x=0,A=function(){var Ee=[];for(b=0;b<256;++b)Ee.push(0);return Ee}(),_={0:0},s={},ne=0,se=o.length;ne<se;ne++)_[Ae=e[i=o[ne]]]==null&&(_[Ae]=++x),s[i]={old:e[i],new:_[e[i]]},A[i]=_[e[i]];return H.writeUInt16(1),H.writeUInt16(0),H.writeUInt32(12),H.writeUInt16(0),H.writeUInt16(262),H.writeUInt16(0),H.write(A),{charMap:s,subtable:H.data,maxGlyphID:x+1};case"unicode":for(I=[],d=[],E=0,_={},r={},v=u=null,ue=0,ye=o.length;ue<ye;ue++)_[z=e[i=o[ue]]]==null&&(_[z]=++E),r[i]={old:z,new:_[z]},a=_[z]-i,v!=null&&a===u||(v&&d.push(v),I.push(i),u=a),v=i;for(v&&d.push(v),d.push(65535),I.push(65535),M=2*(k=I.length),C=2*Math.pow(Math.log(k)/Math.LN2,2),g=Math.log(C/2)/Math.LN2,R=2*k-C,l=[],Y=[],m=[],b=ae=0,Se=I.length;ae<Se;b=++ae){if(T=I[b],c=d[b],T===65535){l.push(0),Y.push(0);break}if(T-(D=r[T].new)>=32768)for(l.push(0),Y.push(2*(m.length+k-b)),i=ee=T;T<=c?ee<=c:ee>=c;i=T<=c?++ee:--ee)m.push(r[i].new);else l.push(D-T),Y.push(0)}for(H.writeUInt16(3),H.writeUInt16(1),H.writeUInt32(12),H.writeUInt16(4),H.writeUInt16(16+8*k+2*m.length),H.writeUInt16(0),H.writeUInt16(M),H.writeUInt16(C),H.writeUInt16(g),H.writeUInt16(R),ve=0,V=d.length;ve<V;ve++)i=d[ve],H.writeUInt16(i);for(H.writeUInt16(0),Ne=0,Q=I.length;Ne<Q;Ne++)i=I[Ne],H.writeUInt16(i);for(he=0,te=l.length;he<te;he++)a=l[he],H.writeUInt16(a);for(be=0,ie=Y.length;be<ie;be++)L=Y[be],H.writeUInt16(L);for(pe=0,le=m.length;pe<le;pe++)x=m[pe],H.writeUInt16(x);return{charMap:r,subtable:H.data,maxGlyphID:E+1}}},t}(),pT=function(){function t(){return t.__super__.constructor.apply(this,arguments)}return So(t,$s),t.prototype.tag="cmap",t.prototype.parse=function(e){var n,r,i;for(e.pos=this.offset,this.version=e.readUInt16(),i=e.readUInt16(),this.tables=[],this.unicode=null,r=0;0<=i?r<i:r>i;r=0<=i?++r:--r)n=new d_(e,this.offset),this.tables.push(n),n.isUnicode&&this.unicode==null&&(this.unicode=n);return!0},t.encode=function(e,n){var r,i;return n==null&&(n="macroman"),r=d_.encode(e,n),(i=new ll).writeUInt16(0),i.writeUInt16(1),r.table=i.data.concat(r.subtable),r},t}(),zq=function(){function t(){return t.__super__.constructor.apply(this,arguments)}return So(t,$s),t.prototype.tag="hhea",t.prototype.parse=function(e){return e.pos=this.offset,this.version=e.readInt(),this.ascender=e.readShort(),this.decender=e.readShort(),this.lineGap=e.readShort(),this.advanceWidthMax=e.readShort(),this.minLeftSideBearing=e.readShort(),this.minRightSideBearing=e.readShort(),this.xMaxExtent=e.readShort(),this.caretSlopeRise=e.readShort(),this.caretSlopeRun=e.readShort(),this.caretOffset=e.readShort(),e.pos+=8,this.metricDataFormat=e.readShort(),this.numberOfMetrics=e.readUInt16()},t}(),qq=function(){function t(){return t.__super__.constructor.apply(this,arguments)}return So(t,$s),t.prototype.tag="OS/2",t.prototype.parse=function(e){if(e.pos=this.offset,this.version=e.readUInt16(),this.averageCharWidth=e.readShort(),this.weightClass=e.readUInt16(),this.widthClass=e.readUInt16(),this.type=e.readShort(),this.ySubscriptXSize=e.readShort(),this.ySubscriptYSize=e.readShort(),this.ySubscriptXOffset=e.readShort(),this.ySubscriptYOffset=e.readShort(),this.ySuperscriptXSize=e.readShort(),this.ySuperscriptYSize=e.readShort(),this.ySuperscriptXOffset=e.readShort(),this.ySuperscriptYOffset=e.readShort(),this.yStrikeoutSize=e.readShort(),this.yStrikeoutPosition=e.readShort(),this.familyClass=e.readShort(),this.panose=function(){var n,r;for(r=[],n=0;n<10;++n)r.push(e.readByte());return r}(),this.charRange=function(){var n,r;for(r=[],n=0;n<4;++n)r.push(e.readInt());return r}(),this.vendorID=e.readString(4),this.selection=e.readShort(),this.firstCharIndex=e.readShort(),this.lastCharIndex=e.readShort(),this.version>0&&(this.ascent=e.readShort(),this.descent=e.readShort(),this.lineGap=e.readShort(),this.winAscent=e.readShort(),this.winDescent=e.readShort(),this.codePageRange=function(){var n,r;for(r=[],n=0;n<2;n=++n)r.push(e.readInt());return r}(),this.version>1))return this.xHeight=e.readShort(),this.capHeight=e.readShort(),this.defaultChar=e.readShort(),this.breakChar=e.readShort(),this.maxContext=e.readShort()},t}(),$q=function(){function t(){return t.__super__.constructor.apply(this,arguments)}return So(t,$s),t.prototype.tag="post",t.prototype.parse=function(e){var n,r,i;switch(e.pos=this.offset,this.format=e.readInt(),this.italicAngle=e.readInt(),this.underlinePosition=e.readShort(),this.underlineThickness=e.readShort(),this.isFixedPitch=e.readInt(),this.minMemType42=e.readInt(),this.maxMemType42=e.readInt(),this.minMemType1=e.readInt(),this.maxMemType1=e.readInt(),this.format){case 65536:case 196608:break;case 131072:var s;for(r=e.readUInt16(),this.glyphNameIndex=[],s=0;0<=r?s<r:s>r;s=0<=r?++s:--s)this.glyphNameIndex.push(e.readUInt16());for(this.names=[],i=[];e.pos<this.offset+this.length;)n=e.readByte(),i.push(this.names.push(e.readString(n)));return i;case 151552:return r=e.readUInt16(),this.offsets=e.read(r);case 262144:return this.map=(function(){var o,a,l;for(l=[],s=o=0,a=this.file.maxp.numGlyphs;0<=a?o<a:o>a;s=0<=a?++o:--o)l.push(e.readUInt32());return l}).call(this)}},t}(),Hq=function(t,e){this.raw=t,this.length=t.length,this.platformID=e.platformID,this.encodingID=e.encodingID,this.languageID=e.languageID},Wq=function(){function t(){return t.__super__.constructor.apply(this,arguments)}return So(t,$s),t.prototype.tag="name",t.prototype.parse=function(e){var n,r,i,s,o,a,l,u,c,d,g;for(e.pos=this.offset,e.readShort(),n=e.readShort(),a=e.readShort(),r=[],s=0;0<=n?s<n:s>n;s=0<=n?++s:--s)r.push({platformID:e.readShort(),encodingID:e.readShort(),languageID:e.readShort(),nameID:e.readShort(),length:e.readShort(),offset:this.offset+a+e.readShort()});for(l={},s=c=0,d=r.length;c<d;s=++c)i=r[s],e.pos=i.offset,u=e.readString(i.length),o=new Hq(u,i),l[g=i.nameID]==null&&(l[g]=[]),l[i.nameID].push(o);this.strings=l,this.copyright=l[0],this.fontFamily=l[1],this.fontSubfamily=l[2],this.uniqueSubfamily=l[3],this.fontName=l[4],this.version=l[5];try{this.postscriptName=l[6][0].raw.replace(/[\x00-\x19\x80-\xff]/g,"")}catch{this.postscriptName=l[4][0].raw.replace(/[\x00-\x19\x80-\xff]/g,"")}return this.trademark=l[7],this.manufacturer=l[8],this.designer=l[9],this.description=l[10],this.vendorUrl=l[11],this.designerUrl=l[12],this.license=l[13],this.licenseUrl=l[14],this.preferredFamily=l[15],this.preferredSubfamily=l[17],this.compatibleFull=l[18],this.sampleText=l[19]},t}(),Gq=function(){function t(){return t.__super__.constructor.apply(this,arguments)}return So(t,$s),t.prototype.tag="maxp",t.prototype.parse=function(e){return e.pos=this.offset,this.version=e.readInt(),this.numGlyphs=e.readUInt16(),this.maxPoints=e.readUInt16(),this.maxContours=e.readUInt16(),this.maxCompositePoints=e.readUInt16(),this.maxComponentContours=e.readUInt16(),this.maxZones=e.readUInt16(),this.maxTwilightPoints=e.readUInt16(),this.maxStorage=e.readUInt16(),this.maxFunctionDefs=e.readUInt16(),this.maxInstructionDefs=e.readUInt16(),this.maxStackElements=e.readUInt16(),this.maxSizeOfInstructions=e.readUInt16(),this.maxComponentElements=e.readUInt16(),this.maxComponentDepth=e.readUInt16()},t}(),Kq=function(){function t(){return t.__super__.constructor.apply(this,arguments)}return So(t,$s),t.prototype.tag="hmtx",t.prototype.parse=function(e){var n,r,i,s,o,a,l;for(e.pos=this.offset,this.metrics=[],n=0,a=this.file.hhea.numberOfMetrics;0<=a?n<a:n>a;n=0<=a?++n:--n)this.metrics.push({advance:e.readUInt16(),lsb:e.readInt16()});for(i=this.file.maxp.numGlyphs-this.file.hhea.numberOfMetrics,this.leftSideBearings=function(){var u,c;for(c=[],n=u=0;0<=i?u<i:u>i;n=0<=i?++u:--u)c.push(e.readInt16());return c}(),this.widths=(function(){var u,c,d,g;for(g=[],u=0,c=(d=this.metrics).length;u<c;u++)s=d[u],g.push(s.advance);return g}).call(this),r=this.widths[this.widths.length-1],l=[],n=o=0;0<=i?o<i:o>i;n=0<=i?++o:--o)l.push(this.widths.push(r));return l},t.prototype.forGlyph=function(e){return e in this.metrics?this.metrics[e]:{advance:this.metrics[this.metrics.length-1].advance,lsb:this.leftSideBearings[e-this.metrics.length]}},t}(),mT=[].slice,Qq=function(){function t(){return t.__super__.constructor.apply(this,arguments)}return So(t,$s),t.prototype.tag="glyf",t.prototype.parse=function(){return this.cache={}},t.prototype.glyphFor=function(e){var n,r,i,s,o,a,l,u,c,d;return e in this.cache?this.cache[e]:(s=this.file.loca,n=this.file.contents,r=s.indexOf(e),(i=s.lengthOf(e))===0?this.cache[e]=null:(n.pos=this.offset+r,o=(a=new ll(n.read(i))).readShort(),u=a.readShort(),d=a.readShort(),l=a.readShort(),c=a.readShort(),this.cache[e]=o===-1?new Xq(a,u,d,l,c):new Yq(a,o,u,d,l,c),this.cache[e]))},t.prototype.encode=function(e,n,r){var i,s,o,a,l;for(o=[],s=[],a=0,l=n.length;a<l;a++)i=e[n[a]],s.push(o.length),i&&(o=o.concat(i.encode(r)));return s.push(o.length),{table:o,offsets:s}},t}(),Yq=function(){function t(e,n,r,i,s,o){this.raw=e,this.numberOfContours=n,this.xMin=r,this.yMin=i,this.xMax=s,this.yMax=o,this.compound=!1}return t.prototype.encode=function(){return this.raw.data},t}(),Xq=function(){function t(e,n,r,i,s){var o,a;for(this.raw=e,this.xMin=n,this.yMin=r,this.xMax=i,this.yMax=s,this.compound=!0,this.glyphIDs=[],this.glyphOffsets=[],o=this.raw;a=o.readShort(),this.glyphOffsets.push(o.pos),this.glyphIDs.push(o.readUInt16()),32&a;)o.pos+=1&a?4:2,128&a?o.pos+=8:64&a?o.pos+=4:8&a&&(o.pos+=2)}return t.prototype.encode=function(){var e,n,r;for(n=new ll(mT.call(this.raw.data)),e=0,r=this.glyphIDs.length;e<r;++e)n.pos=this.glyphOffsets[e];return n.data},t}(),Jq=function(){function t(){return t.__super__.constructor.apply(this,arguments)}return So(t,$s),t.prototype.tag="loca",t.prototype.parse=function(e){var n,r;return e.pos=this.offset,n=this.file.head.indexToLocFormat,this.offsets=n===0?(function(){var i,s;for(s=[],r=0,i=this.length;r<i;r+=2)s.push(2*e.readUInt16());return s}).call(this):(function(){var i,s;for(s=[],r=0,i=this.length;r<i;r+=4)s.push(e.readUInt32());return s}).call(this)},t.prototype.indexOf=function(e){return this.offsets[e]},t.prototype.lengthOf=function(e){return this.offsets[e+1]-this.offsets[e]},t.prototype.encode=function(e,n){for(var r=new Uint32Array(this.offsets.length),i=0,s=0,o=0;o<r.length;++o)if(r[o]=i,s<n.length&&n[s]==o){++s,r[o]=i;var a=this.offsets[o],l=this.offsets[o+1]-a;l>0&&(i+=l)}for(var u=new Array(4*r.length),c=0;c<r.length;++c)u[4*c+3]=255&r[c],u[4*c+2]=(65280&r[c])>>8,u[4*c+1]=(16711680&r[c])>>16,u[4*c]=(4278190080&r[c])>>24;return u},t}(),Zq=function(){function t(e){this.font=e,this.subset={},this.unicodes={},this.next=33}return t.prototype.generateCmap=function(){var e,n,r,i,s;for(n in i=this.font.cmap.tables[0].codeMap,e={},s=this.subset)r=s[n],e[n]=i[r];return e},t.prototype.glyphsFor=function(e){var n,r,i,s,o,a,l;for(i={},o=0,a=e.length;o<a;o++)i[s=e[o]]=this.font.glyf.glyphFor(s);for(s in n=[],i)(r=i[s])!=null&&r.compound&&n.push.apply(n,r.glyphIDs);if(n.length>0)for(s in l=this.glyphsFor(n))r=l[s],i[s]=r;return i},t.prototype.encode=function(e,n){var r,i,s,o,a,l,u,c,d,g,m,b,x,A,v;for(i in r=pT.encode(this.generateCmap(),"unicode"),o=this.glyphsFor(e),m={0:0},v=r.charMap)m[(l=v[i]).old]=l.new;for(b in g=r.maxGlyphID,o)b in m||(m[b]=g++);return c=function(_){var E,L;for(E in L={},_)L[_[E]]=E;return L}(m),d=Object.keys(c).sort(function(_,E){return _-E}),x=function(){var _,E,L;for(L=[],_=0,E=d.length;_<E;_++)a=d[_],L.push(c[a]);return L}(),s=this.font.glyf.encode(o,x,m),u=this.font.loca.encode(s.offsets,x),A={cmap:this.font.cmap.raw(),glyf:s.table,loca:u,hmtx:this.font.hmtx.raw(),hhea:this.font.hhea.raw(),maxp:this.font.maxp.raw(),post:this.font.post.raw(),name:this.font.name.raw(),head:this.font.head.encode(n)},this.font.os2.exists&&(A["OS/2"]=this.font.os2.raw()),this.font.directory.encode(A)},t}();st.API.PDFObject=function(){var t;function e(){}return t=function(n,r){return(Array(r+1).join("0")+n).slice(-r)},e.convert=function(n){var r,i,s,o;if(Array.isArray(n))return"["+function(){var a,l,u;for(u=[],a=0,l=n.length;a<l;a++)r=n[a],u.push(e.convert(r));return u}().join(" ")+"]";if(typeof n=="string")return"/"+n;if(n!=null&&n.isString)return"("+n+")";if(n instanceof Date)return"(D:"+t(n.getUTCFullYear(),4)+t(n.getUTCMonth(),2)+t(n.getUTCDate(),2)+t(n.getUTCHours(),2)+t(n.getUTCMinutes(),2)+t(n.getUTCSeconds(),2)+"Z)";if({}.toString.call(n)==="[object Object]"){for(i in s=["<<"],n)o=n[i],s.push("/"+i+" "+e.convert(o));return s.push(">>"),s.join(`
`)}return""+n},e}();function gT(t,e,n,r,i){r=r||{};var s=1.15,o=i.internal.scaleFactor,a=i.internal.getFontSize()/o,l=i.getLineHeightFactor?i.getLineHeightFactor():s,u=a*l,c=/\r\n|\r|\n/g,d="",g=1;if((r.valign==="middle"||r.valign==="bottom"||r.halign==="center"||r.halign==="right")&&(d=typeof t=="string"?t.split(c):t,g=d.length||1),n+=a*(2-s),r.valign==="middle"?n-=g/2*u:r.valign==="bottom"&&(n-=g*u),r.halign==="center"||r.halign==="right"){var m=a;if(r.halign==="center"&&(m*=.5),d&&g>=1){for(var b=0;b<d.length;b++)i.text(d[b],e-i.getStringUnitWidth(d[b])*m,n),n+=u;return i}e-=i.getStringUnitWidth(t)*m}return r.halign==="justify"?i.text(t,e,n,{maxWidth:r.maxWidth||100,align:"justify"}):i.text(t,e,n),i}var p_={},fc=function(){function t(e){this.jsPDFDocument=e,this.userStyles={textColor:e.getTextColor?this.jsPDFDocument.getTextColor():0,fontSize:e.internal.getFontSize(),fontStyle:e.internal.getFont().fontStyle,font:e.internal.getFont().fontName,lineWidth:e.getLineWidth?this.jsPDFDocument.getLineWidth():0,lineColor:e.getDrawColor?this.jsPDFDocument.getDrawColor():0}}return t.setDefaults=function(e,n){n===void 0&&(n=null),n?n.__autoTableDocumentDefaults=e:p_=e},t.unifyColor=function(e){return Array.isArray(e)?e:typeof e=="number"?[e,e,e]:typeof e=="string"?[e]:null},t.prototype.applyStyles=function(e,n){var r,i,s;n===void 0&&(n=!1),e.fontStyle&&this.jsPDFDocument.setFontStyle&&this.jsPDFDocument.setFontStyle(e.fontStyle);var o=this.jsPDFDocument.internal.getFont(),a=o.fontStyle,l=o.fontName;if(e.font&&(l=e.font),e.fontStyle){a=e.fontStyle;var u=this.getFontList()[l];u&&u.indexOf(a)===-1&&this.jsPDFDocument.setFontStyle&&(this.jsPDFDocument.setFontStyle(u[0]),a=u[0])}if(this.jsPDFDocument.setFont(l,a),e.fontSize&&this.jsPDFDocument.setFontSize(e.fontSize),!n){var c=t.unifyColor(e.fillColor);c&&(r=this.jsPDFDocument).setFillColor.apply(r,c),c=t.unifyColor(e.textColor),c&&(i=this.jsPDFDocument).setTextColor.apply(i,c),c=t.unifyColor(e.lineColor),c&&(s=this.jsPDFDocument).setDrawColor.apply(s,c),typeof e.lineWidth=="number"&&this.jsPDFDocument.setLineWidth(e.lineWidth)}},t.prototype.splitTextToSize=function(e,n,r){return this.jsPDFDocument.splitTextToSize(e,n,r)},t.prototype.rect=function(e,n,r,i,s){return this.jsPDFDocument.rect(e,n,r,i,s)},t.prototype.getLastAutoTable=function(){return this.jsPDFDocument.lastAutoTable||null},t.prototype.getTextWidth=function(e){return this.jsPDFDocument.getTextWidth(e)},t.prototype.getDocument=function(){return this.jsPDFDocument},t.prototype.setPage=function(e){this.jsPDFDocument.setPage(e)},t.prototype.addPage=function(){return this.jsPDFDocument.addPage()},t.prototype.getFontList=function(){return this.jsPDFDocument.getFontList()},t.prototype.getGlobalOptions=function(){return p_||{}},t.prototype.getDocumentOptions=function(){return this.jsPDFDocument.__autoTableDocumentDefaults||{}},t.prototype.pageSize=function(){var e=this.jsPDFDocument.internal.pageSize;return e.width==null&&(e={width:e.getWidth(),height:e.getHeight()}),e},t.prototype.scaleFactor=function(){return this.jsPDFDocument.internal.scaleFactor},t.prototype.getLineHeightFactor=function(){var e=this.jsPDFDocument;return e.getLineHeightFactor?e.getLineHeightFactor():1.15},t.prototype.getLineHeight=function(e){return e/this.scaleFactor()*this.getLineHeightFactor()},t.prototype.pageNumber=function(){var e=this.jsPDFDocument.internal.getCurrentPageInfo();return e?e.pageNumber:this.jsPDFDocument.internal.getNumberOfPages()},t}(),iy=function(t,e){return iy=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,r){n.__proto__=r}||function(n,r){for(var i in r)Object.prototype.hasOwnProperty.call(r,i)&&(n[i]=r[i])},iy(t,e)};function yT(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");iy(t,e);function n(){this.constructor=t}t.prototype=e===null?Object.create(e):(n.prototype=e.prototype,new n)}var vT=function(t){yT(e,t);function e(n){var r=t.call(this)||this;return r._element=n,r}return e}(Array);function e$(t){return{font:"helvetica",fontStyle:"normal",overflow:"linebreak",fillColor:!1,textColor:20,halign:"left",valign:"top",fontSize:10,cellPadding:5/t,lineColor:200,lineWidth:0,cellWidth:"auto",minCellHeight:0,minCellWidth:0}}function t$(t){var e={striped:{table:{fillColor:255,textColor:80,fontStyle:"normal"},head:{textColor:255,fillColor:[41,128,185],fontStyle:"bold"},body:{},foot:{textColor:255,fillColor:[41,128,185],fontStyle:"bold"},alternateRow:{fillColor:245}},grid:{table:{fillColor:255,textColor:80,fontStyle:"normal",lineWidth:.1},head:{textColor:255,fillColor:[26,188,156],fontStyle:"bold",lineWidth:0},body:{},foot:{textColor:255,fillColor:[26,188,156],fontStyle:"bold",lineWidth:0},alternateRow:{}},plain:{head:{fontStyle:"bold"},foot:{fontStyle:"bold"}}};return e[t]}function Lm(t,e,n){n.applyStyles(e,!0);var r=Array.isArray(t)?t:[t],i=r.map(function(s){return n.getTextWidth(s)}).reduce(function(s,o){return Math.max(s,o)},0);return i}function wT(t,e,n,r){var i=e.settings.tableLineWidth,s=e.settings.tableLineColor;t.applyStyles({lineWidth:i,lineColor:s});var o=xT(i,!1);o&&t.rect(n.x,n.y,e.getWidth(t.pageSize().width),r.y-n.y,o)}function xT(t,e){var n=t>0,r=e||e===0;return n&&r?"DF":n?"S":r?"F":null}function w0(t,e){var n,r,i,s;if(t=t||e,Array.isArray(t)){if(t.length>=4)return{top:t[0],right:t[1],bottom:t[2],left:t[3]};if(t.length===3)return{top:t[0],right:t[1],bottom:t[2],left:t[1]};if(t.length===2)return{top:t[0],right:t[1],bottom:t[0],left:t[1]};t.length===1?t=t[0]:t=e}return typeof t=="object"?(typeof t.vertical=="number"&&(t.top=t.vertical,t.bottom=t.vertical),typeof t.horizontal=="number"&&(t.right=t.horizontal,t.left=t.horizontal),{left:(n=t.left)!==null&&n!==void 0?n:e,top:(r=t.top)!==null&&r!==void 0?r:e,right:(i=t.right)!==null&&i!==void 0?i:e,bottom:(s=t.bottom)!==null&&s!==void 0?s:e}):(typeof t!="number"&&(t=e),{top:t,right:t,bottom:t,left:t})}function bT(t,e){var n=w0(e.settings.margin,0);return t.pageSize().width-(n.left+n.right)}function n$(t,e,n,r,i){var s={},o=1.3333333333333333,a=n1(e,function(E){return i.getComputedStyle(E).backgroundColor});a!=null&&(s.fillColor=a);var l=n1(e,function(E){return i.getComputedStyle(E).color});l!=null&&(s.textColor=l);var u=i$(r,n);u&&(s.cellPadding=u);var c="borderTopColor",d=o*n,g=r.borderTopWidth;if(r.borderBottomWidth===g&&r.borderRightWidth===g&&r.borderLeftWidth===g){var m=(parseFloat(g)||0)/d;m&&(s.lineWidth=m)}else s.lineWidth={top:(parseFloat(r.borderTopWidth)||0)/d,right:(parseFloat(r.borderRightWidth)||0)/d,bottom:(parseFloat(r.borderBottomWidth)||0)/d,left:(parseFloat(r.borderLeftWidth)||0)/d},s.lineWidth.top||(s.lineWidth.right?c="borderRightColor":s.lineWidth.bottom?c="borderBottomColor":s.lineWidth.left&&(c="borderLeftColor"));var b=n1(e,function(E){return i.getComputedStyle(E)[c]});b!=null&&(s.lineColor=b);var x=["left","right","center","justify"];x.indexOf(r.textAlign)!==-1&&(s.halign=r.textAlign),x=["middle","bottom","top"],x.indexOf(r.verticalAlign)!==-1&&(s.valign=r.verticalAlign);var A=parseInt(r.fontSize||"");isNaN(A)||(s.fontSize=A/o);var v=r$(r);v&&(s.fontStyle=v);var _=(r.fontFamily||"").toLowerCase();return t.indexOf(_)!==-1&&(s.font=_),s}function r$(t){var e="";return(t.fontWeight==="bold"||t.fontWeight==="bolder"||parseInt(t.fontWeight)>=700)&&(e="bold"),(t.fontStyle==="italic"||t.fontStyle==="oblique")&&(e+="italic"),e}function n1(t,e){var n=_T(t,e);if(!n)return null;var r=n.match(/^rgba?\((\d+),\s*(\d+),\s*(\d+)(?:,\s*(\d*\.?\d*))?\)$/);if(!r||!Array.isArray(r))return null;var i=[parseInt(r[1]),parseInt(r[2]),parseInt(r[3])],s=parseInt(r[4]);return s===0||isNaN(i[0])||isNaN(i[1])||isNaN(i[2])?null:i}function _T(t,e){var n=e(t);return n==="rgba(0, 0, 0, 0)"||n==="transparent"||n==="initial"||n==="inherit"?t.parentElement==null?null:_T(t.parentElement,e):n}function i$(t,e){var n=[t.paddingTop,t.paddingRight,t.paddingBottom,t.paddingLeft],r=96/(72/e),i=(parseInt(t.lineHeight)-parseInt(t.fontSize))/e/2,s=n.map(function(a){return parseInt(a||"0")/r}),o=w0(s,0);return i>o.top&&(o.top=i),i>o.bottom&&(o.bottom=i),o}function ST(t,e,n,r,i){var s,o;r===void 0&&(r=!1),i===void 0&&(i=!1);var a;typeof e=="string"?a=n.document.querySelector(e):a=e;var l=Object.keys(t.getFontList()),u=t.scaleFactor(),c=[],d=[],g=[];if(!a)return console.error("Html table could not be found with input: ",e),{head:c,body:d,foot:g};for(var m=0;m<a.rows.length;m++){var b=a.rows[m],x=(o=(s=b==null?void 0:b.parentElement)===null||s===void 0?void 0:s.tagName)===null||o===void 0?void 0:o.toLowerCase(),A=s$(l,u,n,b,r,i);A&&(x==="thead"?c.push(A):x==="tfoot"?g.push(A):d.push(A))}return{head:c,body:d,foot:g}}function s$(t,e,n,r,i,s){for(var o=new vT(r),a=0;a<r.cells.length;a++){var l=r.cells[a],u=n.getComputedStyle(l);if(i||u.display!=="none"){var c=void 0;s&&(c=n$(t,l,e,u,n)),o.push({rowSpan:l.rowSpan,colSpan:l.colSpan,styles:c,_element:l,content:o$(l)})}}var d=n.getComputedStyle(r);if(o.length>0&&(i||d.display!=="none"))return o}function o$(t){var e=t.cloneNode(!0);return e.innerHTML=e.innerHTML.replace(/\n/g,"").replace(/ +/g," "),e.innerHTML=e.innerHTML.split(/<br.*?>/).map(function(n){return n.trim()}).join(`
`),e.innerText||e.textContent||""}function a$(t,e,n){for(var r=0,i=[t,e,n];r<i.length;r++){var s=i[r];s&&typeof s!="object"&&console.error("The options parameter should be of type object, is: "+typeof s),s.startY&&typeof s.startY!="number"&&(console.error("Invalid value for startY option",s.startY),delete s.startY)}}function Ho(t,e,n,r,i){if(t==null)throw new TypeError("Cannot convert undefined or null to object");for(var s=Object(t),o=1;o<arguments.length;o++){var a=arguments[o];if(a!=null)for(var l in a)Object.prototype.hasOwnProperty.call(a,l)&&(s[l]=a[l])}return s}function AT(t,e){var n=new fc(t),r=n.getDocumentOptions(),i=n.getGlobalOptions();a$(i,r,e);var s=Ho({},i,r,e),o;typeof window<"u"&&(o=window);var a=l$(i,r,e),l=u$(i,r,e),u=c$(n,s),c=f$(n,s,o);return{id:e.tableId,content:c,hooks:l,styles:a,settings:u}}function l$(t,e,n){for(var r={styles:{},headStyles:{},bodyStyles:{},footStyles:{},alternateRowStyles:{},columnStyles:{}},i=function(l){if(l==="columnStyles"){var u=t[l],c=e[l],d=n[l];r.columnStyles=Ho({},u,c,d)}else{var g=[t,e,n],m=g.map(function(b){return b[l]||{}});r[l]=Ho({},m[0],m[1],m[2])}},s=0,o=Object.keys(r);s<o.length;s++){var a=o[s];i(a)}return r}function u$(t,e,n){for(var r=[t,e,n],i={didParseCell:[],willDrawCell:[],didDrawCell:[],willDrawPage:[],didDrawPage:[]},s=0,o=r;s<o.length;s++){var a=o[s];a.didParseCell&&i.didParseCell.push(a.didParseCell),a.willDrawCell&&i.willDrawCell.push(a.willDrawCell),a.didDrawCell&&i.didDrawCell.push(a.didDrawCell),a.willDrawPage&&i.willDrawPage.push(a.willDrawPage),a.didDrawPage&&i.didDrawPage.push(a.didDrawPage)}return i}function c$(t,e){var n,r,i,s,o,a,l,u,c,d,g,m,b=w0(e.margin,40/t.scaleFactor()),x=(n=h$(t,e.startY))!==null&&n!==void 0?n:b.top,A;e.showFoot===!0?A="everyPage":e.showFoot===!1?A="never":A=(r=e.showFoot)!==null&&r!==void 0?r:"everyPage";var v;e.showHead===!0?v="everyPage":e.showHead===!1?v="never":v=(i=e.showHead)!==null&&i!==void 0?i:"everyPage";var _=(s=e.useCss)!==null&&s!==void 0?s:!1,E=e.theme||(_?"plain":"striped"),L=!!e.horizontalPageBreak,z=(o=e.horizontalPageBreakRepeat)!==null&&o!==void 0?o:null;return{includeHiddenHtml:(a=e.includeHiddenHtml)!==null&&a!==void 0?a:!1,useCss:_,theme:E,startY:x,margin:b,pageBreak:(l=e.pageBreak)!==null&&l!==void 0?l:"auto",rowPageBreak:(u=e.rowPageBreak)!==null&&u!==void 0?u:"auto",tableWidth:(c=e.tableWidth)!==null&&c!==void 0?c:"auto",showHead:v,showFoot:A,tableLineWidth:(d=e.tableLineWidth)!==null&&d!==void 0?d:0,tableLineColor:(g=e.tableLineColor)!==null&&g!==void 0?g:200,horizontalPageBreak:L,horizontalPageBreakRepeat:z,horizontalPageBreakBehaviour:(m=e.horizontalPageBreakBehaviour)!==null&&m!==void 0?m:"afterAllRows"}}function h$(t,e){var n=t.getLastAutoTable(),r=t.scaleFactor(),i=t.pageNumber(),s=!1;if(n&&n.startPageNumber){var o=n.startPageNumber+n.pageNumber-1;s=o===i}return typeof e=="number"?e:(e==null||e===!1)&&s&&(n==null?void 0:n.finalY)!=null?n.finalY+20/r:null}function f$(t,e,n){var r=e.head||[],i=e.body||[],s=e.foot||[];if(e.html){var o=e.includeHiddenHtml;if(n){var a=ST(t,e.html,n,o,e.useCss)||{};r=a.head||r,i=a.body||r,s=a.foot||r}else console.error("Cannot parse html in non browser environment")}var l=e.columns||d$(r,i,s);return{columns:l,head:r,body:i,foot:s}}function d$(t,e,n){var r=t[0]||e[0]||n[0]||[],i=[];return Object.keys(r).filter(function(s){return s!=="_element"}).forEach(function(s){var o=1,a;Array.isArray(r)?a=r[parseInt(s)]:a=r[s],typeof a=="object"&&!Array.isArray(a)&&(o=(a==null?void 0:a.colSpan)||1);for(var l=0;l<o;l++){var u=void 0;Array.isArray(r)?u=i.length:u=s+(l>0?"_".concat(l):"");var c={dataKey:u};i.push(c)}}),i}var sy=function(){function t(e,n,r){this.table=n,this.pageNumber=n.pageNumber,this.settings=n.settings,this.cursor=r,this.doc=e.getDocument()}return t}(),p$=function(t){yT(e,t);function e(n,r,i,s,o,a){var l=t.call(this,n,r,a)||this;return l.cell=i,l.row=s,l.column=o,l.section=s.section,l}return e}(sy),m$=function(){function t(e,n){this.pageNumber=1,this.id=e.id,this.settings=e.settings,this.styles=e.styles,this.hooks=e.hooks,this.columns=n.columns,this.head=n.head,this.body=n.body,this.foot=n.foot}return t.prototype.getHeadHeight=function(e){return this.head.reduce(function(n,r){return n+r.getMaxCellHeight(e)},0)},t.prototype.getFootHeight=function(e){return this.foot.reduce(function(n,r){return n+r.getMaxCellHeight(e)},0)},t.prototype.allRows=function(){return this.head.concat(this.body).concat(this.foot)},t.prototype.callCellHooks=function(e,n,r,i,s,o){for(var a=0,l=n;a<l.length;a++){var u=l[a],c=new p$(e,this,r,i,s,o),d=u(c)===!1;if(r.text=Array.isArray(r.text)?r.text:[r.text],d)return!1}return!0},t.prototype.callEndPageHooks=function(e,n){e.applyStyles(e.userStyles);for(var r=0,i=this.hooks.didDrawPage;r<i.length;r++){var s=i[r];s(new sy(e,this,n))}},t.prototype.callWillDrawPageHooks=function(e,n){for(var r=0,i=this.hooks.willDrawPage;r<i.length;r++){var s=i[r];s(new sy(e,this,n))}},t.prototype.getWidth=function(e){if(typeof this.settings.tableWidth=="number")return this.settings.tableWidth;if(this.settings.tableWidth==="wrap"){var n=this.columns.reduce(function(i,s){return i+s.wrappedWidth},0);return n}else{var r=this.settings.margin;return e-r.left-r.right}},t}(),NT=function(){function t(e,n,r,i,s){s===void 0&&(s=!1),this.height=0,this.raw=e,e instanceof vT&&(this.raw=e._element,this.element=e._element),this.index=n,this.section=r,this.cells=i,this.spansMultiplePages=s}return t.prototype.getMaxCellHeight=function(e){var n=this;return e.reduce(function(r,i){var s;return Math.max(r,((s=n.cells[i.index])===null||s===void 0?void 0:s.height)||0)},0)},t.prototype.hasRowSpan=function(e){var n=this;return e.filter(function(r){var i=n.cells[r.index];return i?i.rowSpan>1:!1}).length>0},t.prototype.canEntireRowFit=function(e,n){return this.getMaxCellHeight(n)<=e},t.prototype.getMinimumRowHeight=function(e,n){var r=this;return e.reduce(function(i,s){var o=r.cells[s.index];if(!o)return 0;var a=n.getLineHeight(o.styles.fontSize),l=o.padding("vertical"),u=l+a;return u>i?u:i},0)},t}(),ET=function(){function t(e,n,r){var i;this.contentHeight=0,this.contentWidth=0,this.wrappedWidth=0,this.minReadableWidth=0,this.minWidth=0,this.width=0,this.height=0,this.x=0,this.y=0,this.styles=n,this.section=r,this.raw=e;var s=e;e!=null&&typeof e=="object"&&!Array.isArray(e)?(this.rowSpan=e.rowSpan||1,this.colSpan=e.colSpan||1,s=(i=e.content)!==null&&i!==void 0?i:e,e._element&&(this.raw=e._element)):(this.rowSpan=1,this.colSpan=1);var o=s!=null?""+s:"",a=/\r\n|\r|\n/g;this.text=o.split(a)}return t.prototype.getTextPos=function(){var e;if(this.styles.valign==="top")e=this.y+this.padding("top");else if(this.styles.valign==="bottom")e=this.y+this.height-this.padding("bottom");else{var n=this.height-this.padding("vertical");e=this.y+n/2+this.padding("top")}var r;if(this.styles.halign==="right")r=this.x+this.width-this.padding("right");else if(this.styles.halign==="center"){var i=this.width-this.padding("horizontal");r=this.x+i/2+this.padding("left")}else r=this.x+this.padding("left");return{x:r,y:e}},t.prototype.getContentHeight=function(e,n){n===void 0&&(n=1.15);var r=Array.isArray(this.text)?this.text.length:1,i=this.styles.fontSize/e*n,s=r*i+this.padding("vertical");return Math.max(s,this.styles.minCellHeight)},t.prototype.padding=function(e){var n=w0(this.styles.cellPadding,0);return e==="vertical"?n.top+n.bottom:e==="horizontal"?n.left+n.right:n[e]},t}(),g$=function(){function t(e,n,r){this.wrappedWidth=0,this.minReadableWidth=0,this.minWidth=0,this.width=0,this.dataKey=e,this.raw=n,this.index=r}return t.prototype.getMaxCustomCellWidth=function(e){for(var n=0,r=0,i=e.allRows();r<i.length;r++){var s=i[r],o=s.cells[this.index];o&&typeof o.styles.cellWidth=="number"&&(n=Math.max(n,o.styles.cellWidth))}return n},t}();function y$(t,e){v$(t,e);var n=[],r=0;e.columns.forEach(function(s){var o=s.getMaxCustomCellWidth(e);o?s.width=o:(s.width=s.wrappedWidth,n.push(s)),r+=s.width});var i=e.getWidth(t.pageSize().width)-r;i&&(i=oy(n,i,function(s){return Math.max(s.minReadableWidth,s.minWidth)})),i&&(i=oy(n,i,function(s){return s.minWidth})),i=Math.abs(i),!e.settings.horizontalPageBreak&&i>.1/t.scaleFactor()&&(i=i<1?i:Math.round(i),console.warn("Of the table content, ".concat(i," units width could not fit page"))),x$(e),b$(e,t),w$(e)}function v$(t,e){var n=t.scaleFactor(),r=e.settings.horizontalPageBreak,i=bT(t,e);e.allRows().forEach(function(s){for(var o=0,a=e.columns;o<a.length;o++){var l=a[o],u=s.cells[l.index];if(u){var c=e.hooks.didParseCell;e.callCellHooks(t,c,u,s,l,null);var d=u.padding("horizontal");u.contentWidth=Lm(u.text,u.styles,t)+d;var g=Lm(u.text.join(" ").split(/[^\S\u00A0]+/),u.styles,t);if(u.minReadableWidth=g+u.padding("horizontal"),typeof u.styles.cellWidth=="number")u.minWidth=u.styles.cellWidth,u.wrappedWidth=u.styles.cellWidth;else if(u.styles.cellWidth==="wrap"||r===!0)u.contentWidth>i?(u.minWidth=i,u.wrappedWidth=i):(u.minWidth=u.contentWidth,u.wrappedWidth=u.contentWidth);else{var m=10/n;u.minWidth=u.styles.minCellWidth||m,u.wrappedWidth=u.contentWidth,u.minWidth>u.wrappedWidth&&(u.wrappedWidth=u.minWidth)}}}}),e.allRows().forEach(function(s){for(var o=0,a=e.columns;o<a.length;o++){var l=a[o],u=s.cells[l.index];if(u&&u.colSpan===1)l.wrappedWidth=Math.max(l.wrappedWidth,u.wrappedWidth),l.minWidth=Math.max(l.minWidth,u.minWidth),l.minReadableWidth=Math.max(l.minReadableWidth,u.minReadableWidth);else{var c=e.styles.columnStyles[l.dataKey]||e.styles.columnStyles[l.index]||{},d=c.cellWidth||c.minCellWidth;d&&typeof d=="number"&&(l.minWidth=d,l.wrappedWidth=d)}u&&(u.colSpan>1&&!l.minWidth&&(l.minWidth=u.minWidth),u.colSpan>1&&!l.wrappedWidth&&(l.wrappedWidth=u.minWidth))}})}function oy(t,e,n){for(var r=e,i=t.reduce(function(m,b){return m+b.wrappedWidth},0),s=0;s<t.length;s++){var o=t[s],a=o.wrappedWidth/i,l=r*a,u=o.width+l,c=n(o),d=u<c?c:u;e-=d-o.width,o.width=d}if(e=Math.round(e*1e10)/1e10,e){var g=t.filter(function(m){return e<0?m.width>n(m):!0});g.length&&(e=oy(g,e,n))}return e}function w$(t){for(var e={},n=1,r=t.allRows(),i=0;i<r.length;i++)for(var s=r[i],o=0,a=t.columns;o<a.length;o++){var l=a[o],u=e[l.index];if(n>1)n--,delete s.cells[l.index];else if(u)u.cell.height+=s.height,n=u.cell.colSpan,delete s.cells[l.index],u.left--,u.left<=1&&delete e[l.index];else{var c=s.cells[l.index];if(!c)continue;if(c.height=s.height,c.rowSpan>1){var d=r.length-i,g=c.rowSpan>d?d:c.rowSpan;e[l.index]={cell:c,left:g,row:s}}}}}function x$(t){for(var e=t.allRows(),n=0;n<e.length;n++)for(var r=e[n],i=null,s=0,o=0,a=0;a<t.columns.length;a++){var l=t.columns[a];if(o-=1,o>1&&t.columns[a+1])s+=l.width,delete r.cells[l.index];else if(i){var u=i;delete r.cells[l.index],i=null,u.width=l.width+s}else{var u=r.cells[l.index];if(!u)continue;if(o=u.colSpan,s=0,u.colSpan>1){i=u,s+=l.width;continue}u.width=l.width+s}}}function b$(t,e){for(var n={count:0,height:0},r=0,i=t.allRows();r<i.length;r++){for(var s=i[r],o=0,a=t.columns;o<a.length;o++){var l=a[o],u=s.cells[l.index];if(u){e.applyStyles(u.styles,!0);var c=u.width-u.padding("horizontal");if(u.styles.overflow==="linebreak")u.text=e.splitTextToSize(u.text,c+1/e.scaleFactor(),{fontSize:u.styles.fontSize});else if(u.styles.overflow==="ellipsize")u.text=m_(u.text,c,u.styles,e,"...");else if(u.styles.overflow==="hidden")u.text=m_(u.text,c,u.styles,e,"");else if(typeof u.styles.overflow=="function"){var d=u.styles.overflow(u.text,c);typeof d=="string"?u.text=[d]:u.text=d}u.contentHeight=u.getContentHeight(e.scaleFactor(),e.getLineHeightFactor());var g=u.contentHeight/u.rowSpan;u.rowSpan>1&&n.count*n.height<g*u.rowSpan?n={height:g,count:u.rowSpan}:n&&n.count>0&&n.height>g&&(g=n.height),g>s.height&&(s.height=g)}}n.count--}}function m_(t,e,n,r,i){return t.map(function(s){return _$(s,e,n,r,i)})}function _$(t,e,n,r,i){var s=1e4*r.scaleFactor();if(e=Math.ceil(e*s)/s,e>=Lm(t,n,r))return t;for(;e<Lm(t+i,n,r)&&!(t.length<=1);)t=t.substring(0,t.length-1);return t.trim()+i}function TT(t,e){var n=new fc(t),r=S$(e,n.scaleFactor()),i=new m$(e,r);return y$(n,i),n.applyStyles(n.userStyles),i}function S$(t,e){var n=t.content,r=N$(n.columns);if(n.head.length===0){var i=g_(r,"head");i&&n.head.push(i)}if(n.foot.length===0){var i=g_(r,"foot");i&&n.foot.push(i)}var s=t.settings.theme,o=t.styles;return{columns:r,head:r1("head",n.head,r,o,s,e),body:r1("body",n.body,r,o,s,e),foot:r1("foot",n.foot,r,o,s,e)}}function r1(t,e,n,r,i,s){var o={},a=e.map(function(l,u){for(var c=0,d={},g=0,m=0,b=0,x=n;b<x.length;b++){var A=x[b];if(o[A.index]==null||o[A.index].left===0)if(m===0){var v=void 0;Array.isArray(l)?v=l[A.index-g-c]:v=l[A.dataKey];var _={};typeof v=="object"&&!Array.isArray(v)&&(_=(v==null?void 0:v.styles)||{});var E=E$(t,A,u,i,r,s,_),L=new ET(v,E,t);d[A.dataKey]=L,d[A.index]=L,m=L.colSpan-1,o[A.index]={left:L.rowSpan-1,times:m}}else m--,g++;else o[A.index].left--,m=o[A.index].times,c++}return new NT(l,u,t,d)});return a}function g_(t,e){var n={};return t.forEach(function(r){if(r.raw!=null){var i=A$(e,r.raw);i!=null&&(n[r.dataKey]=i)}}),Object.keys(n).length>0?n:null}function A$(t,e){if(t==="head"){if(typeof e=="object")return e.header||null;if(typeof e=="string"||typeof e=="number")return e}else if(t==="foot"&&typeof e=="object")return e.footer;return null}function N$(t){return t.map(function(e,n){var r,i;return typeof e=="object"?i=(r=e.dataKey)!==null&&r!==void 0?r:n:i=n,new g$(i,e,n)})}function E$(t,e,n,r,i,s,o){var a=t$(r),l;t==="head"?l=i.headStyles:t==="body"?l=i.bodyStyles:t==="foot"&&(l=i.footStyles);var u=Ho({},a.table,a[t],i.styles,l),c=i.columnStyles[e.dataKey]||i.columnStyles[e.index]||{},d=t==="body"?c:{},g=t==="body"&&n%2===0?Ho({},a.alternateRow,i.alternateRowStyles):{},m=e$(s),b=Ho({},m,u,g,d);return Ho(b,o)}function T$(t,e,n){var r;n===void 0&&(n={});var i=bT(t,e),s=new Map,o=[],a=[],l=[];Array.isArray(e.settings.horizontalPageBreakRepeat)?l=e.settings.horizontalPageBreakRepeat:(typeof e.settings.horizontalPageBreakRepeat=="string"||typeof e.settings.horizontalPageBreakRepeat=="number")&&(l=[e.settings.horizontalPageBreakRepeat]),l.forEach(function(g){var m=e.columns.find(function(b){return b.dataKey===g||b.index===g});m&&!s.has(m.index)&&(s.set(m.index,!0),o.push(m.index),a.push(e.columns[m.index]),i-=m.wrappedWidth)});for(var u=!0,c=(r=n==null?void 0:n.start)!==null&&r!==void 0?r:0;c<e.columns.length;){if(s.has(c)){c++;continue}var d=e.columns[c].wrappedWidth;if(u||i>=d)u=!1,o.push(c),a.push(e.columns[c]),i-=d;else break;c++}return{colIndexes:o,columns:a,lastIndex:c-1}}function C$(t,e){for(var n=[],r=0;r<e.columns.length;r++){var i=T$(t,e,{start:r});i.columns.length&&(n.push(i),r=i.lastIndex)}return n}function CT(t,e){var n=e.settings,r=n.startY,i=n.margin,s={x:i.left,y:r},o=e.getHeadHeight(e.columns)+e.getFootHeight(e.columns),a=r+i.bottom+o;if(n.pageBreak==="avoid"){var l=e.body,u=l.reduce(function(g,m){return g+m.height},0);a+=u}var c=new fc(t);(n.pageBreak==="always"||n.startY!=null&&a>c.pageSize().height)&&(kT(c),s.y=i.top),e.callWillDrawPageHooks(c,s);var d=Ho({},s);e.startPageNumber=c.pageNumber(),n.horizontalPageBreak?P$(c,e,d,s):(c.applyStyles(c.userStyles),(n.showHead==="firstPage"||n.showHead==="everyPage")&&e.head.forEach(function(g){return ra(c,e,g,s,e.columns)}),c.applyStyles(c.userStyles),e.body.forEach(function(g,m){var b=m===e.body.length-1;Rm(c,e,g,b,d,s,e.columns)}),c.applyStyles(c.userStyles),(n.showFoot==="lastPage"||n.showFoot==="everyPage")&&e.foot.forEach(function(g){return ra(c,e,g,s,e.columns)})),wT(c,e,d,s),e.callEndPageHooks(c,s),e.finalY=s.y,t.lastAutoTable=e,c.applyStyles(c.userStyles)}function P$(t,e,n,r){var i=C$(t,e),s=e.settings;if(s.horizontalPageBreakBehaviour==="afterAllRows")i.forEach(function(u,c){t.applyStyles(t.userStyles),c>0?Jh(t,e,n,r,u.columns,!0):y_(t,e,r,u.columns),k$(t,e,n,r,u.columns),i1(t,e,r,u.columns)});else for(var o=-1,a=i[0],l=function(){var u=o;if(a){t.applyStyles(t.userStyles);var c=a.columns;o>=0?Jh(t,e,n,r,c,!0):y_(t,e,r,c),u=v_(t,e,o+1,r,c),i1(t,e,r,c)}var d=u-o;i.slice(1).forEach(function(g){t.applyStyles(t.userStyles),Jh(t,e,n,r,g.columns,!0),v_(t,e,o+1,r,g.columns,d),i1(t,e,r,g.columns)}),o=u};o<e.body.length-1;)l()}function y_(t,e,n,r){var i=e.settings;t.applyStyles(t.userStyles),(i.showHead==="firstPage"||i.showHead==="everyPage")&&e.head.forEach(function(s){return ra(t,e,s,n,r)})}function k$(t,e,n,r,i){t.applyStyles(t.userStyles),e.body.forEach(function(s,o){var a=o===e.body.length-1;Rm(t,e,s,a,n,r,i)})}function v_(t,e,n,r,i,s){t.applyStyles(t.userStyles),s=s??e.body.length;var o=Math.min(n+s,e.body.length),a=-1;return e.body.slice(n,o).forEach(function(l,u){var c=n+u===e.body.length-1,d=PT(t,e,c,r);l.canEntireRowFit(d,i)&&(ra(t,e,l,r,i),a=n+u)}),a}function i1(t,e,n,r){var i=e.settings;t.applyStyles(t.userStyles),(i.showFoot==="lastPage"||i.showFoot==="everyPage")&&e.foot.forEach(function(s){return ra(t,e,s,n,r)})}function I$(t,e,n){var r=n.getLineHeight(t.styles.fontSize),i=t.padding("vertical"),s=Math.floor((e-i)/r);return Math.max(0,s)}function L$(t,e,n,r){var i={};t.spansMultiplePages=!0,t.height=0;for(var s=0,o=0,a=n.columns;o<a.length;o++){var l=a[o],u=t.cells[l.index];if(u){Array.isArray(u.text)||(u.text=[u.text]);var c=new ET(u.raw,u.styles,u.section);c=Ho(c,u),c.text=[];var d=I$(u,e,r);u.text.length>d&&(c.text=u.text.splice(d,u.text.length));var g=r.scaleFactor(),m=r.getLineHeightFactor();u.contentHeight=u.getContentHeight(g,m),u.contentHeight>=e&&(u.contentHeight=e,c.styles.minCellHeight-=e),u.contentHeight>t.height&&(t.height=u.contentHeight),c.contentHeight=c.getContentHeight(g,m),c.contentHeight>s&&(s=c.contentHeight),i[l.index]=c}}var b=new NT(t.raw,-1,t.section,i,!0);b.height=s;for(var x=0,A=n.columns;x<A.length;x++){var l=A[x],c=b.cells[l.index];c&&(c.height=b.height);var u=t.cells[l.index];u&&(u.height=t.height)}return b}function R$(t,e,n,r){var i=t.pageSize().height,s=r.settings.margin,o=s.top+s.bottom,a=i-o;e.section==="body"&&(a-=r.getHeadHeight(r.columns)+r.getFootHeight(r.columns));var l=e.getMinimumRowHeight(r.columns,t),u=l<n;if(l>a)return console.error("Will not be able to print row ".concat(e.index," correctly since it's minimum height is larger than page height")),!0;if(!u)return!1;var c=e.hasRowSpan(r.columns),d=e.getMaxCellHeight(r.columns)>a;return d?(c&&console.error("The content of row ".concat(e.index," will not be drawn correctly since drawing rows with a height larger than the page height and has cells with rowspans is not supported.")),!0):!(c||r.settings.rowPageBreak==="avoid")}function Rm(t,e,n,r,i,s,o){var a=PT(t,e,r,s);if(n.canEntireRowFit(a,o))ra(t,e,n,s,o);else if(R$(t,n,a,e)){var l=L$(n,a,e,t);ra(t,e,n,s,o),Jh(t,e,i,s,o),Rm(t,e,l,r,i,s,o)}else Jh(t,e,i,s,o),Rm(t,e,n,r,i,s,o)}function ra(t,e,n,r,i){r.x=e.settings.margin.left;for(var s=0,o=i;s<o.length;s++){var a=o[s],l=n.cells[a.index];if(!l){r.x+=a.width;continue}t.applyStyles(l.styles),l.x=r.x,l.y=r.y;var u=e.callCellHooks(t,e.hooks.willDrawCell,l,n,a,r);if(u===!1){r.x+=a.width;continue}j$(t,l,r);var c=l.getTextPos();gT(l.text,c.x,c.y,{halign:l.styles.halign,valign:l.styles.valign,maxWidth:Math.ceil(l.width-l.padding("left")-l.padding("right"))},t.getDocument()),e.callCellHooks(t,e.hooks.didDrawCell,l,n,a,r),r.x+=a.width}r.y+=n.height}function j$(t,e,n){var r=e.styles;if(t.getDocument().setFillColor(t.getDocument().getFillColor()),typeof r.lineWidth=="number"){var i=xT(r.lineWidth,r.fillColor);i&&t.rect(e.x,n.y,e.width,e.height,i)}else typeof r.lineWidth=="object"&&(r.fillColor&&t.rect(e.x,n.y,e.width,e.height,"F"),D$(t,e,n,r.lineWidth))}function D$(t,e,n,r){var i,s,o,a;r.top&&(i=n.x,s=n.y,o=n.x+e.width,a=n.y,r.right&&(o+=.5*r.right),r.left&&(i-=.5*r.left),l(r.top,i,s,o,a)),r.bottom&&(i=n.x,s=n.y+e.height,o=n.x+e.width,a=n.y+e.height,r.right&&(o+=.5*r.right),r.left&&(i-=.5*r.left),l(r.bottom,i,s,o,a)),r.left&&(i=n.x,s=n.y,o=n.x,a=n.y+e.height,r.top&&(s-=.5*r.top),r.bottom&&(a+=.5*r.bottom),l(r.left,i,s,o,a)),r.right&&(i=n.x+e.width,s=n.y,o=n.x+e.width,a=n.y+e.height,r.top&&(s-=.5*r.top),r.bottom&&(a+=.5*r.bottom),l(r.right,i,s,o,a));function l(u,c,d,g,m){t.getDocument().setLineWidth(u),t.getDocument().line(c,d,g,m,"S")}}function PT(t,e,n,r){var i=e.settings.margin.bottom,s=e.settings.showFoot;return(s==="everyPage"||s==="lastPage"&&n)&&(i+=e.getFootHeight(e.columns)),t.pageSize().height-r.y-i}function Jh(t,e,n,r,i,s){i===void 0&&(i=[]),s===void 0&&(s=!1),t.applyStyles(t.userStyles),e.settings.showFoot==="everyPage"&&!s&&e.foot.forEach(function(a){return ra(t,e,a,r,i)}),e.callEndPageHooks(t,r);var o=e.settings.margin;wT(t,e,n,r),kT(t),e.pageNumber++,r.x=o.left,r.y=o.top,n.y=o.top,e.callWillDrawPageHooks(t,r),e.settings.showHead==="everyPage"&&(e.head.forEach(function(a){return ra(t,e,a,r,i)}),t.applyStyles(t.userStyles))}function kT(t){var e=t.pageNumber();t.setPage(e+1);var n=t.pageNumber();return n===e?(t.addPage(),!0):!1}function M$(t){t.API.autoTable=function(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];var r=e[0],i=AT(this,r),s=TT(this,i);return CT(this,s),this},t.API.lastAutoTable=!1,t.API.autoTableText=function(e,n,r,i){gT(e,n,r,i,this)},t.API.autoTableSetDefaults=function(e){return fc.setDefaults(e,this),this},t.autoTableSetDefaults=function(e,n){fc.setDefaults(e,n)},t.API.autoTableHtmlToJson=function(e,n){var r;if(n===void 0&&(n=!1),typeof window>"u")return console.error("Cannot run autoTableHtmlToJson in non browser environment"),null;var i=new fc(this),s=ST(i,e,window,n,!1),o=s.head,a=s.body,l=((r=o[0])===null||r===void 0?void 0:r.map(function(u){return u.content}))||[];return{columns:l,rows:a,data:a}}}var s1;function F$(t,e){var n=AT(t,e),r=TT(t,n);CT(t,r)}try{if(typeof window<"u"&&window){var w_=window,x_=w_.jsPDF||((s1=w_.jspdf)===null||s1===void 0?void 0:s1.jsPDF);x_&&M$(x_)}}catch(t){console.error("Could not apply autoTable plugin",t)}const O$=()=>{const[t,e]=G.useState(!0),[n,r]=G.useState(""),[i,s]=G.useState(""),[o,a]=G.useState([]),[l,u]=G.useState(!1),[c,d]=G.useState(null),g=G.useRef(null),m=G.useRef(null),b=G.useRef(null),x=R=>R?(R instanceof Date?R:new Date(R)).toLocaleDateString("en-CA"):"-",A=R=>R?(R instanceof Date?R:new Date(R)).toLocaleTimeString("en-IN",{hour:"2-digit",minute:"2-digit"}):"-";G.useEffect(()=>{(async()=>{const C=await sa();if(d(C||{}),n&&i){u(!0);try{const M=(await Cf(new Date(n),new Date(i))).map(T=>({...T,table:T.tableName||"-",servedBy:T.staffName||"-",total:T.subTotal||0,discount:T.discount||0,grandTotal:T.grandTotal||0}));a(M)}catch(k){console.error("Error fetching sales:",k)}u(!1)}})()},[n,i]);const v=o.reduce((R,C)=>(R.total+=C.total,R.discount+=C.discount,R.grandTotal+=C.grandTotal,R),{total:0,discount:0,grandTotal:0}),_="",E=()=>{if(!g.current.value||!m.current.value){alert("Please select both a start and end date.");return}r(g.current.value),s(m.current.value),e(!1)},L=R=>{R.key==="Enter"&&(R.preventDefault(),m.current.focus())},z=R=>{R.key==="Enter"&&(R.preventDefault(),b.current.click())},Y=()=>{if(o.length===0){alert("No data available to export.");return}const R=new st,C=R.internal.pageSize.height||R.internal.pageSize.getHeight(),k=R.internal.pageSize.width||R.internal.pageSize.getWidth(),M=(c==null?void 0:c.restaurantName)||"SyncServe Restaurant",T=new Date().toLocaleString("en-IN",{year:"numeric",month:"long",day:"numeric",hour:"2-digit",minute:"2-digit"});R.setFontSize(20),R.setFont("helvetica","bold"),R.text(M,k/2,20,{align:"center"}),R.setFontSize(12),R.setFont("helvetica","normal"),R.text("Sales Report",k/2,28,{align:"center"}),R.setFontSize(10),R.setTextColor(100),R.text(`Date Range: ${n} to ${i}`,14,40),R.text(`Generated on: ${T}`,k-14,40,{align:"right"});const I=o.length,D=I>0?v.grandTotal/I:0;R.setFontSize(10),R.text("Report Summary",14,52),R.setDrawColor(220,220,220),R.line(14,53,k-14,53);let H=62;R.setFontSize(12),R.setTextColor(0),R.text("Total Gross Sales:",14,H),R.setFont("helvetica","bold"),R.text(`${_}${v.grandTotal.toFixed(2)}`,60,H),R.setFont("helvetica","normal"),R.text("Total Transactions:",14,H+8),R.setFont("helvetica","bold"),R.text(`${I}`,60,H+8),R.setFont("helvetica","normal"),R.text("Total Discounts:",k/2,H),R.setFont("helvetica","bold"),R.text(`${_}${v.discount.toFixed(2)}`,k/2+40,H),R.setFont("helvetica","normal"),R.text("Average Sale Value:",k/2,H+8),R.setFont("helvetica","bold"),R.text(`${_}${D.toFixed(2)}`,k/2+40,H+8);const ne=["#","Date & Time","Table","Served By","Total","Discount","Grand Total"],ue=o.map((ee,se)=>[se+1,`${x(ee.finalizedAt)}
${A(ee.finalizedAt)}`,ee.table,ee.servedBy,`${_}${ee.total.toFixed(2)}`,`${_}${ee.discount.toFixed(2)}`,`${_}${ee.grandTotal.toFixed(2)}`]),ae=[{content:""},{content:""},{content:""},{content:"TOTALS",styles:{fontStyle:"bold"}},{content:`${_}${v.total.toFixed(2)}`,styles:{fontStyle:"bold"}},{content:`${_}${v.discount.toFixed(2)}`,styles:{fontStyle:"bold"}},{content:`${_}${v.grandTotal.toFixed(2)}`,styles:{fontStyle:"bold"}}];F$(R,{startY:H+20,head:[ne],body:ue,foot:[ae],theme:"grid",styles:{cellPadding:3,halign:"center",valign:"middle"},headStyles:{fillColor:[44,62,80],textColor:255,fontStyle:"bold"},bodyStyles:{lineWidth:0},footStyles:{fillColor:[236,240,241],textColor:[44,62,80],fontStyle:"bold",lineWidth:0},columnStyles:{0:{halign:"center",cellWidth:10},1:{halign:"center",cellWidth:30}},didDrawPage:function(ee){const se=R.internal.getNumberOfPages();R.setFontSize(9),R.setTextColor(150),R.text(`Page ${ee.pageNumber} of ${se}`,k/2,C-10,{align:"center"})}}),R.save(`SalesReport_${M.replace(/\s+/g,"")}_${n}_to_${i}.pdf`)};return t?p.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",children:p.jsxs("div",{className:"bg-white p-8 rounded-lg shadow-2xl w-full max-w-md animate-fade-in-up",children:[p.jsx("h2",{className:"text-2xl font-bold text-slate-800 mb-6 text-center",children:"Select Date Range"}),p.jsxs("div",{className:"space-y-4",children:[p.jsxs("div",{children:[p.jsx("label",{className:"block text-sm font-medium text-slate-600 mb-1",children:"Start Date"}),p.jsx("input",{ref:g,type:"date",onKeyDown:L,className:"w-full border border-gray-300 rounded-md px-3 py-2 focus:ring-2 focus:ring-indigo-500 focus:border-indigo-500 transition",autoFocus:!0})]}),p.jsxs("div",{children:[p.jsx("label",{className:"block text-sm font-medium text-slate-600 mb-1",children:"End Date"}),p.jsx("input",{ref:m,type:"date",onKeyDown:z,className:"w-full border border-gray-300 rounded-md px-3 py-2 focus:ring-2 focus:ring-indigo-500 focus:border-indigo-500 transition"})]})]}),p.jsxs("button",{ref:b,onClick:E,className:"w-full mt-8 flex items-center justify-center gap-2 bg-indigo-600 text-white px-4 py-3 rounded-lg shadow-md hover:bg-indigo-700 transition-all duration-300 ease-in-out transform hover:scale-105",children:[p.jsx(cI,{size:14})," Generate Report"]})]})}):p.jsxs("div",{className:"p-4 sm:p-6 lg:p-8 bg-slate-50 min-h-screen",children:[p.jsxs("div",{className:"flex flex-col sm:flex-row justify-between items-start sm:items-center mb-6",children:[p.jsxs("div",{children:[p.jsx("h1",{className:"text-3xl font-bold text-slate-800",children:"Sales Report"}),p.jsxs("p",{className:"text-sm text-slate-500 mt-1",children:["Showing results for: ",p.jsx("span",{className:"font-semibold",children:n})," to ",p.jsx("span",{className:"font-semibold",children:i})]})]}),p.jsxs("button",{onClick:Y,disabled:o.length===0,className:"flex items-center gap-2 bg-rose-600 text-white px-4 py-2 rounded-lg shadow-md hover:bg-rose-700 transition-all duration-300 ease-in-out transform hover:scale-105 disabled:bg-gray-400 disabled:scale-100 disabled:cursor-not-allowed mt-4 sm:mt-0",children:[p.jsx(aI,{size:18})," Export as PDF"]})]}),p.jsx("div",{className:"overflow-x-auto bg-white rounded-lg shadow-lg",children:l?p.jsxs("div",{className:"flex justify-center items-center py-20",children:[p.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-indigo-600"}),p.jsx("p",{className:"ml-4 text-slate-600",children:"Loading sales records..."})]}):p.jsxs("table",{className:"min-w-full",children:[p.jsx("thead",{className:"bg-slate-100",children:p.jsx("tr",{children:[{title:"#",align:"text-left"},{title:"Date",align:"text-left"},{title:"Time",align:"text-left"},{title:"Table",align:"text-left"},{title:"Served By",align:"text-left"},{title:"Total",align:"text-right"},{title:"Discount",align:"text-right"},{title:"Grand Total",align:"text-right"}].map(R=>p.jsx("th",{className:`px-6 py-3 ${R.align} text-xs font-bold text-slate-600 uppercase tracking-wider`,children:R.title},R.title))})}),p.jsx("tbody",{className:"divide-y divide-gray-200",children:o.length>0?o.map((R,C)=>p.jsxs("tr",{className:"hover:bg-indigo-50 transition-colors duration-200",children:[p.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-700 text-left",children:C+1}),p.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-700 text-left",children:x(R.finalizedAt)}),p.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-700 text-left",children:A(R.finalizedAt)}),p.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-700 text-left",children:R.table}),p.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-700 text-left",children:R.servedBy}),p.jsxs("td",{className:"px-6 py-4 whitespace-nowrap text-sm font-medium text-gray-800 text-right",children:[_,R.total.toFixed(2)]}),p.jsxs("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-red-600 text-right",children:[_,R.discount.toFixed(2)]}),p.jsxs("td",{className:"px-6 py-4 whitespace-nowrap text-sm font-bold text-indigo-700 text-right",children:[_,R.grandTotal.toFixed(2)]})]},R.id)):p.jsx("tr",{children:p.jsx("td",{colSpan:8,className:"text-center py-16",children:p.jsxs("div",{className:"flex flex-col items-center justify-center text-slate-500",children:[p.jsx(uI,{className:"w-16 h-16 mb-4 text-slate-300"}),p.jsx("h3",{className:"text-xl font-semibold",children:"No Sales Records Found"}),p.jsx("p",{className:"text-sm mt-1",children:"There were no sales in the selected date range."})]})})})}),o.length>0&&p.jsx("tfoot",{className:"bg-slate-200 font-bold text-slate-800",children:p.jsxs("tr",{children:[p.jsx("td",{colSpan:5,className:"px-6 py-3 text-right text-sm",children:"TOTALS"}),p.jsxs("td",{className:"px-6 py-3 text-right text-sm",children:[_,v.total.toFixed(2)]}),p.jsxs("td",{className:"px-6 py-3 text-right text-sm text-red-700",children:[_,v.discount.toFixed(2)]}),p.jsxs("td",{className:"px-6 py-3 text-right text-sm text-indigo-800",children:[_,v.grandTotal.toFixed(2)]})]})})]})})]})},V$=[{to:"/reports/sales",title:"Sales Report",description:"View overall sales transactions within a specific date range.",icon:p.jsx(AE,{className:"h-8 w-8 text-blue-500"}),color:"blue"},{to:"/reports/item-wise-sales",title:"Item-wise Sales Report",description:"Analyze sales performance by individual menu items.",icon:p.jsx(tU,{className:"h-8 w-8 text-green-500"}),color:"green"},{to:"/reports/table-wise-sales",title:"Table-wise Sales Report",description:"Track sales and revenue generated by each table.",icon:p.jsx(rU,{className:"h-8 w-8 text-purple-500"}),color:"purple"},{to:"/reports/payment-mode",title:"Payment Mode Report",description:"Breakdown of sales by payment method like cash, card, etc.",icon:p.jsx(XB,{className:"h-8 w-8 text-yellow-500"}),color:"yellow"}],B$=()=>p.jsxs("div",{className:"p-6 bg-gray-50 min-h-full",children:[p.jsxs("div",{className:"mb-8",children:[p.jsx("h1",{className:"text-3xl font-bold text-gray-800",children:"Sales & Revenue Reports"}),p.jsx("p",{className:"text-gray-500 mt-1",children:"Select a report type to view details."})]}),p.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4 gap-6",children:V$.map(t=>p.jsxs(tv,{to:t.to,className:"group bg-white rounded-xl shadow-md p-6 flex flex-col justify-between hover:shadow-xl hover:-translate-y-1 transition-all duration-300 cursor-pointer border border-gray-200",children:[p.jsxs("div",{children:[p.jsx("div",{className:"mb-4",children:t.icon}),p.jsx("h3",{className:"text-xl font-semibold text-gray-800 mb-2",children:t.title}),p.jsx("p",{className:"text-gray-600 text-sm",children:t.description})]}),p.jsx("div",{className:"mt-6",children:p.jsx("span",{className:`font-semibold text-${t.color}-600 group-hover:text-${t.color}-800 transition-colors`,children:"View Report "})})]},t.title))})]}),U$=()=>p.jsx("svg",{stroke:"currentColor",fill:"currentColor",strokeWidth:"0",viewBox:"0 0 512 512",height:"1em",width:"1em",xmlns:"http://www.w3.org/2000/svg",children:p.jsx("path",{d:"M416 224V64c0-8.8-7.2-16-16-16H112c-8.8 0-16 7.2-16 16v160h320zM96 256H32v176c0 13.3 10.7 24 24 24h32v-80c0-26.5 21.5-48 48-48h160c26.5 0 48 21.5 48 48v80h32c13.3 0 24-10.7 24-24V256H96zM480 96h-32v128h32c8.8 0 16-7.2 16-16V112c0-8.8-7.2-16-16-16zM288 352h-64c-8.8 0-16 7.2-16 16v64c0 8.8 7.2 16 16 16h64c8.8 0 16-7.2 16-16v-64c0-8.8-7.2-16-16-16z"})}),z$=()=>p.jsx("svg",{stroke:"currentColor",fill:"currentColor",strokeWidth:"0",viewBox:"0 0 512 512",height:"1em",width:"1em",xmlns:"http://www.w3.org/2000/svg",children:p.jsx("path",{d:"M512 288c0 44.2-35.8 80-80 80s-80-35.8-80-80 35.8-80 80-80 80 35.8 80 80zM400 288c0 22.1 17.9 40 40 40s40-17.9 40-40-17.9-40-40-40-40 17.9-40 40zM192 288c0 44.2-35.8 80-80 80s-80-35.8-80-80 35.8-80 80-80 80 35.8 80 80zM32 288c0 22.1 17.9 40 40 40s40-17.9 40-40-17.9-40-40-40-40 17.9-40 40zM320 128c0 44.2-35.8 80-80 80s-80-35.8-80-80 35.8-80 80-80 80 35.8 80 80zM160 128c0 22.1 17.9 40 40 40s40-17.9 40-40-17.9-40-40-40-40 17.9-40 40zM256 0C114.6 0 0 114.6 0 256s114.6 256 256 256 256-114.6 256-256S397.4 0 256 0zM256 480c-123.5 0-224-100.5-224-224S132.5 32 256 32s224 100.5 224 224-100.5 224-224 224z"})}),q$=()=>p.jsx("svg",{stroke:"currentColor",fill:"currentColor",strokeWidth:"0",viewBox:"0 0 576 512",height:"1em",width:"1em",xmlns:"http://www.w3.org/2000/svg",children:p.jsx("path",{d:"M528 224H48.8c-10.7 0-20.8 5.1-26.9 13.2L0 273.4V464c0 26.5 21.5 48 48 48h480c26.5 0 48-21.5 48-48V273.4l-21.9-36.2c-6-8.1-16.1-13.2-26.9-13.2zM48 352h160v64H48v-64zm192 0h160v64H240v-64zm336-48.4l19.2 31.8-19.2 31.8V303.6zM48 0h480c26.5 0 48 21.5 48 48v80H0V48C0 21.5 21.5 0 48 0z"})}),$$=()=>p.jsx("svg",{stroke:"currentColor",fill:"currentColor",strokeWidth:"0",viewBox:"0 0 448 512",height:"1em",width:"1em",xmlns:"http://www.w3.org/2000/svg",children:p.jsx("path",{d:"M424.4 214.7L72.4 6.6C43.8-10.3 0 6.1 0 47.9V464c0 37.5 40.7 60.1 72.4 41.3l352-208c31.4-18.5 31.5-64.1 0-82.6z"})}),H$=()=>p.jsx("svg",{stroke:"currentColor",fill:"currentColor",strokeWidth:"0",viewBox:"0 0 512 512",height:"1em",width:"1em",xmlns:"http://www.w3.org/2000/svg",children:p.jsx("path",{d:"M32 32v448h448V32H32zm240 344h-32V200h32v176zm88 0h-32V136h32v240zm-176 0h-32V280h32v96z"})}),W$=()=>p.jsx("svg",{stroke:"currentColor",fill:"currentColor",strokeWidth:"0",viewBox:"0 0 544 512",height:"1em",width:"1em",xmlns:"http://www.w3.org/2000/svg",children:p.jsx("path",{d:"M527.79 288H290.51a15.95 15.95 0 0 1-15.95-16V16.21a15.95 15.95 0 0 1 15.95-16c2.65 0 5.26.65 7.64 1.86A256.06 256.06 0 0 1 527.79 288zm-288-16a15.95 15.95 0 0 1 15.95-16H528a16 16 0 0 1 16 16v16a256 256 0 0 1-256 256H21.53c-11.21 0-19.18-11.45-14.45-21.53A256.06 256.06 0 0 1 239.79 272z"})}),G$=()=>p.jsx("svg",{stroke:"currentColor",fill:"currentColor",strokeWidth:"0",viewBox:"0 0 512 512",height:"1em",width:"1em",xmlns:"http://www.w3.org/2000/svg",children:p.jsx("path",{d:"M500 384c6.6 0 12-5.4 12-12V108c0-6.6-5.4-12-12-12h-20c-6.6 0-12 5.4-12 12v33.3L339.5 280.8 223.7 125.5c-4.5-5.8-12.3-7.5-18.7-4.4l-112 56C85.7 180.1 80 186.8 80 194.5V320c0 6.6 5.4 12 12 12h20c6.6 0 12-5.4 12-12v-33.3l128.5-160.6 115.7 154.3c4.5 5.8 12.3 7.5 18.7 4.4l112-56c6.4-3.1 13.2-2.3 18.7 2.2l20 20V372c0 6.6 5.4 12 12 12z"})}),K$=()=>p.jsx("svg",{stroke:"currentColor",fill:"currentColor",strokeWidth:"0",viewBox:"0 0 576 512",height:"1em",width:"1em",xmlns:"http://www.w3.org/2000/svg",children:p.jsx("path",{d:"M552 64H448V24c0-13.3-10.7-24-24-24H152c-13.3 0-24 10.7-24 24v40H24C10.7 64 0 74.7 0 88v56c0 66.5 77.9 130.7 171.9 142.4C203.3 392.4 256 464 256 464v48H176c-13.3 0-24 10.7-24 24s10.7 24 24 24h224c13.3 0 24-10.7 24-24s-10.7-24-24-24H320v-48s52.7-71.6 84.1-177.6C502.1 274.7 576 210.5 576 144V88c0-13.3-10.7-24-24-24zM128 128c0-17.7 14.3-32 32-32h192c17.7 0 32 14.3 32 32v32H128v-32z"})}),Q$=()=>p.jsx("svg",{stroke:"currentColor",fill:"currentColor",strokeWidth:"0",viewBox:"0 0 512 512",height:"1em",width:"1em",xmlns:"http://www.w3.org/2000/svg",children:p.jsx("path",{d:"M283.211 512c78.962 0 151.079-35.925 198.857-94.792 7.068-8.708-.639-21.43-11.562-19.35-124.203 23.654-238.262-71.576-238.262-196.954 0-72.222 38.662-138.635 101.498-174.394 9.686-5.512 7.25-20.197-3.756-22.23A258.156 258.156 0 0 0 283.211 0c-141.309 0-256 114.51-256 256 0 141.309 114.51 256 256 256z"})}),Y$=()=>p.jsx("svg",{stroke:"currentColor",fill:"currentColor",strokeWidth:"0",viewBox:"0 0 512 512",height:"1em",width:"1em",xmlns:"http://www.w3.org/2000/svg",children:p.jsx("path",{d:"M256 160c-52.9 0-96 43.1-96 96s43.1 96 96 96 96-43.1 96-96-43.1-96-96-96zm246.4 80.5l-94.7-47.3 33.5-100.4c4.5-13.6-8.4-26.5-21.9-21.9l-100.4 33.5-47.3-94.7c-6.4-12.8-24.6-12.8-31 0l-47.3 94.7-100.4-33.5c-13.6-4.5-26.5 8.4-21.9 21.9l33.5 100.4-94.7 47.3c-12.8 6.4-12.8 24.6 0 31l94.7 47.3-33.5 100.5c-4.5 13.6 8.4 26.5 21.9 21.9l100.4-33.5 47.3 94.7c6.4 12.8 24.6 12.8 31 0l47.3-94.7 100.4 33.5c13.6 4.5 26.5-8.4 21.9-21.9l-33.5-100.4 94.7-47.3c13-6.5 13-24.7.2-31.1z"})}),b_=(t=0,e=1500)=>{const[n,r]=G.useState(0),i=1e3/60,s=Math.round(e/i);return G.useEffect(()=>{let o=0;const a=setInterval(()=>{o++;const l=o/s;r(t*l),o===s&&(clearInterval(a),r(t))},i);return()=>clearInterval(a)},[t,e]),n},X$=()=>{const[t,e]=G.useState(!0),[n,r]=G.useState(""),[i,s]=G.useState(""),[o,a]=G.useState([]),[l,u]=G.useState([]),[c,d]=G.useState(!1),[g,m]=G.useState(null),[b,x]=G.useState("bar"),[A,v]=G.useState(""),[_,E]=G.useState({key:"totalRevenue",direction:"descending"}),[L,z]=G.useState(1),[Y,R]=G.useState(!1),C=10,k=G.useRef(null),M=G.useRef(null),T=G.useRef(null),I=G.useRef(null),D=G.useRef(null),H=pe=>{const Ee=pe.reduce((W,ze)=>((ze.items||[]).forEach(Qe=>{const Ue=Qe.name||"Unknown Item";W[Ue]||(W[Ue]={quantity:0,totalRevenue:0,price:Number(Qe.price)||0});const Le=Number(Qe.quantity)||0;W[Ue].quantity+=Le,W[Ue].totalRevenue+=Le*(Number(Qe.price)||0)}),W),{}),fe=Object.values(Ee).reduce((W,ze)=>W+ze.totalRevenue,0);return Object.entries(Ee).map(([W,ze])=>({name:W,...ze,contribution:fe>0?ze.totalRevenue/fe*100:0}))};G.useEffect(()=>{const pe=new URLSearchParams(window.location.search),Ee=pe.get("startDate"),fe=pe.get("endDate");Ee&&fe&&(r(Ee),s(fe),e(!1))},[]),G.useEffect(()=>{(async()=>{if(n&&i){d(!0);const Ee=new Date(n),fe=new Date(i),W=fe.getTime()-Ee.getTime(),ze=new Date(Ee.getTime()-1),Qe=new Date(ze.getTime()-W);try{const[Ue,Le,qe]=await Promise.all([sa(),Cf(Ee,fe),Cf(Qe,ze)]);m(Ue||{}),a(H(Le)),u(H(qe));const Be=new URLSearchParams({startDate:n,endDate:i});window.history.pushState(null,"",`?${Be.toString()}`)}catch(Ue){console.error("Error processing item-wise sales report:",Ue)}d(!1)}})()},[n,i]),G.useEffect(()=>{Y?document.documentElement.classList.add("dark"):document.documentElement.classList.remove("dark")},[Y]);const ne=G.useMemo(()=>{let pe=[...o];return A&&(pe=pe.filter(Ee=>Ee.name.toLowerCase().includes(A.toLowerCase()))),pe.sort((Ee,fe)=>Ee[_.key]<fe[_.key]?_.direction==="ascending"?-1:1:Ee[_.key]>fe[_.key]?_.direction==="ascending"?1:-1:0),pe},[o,A,_]),ue=G.useMemo(()=>{const pe=(L-1)*C;return ne.slice(pe,pe+C)},[ne,L]),ae=G.useMemo(()=>o.reduce((pe,Ee)=>(pe.totalRevenue+=Ee.totalRevenue,pe.totalQuantity+=Ee.quantity,pe),{totalRevenue:0,totalQuantity:0}),[o]),ee=G.useMemo(()=>l.reduce((pe,Ee)=>(pe.totalRevenue+=Ee.totalRevenue,pe.totalQuantity+=Ee.quantity,pe),{totalRevenue:0,totalQuantity:0}),[l]),se=(pe,Ee)=>Ee===0?pe>0?100:0:(pe-Ee)/Ee*100,ye=se(ae.totalRevenue,ee.totalRevenue),Se=se(ae.totalQuantity,ee.totalQuantity),V=ne.length>0?ne[0].name:"N/A",Q="",te=b_(ae.totalRevenue),ie=b_(ae.totalQuantity);G.useEffect(()=>{if(M.current&&M.current.destroy(),ue.length===0||!k.current)return;const pe=()=>{const Ee=k.current.getContext("2d"),fe=b==="pie"?ne.slice(0,7):ue,W=fe.map(qe=>qe.name),ze=fe.map(qe=>qe.totalRevenue),Qe=Y?"rgba(255, 255, 255, 0.1)":"rgba(0, 0, 0, 0.1)",Ue=Y?"#e2e8f0":"#334155",Le=Y?"#f1f5f9":"#1e293b";M.current=new window.Chart(Ee,{type:b,data:{labels:W,datasets:[{label:"Total Revenue",data:ze,backgroundColor:b==="pie"?["#4f46e5","#6366f1","#818cf8","#a5b4fc","#c7d2fe","#e0e7ff"]:"#4f46e5",borderColor:Y?"#374151":"#fff",borderWidth:1}]},options:{indexAxis:b==="bar"?"y":"x",responsive:!0,maintainAspectRatio:!1,plugins:{legend:{display:b==="pie",labels:{color:Ue}},title:{display:!0,text:"Item Revenue",color:Le}},scales:{x:{beginAtZero:!0,ticks:{color:Ue},grid:{color:Qe}},y:{beginAtZero:!0,ticks:{color:Ue},grid:{color:Qe}}}}})};if(window.Chart)pe();else{const Ee=document.createElement("script");Ee.src="https://cdn.jsdelivr.net/npm/chart.js",Ee.onload=pe,document.body.appendChild(Ee)}},[ue,ne,b,Y]);const le=pe=>{const Ee=new Date;let fe=new Date;pe==="today"?fe.setHours(0,0,0,0):pe==="week"?fe.setDate(Ee.getDate()-6):pe==="month"&&fe.setDate(1);const W=ze=>ze.toISOString().split("T")[0];r(W(fe)),s(W(Ee)),e(!1)},ve=()=>{!T.current.value||!I.current.value||(r(T.current.value),s(I.current.value),e(!1))},Ne=pe=>{let Ee="ascending";_.key===pe&&_.direction==="ascending"&&(Ee="descending"),E({key:pe,direction:Ee})},Ae=G.useCallback(()=>{if(ne.length===0)return;const pe=()=>{const{jsPDF:fe}=window.jspdf,W=new fe,ze=(g==null?void 0:g.restaurantName)||"Restaurant";W.setFontSize(18),W.text(`${ze} - Item-Wise Sales Report`,14,22),W.setFontSize(11),W.setTextColor(100),W.text(`Date Range: ${n} to ${i}`,14,30);const Qe=["#","Item Name","Qty Sold","Unit Price","Total Revenue","% of Total"],Ue=ne.map((Le,qe)=>[qe+1,Le.name,Le.quantity,`${Q}${Le.price.toFixed(2)}`,`${Q}${Le.totalRevenue.toFixed(2)}`,`${Le.contribution.toFixed(2)}%`]);W.autoTable({startY:40,head:[Qe],body:Ue,foot:[["","TOTALS",ae.totalQuantity,"",`${Q}${ae.totalRevenue.toFixed(2)}`,"100.00%"]],theme:"striped",headStyles:{fillColor:[44,62,80]},footStyles:{fillColor:[236,240,241],textColor:[44,62,80],fontStyle:"bold"}}),W.save(`ItemWiseSalesReport_${n}_to_${i}.pdf`)},Ee=()=>{if(window.jspdf&&window.jspdf.autoTable)pe();else if(window.jspdf){const fe=document.createElement("script");fe.src="https://cdnjs.cloudflare.com/ajax/libs/jspdf-autotable/3.8.2/jspdf.plugin.autotable.min.js",fe.onload=pe,document.body.appendChild(fe)}else{const fe=document.createElement("script");fe.src="https://cdnjs.cloudflare.com/ajax/libs/jspdf/2.5.1/jspdf.umd.min.js",fe.onload=()=>Ee(),document.body.appendChild(fe)}};Ee()},[ne,g,n,i,ae]),he=()=>{if(ne.length===0)return;const pe=["Item Name","Qty Sold","Unit Price","Total Revenue","% of Total"],Ee=ne.map(ze=>[`"${ze.name.replace(/"/g,'""')}"`,ze.quantity,ze.price,ze.totalRevenue,ze.contribution.toFixed(2)]),fe="data:text/csv;charset=utf-8,"+[pe.join(","),...Ee.map(ze=>ze.join(","))].join(`
`),W=document.createElement("a");W.setAttribute("href",encodeURI(fe)),W.setAttribute("download",`ItemWiseSalesReport_${n}_to_${i}.csv`),document.body.appendChild(W),W.click(),document.body.removeChild(W)},be=({value:pe})=>p.jsxs("span",{className:`text-xs ml-2 font-bold ${pe>=0?"text-green-500":"text-red-500"}`,children:[pe>=0?"":""," ",Math.abs(pe).toFixed(1),"%"]});return t?p.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",children:p.jsxs("div",{className:"bg-white p-8 rounded-lg shadow-2xl w-full max-w-md animate-fade-in-up",children:[p.jsx("h2",{className:"text-2xl font-bold text-slate-800 mb-6 text-center",children:"Select Date Range"}),p.jsxs("div",{className:"flex justify-center gap-2 mb-4",children:[p.jsx("button",{onClick:()=>le("today"),className:"px-3 py-1 text-sm bg-slate-200 rounded-full hover:bg-slate-300",children:"Today"}),p.jsx("button",{onClick:()=>le("week"),className:"px-3 py-1 text-sm bg-slate-200 rounded-full hover:bg-slate-300",children:"This Week"}),p.jsx("button",{onClick:()=>le("month"),className:"px-3 py-1 text-sm bg-slate-200 rounded-full hover:bg-slate-300",children:"This Month"})]}),p.jsxs("div",{className:"space-y-4",children:[p.jsx("input",{ref:T,type:"date",className:"w-full border-gray-300 rounded-md p-2"}),p.jsx("input",{ref:I,type:"date",className:"w-full border-gray-300 rounded-md p-2"})]}),p.jsxs("button",{ref:D,onClick:ve,className:"w-full mt-8 flex items-center justify-center gap-2 bg-indigo-600 text-white px-4 py-3 rounded-lg shadow-md hover:bg-indigo-700",children:[p.jsx($$,{})," Generate Report"]})]})}):p.jsxs("div",{className:"p-4 sm:p-6 lg:p-8 bg-slate-50 dark:bg-slate-900 min-h-screen text-slate-800 dark:text-slate-200 transition-colors duration-300",children:[p.jsxs("header",{className:"flex flex-wrap justify-between items-center mb-6 gap-4",children:[p.jsxs("div",{children:[p.jsx("h1",{className:"text-3xl font-bold",children:"Item-Wise Sales Report"}),p.jsxs("p",{className:"text-sm text-slate-500 dark:text-slate-400 mt-1",children:[n," to ",i]})]}),p.jsxs("div",{className:"flex items-center gap-2",children:[p.jsx("button",{onClick:()=>R(!Y),className:"p-2 rounded-full bg-slate-200 dark:bg-slate-700 hover:bg-slate-300 dark:hover:bg-slate-600",children:Y?p.jsx(Y$,{}):p.jsx(Q$,{})}),p.jsxs("button",{onClick:he,disabled:o.length===0,className:"flex items-center gap-2 bg-green-600 text-white px-3 py-2 rounded-lg shadow hover:bg-green-700 disabled:bg-gray-400",children:[p.jsx(z$,{})," CSV"]}),p.jsxs("button",{onClick:Ae,disabled:o.length===0,className:"flex items-center gap-2 bg-rose-600 text-white px-3 py-2 rounded-lg shadow hover:bg-rose-700 disabled:bg-gray-400",children:[p.jsx(U$,{})," PDF"]})]})]}),p.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6 mb-6",children:[p.jsxs("div",{className:"bg-white dark:bg-slate-800 p-5 rounded-lg shadow text-center",children:[p.jsx("p",{className:"text-sm text-slate-500 dark:text-slate-400",children:"Total Revenue"}),p.jsxs("p",{className:"text-2xl font-bold flex items-center justify-center",children:[Q,te.toFixed(2)," ",p.jsx(be,{value:ye})]})]}),p.jsxs("div",{className:"bg-white dark:bg-slate-800 p-5 rounded-lg shadow text-center",children:[p.jsx("p",{className:"text-sm text-slate-500 dark:text-slate-400",children:"Total Items Sold"}),p.jsxs("p",{className:"text-2xl font-bold flex items-center justify-center",children:[Math.round(ie)," ",p.jsx(be,{value:Se})]})]}),p.jsxs("div",{className:"bg-white dark:bg-slate-800 p-5 rounded-lg shadow text-center",children:[p.jsxs("p",{className:"text-sm text-slate-500 dark:text-slate-400 flex items-center justify-center gap-1",children:[p.jsx(K$,{className:"text-amber-400"}),"Best Seller"]}),p.jsx("p",{className:"text-2xl font-bold text-indigo-600 dark:text-indigo-400 truncate",children:V})]})]}),p.jsxs("div",{className:"bg-white dark:bg-slate-800 p-4 rounded-lg shadow-lg mb-6",children:[p.jsxs("div",{className:"flex justify-between items-center mb-2 flex-wrap gap-2",children:[p.jsx("input",{type:"text",placeholder:"Search items...",value:A,onChange:pe=>v(pe.target.value),className:"p-2 border rounded-md bg-transparent dark:border-slate-600"}),p.jsxs("div",{className:"flex gap-1 p-1 bg-slate-100 dark:bg-slate-700 rounded-lg",children:[p.jsx("button",{onClick:()=>x("bar"),className:`p-2 rounded-md ${b==="bar"?"bg-indigo-600 text-white":""}`,children:p.jsx(H$,{})}),p.jsx("button",{onClick:()=>x("pie"),className:`p-2 rounded-md ${b==="pie"?"bg-indigo-600 text-white":""}`,children:p.jsx(W$,{})}),p.jsx("button",{onClick:()=>x("line"),className:`p-2 rounded-md ${b==="line"?"bg-indigo-600 text-white":""}`,children:p.jsx(G$,{})})]})]}),p.jsx("div",{className:"h-96",children:p.jsx("canvas",{ref:k})})]}),p.jsx("div",{className:"overflow-x-auto bg-white dark:bg-slate-800 rounded-lg shadow-lg",children:c?p.jsx("div",{className:"text-center p-20",children:"Loading..."}):p.jsxs("table",{className:"min-w-full",children:[p.jsx("thead",{className:"bg-slate-100 dark:bg-slate-700 text-slate-600 dark:text-slate-300",children:p.jsxs("tr",{children:[p.jsx("th",{scope:"col",className:"px-6 py-3 text-right text-xs font-medium uppercase tracking-wider",children:"#"}),p.jsx("th",{scope:"col",className:"px-6 py-3 text-left text-xs font-medium uppercase tracking-wider",children:p.jsxs("button",{onClick:()=>Ne("name"),className:"w-full flex items-center justify-start gap-1",children:[p.jsx("span",{children:"Item Name"}),_.key==="name"&&(_.direction==="ascending"?"":"")]})}),p.jsx("th",{scope:"col",className:"px-6 py-3 text-right text-xs font-medium uppercase tracking-wider",children:p.jsxs("button",{onClick:()=>Ne("quantity"),className:"w-full flex items-center justify-end gap-1",children:[p.jsx("span",{children:"Qty Sold"}),_.key==="quantity"&&(_.direction==="ascending"?"":"")]})}),p.jsx("th",{scope:"col",className:"px-6 py-3 text-right text-xs font-medium uppercase tracking-wider",children:p.jsxs("button",{onClick:()=>Ne("price"),className:"w-full flex items-center justify-end gap-1",children:[p.jsx("span",{children:"Unit Price"}),_.key==="price"&&(_.direction==="ascending"?"":"")]})}),p.jsx("th",{scope:"col",className:"px-6 py-3 text-right text-xs font-medium uppercase tracking-wider",children:p.jsxs("button",{onClick:()=>Ne("totalRevenue"),className:"w-full flex items-center justify-end gap-1",children:[p.jsx("span",{children:"Total Revenue"}),_.key==="totalRevenue"&&(_.direction==="ascending"?"":"")]})}),p.jsx("th",{scope:"col",className:"px-6 py-3 text-right text-xs font-medium uppercase tracking-wider",children:p.jsxs("button",{onClick:()=>Ne("contribution"),className:"w-full flex items-center justify-end gap-1",children:[p.jsx("span",{children:"% of Total"}),_.key==="contribution"&&(_.direction==="ascending"?"":"")]})})]})}),p.jsx("tbody",{className:"divide-y divide-gray-200 dark:divide-slate-600",children:ue.length>0?ue.map((pe,Ee)=>p.jsxs("tr",{className:"hover:bg-indigo-50 dark:hover:bg-slate-700",children:[p.jsx("td",{className:"px-6 py-4 text-right",children:(L-1)*C+Ee+1}),p.jsx("td",{className:"px-6 py-4 font-medium text-left",children:pe.name}),p.jsx("td",{className:"px-6 py-4 text-right",children:pe.quantity}),p.jsxs("td",{className:"px-6 py-4 text-right",children:[Q,pe.price.toFixed(2)]}),p.jsxs("td",{className:"px-6 py-4 font-bold text-indigo-700 dark:text-indigo-400 text-right",children:[Q,pe.totalRevenue.toFixed(2)]}),p.jsxs("td",{className:"px-6 py-4 text-right text-sm",children:[pe.contribution.toFixed(1),"%"]})]},pe.name)):p.jsx("tr",{children:p.jsx("td",{colSpan:6,className:"text-center py-16",children:p.jsxs("div",{className:"flex flex-col items-center justify-center text-slate-500 dark:text-slate-400",children:[p.jsx(q$,{className:"w-16 h-16 mb-4"}),p.jsx("h3",{className:"text-xl font-semibold",children:"No Item Data Found"}),p.jsx("p",{className:"text-sm mt-1",children:"There were no items sold in this date range."})]})})})})]})}),p.jsxs("div",{className:"flex justify-between items-center mt-4",children:[p.jsxs("span",{className:"text-sm text-slate-500 dark:text-slate-400",children:["Showing ",ue.length," of ",ne.length," items"]}),p.jsxs("div",{children:[p.jsx("button",{onClick:()=>z(pe=>Math.max(1,pe-1)),disabled:L===1,className:"px-3 py-1 border rounded-md disabled:opacity-50 dark:border-slate-600",children:"Prev"}),p.jsxs("span",{className:"mx-2",children:[L," / ",Math.max(1,Math.ceil(ne.length/C))]}),p.jsx("button",{onClick:()=>z(pe=>Math.min(Math.ceil(ne.length/C),pe+1)),disabled:L*C>=ne.length,className:"px-3 py-1 border rounded-md disabled:opacity-50 dark:border-slate-600",children:"Next"})]})]})]})},J$=()=>p.jsx("svg",{stroke:"currentColor",fill:"currentColor",strokeWidth:"0",viewBox:"0 0 512 512",height:"1em",width:"1em",xmlns:"http://www.w3.org/2000/svg",children:p.jsx("path",{d:"M416 224V64c0-8.8-7.2-16-16-16H112c-8.8 0-16 7.2-16 16v160h320zM96 256H32v176c0 13.3 10.7 24 24 24h32v-80c0-26.5 21.5-48 48-48h160c26.5 0 48 21.5 48 48v80h32c13.3 0 24-10.7 24-24V256H96zM480 96h-32v128h32c8.8 0 16-7.2 16-16V112c0-8.8-7.2-16-16-16zM288 352h-64c-8.8 0-16 7.2-16 16v64c0 8.8 7.2 16 16 16h64c8.8 0 16-7.2 16-16v-64c0-8.8-7.2-16-16-16z"})}),Z$=()=>p.jsx("svg",{stroke:"currentColor",fill:"currentColor",strokeWidth:"0",viewBox:"0 0 384 512",height:"1em",width:"1em",xmlns:"http://www.w3.org/2000/svg",children:p.jsx("path",{d:"M369.9 97.9L286 14C277 5 264.8-.1 252.1-.1H48C21.5 0 0 21.5 0 48v416c0 26.5 21.5 48 48 48h288c26.5 0 48-21.5 48-48V131.9c0-12.7-5.1-25-14.1-34zM332.1 128H256V51.9l76.1 76.1zM48 464V48h160v104c0 13.3 10.7 24 24 24h104v288H48zm212-240h-28.8c-4.4 0-8.4 2.4-10.5 6.3-18 33.1-22.2 42.4-28.6 57.7-13.9-29.1-6.9-17.3-28.6-57.7-2.1-3.9-6.2-6.3-10.6-6.3H124c-9.8 0-15.6 10-10.8 18.3l48 85.3c-22.3 20.4-44.5 44.9-66.2 73.3-4.5 5.9-2.2 14.3 4.9 16.3h28.3c4.5 0 8.5-2.5 10.6-6.3 22.4-40 44.8-80 67.2-120 10.1 18.6 20.8 38.2 32 59.2 2.9 5.5 8.7 9.1 14.8 9.1h28.3c7.1-1.9 9.4-10.3 4.9-16.3-21.2-27.6-43-55.5-65.3-84.8l48-85.3c4.9-8.3-.9-18.3-10.8-18.3z"})}),eH=()=>p.jsx("svg",{stroke:"currentColor",fill:"currentColor",strokeWidth:"0",viewBox:"0 0 576 512",height:"1em",width:"1em",xmlns:"http://www.w3.org/2000/svg",children:p.jsx("path",{d:"M528 224H48.8c-10.7 0-20.8 5.1-26.9 13.2L0 273.4V464c0 26.5 21.5 48 48 48h480c26.5 0 48-21.5 48-48V273.4l-21.9-36.2c-6-8.1-16.1-13.2-26.9-13.2zM48 352h160v64H48v-64zm192 0h160v64H240v-64zm336-48.4l19.2 31.8-19.2 31.8V303.6zM48 0h480c26.5 0 48 21.5 48 48v80H0V48C0 21.5 21.5 0 48 0z"})}),tH=()=>p.jsx("svg",{stroke:"currentColor",fill:"currentColor",strokeWidth:"0",viewBox:"0 0 448 512",height:"1em",width:"1em",xmlns:"http://www.w3.org/2000/svg",children:p.jsx("path",{d:"M424.4 214.7L72.4 6.6C43.8-10.3 0 6.1 0 47.9V464c0 37.5 40.7 60.1 72.4 41.3l352-208c31.4-18.5 31.5-64.1 0-82.6z"})}),nH=()=>p.jsx("svg",{stroke:"currentColor",fill:"currentColor",strokeWidth:"0",viewBox:"0 0 448 512",height:"1em",width:"1em",xmlns:"http://www.w3.org/2000/svg",children:p.jsx("path",{d:"M32 32v448h448V32H32zm240 344h-32V200h32v176zm88 0h-32V136h32v240zm-176 0h-32V280h32v96z"})}),rH=()=>p.jsx("svg",{stroke:"currentColor",fill:"currentColor",strokeWidth:"0",viewBox:"0 0 576 512",height:"1em",width:"1em",xmlns:"http://www.w3.org/2000/svg",children:p.jsx("path",{d:"M552 64H448V24c0-13.3-10.7-24-24-24H152c-13.3 0-24 10.7-24 24v40H24C10.7 64 0 74.7 0 88v56c0 66.5 77.9 130.7 171.9 142.4C203.3 392.4 256 464 256 464v48H176c-13.3 0-24 10.7-24 24s10.7 24 24 24h224c13.3 0 24-10.7 24-24s-10.7-24-24-24H320v-48s52.7-71.6 84.1-177.6C502.1 274.7 576 210.5 576 144V88c0-13.3-10.7-24-24-24zM128 128c0-17.7 14.3-32 32-32h192c17.7 0 32 14.3 32 32v32H128v-32z"})}),iH=()=>p.jsx("svg",{stroke:"currentColor",fill:"currentColor",strokeWidth:"0",viewBox:"0 0 544 512",height:"1em",width:"1em",xmlns:"http://www.w3.org/2000/svg",children:p.jsx("path",{d:"M527.79 288H290.51a15.95 15.95 0 0 1-15.95-16V16.21a15.95 15.95 0 0 1 15.95-16c2.65 0 5.26.65 7.64 1.86A256.06 256.06 0 0 1 527.79 288zm-288-16a15.95 15.95 0 0 1 15.95-16H528a16 16 0 0 1 16 16v16a256 256 0 0 1-256 256H21.53c-11.21 0-19.18-11.45-14.45-21.53A256.06 256.06 0 0 1 239.79 272z"})}),sH=()=>{const[t,e]=G.useState(!0),[n,r]=G.useState(""),[i,s]=G.useState(""),[o,a]=G.useState([]),[l,u]=G.useState(!1),[c,d]=G.useState(null),[g,m]=G.useState("bar"),b=G.useRef(null),x=G.useRef(null),A=G.useRef(null),v=G.useRef(null),_=G.useRef(null),E=T=>{const I=T.reduce((ue,ae)=>{const ee=ae.tableName||"Unknown Table";return ue[ee]||(ue[ee]={orders:0,total:0,discount:0,grandTotal:0,items:{}}),ue[ee].orders+=1,ue[ee].total+=ae.subTotal||0,ue[ee].discount+=ae.discount||0,ue[ee].grandTotal+=ae.grandTotal||0,(ae.items||[]).forEach(se=>{ue[ee].items[se.name]||(ue[ee].items[se.name]=0),ue[ee].items[se.name]+=se.quantity}),ue},{});let D={name:null,value:-1},H={name:null,value:1/0};const ne=Object.keys(I).map(ue=>{const ae=I[ue],ee=ae.orders>0?ae.grandTotal/ae.orders:0;ae.grandTotal>D.value&&(D={name:ue,value:ae.grandTotal}),ae.grandTotal<H.value&&(H={name:ue,value:ae.grandTotal});const se=Object.entries(ae.items).sort((ye,Se)=>Se[1]-ye[1]).slice(0,2).map(ye=>`${ye[0]} (x${ye[1]})`).join(", ");return{name:ue,turnover:ae.orders,aov:ee,topItems:se||"N/A",...ae}});return ne.map(ue=>({...ue,isBest:ue.name===D.name&&ne.length>1,isWorst:ue.name===H.name&&ne.length>1}))};G.useEffect(()=>{(async()=>{if(n&&i){u(!0);try{const I=await sa();d(I||{});const D=await Cf(new Date(n),new Date(i));a(E(D))}catch(I){console.error("Error processing table sales report:",I)}u(!1)}})()},[n,i]),G.useEffect(()=>{const T=()=>{x.current&&x.current.destroy();const I=b.current.getContext("2d"),D=o.map(ne=>ne.name),H=o.map(ne=>ne.grandTotal);x.current=new window.Chart(I,{type:g,data:{labels:D,datasets:[{label:"Total Sales",data:H,backgroundColor:g==="pie"?["#FF6384","#36A2EB","#FFCE56","#4BC0C0","#9966FF","#FF9F40"]:"#36A2EB",borderColor:"#fff"}]},options:{responsive:!0,maintainAspectRatio:!1,plugins:{legend:{display:g==="pie",position:"top"},title:{display:!0,text:"Sales Revenue by Table"}}}})};if(o.length>0&&b.current)if(window.Chart)T();else{const I=document.createElement("script");I.src="https://cdn.jsdelivr.net/npm/chart.js",I.onload=T,document.body.appendChild(I)}},[o,g]);const L=o.reduce((T,I)=>(T.orders+=I.turnover,T.total+=I.total,T.discount+=I.discount,T.grandTotal+=I.grandTotal,T),{orders:0,total:0,discount:0,grandTotal:0}),z=L.orders>0?L.grandTotal/L.orders:0,Y="",R=T=>{const I=new Date;let D=new Date;T==="today"?D.setHours(0,0,0,0):T==="week"?D.setDate(I.getDate()-I.getDay()):T==="month"&&D.setDate(1);const H=ne=>ne.toISOString().split("T")[0];r(H(D)),s(H(I)),e(!1)},C=()=>{!A.current.value||!v.current.value||(r(A.current.value),s(v.current.value),e(!1))},k=()=>{if(o.length===0)return;const T=()=>{const I=()=>{const{jsPDF:D}=window.jspdf,H=new D;H.text("Table-wise Sales Report",14,15),H.autoTable({startY:20,head:[["Table","Turnover","AOV","Top Items","Net Sales"]],body:o.map(ne=>[ne.name,ne.turnover,ne.aov.toFixed(2),ne.topItems,ne.grandTotal.toFixed(2)])}),H.save(`TableWiseSalesReport_${n}_to_${i}.pdf`)};if(window.jspdf.autoTable)I();else{const D=document.createElement("script");D.src="https://cdnjs.cloudflare.com/ajax/libs/jspdf-autotable/3.5.23/jspdf.plugin.autotable.min.js",D.onload=I,document.body.appendChild(D)}};if(window.jspdf)T();else{const I=document.createElement("script");I.src="https://cdnjs.cloudflare.com/ajax/libs/jspdf/2.5.1/jspdf.umd.min.js",I.onload=T,document.body.appendChild(I)}},M=()=>{if(o.length===0)return;const T=()=>{const I=window.XLSX.utils.book_new(),D=[["Table Name","Turnover","Avg. Order Value","Gross Sales","Discounts","Net Sales","Top Items"],...o.map(ne=>[ne.name,ne.turnover,ne.aov.toFixed(2),ne.total.toFixed(2),ne.discount.toFixed(2),ne.grandTotal.toFixed(2),ne.topItems])],H=window.XLSX.utils.aoa_to_sheet(D);window.XLSX.utils.book_append_sheet(I,H,"Table-wise Report"),window.XLSX.writeFile(I,`TableWiseSalesReport_${n}_to_${i}.xlsx`)};if(window.XLSX)T();else{const I=document.createElement("script");I.src="https://cdn.sheetjs.com/xlsx-latest/package/dist/xlsx.full.min.js",I.onload=T,document.body.appendChild(I)}};return t?p.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",children:p.jsxs("div",{className:"bg-white p-8 rounded-lg shadow-2xl w-full max-w-md animate-fade-in-up",children:[p.jsx("h2",{className:"text-2xl font-bold text-slate-800 mb-6 text-center",children:"Select Date Range"}),p.jsxs("div",{className:"flex justify-center gap-2 mb-4",children:[p.jsx("button",{onClick:()=>R("today"),className:"px-3 py-1 text-sm bg-slate-200 rounded-full hover:bg-slate-300",children:"Today"}),p.jsx("button",{onClick:()=>R("week"),className:"px-3 py-1 text-sm bg-slate-200 rounded-full hover:bg-slate-300",children:"This Week"}),p.jsx("button",{onClick:()=>R("month"),className:"px-3 py-1 text-sm bg-slate-200 rounded-full hover:bg-slate-300",children:"This Month"})]}),p.jsxs("div",{className:"space-y-4",children:[p.jsx("input",{ref:A,type:"date",className:"w-full border border-gray-300 rounded-md px-3 py-2"}),p.jsx("input",{ref:v,type:"date",className:"w-full border border-gray-300 rounded-md px-3 py-2"})]}),p.jsxs("button",{ref:_,onClick:C,className:"w-full mt-8 flex items-center justify-center gap-2 bg-indigo-600 text-white px-4 py-3 rounded-lg shadow-md hover:bg-indigo-700",children:[p.jsx(tH,{})," Generate Report"]})]})}):p.jsxs("div",{className:"p-4 sm:p-6 lg:p-8 bg-slate-50 min-h-screen",children:[p.jsxs("header",{className:"flex flex-col sm:flex-row justify-between items-start sm:items-center mb-6 gap-4",children:[p.jsxs("div",{children:[p.jsx("h1",{className:"text-3xl font-bold text-slate-800",children:"Advanced Table-wise Report"}),p.jsxs("p",{className:"text-sm text-slate-500 mt-1",children:["Results for: ",p.jsx("span",{className:"font-semibold",children:n})," to ",p.jsx("span",{className:"font-semibold",children:i})]})]}),p.jsxs("div",{className:"flex items-center gap-2 flex-wrap",children:[p.jsxs("button",{onClick:M,disabled:o.length===0,className:"flex items-center gap-2 bg-green-600 text-white px-4 py-2 rounded-lg shadow-md hover:bg-green-700 disabled:bg-gray-400",children:[p.jsx(Z$,{})," Excel"]}),p.jsxs("button",{onClick:k,disabled:o.length===0,className:"flex items-center gap-2 bg-rose-600 text-white px-4 py-2 rounded-lg shadow-md hover:bg-rose-700 disabled:bg-gray-400",children:[p.jsx(J$,{})," PDF"]})]})]}),p.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6 mb-6",children:[p.jsxs("div",{className:"bg-white p-5 rounded-lg shadow",children:[p.jsx("p",{className:"text-sm text-slate-500",children:"Total Revenue"}),p.jsxs("p",{className:"text-2xl font-bold text-slate-800",children:[Y,L.grandTotal.toFixed(2)]})]}),p.jsxs("div",{className:"bg-white p-5 rounded-lg shadow",children:[p.jsx("p",{className:"text-sm text-slate-500",children:"Total Turnovers"}),p.jsx("p",{className:"text-2xl font-bold text-slate-800",children:L.orders})]}),p.jsxs("div",{className:"bg-white p-5 rounded-lg shadow",children:[p.jsx("p",{className:"text-sm text-slate-500",children:"Overall AOV"}),p.jsxs("p",{className:"text-2xl font-bold text-slate-800",children:[Y,z.toFixed(2)]})]}),p.jsxs("div",{className:"bg-white p-5 rounded-lg shadow",children:[p.jsx("p",{className:"text-sm text-slate-500",children:"Active Tables"}),p.jsx("p",{className:"text-2xl font-bold text-slate-800",children:o.length})]})]}),o.length>0&&p.jsxs("div",{className:"bg-white p-4 rounded-lg shadow-lg mb-6",children:[p.jsxs("div",{className:"flex justify-end gap-2 mb-2",children:[p.jsx("button",{onClick:()=>m("bar"),className:`p-2 rounded-full ${g==="bar"?"bg-indigo-600 text-white":"bg-slate-200"}`,children:p.jsx(nH,{})}),p.jsx("button",{onClick:()=>m("pie"),className:`p-2 rounded-full ${g==="pie"?"bg-indigo-600 text-white":"bg-slate-200"}`,children:p.jsx(iH,{})})]}),p.jsx("div",{className:"h-96",children:p.jsx("canvas",{ref:b})})]}),p.jsx("div",{className:"overflow-x-auto bg-white rounded-lg shadow-lg",children:l?p.jsx("div",{className:"flex justify-center items-center py-20",children:p.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-indigo-600"})}):p.jsxs("table",{className:"min-w-full",children:[p.jsx("thead",{className:"bg-slate-100",children:p.jsx("tr",{children:["Table","Turnover","AOV","Top Items","Net Sales"].map(T=>p.jsx("th",{className:`px-6 py-3 text-xs font-bold text-slate-600 uppercase tracking-wider ${T.includes("Sales")||T.includes("AOV")?"text-right":"text-left"}`,children:T},T))})}),p.jsx("tbody",{className:"divide-y divide-gray-200",children:o.length>0?o.map(T=>p.jsxs("tr",{className:`${T.isBest?"bg-green-50":""} ${T.isWorst?"bg-red-50":""} hover:bg-indigo-50`,children:[p.jsxs("td",{className:"px-6 py-4 font-medium text-gray-800",children:[T.name,T.isBest&&p.jsxs("span",{className:"ml-2 text-xs text-green-600 font-bold flex items-center gap-1",children:[p.jsx(rH,{})," Best"]}),T.isWorst&&p.jsx("span",{className:"ml-2 text-xs text-red-600 font-bold",children:"Lowest"})]}),p.jsx("td",{className:"px-6 py-4 text-center",children:T.turnover}),p.jsxs("td",{className:"px-6 py-4 text-right",children:[Y,T.aov.toFixed(2)]}),p.jsx("td",{className:"px-6 py-4 text-sm text-slate-600",children:T.topItems}),p.jsxs("td",{className:"px-6 py-4 font-bold text-indigo-700 text-right",children:[Y,T.grandTotal.toFixed(2)]})]},T.name)):p.jsx("tr",{children:p.jsx("td",{colSpan:5,className:"text-center py-16",children:p.jsxs("div",{className:"flex flex-col items-center justify-center text-slate-500",children:[p.jsx(eH,{className:"w-16 h-16 mb-4"}),p.jsx("h3",{className:"text-xl font-semibold",children:"No Table Data Found"}),p.jsx("p",{className:"text-sm mt-1",children:"There were no sales records for any table in this date range."})]})})})})]})})]})},oH=()=>p.jsx("svg",{stroke:"currentColor",fill:"currentColor",strokeWidth:"0",viewBox:"0 0 576 512",height:"1em",width:"1em",xmlns:"http://www.w3.org/2000/svg",children:p.jsx("path",{d:"M528 224H48.8c-10.7 0-20.8 5.1-26.9 13.2L0 273.4V464c0 26.5 21.5 48 48 48h480c26.5 0 48-21.5 48-48V273.4l-21.9-36.2c-6-8.1-16.1-13.2-26.9-13.2zM48 352h160v64H48v-64zm192 0h160v64H240v-64zm336-48.4l19.2 31.8-19.2 31.8V303.6zM48 0h480c26.5 0 48 21.5 48 48v80H0V48C0 21.5 21.5 0 48 0z"})}),aH=()=>p.jsx("svg",{stroke:"currentColor",fill:"currentColor",strokeWidth:"0",viewBox:"0 0 448 512",height:"1em",width:"1em",xmlns:"http://www.w3.org/2000/svg",children:p.jsx("path",{d:"M424.4 214.7L72.4 6.6C43.8-10.3 0 6.1 0 47.9V464c0 37.5 40.7 60.1 72.4 41.3l352-208c31.4-18.5 31.5-64.1 0-82.6z"})}),lH=()=>{const[t,e]=G.useState(!0),[n,r]=G.useState(""),[i,s]=G.useState(""),[o,a]=G.useState([]),[l,u]=G.useState(!1),[c,d]=G.useState(null),g=G.useRef(null),m=G.useRef(null),b=G.useRef(null),x=G.useRef(null),A=G.useRef(null),v=L=>{const z=L.reduce((R,C)=>{const k=C.paymentMode||"Unspecified";return R[k]||(R[k]={count:0,total:0}),R[k].count+=1,R[k].total+=C.grandTotal||0,R},{}),Y=Object.values(z).reduce((R,C)=>R+C.total,0);return Object.keys(z).map(R=>({name:R,count:z[R].count,total:z[R].total,percentage:Y>0?z[R].total/Y*100:0})).sort((R,C)=>C.total-R.total)};G.useEffect(()=>{(async()=>{if(n&&i){u(!0);try{const z=await sa();d(z||{});const Y=await Cf(new Date(n),new Date(i));a(v(Y))}catch(z){console.error("Error processing payment mode report:",z)}u(!1)}})()},[n,i]),G.useEffect(()=>{const L=()=>{m.current&&m.current.destroy();const z=g.current.getContext("2d"),Y=o.map(C=>C.name),R=o.map(C=>C.total);m.current=new window.Chart(z,{type:"pie",data:{labels:Y,datasets:[{label:"Sales by Payment Mode",data:R,backgroundColor:["#4BC0C0","#FF6384","#FFCE56","#36A2EB","#9966FF"],borderColor:"#fff"}]},options:{responsive:!0,maintainAspectRatio:!1}})};if(o.length>0&&g.current)if(window.Chart)L();else{const z=document.createElement("script");z.src="https://cdn.jsdelivr.net/npm/chart.js",z.onload=L,document.body.appendChild(z)}},[o]);const _=o.reduce((L,z)=>(L.count+=z.count,L.total+=z.total,L),{count:0,total:0}),E=()=>{!b.current.value||!x.current.value||(r(b.current.value),s(x.current.value),e(!1))};return t?p.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",children:p.jsxs("div",{className:"bg-white p-8 rounded-lg shadow-2xl w-full max-w-md animate-fade-in-up",children:[p.jsx("h2",{className:"text-2xl font-bold text-slate-800 mb-6 text-center",children:"Select Date Range"}),p.jsxs("div",{className:"space-y-4",children:[p.jsx("input",{ref:b,type:"date",className:"w-full border p-2 rounded-md"}),p.jsx("input",{ref:x,type:"date",className:"w-full border p-2 rounded-md"})]}),p.jsxs("button",{ref:A,onClick:E,className:"w-full mt-8 flex items-center justify-center gap-2 bg-indigo-600 text-white py-3 rounded-lg shadow-md hover:bg-indigo-700",children:[p.jsx(aH,{})," Generate Report"]})]})}):p.jsxs("div",{className:"p-4 sm:p-6 lg:p-8 bg-slate-50 min-h-screen",children:[p.jsx("header",{className:"flex flex-col sm:flex-row justify-between items-center mb-6",children:p.jsxs("div",{children:[p.jsx("h1",{className:"text-3xl font-bold text-slate-800",children:"Payment Mode Report"}),p.jsxs("p",{className:"text-sm text-slate-500 mt-1",children:["Results for: ",p.jsx("span",{className:"font-semibold",children:n})," to ",p.jsx("span",{className:"font-semibold",children:i})]})]})}),p.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6 mb-6",children:[p.jsxs("div",{className:"bg-white p-5 rounded-lg shadow",children:[p.jsx("p",{className:"text-sm text-slate-500",children:"Total Revenue"}),p.jsx("p",{className:"text-2xl font-bold text-slate-800",children:_.total.toFixed(2)})]}),p.jsxs("div",{className:"bg-white p-5 rounded-lg shadow",children:[p.jsx("p",{className:"text-sm text-slate-500",children:"Total Transactions"}),p.jsx("p",{className:"text-2xl font-bold text-slate-800",children:_.count})]})]}),p.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-5 gap-6",children:[p.jsx("div",{className:"lg:col-span-3 bg-white rounded-lg shadow-lg overflow-hidden",children:l?p.jsx("div",{className:"flex justify-center items-center py-20",children:p.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-indigo-600"})}):p.jsxs("table",{className:"min-w-full",children:[p.jsx("thead",{className:"bg-slate-100",children:p.jsx("tr",{children:["Payment Mode","Transactions","% of Total","Total Amount"].map(L=>p.jsx("th",{className:`px-6 py-3 text-xs font-bold text-slate-600 uppercase tracking-wider ${L.includes("Amount")||L==="Transactions"?"text-right":"text-left"}`,children:L},L))})}),p.jsx("tbody",{className:"divide-y divide-gray-200",children:o.length>0?o.map(L=>p.jsxs("tr",{className:"hover:bg-indigo-50",children:[p.jsx("td",{className:"px-6 py-4 font-medium text-gray-800",children:L.name}),p.jsx("td",{className:"px-6 py-4 text-right",children:L.count}),p.jsxs("td",{className:"px-6 py-4 text-right",children:[L.percentage.toFixed(2),"%"]}),p.jsx("td",{className:"px-6 py-4 font-bold text-indigo-700 text-right",children:L.total.toFixed(2)})]},L.name)):p.jsx("tr",{children:p.jsxs("td",{colSpan:4,className:"text-center py-16 text-slate-500",children:[p.jsx(oH,{className:"w-16 h-16 mx-auto mb-4"}),p.jsx("h3",{className:"text-xl font-semibold",children:"No Data Found"})]})})})]})}),p.jsxs("div",{className:"lg:col-span-2 bg-white p-4 rounded-lg shadow-lg",children:[p.jsx("h3",{className:"font-bold text-lg text-slate-700 mb-4",children:"Sales Distribution"}),o.length>0?p.jsx("div",{className:"h-80",children:p.jsx("canvas",{ref:g})}):p.jsx("p",{className:"text-center text-slate-500 pt-16",children:"No data to display chart."})]})]})]})},uH=()=>p.jsxs(p.Fragment,{children:[p.jsx(vI,{}),p.jsxs("div",{className:"flex min-h-screen",children:[p.jsx(yI,{}),p.jsx("main",{className:"flex-1 p-4 bg-gray-100 overflow-y-auto",children:p.jsxs(R7,{children:[p.jsx(Ni,{path:"/",element:p.jsx(QV,{})}),p.jsx(Ni,{path:"/order",element:p.jsx(ZV,{})}),p.jsx(Ni,{path:"/menu",element:p.jsx(tB,{})}),p.jsx(Ni,{path:"/staff",element:p.jsx(oB,{})}),p.jsx(Ni,{path:"/kitchen",element:p.jsx(cB,{})}),p.jsx(Ni,{path:"/billing",element:p.jsx(SB,{})}),p.jsx(Ni,{path:"/reports",element:p.jsx(uU,{})}),p.jsx(Ni,{path:"/reports/sales",element:p.jsx(O$,{})}),p.jsx(Ni,{path:"/reports/sales-and-revenue",element:p.jsx(B$,{})}),p.jsx(Ni,{path:"/reports/item-wise-sales",element:p.jsx(X$,{})}),p.jsx(Ni,{path:"/reports/table-wise-sales",element:p.jsx(sH,{})}),p.jsx(Ni,{path:"/reports/payment-mode",element:p.jsx(lH,{})}),p.jsx(Ni,{path:"/settings",element:p.jsx(WB,{})})]})})]})]});o1.createRoot(document.getElementById("root")).render(p.jsx(Zt.StrictMode,{children:p.jsx(U7,{children:p.jsx(uH,{})})}));export{an as _,hH as c,yC as g};
